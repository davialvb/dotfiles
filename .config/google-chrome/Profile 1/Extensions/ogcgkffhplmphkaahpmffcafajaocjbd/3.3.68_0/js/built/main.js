(()=>{var __webpack_modules__={5780:(e,t,n)=>{"use strict";var s={};n.r(s),n.d(s,{assertDefined:()=>pe,assertEqual:()=>de,assertTrue:()=>ue,debug:()=>ce,error:()=>oe,info:()=>re,log:()=>se,logAllP:()=>fe,logEnd:()=>Ee,logP:()=>ge,logPromiseFail:()=>me,logStart:()=>he,untrackedError:()=>ae,warn:()=>le});var r={};n.r(r),n.d(r,{CacheKey:()=>Me,LOCAL_STORAGE_DISTINCT_USER_TRACKING_ID:()=>Ce,LOCAL_STORAGE_RECENT_REPOS:()=>Te,LOCAL_STORAGE_RECENT_WORKSPACES:()=>ke,LOCAL_STORAGE_ROADMAP_GLOBAL_PREFERENCES:()=>Ae,LOCAL_STORAGE_ROADMAP_ORGANIZATION_PREFERENCES:()=>Le,LOCAL_STORAGE_ROADMAP_WORKSPACES_PREFERENCES:()=>De,LOCAL_STORAGE_SIDEBAR_STATE:()=>Oe,LOCAL_STORAGE_WAS_USING_MOUSE:()=>ze,LOCAL_STORAGE_ZH_REMOTE_INJECTORS:()=>Pe,SESSION_STORAGE_KEY:()=>Ne,loadCache:()=>He,registerCache:()=>We});var i={};n.r(i),n.d(i,{LOAD_ERRORS:()=>hn,LOAD_STATUSES:()=>mn,areAllWorkspaceFilterLabelsApplied:()=>fn,containSameIssues:()=>pn,getCreationDate:()=>dn,getIssueInfo:()=>ln,getIssueOptions:()=>cn,getIssuePath:()=>an,getRepoName:()=>sn,hasPriority:()=>en,isClosed:()=>Yt,isClosedOrMerged:()=>Xt,isClosedOrMergedPullRequest:()=>nn,isEpic:()=>rn,isHashLink:()=>_n,isLabelUsedAsWorkspaceFilter:()=>gn,isLoadError:()=>En,isMerged:()=>Jt,isOpen:()=>Zt,isOpenPullRequest:()=>tn,isPullRequest:()=>Qt,isSameIssue:()=>$t,make:()=>un,useAverageEstimate:()=>on});var o={};n.r(o),n.d(o,{NO_MILESTONE_KEY:()=>Ul,NO_MILESTONE_TITLE:()=>Fl,addMilestoneKey:()=>Zl,combineMilestoneRepos:()=>Jl,createMilestoneErrorToast:()=>rc,createMilestoneUpdateToast:()=>sc,getCreateMilestoneWarning:()=>tc,getEditMilestoneWarning:()=>nc,getMilestoneKey:()=>Vl,getMilestoneWithRepoKey:()=>$l,groupByMilestoneKey:()=>Yl,organizationFromMilestoneUrl:()=>Xl,repositoryFromMilestoneUrl:()=>Ql,sortMilestones:()=>Kl});var a={};n.r(a),n.d(a,{EventTypes:()=>Bc,NO_RELEASE_KEY:()=>bc,NO_RELEASE_TITLE:()=>Ic,RELEASE_COMPLETED_EVENTS:()=>yc,ReportStates:()=>Uc,ScopeChangeEventTypes:()=>qc,createDate:()=>Rc,createReleaseErrorToast:()=>Qc,createReleaseUpdateToast:()=>Xc,dot:()=>xc,formatWorkspace:()=>jc,formatZenHubRepo:()=>Wc,getClosedAtDate:()=>Cc,getDefaultRelease:()=>Dc,getDesiredEndDate:()=>Tc,getIndexedIssuesReleases:()=>Hc,getOpenAndClosedReleases:()=>Jc,getReleaseKey:()=>Sc,getReleaseToLoad:()=>Lc,getSelectedReleases:()=>zc,isOpen:()=>wc,regressionCoefficients:()=>Fc,sortByClosedAtDateDesc:()=>Pc,sortByDesiredEndDateAsc:()=>Nc,sortOpenReleasesByProximity:()=>Gc});var l={};n.r(l),n.d(l,{NO_LABEL_ITEM:()=>nd,NO_LABEL_KEY:()=>td,NO_LABEL_TITLE:()=>ed,getLabelFilterKey:()=>sd,parseLabelsByRepoIds:()=>rd});var c={};n.r(c),n.d(c,{assignees:()=>jv,authors:()=>qv,dependencies:()=>Yv,epics:()=>Fv,estimates:()=>Hv,filterLogic:()=>xv,filters:()=>Lv,isFilterActive:()=>Mv,labels:()=>Wv,milestones:()=>Uv,releases:()=>Zv,repos:()=>Gv,search:()=>$v,showOpenIssues:()=>Vv,showPRs:()=>Kv,sprints:()=>Bv});var d={};n.r(d),n.d(d,{buyMoreLicenses:()=>DR,buyMoreLicensesDisplayed:()=>AR,loadAccountData:()=>NR,requestLicense:()=>zR,requestLicenseDisplayed:()=>PR,selectGrowthPlan:()=>LR,setAccessData:()=>kR,setOrgAdminList:()=>OR,trackUpgradeToGrowthClicked:()=>xR,trackUpgradeToGrowthViewed:()=>MR});var u={};n.r(u),n.d(u,{addFilterKeys:()=>eC,cleanSelectionStatus:()=>XT,computeAllAdditions:()=>oC,computeAllRemovals:()=>aC,fetchGHUpdatesAndNotify:()=>hC,getIssuesWithFailure:()=>uC,getRepoIdsFromIssues:()=>lC,getResponsesFromPromiseInspection:()=>cC,indexItemsByFilterKey:()=>rC,indexReposByFilterKey:()=>iC,keysWithoutFalsyValues:()=>sC,removeDuplicateItems:()=>tC,selectMultiples:()=>VT,selectSingle:()=>nC,sortMultiAssigneeItems:()=>QT,sortMultiSelectionItems:()=>JT,triggerCheckUpdate:()=>pC,waitZHUpdatesAndNotify:()=>EC});var p={};n.r(p),n.d(p,{applyLabels:()=>AC,computeToAdd:()=>RC,computeToCreate:()=>CC,computeToRemove:()=>TC,getLabelItems:()=>IC});var m={};n.r(m),n.d(m,{addSearchString:()=>lk,applyAssignees:()=>gk,computeToAdd:()=>dk,computeToRemove:()=>uk,getAssigneeItems:()=>ck});var h={};n.r(h),n.d(h,{applyMilestone:()=>Vk,computeToAdd:()=>Bk,computeToCreate:()=>Hk,getMilestoneItems:()=>Uk,invalidSetMilestone:()=>Kk,removeMilestone:()=>Zk});var E={};n.r(E),n.d(E,{applyEpicToMultipleIssues:()=>XO,computeToAddMulti:()=>jO,computeToRemoveMulti:()=>GO,getEpicItemsMulti:()=>qO,getEpicItemsSingle:()=>$O,updateMultipleEpicsForIssue:()=>VO});var g={};n.r(g),n.d(g,{applyPipeline:()=>lN,getPipelineItems:()=>aN});var f={};n.r(f),n.d(f,{applyEstimate:()=>hN,clearEstimateItem:()=>pN,getEstimateItems:()=>mN});var _={};n.r(_),n.d(_,{applyReleases:()=>ON,getReleaseItems:()=>RN});var v={};n.r(v),n.d(v,{addAllIssuesToSelection:()=>SM,addAssigneeFilter:()=>jL,addAssigneeMultiAction:()=>DM,addAuthorFilter:()=>VL,addDependenciesFilter:()=>iz,addEpicFilters:()=>XL,addEpicMultiAction:()=>qM,addEstimateFilter:()=>qL,addIssueToSelection:()=>_M,addIssuesToSelection:()=>wM,addLabelFilter:()=>FL,addLabelMultiAction:()=>CM,addMilestoneFilter:()=>AL,addMoreClosedIssues:()=>vL,addPipeline:()=>pz,addReleaseFilter:()=>tz,addReleaseMultiAction:()=>XM,addRepoFilter:()=>YL,addSprintFilter:()=>zL,applyAssigneeMultiAction:()=>MM,applyEpicMultiAction:()=>jM,applyEstimateMultiAction:()=>JM,applyLabelMultiAction:()=>NM,applyMilestoneMultiAction:()=>UM,applyPipelineMultiAction:()=>$M,applyPrioritiesMultiAction:()=>AM,applyReleaseMultiAction:()=>ix,checkAndAddDependenciesFilter:()=>az,clearAssigneeFilter:()=>KL,clearAuthorFilter:()=>ZL,clearBoard:()=>cL,clearChangesMultiAction:()=>yM,clearDependenciesFilter:()=>lz,clearEpicFilter:()=>ez,clearEstimateFilter:()=>WL,clearIssuesFromSelection:()=>bM,clearLabelFilter:()=>BL,clearMilestoneFilter:()=>LL,clearPipelineSorting:()=>_z,clearReleaseFilter:()=>sz,clearSearchFilter:()=>dz,clearSprintFilter:()=>xL,clearTagFilters:()=>PL,closeExtensionNewIssueModal:()=>nx,closeFullscreenModal:()=>lM,closeIssue:()=>Sz,deleteIssue:()=>mL,dependenciesTreeLoaded:()=>rz,enterSelectionMode:()=>gM,exitSelectionMode:()=>fM,fetchIssueDependencies:()=>Cz,hideAddPipeline:()=>vz,hideClosedPipeline:()=>qz,hideDependencies:()=>sM,hideEpics:()=>Qz,hideEstimates:()=>Zz,hideFullScreen:()=>xz,hideInsights:()=>dM,hideLabels:()=>Vz,hideMilestones:()=>Jz,hideOpenIssues:()=>Wz,hidePipelineDescriptions:()=>mM,hidePullRequests:()=>Gz,hideReleases:()=>tM,hideReviewers:()=>iM,leaveBoard:()=>Uz,loadBoardData:()=>oL,loadFullDependenciesTree:()=>oz,loadMoreClosedIssues:()=>IL,loadOnboardingValue:()=>lL,loadRepoAndAddToFilter:()=>Pz,loadReposAndShowAll:()=>Lz,notifyEpicMultiActionApplied:()=>WM,notifyEstimateMultiActionApplied:()=>YM,notifyMultiActionApplyError:()=>TM,notifyPipelineMultiActionApplied:()=>VM,notifyReleaseMultiActionApplied:()=>ex,openBoardItem:()=>TL,openCreateMenu:()=>bL,openExtensionNewIssueModal:()=>tx,openFullscreenModal:()=>aM,openNewIssue:()=>CL,pipelineOnDelete:()=>hz,pipelineOnEdit:()=>mz,pipelineOnSetWidth:()=>uz,pipelineToDelete:()=>Ez,quickAddIssue:()=>uL,quickAddIssueThunk:()=>pL,removeAssigneeFilter:()=>GL,removeAssigneeMultiAction:()=>LM,removeAuthorFilter:()=>$L,removeEpicFilters:()=>QL,removeEpicMultiAction:()=>HM,removeEstimateFilter:()=>HL,removeIssueFromSelection:()=>vM,removeIssuePriority:()=>Oz,removeIssuesFromSelection:()=>RM,removeLabelFilter:()=>UL,removeLabelMultiAction:()=>kM,removeMilestoneFilter:()=>DL,removeMilestoneMultiAction:()=>BM,removeReleaseFilter:()=>nz,removeReleaseMultiAction:()=>QM,removeRepoFilter:()=>JL,removeSprintFilter:()=>ML,reopenIssue:()=>yz,reorderPipeline:()=>gz,replaceIssuesInSelection:()=>IM,repoLoaded:()=>Nz,reposLoaded:()=>Az,selectIssue:()=>EM,setEstimateMultiAction:()=>ZM,setIssueHighPriority:()=>kz,setMilestoneMultiAction:()=>xM,setPipelineDirectionMultiAction:()=>KM,setPipelineMultiAction:()=>GM,setPipelineSorting:()=>fz,setSearchFilter:()=>cz,setUseDefaultFilter:()=>rx,setWorkspaceLabelFilters:()=>hM,showAddPipeline:()=>Iz,showAllRepos:()=>Dz,showClosedPipeline:()=>Bz,showDependencies:()=>nM,showEpics:()=>Xz,showEstimates:()=>$z,showFullScreen:()=>Mz,showInsights:()=>cM,showLabels:()=>Kz,showMilestones:()=>Yz,showOneRepo:()=>zz,showOpenIssues:()=>Hz,showPipelineDescriptions:()=>pM,showPullRequests:()=>jz,showReleases:()=>eM,showReviewers:()=>rM,toggleDropdown:()=>oM,toggleExpandedFilters:()=>uM,toggleFilterLogic:()=>sx,toggleFullScreen:()=>Fz,toggleIssueCardOptions:()=>RL,toggleQuickIssueCreator:()=>ox,trackBoardOnboarding:()=>aL,trackMenuOpenNewEpic:()=>NL,trackMenuOpenNewIssue:()=>OL,trackOpenCreatePipelineForm:()=>wL,trackOpenMilestoneModal:()=>yL,trackOpenNewIssue:()=>kL,trackOpenReleaseModal:()=>SL,transferIssue:()=>wz,transferIssueSuccess:()=>bz,updateBoard:()=>hL,updateConnectionState:()=>fL,updateIssueAssignees:()=>zM,updateIssueLabels:()=>OM,updateIssueMilestone:()=>FM,updateIssues:()=>dL,updateLoadMoreClosedIssuesState:()=>_L,updateLoadState:()=>EL,updateLoadStateToNotLoadedAction:()=>gL});var I={};n.r(I),n.d(I,{initIssuePage:()=>PU,loadEpicData:()=>wU,loadIssueAllData:()=>NU,loadZhId:()=>SU});var b={};n.r(b),n.d(b,{addComment:()=>BU,applyReleases:()=>bq,assignSelf:()=>pq,changeIssueType:()=>QB,clearDraft:()=>qU,clearDraftTitle:()=>HU,clearIssue:()=>WU,convertEpicToIssue:()=>cq,convertIssueToEpic:()=>lq,createComment:()=>yq,deleteComment:()=>Cq,fetchPipelinesByWorkspaces:()=>eq,initDraft:()=>jU,initNewIssuePage:()=>DF,loadGhEvents:()=>GU,loadIsEpic:()=>KU,loadIssueEstimateData:()=>aq,loadIssueReleases:()=>VU,loadPipelines:()=>tq,loadPipelinesForIssue:()=>nq,loadRepoEstimateData:()=>$U,loadTemplate:()=>RF,loadZhEvents:()=>rq,removeIssuePriority:()=>ZU,selectBestRepoAndOpenNewIssue:()=>sq,setActivePipeline:()=>YU,setAssignees:()=>JU,setChildrenIssues:()=>XU,setDefaultPRPipeline:()=>QU,setEpicToIssue:()=>eB,setEstimate:()=>tB,setIncompleteIssueInfo:()=>nB,setIsEpic:()=>sB,setIssueLoadError:()=>rB,setIssueLoadStatus:()=>iB,setIssuePriority:()=>oB,setIssueReleases:()=>aB,setIssueTemplateDirty:()=>lB,setIssueType:()=>cB,setIssueWorkspaceAndRepoId:()=>dB,setLabels:()=>uB,setMilestone:()=>pB,setNewIssueData:()=>mB,setNewIssueMode:()=>hB,setParentEpics:()=>EB,setPipelines:()=>gB,setPipelinesByWorkspace:()=>fB,setRepoId:()=>_B,setState:()=>vB,setStateClosed:()=>YB,setStateOpen:()=>JB,setZhIssueId:()=>IB,sidebarAddAssignee:()=>bB,sidebarAddEpic:()=>yB,sidebarAddLabel:()=>SB,sidebarAddRelease:()=>wB,sidebarAddSprint:()=>RB,sidebarApplyAssignees:()=>uq,sidebarApplyEpics:()=>hq,sidebarApplyEstimate:()=>gq,sidebarApplyLabels:()=>dq,sidebarApplyMilestone:()=>mq,sidebarApplyPipeline:()=>Eq,sidebarApplyPriority:()=>Oq,sidebarClearAssignees:()=>TB,sidebarClearChanges:()=>CB,sidebarClearEstimate:()=>fq,sidebarClearLabels:()=>kB,sidebarCreateAndApplyEstimate:()=>Iq,sidebarCreateAndSetEstimate:()=>vq,sidebarDeleteEstimate:()=>_q,sidebarDeleteEstimateInNewIssue:()=>XB,sidebarRemoveAssignee:()=>OB,sidebarRemoveEpic:()=>NB,sidebarRemoveFilterDependentLabel:()=>PB,sidebarRemoveLabel:()=>AB,sidebarRemoveRelease:()=>DB,sidebarRemoveSprint:()=>LB,sidebarRestoreFilterDependentLabels:()=>zB,sidebarSetEstimate:()=>MB,sidebarSetMilestone:()=>xB,sidebarSetPipeline:()=>FB,sidebarSetPriority:()=>UB,toggleDropdown:()=>BB,toggleIssueState:()=>Rq,toggleSidebar:()=>qB,toggleStateAndComment:()=>Tq,toggleTemplateDropdown:()=>HB,trackCreateNewEpic:()=>WB,trackSubmitNewIssue:()=>jB,trackTemplatesCount:()=>GB,updateDefaultPRPipeline:()=>iq,updateDraft:()=>KB,updateIssue:()=>Aq,updateIssueGhData:()=>VB,updateIssueInfo:()=>$B,updateIssueZhData:()=>ZB,uploadFile:()=>wq});var y={};n.r(y),n.d(y,{goTo:()=>Mq,modalRestoreUrl:()=>tH,openDashboardManage:()=>nH,openDashboardManageCheckout:()=>sH,openDashboardOrg:()=>qq,openInNewTab:()=>xq,openIssue:()=>Zq,openIssueInNewTab:()=>Jq,openLocation:()=>Fq,openLogin:()=>Uq,openLogout:()=>Bq,openNewIssue:()=>Yq,openNewIssueInNewTab:()=>Xq,openNewIssueViewer:()=>eH,openNewIssueViewerWebapp:()=>Qq,openPlatformEpicFlyover:()=>Vq,openPlatformEpicInNewTab:()=>$q,openProjectFlyover:()=>Kq,openRepo:()=>Hq,openWorkspace:()=>Gq,openWorkspaceBoard:()=>Wq,openWorkspaceRoadmap:()=>jq,replace:()=>iR.gx});var S={};n.r(S),n.d(S,{addPendingUsers:()=>fH,addWebhook:()=>$H,addWebhookOAuth:()=>ZH,addWebhookPending:()=>EH,assignLicense:()=>SW,assignMultipleUsers:()=>yW,billingHide:()=>XH,billingShow:()=>QH,billingShowUpdateCreditCard:()=>eW,buyAddLicenses:()=>sW,buyGrowth:()=>iW,buyUpgradeToAnnual:()=>rW,cancelSubscription:()=>lW,cleanCheckout:()=>BH,clearInvoices:()=>qH,deleteAccountConfirm:()=>oW,getProfile:()=>cW,getReferralCode:()=>CW,loadAccount:()=>dW,loadAccountAndUsers:()=>uW,loadInvoices:()=>pW,loadReposAndWebhooks:()=>VH,loadUserReposAndWebhooks:()=>mW,loadUsers:()=>tW,makeAdmin:()=>RW,openCheckoutUpgradeToGrowthWithUsers:()=>bW,openManageCheckout:()=>YH,openManageWithoutCheckout:()=>JH,processPaymentState:()=>IH,removeAdmin:()=>TW,removeLicenses:()=>EW,removePendingUser:()=>_H,removeWebhook:()=>hW,resetBilling:()=>UH,resetReposAndWebhoooks:()=>bH,selectOrganization:()=>yH,setAdditionalLicenses:()=>SH,setBillingError:()=>RH,setBillingPlan:()=>TH,setBillingReferral:()=>CH,setCheckoutError:()=>NH,setCheckoutSuccessMsg:()=>DH,setCheckoutType:()=>PH,setDashboardAccount:()=>kH,setDashboardInvoices:()=>LH,setIntegrationError:()=>zH,setIsSelectedPlanIntervalYear:()=>wH,setOrgLoadingError:()=>OH,setPaymentProcessingState:()=>AH,setPendingUsers:()=>vH,setRepoForSlack:()=>MH,setRepoForSlackAndClearError:()=>gW,setReposAndWebhooks:()=>xH,setUsers:()=>FH,trackAddLicenses:()=>jH,trackCancelSubscription:()=>aW,trackDeleteProfileConfirm:()=>WH,trackRemoveLicenses:()=>GH,trackShowDeleteAccount:()=>HH,trackUpgradeToAnnual:()=>KH,unassignLicense:()=>wW,updateBillingCardFromAccountDetails:()=>vW,updateBillingCardFromBilling:()=>IW,updateBillingEmail:()=>fW,updateBillingInfo:()=>_W,updateReposAndWebhooks:()=>gH});var w={};n.r(w),n.d(w,{clearReports:()=>hG,initializeDataFromUrl:()=>gG,urlDataIsInitialized:()=>EG});var R={};n.r(R),n.d(R,{changeDefaultRepo:()=>_K,clearError:()=>QG,clearWorkspace:()=>eK,closeFullscreenModal:()=>uK,openFullscreenModal:()=>dK,openWorkspacePage:()=>gK,setFlyoverEntityId:()=>pK,setIsFavoriteRepo:()=>oK,setIsFavoriteWorkspace:()=>aK,setOnboardingPlatform:()=>iK,setReloadWorkspaceOrderFromLocal:()=>nK,setReloadWorkspaceOrderFromSocket:()=>sK,setReloadWorkspaceOrderIgnoreSocket:()=>rK,setSkipModalRestoreUrl:()=>lK,setWorkspaceAndDefaultRepoId:()=>JG,setWorkspaceImportState:()=>hK,setWorkspaceLoadError:()=>cK,updateCurrentWorkspace:()=>tK});var T={};n.r(T),n.d(T,{addFavoriteRepo:()=>nV,addFavoriteWorkspace:()=>rV,addFavoriteWorkspaceToStore:()=>WK,addRepoToSearchFilter:()=>UK,addToRecentRepos:()=>aV,clearOrganization:()=>PK,clearRepoSearchFilter:()=>xK,clearSearch:()=>zK,close:()=>XK,closeSwitcher:()=>OK,deleteFavoriteRepo:()=>sV,deleteFavoriteWorkspace:()=>iV,deleteFavoriteWorkspaceFromStore:()=>jK,loadFavoriteRepos:()=>eV,loadFavoriteWorkspaces:()=>tV,loadRecentRepos:()=>oV,navigateToWorkspaceFromRepo:()=>lV,open:()=>kK,removeRepoFromSearchFilter:()=>BK,searchPrivateRepos:()=>dV,searchPublicRepos:()=>uV,searchReposAndWorkspaces:()=>cV,selectOrganization:()=>NK,setActiveView:()=>AK,setFavoriteRepos:()=>qK,setFavoriteWorkspaces:()=>HK,setLoadingRepo:()=>QK,setRecentRepos:()=>GK,setRecentWorkspaces:()=>KK,setReposLoaded:()=>MK,setSearchResults:()=>DK,setSearchTerm:()=>FK,setSeeMoreFavoriteWorkspaces:()=>VK,startSearch:()=>LK,trackCreateNewWorkspaceButton:()=>JK,trackFrequentlyVisitedItem:()=>$K,trackRecentRepoItem:()=>YK,trackSearchedItem:()=>ZK});var C={};n.r(C),n.d(C,{DEFAULT:()=>DV,OPEN_SOURCE:()=>MV,PRIVATE_REPOS:()=>zV,SEARCH:()=>LV});var k={};n.r(k),n.d(k,{deleteUser:()=>x2,getApiToken:()=>t3,getCachedCurrentUserInfo:()=>H2,getMeta:()=>K2,getMyOrgEvents:()=>Q2,getMyOrgs:()=>j2,getMyOrgsCached:()=>G2,getMyPrivateCollaboratorRepos:()=>e3,getMyRepos:()=>$2,getMyReposByPage:()=>Z2,getMySubscriptions:()=>Y2,getRepos:()=>V2,getReposAndWebhooks:()=>n3,getUser:()=>F2,resetCurrentUserInfoCache:()=>B2,sendInvites:()=>J2,sendZHOrgInvites:()=>X2,setUserSetting:()=>W2});var O={};n.r(O),n.d(O,{DARKMODE_STORAGE_VALUE:()=>c3,LIGHTMODE_STORAGE_VALUE:()=>d3});var N={};n.r(N),n.d(N,{bindShortcut:()=>m8,shortcutsConstants:()=>E8,unbindShortcut:()=>h8});var P={};n.r(P),n.d(P,{activeMilestoneForm:()=>$Ee,isMilestoneModalOpenSelector:()=>XEe,isRepoDropdownOpen:()=>ZEe,milestoneDraftProperties:()=>JEe,milestones:()=>YEe});var A=n(4669),D=n(28907),L=n(30707);const z=window.BrowserAPI,{isDev:M,isEnterprise:x}=L.Z,F="extension"===z.support,U="webapp"===z.support,B=-1!==navigator.userAgent.indexOf("Chrome"),q=-1!==navigator.userAgent.indexOf("Firefox");var H=n(64640),W=n(17084),j=n(10301);const G="chrome"===z.browser;function K(e,t){return Object.defineProperty(e,t,{writable:!0})}function V(e,t){return Object.defineProperty(e,t,{writable:!1})}function $(e){return!!G&&(!e||!e.startsWith(`${L.Z.hostURL}/socket.io`)&&(!/upload\/images$/.test(e)&&(!/upload\/files$/.test(e)&&!/file\/upload$/.test(e))))}function Z(e){const t=e.trim().split(/[\r\n]+/),n={};return t.forEach((e=>{const t=e.split(": "),s=t.shift(),r=t.join(": ");n[s]=r})),n}var Y=n(86083),J=n.n(Y);const X={pages:{},isReady(){return Boolean(this.pages.zenhub)},replacePage(e){X.page&&X.page.destroy&&X.page.destroy(),X.page=e},reset(){X.trigger("reset")}};j.ZP.extend(X,J().Events);const Q=X;var ee=n(63535);const te=()=>console&&L.Z.isDev,ne=()=>L.Z.verboseLogs,se=function(){te()&&ne()&&console.log(...arguments)},re=function(){te()&&ne()&&console.info(...arguments)},ie=function(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];let i=s;return i&&0!==i.length||(i=[new Error]),e?console.error(t,...i):console.log(t,...i)},oe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];ie(!0,e,...n)},ae=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];ie(!1,e,...n)},le=function(){console.warn(...arguments)},ce=function(){te()&&ne()&&console.debug(...arguments)},de=(e,t,n)=>{if(e!==t){const s=`${e} !== ${t}`;throw new Error(n||s)}},ue=(e,t)=>de(Boolean(e),!0,t),pe=(e,t)=>ue(!j.ZP.isUndefined(e),t),me=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{oe(t.concat(e))}},he=e=>{ce(`${e} start`);return{message:e,start:(new Date).valueOf()}},Ee=e=>{if(!e||!e.start)throw new Error("Read Logger.js to know how to use logEnd");const t=(new Date).valueOf()-e.start;ce(`${t}ms`,`${e.message} end`)},ge=(e,t)=>(t.then((()=>{}),(t=>("auth:error:not_authed"===t&&re(`<- ${e} not authed`),t))),t),fe=(e,t)=>ee.u4g(((n,s)=>(ee.r3W(s,t)?n[s]=e[s]:n[s]=function(){const t=e[s](...arguments);return ge(s,t)},n)),{},ee.XPQ(e));var _e=n(53690),ve=n.n(_e);let Ie,be,ye,Se,we=null;const Re="ZHCacheManagerSessionStorage",Te="ZhRecentRepositoriesCache",Ce="ZhDistinctUserTrackingId",ke="ZhRecentWorkspacesCache",Oe="ZhSidebarCollapsed",Ne=Re,Pe="ZhRemoteInjectors",Ae="ZhRoadmapGlobalPreferences",De="ZhRoadmapWorkspacesPreferences",Le="ZhRoadmapOrganizationsPreferences",ze="ZhWasUsingMouse",Me={CacheKeyMyOrgs:"myOrganizations",CacheKeyRepoInfo:"repoInfo",CacheKeyLastActiveSession:"lastActiveSession",CacheKeyGHLastActiveSession:"GHlastActiveSession",CacheKeyZHLastActiveSession:"ZHlastActiveSession",CacheKeyZHLastSeenTimestamp:"ZHlastSeenTimestamp",CacheKeyZHEUsage:"zhe:usage",CacheKeyMyOrgsLegacy:"myOrgs"};function xe(e){if(se("CacheManager.getExpireDate"),!e)return null;const t=parseInt(e,10),n=e.substring(e.length-1,e.length);if("number"!=typeof t||"number"==typeof n)throw new Error("Expire date must start with an integer and end with a letter specifying time: s-second, h-hour, d-day");const s=function(e,t){se("CacheManager.calculateDate");const n=new Date;switch(e){case"s":n.setSeconds(n.getSeconds()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"h":n.setHours(n.getHours()+t);break;default:throw new Error(`${e} not supported. Please use s, m, or h.`)}return n}(n,t);return s.getTime()}function Fe(e){se("CacheManager._saveResultToLocalStorage"),z.Storage.sync.set(e)}function Ue(e){se("CacheManager._saveResultToSessionStorage"),z.Storage.session.set(Re,JSON.stringify(e))}function Be(e){return re("<~ CacheManager._resolveWithCachedPromise",e),ve().resolve(e)}function qe(e,t,n){const s={},r={};return n&&(s.expireDate=xe(n)),s.data=e,r[t]=s,r}function He(){se("CacheManager.loadCache"),Ie={};try{ye=JSON.parse(z.Storage.session.get(Re))||{}}catch(e){ye={}}const e=j.ZP.values(Me);we=new(ve())((e=>{Se=e})),z.Storage.sync.get(e,(e=>{be=e||{},Se(be)}))}function We(e,t){se("CacheManager.registerCache");const{expire:n,cacheWithFirstArg:s,key:r}=e;return ue(r,"CacheManager.registerCache() key should not be empty"),ue(j.ZP.contains(j.ZP.values(Me),r),"CacheManager.registerCache() key should be registered in CacheKey"),ue(j.ZP.isFunction(t),"CacheManager.registerCache() promisedFunc should return a promise"),function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];const l=Array.prototype.slice.call(o),c=Boolean(ee.ETc(["0","force"],l));let d=r;if(!ee.kKJ(s)){const e=ee.eiS(s,l[0]);d=`${d}@@${JSON.stringify(e)}`}return we.then((s=>{const r=Ie[d]||s[d]||ye[d];if(r&&!c){if(Date.now()<(r.expireDate||Date.now()+1))return Be(r.data);"local"===e.useStorage?(delete s[d],e.useStorage&&z.Storage.sync.remove(d)):"session"===e.useStorage?(delete ye[d],Ue(ye)):delete Ie[d]}return ve().resolve(t.apply(t,l)).then((t=>{const s=qe(t,d,n);return"local"===e.useStorage?(j.ZP.extend(be,s),Fe(s)):"session"===e.useStorage?(j.ZP.extend(ye,s),Ue(ye)):j.ZP.extend(Ie,s),t}))}))}}var je=n(50338),Ge=n(58151),Ke=n(61481),Ve=n(94218);const $e=(e,t)=>{Ke.e((n=>n.setTag(e,t)))},Ze=()=>{if(!L.Z.isTrackerEnabled||!L.Z.sentry?.dsn)return;let e="unknown";F&&(e="extension"),U&&(e="webapp"),Ge.S({dsn:L.Z.sentry.dsn,environment:L.Z.env,ignoreErrors:["auth:error:not_authed","Issues are disabled for this repo","GitHub Error - issues are disabled for this repo.","Although you appear to have the correct authorization credentials","Repository was archived so is read-only","Extension context invalidated","Loading chunk","NetworkError when attempting to fetch resource","SocketIO on connect_error"],initialScope:{tags:{source:e}},integrations:[new Ve.jK.gE,new je.K({levels:["error"]})],release:z.version(),tracesSampleRate:"production"===L.Z.env?.5:0})};var Ye=n(27378),Je=n(41461),Xe=n(54295),Qe=n.n(Xe);const et=new class{constructor(){this.setSubscriber=e=>{null!==this.subscriber&&L.Z.isDev&&console.warn("Invalid Auth Handler  received a new subscriber before the previous one has been cleared. This is likely happening because you are loading more than one `<AuthWarningModal />` components in your app. This is not supported. Please fix this immmediately."),this.subscriber=e},this.removeSubscriber=()=>{this.subscriber=null},this.setIsZHPageOpen=e=>{this.isZHPageOpen=e},this.getIsUnauthorized=()=>this.isUnauthorized,this.publishChanges=()=>{this.subscriber&&this.subscriber(this.isUnauthorized)},this.handle401=()=>{this.isUnauthorized=!0,this.publishChanges();!(U||this.isZHPageOpen)&&ct.eraseTokensFromStorage()},this.setIsUnauthorized=e=>{this.isUnauthorized=e,this.publishChanges()},this.isUnauthorized=!1,this.subscriber=null,this.isZHPageOpen=!1}},tt=et;function nt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const st="auth:start",rt="auth:change",it="auth:signedin",ot="auth:signedout",at=[Me.CacheKeyMyOrgs,Me.CacheKeyMyOrgsLegacy],lt=J().Model.extend({__name__:"Authentication",EVENT_AUTH_STARTED:st,EVENT_AUTH_CHANGED:rt,EVENT_SIGNED_IN:it,EVENT_SIGNED_OUT:ot,ERROR_NOT_AUTHED:"auth:error:not_authed",ERROR_TOKEN_KEY_NOT_FOUND:"auth:error:token_key_not_found",ZENHUB_TOKEN_KEY:"api_token",GITHUB_TOKEN_KEY:"github_token",REMOVABLE_KEYS:at,initialize(){se("Authentication.initialize"),this._tokenP=this._readTokensFromStorage(),this._handleAuthTokensChange()},_readTokensFromStorage(){return re("-> Authentication._readTokensFromStorage"),new(Qe())((e=>{z.Storage.sync.get([this.GITHUB_TOKEN_KEY,this.ZENHUB_TOKEN_KEY],(t=>{re("<- Authentication._readTokensFromStorage done"),this.set(t),this.trigger(this.EVENT_AUTH_CHANGED,this.isAuthed()),e(t)}))}))},_handleAuthTokensChange(){z.Storage.onKeysChanged([this.GITHUB_TOKEN_KEY],(()=>{re("<< Authentication.AuthTokensChange changed");const e=this.isAuthed();z.Storage.sync.get([this.GITHUB_TOKEN_KEY,this.ZENHUB_TOKEN_KEY],(t=>{const n=t||{},s={};s[this.ZENHUB_TOKEN_KEY]=n[this.ZENHUB_TOKEN_KEY],s[this.GITHUB_TOKEN_KEY]=n[this.GITHUB_TOKEN_KEY],this.set(s);const r=this.isAuthed();if(r&&tt.setIsUnauthorized(!1),e&&!r&&this.cleanAllStorages(),e!==r){this.trigger(this.EVENT_AUTH_CHANGED,r);const e=r?this.EVENT_SIGNED_IN:this.EVENT_SIGNED_OUT;this.trigger(e)}}))}))},whenAuthReady(){return this._tokenP.then((()=>this.isAuthed()))},isAuthed(){return Boolean(this.get(this.ZENHUB_TOKEN_KEY)&&this.get(this.GITHUB_TOKEN_KEY))},isAuthedWithAuth0:()=>!1,doAuth(e){se("-> Authentication.doAuth"),this.trigger(this.EVENT_AUTH_STARTED);const t=`${this._readURL(L.Z)}?agent=extension&startOption=extension`,n=this.getGitHubOAuthUrl();return this._ajaxOAuthSignIn(t).then((t=>{this._hasTokens(t)?this._readTokens(t).then(this._saveTokens):(z.Extension.waitForOAuthLogin((()=>{e?window.location.assign(e):window.location.reload()})),z.Extension.openWindowWithURL({type:"popup",url:n}))})).catch((e=>{oe(e.message||"Fail in signin"),this.trigger(this.EVENT_AUTH_CHANGED,!1)}))},doAuthWebapp:()=>Qe().resolve(),doAuthWebappWithPopup(){},_ajaxOAuthSignIn(e){return(t=function*(){return se("Authentication.doAuth $.ajax"),(yield fetch(e)).text()},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){nt(i,s,r,o,a,"next",e)}function a(e){nt(i,s,r,o,a,"throw",e)}o(void 0)}))})();var t},_getGHEOAuthURL(e){return`${this._readURL(e)}?redirect`},getGitHubOAuthUrl(){const e={agent:"extension",redirect:L.Z.githubURL};return`${L.Z.loginURL}?${t=e,Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}`;var t},_readURL:e=>e.loginURL,_hasTokens:e=>ee.YPD(ee.kKJ,ee.NQ5(["githubToken","apiToken"],e)),_readTokens:e=>Qe().resolve({github_token:e.githubToken,api_token:e.apiToken}),_saveTokens(e){z.Storage.sync.set(e,(()=>{}))},signOut(){re("-> Authentication.signout"),z.Storage.sync.get([this.ZENHUB_TOKEN_KEY],(e=>{const t=(e||{})[this.ZENHUB_TOKEN_KEY];fetch(`${L.Z.hostURL}/signout`,{headers:{"x-authentication-token":t},body:JSON.stringify({agent:"extension"})})}))},eraseTokens(){re("-> Authentication.eraseTokens");const e={};e[this.ZENHUB_TOKEN_KEY]=null,e[this.GITHUB_TOKEN_KEY]=null,this.set(e)},saveAuth0TokenInStorage(){},cleanAllStorages:function(){Object.keys(localStorage).forEach((e=>{ee.t$q(e).startsWith("zh")&&localStorage.removeItem(e)})),Object.keys(sessionStorage).forEach((e=>{ee.t$q(e).startsWith("zh")&&sessionStorage.removeItem(e)})),z.Storage.sync.remove(this.REMOVABLE_KEYS)},eraseTokensFromStorage(){re("-> Authentication.eraseTokensFromStorage");const e=[this.ZENHUB_TOKEN_KEY,this.GITHUB_TOKEN_KEY];return z.Storage.sync.remove(e,(()=>{re("<- Authentication.eraseTokensFromStorage done"),this.trigger(this.EVENT_AUTH_CHANGED,this.isAuthed())}))},requireTokenByKey(e){return this._tokenP.then((()=>{if(!this.isAuthed())return Qe().reject(this.ERROR_NOT_AUTHED);const t=this.get(e);return t?Qe().resolve(t):Qe().reject(this.ERROR_TOKEN_KEY_NOT_FOUND)}))},whenFail:e=>({thenSignIn(){e.catch((e=>{e===this.ERROR_NOT_AUTHED&&this.doAuth()}))},then(t){e.catch((e=>{e===this.ERROR_NOT_AUTHED&&t()}))}})}),ct=new lt;var dt=n(54342),ut=n.n(dt),pt=n(33847),mt=n.n(pt),ht=n(42992),Et=n(5034),gt=n.n(Et);const ft=()=>!gt().isSupported()||!gt().hidden();var _t=n(67172);let vt;!function(e){e.SubscribeToBoard="v3:board:subscribe",e.SubscribeToBoardById="v5:board:subscribe",e.SubscribeToRepoById="v3:repo:subscribe",e.EventBoardUpdate="board:updated",e.EventIssuesUpdate="issues:updated",e.EventIssueDeleted="issue:deleted",e.EventBoardRefresh="board:refresh",e.ReqTransferIssue="v3:board:transferIssue",e.ReqReorderPipelines="v2:board:reorderPipelines",e.ReqAddNewPipeline="v2:board:addPipeline",e.ReqRemovePipeline="v2:board:removePipeline",e.ReqUpdateChecker="v4:repo:checkUpdateByIds"}(vt||(vt={}));const It=[vt.EventIssuesUpdate],bt=e=>{const t=e.reduce(((e,t)=>e.set(t.repo,((e,t)=>{if((0,_t.KN)(t))return e;const n=[...t.issues,...e.issues].reduce(((e,t)=>e.set(t.issue_number,t)),new Map);return{...t,issues:[...n.values()]}})(t,e.get(t.repo)))),new Map);return[...t.values()]};const yt=class{constructor(e,t,n){this.callback=void 0,this.pendingCalls=void 0,this.timeout=void 0,this.eventName=void 0,this.delay=void 0,this.endTimeout=()=>{clearTimeout(this.timeout),this.timeout=null},this.startTimeout=()=>{this.timeout=setTimeout((()=>{if(!(0,_t.KN)(this.pendingCalls)){const e=((e,t)=>t===vt.EventIssuesUpdate?bt(e):e)(this.pendingCalls,this.eventName);this.callback(e),this.pendingCalls=[]}this.endTimeout()}),this.delay)},this.call=e=>{const t=(0,_t.KN)(this.pendingCalls),n=(0,_t.KN)(this.timeout);if(t&&n)return this.callback([e]),void this.startTimeout();this.pendingCalls.push(e)},this.callback=e,this.pendingCalls=[],this.timeout=null,this.delay=n,this.eventName=t}};let St,wt;function Rt(){return St}function Tt(e){St=e}function Ct(){return wt}function kt(e){wt=e}let Ot=null,Nt=null,Pt=null,At=!1,Dt=null;const Lt="connected",zt="disconnect",Mt="connecting";function xt(){const e={forceNew:!0,reconnectionAttempts:100,withCredentials:!0};return z.socketTransports&&(e.transports=z.socketTransports),e}function Ft(e){const t=e.io.reconnect.bind(e.io);e.io.reconnect=()=>{var n;ft()?t():(n=()=>{e.io.backoff.reset(),t()},gt().onVisible(n))}}function Ut(e){if(!e)return zt;let t=null;try{t=e.io._readyState}catch(e){ae("Error getting readyState",e)}let n={open:Lt,opening:Mt,closing:zt,closed:zt}[t];return n=n||zt,n}function Bt(){Ot&&Ot.end(!0),Ot=ut().stream(),Nt=mt()(ee.fS0("reconnect"),Ot),Pt=ut().combine((()=>Ut(Rt())),[Ot])}Bt();const qt=vt;function Ht(){const e=Rt();if(e)return ve().resolve(e);let t=Ct();return t||(t=new(ve())((e=>{Dt=e})),kt(t),t)}function Wt(e){const t=ut().endsOn(Ot.end,ut().stream()),n=(e=>It.includes(e))(e)?new yt(t,e,2e3).call:t;return Ht().then((t=>{t.on(e,n)})),t}function jt(){const e=Rt();return e?ve().resolve(e):At?Ht():(At=!0,ct.requireTokenByKey(ct.ZENHUB_TOKEN_KEY).then((e=>{const{version:t,support:n}=z,{origin:s,pathname:r}=new URL(L.Z.hostURL),i="/"===r?"/socket.io":`${r}/socket.io`,o=ht.io.connect(`${s}?token=${e}&version=${t()}&support=${n}`,{...xt(),path:i});return function(e){e.on("connecting",(()=>{re("<< SocketIO on connecting"),Ot("connecting")})).on("connect",(()=>{re("<< SocketIO on connect"),Ot("connect")})).on("disconnect",(()=>{re("<< SocketIO on disconnect"),Ot("disconnect")})).on("reconnect",(e=>{re("<< SocketIO on reconnect",e),Ot("reconnect")})).on("reconnecting",(()=>{re("<< SocketIO on reconnecting"),Ot("reconnecting")})).on("connect_error",(e=>{ae("<< SocketIO on connect_error",e),Ot("error")})).on("error",(e=>{ae("<< SocketIO on error",e),Ot("error")})).on("reconnect_error",(e=>{ae("Reconnect error ",e)}))}(o),Ft(o),Tt(o),Dt&&Dt(o),At=!1,o})))}function Gt(){return jt().then((e=>{switch(Ut(e)){case Lt:return ve().resolve(e);case Mt:return(e=>{const t=new(ve())((t=>{e.once("connect",(()=>{t(e)}))}));return t})(e);case zt:{const t=new Error("<< can not connect to socket");return t.socket=e,ve().reject(t)}default:throw new Error("impossible state")}}))}function Kt(e,t){return Gt().then((n=>function(e,t,n){const s=new(ve())(((s,r)=>{e.emit(t,n,((e,t)=>{e?r(e):s(t)}))}));return s}(n,e,t)))}var Vt=n(98289);const $t=ee.WAo(((e,t)=>e.issue_number===t.issue_number&&e.repo_id===t.repo_id)),Zt=e=>"open"===e?.state,Yt=e=>"closed"===e?.state,Jt=e=>"merged"===e?.state,Xt=e=>Yt(e)||Jt(e),Qt=e=>Boolean(e?.pull_request),en=ee.zGw(ee.vgT("priority"),ee.kKJ,ee.ffD),tn=ee.HkC(Zt,Qt),nn=ee.HkC(Xt,Qt),sn=ee.vgT("repo_name"),rn=ee.OH4("is_epic",!0),on=ee.CyQ(rn);function an(e){const t=e||{};if(t.issue_path)return t.issue_path;const n=t.number||t.issue_number;return`${t.repo_id}_${n}`}function ln(e){const t=ee.Vl2("_",e);return{repo_id:Vt.Z.parseInt10(t[0]),issue_number:Vt.Z.parseInt10(t[1])}}const cn=ee.eiS(["issue_number","repo_id"]),dn=ee.zGw(ee.vgT("created_at"),ee.M8D(1,Date)),un=ee.WAo(((e,t)=>({repo_id:e,issue_number:t})));function pn(e,t){if(ee.kE(e)!==ee.kE(t))return!1;const n=ee.HK3(an,e),s=ee.sEJ((e=>{const t=an(e);return ee.kKJ(n[t])}),t);return ee.kKJ(s)}const mn={loading:"Loading",loaded:"Loaded",error:"Error"},hn={notFound:"Issue Not Found",issueMoved:"Issue Moved",issueDeleted:"Issue Deleted",genericError:"Issue Generic Error",repoRemoved:"Issue Repo Removed"},En=e=>Object.values(hn).includes(e),gn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.some((e=>e.name.toLowerCase()===t.filterKey.toLowerCase()))},fn=(e,t,n,s)=>{const r=Object.keys(t),i=Object.keys(n);return e.every((e=>{const t=e.name.toLowerCase();if(r.includes(t))return!0;return!i.includes(t)&&s.some((e=>e.name.toLowerCase()===t))}))},_n=e=>e.startsWith("#issuecomment-")||e.startsWith("#issue-")||e.startsWith("#ref-pullrequest-")||e.startsWith("#ref-issue-")||e.startsWith("#user-content-")||e.startsWith("#event-")||e.startsWith("#commits-pushed-")||e.startsWith("#zh-event-"),vn=ee.iV_(["issue_number","repo_id"]);function In(e){return ee.u4g(((e,t)=>(e[an(t)]=t,e)),{},e)}function bn(e,t){const n=function(e){return ee.zGw(ee.jge("issues"),ee.xHg,In)(e)}(e);return ee.hXT((e=>ee.OH4(an(e),void 0,n)))(t)}function yn(e,t){const n=In(t);return ee.UID((e=>function(e,t){const n=ee.hXT((e=>{const n=an(e);return ee.OH4(n,void 0,t)}),e.issues);return ee.yGi("issues",n,e)}(e,n)))(e)}const Sn=ee.qCK(ee.p_J(0),ee.CKt("issues"));function wn(e,t){const n=t.repo_id||e,s=t.number||t.issue_number;return ee.kKJ(n)||ee.kKJ(s)?null:`${n}_${s}`}const Rn=ee.WAo(((e,t)=>{const n={repo_id:Vt.Z.parseInt10(t.repo_id||e),repo_name:t.repo_name||Vt.Z.repoNameFromIssueUrl(t.html_url),organization:t.organization||Vt.Z.organizationFromIssueUrl(t.html_url),issue_path:wn(e,t),assignee:t.assignee,assignees:t.assignees,html_url:t.html_url,labels:t.labels,milestone:t.milestone,issue_number:Vt.Z.parseInt10(t.number||t.issue_number),id:t.id,state:t.state,title:t.title,pull_request:t.pull_request,created_at:t.created_at,updated_at:t.updated_at,connections:t.connections,estimate:t.estimate,estimation_status:t.estimation_status,user:t.user,is_epic:t.is_epic,parent_epics:t.parent_epics,pipeline:t.pipeline,blocked_by:t.blocked_by,blocked:t.blocked,blocking:t.blocking,priority:t.priority,sprints:t.sprints,releases:t.releases,pull_request_data:t.pull_request_data,pull_request_reviews:t.pull_request_reviews,review_requests:t.review_requests};return Object.keys(n).forEach((e=>{void 0===n[e]&&delete n[e]})),n})),Tn=ee.WAo(((e,t)=>ee.UID(Rn(e))(t)));function Cn(e){const t=ee.UID((e=>Tn(e.repo_id,e.issues)))(e);return ee.xHg(t)}function kn(e,t){const n=function(e){return ee.u4g(((e,t)=>(e[t.state].push(t),e)),{closed:[],open:[]},e)}(t),s=n.open||[],r=n.closed||[],i=function(e){return ee.DYV(((e,t)=>{const n=Date.parse(e.updated_at),s=Date.parse(t.updated_at);return n>s?-1:n<s?1:0}))(e)}(r),o=bn(e,s),a=function(e,t){if(!e||!e.length)return e;const n=vn(t),s=ee.zoF(ee.__,n);return ee.xc(Sn,s,e)}(yn(e,r),o),l=function(e){return{_id:"closed-pipeline",name:"Closed",issues:vn(e)}}(i),c=function(e,t){return ee.R3I(t,e)}(a,l);return c}function On(e,t){const n=e.map((e=>e.releases&&void 0!==e.estimation_status?e:{...e,estimation_status:t[e.issue_path]?.estimation_status||null}));return ee.TSy(t,In(n))}function Nn(e,t){const n={...ee.vgT(e.index,t),blocked_by:e.blocked_by,blocking:e.blocking},s=ee.yGi(e.index,n,{});return{...t,...s}}function Pn(e,t,n){const s=an(t),r=ee.yGi("state",n,e[s]);return ee.yGi(s,r,e)}const An=(e,t,n)=>{const s={...e};return Object.keys(t).forEach((e=>{const r=s[e],i=t[e],o=n[i];Vt.Z.isNilOrEmpty(r)||Vt.Z.isNilOrEmpty(o)||(s[e]={...s[e],priority:o})})),s},Dn=(e,t,n)=>{const s=an({repo_id:e,issue_number:t});return ee.anz(s,n)};function Ln(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const zn=function(){var e,t=(e=function*(e){const t={};if(e){const e=ct.isAuthedWithAuth0()?yield ct.requireTokenByKey(ct.AUTH0_TOKEN_KEY).catch((()=>{})):void 0,n=yield ct.requireTokenByKey(ct.ZENHUB_TOKEN_KEY).catch((t=>{if(!e)throw new Error(t)}));Boolean(e)&&!n&&(t["X-Zh-Auth-Token"]=e),n&&(t["x-authentication-token"]=n)}return{...t,"X-ZenHub-Agent":`${z.support}/${z.version()}`}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Ln(i,s,r,o,a,"next",e)}function a(e){Ln(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Mn=zn;function xn(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Fn(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xn(i,s,r,o,a,"next",e)}function a(e){xn(i,s,r,o,a,"throw",e)}o(void 0)}))}}function Un(e){return Bn.apply(this,arguments)}function Bn(){return(Bn=Fn((function*(e){const t=L.Z.hostURL+e.url;let n={"Content-Type":"application/json"},s=e.dataType??"json",r=null!=e.body?JSON.stringify(e.body):void 0;""===e.dataType&&(s="text"),e.body instanceof FormData&&(r=e.body,n={});const i=yield fetch(t,{body:r,headers:{...n,...e.headers,...yield Mn(!0)},method:e.method});if(401===i.status&&tt.handle401(),!i.ok){const e=yield i.json();return oe(e),{...e,error:!0}}return 204===i.status?{}:"json"===s?i.json():i.text()}))).apply(this,arguments)}function qn(e){let{epics:t,estimates:n,connections:s,dependencies:r,estimation_statuses:i,forceUpdate:o,pipelines:a,priorities:l,pull_request_data:c,releases:d,sprints:u}=e;const p={epics:t?1:0,estimates:n?1:0,connections:s?1:0,dependencies:r?1:0,forceUpdate:o?1:0,pipelines:a?1:0,priorities:l?1:0,pull_request_data:c?1:0,releases:d?1:0,sprints:u?1:0,estimation_statuses:i?1:0};return Object.keys(p).map((e=>`${e}=${p[e]}`)).join("&")}function Hn(e){return Wn.apply(this,arguments)}function Wn(){return Wn=Fn((function*(e){return Un(e).catch((e=>{throw 401===e.status&&tt.handle401(),e}))})),Wn.apply(this,arguments)}const jn={getReferralCode(e){let{code:t}=e;return Hn({url:`/v1/stripe/coupons/${t}`})},processPayment(e){let{cardtoken:t,coupon:n,gh_org_id:s,seats:r,yearly:i}=e;return Hn({body:{cardtoken:t,coupon:n,gh_org_id:s,seats:r,yearly:i},method:"PUT",url:`/v4/orgs/${s}/pay`})},updateCard(e){let{cardtoken:t,gh_org_id:n}=e;return Hn({body:{cardtoken:t},method:"PUT",url:`/v4/orgs/${n}/card`})},sendCancellationFeedback(e){let{cost:t,dontNeedGithub:n,needGithubMilestones:s,gh_org_id:r,managerChoice:i,missingFeatures:o,other:a,otherDetails:l,otherTool:c,performance:d,totalSeats:u,unseatedUsers:p}=e;return Hn({body:{feedback:{cost:t,dontNeedGithub:n,needGithubMilestones:s,managerChoice:i,missingFeatures:o,other:a,otherDetails:l,otherTool:c,performance:d,totalSeats:u,unseatedUsers:p}},url:`/v4/orgs/${r}/subscription/feedback`,method:"PUT"})},cancelSubscription(e){let{gh_org_id:t}=e;return Hn({dataType:"text",url:`/v4/orgs/${t}/subscription`,method:"DELETE"})},updateBillingInfo(e){let{gh_org_id:t,infos:n}=e;return Hn({body:{infos:n},url:`/v4/orgs/${t}/billinginfo`,method:"PUT"})},updateBillingEmail(e){let{email:t,gh_org_id:n}=e;return Hn({body:{email:t},method:"PUT",url:`/v4/orgs/${n}/billingemail`})},getInvoices(e){let{gh_org_id:t}=e;return Hn({url:`/v4/orgs/${t}/invoices`})}},Gn={getIssue(e){let{issue_number:t,repo_id:n}=e;return Hn({url:`/v5/repositories/${n}/issues/${t}`})},transfer(e){let{board_id:t,from_pipeline_id:n,issue_number:s,issue_title:r,pipeline_id:i,position:o,repo_id:a}=e;return Kt(qt.ReqTransferIssue,{from_pipeline_id:n,id:t,issue_number:s,issue_title:r,pipeline_id:i,position:o,repo_id:a})},transferMultipleIssues(e){let{board_id:t,issues:n,position:s,repo_id:r,target_pipeline_id:i}=e;return Hn({body:{board_id:t,position:s,repo_id:r,target_pipeline_id:i,issues:n},method:"POST",url:`/v4/repos/${r}/board/transfer/issues`})},getPipelinesForIssueById:e=>{let{issue_number:t,repo_id:n}=e;return Hn({url:`/v5/repositories/${n}/issues/${t}/pipelines`})},getEvents:(Kn=Fn((function*(e){let{issue_number:t,repo_id:n}=e;const s=yield Hn({url:`/v5/repositories/${n}/issues/${t}/events`}),r=s.workspaces.reduce(((e,t)=>(e[t._id]=t,e)),{});return s.events.map((e=>{let{workspaceId:t,...n}=e;return t?(r[t]||oe("ZenHubAPI - Cannot find workspace for event with workspace Id"),{...n,workspace:r[t]}):n}))})),function(e){return Kn.apply(this,arguments)}),getReleaseEvents:e=>{let{issue_number:t,repo_id:n}=e;return Hn({url:`/v4/repositories/${n}/issues/${t}/events/release`})},setIssuePriority:e=>{let{issue_number:t,priority_id:n,repo_id:s,workspaceId:r}=e;return Hn({body:[{issue_number:t,priority_id:n,repo_id:s}],method:"POST",url:`/v4/workspaces/${r}/issues/priorities`})},setIssuePriorities:e=>{let{issues:t,workspaceId:n}=e;return Hn({body:t,method:"POST",url:`/v4/workspaces/${n}/issues/priorities`})}};var Kn;const Vn={subscribeToBoardById:e=>{let{workspaceId:t}=e;return Kt(qt.SubscribeToBoardById,{workspaceId:t})},subscribeToRepoById(e){let{repo_id:t}=e;return Kt(qt.SubscribeToRepoById,{repo_id:t})},listenToBoardUpdates:()=>Wt(qt.EventBoardUpdate),listenToRepoIssuesUpdates:()=>Wt(qt.EventIssuesUpdate),listenToRepoIssuesDeletes:()=>Wt(qt.EventIssueDeleted),listenToBoardRefresh:()=>Wt(qt.EventBoardRefresh),attemptRenewTrial(e){let{repo_id:t}=e;return Hn({body:{repo_id:t},method:"PUT",url:`/v3/repos/${t}/trial`})},getMilestoneStartDates(e){let{organization:t,repo:n}=e;return Hn({url:`/v2/${t}/${n}/milestones`})},getMilestoneStartDatesForRepoId(e){let{repo_id:t}=e;return Hn({url:`/v4/repositories/${t}/milestones/start_dates`})},setMilestoneStartDate(e){let{milestone_number:t,organization:n,repo:s,start_date:r}=e;return Hn({body:{start_date:r},url:`/v2/${n}/${s}/milestones/${t}/start_date`,method:"PUT"})},setMilestoneStartDateForRepoId(e){let{repo_id:t,start_date:n,milestone_number:s}=e;return Hn({body:{repo_id:t,start_date:n,milestone_number:s},method:"PUT",url:`/v4/repositories/${t}/milestones/${s}/start_date`})},getLatestIssueTransferDate:e=>{let{issue_numbers:t,repo_id:n,workspaceId:s}=e;return Hn({body:{issue_numbers:t},method:"POST",url:`/v4/repositories/${n}/issues/latest-issue-transfers?workspaceId=${s}`})},getEstimates(e){let{repo_id:t}=e;return Hn({url:`/v4/repositories/${t}/estimates`})},createEstimate(e){let{estimateId:t,organization:n,repository:s}=e;return Hn({body:{estimate_value:t,repo:s},method:"PUT",url:`/v2/${n}/${s}/estimate_set`})},deleteEstimate(e){let{estimateId:t,organization:n,repository:s}=e;return Hn({body:{estimate_value:t,repo:s},dataType:"text",method:"DELETE",url:`/v2/${n}/${s}/estimate_set`})},setIssueEstimate(e){let{estimateId:t,issueTitle:n,issue_number:s,organization:r,repository:i}=e;return Hn({body:{estimate_value:t,issue_number:s,issue_title:n,organization:r},method:"PUT",url:`/v2/${r}/${i}/issues/${s}/estimates`})},setMultipleIssueEstimates:e=>Hn({body:e,method:"POST",url:"/v4/estimates"}),clearIssueEstimate(e){let{issueTitle:t,issue_number:n,organization:s,repository:r}=e;return Hn({body:{repo:r,issue_number:n,issue_title:t},dataType:"text",method:"DELETE",url:`/v2/${s}/${r}/issues/${n}/estimates`})},addDependency:e=>{let{from:t,repo_id:n,to:s}=e;return Hn({body:{from:t,to:s},method:"POST",url:`/v4/repositories/${n}/issues/dependency`})},removeDependency(e){let{from:t,repo_id:n,to:s}=e;return Hn({body:{from:t,to:s},dataType:"text",method:"DELETE",url:`/v4/repositories/${n}/issues/dependency`})},fetchIssueDependencies:(Zn=Fn((function*(e){let{issue_number:t,repo_id:n,workspaceId:s}=e;return Hn({url:`/v4/repositories/${n}/issues/${t}/dependencies?workspaceId=${s}`}).then((e=>({blocked_by:Tn(null,e.blocked_by||[]),blocking:Tn(null,e.blocking||[])})))})),function(e){return Zn.apply(this,arguments)}),fetchIssueDependenciesTree:e=>{let{issue_number:t,repo_id:n,workspaceId:s}=e;return Hn({url:`/v4/repositories/${n}/issues/${t}/dependencies/tree?workspaceId=${s}`})},getWorkspaceIssuesWithZenHubData:($n=Fn((function*(e){let{connections:t,dependencies:n,epics:s,estimates:r,estimation_statuses:i,forceUpdate:o,pipelines:a,priorities:l,pull_request_data:c,releases:d,repo_ids:u,sprints:p,workspace:m}=e;if(!m)throw new Error("A workspace must be specified");const h=u||m.repos.map((e=>e.repo_id));let E=qn({connections:t,dependencies:n,epics:s,estimates:r,estimation_statuses:i,forceUpdate:o,pipelines:a,priorities:l,pull_request_data:c,releases:d,sprints:p});E+=`&repo_ids=${h.join(",")}`;const g=yield Hn({url:`/v5/workspaces/${m._id}/issues?${E}`}),f=m.repos.reduce(((e,t)=>({...e,[t.repo_id]:t})),{}),_=g.reduce(((e,t)=>(e[t.repo_id]||(e[t.repo_id]=[]),e[t.repo_id].push(t),e)),{});return h.map((e=>{const t=f[e];return{repo_id:e,organization:t.organization,repo:t.repository,issues:_[e]||[]}}))})),function(e){return $n.apply(this,arguments)}),getRepoIssuesWithZenHubData:e=>{let{connections:t,dependencies:n,epics:s,estimates:r,estimation_statuses:i,pull_request_data:o,releases:a,repo_id:l,sprints:c,workspaceId:d}=e,u=qn({connections:t,dependencies:n,epics:s,estimates:r,estimation_statuses:i,pull_request_data:o,releases:a,sprints:c});return u+=`&workspaceId=${d}`,Hn({url:`/v5/repositories/${l}/issues?${u}`})},getZenHubIssuesData:e=>{let{connections:t,dependencies:n,epics:s,estimates:r,estimation_statuses:i,issue_numbers:o,pipelines:a,priorities:l,pull_request_data:c,releases:d,repo_id:u,sprints:p,workspaceId:m}=e,h="";if(a){if(!m)throw new Error("getZenHubIssuesData - cannot get pipelines without a workspace id");h=`${h}&pipelines=1`}s&&(h=`${h}&epics=1`),r&&(h=`${h}&estimates=1`),t&&(h=`${h}&connections=1`),n&&(h=`${h}&dependencies=1`),l&&(h=`${h}&priorities=1`),d&&(h=`${h}&releases=1`),p&&(h=`${h}&sprints=1`),m&&(h=`${h}&workspaceId=${m}`),c&&(h=`${h}&pull_request_data=1`),i&&(h=`${h}&estimation_statuses=1`),h=h.replace("&","?");return Hn({body:{issue_numbers:o},method:"POST",url:`/v5/repositories/${u}/issues/zenhub-data${h}`})},getIssueEstimate(e){let{issue_number:t,issueId:n,organization:s,repository:r}=e;let i=`/v2/${s}/${r}/issues/${t??n}/estimates`;return i+=`?${new URLSearchParams({issue_number:String(n),organization:s,repo:r}).toString()}`,Hn({url:i})},getPipelinesById:e=>Hn({url:`/v4/repositories/${e}/pipelines`}),addNewPipeline(e){let{description:t,id:n,name:s,organization:r,position:i,repo:o}=e;return Kt(qt.ReqAddNewPipeline,{description:t,id:n,name:s,organization:r,position:i,repo:o})},removePipeline(e){let{destPipelineId:t,id:n,organization:s,removePipelineId:r,repo:i}=e;return Kt(qt.ReqRemovePipeline,{destPipelineId:t,id:n,organization:s,removePipelineId:r,repo:i})},reorderPipelines(e){let{id:t,organization:n,pipeline_id:s,position:r,repo:i}=e;return Kt(qt.ReqReorderPipelines,{id:t,organization:n,repo:i,pipeline_id:s,position:r})},reopenIssueByRepo:e=>{let{issue_number:t,organization:n,repo:s,repo_id:r,workspacesPositions:i}=e;return Hn({body:{organization:n,repo:s,issueNumber:t,workspacesPositions:i},method:"PUT",url:`/v4/repositories/${r}/issues/${t}/reopen`})},access(e){let{repo_id:t,workspace_id:n}=e;return Hn({url:`/v4/github/repositories/${t}/access?workspaceId=${n}`})},getConnectedReposByRepoId(e){let{repo_id:t}=e;return Hn({url:`/v4/repos/${t}/board/repos`})},getConnectedMilestonesByRepoId:e=>{let{repo_id:t,workspaceId:n}=e;return Hn({url:`/v4/repos/${t}/board/milestones?workspaceId=${n}`})},getAssignedUsersByRepoId(e){let{repo_id:t}=e;return Hn({url:`/v4/repositories/${t}/users/assigned`})},emitIssueUpdateCheck:e=>{let{repoIds:t}=e;return Kt(qt.ReqUpdateChecker,{repoIds:t})}};var $n,Zn;const Yn={getOpenMilestonesByWorkspace(e){let{repo_id:t,workspaceId:n}=e;return Hn({url:`/v4/workspaces/${t}/open-milestones?workspaceId=${n}`})}},Jn={delete:()=>Hn({dataType:"text",url:"/v4/user",method:"DELETE"}),get:()=>Hn({url:"/v4/user"}),getApiToken:()=>Hn({url:"/v4/public_api_tokens",method:"POST"}),getUserMeta:()=>Hn({url:"/v2/user"}),getUserSettingsCache:null,getUserSettings:()=>(Jn.getUserSettingsCache||(Jn.getUserSettingsCache=Hn({url:"/v1/user/settings"})),Jn.getUserSettingsCache),setUserSetting:(e,t)=>Hn({body:{key:e,value:t},method:"PUT",url:"/v1/user/settings"}),sendInviteToWorkspace:e=>{let{emails:t,workspaceId:n}=e;return ue(t.length>0,"emails should be > 0"),Hn({body:{emails:t,workspaceId:n},method:"POST",url:`/v5/workspaces/${n}/invites`})},sendInviteToZorg:e=>{let{emails:t,inviteUrl:n,organization:s,userNameOfInviter:r}=e;return ue(t.length>0,"emails should be > 0"),Hn({body:{emails:t,inviteUrl:n,organization:s,userNameOfInviter:r},method:"POST",url:"/v1/zhorg/invites"})},getFavoriteRepos(e){let{org_id:t}=e;return Hn({url:`/v4/orgs/${t}/favorites/repos`})},setFavoriteRepo(e){let{repo_id:t}=e;return Hn({url:`/v4/repositories/${t}/favorites`,method:"POST"})},deleteFavoriteRepo(e){let{org_id:t,repo_id:n}=e;return Hn({body:{gh_org_id:t},dataType:"text",method:"DELETE",url:`/v4/repositories/${n}/favorites`})},getReposAndWebhooks:()=>Hn({url:"/v4/user/webhooks"}),getFavoriteWorkspaces:e=>{let{orgId:t}=e;return Hn({url:`/v4/orgs/${t}/favorites/workspaces`})},addFavoriteWorkspace:e=>{let{workspaceId:t}=e;return Hn({url:`/v4/workspaces/${t}/favorites`,method:"POST"})},deleteFavoriteWorkspace:e=>{let{workspaceId:t}=e;return Hn({url:`/v4/workspaces/${t}/favorites`,method:"DELETE"})}},Xn={getOrganizations:()=>Hn({url:"/v1/orgs"}),getAccount(e){let{org_id:t}=e;return Hn({url:`/v4/orgs/${t}/account`})},getUsers(e){let{org_id:t}=e;return Hn({url:`/v4/orgs/${t}/users`})},getAdmins(e){let{org_id:t}=e;return Hn({url:`/v4/orgs/${t}/admins`})},requestLicense(e){let{org_id:t}=e;return Hn({body:{},method:"PUT",url:`/v4/orgs/${t}/license/request`})},seatUsers(e){let{gh_org_id:t,userIds:n}=e;return Hn({body:{user_ids:n},method:"PUT",url:`/v4/orgs/${t}/seats`})},unseatUser(e){let{org_id:t,user_id:n}=e;return Hn({dataType:"text",url:`/v5/orgs/${t}/seat/${n}`,method:"DELETE"})},setAdmin(e){let{org_id:t,user_id:n}=e;return Hn({body:{user_type:"admin"},method:"PUT",url:`/v4/orgs/${t}/users/${n}`})},removeAdmin(e){let{org_id:t,user_id:n}=e;return Hn({body:{user_type:"user"},method:"PUT",url:`/v4/orgs/${t}/users/${n}`})},getReposAndWebhooks(e){let{organization:t}=e;return Hn({url:`/v2/${t}/webhooks`})},addWebhookOAuth(e){let{repo_id:t}=e;return Hn({dataType:"",url:`/v4/auth/slack/${t}`})},addWebhook(e){let{org:t,repo:n,title:s,type:r,url:i}=e;return Hn({body:{url:i,title:s},method:"PUT",url:`/v2/${t}/${n}/webhook/${r}`})},removeWebhook(e){let{org:t,repo:n,url:s}=e;return Hn({body:{url:s},dataType:"text",method:"DELETE",url:`/v2/${t}/${n}/webhook`})},searchReposAndWorkspaces:e=>{let{organization:t,repoIdFilters:n=[],resources:s,searchTerm:r}=e;const i=new URLSearchParams({search_term:r});return n.forEach((e=>{i.append("repoIdFilters[]",e)})),s.forEach((e=>{i.append("resources[]",e)})),Hn({url:`/v4/organizations/${t}/search?${i}`})}},Qn={createPolicy(e){let{file_mime:t,file_name:n,file_size:s,issue_id:r,repoId:i}=e;const{maxFileUpload:o,maxFileUploadString:a}=L.Z;if(s>o){const e=`Error: browser reported file greater than ${a}.\nTry drag and dropping file to upload instead`;return window.alert(e),Promise.reject(new Error(e))}return Hn({body:{file_mime:t,file_name:n,file_size:s,issue_id:r},method:"POST",url:`/v4/repositories/${i}/file/policy`})},uploadBlob:(e,t,n,s,r,i)=>Fn((function*(){const o=yield(e=>{const{maxFileUpload:t,maxFileUploadString:n}=L.Z;if(!(e<t)){const e=`Error: browser reported file greater than ${n}.\nTry drag and dropping file to upload instead`;return Promise.reject(new Error(e))}return Promise.resolve(e)})(s),a=new FormData;a.append("repo_id",String(e)),a.append("file_name",n),a.append("file_size",String(o)),a.append("file_mime",r),i&&a.append("issue_id",String(i)),a.append("file",t);const l=yield Hn({body:a,method:"PUT",url:`/v4/repositories/${e}/file/upload`});if(l.message)throw oe(l),new Error(l.message);return l.zhFileUrl}))(),download(e){const t=e.split("/")[0];return/^[0-9]+$/g.test(t)?Hn({url:`/v4/repositories/${t}/file/policy?${new URLSearchParams({fileKey:e}).toString()}`}):Promise.reject(new Error("Invalid repoId"))}},es={getUserFlags:()=>Hn({url:"/v4/user/flags"})},ts={createEpic(e){let{body:t,issues:n,repo_id:s,title:r}=e;return Hn({body:{body:t,issues:n,repo_id:s,title:r},method:"POST",url:`/v4/repositories/${s}/epics`})},convertIssueToEpic(e){let{issue_number:t,issues:n,repo_id:s}=e;return Hn({body:{issues:n},method:"POST",url:`/v4/repositories/${s}/epics/${t}`})},convertEpicToIssue(e){let{issue_number:t,repo_id:n}=e;return Hn({dataType:"text",method:"DELETE",url:`/v4/repositories/${n}/epics/${t}`})},addIssueToEpic:e=>{let{epic_issue_number:t,epic_repo_id:n,issue_number:s,repo_id:r,workspaceId:i}=e;return Hn({body:{issue_number:s,repo_id:r},method:"POST",url:`/v4/repositories/${n}/epics/${t}/issues?workspaceId=${i}`})},removeIssueFromEpic:e=>{let{epic_issue_number:t,epic_repo_id:n,issue_number:s,repo_id:r,workspaceId:i}=e;return Hn({body:{issue_number:s,repo_id:r},dataType:"text",method:"DELETE",url:`/v4/repositories/${n}/epics/${t}/issues?workspaceId=${i}`})},update:e=>{let{add_issues:t,issue_number:n,remove_issues:s,repo_id:r,workspaceId:i}=e;return Hn({body:{add_issues:t,remove_issues:s},method:"PUT",url:`/v4/repositories/${r}/epics/${n}?workspaceId=${i}`})},getEpic:e=>{let{issue_number:t,repo_id:n,workspaceId:s}=e;return Hn({url:`/v4/repositories/${n}/epics/${t}${s?`?workspaceId=${s}`:""}`})},isEpic(e){let{issue_number:t,repo_id:n}=e;return Hn({url:`/v4/repositories/${n}/issues/${t}/is-epic`})},getEpicsByIssue(e){let{issue_number:t,repo_id:n}=e;return Hn({url:`/v4/repositories/${n}/issues/${t}/epics`})}},ns={getCombinedVelocityData(e){let{repoId:t,workspaceId:n}=e;return Fn((function*(){return Hn({url:`/v5/repositories/${t}/reports/combined_velocity?workspaceId=${n}`}).catch((e=>Promise.reject(e.statusText)))}))()},getSprintVelocityData(e){let{workspaceId:t}=e;return Fn((function*(){return Hn({url:`/v5/workspaces/${t}/reports/sprints_velocity`}).catch((e=>Promise.reject(e.statusText)))}))()},createReleaseReport(e){let{description:t,desired_end_date:n,repo_id:s,repos:r,start_date:i,title:o}=e;return Hn({body:{description:t,desired_end_date:n,repo_id:s,repos:r,start_date:i,title:o},method:"POST",url:`/v4/repositories/${s}/reports/release`})},updateReleaseReport(e){let{description:t,desired_end_date:n,release_id:s,start_date:r,title:i}=e;return Hn({body:{description:t,desired_end_date:n,start_date:r,title:i},method:"PATCH",url:`/v4/reports/release/${s}`})},getReleasePermissions(e){let{release_id:t}=e;return Hn({url:`/v4/reports/release/${t}/access`})},getReleaseIssues(e){let{release_id:t,workspaceId:n}=e;return Hn({url:`/v4/reports/release/${t}/items/issues?workspaceId=${n}`})},getReleaseReportForWorkspace:e=>Hn({url:`/v5/workspaces/${e}/reports/release`}),getReleaseEvents(e){let{release_id:t}=e;return Hn({url:`/v4/reports/release/${t}/events?issue_meta=1`})},getIssueReleases(e){let{repo_id:t,issue_number:n}=e;return Hn({url:`/v4/repositories/${t}/reports/release/issue/${n}`})},closeReleaseReport(e){let{release_id:t}=e;return Hn({body:{state:"closed"},url:`/v4/reports/release/${t}`,method:"PATCH"})},addIssuesToReleaseReport(e){let{issues:t,release_id:n}=e;return Hn({body:{add_issues:t},dataType:"text",method:"POST",url:`/v4/reports/release/${n}/items/issues`})},removeIssuesFromReleaseReport(e){let{issues:t,release_id:n}=e;return Hn({body:{remove_issues:t},dataType:"text",method:"POST",url:`/v4/reports/release/${n}/items/issues`})},reopenReleaseReport(e){let{release_id:t}=e;return Hn({body:{state:"open"},method:"PATCH",url:`/v4/reports/release/${t}`})},getRelease(e){let{release_id:t}=e;return Hn({url:`/v4/reports/release/${t}`})},getControlChart:(e,t)=>{const{labels:n,excludedLabels:s,...r}=t,i=new URLSearchParams(r);return n?.length&&n.forEach((e=>i.append("labelNames[]",e))),s?.length&&s.forEach((e=>i.append("excludeLabelNames[]",e))),Hn({url:`/v4/workspaces/${e}/reports/control-chart?${i}`})},getCumulativeFlow:(e,t)=>{const{labels:n,excludedLabels:s,...r}=t,i=new URLSearchParams(r);return n?.length&&n.forEach((e=>i.append("labelNames[]",e))),s?.length&&s.forEach((e=>i.append("excludeLabelNames[]",e))),Hn({url:`/v4/workspaces/${e}/reports/cumulative?${i}`})},addReposToReleaseReport:e=>{let{releaseId:t,repo_ids:n}=e;return Hn({body:{repo_ids:n},method:"POST",url:`/v5/reports/release/${t}/repositories`})},removeRepoFromReleaseReport:e=>{let{releaseId:t,repoId:n}=e;return Hn({dataType:"text",url:`/v4/reports/release/${t}/repository/${n}`,method:"DELETE"})}},ss={ping:(rs=Fn((function*(){return(yield fetch(`${L.Z.hostURL}/ping`)).json()})),function(){return rs.apply(this,arguments)}),monthly:()=>Fn((function*(){return ct.whenAuthReady().then((e=>{e&&ss.monthlyCall()}))}))(),monthlyCall:We({key:Me.CacheKeyZHEUsage,expire:"2h",useStorage:"local"},(()=>Hn({url:"/v1/usage"}).then((()=>!0))))};var rs;const is={getWorkspace:e=>{let{workspaceId:t}=e;return Hn({url:`/v4/workspaces/${t}`})},deleteWorkspace:e=>{let{workspaceId:t}=e;return Hn({dataType:"text",url:`/v5/workspaces/${t}`,method:"DELETE"})},getBoardByWorkspaceId:e=>{let{workspaceId:t}=e;return Hn({url:`/v5/workspaces/${t}/board`})},updateWorkspaceDefaultRepo:e=>{let{repoId:t,workspaceId:n}=e;return Hn({body:{repoId:t},method:"PUT",url:`/v4/workspaces/${n}/default`})},validateName:e=>{let{name:t,owner:n}=e;return Hn({body:{name:t,owner:n},method:"POST",url:"/v4/workspaces/validate-name"})},disconnectRepo:e=>{let{repoId:t,split:n,workspaceId:s}=e;return Hn({body:{split:n},method:"DELETE",url:`/v5/workspaces/${s}/disconnect/repositories/${t}`})},editPipeline:e=>{let{id:t,pipeline:n,pipelineId:s,repo_id:r}=e;return Hn({body:{pipeline:n,repo_id:r},method:"PATCH",url:`/v5/workspaces/${t}/pipelines/${s}`})}},os={Account:jn,FeatureFlags:es,Issue:Gn,Repo:Vn,Milestone:Yn,User:Jn,Org:Xn,File:Qn,Epics:ts,Reports:ns,Usage:ss,Workspace:is};var as=n(65638),ls=n.n(as);const cs=(e,t)=>t.reduce(((t,n)=>({...t,[n]:`${e}${n}`})),{}),ds=cs("BOARD_",["TRACK_ONBOARDING","LOAD_ONBOARDING_VALUE","CLEAR_BOARD","LEAVE_BOARD","BOARD_LOAD_DATA","UPDATE_LOAD_STATE","UPDATE_CONNECTION_STATE","UPDATE_LOAD_MORE_CLOSED_ISSUES_STATE","ADD_MORE_CLOSED_ISSUES","ISSUES_UPDATE","QUICK_ADD_ISSUE","ISSUE_DELETE","BOARD_UPDATE","OPEN_BOARD_ITEM","TOGGLE_ISSUE_CARD_OPTIONS","TRACK_OPEN_CREATE_MENU","OPEN_NEW_ISSUE","TRACK_OPEN_MILESTONE_MODAL","TRACK_OPEN_RELEASE_MODAL","TRACK_OPEN_CREATE_PIPELINE","TRACK_MENU_OPEN_NEW_EPIC","TRACK_MENU_OPEN_NEW_ISSUE","TRACK_OPEN_NEW_ISSUE","CLEAR_TAG_FILTERS","ADD_MILESTONE_FILTER","REMOVE_MILESTONE_FILTER","CLEAR_MILESTONE_FILTER","ADD_SPRINT_FILTER","REMOVE_SPRINT_FILTER","CLEAR_SPRINT_FILTER","ADD_LABEL_FILTER","REMOVE_LABEL_FILTER","CLEAR_LABEL_FILTER","ADD_ESTIMATE_FILTER","REMOVE_ESTIMATE_FILTER","CLEAR_ESTIMATE_FILTER","ADD_ASSIGNEE_FILTER","REMOVE_ASSIGNEE_FILTER","CLEAR_ASSIGNEE_FILTER","ADD_AUTHOR_FILTER","REMOVE_AUTHOR_FILTER","CLEAR_AUTHOR_FILTER","ADD_EPIC_FILTERS","REMOVE_EPIC_FILTERS","CLEAR_EPIC_FILTER","ADD_RELEASE_FILTER","REMOVE_RELEASE_FILTER","CLEAR_RELEASE_FILTER","LOAD_FULL_DEPENDENCIES_TREE","DEPENDENCIES_TREE_LOADED","ADD_DEPENDENCIES_FILTER","CLEAR_DEPENDENCIES_FILTER","SET_SEARCH_FILTER","CLEAR_SEARCH_FILTER","REPO_LOADED","REPOS_LOADED","LOAD_REPO_AND_ADD_TO_FILTER","LOAD_REPOS_AND_SHOW_ALL","SHOW_ONE_REPO","SHOW_ALL_REPOS","ADD_REPO_FILTER","REMOVE_REPO_FILTER","SELECT_MERGE_ORGANIZATION","SELECT_MERGE_REPO","MERGE_REPO_APPLIED","APPLY_MERGE_REPO","MOVE_PIPELINE_CARD","SET_PIPELINE_COLUMNS","ADD_PIPELINE","EDIT_PIPELINE","HIDE_ADD_PIPELINE","SHOW_ADD_PIPELINE","REMOVE_PIPELINE","SET_PIPELINE_TO_REMOVE","REORDER_PIPELINE","SET_PIPELINE_SORTING","CLEAR_PIPELINE_SORTING","TOGGLE_QUICK_ISSUE_CREATOR","TRANSFER_ISSUE","REOPEN_ISSUE","CLOSE_ISSUE","TRANSFER_ISSUE_SUCCESS","TRACK_UNKNOWN_DEPENDENCY","UPDATE_ISSUE_DEPENDENCIES","SET_ISSUE_HIGH_PRIORITY","REMOVE_ISSUE_PRIORITY","SHOW_FULL_SCREEN","HIDE_FULL_SCREEN","TOGGLE_FULL_SCREEN","SHOW_CLOSED_PIPELINE","HIDE_CLOSED_PIPELINE","SHOW_OPEN_ISSUES","HIDE_OPEN_ISSUES","SHOW_PULL_REQUESTS","HIDE_PULL_REQUESTS","SHOW_LABELS","HIDE_LABELS","SHOW_ESTIMATES","HIDE_ESTIMATES","SHOW_MILESTONES","HIDE_MILESTONES","SHOW_EPICS","HIDE_EPICS","SHOW_RELEASES","HIDE_RELEASES","SHOW_REVIEWERS","HIDE_REVIEWERS","SHOW_DEPENDENCIES","HIDE_DEPENDENCIES","SHOW_PIPELINE_DESCRIPTIONS","HIDE_PIPELINE_DESCRIPTIONS","TOGGLE_DROPDOWN","TOGGLE_EXPANDED_FILTERS","SET_WORKSPACE_LABEL_FILTERS","SHOW_INSIGHTS","HIDE_INSIGHTS","OPEN_FULLSCREEN_MODAL","CLOSE_FULLSCREEN_MODAL","ENTER_SELECTION_MODE","EXIT_SELECTION_MODE","SELECT_ISSUE","ADD_ISSUE_TO_SELECTION","ADD_ALL_ISSUES_TO_SELECTION","REMOVE_ISSUE_FROM_SELECTION","REPLACE_ISSUES_IN_SELECTION","CLEAR_ISSUES_FROM_SELECTION","ADD_ISSUES_TO_SELECTION","REMOVE_ISSUES_FROM_SELECTION","CLEAR_CHANGES_MULTI_ACTION","NOTIFY_MULTI_ACTION_APPLY_ERROR","ADD_LABEL_MULTI_ACTION","REMOVE_LABEL_MULTI_ACTION","ADD_ASSIGNEE_MULTI_ACTION","REMOVE_ASSIGNEE_MULTI_ACTION","SET_MILESTONE_MULTI_ACTION","REMOVE_MILESTONE_MULTI_ACTION","ADD_EPIC_MULTI_ACTION","REMOVE_EPIC_MULTI_ACTION","NOTIFY_EPIC_MULTI_ACTION_APPLIED","APPLY_EPIC_MULTI_ACTION","SET_PIPELINE_MULTI_ACTION","SET_PIPELINE_DIRECTION_MULTI_ACTION","NOTIFY_PIPELINE_MULTI_ACTION_APPLIED","APPLY_PIPELINE_MULTI_ACTION","NOTIFY_PRIORITY_MULTI_ACTION_APPLIED","APPLY_PRIORITIES_MULTI_ACTION","SET_ESTIMATE_MULTI_ACTION","NOTIFY_ESTIMATE_MULTI_ACTION_APPLIED","APPLY_ESTIMATE_MULTI_ACTION","ADD_RELEASE_MULTI_ACTION","REMOVE_RELEASE_MULTI_ACTION","NOTIFY_RELEASE_MULTI_ACTION_APPLIED","APPLY_RELEASE_MULTI_ACTION","OPEN_EXTENSION_NEW_ISSUE_MODAL","CLOSE_EXTENSION_NEW_ISSUE_MODAL","INIT_FILTER_LOGIC_FROM_URL","TOGGLE_FILTER_LOGIC","SET_USE_DEFAULT_FILTER","UPDATE_ISSUE_LABELS","UPDATE_ISSUE_ASSIGNEES","UPDATE_ISSUE_MILESTONE"]),us=Object.freeze(ds),ps=cs("BREADCRUMBS_",["OPEN_DEFAULT_DROPDOWN","CLOSE_DEFAULT_DROPDOWN","OPEN_ISSUE_PAGE_DROPDOWN","CLOSE_ISSUE_PAGE_DROPDOWN"]),ms=Object.freeze(ps),hs=cs("BURNDOWN_",["LOAD_CONNECTED_MILESTONES","LOAD_MILESTONES_AND_CHANGE_SELECTED","UPDATE_CONNECTED_MILESTONES","LOAD_MILESTONE","SET_MILESTONE_ISSUES","SET_LOADING_MILESTONE_ISSUES","SET_SELECTED_REPO_ID","SET_ENTITY","SELECT_MILESTONE","SET_MILESTONE_START_DATE","UPDATE_MILESTONE_DUE_DATE","SET_MILESTONE_DUE_DATE","CLEAR_TAG_FILTERS","SHOW_PULL_REQUESTS","HIDE_PULL_REQUESTS","LOAD_CONNECTED_PIPELINES","SET_PIPELINES","ADD_BURN_PIPELINE","SET_BURN_PIPELINE","CLEAR_BURN_PIPELINES","ADD_LABEL_FILTER","REMOVE_LABEL_FILTER","CLEAR_LABEL_FILTER","ADD_REPO_FILTER","REMOVE_REPO_FILTER","SHOW_ONE_REPO","SHOW_ALL_REPOS","TOGGLE_DROPDOWN","CLEAR"]),Es=Object.freeze(hs),gs=cs("CONTROL_",["DISMISS_INFO_ALERT","SELECT_ALL_REPOS","SELECT_DEFAULT_REPO","SELECT_REPO","SET_DATE_RANGE","SET_DATE_RANGE_KEY","SET_START_PIPELINE","SET_END_PIPELINE","TOGGLE_DROPDOWN","UNSELECT_REPO"]),fs=Object.freeze(gs),_s=cs("CONFETTI_",["UPDATE_ANNOUNCEMENT"]),vs=Object.freeze(_s),Is=cs("CUMULATIVE_",["SELECT_ALL_REPOS","SELECT_DEFAULT_REPO","SELECT_REPO","LOAD_DATA","LOADING_DATA","LOAD_LOCAL_STORAGE","SET_DATA","ON_INITIAL_LOAD","SET_DATE_RANGE","SET_DATE_RANGE_KEY","UNSELECT_REPO"]),bs=Object.freeze(Is),ys=cs("DASHBOARD_",["ADD_PENDING_USERS","ASSIGN_LICENSE","BILLING_RESET","CANCEL_SUBSCRIPTION","CLEAN_CHECKOUT_STATE","CLEAR_INVOICES","GET_REFERRAL_CODE","GET_PROFILE","LOAD_ACCOUNT","LOAD_INVOICES","LOAD_USERS","MAKE_ADMIN","PROCESS_PAYMENT","REMOVE_ADMIN","REMOVE_PENDING_USER","RESET_BILLING","SELECT_ORGANIZATION","SET_ADDITIONAL_LICENSES","SET_BILLING_ERROR","SET_BILLING_PLAN","SET_BILLING_REFERRAL","SET_CHECKOUT_ERROR","SET_CHECKOUT_SUCCESS_MSG","SET_CHECKOUT_TYPE","SET_DASHBOARD_ACCOUNT","SET_DASHBOARD_INVOICES","SET_IS_SELECTED_PLAN_INTERVAL_YEAR","SET_ORG_LOADING_ERROR","SET_PAYMENT_PROCESSING_STATE","SET_PENDING_USERS","SET_PROFILE_LOAD_STATE","SET_USERS","UPDATE_BILLING_EMAIL","UPDATE_BILLING_INFO","UNASSIGN_LICENSE","ADD_WEBHOOK","ADD_WEBHOOK_PENDING","ADD_WEBHOOK_OAUTH","LOAD_REPOS_AND_WEBHOOKS","LOAD_USER_REPOS_AND_WEBHOOKS","SET_INTEGRATION_ERROR","SET_REPOS_AND_WEBHOOKS","SET_REPO_FOR_SLACK_AND_CLEAR_ERROR","REMOVE_WEBHOOK","RESET_REPOS_AND_WEBHOOKS","UPDATE_REPOS_AND_WEBHOOKS","SET_REPO_FOR_SLACK","TRACK_ADD_LICENSES","TRACK_CANCEL_SUBSCRIPTION","TRACK_REMOVE_LICENSES","TRACK_UPGRADE_TO_ANNUAL","TRACK_DELETE_PROFILE","TRACK_DELETE_PROFILE_CONFIRM"]),Ss=Object.freeze(ys),ws=cs("FLAG_",["SET_FLAGS"]),Rs=Object.freeze(ws),Ts=cs("INVITES_",["OPEN_INVITE_MODAL","CLOSE_INVITE_MODAL","TRACK_INVITES_SENT","SEND_INVITES","FETCH_USERS","UPDATE_USERS","ADD_PENDING_INVITE","REMOVE_PENDING_INVITE","UPDATE_PENDING_INVITE","RESEND_INVITE","TRACK_USER_TYPED_EMAIL_ADDED","TRACK_SUGGESTED_USER_ADDED","TRACK_LINK_COPIED","TRACK_USER_PASTE_EMAIL_ADDED"]),Cs=Object.freeze(Ts),ks=cs("ISSUE_PAGE_",["CLEAR_ISSUE","SET_PIPELINES_BY_WORKSPACE","SET_INCOMPLETE_ISSUE_INFO","SET_REPO_ID","SET_ISSUE_WORKSPACE_AND_REPO_ID","LOAD_EPIC_DATA","LOAD_IS_EPIC","SET_IS_EPIC","SET_CHILDREN_ISSUES","SET_EPIC_TO_ISSUE","CONVERT_EPIC_TO_ISSUE","SET_ISSUE_TO_EPIC","CONVERT_ISSUE_TO_EPIC","SET_ISSUE_INFO_PRIMARY","SET_ISSUE_INFO_SECONDARY","SET_ISSUE_TIMELINE_DATA","LOAD_NEW_ISSUE_DATA","SET_NEW_ISSUE_MODE","SET_NEW_ISSUE_DATA","SET_LOAD_STATUS","SET_LOAD_ERROR","LOAD_GH_EVENTS","LOAD_ZH_EVENTS","INIT_ISSUE_PAGE","INIT_NEW_ISSUE_PAGE","UPDATE_ISSUE_GH_DATA","UPDATE_ISSUE_ZH_DATA","TOGGLE_DROPDOWN","TOGGLE_SIDEBAR","TOGGLE_TEMPLATE_DROPDOWN","TRACK_TEMPLATES_COUNT","SET_TEMPLATES","SELECT_TEMPLATE","SET_IS_ISSUE_TEMPLATE_DIRTY","SET_ISSUE_TYPE","CHANGE_ISSUE_TYPE","SET_STATE","SET_ZH_ISSUE_ID","SET_LABELS","SIDEBAR_ADD_LABEL","SIDEBAR_CLEAR_LABELS","SIDEBAR_REMOVE_LABEL","SIDEBAR_APPLY_LABELS","SIDEBAR_REMOVE_FILTER_DEPENDENT_LABEL","SIDEBAR_RESTORE_FILTER_DEPENDENT_LABELS","SET_ASSIGNEES","SET_ASSIGNEE_SELF","SIDEBAR_ADD_ASSIGNEE","SIDEBAR_CLEAR_ASSIGNEES","SIDEBAR_REMOVE_ASSIGNEE","SIDEBAR_APPLY_ASSIGNEES","SIDEBAR_ADD_SPRINT","SIDEBAR_REMOVE_SPRINT","SET_MILESTONE","SIDEBAR_SET_MILESTONE","SIDEBAR_APPLY_MILESTONE","SET_ACTIVE_PIPELINE","SET_PIPELINES","SIDEBAR_SET_PIPELINE","SIDEBAR_SET_PRIORITY","SIDEBAR_APPLY_PIPELINE","SET_DEFAULT_PR_PIPELINE","SET_PARENT_EPICS","SIDEBAR_ADD_EPIC","SIDEBAR_REMOVE_EPIC","SIDEBAR_APPLY_EPIC","SET_ESTIMATE","LOAD_ISSUE_ESTIMATE_DATA","SET_ISSUE_ESTIMATE_DATA","LOAD_REPO_ESTIMATE_DATA","SIDEBAR_SET_ESTIMATE","SIDEBAR_CREATE_ESTIMATE","SIDEBAR_APPLY_ESTIMATE","SIDEBAR_CLEAR_ESTIMATE","SIDEBAR_DELETE_ESTIMATE","SIDEBAR_CLEAR_CHANGES","SET_CURRENT_RELEASES","LOAD_CURRENT_RELEASES","APPLY_RELEASES","SIDEBAR_ADD_RELEASE","SIDEBAR_REMOVE_RELEASE","CREATE_COMMENT","ADD_COMMENT","INIT_DRAFT","UPDATE_DRAFT","CLEAR_DRAFT","NEW_ISSUE","UPDATE_ISSUE","UPDATE_ISSUE_INFO","DELETE_COMMENT","DELETE_COMMENT_SUCCESS","TOGGLE_STATE","UPLOAD_FILE","UPLOAD_FILE_STAMP","UPLOAD_FILE_SUCCESS","UPLOAD_FILE_ERROR","TRACK_CREATE_NEW_EPIC","TRACK_SUBMIT_NEW_ISSUE","SET_PRIORITY","REMOVE_PRIORITY"]),Os=Object.freeze(ks),Ns=cs("ISSUE_PAGE_DEPENDENCIES_",["OPEN_ADD_DEPENDENCY_FORM","CLOSE_ADD_DEPENDENCY_FORM","SET_WORKSPACE_ISSUES","ADD_DEPENDENCY_BLOCKED_BY","REMOVE_DEPENDENCY_BLOCKED_BY","ADD_DEPENDENCY_BLOCKING","REMOVE_DEPENDENCY_BLOCKING","TRACK_ADD_DEPENDENCY_BLOCKED_BY","TRACK_REMOVE_DEPENDENCY_BLOCKED_BY","TRACK_ADD_DEPENDENCY_BLOCKING","TRACK_REMOVE_DEPENDENCY_BLOCKING","ERROR_ADD_DEPENDENCY","SET_ISSUE_DEPENDENCIES"]),Ps=Object.freeze(Ns),As=cs("MILESTONES_",["CLOSE_MILESTONE","DELETE_MILESTONE","LOAD_OPEN_MILESTONES","SELECT_MILESTONE_TYPE","SET_OPEN_MILESTONES","TRACK_EDIT_MILESTONE","TRACK_PAGE_VIEW","TRACK_SEE_MILESTONE_ON_BOARD","SET_MILESTONE_CLOSED"]),Ds=Object.freeze(As),Ls=cs("MILESTONE_BUILDER_",["LOAD_MILESTONES","CLEAR_MILESTONES","OPEN_CREATE_MILESTONE_FORM","OPEN_EDIT_MILESTONE_FORM","CLOSE_MILESTONE_FORM","TOGGLE_REPO_DROPDOWN","UPDATE_DRAFT_PROPERTIES","CLEAR_DRAFT_PROPERTIES","CREATE_MILESTONE","EDIT_MILESTONE"]),zs=Object.freeze(Ls),Ms=cs("ONBOARDING_",["LOAD_ONBOARDING_VALUES","SET_ONBOARDING_VALUE","TRACK_ONBOARDING_PAGE_VIEW","TRACK_ONBOARDING_ACTION"]),xs=Object.freeze(Ms),Fs=cs("PAGES_",["CLEAR_WORKSPACE","CLEAR_ERROR","OPEN_FULLSCREEN_MODAL","CLOSE_FULLSCREEN_MODAL","CHANGE_DEFAULT_REPO_IN_WORKSPACE","SET_DEFAULT_REPO_ID","SET_IS_FAVORITE_WORKSPACE","SET_IS_FAVORITE_REPO","SET_WORKSPACE_LOAD_ERROR","SET_SKIP_MODAL_RESTORE_URL","SET_ONBOARDING_PLATFORM","SET_RELOAD_WORKSPACE_ORDER_FROM_LOCAL","SET_RELOAD_WORKSPACE_ORDER_FROM_SOCKET","SET_RELOAD_WORKSPACE_ORDER_IGNORE_SOCKET","SET_WORKSPACE_AND_DEFAULT_REPO_ID","SET_WORKSPACE_WITHOUT_DEFAULT_REPO_ID","SET_WORKSPACE_IMPORT_STATE","SET_FLYOVER_ENTITY_ID","UPDATE_CURRENT_WORKSPACE","ADD_REPOS_CURRENT_WORKSPACE","REMOVE_REPO_CURRENT_WORKSPACE"]),Us=Object.freeze(Fs),Bs=cs("PAYWALL_",["BUY_MORE_LICENSES","BUY_MORE_LICENSES_DISPLAYED","LOAD_ACCOUNT_DATA","REQUEST_LICENSE","REQUEST_LICENSE_DISPLAYED","SELECT_GROWTH_PLAN","SET_ACCESS_DATA","SET_ORG_ADMIN_LIST","TRACK_UPGRADE_TO_GROWTH_VIEWED","TRACK_UPGRADE_TO_GROWTH_CLICKED"]),qs=Object.freeze(Bs),Hs=cs("PULL_REQUEST_",["RESET_PAGE","DEFER_CONNECTION","REMOVE_DEFERRED_CONNECTION","CREATE_CONNECTION","REMOVE_CONNECTION"]),Ws=Object.freeze(Hs),js=cs("RELEASE_",["LOAD_RELEASES","SET_RELEASES","SELECT_RELEASE","GET_RELEASE_PERMISSIONS","LOAD_RELEASE_ISSUES","LOAD_RELEASE_EVENTS","CLEAR_RELEASE_ISSUES","CLEAR_RELEASE_EVENTS","CREATE_RELEASE","UPDATE_RELEASE","CLOSE_RELEASE","REOPEN_RELEASE","CLOSE_RELEASES_DROPDOWN","OPEN_RELEASES_DROPDOWN","CLOSE_LABELS_DROPDOWN","OPEN_LABELS_DROPDOWN","SELECT_RELEASE_ID","SWITCH_RELEASE_TAB","SET_LABEL_FILTER","CLEAR_LABEL_FILTER","ADD_ISSUES_TO_RELEASE","REMOVE_ISSUES_FROM_RELEASE","TRACK_ADD_ISSUES_TO_RELEASE","TRACK_REMOVE_ISSUES_FROM_RELEASE","TOGGLE_SHOW_PREDICTED_END_DATE","OPEN_EPICS_DROPDOWN","CLOSE_EPICS_DROPDOWN","ADD_EPICS_FILTER","REMOVE_EPICS_FILTER","CLEAR_EPICS_FILTER"]),Gs=Object.freeze(js),Ks=cs("RELEASE_BUILDER_",["OPEN_CREATE_RELEASE_FORM","OPEN_EDIT_RELEASE_FORM","CLOSE_RELEASE_FORM","UPDATE_DRAFT_PROPERTIES","CREATE_RELEASE","SET_DEFAULT_WORKSPACE","LOAD_RELEASE_REPOS","REMOVE_REPO_FROM_RELEASE","ADD_REPOS_TO_RELEASE","SET_INITIAL_REPOS","UPDATE_RELEASE_REPOS","LOAD_ORGANIZATION_REPOS","TOGGLE_SELECTED_REPO","CLEAR_SELECTED_REPOS"]),Vs=Object.freeze(Ks),$s=cs("REPORTS_",["CLEAR_REPORTS","URL_DATA_IS_INTIALIZED","INITIALIZE_URL_DATA"]),Zs=Object.freeze($s),Ys=cs("ROUTER_",["OPEN_IN_NEW_TAB","MODAL_RESTORE_URL"]),Js=Object.freeze(Ys),Xs=cs("SHARED_",["ASSIGNEES_UPDATING","CONNECTABLE_ISSUES_UPDATING","EPICS_UPDATING","LABELS_UPDATING","MILESTONES_UPDATING","CLOSED_MILESTONES_UPDATING","ESTIMATES_UPDATING","RELEASES_UPDATING","USER_ORGS_UPDATING","REPOS_BY_ORG_UPDATING","REPO_LOADING","PAGINATED_REPOS_UPDATING","LOAD_ASSIGNEES","LOAD_LABELS","LOAD_MILESTONES","LOAD_CLOSED_MILESTONES","LOAD_ASSIGNEES","LOAD_ESTIMATES","LOAD_RELEASES","LOAD_REPOS_BY_ORG","LOAD_REPO","LOAD_PAGINATED_REPOS","LOAD_USER_RECENT_REPOS","LOAD_PRIVATE_REPOS_SEARCH","SEARCH_FOR_REPOS_PRIVATE","CLEAR_PRIVATE_REPOS_SEARCH","ASSIGNEES_LOADED","CONNECTABLE_ISSUES_LOADED","EPICS_LOADED","MILESTONES_LOADED","CLOSED_MILESTONES_LOADED","LABELS_LOADED","APPEND_LABELS_TO_MAP","ASSIGNEES_LOADED","ESTIMATES_LOADED","RELEASES_LOADED","USER_ORGS_LOADED","REPOS_BY_ORG_LOADED","REPO_LOADED","PAGINATED_REPOS_LOADED","PRIVATE_REPOS_LOADED","SEARCHED_REPOS_LOADED","CLEAR_PAGINATED_RESOURCES","LOAD_REPOS_ERROR"]),Qs=Object.freeze(Xs),er=cs("SHORTCUTS_",["TRACK_SHORTCUTS_PAGE_VIEW","TRACK_SHORTCUTS_USED"]),tr=Object.freeze(er),nr=cs("SIDEBAR_",["TOGGLE_DROPDOWN","TOGGLE_SIDEBAR","TOGGLE_COLLAPSED","TRACK_OPEN_NEW_ISSUE","TRACK_OPEN_NEW_EPIC","TRACK_OPEN_MILESTONE_MODAL","TRACK_OPEN_RELEASE_MODAL","TRACK_OPEN_PIPELINE_FORM"]),sr=Object.freeze(nr),rr=cs("NOTIFICATIONS_",["CLEAR_NOTIFICATIONS","TOGGLE_DROPDOWN","ADD_NOTIFICATIONS","READ_NOTIFICATION","SET_EMPTY_NOTIFICATIONS","MARK_NOTIFICATION_AS_READ","MARK_REPO_AS_READ","MARK_ALL_AS_READ","ADD_SUBSCRIPTIONS","SET_SUBSCRIPTION","LOAD_SUBSCRIPTIONS_MULTI_REPOS","UPDATE_SUBSCRIPTION","DELETE_SUBSCRIPTION"]),ir=Object.freeze(rr),or=cs("VELOCITY_",["LOAD_SPRINT_VELOCITY_DATA","LOAD_COMBINED_VELOCITY_DATA","UPDATE_MILESTONE_START_DATE","TOGGLE_MILESTONE","TOGGLE_LABEL","TOGGLE_DROPDOWN","SET_SELECTED_REPO_ID","CLEAR_LABEL_FILTER","CLEAR"]),ar=Object.freeze(or),lr=cs("WORKSPACE_SWITCHER_",["OPEN","CLOSE","SELECT_ORGANIZATION","CLEAR_ORGANIZATION","SET_ACTIVE_VIEW","SET_LOADING_REPO","START_SEARCH","CLEAR_SEARCH","SET_SEARCH_RESULTS","SET_SEE_MORE_FAVORITE_WORKSPACES","SET_FAVORITE_WORKSPACES","ADD_FAVORITE_WORKSPACE","DELETE_FAVORITE_WORKSPACE","SET_RECENT_WORKSPACES","SET_FAVORITE_REPOS","SET_RECENT_REPOS","ADD_REPO_TO_SEARCH_FILTER","REMOVE_REPO_FROM_SEARCH_FILTER","CLEAR_REPO_SEARCH_FILTER","SET_SEARCH_TERM","SET_REPOS_LOADED","TRACK_FREQUENTLY_VISITED_ITEM","TRACK_SEARCHED_ITEM","TRACK_RECENT_REPO_ITEM","TRACK_CREATE_NEW_WORKSPACE_BUTTON"]),cr=Object.freeze(lr),dr=cs("ISSUE_PRIORITIES_",["SET_PRIORITIES","SET_ISSUE_PRIORITIES"]),ur=Object.freeze(dr),pr={board:us,breadcrumbs:ms,burndown:Es,control:fs,confettiAnnouncements:vs,cumulative:bs,dashboard:Ss,flag:Rs,invites:Cs,issue:Os,issueDependencies:Ps,notifications:ir,milestones:Ds,milestoneBuilder:zs,onboarding:xs,pages:Us,paywall:qs,pullRequest:Ws,release:Gs,releaseBuilder:Vs,reports:Zs,router:Js,shared:Qs,shortcuts:tr,sidebar:sr,velocity:ar,workspaceSwitcher:cr,issuePriorities:ur};var mr=n(45106),hr=n(29724),Er=n(35870),gr=n(10058),fr=n(13470),_r=n(53497);const vr=(0,_r.PH)("ACCOUNT_SETTINGS_SET_PREVIOUS_LOCATION"),Ir=(0,_r.Lq)({previousLocation:null},(e=>{e.addCase(vr.type,((e,t)=>{let{payload:n}=t;e.previousLocation=n}))})),br=Ir,yr=(0,_r.PH)("BOARDV2_SET_PIPELINES_ERROR_ACTIVE"),Sr=(0,_r.PH)("BOARDV2_TOGGLE_ISSUE_SELECT"),wr=(0,_r.PH)("BOARDV2_SELECT_ISSUES"),Rr=(0,_r.PH)("BOARDV2_UNSELECT_ISSUES"),Tr=(0,_r.PH)("BOARDV2_UNSELECT_ALL_ISSUES"),Cr=(0,_r.PH)("BOARDV2_ENTER_SELECTION_MODE"),kr=(0,_r.PH)("BOARDV2_EXIT_SELECTION_MODE"),Or=(0,_r.PH)("BOARDV2_SET_ADD_PIPELINE"),Nr=(0,_r.PH)("BOARDV2_MARK_PIPELINE_FOR_RELOAD"),Pr=(0,_r.PH)("BOARDV2_UNMARK_PIPELINE_FOR_RELOAD"),Ar=(0,_r.PH)("BOARDV2_SET_PIPELINE_COUNTS"),Dr=(0,_r.PH)("BOARDV2_RESET_STATE"),Lr=(0,_r.PH)("BOARDV2_RESET_ALL_BUT_REPO_BOARD_FILTERS"),zr=(0,_r.PH)("BOARDV2_SET_SEARCH_FILTER"),Mr=(0,_r.PH)("BOARDV2_CLEAR_SEARCH_FILTER"),xr=(0,_r.PH)("BOARDV2_SET_REPO_FILTER"),Fr=(0,_r.PH)("BOARDV2_SET_REPO_FILTER_LOADED"),Ur=(0,_r.PH)("BOARDV2_SET_LABEL_FILTER"),Br=(0,_r.PH)("BOARDV2_SET_ASSIGNEE_FILTER"),qr=(0,_r.PH)("BOARDV2_SET_RELEASE_FILTER"),Hr=(0,_r.PH)("BOARDV2_SET_EPIC_FILTER"),Wr=(0,_r.PH)("BOARDV2_SET_SPRINT_FILTER"),jr=(0,_r.PH)("BOARDV2_TOGGLE_EPIC_FILTER"),Gr=(0,_r.PH)("BOARDV2_SET_MILESTONE_FILTER"),Kr=(0,_r.PH)("BOARDV2_SET_ESTIMATE_FILTER"),Vr=(0,_r.PH)("BOARDV2_SET_AUTHOR_FILTER"),$r=(0,_r.PH)("BOARDV2_SET_FILTER_LOGIC"),Zr=(0,_r.PH)("BOARDV2_ADD_ISSUE_MOVED_LOCALLY"),Yr=(0,_r.PH)("BOARDV2_CLEAR_ISSUES_MOVED_LOCALLY"),Jr=(0,_r.PH)("BOARDV2_SET_OPEN_BULK_ACTION_MODAL"),Xr=(0,_r.PH)("BOARDV2_CLOSE_BULK_ACTION_MODAL"),Qr=(0,_r.PH)("BOARDV2_LEAVE_BOARD"),ei=(0,_r.PH)("BOARDV2_ENTER_BOARD"),ti=(0,_r.PH)("BOARDV2_SET_CONDENSED_VIEW"),ni=(0,_r.PH)("BOARDV2_SET_SHOW_CLOSED_PIPELINE"),si=(0,_r.PH)("BOARDV2_SET_SHOW_LABELS"),ri=(0,_r.PH)("BOARDV2_SET_SHOW_REVIEWERS"),ii=(0,_r.PH)("BOARDV2_SET_SHOW_DEPENDENCIES"),oi=(0,_r.PH)("BOARDV2_SET_SHOW_SPRINTS"),ai=(0,_r.PH)("BOARDV2_SET_SHOW_PULL_REQUESTS"),li=(0,_r.PH)("BOARDV2_SET_SHOW_OPEN_ISSUES"),ci=(0,_r.PH)("BOARDV2_SET_SHOW_RELEASES"),di=(0,_r.PH)("BOARDV2_SET_SHOW_ESTIMATES"),ui=(0,_r.PH)("BOARDV2_SET_SHOW_EPICS"),pi=(0,_r.PH)("BOARDV2_SET_SHOW_REPOS"),mi=(0,_r.PH)("BOARDV2_SET_FULL_SCREEN"),hi=(0,_r.PH)("BOARDV2_LOAD_SETTINGS"),Ei=(0,_r.PH)("BOARDV2_RECORD_NEW_EVENT_ID"),gi=(0,_r.PH)("BOARDV2_REMOVE_EVENT_ID"),fi=(0,_r.PH)("BOARDV2_BULK_ACTION_START"),_i=(0,_r.PH)("BOARDV2_BULK_ACTION_END"),vi=(0,_r.PH)("BOARDV2_SET_PIPELINE_SORT"),Ii=(0,_r.PH)("BOARDV2_SET_PIPELINE_SORT_EVENT_MESSAGE"),bi=(0,_r.PH)("BOARDV2_CLEAR_PIPELINE_SORT"),yi=(0,_r.PH)("BOARDV2_SET_IS_ISSUE_FLYOVER_OPEN"),Si=e=>[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length,wi=e=>null==e,Ri=e=>Si(e)||wi(e),Ti=(e,t)=>n=>1===n?e:t,Ci=e=>e[Math.floor(Math.random()*e.length)],ki=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];for(let s=0,r=t.length;s<r;s+=1)e!==s&&n.push(t[s]);return n},Oi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return[...n.slice(0,e),t,...n.slice(e)]},Ni=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},Pi=(e,t)=>{const n=10**t;return Math.round(e*n)/n},Ai=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=Pi(e,t);return n<1e3?n.toString():n.toLocaleString("en-US")},Di=Ti("Point","Points"),Li=Ti("Issue","Issues"),zi=Ti("PR","PRs"),Mi=(e,t,n)=>{const s=[...e?[`${Ai(e)} ${Li(e)}`]:[],...t?[`${Ai(t)} ${zi(t)}`]:[],...n?[`${Ai(n)} ${Di(n)}`]:[]];return 0===s.length&&s.push(`${Ai(0)} ${Li(0)}`,`${Ai(0)} ${Di(0)}`),s.join(" / ")};let xi,Fi,Ui,Bi,qi,Hi,Wi,ji,Gi,Ki,Vi,$i,Zi,Yi,Ji,Xi,Qi,eo,to,no,so,ro,io,oo,ao,lo,co,uo,po,mo,ho,Eo,go,fo,_o,vo;!function(e){e.IssueAdded="ISSUE_ADDED",e.IssueRemoved="ISSUE_REMOVED"}(xi||(xi={})),function(e){e.All="all",e.Issues="issues",e.Prs="prs"}(Fi||(Fi={})),function(e){e.Manual="MANUAL",e.Unlimited="UNLIMITED",e.UpToLimit="UP_TO_LIMIT"}(Ui||(Ui={})),function(e){e.Admin="ADMIN",e.User="USER"}(Bi||(Bi={})),function(e){e.CreatedAt="CREATED_AT",e.Title="TITLE"}(qi||(qi={})),function(e){e.EpicsOnly="epics_only",e.EpicsWithSubtasks="epics_with_subtasks",e.NoEpics="no_epics",e.NotInEpic="not_in_epic"}(Hi||(Hi={})),function(e){e.AssignedForVoting="assigned_for_voting",e.AssignedToUserForVoting="assigned_to_user_for_voting"}(Wi||(Wi={})),function(e){e.Company="COMPANY",e.Contact="CONTACT"}(ji||(ji={})),function(e){e.EstimationVotesInvitesAdded="ESTIMATION_VOTES_INVITES_ADDED",e.EstimationVotesValueSet="ESTIMATION_VOTES_VALUE_SET",e.EstimationVotesVoteRemoved="ESTIMATION_VOTES_VOTE_REMOVED"}(Gi||(Gi={})),function(e){e.Assignees="assignees",e.CreatedAt="created_at",e.Sprints="sprints",e.Title="title"}(Ki||(Ki={})),function(e){e.Closed="CLOSED",e.Open="OPEN"}(Vi||(Vi={})),function(e){e.All="all",e.Any="any"}($i||($i={})),function(e){e.Closed="CLOSED",e.Open="OPEN"}(Zi||(Zi={})),function(e){e.Asc="ASC",e.Desc="DESC"}(Yi||(Yi={})),function(e){e.Admin="ADMIN",e.None="NONE",e.Read="READ",e.Write="WRITE"}(Ji||(Ji={})),function(e){e.End="END",e.Start="START"}(Xi||(Xi={})),function(e){e.Completed="COMPLETED",e.Development="DEVELOPMENT",e.Review="REVIEW"}(Qi||(Qi={})),function(e){e.Reset="RESET",e.Scale="SCALE",e.Shift="SHIFT"}(eo||(eo={})),function(e){e.Closed="CLOSED",e.Open="OPEN"}(to||(to={})),function(e){e.Approved="APPROVED",e.ChangesRequested="CHANGES_REQUESTED",e.Commented="COMMENTED",e.Dismissed="DISMISSED"}(no||(no={})),function(e){e.Closed="CLOSED",e.Merged="MERGED",e.Open="OPEN"}(so||(so={})),function(e){e.Closed="CLOSED",e.Open="OPEN"}(ro||(ro={})),function(e){e.EstimationVotesStateUpdated="ESTIMATION_VOTES_STATE_UPDATED"}(io||(io={})),function(e){e.ClosedIssues="CLOSED_ISSUES",e.OpenIssues="OPEN_ISSUES"}(oo||(oo={})),function(e){e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.Pending="PENDING"}(ao||(ao={})),function(e){e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.Pending="PENDING",e.Usable="USABLE"}(lo||(lo={})),function(e){e.Assignees="ASSIGNEES",e.Issues="ISSUES",e.Labels="LABELS",e.Milestones="MILESTONES"}(co||(co={})),function(e){e.EndOn="end_on",e.StartOn="start_on"}(uo||(uo={})),function(e){e.Admin="ADMIN",e.Member="MEMBER"}(po||(po={})),function(e){e.Friday="FRIDAY",e.Monday="MONDAY",e.Saturday="SATURDAY",e.Sunday="SUNDAY",e.Thursday="THURSDAY",e.Tuesday="TUESDAY",e.Wednesday="WEDNESDAY"}(mo||(mo={})),function(e){e.EndAt="END_AT",e.StartAt="START_AT"}(ho||(ho={})),function(e){e.Closed="CLOSED",e.Open="OPEN"}(Eo||(Eo={})),function(e){e.Login="LOGIN",e.RequestedAt="REQUESTED_AT"}(go||(go={})),function(e){e.EpicCreated="EPIC_CREATED",e.EpicDeleted="EPIC_DELETED",e.IssuesDeleted="ISSUES_DELETED",e.IssuesUpdated="ISSUES_UPDATED",e.PipelineCountsChanged="PIPELINE_COUNTS_CHANGED",e.PipelineCreated="PIPELINE_CREATED",e.PipelineDeleted="PIPELINE_DELETED",e.PipelineIssuesRebalanced="PIPELINE_ISSUES_REBALANCED",e.PipelineIssueCreated="PIPELINE_ISSUE_CREATED",e.PipelineIssueMoved="PIPELINE_ISSUE_MOVED",e.PipelineMoved="PIPELINE_MOVED",e.PipelineUpdated="PIPELINE_UPDATED",e.RepositoryAdded="REPOSITORY_ADDED",e.RepositoryRemoved="REPOSITORY_REMOVED",e.SprintConfigUpdated="SPRINT_CONFIG_UPDATED",e.WorkspaceDeleted="WORKSPACE_DELETED",e.WorkspaceUpdated="WORKSPACE_UPDATED"}(fo||(fo={})),function(e){e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.Pending="PENDING",e.Usable="USABLE"}(_o||(_o={})),function(e){e.Closed="CLOSED",e.InProgress="IN_PROGRESS",e.Open="OPEN",e.Todo="TODO"}(vo||(vo={}));const Io=290,bo="closed--pipeline",yo={id:bo,name:"Closed"},So=50,wo="pipeline",Ro="issue",To="https://changelog.zenhub.com/board-2-0-feature-updates-214387",Co="ZH_BOARD_SETTINGS",ko="repos",Oo="labels",No="assignees",Po="epics",Ao="sprints",Do="epics:settings",Lo="estimates:settings",zo="releases",Mo="milestones",xo="authors",Fo="estimates",Uo="filterLogic",Bo="labels:not",qo="releases:not",Ho="assignees:not",Wo="authors:not",jo="estimates:not",Go="epics:not",Ko="OPTIMISTIC_ID",Vo="OPTIMISTIC_ISSUE_ID",$o="OPTIMISTIC_URL",Zo="OPTIMISTIC_USER",Yo="OPTIMISTIC_EPIC_ID",Jo={isCondensedViewEnabled:"isCondensedViewEnabled",showClosedPipeline:"showClosed",showOpenIssues:"showOpenIssues",showPullRequests:"showPRs",showLabels:"showLabels",showReleases:"showReleases",showReviewers:"showReviewers",showDependencies:"showDependencies",showSprints:"showMilestones",showEstimates:"showEstimates",showEpics:"showEpics",showRepos:"showRepos",isFullScreen:"notFullScreen"},Xo={isCondensedViewEnabled:!1,showClosedPipeline:!0,showOpenIssues:!0,showPullRequests:!0,showLabels:!0,showReleases:!0,showReviewers:!0,showDependencies:!0,showSprints:!0,showEstimates:!0,showEpics:!0,showRepos:!0,isFullScreen:!0},Qo=["state","title","estimationStatus"],ea=["state","title"],ta="425px",na="320px",sa=30,ra=$i.All,ia={includeEpics:!1,includeLabels:!1,includeAssignees:!1,includeSprints:!1,includeReleases:!1,includeMilestones:!1,includeAuthors:!1,includeEstimates:!1},oa=Object.freeze({MANUAL:"SORT_TYPE_MANUAL",NEWEST:"SORT_TYPE_NEWEST",OLDEST:"SORT_TYPE_OLDEST",TITLE_AZ:"SORT_TYPE_TITLE_AZ",TITLE_ZA:"SORT_TYPE_TITLE_ZA",ASSIGNEE:"SORT_TYPE_ASSIGNEE",SPRINT:"SORT_TYPE_SPRINT"}),aa=oa.MANUAL,la={isLoaded:!1,pendingIssueIds:[],selectedIssueIds:[],isQuickActionSelectionMode:!1,isAddPipelineActive:!1,isPipelinesErrorActive:!1,pipelineCounts:{},pendingPipelineReloads:[],localIssueMoves:{},filters:{search:"",repos:{isLoading:!0,value:null},labels:{in:null,nin:null},assignees:{in:null,nin:null},authors:{in:null,nin:null},estimates:{in:null,nin:null,settings:null},sprints:{value:null},epics:{in:null,nin:null,settings:null},releases:{in:null,nin:null},milestones:{value:null}},sortedPipelines:{},sortedPipelinesEventMessage:{},settings:Xo,filterOrder:[],filterLogic:ra,activeBulkActionModal:null,userEventIds:[],pendingBulkActions:[],isIssueFlyoverOpen:!1},ca=(e,t,n)=>{const s=Array.from(n),r=Array.from(t),i=(a=s,(o=r||[]).filter((e=>!a.includes(e))).concat(a.filter((e=>!o.includes(e)))));var o,a;const l=[...e];return i.forEach((e=>{if(t.has(e)){const t=l.indexOf(e);t>-1&&l.splice(t,1)}else l.unshift(e)})),l},da=(0,_r.Lq)(la,(e=>{e.addCase(Qr.type,(e=>{e.isLoaded=!1})),e.addCase(yr.type,((e,t)=>{let{payload:n}=t;e.isPipelinesErrorActive=n})),e.addCase(Sr.type,((e,t)=>{let{payload:{issueId:n,isQuickActionSelectionMode:s}}=t;const r=new Set(e.selectedIssueIds);r.has(n)?r.delete(n):r.add(n),e.selectedIssueIds=Array.from(r),e.isQuickActionSelectionMode=s||!1})),e.addCase(wr.type,((e,t)=>{let{payload:n}=t;const s=new Set([...e.selectedIssueIds,...n]);e.selectedIssueIds=Array.from(s)})),e.addCase(fi.type,((e,t)=>{let{payload:n}=t;e.pendingBulkActions=[...e.pendingBulkActions,n]})),e.addCase(_i.type,((e,t)=>{let{payload:n}=t;const s=e.pendingBulkActions.findIndex((e=>e===n));s>-1&&e.pendingBulkActions.splice(s,1)})),e.addCase(Rr.type,((e,t)=>{let{payload:n}=t;const s=new Set([...e.selectedIssueIds]);n.forEach((e=>{s.has(e)&&s.delete(e)})),e.selectedIssueIds=Array.from(s)})),e.addCase(Tr.type,(e=>{e.selectedIssueIds=[]})),e.addCase(Or.type,((e,t)=>{let{payload:n}=t;e.isAddPipelineActive=n})),e.addCase(Nr.type,((e,t)=>{let{payload:n}=t;const s=new Set(e.pendingPipelineReloads);s.has(n)||(s.add(n),e.pendingPipelineReloads=Array.from(s))})),e.addCase(Pr.type,((e,t)=>{let{payload:n}=t;const s=new Set(e.pendingPipelineReloads);s.has(n)&&(s.delete(n),e.pendingPipelineReloads=Array.from(s))})),e.addCase(Ar,((e,t)=>{let{payload:{pipelineId:n,issuesCount:s,pullRequestsCount:r,totalStoryPoints:i}}=t;e.pipelineCounts={...e.pipelineCounts,[n]:{issuesCount:s,pullRequestsCount:r,totalStoryPoints:i}}})),e.addCase(Dr.type,(e=>{const{settings:t}=e;return{...la,settings:t}})),e.addCase(Lr.type,(e=>{const t={...e.filters};t.assignees.in=[],t.assignees.nin=[],t.authors.in=[],t.authors.nin=[],t.estimates.in=[],t.estimates.nin=[],t.estimates.settings=[],t.labels.in=[],t.labels.nin=[],t.epics.in=[],t.epics.nin=[],t.epics.settings=[],t.sprints.value=[],t.releases.in=[],t.releases.nin=[],t.milestones.value=[],e.filters=t,e.filterOrder=la.filterOrder})),e.addCase(zr.type,((e,t)=>{let{payload:n}=t;e.filters.search=n})),e.addCase(Mr.type,(e=>{e.filters.search=""})),e.addCase(xr.type,((e,t)=>{let{payload:n}=t;const s=new Set(e.filters.repos.value);e.filters.repos.value&&Ni(s,n)||(e.filters.repos.value=Array.from(n))})),e.addCase(Fr.type,((e,t)=>{let{payload:n}=t;e.isLoaded=!0,n&&(e.filters.repos.value=Array.from(n)),e.filters.repos.isLoading=!1})),e.addCase(Ur.type,((e,t)=>{let{payload:{in:n,nin:s}}=t;const r=new Set(e.filters.labels.in),i=new Set(e.filters.labels.nin);if(e.filters.labels.in&&Ni(r,n)&&e.filters.labels.nin&&Ni(i,s))return;const o=[...e.filterOrder];e.filterOrder=ca(o,new Set([...r,...i]),new Set([...n,...s])),e.filters.labels.in=Array.from(n),e.filters.labels.nin=Array.from(s)})),e.addCase(Br.type,((e,t)=>{let{payload:{in:n,nin:s}}=t;const r=new Set(e.filters.assignees.in),i=new Set(e.filters.assignees.nin);if(e.filters.assignees.in&&Ni(r,n)&&e.filters.assignees.nin&&Ni(i,s))return;const o=[...e.filterOrder];e.filterOrder=ca(o,new Set([...r,...i]),new Set([...n,...s])),e.filters.assignees.in=Array.from(n),e.filters.assignees.nin=Array.from(s)})),e.addCase(Vr.type,((e,t)=>{let{payload:{in:n,nin:s}}=t;const r=new Set(e.filters.authors.in),i=new Set(e.filters.authors.nin);if(e.filters.authors.in&&Ni(r,n)&&e.filters.authors.nin&&Ni(i,s))return;const o=[...e.filterOrder];e.filterOrder=ca(o,new Set([...r,...i]),new Set([...n,...s])),e.filters.authors.in=Array.from(n),e.filters.authors.nin=Array.from(s)})),e.addCase(Kr.type,((e,t)=>{let{payload:{estimates:{in:n,nin:s},settings:r}}=t;const i=new Set(e.filters.estimates.in),o=new Set(e.filters.estimates.nin),a=new Set(e.filters.estimates.settings);if(e.filters.estimates.in&&Ni(i,n)&&e.filters.estimates.nin&&Ni(o,s)&&Ni(a,r))return;const l=[...e.filterOrder];e.filterOrder=ca(l,new Set([...i,...o,...a]),new Set([...n,...s,...r])),e.filters.estimates.in=Array.from(n),e.filters.estimates.nin=Array.from(s),e.filters.estimates.settings=Array.from(r)})),e.addCase(Hr.type,((e,t)=>{let{payload:{epicIds:{in:n,nin:s},epicSettings:r}}=t;const i=new Set(e.filters.epics.in),o=new Set(e.filters.epics.nin),a=new Set(e.filters.epics.settings);if(e.filters.epics.in&&Ni(i,n)&&e.filters.epics.nin&&Ni(o,s)&&Ni(a,r))return;const l=new Set([...i,...o,...a]),c=new Set([...n,...s,...r]),d=[...e.filterOrder];e.filterOrder=ca(d,l,c),e.filters.epics.in=Array.from(n),e.filters.epics.nin=Array.from(s),e.filters.epics.settings=Array.from(r)})),e.addCase(Wr.type,((e,t)=>{let{payload:n}=t;const s=new Set(e.filters.sprints.value);if(e.filters.sprints.value&&Ni(s,n))return;const r=[...e.filterOrder];e.filterOrder=ca(r,s,n),e.filters.sprints.value=Array.from(n)})),e.addCase($r.type,((e,t)=>{let{payload:n}=t;e.filterLogic=n})),e.addCase(jr.type,((e,t)=>{let{payload:n}=t;const s=new Set(e.filters.epics.in),r=new Set(e.filters.epics.in),i=new Set(e.filters.epics.settings);r.has(n)?r.delete(n):r.add(n);const o=Array.from(r),a=new Set([...s,...i]),l=new Set([...o,...i]),c=[...e.filterOrder];e.filterOrder=ca(c,a,l),e.filters.epics.in=o})),e.addCase(qr.type,((e,t)=>{let{payload:{in:n,nin:s}}=t;const r=new Set(e.filters.releases.in),i=new Set(e.filters.releases.nin);if(e.filters.releases.in&&Ni(r,n)&&e.filters.releases.nin&&Ni(i,s))return;const o=[...e.filterOrder];e.filterOrder=ca(o,new Set([...r,...i]),new Set([...n,...s])),e.filters.releases.in=Array.from(n),e.filters.releases.nin=Array.from(s)})),e.addCase(Gr.type,((e,t)=>{let{payload:n}=t;const s=new Set(e.filters.milestones.value);if(e.filters.milestones.value&&Ni(s,n))return;const r=[...e.filterOrder];e.filterOrder=ca(r,s,n),e.filters.milestones.value=Array.from(n)})),e.addCase(Zr.type,((e,t)=>{let{payload:n}=t;const s=e.localIssueMoves;if(s[n.id]){const e=new Set(s[n.id]);e.add(n.movedAt),s[n.id]=Array.from(e)}else s[n.id]=[n.movedAt];e.localIssueMoves=s})),e.addCase(Yr.type,(e=>{e.localIssueMoves={}})),e.addCase(Jr.type,((e,t)=>{let{payload:n}=t;e.activeBulkActionModal=n})),e.addCase(Xr.type,(e=>{e.activeBulkActionModal=null})),e.addCase(ti.type,((e,t)=>{let{payload:n}=t;e.settings.isCondensedViewEnabled=n})),e.addCase(ni.type,((e,t)=>{let{payload:n}=t;e.settings.showClosedPipeline=n})),e.addCase(ai.type,((e,t)=>{let{payload:n}=t;e.settings.showPullRequests=n})),e.addCase(li.type,((e,t)=>{let{payload:n}=t;e.settings.showOpenIssues=n})),e.addCase(si.type,((e,t)=>{let{payload:n}=t;e.settings.showLabels=n})),e.addCase(ci.type,((e,t)=>{let{payload:n}=t;e.settings.showReleases=n})),e.addCase(ri.type,((e,t)=>{let{payload:n}=t;e.settings.showReviewers=n})),e.addCase(oi.type,((e,t)=>{let{payload:n}=t;e.settings.showSprints=n})),e.addCase(ui.type,((e,t)=>{let{payload:n}=t;e.settings.showEpics=n})),e.addCase(pi.type,((e,t)=>{let{payload:n}=t;e.settings.showRepos=n})),e.addCase(ii.type,((e,t)=>{let{payload:n}=t;e.settings.showDependencies=n})),e.addCase(di.type,((e,t)=>{let{payload:n}=t;e.settings.showEstimates=n})),e.addCase(mi.type,((e,t)=>{let{payload:n}=t;e.settings.isFullScreen=n})),e.addCase(hi.type,((e,t)=>{let{payload:n}=t;e.settings=n})),e.addCase(vi.type,((e,t)=>{let{payload:{id:n,type:s}}=t;if(!e.sortedPipelines[n]||s&&s!==aa)null!=s&&(e.sortedPipelines[n]=s);else{const{[n]:t,...s}=e.sortedPipelines;e.sortedPipelines=s;const{[n]:r,...i}=e.sortedPipelinesEventMessage;e.sortedPipelinesEventMessage=i}})),e.addCase(Ii.type,((e,t)=>{let{payload:{id:n,message:s}}=t;if(s)e.sortedPipelinesEventMessage[n]=s;else{const{[n]:t,...s}=e.sortedPipelinesEventMessage;e.sortedPipelinesEventMessage=s}})),e.addCase(bi.type,((e,t)=>{let{payload:{id:n}}=t;const{[n]:s,...r}=e.sortedPipelinesEventMessage;e.sortedPipelinesEventMessage=r;const{[n]:i,...o}=e.sortedPipelines;e.sortedPipelines=o})),e.addCase(Ei.type,((e,t)=>{let{payload:n}=t;e.userEventIds=[...e.userEventIds,n]})),e.addCase(gi.type,((e,t)=>{let{payload:n}=t;const s=e.userEventIds.indexOf(n);if(-1===s)return;const r=[...e.userEventIds];r.splice(s,1),e.userEventIds=r})),e.addCase(yi.type,((e,t)=>{let{payload:n}=t;e.isIssueFlyoverOpen=n}))})),ua=da;var pa=n(30427),ma=n(60268),ha=n(73127);function Ea(e){return sessionStorage.removeItem(e)}function ga(e){return sessionStorage.getItem(e)}const fa=(e,t)=>{const n=JSON.stringify(t);sessionStorage.setItem(e,n)},_a=e=>{const t=sessionStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}};function va(e,t,n){if(t===n)return void sessionStorage.removeItem(e);const s="object"==typeof t?JSON.stringify(t):t;sessionStorage[e]=s}const Ia="zhPipelineMappedWorkspace",ba="zhPipelineMappedWorkspaceShown",ya=()=>{H.Z.removeByTypeAndTag(W.Z.LARGE_CARD,"pipelineMappingToast")},Sa=e=>{fa(Ia,e)},wa=e=>{fa(ba,e),Ea(Ia)},Ra=ee.ETc(["pages","reloadWorkspaceOrder"]),Ta=(ee.ETc(["pages","onboardingPlatform"]),ee.uF6(["pages","onboardingPlatform"],"extension")),Ca=ee.uF6(["pages","isFavoriteRepo"],!0),ka=(ee.ETc(["pages","modal","activeFullscreenModal"]),ee.uF6(["pages","isFavoriteWorkspace"],!0)),Oa=(ee.ETc(["pages","modal","skipModalRestoreUrl"]),ee.ETc(["pages","error"])),Na=ee.ETc(["pages","currentWorkspace"]),Pa=ee.ETc(["pages","currentWorkspace","_id"]),Aa=ee.ETc(["pages","currentWorkspace","name"]),Da=ee.ETc(["pages","currentWorkspace","repos"]),La=ee.ETc(["pages","currentWorkspace","repos"]),za=ee.ETc(["pages","currentWorkspace","pipelines"]),Ma=ee.ETc(["pages","currentWorkspace","description"]),xa=ee.uF6(["pages","error"],!0),Fa=ee.ETc(["pages","currentWorkspace","priorities"]),Ua=(ee.ETc(["pages","currentWorkspace","zenhubOrganization","id"]),ee.ETc(["pages","currentWorkspace","zenhubOrganization","name"]),(0,pa.P1)(Na,(e=>!!e&&!1===e.isEditable))),Ba=ee.ETc(["pages","defaultRepoId"]),qa=(0,pa.P1)(Na,(e=>e.defaultRepoId));const Ha=(0,pa.P1)([Da],(function(e){return ee.kKJ(e)?null:ee.jge("repo_id",e)})),Wa=(0,pa.P1)([Da],(function(e){return ee.kKJ(e)?null:ee.jge("id",e)})),ja=((0,pa.P1)([Da],(function(e){return ee.kKJ(e)?[]:ee.jge("repository",e)})),(0,pa.P1)([za],(function(e){return ee.kKJ(e)?[]:ee.jge("id",e)}))),Ga=(0,pa.P1)([Aa],ee.kKJ),Ka=(0,pa.P1)(Na,(e=>e?e.displayName:null)),Va=(0,pa.P1)([Da],(e=>e&&1===e.length)),$a=(0,pa.P1)(Na,(e=>!e||!ha.fb(e))),Za=(0,pa.P1)([Ba,Na],((e,t)=>e&&Na?ha.Jp(t,e):null)),Ya=(0,pa.P1)([Za],(e=>e?{ghId:e.repo_id,name:e.repository,owner:e.owner,permissions:e.permissions}:null)),Ja=(0,pa.P1)([Ya],ee.ETc(["name"])),Xa=(0,pa.P1)([Ya],ee.ETc(["owner"])),Qa=((0,pa.P1)([Ya],ee.ETc(["owner","ghId"])),(0,pa.P1)([Ya],ee.ETc(["owner","login"]))),el=(0,pa.P1)([Oa],(e=>e&&String(e)?.includes("SAML authentication required")||!1)),tl=(0,pa.P1)([Na],(e=>{const t=n(60268),{getBoardPathInWebapp:s,getBoardPath:r}=t,i=F?s:r,{webappURL:o}=L.Z;return x?o:o+i({workspace:e})})),nl="DROPDOWN_ASSIGNEE",sl="DROPDOWN_AUTHOR",rl="DROPDOWN_BOARD_SETTINGS",il="DROPDOWN_CONTROL_DATE",ol="DROPDOWN_CCR_REPO",al="DROPDOWN_EPIC",ll="DROPDOWN_ESTIMATE",cl="DROPDOWN_FILTER_LOGIC",dl="DROPDOWN_LABEL",ul="DROPDOWN_MILESTONE",pl="DROPDOWN_NONE",ml="DROPDOWN_PIPELINE",hl="DROPDOWN_PROFILE",El="DROPDOWN_RELEASE",gl="DROPDOWN_REPO",fl="DROPDOWN_SPRINT",{isNilOrEmpty:_l}=(Object.freeze({ASSIGNEE:nl,AUTHOR:sl,BOARD_SETTINGS:rl,CONTROL_DATE:il,CCR_REPO:ol,EPIC:al,ESTIMATE:ll,FILTER_LOGIC:cl,LABEL:dl,MILESTONE:ul,NEW_ISSUE:"DROPDOWN_NEW_ISSUE",NONE:pl,PIPELINE:ml,PROFILE:hl,RELEASE:El,REPO:gl,SIDEBAR:"MENU_SIDEBAR",SUBSCRIPTION:"DROPDOWN_SUBSCRIPTION",SPRINT:fl}),Vt.Z),vl=function(e){return ee.zGw(ee.vgT(e),_l,ee.ffD)},Il=function(){return{applied:(new Date).toString()}},bl=function(){return{is:{},not:{},settings:{}}},yl={getEmptyFilter:bl,addSetting:ee.WAo(((e,t)=>ee.uhR(["settings",e],Il(),t))),removeSetting:ee.WAo(((e,t)=>ee.ghH(["settings",e],t))),clearSettings:e=>ee.yGi("settings",{},e),setFilter:e=>ee.uhR(["is",e.filterKey],Il(),{is:{},not:{},settings:{}}),addFilter(e,t){const n=e.negated?"not":"is";return ee.uhR([n,e.filterKey],Il(),t)},removeFilter(e,t){const n=e.negated?"not":"is";return ee.ghH([n,e.filterKey],t)},hasActiveFilterBoard:e=>ee.zGw(ee.ETc(["board","filters",e]),ee.H50([vl("is"),vl("not"),vl("settings")])),hasActiveFilterBurndown:e=>ee.zGw(ee.ETc(["reports","burndown","filters",e]),ee.wEe(vl("is"),vl("not"))),hasActiveFilterVelocity:e=>ee.zGw(ee.ETc(["reports","velocity","filters",e]),ee.wEe(vl("is"),vl("not"))),isKeySelected:(e,t)=>ee.e$l(e,t.is)||ee.e$l(e,t.not)||ee.e$l(e,t.settings),isFilterEmpty:e=>ee.xbD(e.is)&&ee.xbD(e.not)&&ee.xbD(e.settings)},Sl="Issues with no assignees",wl=ee.t$q(Sl),Rl=ee.qCK(ee.t$q,ee.vgT("login")),Tl=function(e){let{avatarUrl:t,id:n,username:s,name:r=null,zenhubUser:i=null}=e,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{avatar_url:t,id:String(n),login:s,name:r,zenhubUser:!!o||i}};var Cl=n(9903);function kl(e){return new Date(e).getTime()}const Ol=ee.qCK(kl,ee.vgT("due_on")),Nl=ee.qCK(kl,ee.vgT("created_at")),Pl=ee.qCK(kl,ee.vgT("closed_at")),Al=ee.MRu(Ol),Dl=ee.MRu(ee.qCK(ee.tkI,Ol)),Ll=ee.MRu(ee.qCK(ee.tkI,Nl)),zl=ee.MRu(ee.qCK(ee.tkI,Pl)),Ml=ee.OH4("state","open"),xl=ee.qCK(ee.ffD,ee.kKJ,ee.vgT("due_on")),Fl="Issues with no milestone",Ul=`${Fl}#`,Bl="Please edit the milestone there separately.",ql=/\/([^/]+)\/[^/]+\/(?:milestone)\/([^/]+)/,Hl=/\/([^/]+)\/(?:milestone)\/([^/]+)/;function Wl(e){const t=ee.hXT(xl,e),n=ee.d1t(xl,e),s=(new Date).getTime(),r=ee.qCK(ee.GaM(s),Ol),i=ee.hXT(r,t),o=ee.d1t(r,t);return ee.xHg([Al(i),Dl(o),n])}function jl(e){const t=ee.hXT(xl,e),n=ee.d1t(xl,e);return ee.zoF(Al(t),n)}function Gl(e,t){return ee.zoF(function(e){const t=ee.hXT(xl,e),n=ee.d1t(xl,e);return ee.zoF(Al(t),n)}(t),jl(e))}function Kl(e,t){const n=t||{},s=ee.hXT(Ml,e),r=ee.d1t(Ml,e);return n.byStateThenChronological?Gl(s,r):n.byStateThenProximity?function(e,t){return ee.zoF(Wl(e),zl(t))}(s,r):n.byStateThenProximityClosedByCreated?function(e,t){return ee.zoF(Wl(e),Ll(t))}(s,r):function(e,t){return ee.zoF(jl(e),ee.GYS(Al(t)))}(s,r)}const Vl=ee.WAo((e=>{if(ee.kKJ(e))return Ul;if(!ee.kKJ(e.milestoneKey))return e.milestoneKey;const t=e.due_on?e.due_on.substring(0,10):"";return`${e.title}#${t}`}));function $l(e){return ee.kKJ(e)?Vl(e):`${Vl(e)}#${ee.v_p("/",ee.VO0(e.repoInfo))}`}function Zl(e){return ee.yGi("milestoneKey",Vl(e),e)}function Yl(e){return Vt.Z.groupBy((e=>{const t=e.milestoneKey;return ee.kKJ(t)?Vl(e):t}),e)}const Jl=ee.zGw(Yl,ee.UID((e=>{const t=ee.xHg(ee.jge("repoInfo",e));return ee.qCK(ee.anz("repoInfo"),ee.yGi("repos",t))(ee.YMb(e))})),ee.VO0);function Xl(e){const t=e.match(ql);return t&&t.length&&t.length>=1?t[1]:""}function Ql(e){const t=e.match(Hl);return t&&t.length&&t.length>=1?t[1]:""}const ec=ee.qCK(ee.v_p("\n\t"),ee.UID((function(e){return`${e.organization}/${e.repository}`})));function tc(e){const t=ee.hXT(ee.vgT("error"),e);if(ee.xbD(t))return null;const n=ec(t);return 1===ee.kE(t)?`An error occured creating the Milestone in the following repo: \n\n\t${n}`:`An error occured creating the Milestone in the following repos: \n\n\t${n}`}function nc(e){const t=ee.d1t(ee.qCK(ee.kKJ,ee.vgT("error")),e);if(ee.xbD(t))return null;const n=ec(t),s=1===ee.kE(t),r=ee.YjB(ee.OH4("error","Validation Failed"),t);return s&&r?`That title already exists in the following repo: \n\n\t${n}\n\n${Bl}`:s?`There was an error editing the Milestone in the following repo: \n\n\t${n}\n\n${Bl}`:r?`That title already exists in the following repos: \n\n\t${n}\n\n${Bl}`:`There was an error editing the Milestone in the following repos: \n\n\t${n}\n\n${Bl}`}const sc=e=>{const t={...Cl.Z,repoCount:e};H.Z.createToast(W.Z.CREATE_MILESTONE_UPDATE,t)},rc=e=>{const t={...Cl.Z,alignClosed:!1,repos:e};H.Z.createToast(W.Z.CREATE_MILESTONE_ERROR,t)},ic="Issues with no sprints",oc=`${ic}`,ac=ee.WAo((e=>ee.kKJ(e)?oc:e.id));var lc=n(61320),cc=n.n(lc);const dc=cc();function uc(){return dc().startOf("day")}function pc(e){return dc(e).unix()}function mc(e){return dc.unix(e)}function hc(e){return dc(e).startOf("day")}function Ec(e,t){return dc(e).isBefore(t)}function gc(e,t){return dc(e).isAfter(t)}function fc(e){return dc(e).toDate()}function _c(e){return dc(e).format()}const vc=ee.OH4("state","closed"),Ic="Issues with no releases",bc=ee.t$q(Ic),yc=6,Sc=ee.vgT("release_id"),wc=ee.OH4("state","open");function Rc(e){return new Date(e)}const Tc=ee.qCK(Rc,ee.vgT("desired_end_date")),Cc=ee.qCK(Rc,ee.vgT("closed_at")),kc=ee.MRu(Cc),Oc=ee.qCK(hc,Tc),Nc=ee.MRu(Oc),Pc=ee.qCK(ee.GYS,kc),Ac=ee.qCK(ee.GYS,Nc);const Dc=ee.qCK(ee.YMb,(function(e){const t=hc(new Date),n=ee.qCK(ee.GaM(t),Oc),s=ee.qCK(ee.gt(t),Oc),r=ee.qCK(Nc,ee.hXT(ee.sv4([n,wc])))(e),i=ee.qCK(Ac,ee.hXT(ee.sv4([s,wc])))(e),o=ee.qCK(Pc,ee.hXT(ee.sv4([s,vc])))(e),a=ee.qCK(kc,ee.hXT(ee.sv4([n,vc])))(e);return ee.xHg([r,i,o,a])}));function Lc(e,t){let n=null;return e&&(n=ee.sEJ(ee.OH4("release_id",e),t)),ee.kKJ(n)&&(n=Dc(t)),ee.kKJ(n)?null:n}function zc(e,t){if(ee.kKJ(e)||ee.xbD(ee.XPQ(e)))return[];const n=ee.zGw(ee.VO0,ee.xHg)(e),s=ee.HK3(Sc,n);return ee.UID((e=>s[e]),ee.XPQ(t))}const Mc=ee.qCK(ee.UID(ee.O7K),ee.$Re),xc=ee.qCK(ee.Smz,Mc);function Fc(e,t){const n=ee.kE(e),s=ee.qnb(n-1,e),r=ee.Z$Q(e),i=ee.qnb(n-1,t),o=ee.Z$Q(t),a=ee.UID(ee.$XF(o),i),l=ee.UID(ee.$XF(r),s),c=xc(a,l)/xc(l,l);return[o-c*r,c]}const Uc={LOADING:"LOADING",EMPTY:"EMPTY",CREATE:"CREATE",EDIT:"EDIT",LOADED:"LOADED"},Bc={ISSUE_ADDED:"ISSUE_ADDED",ISSUE_REMOVED:"ISSUE_REMOVED",ISSUE_COMPLETED:"ISSUE_COMPLETED",ISSUE_REOPENED:"ISSUE_REOPENED",ESTIMATE_ADDED:"ESTIMATE_ADDED",ESTIMATE_REMOVED:"ESTIMATE_REMOVED",ESTIMATE_CHANGED:"ESTIMATE_CHANGED",RELEASE_START_DATE_CHANGED:"RELEASE_START_DATE_CHANGED",RELEASE_END_DATE_CHANGED:"RELEASE_END_DATE_CHANGED",RELEASE_CLOSED:"RELEASE_CLOSED",RELEASE_REOPENED:"RELEASE_REOPENED",RELEASE_OPEN:"RELEASE_OPEN",UNKNOWN_EVENT:"UNKNOWN_EVENT"},qc=[Bc.ISSUE_ADDED,Bc.ISSUE_REMOVED,Bc.ESTIMATE_ADDED,Bc.ESTIMATE_REMOVED,Bc.ESTIMATE_CHANGED];function Hc(e){return ee.xHg(e).reduce(((e,t)=>(e[an(t)]=t.releases,e)),{})}function Wc(e){return{repoName:e.cached_repo_name,orgName:e.cached_repo_owner,repoId:e.repo_id}}const jc=ee.WAo(((e,t)=>({release_id:e,repo_ids:t})));function Gc(e){const t=hc(new Date),n=ee.qCK(ee.GaM(t),Oc),s=ee.uKc(n,e),r=Nc(s[0]),i=Ac(s[1]);return ee.zoF(r,i)}const Kc=ee.WAo(((e,t)=>ee.YjB(ee.OH4("release_id",t.release_id),e))),Vc=function(e,t){return ee.r3W(t.release_id,ee.XPQ(e))},$c=ee.v19(ee.yGi("filterKey"),[ee.vgT("release_id"),ee.yRu]),Zc=ee.WAo(((e,t,n,s)=>{const r=Kc(e,s),i=Vc(n,s),o=Vc(t,s);return r&&!i||o?ee.yGi("selected",!0,s):ee.yGi("selected",!1,s)}));function Yc(e,t,n){const s=ee.qCK(ee.uKc(Kc(t)),ee.UID($c))(n),r=e(s[0]),i=e(s[1]);return ee.zoF(r,i)}function Jc(e,t,n,s,r){if(!r||ee.kKJ(e))return null;const i=ee.UID(Zc(t,n,s),e),o=ee.uKc(wc,i);return{open:Yc(Nc,t,o[0]),closed:Yc(Pc,t,o[1])}}const Xc=()=>{const e={...Cl.Z};H.Z.createToast(W.Z.CREATE_RELEASE_UPDATE,e)},Qc=e=>{const t={...Cl.Z,alignClosed:!1,repos:e};H.Z.createToast(W.Z.CREATE_RELEASE_ERROR,t)},ed="Issues with no labels",td="Issues with no labels#",nd={name:ed,filterKey:td,isSpecialFilter:!0};function sd(e){return e?.filterKey?e.filterKey:e.name?.toLowerCase()}const rd=e=>e.reduce(((e,t)=>(e[t.id]=t.labels.nodes,e)),{}),id={matchSearchQueryFilter(e,t){const n={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const r=this.findMatchingSearchTerm(s,e,n);if(!r)return!1;if(n[r]=j.ZP.has(n,r)?n[r]+t[s]:t[s],e[r]<n[r])return!1}return!0},findMatchingSearchTerm(e,t,n){let s,r;for(const i in t)if(i.indexOf(e)>-1){const o=Math.abs(i.length-e.length),a=!j.ZP.has(n,i)||t[i]>n[i];(void 0===s||s>o)&&a&&(s=o,r=i)}return r},getQueryIndex(e){const t=encodeURI(e),n=decodeURIComponent(t).trim().toLowerCase();return(j.ZP.isEmpty(n)?[]:n.split(" ")).reduce(((e,t)=>{const n=e;return n[t]=j.ZP.has(n,t)?n[t]+1:1,n}),{})},buildSearchIndex(e){const t=this.compileSearchTerms(e);return(j.ZP.isEmpty(t)?[]:t.split(" ")).reduce(((e,t)=>{const n=e;return n[t]=j.ZP.has(n,t)?n[t]+1:1,n}),{})},compileSearchTerms(e){const{assignees:t,labels:n,milestone:s,title:r}=e;let i="",o="";n&&n.forEach((e=>{o+=` ${e.name.toLowerCase()}`})),t&&t.forEach((e=>{i+=` ${e.login.toLowerCase()}`}));const a={title:r?r.toLowerCase():"",issue_number:e.issue_number,milestone:s?` ${s.title.toLowerCase()}`:""};return[a.title,`#${a.issue_number}`,a.milestone,i,o].join(" ")}},od=id,ad="Issues with no estimate",ld="team_estimation",cd=["vote_conflict","pending"],dd=e=>{const t=e?.find?.((e=>!0===e.selected));return t?.value??null},ud=e=>e.map((e=>e.value)),pd=ee.qCK(ee.t$q,ee.vgT("login")),{getMilestoneKey:md}=o,{getLabelFilterKey:hd}=l,{isFilterEmpty:Ed}=yl,{getIssuePath:gd,isOpen:fd,isPullRequest:_d,isClosed:vd}=i,Id=ee.wEe(ee.kKJ,ee.xbD),bd="all",yd=ee.WAo(((e,t)=>{const n=e[t]||{};return vd(n)}));function Sd(e,t){return ee.$6P(ee.r3W(ee.__,e),t)}const wd=(e,t,n)=>t===bd?((e,t)=>{const n=Object.keys(e.settings),s=n.every((e=>t.includes(e))),r=Id(n)||s,i=Object.keys(e.is),o=i.every((e=>t.includes(e))),a=Id(i)||o,l=Object.keys(e.not),c=l.every((e=>!t.includes(e))),d=Id(l)||c;return r&&a&&d})(e,n):((e,t)=>{const n=Object.keys(e.settings),s=n.some((e=>t.includes(e))),r=Id(n)||s,i=Object.keys(e.is).some((e=>t.includes(e))),o=Object.keys(e.not).some((e=>!t.includes(e)));return r&&(i||o)})(e,n),Rd=ee.WAo(((e,t,n)=>{if(Ed(e))return!0;let s=n.labels.map(hd);return ee.xbD(s)&&(s=[td]),wd(e,t,s)})),Td=ee.WAo(((e,t,n)=>{if(Ed(e))return!0;const s=pd(n.user);return wd(e,t,[s])})),Cd=ee.WAo(((e,t,n)=>{const{estimate:s}=n;let r;if(s)r=[s.toString()];else{r=cd.includes(n.estimation_status)?[ld,ad]:[ad]}return wd(e,t,r)})),kd=ee.WAo(((e,t,n)=>{if(Ed(e))return!0;const{assignees:s}=n,r=Id(s)?[wl]:s.map(Rl);return wd(e,t,r)})),Od=ee.WAo(((e,t,n)=>{if(Ed(e))return!0;let s=[...ee.jge("release_id",n.releases),...ee.jge("mongo_id",n.releases)];return ee.xbD(s)&&(s=[bc]),wd(e,t,s)})),Nd=ee.WAo(((e,t,n)=>{if(Ed(e))return!0;const s=Id(n.milestone)?[Ul]:[md(n.milestone)];return wd(e,t,s)})),Pd=ee.WAo(((e,t,n)=>{if(Ed(e))return!0;const s=Id(n.sprints)?[oc]:n.sprints.map(ac);return wd(e,t,s)})),Ad=ee.WAo(((e,t)=>ee.r3W(t.repo_id,e))),Dd="noEpics",Ld="epicsWithSubtasks",zd="epicsOnly",Md="notInEpic",xd=ee.r3W(ee.__,[Ld,zd,Md,Dd]),Fd=(e,t)=>{const{settings:n}=e;if(Id(n))return!0;const s=t.is_epic,r=!Id(t.parent_epics),i=s||r,o=ee.e$l(ee.__,n),a=o(Dd)&&!s,l=o(Ld)&&i,c=o(zd)&&s,d=o(Md)&&!i;return a||l||c||d},Ud=(e,t)=>{const n=Object.keys(e.is),s=Object.keys(e.not),r=Object.keys(e.settings);if(((e,t,n)=>Id(e)&&Id(t)&&Id(n))(n,s,r))return!0;const i=gd(t),o=(t.parent_epics||[]).map(gd),a=Fd(e,t),l=Id(n)||n.includes(i)||n.some((e=>o.includes(e))),c=!s.includes(i)&&s.every((e=>!o.includes(e))),d=l&&c;return Id(r)?d:Id(n)&&Id(s)?a:a||d},Bd=ee.WAo(((e,t,n)=>t===bd?((e,t)=>{const n=Fd(e,t),s=gd(t),r=(t.parent_epics||[]).map(gd),i=Object.keys(e.is),o=Id(i)||i.every((e=>e===s))||i.every((e=>r.includes(e))),a=Object.keys(e.not),l=Id(a)||!a.includes(s)&&a.every((e=>!r.includes(e)));return n&&o&&l})(e,n):Ud(e,n))),qd=ee.WAo(((e,t)=>{if(ee.kKJ(e)||ee.xbD(e))return!0;const n=od.getQueryIndex(e),s=od.buildSearchIndex(t);return od.matchSearchQueryFilter(s,n)})),Hd=ee.WAo(((e,t)=>!!e||!_d(t))),Wd=ee.WAo(((e,t)=>ee.sv4([Rd(e.labels,"all"),Hd(e.showPRs),Ad(e.repos)])(t))),jd=ee.WAo(((e,t)=>!!ee.kKJ(e)||ee.r3W(gd(t),e))),Gd=ee.WAo(((e,t)=>{const n=gd(t);return ee.UID(ee.qCK(ee.R3I(ee.__,[n]),gd),ee.vgT(e,t)||[])}));function Kd(e){return ee.v19(ee.zoF,[Gd("blocking"),Gd("blocked_by")])(e)}function Vd(e){return ee.qCK(ee.d1t(ee.YjB(yd(e))),ee.sv7(Sd),ee.UWY,ee.UID(Kd),ee.VO0)(e)}const $d=ee.WAo(((e,t)=>{const n=ee.uKc(ee.r3W(e),t),s=n[0],r=n[1];if(ee.xbD(s))return[e];const i=ee.jj$(ee.xHg(s)),o=ee.UID((e=>$d(e,r)),i);return ee.jj$(ee.xHg(o))})),Zd=ee.WAo(((e,t)=>ee.qCK($d(e),Vd)(t))),Yd=ee.WAo(((e,t)=>ee.sv4(e)(t))),Jd=ee.WAo(((e,t)=>!!ee.xbD(e)||ee.H50(e)(t))),Xd=(e,t)=>{const{repos:n,showPRs:s,showOpenIssues:r}=e,i=[];return s||i.push(Hd(s,t)),r||i.push(((e,t)=>!!e||!fd(t)||_d(t))(r,t)),i.push(Ad(n,t)),!i.includes(!1)},Qd=(e,t,n)=>Xd(t,n)&&((e,t)=>Id(e.search)||qd(e.search,t))(t,n)&&e(n),eu=ee.WAo(((e,t,n)=>{const s=((e,t,n)=>{const s=[],r=ee.kKJ(e.dependencies.value)?null:Zd(e.dependencies.value,n);return Ed(e.assignees)||s.push(kd(e.assignees,t)),Ed(e.authors)||s.push(Td(e.authors,t)),Ed(e.milestones)||s.push(Nd(e.milestones,t)),Ed(e.sprints)||s.push(Pd(e.sprints,t)),Ed(e.labels)||s.push(Rd(e.labels,t)),Ed(e.releases)||s.push(Od(e.releases,t)),Ed(e.estimates)||s.push(Cd(e.estimates,t)),Ed(e.epics)||s.push(Bd(e.epics,t)),ee.kKJ(r)||s.push(jd(r)),s})(e,t,n),r=((e,t)=>"any"===e?Jd(t):Yd(t))(t,s);return ee.u4g(((t,s)=>{const i=n[s];return Qd(r,e,i)&&(t[s]=i),t}),{})(ee.XPQ(n))}));function tu(e,t){const n=function(e){return e.reduce(((e,t)=>{if(!t?.connections?.length)return e;const n=gd(t);return t.connections.map((e=>gd(e.issue))).reduce(((e,t)=>ee.uhR([t,n],!0,e)),e)}),{})}(ee.VO0(t)),s=ee.u4g(((e,s)=>{const r=function(e,t,n){const s=t[n],r=Boolean(s.connections?.length),i=e[n];if(!r&&!i)return[];const o=r?s.connections.map((e=>gd(e.issue))):[n];if(!o.some((e=>t[e])))return[];const a=ee.xHg(o.map((t=>ee.XPQ(e[t]))))||[];return[...o,...a]}(n,t,s),i=ee.UID(ee.vgT(ee.__,t),r),o=ee._Qy(r,i),a=(l=o,Object.entries(l).filter((e=>Boolean(e[1]))).reduce(((e,t)=>{let[n,s]=t;return{...e,[n]:s}}),{}));var l;return ee.TSy(a,e)}),{},ee.XPQ(e));return{...s,...e}}const nu=ee.WAo(((e,t,n)=>tu(eu(e,n,t),t)));const su=ee.qCK(ee.t$q,ee.vgT("login")),ru=(e,t,n)=>ee.kKJ(e)||ee.kKJ(t)?null:{id:e,login:t,avatar_url:n,description:"",isUser:!0},iu=(e,t,n,s,r)=>ee.kKJ(e)||ee.kKJ(t)?null:{id:e,login:t,avatar_url:n,description:r||"",isUser:"User"===s},ou={ADMIN:"ADMIN",USER:"USER"},au=e=>"LiteUser"===e?.user?.userType||"GHConnectedUser"===e?.user?.userType,lu=e=>au(e)?e?.user?.userInfo?.zenhub:e?.user?.userInfo?.github,cu=ee.ETc(["user","error"]),du=ee.ETc(["user","userInfo","github","email"]),uu=ee.ETc(["user","userInfo","github"]),pu=(ee.ETc(["user","userInfo","lastUpdate"]),ee.ETc(["user","userInfo","github","username"])),mu=ee.OH4("login"),hu=ee.ETc(["user"]),Eu=(ee.ETc(["user","userInfo","consentDate"]),ee.ETc(["user","userInfo","github","id"])),gu=ee.ETc(["user","userInfo","createdAt"]),fu=(ee.ETc(["user","userInfo","github","location"]),e=>lu(e)?.name),_u=e=>lu(e)?.username,vu=e=>lu(e)?.email,Iu=e=>e?.user?.userInfo?.zenhub?.identityProvider,bu=ee.ETc(["user","userInfo","enterpriseSeat","requestedAt"]),yu=ee.ETc(["user","userInfo","enterpriseSeat","approvedAt"]),Su=ee.ETc(["user","userInfo","enterpriseSeat","role"]),wu=ee.ETc(["user","userInfo","github","avatarUrl"]),Ru=(0,pa.P1)(yu,(e=>null!=e)),Tu=(0,pa.P1)(bu,(e=>null!=e)),Cu=(0,pa.P1)(Su,(e=>e===ou.ADMIN.toLowerCase())),ku=(0,pa.P1)(Eu,vu,wu,ru),Ou=e=>"LiteUser"===e?.user?.userType,Nu=e=>"GHConnectedUser"===e?.user?.userType,Pu=e=>"GHConnectedUser"===e?.user?.userType||"GitHubUser"===e?.user?.userType,Au=ee.wEe(ee.kKJ,ee.xbD),{githubURL:Du}=L.Z,Lu=ee.WAo(((e,t)=>{const n=ee.u4g(((t,n)=>{const s=e(n);return!ee.kKJ(t[s])?t:ee.yGi(s,n,t)}),{},t);return ee.VO0(n)})),zu=ee.qCK(ee.t$q,ee.vgT("name")),Mu=ee.MRu(zu),xu=ee.MRu(ee.yRu),Fu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Au(e))return[];const n=ee.Uth(!1,"includeNoLabel",t),s=n?[nd]:[],r=ee.zGw(ee.jge("labels"),ee.xHg,Lu(sd),Mu,ee.zoF(s))(e);return r},Uu=[{title:"Hide epics",filterKey:Dd,canNegate:!1},{title:"Show all epics and subtasks",filterKey:Ld,canNegate:!1},{title:"Show all epics and hide subtasks",filterKey:zd,canNegate:!1},{title:"Show all issues not in an epic",filterKey:Md,canNegate:!1}],Bu=function(e){return Au(e)?[]:ee.zGw(ee.hXT(ee.OH4("is_epic",!0)),ee.MRu(ee.qCK(ee.t$q,ee.vgT("title"))))(e)};function qu(e){if(!e)return[];const t=ee.u4g(((e,t)=>ee.e$l(t.repo_id,e)?e:ee.yGi(t.repo_id,{repo_id:t.repo_id,repo:t.repo_name,organization:Vt.Z.organizationFromIssueUrl(t.html_url)},e)),{},e);return ee.VO0(t)}const Hu={login:Sl,isSpecialFilter:!0};const Wu={title:Fl,milestoneKey:Ul,isSpecialFilter:!0};function ju(e){if(Au(e))return[];const t=ee.UID((e=>ee.yGi("repoInfo",{organization:e.organization,repository:e.repo_name},e.milestone))),n=ee.qCK(Lu($l),ee.hXT(ee.goX({state:"open"})),t,ee.d1t(ee.jCC(ee.kKJ,"milestone"))),s=ee.UID((e=>Zl(e))),r=Kl(ee.zGw(n,s,Jl)(e),{byStateThenProximityClosedByCreated:!0});return ee.zoF([Wu],r)}const Gu={name:ic,filterKey:oc,id:oc,isSpecialFilter:!0};function Ku(e){if(Au(e))return[];const t=ee.qCK(Lu(ac),ee.xHg,ee.jge("sprints"),ee.d1t(ee.jCC(ee.kKJ,"sprints"))),n=ee.UID((e=>function(e){return ee.yGi("sprintKey",ac(e),e)}(e))),s=ee.zGw(t,n)(e);return ee.zoF([Gu],s)}function Vu(e,t){return ee.UID((t=>ee.r3W(t.repo_id,e)?ee.yGi("selected",!0,t):t))(t)}function $u(e,t,n){return ee.UID((n=>{const s=e(n);return ee.TSy({selected:yl.isKeySelected(s,t),filterKey:s,negated:ee.e$l(s,t.not)},n)}),n)}function Zu(e,t){return $u(sd,t,Fu(e,{includeNoLabel:!0}))}const Yu=(e,t)=>{const n=(e=>{if(!e?.length)return[];const t=ee.zGw(ee.jge("estimate"),ee.hXT(ee.yRu),Lu(ee.yRu),xu,ee.UID((e=>{const t=e.toString();return{value:t,filterKey:t}})))(e);return[{value:"Issues with no estimates",filterKey:ad,isSpecialFilter:!0},{value:"Issues assigned for voting",filterKey:ld,isSpecialFilter:!0},...t]})(e);return $u(ee.vgT("filterKey"),t,n)};function Ju(e,t,n){const s=function(e,t){if(Au(e))return[];const n=ee.zGw(ee.jge("assignees"),ee.xHg,ee.hXT(ee.yRu),Lu(Rl),ee.MRu(Rl))(e),s=mu(t),r=ee.uKc(s,n),i=ee.ETc([0,0],r),o=ee.ETc([1],r);return ee.xHg([Hu,i||[],o])}(e,n);return $u(Rl,t,s)}const Xu=(e,t,n)=>{const s=((e,t)=>{if(Au(e))return[];const n=ee.zGw(ee.jge("user"),ee.hXT(ee.yRu),Lu(pd),ee.UID((e=>ee.yGi("avatar_url",e.avatar_url||`${Du}/${e.login}.png?size=50&v=4`,e))),ee.MRu(pd))(e),s=mu(t),r=ee.uKc(s,n),i=ee.ETc([0,0],r),o=ee.ETc([1],r);return ee.xHg([i||[],o])})(e,n);return $u(pd,t,s)};function Qu(e,t){const n=ju(e);return $u(Vl,t,n)}function ep(e,t){const n=Ku(e);return $u(ac,t,n)}function tp(e){return ee.e$l("filterKey",e)?e.filterKey:an(e)}function np(e,t){const n=function(e){return ee.zGw(Bu,ee.zoF(Uu))(e)}(e);return $u(tp,t,n)}const sp=ee.OH4("is_epic",!0),rp=ee.Uth([],"parent_epics"),ip=ee.RRI(ee.r3W),op=ee.WAo(((e,t)=>{const n=ee.UID(an,rp(t));return ee.r3W(e,n)}));function ap(e,t,n){const s=ee.R3I(t,ee.yAE([],n));if(!ee.ETc([t,"is_epic"],e))return[];const r=ee.qCK(ee.ffD,ip(s),an),i=ee.sv4([sp,op(t),r]),o=ee.hXT(i,e),a=ee.UID((t=>ap(e,t,s)),ee.XPQ(o));return ee.R3I(t,ee.xHg(a))}const lp={title:Ic,filterKey:bc,release_id:bc,isSpecialFilter:!0};function cp(e,t){const n=function(e){return Au(e)?[]:ee.zGw(ee.jge("releases"),ee.xHg,ee.hXT(ee.yRu),Lu(ee.vgT("release_id")),ee.hXT(ee.goX({state:"open"})),Gc,ee.Ce7(lp))(e)}(e);return $u(ee.vgT("release_id"),t,n)}const dp=6,up=7,pp="MMM D, YYYY",mp="MMM D",hp="YYYY-MM-DD",Ep="MM-DD-YYYY",gp="YYYY-MM-DD HH:mm",fp=e=>cc()(e),_p=()=>cc()().startOf("day"),vp=e=>Ip(e).isValid(),Ip=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ep;const n=cc()(e);return n.isValid()?n:cc()(e,t)},bp=(e,t)=>Ip(e,t).toDate(),yp=e=>e.toISOString(),Sp=e=>cc()(e).startOf("day"),wp=e=>cc()(e).endOf("day"),Rp=e=>cc()(e).startOf("day").add(12,"hours"),Tp=(e,t)=>Sp(t).diff(Sp(e),"days"),Cp=(e,t,n)=>Sp(t).diff(Sp(e),n),kp=(e,t,n)=>fp(t).diff(fp(e),n),Op=e=>_p().diff(Sp(e),"days")>0,Np=e=>0===_p().diff(Sp(e),"days"),Pp=e=>cc()(e).fromNow(),Ap=e=>{const t=Sp(e),n=_p();return cc().duration(n.diff(t)).humanize()},Dp=(e,t,n)=>{const s=wp(e);return fp(t).diff(s,"months")>=n},Lp=(e,t)=>Ip(e).isBefore(Ip(t),"day"),zp=(e,t)=>{const n=[],s=cc()(e).day(dp).startOf("day");if(cc()(e).isSameOrAfter(t))return n;for(;s.isBefore(t);){let r=cc()(s),i=cc()(s).day(up).endOf("day");i=i.isSameOrAfter(t)?cc()(t):i,r=r.isSameOrBefore(e)?cc()(e):r,n.push({start:r.format(gp),end:i.format(gp)}),s.add(1,"weeks")}return n},Mp=e=>cc()(e).year()===cc()().year(),xp=e=>cc()(e).year()>cc()().year(),Fp=e=>cc()(e).year()<cc()().year(),Up=(e,t)=>cc()(e).isSame(t,"year"),Bp=e=>cc()(e).format(pp),qp=e=>{const t=cc()(e);return t.year()===cc()().year()?t.format(mp):t.format(pp)},Hp=e=>{const t=cc().utc(e);return t.year()===cc()().year()?t.format(mp):t.format(pp)},Wp=()=>cc()().format(hp),jp=e=>cc()(e).format(mp),Gp=e=>Ip(e).format(Ep),Kp=e=>Ip(e,hp).format(hp),Vp=e=>{const t=cc()(e);return t.year()===cc()().year()?t.format("MMMM Do"):t.format("MMMM Do, YYYY")},$p=e=>(0,_t.KN)(e)?"No due date":Np(e)?"Due today":Op(e)?`Past due by ${Ap(e)}`:`Due by ${Bp(e)}`,Zp=(e,t)=>{const n=_p(),s=n.toDate();return{dateFrom:n.clone().subtract(e,t).toDate(),dateTo:s}},Yp=(e,t,n)=>cc()(e).add(n,t).toDate(),Jp=(e,t)=>cc()(e).startOf(t),Xp=(e,t)=>cc()(e).endOf(t),Qp=e=>cc().parseZone(e).format("YYYY-MM-DD"),em=(e,t)=>cc()(e).isSame(t,"day"),tm=e=>cc()(e).format("ddd"),nm=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,sm=(e,t)=>!(!Boolean(e)||!Boolean(t))&&(Mp(e)&&Mp(t)?`${jp(e)} - ${jp(t)}`:Up(e,t)&&xp(e)&&xp(t)?`${Bp(e)} - ${jp(t)}`:Up(e,t)&&Fp(e)&&Fp(t)?`${jp(e)} - ${Bp(t)}`:`${Bp(e)} - ${Bp(t)}`);function rm(e){return cc()(e).toISOString(!0)}const im=e=>{const t=(e=>{const t=new Date,n=Tp(e,t);return n<=25?Pp(e):n<=30?`${n} days ago`:qp(e)})(e);return t.endsWith("ago")?t:`on ${t}`},om=ee.zGw(ee.zoF(["reports","burndown"]),ee.ETc),am=om(["display","activeDropdown"]),lm=om(["display","loaded"]),cm=om(["display","milestoneId"]),dm=om(["issues","isLoadingIssues"]),um=om(["issues","issues"]),pm=om(["filters"]),mm=om(["filters","labels"]),hm=om(["filters","repos"]),Em=om(["filters","showPRs"]),gm=om(["milestones"]),fm=om(["pipelines","burnPipelines"]),_m=om(["pipelines","pipelines"]),vm=om(["display","selectedRepoId"]),Im=om(["display","entity"]),bm={_id:"closed-pipeline",name:"Closed",selected:!0,disabled:!0};const{isNilOrEmpty:ym,rejectNil:Sm}=Vt.Z,wm=ee.hXT(ee.OH4("selected",!0)),Rm=ee.zGw(ee.jge("estimate"),Sm,ee.Smz),Tm=ee.yGi("selected",!0);function Cm(e){return e?dc(e).isValid()?fc(e):null:null}const km=ee.zGw(ee.vgT("start_date"),Cm),Om=ee.zGw(ee.vgT("due_on"),Cm),Nm=ee.ETc(["pipeline","_id"]),Pm=(0,pa.P1)([um,mm],Zu),Am=(0,pa.P1)([am],ee.fS0(dl));function Dm(e){return{repo_id:e.repo_id,milestone_number:e.milestone}}function Lm(e,t){const n={repo_id:t.repo_id||e,milestone_number:t.milestone_number||t.number},s=t.duplicates||[],r=ee.UID(Dm,s),i=ee.R3I(n,r);return ee.yGi("allRepos",i,t)}const zm=(0,pa.P1)(vm,Na,Ba,((e,t,n)=>{const s=e||n;return ee.sEJ(ee.OH4("repo_id",s),t.repos)})),Mm=(0,pa.P1)([zm,gm],(function(e,t){if(!e)return[];const{repo_id:n}=e,s=ee.WAo(Lm)(n);return ee.UID(s,t)})),xm=(0,pa.P1)([gm,cm,zm],((e,t,n)=>ee.UID((e=>{const s=function(e,t,n){const s=ee.zGw(ee.Uth([],"duplicates"),ee.Ce7({organization:n,repository:t}))(e);return ee.yGi("repos",s,e)}(e,n.repository,n.organization);return e.id===t?Tm(s):s}),e))),Fm=(0,pa.P1)([cm,Mm],((e,t)=>{if(ee.xbD(gm))return{};return ee.sEJ(ee.OH4("id",e),t)})),Um=(0,pa.P1)([Fm],km),Bm=(0,pa.P1)([Fm],Om),qm=(0,pa.P1)([Fm],ee.vgT("number")),Hm=(0,pa.P1)([Fm],(e=>!!e&&Yt(e))),Wm=(0,pa.P1)([xm],(e=>{const t=Kl(e,{byStateThenProximity:!0}),n=ee.d1t(Yt,t);return ee.zGw(ee.hXT(Yt),ee.qnb(10),ee.zoF(n))(t)})),jm=(0,pa.P1)([am],ee.fS0(ul)),Gm=(0,pa.P1)([Fm],ee.vgT("title")),Km=(0,pa.P1)([Fm],ee.vgT("description")),Vm=(0,pa.P1)([Fm],ee.vgT("state")),$m=(0,pa.P1)([Fm],ee.vgT("duplicates")),Zm=(0,pa.P1)([um],qu),Ym=(0,pa.P1)([hm,Zm],Vu),Jm=(0,pa.P1)([Pm],wm),Xm=(0,pa.P1)([Fm],ee.vgT("allRepos")),Qm=(0,pa.P1)([am],ee.fS0(gl));function eh(e){const t=ee.zGw(fm,ee.XPQ)(e),n=ee.RRI(ee.r3W);return ee.zGw(Nm,n(t))}const th=(0,pa.P1)([_m,fm],(function(e,t){let n=e;return ym(t)||(n=ee.UID((e=>ee.yGi("selected",ee.e$l(e._id,t),e)),e)),ee.R3I(bm,n)})),nh=(0,pa.P1)([am],ee.fS0(ml));function sh(e){return t=>{let{closed_at:n}=t;return Ec(n,e)}}function rh(e){const t=wp(e);return e=>{let{closed_at:n}=e;return gc(n,t)}}function ih(e){const t=Bm(e),n=Um(e);return e=>{return Yt(e)&&(s=e.closed_at,r=n,i=t,dc(s).isBetween(r,i,void 0,"[]"));var s,r,i}}function oh(e){const t=Bm(e),n=Um(e);return e=>{const s=Yt(e);return s&&rh(t)(e)||s&&function(e){const t=wp(e);return e=>{let{closed_at:n}=e;return Ec(n,t)}}(n)(e)}}const ah=ee.WAo(((e,t,n)=>Ec(n,e)?fc(e):gc(n,t)?fc(t):fc(n)));const lh=ee.WAo(((e,t,n,s)=>{const r=function(e){return ee.KJl(e,ee.vgT("transferred_on"),ee.vgT("closed_at"))}(n)(s),i=ah(e,t,r);return ee.yGi("event_date",i,s)})),ch=ee.zGw(ee.hXT,ee.DYV((function(e,t){return ee.pe1(sn,e,t)?e.number<t.number?-1:1:sn(e)<sn(t)?-1:1}))),dh=(0,pa.P1)([pm,um],(function(e,t){return ee.hXT(Wd(e),t)})),uh=(0,pa.P1)([pm,um,Um],(function(e,t,n){const s=t.filter((e=>Zt(e)||!sh(n)(e)));return ee.hXT(Wd(e),s)})),ph=((0,pa.P1)([dh],Rm),(0,pa.P1)([uh],Rm)),mh=(0,pa.P1)([function(e){return ee.CyQ(function(e){return ee.wEe(Yt,eh(e))}(e))},dh],ch),hh=(0,pa.P1)([function(e){return t=>ih(e)(t)||eh(e)(t)&&!oh(e)(t)},dh],ch),Eh=(0,pa.P1)([hh],Rm),gh=(fh=hh,(0,pa.P1)([Um,Bm,eh,fh],((e,t,n,s)=>ee.UID(lh(e,t,n),s))));var fh;const _h=(0,pa.P1)([function(e){return function(e){const t=Bm(e);return e=>Yt(e)&&rh(t)(e)}(e)},dh],ch),vh=((0,pa.P1)([_h],Rm),(0,pa.P1)([function(e){return function(e){const t=Um(e);return e=>Yt(e)&&sh(t)(e)}(e)},dh],ch)),Ih=((0,pa.P1)([vh],Rm),(0,pa.P1)([_h,mh],ee.zoF)),bh=(0,pa.P1)([Ih],Rm),yh={BURNDOWN_CHART:"burndown",CUMULATIVE_CHART:"cumulative",VELOCITY_CHART:"velocity",RELEASE_REPORT:"release",CONTROL_CHART:"control",HOME:"overview"},Sh={ISSUES:"ISSUES",ACTIVITY:"ACTIVITY"},wh={TUTORIAL_HOME:"TUTORIAL_HOME",REPORTS_HOME:"REPORTS_HOME"},Rh={HOME:0,CUMULATIVE_CHART:1,BURNDOWN_CHART:2,VELOCITY_CHART:3,RELEASE_REPORT:4,CONTROL_CHART:5},Th=ee.ETc(["reports","display"]),Ch=e=>ee.zGw(Th,ee.ETc(["urlDataIsInitialized"]))(e),kh=e=>{const{reportType:t}=ee.zGw(ee.ETc(["router","location","pathname"]),ma.parseReportsPath)(e);return t};const Oh=ee.ETc(["reports","velocity","milestones"]),Nh=ee.ETc(["reports","velocity","filters","milestones","not"]),Ph=ee.ETc(["reports","velocity","display","selectedRepoId"]),Ah=(0,pa.P1)([Nh],ee.XPQ),Dh=(0,pa.P1)(Ah,ee.v_p(",")),Lh=ee.qCK(ee.kKJ,Oh),zh=ee.ETc(["reports","velocity"]),Mh=ee.ETc(["reports","velocity","filters"]),xh=ee.qCK(ee.ETc(["display"]),zh),Fh=ee.qCK(ee.yAE([]),ee.ETc(["milestones"]),zh);const Uh=(0,pa.P1)([Fh,Nh],(function(e,t){if(ee.kKJ(e))return[];const n=ee.CyQ(ee.e$l(ee.__,t));return ee.UID((function(e){return ee.yGi("selected",n(e.id),e)}),e)})),Bh=ee.qCK(ee.ETc(["labels"]),Mh),qh=ee.qCK(ee.XPQ,ee.ETc(["is"]),Bh),Hh=ee.vgT("name"),Wh=ee.eiS(["name","color"]),jh=ee.qCK(ee.t$q,Hh),Gh=ee.MRu(jh),Kh=ee.Uth({},"stats_by_label"),Vh=ee.qCK(Gh,ee.mNm(jh),ee.UID(Wh),ee.xHg,ee.UID(ee.qCK(ee.VO0,Kh))),$h=ee.qCK(Vh,Fh);const Zh=(0,pa.P1)([$h,qh],(function(e,t){const n=ee.d1t(ee.OH4("name","issues-without-labels"),e);return ee.UID((e=>{const n=ee.t$q(e.name),s=ee.r3W(n,t);return ee.yGi("selected",s,e)}),n)})),Yh=ee.qCK(ee.ETc(["activeDropdown"]),xh),Jh=ee.qCK(ee.fS0(dl),Yh),{createDate:Xh,dot:Qh,EventTypes:eE,getDefaultRelease:tE,isOpen:nE,regressionCoefficients:sE,ReportStates:rE,ScopeChangeEventTypes:iE,sortByClosedAtDateDesc:oE,sortOpenReleasesByProximity:aE,RELEASE_COMPLETED_EVENTS:lE}=a,cE=ee.qCK(Xh,hc),dE=ee.ETc(["reports","release","releases"]),uE=ee.ETc(["reports","release","events"]),pE=ee.ETc(["reports","release","issues"]),mE=ee.ETc(["reports","release","permissions","write"]),hE=ee.zoF(["reports","release","display"]),EE=ee.ETc(hE(["activeReleaseForm"])),gE=ee.ETc(hE(["activeDropdown"])),fE=ee.ETc(hE(["activeReleaseTab"])),_E=ee.zoF(["reports","release","filters"]),vE=ee.ETc(_E(["labels"])),IE=ee.ETc(_E(["epics"])),bE=ee.ETc(hE(["showPredictedEndDate"])),yE=ee.ETc(hE(["currentReleaseId"])),SE=ee.xHg,wE=ee.CyQ(ee.xbD),RE=ee.Uth(0,"previous_scope"),TE=ee.Uth(0,"current_scope"),CE=ee.OH4("state","closed"),kE=ee.vgT("estimate"),OE=ee.vgT("completed"),NE=e=>`${e.repo_id}_${e.issue_number}`,PE=ee.vgT("labels"),AE=ee.vgT("name"),DE=ee.vgT("repo_name"),LE=ee.vgT("type"),zE=ee.vgT("closed_at"),ME=ee.YjB(Vt.Z.isNilOrEmpty),xE=ee.vgT("filterKey"),FE=ee.mNm(xE),UE=ee.qCK(ee.vgT("totalScopeToDate"),ee.Z$Q),BE=ee.qCK(ee.vgT("completed"),ee.Z$Q),qE=ee.WAo(((e,t)=>Qh(e,[1,t]))),HE=ee.WAo(((e,t)=>0!==e[1]?(t-e[0])/e[1]:e[0])),WE=e=>new Date(e).getTime(),jE=ee.OH4("type",eE.ISSUE_REMOVED),GE=ee.qCK(ee.hXT(CE),ee.yAE([])),KE=ee.qCK(ee.d1t(CE),ee.yAE([]));function VE(e,t){return ee.xbD(t)&&wE(e)}function $E(e,t){if(!t||ee.kKJ(e))return null;const n=ee.MRu(ee.qCK(Xh,zE));return ee.qCK(cE,zE,ee.Z$Q,n)(e)}const ZE=ee.vgT("date"),YE=ee.qCK(Xh,ZE),JE=ee.MRu(YE),XE=ee.qCK(ee.GYS,JE),QE=ee.qCK(ee.is(Number),kE),eg=e=>ee.zGw(ee.Uth([],"labels"),ee.UID(ee.zGw(ee.vgT("name"),ee.t$q)),ee.r3W(e));const tg=ee.WAo(((e,t)=>{if(Vt.Z.isNilOrEmpty(e))return[];const n=ee.UID((e=>{const n=ee.t$q(e.name);return ee.TSy(e,{filterKey:n,selected:n===t})})),s=ee.MRu(ee.vgT("filterKey"));return ee.qCK(s,FE,n,ee.xHg,ee.UID(PE))(e)}));function ng(e){return ee.kKJ(e)?null:ee.qCK(qE(e),WE)}function sg(e,t){if(ME([e,t]))return null;const n=UE(t);return ee.kKJ(n)?null:ee.qCK(Xh,HE(e))(n)}const rg=ee.qCK(WE,YE);function ig(e){if(ee.kE(e)<lE)return null;const t=ee.UID(rg,e),n=ee.UID(OE,e);return sE(t,n)}const og=ee.qCK(ee.hL$(1),ee.zJu((function(e,t){const n=e+t.scopeChange;return[n,ee.yGi("scopeToDate",n,t)]}),0)),ag=ee.qCK(ee.r3W(ee.__,iE),LE);function lg(e){switch(LE(e)){case"release_created":return eE.RELEASE_OPEN;case"release_closed":return eE.RELEASE_CLOSED;case"release_reopened":return eE.RELEASE_REOPENED;case"start_date_changed":return eE.RELEASE_START_DATE_CHANGED;case"desired_end_date_changed":return eE.RELEASE_END_DATE_CHANGED;case"issue_added":return eE.ISSUE_ADDED;case"issue_removed":return eE.ISSUE_REMOVED;case"issue_estimated":return function(e){const t=ee.ETc(["data","previous_scope"],e),n=ee.ETc(["data","current_scope"],e);return ee.kKJ(t)?eE.ESTIMATE_ADDED:ee.kKJ(n)?eE.ESTIMATE_REMOVED:eE.ESTIMATE_CHANGED}(e);default:return eE.UNKNOWN_EVENT}}const cg=ee.zGw(ee.yAE([]),ee.d1t((function(e){const{data:t={}}=e;return void 0===t.previous_scope})),ee.UID((function(e){const{data:t={}}=e;return{type:lg(e),date:new Date(e.created_at),author:e.author,backendEvent:e,previous_scope:ee.vgT("previous_scope",t),current_scope:ee.vgT("current_scope",t),issue:ee.yGi("repo_name",t.cached_repo_name,t)}}))),dg=ee.qCK((function(e){return dc(e).format("YYYY-MM-DD")}),YE),ug=Vt.Z.groupBy(dg);const pg=ee.qCK(ee.UID((e=>{const t=TE(e)-RE(e);return ee.yGi("scopeChange",t,e)})),JE,ee.hXT(ag)),mg=ee.qCK(og,(e=>{const t=ug(e),n=ee.XPQ(t);return ee.UID((e=>{return n=e,s=t[e],{date:ee.kKJ(n)?null:hc(n),scopeChange:ee.Smz(ee.jge("scopeChange",s)),events:s};var n,s}),n)})),hg=e=>({issue:e,date:new Date(e.closed_at),points:e.estimate});const Eg=ee.qCK(ee.hL$(1),ee.zJu((function(e,t){const n=e+t.points;return[n,ee.yGi("completed",n,t)]}),0));const gg=e=>{const t=ug(e),n=ee.XPQ(t);return ee.UID((e=>function(e,t){return{date:ee.kKJ(e)?null:hc(e),points:ee.Smz(ee.jge("points",t)),events:t}}(e,t[e])),n)};function fg(e,t){if(Vt.Z.isNilOrEmpty(e)||ee.kKJ(t))return[];const n=ee.gxm(ee.HkC(ee.jCC(ee.kKJ,"estimate"),on),ee.yGi("estimate",t));return ee.zGw(ee.yAE([]),ee.UID(n),ee.hXT(ee.sv4([CE,QE])),ee.UID(hg),JE,gg,Eg)(e)}const _g=ee.WAo(((e,t)=>{const n=(e=>{if(!on(e.issue))return 0;const t=ee.kKJ(e.current_scope)&&ee.kKJ(e.previous_scope);switch(e.type){case eE.ISSUE_ADDED:return t?1:0;case eE.ISSUE_REMOVED:return t?-1:0;case eE.ESTIMATE_ADDED:return-1;case eE.ESTIMATE_REMOVED:return 1;default:return 0}})(t);return ee.yGi("unestimatedScopeChange",n*(e||0),t)}));const vg=ee.qCK(ee.hL$(1),ee.zJu((function(e,t){const n=e+t.totalScopeChange;return[n,ee.yGi("totalScopeToDate",n,t)]}),0));const Ig=e=>{const t=ug(e),n=ee.XPQ(t);return ee.UID((e=>function(e,t){return{date:ee.kKJ(e)?null:hc(e),totalScopeChange:ee.Smz(ee.jge("totalScopeChange",t)),events:t}}(e,t[e])),n)},bg=e=>ee.yGi("totalScopeChange",e.scopeChange+e.unestimatedScopeChange,e),yg=(e,t)=>ee.zGw(ee.UID(_g(e)),ee.UID(bg),Ig,vg)(t);function Sg(e,t){return!ee.kKJ(t)&&e===rE.LOADED}function wg(e,t){return ee.kKJ(e)||ee.kKJ(t)?null:ee.hXT(eg(e),t)}function Rg(e,t){if(ee.kKJ(t))return[];const n=ee.zGw(ee.vgT("issue"),eg(t));return ee.hXT(n,e)}function Tg(e){return{type:eE.ISSUE_COMPLETED,date:new Date(e.closed_at),author:{username:ee.ETc(["user","login"],e),avatarUrl:ee.pMU(null,["user","avatarUrl"],e)},backendEvent:e,previous_scope:null,current_scope:null,issue:e}}const Cg=ee.qCK(ee.UID(AE),ee.yAE([]),PE);function kg(e){return{Group:ee.vgT("Group",e),State:ee.vgT("state",e),"Repo Name":DE(e),"Issue Number":ee.vgT("issue_number",e),"Issue Title":ee.vgT("title",e),Pipeline:"closed"===e.state?"Closed":ee.pMU("In Another Workspace",["pipeline","name"],e),"Story Points":ee.kKJ(kE(e))?"":kE(e),Milestone:ee.pMU("",["milestone","title"],e),Labels:Cg(e)}}const Og=bE,Ng=mE,Pg=(0,pa.P1)([pE],(e=>{const t=(e||[]).filter((e=>QE(e)&&on(e))).map(kE);return 0===t.length?0:t.reduce(((e,t)=>e+t),0)/t.length})),Ag=(0,pa.P1)([pE,Pg],((e,t)=>ee.kKJ(e)?null:ee.xbD(e)?[]:ee.UID((e=>ee.TSy(e,{repo_name:e.cached_repo_name,averageEstimate:t,useAverageEstimate:on(e)})),e))),Dg=(0,pa.P1)([Ag,Pg],fg),Lg=(0,pa.P1)([Dg],BE),zg=(0,pa.P1)([Dg],ig),Mg=vE,xg=(0,pa.P1)([vE],(function(e){return ee.zGw(ee.vgT("is"),ee.XPQ,ee.YMb)(e)||null})),Fg=(0,pa.P1)([Ag,xg],tg),Ug=(0,pa.P1)([Fg,xg],(function(e,t){if(ee.kKJ(t)||Vt.Z.isNilOrEmpty(e))return null;const n=ee.Uth("aaa","color"),s=ee.OH4("filterKey",t);return ee.qCK(n,ee.yAE({}),ee.sEJ(s))(e)})),Bg=(0,pa.P1)([Ag],GE),qg=(0,pa.P1)([Ag],KE),Hg=(0,pa.P1)([xg,Bg],wg),Wg=(0,pa.P1)([xg,qg],wg),jg=(0,pa.P1)([Bg,qg],VE),Gg=(0,pa.P1)([Hg,Wg],VE),Kg=(0,pa.P1)([Bg,jg],$E),Vg=(0,pa.P1)([Hg,Gg],$E),$g=(0,pa.P1)([uE],cg),Zg=(0,pa.P1)([Bg,$g],(function(e,t){const n=ee.UID(Tg,e||[]),s=ee.zoF(n,t||[]);return XE(s)})),Yg=(0,pa.P1)([Ag,$g],(function(e,t){if(ee.YjB(ee.kKJ,[e,t]))return[];const n=ee.UID(NE,e),s=ee.qCK(ee.r3W(ee.__,n),NE);return ee.qCK(ee.UID(ee.yGi("inScope",!1)),ee.d1t(s),ee.mNm(NE),ee.jge("issue"),ee.hXT(jE),ee.yAE([]))(t)})),Jg=(0,pa.P1)([xg,Yg],wg),Xg=(0,pa.P1)([$g],pg),Qg=ee.d1t(ee.goX({previous_scope:null,current_scope:null})),ef=(0,pa.P1)([Xg],Qg),tf=(0,pa.P1)([Pg,Xg],yg),nf=(0,pa.P1)([tf],UE),sf=(0,pa.P1)([ef],mg),rf=(0,pa.P1)([zg,tf],sg),of=(0,pa.P1)([zg],ng),af=dE,lf=(0,pa.P1)([af,EE],(function(e){return ee.kKJ(e)?rE.LOADING:ee.xbD(e)?rE.EMPTY:rE.LOADED})),cf=(0,pa.P1)([af,yE],(function(e,t){if(Vt.Z.isNilOrEmpty(e))return null;if(ee.kKJ(t))return tE(e);const n=ee.OH4("release_id",t);return ee.sEJ(n,e)})),df=(0,pa.P1)([lf,cf],(function(e,t){return Sg(e,t)?cE(t.start_date):null})),uf=(0,pa.P1)([lf,cf],(function(e,t){return Sg(e,t)?cE(t.desired_end_date):null})),pf=(0,pa.P1)([lf,cf],(function(e,t){return Sg(e,t)?t.title:""})),mf=(0,pa.P1)([cf],ee.Uth(null,"state")),hf=(0,pa.P1)([lf,cf],(function(e,t){return Sg(e,t)?t.description:""})),Ef=yE,gf=gE,ff=(0,pa.P1)([gf],ee.fS0("LABELS")),_f=(0,pa.P1)([gf],ee.fS0("RELEASES")),vf=(0,pa.P1)([gf],ee.fS0("EPICS")),If=(0,pa.P1)([fE],(function(e){switch(e){case Sh.ISSUES:return 0;case Sh.ACTIVITY:return 1;default:return 0}})),bf=(0,pa.P1)([Xg,xg],Rg),yf=(0,pa.P1)([ef,xg],Rg),Sf=(0,pa.P1)([yf],mg),wf=(0,pa.P1)([Pg,bf],yg),Rf=(0,pa.P1)([wf],UE),Tf=(0,pa.P1)([xg,Ag],wg),Cf=(0,pa.P1)([Tf,Pg],fg),kf=(0,pa.P1)([Cf],BE),Of=(0,pa.P1)([Cf],ig),Nf=(0,pa.P1)([Of,wf],sg),Pf=(0,pa.P1)([xg,rf,Nf],(function(e,t,n){return e?Boolean(n):Boolean(t)})),Af=(0,pa.P1)([Of],ng),Df=(0,pa.P1)([qg,Bg,Yg],(function(e,t,n){const s=SE([ee.UID(ee.yGi("Group","Remaining"),e),ee.UID(ee.yGi("Group","Completed"),t),ee.UID(ee.yGi("Group","Removed from scope"),n)]);return ee.UID(kg,s)})),Lf=(0,pa.P1)([Ef,af],(function(e,t){if(ee.kKJ(t))return null;const n=ee.qCK(ee.uKc(nE),function(e){return ee.UID(ee.KJl(ee.OH4("release_id",e),ee.yGi("selected",!0),ee.yGi("selected",!1)))}(e))(t);return{open:aE(n[0]),closed:oE(n[1])}})),zf=(0,pa.P1)([IE],ee.zGw(ee.vgT("is"),ee.XPQ)),Mf=(0,pa.P1)([zf,qg,Wg,Bg,Hg,Yg,Jg],((e,t,n,s,r,i,o)=>((e,t)=>ee.zGw((e=>[...ee.xHg(ee.jge("parent_epics",e)),...ee.hXT(rn,e)]),ee.mNm(NE),ee.UID((e=>{const n=NE(e);return{filterKey:n,title:e.title,repo_name:e.cached_repo_name,organization:e.cached_repo_owner,selected:ee.r3W(n,t)}})))(e))(ee.xHg([n||t,r||s,o||i]),e))),xf=(e,t,n)=>{return ee.zGw(ee.gxm((()=>!ee.kKJ(t)),ee.hXT(eg(t))),ee.gxm((()=>!ee.xbD(n)),ee.hXT(ee.wEe((s=n,ee.zGw(ee.Uth([],"parent_epics"),ee.UID(NE),ee.jVA(s),ee.xbD,ee.ffD)),ee.qCK(ee.r3W(ee.__,n),NE)))),ee.MRu(ee.vgT("is_epic")),ee.GYS)(e);var s},Ff=(0,pa.P1)([qg,xg,zf],xf),Uf=(0,pa.P1)([Bg,xg,zf],xf),Bf=(0,pa.P1)([Yg,xg,zf],xf),qf=(0,pa.P1)([Ff,La],((e,t)=>{if(e){const n=t.map((e=>e.repo_id));return e.filter((e=>n.includes(e.repo_id)))}return[]})),Hf=(0,pa.P1)([Ff,La],((e,t)=>{if(e){const n=t.map((e=>e.repo_id));return e.filter((e=>!n.includes(e.repo_id)))}return[]})),Wf=ee.qCK(ee.XPQ,ee.vgT("is"),mm),jf=ee.qCK(ee.XPQ,ee.vgT("not"),mm),Gf=ee.qCK(ee.XPQ,fm),Kf=ee.qCK(ee.XPQ,ee.vgT("is"),Mg),Vf=ee.qCK(ee.v_p(","),ee.UID(encodeURIComponent)),$f=ee.KJl(ee.kKJ,ee.Bxt(null),Vf);const Zf=function(e){let t;switch(kh(e)){case"burndown":t=function(e){const t=Wf(e),n=jf(e),s=$f(t),r=$f(n);return{milestoneId:cm(e),labels:s,"labels:not":r,selectedPipelines:Gf(e),showPRs:Em(e),entity:Im(e)}}(e);break;case"velocity":t=function(e){const t=qh(e),n=$f(t);return{"milestones:not":Dh(e),labels:n}}(e);break;case"release":t=function(e){const t=Kf(e),n=$f(t);return{release:Ef(e),labels:n}}(e);break;default:t={}}return t},Yf="ZH_BOARD_SETTINGS",Jf=()=>{const e=localStorage.getItem("ZH_BOARD_SETTINGS");return e?JSON.parse(e):{}},Xf=e=>{const t=e||{};localStorage.setItem("ZH_BOARD_SETTINGS",JSON.stringify(t))},Qf=e=>(Jf()[e]||{}).SELECTED_REPO_IDS||[],e_=(e,t)=>{const n=Jf();n[e]=n[e]||{},n[e].SELECTED_REPO_IDS=t||[],Xf(n)},t_=e=>{const t=j.ZP.omit(Jf(),e)||{};j.ZP.isEmpty(t)?localStorage.removeItem(Yf):Xf(t)},n_=(e,t)=>{const n=Qf(e),s=ee.zGw(ee.R3I(t),ee.jj$)(n||[]);e_(e,s)},s_="FULLSCREEN_ACCOUNT_BUY_LICENSES",r_="FULLSCREEN_ACCOUNT_UPGRADE_TO_GROWTH",i_="FULLSCREEN_ACCOUNT_REQUEST_LICENSE",o_="FULLSCREEN_MULTI_ACTION_MILESTONE",a_="FULLSCREEN_MULTI_ACTION_LABEL",l_="FULLSCREEN_MULTI_ACTION_ASSIGNEE",c_="FULLSCREEN_MULTI_ACTION_PIPELINE",d_="FULLSCREEN_MULTI_ACTION_EPIC",u_="FULLSCREEN_MULTI_ACTION_ESTIMATE",p_="FULLSCREEN_MULTI_ACTION_RELEASE",m_="FULLSCREEN_MULTI_ACTION_ESTIMATE_REQUESTS",h_="INVITE",E_="ZH_INVITE",g_="PIPELINE_DELETE",f_="FULLSCREEN_NONE",__="FULLSCREEN_QUICK_ACTION_ISSUE_ASSIGNEE",v_="FULLSCREEN_QUICK_ACTION_ISSUE_LABELS",I_="FULLSCREEN_QUICK_ACTION_ISSUE_MILESTONE",b_="FULLSCREEN_QUICK_ACTION_ISSUE_SPRINT",y_=(Object.freeze({BUY_LICENSES:s_,UPGRADE_TO_GROWTH:r_,REQUEST_LICENSE:i_,MOBILE_FILTERS:"FULLSCREEN_MOBILE_FILTERS",MULTI_ACTION_MILESTONE:o_,MULTI_ACTION_LABEL:a_,MULTI_ACTION_ASSIGNEE:l_,MULTI_ACTION_PIPELINE:c_,MULTI_ACTION_EPIC:d_,MULTI_ACTION_ESTIMATE:u_,MULTI_ACTION_RELEASE:p_,INVITE:h_,PIPELINE_DELETE:g_,NONE:f_,QUICK_ACTION_ISSUE_ASSIGNEE:__,QUICK_ACTION_ISSUE_LABELS:v_,QUICK_ACTION_ISSUE_MILESTONE:I_}),ee.Uth("","title")),S_=ee.WAo(((e,t)=>{const n=ee.UID((t=>{const n=e[an(t)];return ee.kKJ(n)?t:ee.yGi("title",y_(n),t)}),t.parent_epics);return ee.yGi("parent_epics",n,t)})),w_=function(e){return ee.UID(S_(e),e)},R_="BoardNotLoaded",T_="BoardLoading",C_="BoardLoaded",k_="BoardError",O_=ee.ETc(["board","display","activeDropdown"]),N_=(e,t)=>O_(t)===e,P_=ee.ETc(["board","display","activeFullscreenModal"]),A_=ee.ETc(["board","display","closedPipelineWidth"]),D_=ee.ETc(["board","display"]),L_=ee.ETc(["board","display","isFullScreen"]),z_=ee.ETc(["board","display","showClosedPipeline"]),M_=ee.ETc(["board","display","showLabels"]),x_=ee.ETc(["board","display","showEstimates"]),F_=ee.ETc(["board","display","showMilestones"]),U_=ee.ETc(["board","display","showEpics"]),B_=ee.ETc(["board","display","showReleases"]),q_=ee.ETc(["board","display","showInsights"]),H_=ee.ETc(["board","display","showReviewers"]),W_=ee.ETc(["board","display","showDependencies"]),j_=ee.uF6(["flags","workspaces-board-notifications"],!0),G_=ee.ETc(["board","display","isAddPipelineActive"]),K_=(ee.ETc(["board","display","isOnboardingDone"]),ee.ETc(["board","display","activeIssueCardOptions"])),V_=ee.ETc(["board","display","newIssueModalExtension"]),$_=ee.ETc(["board","display","showExpandedFilters"]),Z_=ee.ETc(["board","display","showPipelineDescriptions"]),Y_=ee.ETc(["board","display","isQuickIssueCreatorVisible"]),J_=ee.zoF(["board","multiAction"]),X_=ee.ETc(J_(["inSelectionMode"])),Q_=ee.ETc(J_(["selectedIssues"])),ev=ee.ETc(J_(["labels","remove"])),tv=ee.ETc(J_(["labels","add"])),nv=ee.ETc(J_(["milestone"])),sv=ee.ETc(J_(["assignees","add"])),rv=ee.ETc(J_(["assignees","remove"])),iv=ee.ETc(J_(["pipeline"])),ov=ee.ETc(J_(["pipelineDirection"])),av=ee.ETc(J_(["estimate"])),lv=ee.ETc(J_(["releases","add"])),cv=ee.ETc(J_(["releases","remove"])),dv=ee.ETc(J_(["epic","add"])),uv=ee.ETc(J_(["epic","remove"])),pv=ee.ETc(["board","filters"]),mv=ee.ETc(["board","filters","filterLogic"]),hv=ee.ETc(["board","filters","useDefaultFilterLogic"]),Ev=ee.ETc(["board","indexedIssues"]),gv=ee.ETc(["board","rawPipelines"]),fv=ee.ETc(["board","repos"]),_v=(ee.zGw(ee.ETc(["board","repos"]),ee.XPQ,ee.YMb),ee.ETc(["board","status","actionError"])),vv=ee.ETc(["board","status","boardId"]),Iv=ee.ETc(["board","status","connectionState"]),bv=(ee.ETc(["board","status","isTransferring"]),ee.ETc(["board","status","loadState"])),yv=(ee.ETc(["board","status","updateCount"]),ee.ETc(["board","status","pipelineToDelete"])),Sv=ee.ETc(["board","status","isLoadingClosedIssues"]),wv=ee.ETc(["board","filters","dependencies","isFullTreeLoaded"]),Rv=(0,pa.P1)([Ev],w_),Tv=(0,pa.P1)([pv,Rv,mv],nu),Cv=(0,pa.P1)([bv],ee.fS0(C_)),kv=(0,pa.P1)([bv],(e=>e!==R_)),Ov=ee.ETc(["board","priorities"]),Nv=(0,pa.P1)([Ov],(e=>ee.zGw(ee.MRu(ee.vgT("rank")),ee.YMb)(Object.values(e)))),Pv=ee.ETc(["board","issuePriorities"]),Av=[l_,a_,o_],Dv=(0,pa.P1)(P_,(e=>Av.includes(e))),Lv=ee.ETc(["board","filters"]),zv=["filterLogic","repos","showOpenIssues","showPRs","useDefaultFilterLogic"],Mv=(0,pa.P1)(Lv,(e=>{const t=ee.CEd(zv,e);return!(0,_t.fy)(t)})),xv=ee.ETc(["board","filters","filterLogic"]),Fv=ee.ETc(["board","filters","epics"]),Uv=ee.ETc(["board","filters","milestones"]),Bv=ee.ETc(["board","filters","sprints"]),qv=ee.ETc(["board","filters","authors"]),Hv=ee.ETc(["board","filters","estimates"]),Wv=ee.ETc(["board","filters","labels"]),jv=ee.ETc(["board","filters","assignees"]),Gv=ee.ETc(["board","filters","repos"]),Kv=ee.ETc(["board","filters","showPRs"]),Vv=ee.ETc(["board","filters","showOpenIssues"]),$v=ee.ETc(["board","filters","search"]),Zv=ee.ETc(["board","filters","releases"]),Yv=ee.ETc(["board","filters","dependencies","value"]);let Jv=null,Xv=null,Qv=null,eI=null;const tI="zhSettings_",nI=(e,t,n)=>{if(ee.fS0(t,n))return void localStorage.removeItem(e);if(Vt.Z.isNilOrEmpty(t))return;const s=ee.is(String,t)?t:JSON.stringify(t);localStorage[e]=s},sI=e=>{localStorage.removeItem(e)},rI=(e,t)=>`zhSettings_${e}_${t}`,iI=(e,t,n)=>`zh${(e||"burndown").split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join("")}Settings_${t}_${n}`;function oI(e,t){const n=EI(),s=n?t.boardV2?.settings?.showClosedPipeline:z_(t),r=n?t.boardV2?.settings?.isFullScreen:L_(t),i=n?t.boardV2?.settings?.showPullRequests:Kv(t),o=t.boardV2?.settings?.showOpenIssues,a=n?t.boardV2?.settings?.showLabels:M_(t),l=n?t.boardV2?.settings?.showEstimates:x_(t),c=n?t.boardV2?.settings?.showSprints:F_(t),d=n?t.boardV2?.settings?.showEpics:U_(t),u=n?t.boardV2?.settings?.showReleases:B_(t),p=t.boardV2?.settings?.showRepos,m=n?t.boardV2?.settings?.showReviewers:H_(t),h=n?t.boardV2?.settings?.showDependencies:W_(t),E=Z_(t),g=q_(t),f=t.boardV2?.settings?.isCondensedViewEnabled,_=function(t,n){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=rI(e,t);nI(r,n,s)};_("showClosed",s),_("showOpenIssues",o),_("showPRs",i),_("showLabels",a),_("showEstimates",l),_("showMilestones",c),_("showEpics",d),_("showReleases",u),_("showRepos",p),_("showReviewers",m),_("showDependencies",h),_("notFullScreen",!r),_("showPipelineDescriptions",E),_("showInsights",g),_("isCondensedViewEnabled",f,!1)}const aI=e=>e.subscribe((()=>{const t=e.getState(),n=fv(t),s=Na(t),r=Gv(t),i=D_(t),o=Lv(t),a=t.boardV2?.settings;s&&eI!==a&&(eI&&oI(s._id,t),eI=a),ee.xbD(n)||(Xv!==r&&(!function(e,t,n){const s=Gv(n),r=ee.CyQ(ee.fS0(t));ee.YjB(r,s)?e_(e,s):t_(e)}(s._id,s.defaultRepoId,t),Xv=r),Qv===i&&Jv===o||(oI(s._id,t),Qv=i,Jv=o))})),lI=e=>e.subscribe((()=>{const t=e.getState();Na(t)&&function(e){const t=Zf(e),n=kh(e),s=Na(e),{selectedPipelines:r}=t,i=r?r.join(","):"";function o(e,t,r){const i=iI(n,s._id,e);nI(i,t,r)}o("release",t.release,""),o("milestoneId",t.milestoneId,""),o("entity",t.entity,""),o("showPRs",t.showPRs,!0),o("selectedPipelines",i,""),o("labels",t.labels,""),o("labels:not",t["labels:not"],""),o("milestones:not",t["milestones:not"],"")}(t)})),cI=e=>localStorage.getItem(e),dI=(e,t)=>{const n=JSON.stringify(t);window.localStorage.setItem(e,n)},uI=e=>{const t=window.localStorage.getItem(e);if(ee.kKJ(t))return null;try{return JSON.parse(t)}catch(e){return null}},pI=e=>`zhLastPageVisited_${e}`,mI=(e,t)=>{const n=pI(e);nI(n,t)},hI="showBoardV2",EI=()=>{const e=cI("zhSettings_showBoardV2"),t=Object.keys(localStorage).some((e=>e.startsWith(tI)&&e.includes(hI)));return null!=e?"true"===e:!(null!=e||!t)||true};function gI(){return gI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gI.apply(this,arguments)}const fI=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--workflows-sidebar",t].filter(Boolean).join(" "),"aria-label":"workflows-sidebar",role:"img",...n};return Ye.createElement("svg",gI({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 7h14v2H5V7z",fill:"currentColor"}),Ye.createElement("path",{d:"M10 8.5V12a5 5 0 005 5h4v-2h-4a3 3 0 01-3-3V8.5h-2z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 8a3 3 0 11-6 0 3 3 0 016 0zM3 8a1 1 0 102 0 1 1 0 00-2 0zm20 0a3 3 0 10-6 0 3 3 0 006 0zm-4 0a1 1 0 112 0 1 1 0 01-2 0zm4 8a3 3 0 10-6 0 3 3 0 006 0zm-4 0a1 1 0 112 0 1 1 0 01-2 0z",fill:"currentColor"}))};var _I=n(38944);const vI=e=>{let{className:t,modifiers:n=[],name:s=""}=e;const r=s.codePointAt(0),i=void 0!==r?String.fromCodePoint(r).toUpperCase():"W",o=(0,_I.default)("zhc-workspace-badge",...(0,_t.NV)("zhc-workspace-badge",n),t);return Ye.createElement("div",{className:o},i)},II=vI;var bI=n(37634),yI=n(23615),SI=n.n(yI),wI=n(66726),RI=n.n(wI);const TI=()=>navigator.userAgent.toLowerCase().indexOf("webkit")>-1,CI=()=>window.USER_HAS_FEELINGS,kI=window,OI=kI?.config?kI.config:{githubURL:"https://mocked-github.com",isUploadFileToLocal:!1,webappURL:"https://app.mocked-zenhub.com",CAMO:"abc",CAMO_HOST:"https://camo.zenhub.com",hostURL:"https://api.mocked.zenhub.com"},NI=kI?.BrowserAPI?kI.BrowserAPI:{support:"extension",Extension:{getURL:()=>"/"}},PI="extension"===NI.support,AI="webapp"===NI.support;function DI(){const{body:e}=document;return e.classList.contains("zhu-modal-open")}function LI(){return document.querySelector("header .header-search-input ")}let zI=null;let MI=0;function xI(){!function(){const{body:e}=document;e.classList.add("zhu-menu-open")}(),CI()&&function(){const{body:e}=document;MI=e.scrollTop,e.style.position="fixed",e.style.top=-MI+"px",e.style.width="100%",e.style.overflow="hidden"}()}function FI(){!function(){const{body:e}=document;e.classList.remove("zhu-menu-open")}(),CI()&&function(){const{body:e}=document;e.style.position="",e.style.top="",e.style.width="",e.style.overflow="",e.scrollTop=MI,MI=0}()}function UI(e){return RI()((()=>{const t=e.current?e.current:e,n=t.getBoundingClientRect();t?.style&&(t.style.height=window.innerHeight-n.top-1+"px")}),300)}function BI(e){const t=e.current?e.current:e;t?.style&&(t.style.height="")}function qI(){document.documentElement.classList.add("zh-app--fixed-layout")}function HI(){document.documentElement.classList.remove("zh-app--fixed-layout")}var WI;!function(e){e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM_LEFT="bottom-left",e.TOP_LEFT="top-left"}(WI||(WI={}));const jI=WI,GI=F?".zhc-issue-modal__body--extension":".zhc-modal",KI=()=>document.querySelector(GI);let VI=null;class $I extends Ye.Component{constructor(e){super(e),this.calculateFinalPosition=()=>{const{position:e}=this.props,t=this.containerRef.current,n=this.tooltipRef.current,s=t.getBoundingClientRect(),r=n.getBoundingClientRect(),{innerWidth:i,innerHeight:o}=window;let a,l,c;const d=((e,t,n,s)=>t.left+n.width-s>0?jI.LEFT:-(t.left-n.width)>0?jI.RIGHT:e)(e,s,r,i);switch(d){case jI.RIGHT:l=(s.top+s.bottom)/2,a=s.right+7,a+r.width>i&&(a=s.left-7-r.width,c=jI.LEFT);break;case jI.LEFT:l=(s.top+s.bottom)/2,a=s.left-7-r.width,a<0&&(a=s.right+7,c=jI.RIGHT);break;case jI.BOTTOM:a=(s.left+s.right)/2,l=s.bottom+7,l+r.height>o&&(l=s.top-7-r.height,c=jI.TOP);break;case jI.BOTTOM_LEFT:a=s.left,l=s.bottom+7,l+r.height>o&&(l=s.top-7-r.height,c=jI.TOP_LEFT);break;case jI.TOP_LEFT:a=s.left,l=s.top-7-r.height,l<0&&(l=s.bottom+7,c=jI.BOTTOM_LEFT);break;case jI.TOP:default:a=(s.left+s.right)/2,l=s.top-7-r.height,l<0&&(l=s.bottom+7,c=jI.BOTTOM)}return{x:a,y:l,position:(0,_t.KN)(c)?d:c}},this.setFinalPosition=()=>{const e=this.tooltipRef.current;if(!e)return;const t=this.calculateFinalPosition();e.classList.remove(...["top","left","right","bottom"].map((e=>`zhc-tooltip--${e}`))),e.classList.add(`zhc-tooltip--${t.position}`),e.setAttribute("style",`top:${t.y}px; left:${t.x}px;`)},this.onClickWrapper=()=>{const{removeTooltipOnClick:e}=this.props;e&&this.onMouseLeave()},this.onMouseEnterWithDelay=()=>{this.setState({isMouseEntered:!0});const{delayContent:e}=this.props,{renderToolTip:t}=this;setTimeout((()=>{const{isMouseEntered:e}=this.state;e&&(t(),window.addEventListener("scroll",this.handleScroll),DI()&&KI()?.addEventListener("scroll",this.handleScroll))}),1e3*e)},this.onMouseLeave=()=>{this.setState({isMouseEntered:!1}),VI?.unmount(),window.removeEventListener("scroll",this.handleScroll),DI()&&KI()?.removeEventListener("scroll",this.handleScroll)},this.renderToolTip=()=>{const{content:e,modifiers:t}=this.props;if((0,_t.KN)(e))return;const n=t.map((e=>`zhc-tooltip--${e}`)),s=(0,_I.default)("zhc-tooltip",n);VI?._internalRoot||(VI=bI.createRoot(this.tooltipContainer)),VI.render(Ye.createElement("div",{"data-testid":"zh-tooltip",ref:e=>{this.tooltipRef.current=e,this.setFinalPosition()},className:s,style:{top:-10,left:-10}},Ye.createElement("div",{className:"zhc-tooltip__content"},Ye.createElement("span",{className:"zhc-tooltip__text"},e))))},this.state={isMouseEntered:!1},this.tooltipRef=Ye.createRef(),this.containerRef=Ye.createRef(),this.handleScroll=this.handleScroll.bind(this)}componentDidMount(){if(this.tooltipContainer=document.querySelector(".js-tooltip"),!this.tooltipContainer){const e=document.createElement("div");e.className="js-tooltip",this.tooltipContainer=document.body.appendChild(e)}}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),DI()&&KI()?.removeEventListener("scroll",this.handleScroll)}handleScroll(){this.onMouseLeave()}render(){const{content:e,wrapperClassName:t,dataTestId:n,children:s}=this.props;return e?Ye.createElement("div",{ref:this.containerRef,"data-testid":n,className:(0,_I.default)("zhc-tooltip-wrapper",t),onMouseEnter:this.onMouseEnterWithDelay,onFocus:this.onMouseEnterWithDelay,onMouseLeave:this.onMouseLeave,onClick:this.onClickWrapper},s):s}}$I.propTypes={children:SI().node,content:SI().node,dataTestId:SI().string,delayContent:SI().number,modifiers:SI().arrayOf(SI().string),position:SI().oneOf(ee.VO0(jI)),removeTooltipOnClick:SI().bool,wrapperClassName:SI().string},$I.defaultProps={children:null,content:"",dataTestId:"zh-tooltip",delayContent:0,modifiers:[],position:jI.TOP,removeTooltipOnClick:!1,wrapperClassName:null};const ZI=$I,YI=ZI,JI=e=>{let{children:t,content:n,wrapperClassName:s,contentClassName:r,tooltipPosition:i=jI.TOP}=e;const[o,a]=(0,Ye.useState)(!1),l=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{const e=Boolean(l.current&&(0,_t.Co)(l.current));a(e)}),[n]);const c=o?n:"";return Ye.createElement(YI,{content:c,wrapperClassName:s,position:i},Ye.createElement("div",{ref:l,className:`zhu-text-ellipsis ${r||""}`},t))},XI="kxOftdrh3fPsiEqFXZ0d",QI="kKyY0Lnel0FKf4OTvzEQ",eb="lDUNIlloQAIBKcrgiSGd",tb="wcJ0chBS3gsDFqeqYwWi",nb=(0,_t.fB)("issue","issues"),sb=(0,_t.fB)("workspace","workspaces"),rb=e=>{let{issueCount:t,automations:n}=e;const s=n.length,r=Math.max(0,s-4),i=n.sort(((e,t)=>e.destinationPipeline.workspace.name.toLowerCase()<t.destinationPipeline.workspace.name.toLowerCase()?-1:e.destinationPipeline.workspace.name>t.destinationPipeline.workspace.name?1:0));return Ye.createElement("div",{className:XI},Ye.createElement("div",{className:QI},Ye.createElement(fI,null),Ye.createElement("span",null,"Also moving ",nb(t)," in")),i.slice(0,4).map((e=>Ye.createElement("div",{key:e.id,className:eb},Ye.createElement(II,{modifiers:[],name:e.destinationPipeline.workspace.name}),Ye.createElement(JI,{content:e.destinationPipeline.workspace.name,tooltipPosition:jI.TOP_LEFT},e.destinationPipeline.workspace.name),Ye.createElement(JI,{content:e.destinationPipeline.name,contentClassName:"zhu-font-bold zhu-text-right",tooltipPosition:jI.LEFT},e.destinationPipeline.name)))),r>0&&Ye.createElement(JI,{contentClassName:tb,content:`and ${r} more ${sb(r)}...`},`and ${r} more ${sb(r)}...`))};let ib,ob,ab;!function(e){e.Planner="Planner",e.Coder="Coder",e.Roadmapper="Roadmapper",e.SprintLead="SprintLead",e.Generalist="Generalist"}(ib||(ib={})),function(e){e.Workflows="Workflows"}(ob||(ob={})),ab||(ab={});const lb={gh_users_previously_invited_to_zh:[],persona_form_completed:!1,persona_sidebar_tooltip_dismissed:!1,onboarding_completed:!1,webapp_theme_preference:null,quick_issue_action_in_modal_tip_dismissed:!1,roadmap_drag_and_drop_tip_dismissed:!1,roadmap_add_epic_to_project_tip_dismissed:!1,workspaces_breadcrumbs_related_workspaces_alert_dismissed:!1,workspaces_create_workspace_alert_dismissed:!1,workspaces_issue_pipeline_selector_alert_dismissed:!1,workspaces_issue_dependencies_alert_dismissed:!1,workspaces_issue_epics_alert_dismissed:!1,workspaces_release_report_alert_dismissed:!1,webapp_get_extension_alert_dismissed:!1,any_all_filter_intro_dismissed:!1,ccr_info_alert_dismissed:!0,ccr_visited:!0,connected_repos_info_alert_dismissed:!1,priorities_issue_pipeline_selector_alert_dismissed:!1,repo_features:!1,roadmap_create_project:!1,template_selector_alert_dismissed:!0,sidebar_board_nav_first_click:!1,workflows_tutorial_viewed:null,epic_issue_list_set_roadmap_dates_tooltip_dismissed:!1,epic_issue_list_see_on_roadmap_tooltip_dismissed:!1,milestones_deprecation_banner_dismissed:!1,connect_org_toast_dismissed:!0,invite_to_zhorg_alert_dismissed:!0},cb=Object.keys(lb),db=e=>{if((0,_t.KN)(e))return[];const t=new Map,n=e.pipelineToPipelineAutomations.nodes,s=e.relatedWorkspaces?.nodes||[];s.forEach((e=>{e.pipelines.forEach((e=>{t.set(e.id,!0)}))}));const r=[...n,...s.reduce(((e,n)=>[...e,...n.pipelineToPipelineAutomations.nodes.filter((e=>{let{sourcePipeline:n,destinationPipeline:s}=e;return t.has(n.id)&&t.has(s.id)}))]),[])];return ee.mNm(ee.vgT("id"),r)},ub=(e,t,n,s)=>{if((0,_t.KN)(n)!==(0,_t.KN)(s)){const t=((0,_t.KN)(n)?s:n)?.id;return e.some((e=>e.pipelineId===t))}if(!(0,_t.KN)(n)&&!(0,_t.KN)(s)){const t=n?.id,r=s?.id;return e.some((e=>e.pipelineId===t||e.pipelineId===r))}return e.some((e=>e.pipelineId===t?.id))};var pb;!function(e){e.DESTINATION_ABOVE="destinationAbove",e.DESTINATION_BELOW="destinationBelow",e.SOURCE_ABOVE="sourceAbove",e.SOURCE_BELOW="sourceBelow"}(pb||(pb={}));const mb=e=>e.map((e=>{let{pipelineAutomationId:t}=e;return t})),hb=(e,t,n)=>{let s=[e];return(0,_t.KN)(t)&&(0,_t.KN)(n)||(s=[t,n]),s=s.filter((e=>!(0,_t.KN)(e))),s},Eb=e=>{let t="";return e.forEach((e=>{let[n,s]=e;n&&(t=s)})),t},gb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,_t.KN)(e)||H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{content:Ye.createElement(rb,{issueCount:t,automations:e}),expirationDelay:5e3,fullWidth:!0})},fb=()=>{H.Z.removeByTypeAndTag(W.Z.TUTORIAL,ob.Workflows)},_b="NEWLY_CREATED_WORKSPACE_ID",vb=e=>{nI(_b,e)},Ib=()=>{nI(_b,"-")};var bb=n(27001),yb=n(25055),Sb=n(86247),wb=n(84443),Rb=n(30298),Tb=n(62660),Cb=n(33277),kb=n(25062);const Ob=ee.mNm(ee.vgT("__ref")),Nb=(e,t)=>e.reduce(((e,n)=>(void 0!==t[n]&&(e[n]=t[n]),e)),{});function Pb(e,t,n){return!!Array.isArray(e)&&ee.fS0(Nb(e,t),Nb(e,n))}const Ab=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{keyArgs:e,read:e=>e?.value,merge(t,n,s){let r=e;if("function"==typeof e){const{args:t,variables:n,typename:i,fieldName:o,field:a}=s;r=e(t,{typename:i,fieldName:o,field:a,variables:n})}function i(e){return Pb(r,s.args,e)}function o(e){return Pb(r,s.variables,e)}function a(e){return e.map((e=>Pb(r,s.variables,e))).some((e=>e))}function l(){return s.args}function c(){if(t){Object.getOwnPropertyDescriptor(t,"value")?.writable&&(t.value={...t.value,nodes:void 0,pageInfo:void 0,totalCount:void 0})}}if(!t)return{getArgs:l,hasSameVariables:o,hasSameMultipleVariables:a,hasSameArguments:i,clear:c,value:n};const d=n.nodes?Ob([...t?.value?.nodes||[],...n.nodes]):t.value.nodes,u=n.pageInfo?{...t.value.pageInfo,...n.pageInfo}:t.value.pageInfo;return{hasSameArguments:i,hasSameVariables:o,hasSameMultipleVariables:a,getArgs:l,clear:c,value:{...t.value,totalCount:n.totalCount,nodes:d,pageInfo:u}}}}},Db=e=>[...new Map(e.map((e=>[e.__ref,e]))).values()],Lb=(e,t)=>e.reduce(((e,n)=>(void 0!==t[n]&&(e[n]=t[n]),e)),{}),zb=(e,t,n)=>!!Array.isArray(e)&&(0,_t.uH)(Lb(e,t),Lb(e,n)),Mb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{keyArgs:e,read:e=>e?.value,merge(t,n,s){let r=e;const i=!0===s.variables?.isRefetch;if("function"==typeof e){const{args:t,variables:n,typename:i,fieldName:o,field:a}=s;r=e(t,{typename:i,fieldName:o,field:a,variables:n})}const o=e=>zb(r,s.args,e),a=e=>zb(r,s.variables,e),l=e=>e.map((e=>zb(r,s.variables,e))).some((e=>e)),c=()=>s.args,d=()=>{t&&(t.value={...t.value,nodes:void 0,pageInfo:void 0,totalCount:void 0})};if(!t||i)return{getArgs:c,hasSameVariables:a,hasSameMultipleVariables:l,hasSameArguments:o,clear:d,value:n};const u=n.nodes?Db([...t?.value?.nodes||[],...n.nodes]):t.value.nodes,p=n.pageInfo?{...t.value.pageInfo,...n.pageInfo}:t.value.pageInfo,m={totalCount:"number"==typeof n.totalCount?n.totalCount:t.value.totalCount},h=n.pipelineCounts?{...t.value.pipelineCounts,...n.pipelineCounts}:t.value.pipelineCounts;return{hasSameArguments:o,hasSameVariables:a,hasSameMultipleVariables:l,getArgs:c,clear:d,value:{...t.value,...m,nodes:u,pageInfo:p,pipelineCounts:h}}}}};let xb=null;const Fb={merge(e,t,n){let{mergeObjects:s}=n;return s(e,t)}},Ub=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>e.reduce(((e,n)=>(void 0!==t[n]&&e.push(n),e)),[])};function Bb(){return xb=new kb.h({possibleTypes:{RoadmapItem:["Epic","Project","ZenhubEpic"]},typePolicies:{Query:{fields:{searchEpicAssignableIssues:Ab(["filters","workspaceId","query","includeClosed","epicIssueByInfo"]),users:Ab(Ub(["hasEnterpriseSeat","enterpriseRole","hasActiveEnterpriseSeatRequest","query"])),searchIssuesByPipeline:Mb(["pipelineId"]),searchIssuesByPipelineCounts:Mb(["pipelineId"]),searchClosedIssues:Mb(["workspaceId"]),searchClosedIssuesCounts:Mb(["workspaceId"])}},Issue:{fields:{estimationVotes:Fb,parentZenhubEpics:Fb}},Repository:{fields:{assignableUsers:Ab(["query"])}},Workspace:{fields:{sprints:Ab(["filters","query"]),labelFilterOptions:Ab(["repositoryGhIds","query","name"]),assignees:Ab(["repositoryGhIds","query","login"]),authors:Ab(["repositoryGhIds","query","login"]),epics:Ab(["repositoryGhIds","query","ids"]),releases:Ab(["repositoryGhIds","query","state","ids"]),milestoneFilterOptions:Ab(["repositoryGhIds","query","title"])}},Epic:{fields:{childIssues:Ab(["filters"]),issueEstimateProgress:Fb,issueCountProgress:Fb}},EnterpriseInstance:{fields:{license:Fb}}}}),xb}const qb=()=>xb??Bb(),Hb=Bb;var Wb=n(99377),jb=n.n(Wb),Gb=n(24360),Kb=n.n(Gb);function Vb(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function $b(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Vb(i,s,r,o,a,"next",e)}function a(e){Vb(i,s,r,o,a,"throw",e)}o(void 0)}))}}class Zb extends(Kb()){request(e,t){return this.cable=e.getContext().cable,Kb().prototype.request.call(this,e,t)}}let Yb=null;const Jb=function(){var e=$b((function*(){return jb().createConsumer(L.Z.CABLE_URL)}));return function(){return e.apply(this,arguments)}}(),Xb=function(){var e=$b((function*(){return Yb||(Yb=Jb()),Yb}));return function(){return e.apply(this,arguments)}}(),Qb=()=>ct.requireTokenByKey(ct.ZENHUB_TOKEN_KEY),ey=function(){var e=$b((function*(e,t){const n=yield Xb(),s=yield Qb();return n.subscriptions.create({...e,token:s},t)}));return function(t,n){return e.apply(this,arguments)}}(),ty=e=>{const{token:t}=e.getContext();return t?{token:t}:{}},ny=()=>{const e=jb().createConsumer("");return new Zb({cable:e,connectionParams:ty})};function sy(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function ry(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){sy(i,s,r,o,a,"next",e)}function a(e){sy(i,s,r,o,a,"throw",e)}o(void 0)}))}}const iy=["pipelineIssues","pipelineIssuesTotalAndPoints","workspacePipelines","workspaceRepos"];let oy=null;function ay(){const e=Hb(),t=(0,Rb.v)(function(){var e=ry((function*(e,t){let{operationName:n}=e,{headers:s}=t;const r={};return"IntrospectionQuery"===n&&process.env.INTERNAL_AUTH_TOKEN&&(r.Authorization=`Token token="${process.env.INTERNAL_AUTH_TOKEN}"`),{headers:{Accept:"application/json",...yield Mn(!0),...s,...r}}}));return function(t,n){return e.apply(this,arguments)}}()),n=(0,Rb.v)(function(){var e=ry((function*(e,t){let{operationName:n}=e,{headers:s}=t;const r={};return"IntrospectionQuery"===n&&process.env.INTERNAL_AUTH_TOKEN&&(r.Authorization=`Token token="${process.env.INTERNAL_AUTH_TOKEN}"`),{headers:{Accept:"application/json",...yield Mn(),...s,...r}}}));return function(t,n){return e.apply(this,arguments)}}()),s=(0,Tb.q)((e=>{let{graphQLErrors:t,networkError:n,operation:s}=e;s.getContext().disableGlobalErrorHandler||(t&&t.forEach((e=>{let{message:t,locations:n,path:r}=e;const i=JSON.stringify(t,null,2),o=JSON.stringify(n,null,2),a=JSON.stringify(r,null,2),l=(0,Cb.S)(s.query);(function(e,t,n,s){return!(!e.includes("Unable to load repository - not found")||!s.includes("repository: repository(ghId:")||(ae("Unable to load the repository from GraphQL"),0))})(i,0,0,l)||oe(`[GraphQL error]: Message: ${i}, Location: ${o}, Path: ${a}`,`\nQuery: ${l}`)})),n&&(oe(`[Network error]: ${n}`),"statusCode"in n&&401===n?.statusCode&&tt.handle401()))}));const r=e=>(t,n)=>{let s=`${L.Z.hostURL}/${e}`;const r=function(e){const t=JSON.parse(e).map((e=>{let{operationName:t}=e;return t})).filter((e=>e));return t.length>1?`[${t.join(",")}]`:t[0]}(n.body);return r&&(s+=`?query=${r}`),fetch(s,{...n,credentials:"same-origin"})},i=r("v1/graphql"),o=new wb.A({fetch:i}),a=new wb.A({fetch:i,batchMax:3}),l=bb.Ps`
    extend type Sprint {
      localEndOn: String
      localStartOn: String
    }
  `,c=yb.i.from([t,s,yb.i.split((e=>{let{query:t}=e;return t.definitions.some((e=>{let{name:t,operation:n}=e;return"query"===n&&Boolean(t?.value)&&iy.includes(t?.value||"")}))}),a,o)]),d=r("public_graphql"),u=new wb.A({fetch:d}),p=yb.i.from([n,s,u]),m=yb.i.split((e=>!0===e.getContext().isPublic),p,c),h=yb.i.from([t,s,(0,Rb.v)($b((function*(){return{cable:yield Xb(),token:yield Qb()}}))),ny()]);return new Sb.f({link:yb.i.split((e=>{let{query:t}=e;return t.definitions.some((e=>{let{kind:t,operation:n}=e;return"OperationDefinition"===t&&"subscription"===n}))}),h,m),cache:e,connectToDevTools:M,typeDefs:l})}const ly=()=>(oy||(oy=ay()),oy);var cy=n(19144);const dy=bb.Ps`
  fragment RepositoryPermissionInfo on RepositoryPermission {
    pull
    push
    admin
  }
`,uy=bb.Ps`
  fragment RepositoriesConnection on Workspace {
    repositoriesConnection {
      nodes {
        ghId
        id
        name
        owner {
          id
          ghId
          login
          avatarUrl
        }
        issues {
          totalCount
        }
        permissions {
          ...RepositoryPermissionInfo
        }
        isPrivate
      }
    }
  }
  ${dy}
`,py=bb.Ps`
  fragment CurrentWorkspace on Workspace {
    id
    createdAt
    name
    defaultRepository {
      id
      ghId
    }
    description
    displayName
    flags
    importState
    isEditable
    isFavorite
    ...RepositoriesConnection
    repositories {
      id
      ghId
      name
      isPrivate
      owner {
        id
        ghId
        login
        avatarUrl
      }
      permissions {
        ...RepositoryPermissionInfo
      }
      isFavorite
    }
    pipelines(includeClosed: false) {
      id
      name
      isDefaultPRPipeline
      isEpicPipeline
    }
    priorities {
      id
      name
      color
    }
    zenhubOwner {
      ... on ZenhubOrganization {
        id
        name
      }
    }
    zenhubOrganization {
      id
      name
    }
  }
  ${uy}
  ${dy}
`,my={},hy=bb.Ps`
  query getCurrentWorkspace($workspaceId: ID!) {
    workspace: workspace(id: $workspaceId) {
      ...CurrentWorkspace
    }
  }
  ${py}
`;const Ey=bb.Ps`
  query fetchWorkspacesWithPipeline($repoId: Int!) {
    repository(ghId: $repoId) {
      workspaces {
        ...CurrentWorkspace
      }
    }
  }
  ${py}
`;const gy={},fy=bb.Ps`
  query getRecentWorkspaces($count: Int!, $repositoryGhIds: [ID!]) {
    recentlyViewedWorkspaces(first: $count, repositoryGhIds: $repositoryGhIds) {
      nodes {
        ...CurrentWorkspace
      }
    }
  }
  ${py}
`;const _y={},vy=bb.Ps`
  query useAssigneesByRepoIds(
    $ghIds: [Int!]!
    $query: String
    $first: Int
    $after: String
    $includeZHUser: Boolean!
  ) {
    viewer @include(if: $includeZHUser) {
      id
    }
    repositoriesByGhId(ghIds: $ghIds) {
      id
      ghId
      assignableUsers(query: $query, first: $first, after: $after) {
        totalCount
        pageInfo {
          endCursor
          hasNextPage
        }
        nodes {
          id: ghId
          login
          name
          avatar_url: avatarUrl
          zenhubUser @include(if: $includeZHUser) {
            id
          }
        }
      }
    }
  }
`;const Iy=bb.Ps`
  mutation SetPullRequestPipeline($input: SetPullRequestPipelineInput!) {
    setPullRequestPipeline(input: $input) {
      workspace {
        id
      }
    }
  }
`;function by(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function yy(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){by(i,s,r,o,a,"next",e)}function a(e){by(i,s,r,o,a,"throw",e)}o(void 0)}))}}const Sy=function(){var e=yy((function*(e){let{repoId:t}=e;const{data:n}=yield ly().query({query:Ey,variables:{repoId:t},fetchPolicy:"no-cache"});return n.repository.workspaces}));return function(t){return e.apply(this,arguments)}}(),wy=function(){var e=yy((function*(e){let{workspaceId:t}=e;const n=bb.Ps`
    query {
      workspace(id: "${t}") {
        pipelines {
          id
          name
          description
        }
      }
    }
  `,s=yield ly().query({query:n,fetchPolicy:"no-cache"});return s.errors&&s.errors.length>0?(oe("Error on getting pipelines: ",s.errors[0].message),null):s}));return function(t){return e.apply(this,arguments)}}(),Ry=function(){var e=yy((function*(e){let{workspaceId:t}=e;const n=bb.Ps`
    query {
      workspace: workspace(id: "${t}") {
        isDeletable
      }
    }
  `,{data:s}=yield ly().query({query:n,fetchPolicy:"no-cache"});return s.workspace.isDeletable}));return function(t){return e.apply(this,arguments)}}(),Ty=function(){var e=yy((function*(e){let{workspaceId:t}=e;try{const{data:e}=yield ly().query({query:hy,variables:{workspaceId:t},fetchPolicy:"network-only"});return e.workspace}catch(e){if(e instanceof Error&&e?.message?.toLowerCase().includes("not found"))return null;throw e}}));return function(t){return e.apply(this,arguments)}}(),Cy=function(){var e=yy((function*(e){let{repoId:t}=e;try{const{data:e}=yield ly().query({query:Ey,variables:{repoId:t},fetchPolicy:"no-cache"});return e.repository.workspaces}catch(e){return[]}}));return function(t){return e.apply(this,arguments)}}(),ky=function(){var e=yy((function*(e){let{repositoryGhIds:t,count:n=5}=e;const{data:s}=yield ly().query({query:fy,variables:{count:n,repositoryGhIds:t},fetchPolicy:"no-cache"});return s.recentlyViewedWorkspaces.nodes}));return function(t){return e.apply(this,arguments)}}(),Oy=function(){var e=yy((function*(e){let{workspaceId:t}=e;const n=bb.Ps`
    mutation {
      setWorkspaceViewedNow(input: { workspaceId: "${t}" }) {
        workspace { id }
      }
    }
 `,{data:s}=yield ly().mutate({mutation:n,fetchPolicy:"no-cache"});return s}));return function(t){return e.apply(this,arguments)}}(),Ny=function(){var e=yy((function*(e){let{repoIds:t}=e;const n=bb.Ps`
    query {
      repositoriesByGhId(ghIds: [${t}]) {
        id: ghId
        labels {
          nodes {
            id: ghId
            node_id: ghNodeId
            name
            color
            description
          }
        }
      }
    }
  `,{data:s}=yield ly().query({query:n,fetchPolicy:"no-cache"});return s.repositoriesByGhId}));return function(t){return e.apply(this,arguments)}}(),Py=function(){var e=yy((function*(e){let{issueNumber:t,repoId:n}=e;const s=bb.Ps`
    query IssueByInfo {
      issueByInfo(repositoryGhId: ${n}, issueNumber: ${t}) {
        id
      }
    }
  `,{data:r}=yield ly().query({query:s,fetchPolicy:"no-cache"});return r.issueByInfo.id}));return function(t){return e.apply(this,arguments)}}(),Ay=function(){var e=yy((function*(e){let{login:t}=e;const n=bb.Ps`
    query hasOrgWorkspace($login: String!) {
      ownerByLogin(login: $login) {
        hasWorkspace
      }
    }
  `,{data:s}=yield ly().query({query:n,variables:{login:t},fetchPolicy:"no-cache"});return s.ownerByLogin.hasWorkspace}));return function(t){return e.apply(this,arguments)}}(),Dy=function(){var e=yy((function*(e){const t=ly().watchQuery({query:vy,variables:{ghIds:e,includeZHUser:!1}}),n={},s=(yield t.result()).data?.repositoriesByGhId||{};for(const e of s){if(e.assignableUsers?.pageInfo?.hasNextPage){yield t.fetchMore({variables:{after:e.assignableUsers.pageInfo.endCursor}});break}n[e.ghId]=e.assignableUsers.nodes.map((e=>({...e,id:String(e.id)})))}return n}));return function(t){return e.apply(this,arguments)}}(),Ly=function(){var e=yy((function*(e){let{input:t}=e;const{data:n}=yield ly().mutate({mutation:Iy,variables:{input:t}});return n}));return function(t){return e.apply(this,arguments)}}();function zy(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const My={__name__:"WorkspaceService",...os.Workspace,getWorkspace:function(){var e,t=(e=function*(e){let{workspaceId:t}=e;const n=yield Ty({workspaceId:t});return(0,ha.DS)(n)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){zy(i,s,r,o,a,"next",e)}function a(e){zy(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),fetchPipelinesByWorkspace:wy},xy=My;function Fy(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Uy(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Fy(i,s,r,o,a,"next",e)}function a(e){Fy(i,s,r,o,a,"throw",e)}o(void 0)}))}}function By(e){return L2.Repo.getInfoByRepoId(e)}function qy(e){return L2.Repo.getMilestonesByRepoID(e)}function Hy(e){return L2.Repo.getNotificationsWithPageCount(e)}function Wy(e){return L2.Repo.markRepoAsRead(e)}function jy(e){return os.Repo.getEstimates(e)}function Gy(e){return os.Repo.createEstimate(e)}function Ky(e){return os.Repo.setIssueEstimate(e)}function Vy(e){return os.Repo.addDependency(e)}function $y(e){return os.Repo.removeDependency(e)}function Zy(e){return os.Repo.fetchIssueDependencies(e)}function Yy(e){return os.Repo.fetchIssueDependenciesTree(e)}const Jy=e=>os.Repo.getWorkspaceIssuesWithZenHubData(e);function Xy(e){return os.Repo.getZenHubIssuesData(e)}function Qy(e){return os.Repo.getIssueEstimate(e)}function eS(e){return os.Repo.subscribeToRepoById(e)}const tS=e=>os.Repo.listenToRepoIssuesDeletes(e);function nS(e){return os.Repo.emitIssueUpdateCheck(e)}const sS=function(){var e=Uy((function*(e){let{repoId:t}=e;return(yield Cy({repoId:t})).map(ha.DS)}));return function(t){return e.apply(this,arguments)}}(),rS=function(){var e=Uy((function*(e){let{count:t,repositoryGhIds:n}=e;return(yield ky({count:t,repositoryGhIds:n})).map(ha.DS)}));return function(t){return e.apply(this,arguments)}}(),iS=function(){var e=Uy((function*(e){let{repoIds:t}=e;const n=yield Ny({repoIds:t});return rd(n)}));return function(t){return e.apply(this,arguments)}}(),oS=function(){var e=Uy((function*(e){let{login:t}=e;return yield Ay({login:t})}));return function(t){return e.apply(this,arguments)}}();function aS(e){return L2.Organization.getRepos(e)}function lS(e){return L2.Organization.isOrg(e)}function cS(e){return os.Org.getOrganizations(e)}function dS(e){return os.Org.getAccount(e)}function uS(e){return os.Org.getUsers(e)}function pS(e){return os.Org.seatUsers(e)}var mS=n(9694);var hS=n(19135);function ES(e){if(403===e.status){throw{searchRateLimitHit:!0}}throw e}const gS={withOwner:(e,t)=>L2.Search.searchForReposWithOwner(e,t).catch(ES),public:e=>L2.Search.searchForReposPublic(e).catch(ES),publicWithOwner:(e,t)=>L2.Search.searchForReposPublicWithOwner(e,t).catch(ES),private:e=>L2.Search.searchForReposPrivate(e).catch(ES)};function fS(e){const t=ee.ETc(["pagination","nextPageNum"],e),n=!ee.kKJ(t)&&ee.is(Number,t)?t-1:null;return{data:e.result,nextPage:t,currentPage:n,lastPage:ee.ETc(["pagination","pageCount"],e)}}function _S(e,t,n){if(ee.kKJ(e))return t;if(!function(e,t){return!(ee.kKJ(e.nextPage)||(!ee.kKJ(t.nextPage)||e.nextPage!==e.lastPage)&&e.currentPage>=t.currentPage)}(e,t))return e;const s=function(e,t){return ee.mNm(ee.vgT(e),t)}(n,ee.zoF(e.data,t.data));return ee.yGi("data",s,t)}function vS(e){return ee.yGi("isLoading",!1,e)}const{getMyReposByPage:IS}=k,bS=L.Z.repoFetchPageLimit,yS=function(e){return lS({organization:e})},SS=ee.WAo(((e,t)=>ee.hXT((t=>ee.t$q(t.owner.login)===ee.t$q(e)))(t))),wS=$2,RS=function(e){return V2({username:e,pageLimit:bS})},TS=e=>V2({visibility:"private",affiliation:"collaborator",pageLimit:bS}).then(SS(e)),CS=e=>ve().all([RS(e),TS(e)]).then((e=>ee.zoF(e[0],e[1]))),kS=(e,t)=>ee.t$q(e)===ee.t$q(t)?wS({pageLimit:bS}):yS(t).then((e=>e?function(e){return aS({organization:e,pageLimit:bS})}(t):CS(t)));function OS(e,t){return n={organization:e,pageNumber:t},L2.Organization.getReposByPage(n);var n}function NS(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function PS(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){NS(i,s,r,o,a,"next",e)}function a(e){NS(i,s,r,o,a,"throw",e)}o(void 0)}))}}const AS=14,{LOCAL_STORAGE_RECENT_REPOS:DS}=r,LS=ee.zGw(ee.MRu(ee.vgT("access_at")),ee.GYS);function zS(e){return{repo_id:e.repoId,ownerName:e.ownerName,name:e.repoName,isPrivate:e.isPrivate,access_at:e.accessAt||(new Date).toISOString()}}const MS=e=>zS({repoId:e.id,ownerName:e.owner.login,repoName:e.name,isPrivate:e.private,accessAt:e.updated_at}),xS=ee.WAo(((e,t)=>{const n=ee.ETc(["repo","id"],t),s=ee.ETc(["repo","name"],t);return zS({repoId:n,ownerName:e,repoName:ee.Vl2("/",s)[1],isPrivate:!t.public,accessAt:t.created_at})}));function FS(){const e=cI(DS);if(ee.kKJ(e)||""===e)return{};let t;try{t=JSON.parse(e)}catch(e){oe("Cannot parse recentRepos from localStorage"),t={}}return t}function US(e){return FS()[ee.t$q(e)]||{}}function BS(e,t){return qS.apply(this,arguments)}function qS(){return qS=PS((function*(e,t){let n=null;if(ee.t$q(e)===ee.t$q(t)){const t=yield Z2({userName:e,pageNumber:1});n=ee.ETc(["result"],t)||[]}else n=yield CS(t);return ee.UID(MS,n)})),qS.apply(this,arguments)}function HS(e,t){return WS.apply(this,arguments)}function WS(){return WS=PS((function*(e,t){try{const n=yield Q2({username:e,organization:t,reqOptions:{pageLimit:1}}),s=ee.zGw(ee.UID(xS(t)),ee.d1t(ee.kKJ),ee.mNm(ee.vgT("name")))(n);if(s.length>=AS)return s;const r=yield aS({organization:t,pageLimit:1}),i=ee.UID(MS,r);return ee.zGw(ee.zoF(s),ee.mNm(ee.vgT("name")))(i)}catch(e){return[]}})),WS.apply(this,arguments)}function jS(){return jS=PS((function*(e,t){let n=null;return n=(yield lS({organization:t}))?yield HS(e,t):yield BS(e,t),ee.tPi(0,AS,n)})),jS.apply(this,arguments)}function GS(e,t,n){const s=ee.t$q(e),r=ee.t$q(t),i=FS(),o=i[ee.t$q(e)]||{},a=ee.yGi(r,n,o),l=ee.yGi(s,a,i);nI(DS,l)}function KS(e,t){const n=ee.t$q(t),s=US(e)[n]||[];return ee.kE(s)>0?ve().resolve(s):function(e,t){return jS.apply(this,arguments)}(e,t).then((n=>(GS(e,t,n),n)))}const VS=US,$S=e=>{let{onboarding:t}=e;return t.gh_users_previously_invited_to_zh},ZS=e=>{let{onboarding:t}=e;return t.persona_form_completed},YS=e=>{let{onboarding:t}=e;return t.onboarding_completed},JS=e=>{let{onboarding:t}=e;return t.webapp_theme_preference},XS=e=>{const{onboarding:t}=e;return!t.persona_sidebar_tooltip_dismissed&&t.persona_form_completed&&t.sidebar_board_nav_first_click},QS=e=>e?.onboarding?.connect_org_toast_dismissed,ew=ee.ETc(["onboarding"]),tw=ee.ETc(["onboarding","ccr_visited"]),nw=ee.ETc(["onboarding","template_selector_alert_dismissed"]),sw=ee.ETc(["onboarding","ccr_info_alert_dismissed"]),rw=ee.ETc(["onboarding","connected_repos_info_alert_dismissed"]),iw=ee.ETc(["onboarding","workspaces_breadcrumbs_related_workspaces_alert_dismissed"]),ow=ee.ETc(["onboarding","workspaces_issue_pipeline_selector_alert_dismissed"]),aw=ee.ETc(["onboarding","priorities_issue_pipeline_selector_alert_dismissed"]),lw=ee.ETc(["onboarding","workspaces_issue_dependencies_alert_dismissed"]),cw=ee.ETc(["onboarding","workspaces_issue_epics_alert_dismissed"]),dw=ee.ETc(["onboarding","workspaces_release_report_alert_dismissed"]),uw=ee.ETc(["onboarding","quick_issue_action_announcement_dimissed"]),pw=ee.ETc(["onboarding","quick_issue_action_in_modal_tip_dismissed"]),mw=ee.ETc(["onboarding","workflows_tutorial_viewed"]),hw=ee.ETc(["onboarding","epic_issue_list_set_roadmap_dates_tooltip_dismissed"]),Ew=ee.ETc(["onboarding","epic_issue_list_see_on_roadmap_tooltip_dismissed"]);function gw(e){if(ee.kKJ(e))return!1;const{lastUpdateRequest:t,lastUpdateResponse:n}=e;if(ee.kKJ(t)||ee.kKJ(n))return!1;const s=new Date(t);return new Date(n)>=s}function fw(e){const{lastUpdateRequest:t,lastUpdateResponse:n}=e;if(ee.kKJ(t))return!1;if(ee.kKJ(n))return!0;const s=new Date(t);return new Date(n)<s}const _w=ee.ETc(["shared","assignees"]),vw=(ee.ETc(["shared","authors"]),ee.ETc(["shared","status","assignees"])),Iw=ee.ETc(["shared","epics"]),bw=ee.ETc(["shared","status","epics"]),yw=ee.ETc(["shared","connectableIssues"]),Sw=ee.ETc(["shared","labels"]),ww=ee.ETc(["shared","milestones"]),Rw=ee.ETc(["shared","closedMilestones"]),Tw=ee.ETc(["shared","releases"]),Cw=ee.ETc(["shared","status","connectableIssues"]),kw=ee.ETc(["shared","status","labels"]),Ow=ee.ETc(["shared","status","milestones"]),Nw=ee.ETc(["shared","status","closedMilestones"]),Pw=ee.ETc(["shared","estimates"]),Aw=ee.ETc(["shared","status","estimates"]),Dw=ee.ETc(["shared","status","releases"]),Lw=ee.ETc(["shared","userOrgs"]),zw=ee.ETc(["shared","status","userOrgs"]),Mw=ee.ETc(["shared","reposByOrg"]),xw=ee.ETc(["shared","status","reposByOrg"]),Fw=(0,pa.P1)(xw,(e=>{let{lastUpdateRequest:t,lastUpdateResponse:n}=e;return!t||!n||(r=t,!(!(s=n)||!r)&&new Date(s).getTime()<new Date(r).getTime());var s,r})),Uw=(ee.ETc(["shared","privateRepos","isLoading"]),ee.ETc(["shared","privateRepos","repos"]),(0,pa.P1)(bw,gw)),Bw=(0,pa.P1)(bw,fw),qw=(0,pa.P1)(kw,gw),Hw=(0,pa.P1)(kw,fw),Ww=(0,pa.P1)(Ow,gw),jw=((0,pa.P1)(Nw,gw),(0,pa.P1)(Ow,fw)),Gw=(0,pa.P1)(Nw,fw),Kw=((0,pa.P1)(vw,gw),(0,pa.P1)(vw,fw)),Vw=((0,pa.P1)(Cw,gw),(0,pa.P1)(Cw,fw),(0,pa.P1)(Aw,gw),(0,pa.P1)(zw,gw),(0,pa.P1)(zw,fw),(0,pa.P1)(Dw,fw)),$w=(0,pa.P1)(Dw,gw);function Zw(e){const t=e.owner?e.owner.login:e.ownerName,n=e.name;return{repo_id:e.id||e.repo_id,organization:t,repository:n,description:e.description||null}}function Yw(e,t,n){if(!e||!t)return[];const s=ee.yAE(t,n);return ee.zGw(ee.d1t(function(e){return ee.zGw(ee.ETc(["owner","login"]),ee.t$q,ee.r3W(ee.__,ee.XPQ(e)))}(e)),ee.UID(Zw))(s)}const Jw=ee.ETc(["shared","privateRepos","repos"]),Xw=ee.ETc(["shared","privateRepos","searchedForRepos"]),Qw=(0,pa.P1)([Lw,Jw],Yw),eR=((0,pa.P1)([Lw,Jw,Xw],Yw),ee.ETc(["shared","recentRepos"])),tR=ee.WAo(((e,t,n)=>{if(!t||!n)return null;const s=ee.zGw(ee.vgT(ee.__,n),ee.hXT(ee.OH4("isPrivate",e)));return ee.zGw(ee.XPQ,ee.d1t(ee.r3W(ee.__,ee.XPQ(t))),ee.UID(s),ee.xHg,LS,ee.UID(Zw))(n)})),nR=(0,pa.P1)([Lw,eR],tR(!0)),sR=(0,pa.P1)([Lw,eR],tR(!1)),rR=(0,pa.P1)([uw,pw,Dv],((e,t,n)=>e&&!t&&n));var iR=n(11512),oR=n(82533);function aR(e,t,n,s){const r=s&&s.message?s.message:"no message";oe(`createDeferredPayload error - ${r}`,s),s.doNotDispatch||e({type:t,error:s,payload:null})}const lR=function(e,t,n,s){const r=function(e,t,n,s){const r=ee.yAE(aR,s);return s=>i=>{i({type:e,payload:s}),ve().resolve(t(s)).then((e=>{n&&n(i,s,e)}),(t=>{r&&r(i,e,s,t)}))}}(e,t,n,s);return(0,hS.Z)(e,r)},cR={require_seat:!1},dR=L.Z.isDev||L.Z.isEnterprise,uR={};function pR(e){if(dR)return ve().resolve(cR);const{repo_id:t,workspace_id:n}=e,s=os.Repo.access({repo_id:t,workspace_id:n});return uR[t]=s,s}function mR(e){const{repo_id:t,readFromCacheOnly:n}=e;return uR[t]?uR[t]:n?ve().resolve({}):pR(e)}function hR(e){return os.Account.processPayment(e)}function ER(e){return os.Account.updateCard(e)}function gR(e){return os.Account.sendCancellationFeedback(e)}function fR(e){return os.Account.cancelSubscription(e)}function _R(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function vR(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){_R(i,s,r,o,a,"next",e)}function a(e){_R(i,s,r,o,a,"throw",e)}o(void 0)}))}}const IR=ee.u4g(((e,t)=>(e[t]=t,e)),{},["NO_SEAT_REQUIRED","TRIALING_WITH_FREE_PLAN","TRIALING_WITH_PAID_PLAN","NOT_SEATED","NO_SUBSCRIPTION","FREE_PLAN_0_SEATS","SEATED_BUT_UNPAID","SEATED"]);function bR(e){return e.require_seat?"trialing"===e.status?e.hasPaidPlan?IR.TRIALING_WITH_PAID_PLAN:IR.TRIALING_WITH_FREE_PLAN:e.hasSubscription&&0===e.seats?IR.FREE_PLAN_0_SEATS:e.hasSubscription&&!e.is_seated?IR.NOT_SEATED:e.status?"unpaid"===e.status?IR.SEATED_BUT_UNPAID:IR.SEATED:IR.NO_SUBSCRIPTION:IR.NO_SEAT_REQUIRED}function yR(e){return(t={repo_id:e},os.Repo.attemptRenewTrial(t)).then((()=>pR({repo_id:e})));var t}function SR(e,t){return bR(e)===IR.FREE_PLAN_0_SEATS?yR(t):Promise.resolve(e)}function wR(){return wR=vR((function*(e,t){return SR(yield mR({repo_id:e,workspace_id:t}),e)})),wR.apply(this,arguments)}function RR(e){const t=uc(),n=hc(e);return s=t,dc(n).diff(dc(s),"days");var s}function TR(e){return bR(e)===IR.NOT_SEATED?(t={org_id:e.orgGHId},os.Org.getAdmins(t)):Promise.resolve(null);var t}const{paywall:CR}=pr,kR=(0,hS.Z)(CR.SET_ACCESS_DATA),OR=(0,hS.Z)(CR.SET_ORG_ADMIN_LIST),NR=(0,hS.Z)(CR.LOAD_ACCOUNT_DATA,(e=>function(t){const n=function(e,t){return wR.apply(this,arguments)}(e.repo_id,e.workspace_id),s=n.then(TR);oR.liftp(((e,n)=>{n&&t(OR(n)),t(kR(e))}))(n,s)})),PR=(0,hS.Z)(CR.REQUEST_LICENSE_DISPLAYED),AR=(0,hS.Z)(CR.BUY_MORE_LICENSES_DISPLAYED),DR=(0,hS.Z)(CR.BUY_MORE_LICENSES),LR=(0,hS.Z)(CR.SELECT_GROWTH_PLAN),zR=lR(CR.REQUEST_LICENSE,(function(e){return os.Org.requestLicense(e)})),MR=(0,hS.Z)(CR.TRACK_UPGRADE_TO_GROWTH_VIEWED),xR=(0,hS.Z)(CR.TRACK_UPGRADE_TO_GROWTH_CLICKED),{flag:FR}=pr,UR={setFlags:(0,hS.Z)(FR.SET_FLAGS)};var BR=n(7701);function qR(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const HR=bb.Ps`
  query FetchIssue($orgName: String!, $repoName: String!, $issueNumber: Int!) {
    repository(owner: $orgName, name: $repoName) {
      issueOrPullRequest(number: $issueNumber) {
        type: __typename
        ... on Issue {
          assignees(first: 100) {
            edges {
              ...assignees
            }
          }
          labels(first: 100) {
            edges {
              ...labels
            }
          }
          body
          created_at: createdAt
          updated_at: updatedAt
          html_url: url
          id: databaseId
          milestone {
            due_on: dueOn
            title
            issues(first: 100) {
              edges {
                node {
                  state
                }
              }
            }
          }
          number
          state
          title
          user: author {
            ...actor
          }
        }
        ... on PullRequest {
          isPRMerged: merged
          isDraft
          pull_request: url
          assignees(first: 100) {
            edges {
              ...assignees
            }
          }
          labels(first: 100) {
            edges {
              ...labels
            }
          }
          body
          created_at: createdAt
          updated_at: updatedAt
          html_url: url
          id: databaseId
          milestone {
            due_on: dueOn
            title
            issues(first: 100) {
              edges {
                node {
                  state
                }
              }
            }
          }
          number
          state
          title
          user: author {
            ...actor
          }
        }
      }
    }
  }

  fragment assignees on UserEdge {
    node {
      id: databaseId
      avatar_url: avatarUrl
      login
    }
  }

  fragment labels on LabelEdge {
    node {
      color
      name
    }
  }

  fragment actor on Actor {
    avatar_url: avatarUrl
    login
    id: login
  }
`,WR=e=>{const{edges:t}=e;return t.map((e=>{let{node:t}=e;return t}))},jR=e=>e?{...e,closed_issues:WR(e.issues).filter((e=>{let{state:t}=e;return"CLOSED"===t})).length,open_issues:WR(e.issues).filter((e=>{let{state:t}=e;return"OPEN"===t})).length}:null,GR=e=>e.toLowerCase(),KR=function(){var e,t=(e=function*(e,t){const{organization:n,repository:s,issueNumber:r}=t,i={orgName:n,repoName:s,issueNumber:r};return(e=>{const{repository:{issueOrPullRequest:t}}=e;return{...t,assignees:WR(t.assignees),labels:WR(t.labels),milestone:jR(t.milestone),state:GR(t.state)}})((yield e.query({query:HR,variables:i,context:{headers:{Accept:"application/vnd.github.shadow-cat-preview+json"}}})).data)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){qR(i,s,r,o,a,"next",e)}function a(e){qR(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),VR=KR;function $R(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const ZR=bb.Ps`
  query FetchIssue($orgName: String!, $repoName: String!, $issueNumber: Int!) {
    repository(owner: $orgName, name: $repoName) {
      issueOrPullRequest(number: $issueNumber) {
        type: __typename
        ... on Issue {
          timeline: timelineItems(first: 100) {
            totalCount
            nodes {
              event: __typename
              ... on AssignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee {
                  ...actor
                }
              }
              ... on UnassignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee {
                  ...actor
                }
              }
              ... on LabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on UnlabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on MilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on DemilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on ClosedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                closer {
                  ... on PullRequest {
                    number
                    url
                    headRepository {
                      url
                      nameWithOwner
                    }
                  }
                  ... on Commit {
                    abbreviatedOid
                    commitUrl
                  }
                }
                url
              }
              ... on ReopenedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on RenamedTitleEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                from: previousTitle
                to: currentTitle
              }
              ... on CrossReferencedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                source {
                  __typename
                  ... on PullRequest {
                    id
                    number
                    pull_request: url
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                  ... on Issue {
                    id
                    number
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                }
              }
              ... on LockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on UnlockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
            }
          }
          comments(first: 100) {
            edges {
              ...comments
            }
          }
        }
        ... on PullRequest {
          timeline: timelineItems(first: 100) {
            totalCount
            nodes {
              event: __typename
              ... on MergedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on HeadRefDeletedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on HeadRefRestoredEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }

              ... on AssignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee {
                  ...actor
                }
              }
              ... on UnassignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee {
                  ...actor
                }
              }
              ... on LabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on UnlabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on MilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on DemilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on ClosedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                closer {
                  ... on PullRequest {
                    number
                    url
                    headRepository {
                      url
                      nameWithOwner
                    }
                  }
                  ... on Commit {
                    abbreviatedOid
                    commitUrl
                  }
                }
                url
              }
              ... on ReopenedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on RenamedTitleEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                from: previousTitle
                to: currentTitle
              }
              ... on CrossReferencedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                source {
                  __typename
                  ... on PullRequest {
                    id
                    number
                    pull_request: url
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                  ... on Issue {
                    id
                    number
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                }
              }
              ... on LockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on UnlockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
            }
          }
          comments(first: 100) {
            edges {
              ...comments
            }
          }
        }
      }
    }
  }

  fragment comments on IssueCommentEdge {
    node {
      id: databaseId
      body
      created_at: createdAt
      user: author {
        avatar_url: avatarUrl
        login
      }
    }
  }

  fragment actor on Actor {
    avatar_url: avatarUrl
    login
    id: login
  }
`,YR=bb.Ps`
  query FetchIssue($orgName: String!, $repoName: String!, $issueNumber: Int!) {
    repository(owner: $orgName, name: $repoName) {
      issueOrPullRequest(number: $issueNumber) {
        type: __typename
        ... on Issue {
          timeline(first: 100) {
            totalCount
            nodes {
              event: __typename
              ... on AssignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee: user {
                  ...user
                }
              }
              ... on UnassignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee: user {
                  ...user
                }
              }
              ... on LabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on UnlabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on MilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on DemilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on ClosedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on ReopenedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on RenamedTitleEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                from: previousTitle
                to: currentTitle
              }
              ... on CrossReferencedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                source {
                  __typename
                  ... on PullRequest {
                    id
                    number
                    pull_request: url
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                  ... on Issue {
                    id
                    number
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                }
              }
              ... on LockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on UnlockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
            }
          }

          comments(first: 100) {
            edges {
              ...comments
            }
          }
        }
        ... on PullRequest {
          timeline(first: 100) {
            totalCount
            nodes {
              event: __typename
              ... on MergedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on HeadRefDeletedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on HeadRefRestoredEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }

              ... on AssignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee: user {
                  ...user
                }
              }
              ... on UnassignedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                assignee: user {
                  ...user
                }
              }
              ... on LabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on UnlabeledEvent {
                id
                actor {
                  ...actor
                }
                created_at: createdAt
                label {
                  color
                  name
                }
              }
              ... on MilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on DemilestonedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                title: milestoneTitle
              }
              ... on ClosedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on ReopenedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on RenamedTitleEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                from: previousTitle
                to: currentTitle
              }
              ... on CrossReferencedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
                source {
                  __typename
                  ... on PullRequest {
                    id
                    number
                    pull_request: url
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                  ... on Issue {
                    id
                    number
                    repository {
                      name
                      owner {
                        id
                        login
                      }
                    }
                    state
                    title
                    url
                  }
                }
              }
              ... on LockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
              ... on UnlockedEvent {
                id
                actor {
                  ...actor
                }
                createdAt
              }
            }
          }
          comments(first: 100) {
            edges {
              ...comments
            }
          }
        }
      }
    }
  }

  fragment comments on IssueCommentEdge {
    node {
      id: databaseId
      body
      created_at: createdAt
      user: author {
        avatar_url: avatarUrl
        login
      }
    }
  }

  fragment actor on Actor {
    avatar_url: avatarUrl
    login
    id: login
  }

  fragment user on User {
    avatar_url: avatarUrl
    login
    id: login
  }
`,JR=e=>{const{edges:t}=e;return t.map((e=>{let{node:t}=e;return t}))},XR=e=>{return(t=e,t.nodes.filter((e=>!e)).length&&oe("fetchIssueData null events"),t.nodes.filter((e=>e)).map((e=>({...e,event:e.event.toLowerCase().replace("event","")})))).map((e=>{switch(e.event){case"renamedtitle":return(e=>({...e,event:"renamed",rename:{from:e.from,to:e.to}}))(e);case"milestoned":case"demilestoned":return(e=>({...e,milestone:{title:e.title}}))(e);case"crossreferenced":return(e=>({...e,event:"cross-referenced",source:{issue:{number:e.source.number,pull_request:e.source.pull_request,repository:e.source.repository,state:e.source.state,title:e.source.title,url:e.source.url}}}))(e);case"headrefdeleted":return(e=>({...e,event:"head_ref_deleted"}))(e);case"headrefrestored":return(e=>({...e,event:"head_ref_restored"}))(e);default:return e}}));var t},QR=function(){var e,t=(e=function*(e,t){const{organization:n,repository:s,issueNumber:r}=t,i={orgName:n,repoName:s,issueNumber:r};let o;if(x)try{o=yield e.query({query:YR,variables:i})}catch(t){o=yield e.query({query:ZR,variables:i})}else o=yield e.query({query:ZR,variables:i});return(e=>{const{repository:{issueOrPullRequest:t}}=e;return{comments:JR(t.comments),timeline:XR(t.timeline)}})(o.data)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){$R(i,s,r,o,a,"next",e)}function a(e){$R(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),eT=QR;function tT(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const nT=bb.Ps`
  query ($ids: [ID!]!, $after: String, $search: String) {
    nodes(ids: $ids) {
      ... on Repository {
        projects(first: 100, after: $after, states: OPEN, search: $search) {
          pageInfo {
            startCursor
            endCursor
            hasNextPage
          }
          nodes {
            id
            name
            columns(first: 50) {
              totalCount
              nodes {
                name
              }
            }
          }
        }
      }
    }
  }
`,sT=function(){var e,t=(e=function*(e,t){const{ids:n,after:s,search:r}=t,i={ids:n,after:s,search:r};let o;try{o=yield e.query({query:nT,variables:i})}catch(e){return oe(`Failed to fetch Projects from repo: ${i?.ids}, with error: ${e.errors?.[0].message}`),[]}return o?.data?.nodes?.[0]?.projects},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){tT(i,s,r,o,a,"next",e)}function a(e){tT(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),rT=sT;function iT(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}let oT=null;function aT(){const e=new kb.h,t=(0,Rb.v)(function(){var e,t=(e=function*(e,t){let{headers:n}=t;return{headers:{Accept:"application/json",Authorization:`bearer ${yield ct.requireTokenByKey(ct.GITHUB_TOKEN_KEY)}`,"Content-Type":"application/json",...n}}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){iT(i,s,r,o,a,"next",e)}function a(e){iT(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()),n=(0,Tb.q)((e=>{let{graphQLErrors:t,networkError:n,operation:s}=e;t&&t.forEach((e=>{let{message:t,locations:n,path:r}=e;const i=JSON.stringify(t,null,2),o=JSON.stringify(n,null,2),a=JSON.stringify(r,null,2),l=(0,Cb.S)(s.query);oe(`[GraphQL error]: Message: ${i}, Location: ${o}, Path: ${a}`,`\nQuery: ${l}`)})),n&&oe(`[Network error]: ${n}`),401===n?.statusCode&&tt.handle401()})),s=new BR.u({uri:L.Z.githubGraphQLApiUrl,credentials:"same-origin"}),r="no-cache";return new Sb.f({link:yb.i.from([t,n,s]),cache:e,connectToDevTools:M,defaultOptions:{watchQuery:{fetchPolicy:r},query:{fetchPolicy:r},mutate:{fetchPolicy:r}}})}const lT=()=>(oT||(oT=aT()),oT);function cT(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{getIssue:dT,getReleaseEvents:uT}=os.Issue;function pT(e){return os.Issue.getEvents(e)}function mT(e){return L2.Issue.createIssueComment(e)}function hT(e){return L2.Issue.close(e)}function ET(e){return L2.Issue.open(e)}function gT(e){return os.Repo.reopenIssueByRepo(e)}function fT(e){return L2.Issue.getIssueInfo(e)}function _T(e){return L2.Issue.getDiscussion(e)}function vT(e){return L2.Issue.getTimeline(e)}function IT(e){return os.Issue.transferMultipleIssues(e)}function bT(e){return os.Issue.getPipelinesForIssueById(e)}const yT=e=>(e=>{let{organization:t,repository:n,issueNumber:s}=e;return VR(lT(),{issueNumber:s,organization:t,repository:n})})(e),ST=e=>Py(e),wT=function(){var e,t=(e=function*(e){try{return(e=>{let{organization:t,repository:n,issueNumber:s}=e;return eT(lT(),{issueNumber:s,organization:t,repository:n})})(e)}catch(e){return le("Unable to load GitHub timeline events",e),{comments:[],timeline:[]}}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){cT(i,s,r,o,a,"next",e)}function a(e){cT(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),RT=e=>os.Issue.setIssuePriority(e);function TT(e,t,n){if(!j.ZP.isObject(e))throw new Error("options should be object");if(!j.ZP.isArray(t))throw new Error("notChangedPropsArray should be array");const s=n||{},r=j.ZP.reduce(t,((e,t)=>{const n=e;return n[t]=t,n}),{}),i=j.ZP.extend({},s,r);return j.ZP.reduce(i,(function(e,t,n){const s=e,r=this[t];return pe(r,`${t} undefined`),s[n]=r,s}),{},e)}function CT(e){return ee.ETc(["priority","name"],e)}function kT(e,t){return e.map((e=>t!==function(e){return ee.ETc(["priority","_id"],e)}(e)?function(e,t){return{issue_number:e.issue_number,repo_id:e.repo_id,priority_id:t||null,organization:e.organization}}(e,t):null)).filter(ee.yRu)}const OT=(e,t,n)=>{if(!e){const e=((e,t)=>{const n=new Error(t);return n.status=e,n})(n||500,t);throw e}},NT={pickOrThrow(e,t,n,s){const r=s||400;OT(j.ZP.isArray(t),`requiredKeys: ${t} should be Array`,r),OT(e,`query: ${e} should be an Object`,r);const i=j.ZP.reduce(t,((t,n)=>{const s=t,i=e[n];return OT(!j.ZP.isUndefined(i),`${n} is not defined`,r),s[n]=i,s}),{}),o=j.ZP.reduce(n,((t,n)=>{const s=t,r=e[n];return j.ZP.isUndefined(r)||(s[n]=r),s}),{});return j.ZP.extend(i,o)},assertTrue:OT},PT=NT,AT={permissions:"Unable to edit labels for some issues. Check your permissions",limit:"Unable to assign all labels. Please wait a while before retrying",generic:"An error occurred editing requested labels."};function DT(e){se("Labels.rejectForError",e);const t=e,{status:n}=t;return t.zhMessage=404===n?AT.permissions:401===n?AT.outOfQuota:AT.generic,oe(t.zhMessage,t),ve().reject(t)}const LT=ee.UID(ee.t$q),zT=ee.zGw(ee.vgT("name"),ee.t$q);function MT(e){return ee.TSy(e.query,{fulfilled:e.fulfilled,ghResponse:e.ghResponse,missing:e.missing})}const xT=ee.WAo(((e,t)=>{const n=t;return n.response=MT({query:e,fulfilled:!1,ghResponse:null}),ve().reject(n)})),FT=ee.WAo(((e,t)=>{const n=ee.UID(zT,t),s=LT(e.labels);return MT({query:e,fulfilled:!0,ghResponse:t,missing:Vt.Z.findMissingValues(s,n,!1)})})),UT=ee.WAo(((e,t)=>MT({query:e,fulfilled:!0,ghResponse:t,missing:[]})));function BT(e){return PT.pickOrThrow(e,["repo_id","issue_number","labels"])}function qT(e){const t=BT(e);return function(e){const t=BT(e);return ve().resolve(L2.Repo.addLabels(t)).catch(DT)}(e).then(FT(t)).catch(xT(t))}function HT(e){return PT.pickOrThrow(e,["repo_id","issue_number","label"])}function WT(e){const t=HT(e);return function(e){const t=HT(e);return ve().resolve(L2.Repo.removeLabel(t)).catch(DT)}(e).then(UT(t)).catch(xT(t))}function jT(e){const t=PT.pickOrThrow(e,["repo_id","label"]);return ve().resolve(L2.Repo.createLabel(t)).catch(DT)}const GT=(e,t)=>{const n=(e=>{const t=t=>Object.hasOwnProperty.call(e,t);return t("setEstimate")?W.$.ESTIMATE:t("setPipeline")?W.$.PIPELINE:t("epics")?W.$.EPIC:t("releases")?W.$.RELEASE:t("nextPriority")?W.$.PRIORITY:null})(e);if(!n)return;const s=(e=>{let{selectedIssues:t,failedIssues:n}=e;return Math.max(t.length-n.length,0)})(t),r={...Cl.Z,type:W.Z.MULTI_ACTION_UPDATE,modifiers:["transition-in"],updateType:n,issueCount:s};let i={};n===W.$.PRIORITY&&(i={priorityName:e.nextPriority?.name||e.currentPriority.name,removedPriority:e.currentPriority}),H.Z.createToast(W.Z.MULTI_ACTION_UPDATE,{...r,updateData:i})},KT=(e,t)=>{H.Z.removeByType(W.Z.MULTI_ACTION_UPDATE),GT(e,t);const{failedIssues:n}=t;n.length>0&&(e=>{H.Z.createToast(W.Z.MULTI_ACTION_ERROR,{...Cl.Z,alignClosed:!1,issues:e})})(n)};const VT=ee.WAo(((e,t,n,s,r,i)=>ee.UID((i=>{const o=i.filterKey;if(!0===s[o])return ee.yGi("selected",!0,i);if(!0===r[o])return ee.yGi("selected",!1,i);const a=function(e,t,n){return ee.u4g(((n,s)=>{if(ee.kKJ(s[e]))return n;const r=j.ZP.isArray(s[e])?s[e]:[s[e]];return ee.Ed_((e=>{const r=t(e);ee.kKJ(n[r])&&(n[r]=[]),n[r].push(s)}),r),n}),{},n)}(e,t,n),l=a[o]||[],c=ee.kE(l),d=ee.kE(n);return d>0&&c===d?ee.yGi("selected",!0,i):0===c?ee.yGi("selected",!1,i):ee.zGw(ee.yGi("selected",!1),ee.yGi("selectedPartially",!0))(i)}),i))),$T=ee.UID(ee.zGw(ee.anz("selected"),ee.anz("selectedPartially")));function ZT(e,t,n,s){const r=function(e){return Vt.Z.groupBy((e=>e.selected?"selected":e.selectedPartially?"selectedPartially":"unselected"))(e)}(e({},{},n)),i=ee.MRu(s||t);return{sortedSelected:i(r.selected||[]),sortedPartiallySelected:i(r.selectedPartially||[]),unselected:i(r.unselected||[])}}function YT(e){const t=ee.xHg([e.sortedSelected,e.sortedPartiallySelected,e.unselected]);return $T(t)}const JT=ee.WAo(((e,t,n,s)=>YT(ZT(e,t,n,s)))),XT=e=>e.selectedPartially&&e.selected?ee.anz("selectedPartially",e):e,QT=ee.WAo(((e,t,n,s)=>{const r=ZT(e,t,n),i=mu(s),o=ee.uKc(i,r.unselected),a=ee.ETc([0,0],o),l=ee.ETc([1],o);return r.unselected=ee.xHg([a||[],l]),YT(r)})),eC=ee.WAo(((e,t)=>ee.UID((t=>{const n=e(t);return ee.yGi("filterKey",n,t)}))(t))),tC=ee.mNm,nC=ee.WAo(((e,t,n)=>{if(ee.kKJ(t))return n;const s=ee.cxD((n=>t===e(n)),n);return s<0?n:ee.zBu(ee.yGi("selected",!0),s,n)})),sC=ee.zGw(ee.hXT(ee.yRu),ee.XPQ);function rC(e,t){const n=ee.u4g(((e,n)=>{const s=ee.kKJ(n.filterKey)?t(n):n.filterKey;return ee.yGi(s,n,e)}),{},e);return n}function iC(e,t){return ee.u4g(((n,s)=>ee.u4g(((e,n)=>{const r=t(n);return ee.uhR([r,s],n,e)}),n,e[s])),{},ee.XPQ(e))}const oC=ee.WAo(((e,t,n)=>ee.u4g(((t,s)=>ee.u4g(((e,t)=>{const r=ee.ETc([s,an(t)],n);return ee.kKJ(r)?ee.uhR([an(t),s],!0,e):e}),t,e)),{},t))),aC=ee.WAo(((e,t,n)=>ee.u4g(((t,s)=>ee.u4g(((e,t)=>{const r=ee.ETc([s,an(t)],n);return ee.kKJ(r)?e:ee.uhR([an(t),s],!0,e)}),t,e)),{},t))),lC=ee.qCK(ee.jj$,ee.jge("repo_id")),cC=ee.u4g(((e,t)=>t.isRejected()?ee.R3I(t.error().response,e):ee.R3I(t.value(),e)),[]);const dC=ee.YjB((function(e){const t=ee.vgT("fulfilled")(e),n=!Vt.Z.isNilOrEmpty(e.missing);return!t||n}));function uC(e,t){const n=In(t),s=Vt.Z.groupBy(an,e);return ee.u4g(((e,t)=>dC(s[t])?ee.R3I(n[t],e):e),[],ee.XPQ(s))}function pC(e){return nS({repoIds:e})}const mC=ee.WAo(((e,t,n,s,r,i)=>Vt.Z.setTimeoutP(e).then((()=>{s(t(i)),Vt.Z.isNilOrEmpty(i.failedIssues)||s(n(i)),Vt.Z.isNilOrEmpty(r.pendingIssueConnections)&&KT(r,i)})))),hC=ee.WAo(((e,t,n,s,r)=>pC(lC(s.selectedIssues)).then((()=>{mC(2e3,e,t,n,s,r)})))),EC=mC(500);function gC(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function fC(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){gC(i,s,r,o,a,"next",e)}function a(e){gC(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{getIssuePath:_C,getIssueInfo:vC}=i;function IC(e,t,n,s){if(ee.YjB(ee.kKJ,ee.VO0(e))||ee.kKJ(t))return null;const r=ee.xHg(ee.VO0(e)),i=VT("labels",sd,t);return ee.zGw(tC(sd),eC(sd),JT(i,sd,ee.__,null),i(n,s))(r)}function bC(e){return ee.u4g(((e,t)=>ee.u4g(((e,n)=>{const s=ee.t$q(n.name),r=_C(t);return ee.uhR([s,r],t,e)}),e,t.labels)),{},e)}function yC(e){return ee.tSV((t=>{const n=Vt.Z.parseInt10(t),s=e[n];return ee.UID((e=>({operation:"createLabel",repo_id:n,label:s[e]})),ee.XPQ(s))}),ee.XPQ(e))}function SC(e){return ee.UID((t=>{const n=vC(t),s=ee.XPQ(e[t]);return{operation:"addLabels",repo_id:n.repo_id,issue_number:n.issue_number,labels:s}}),ee.XPQ(e))}function wC(e){return ee.tSV((t=>{const n=vC(t),s=ee.XPQ(e[t]);return ee.UID((e=>({operation:"removeLabel",repo_id:n.repo_id,issue_number:n.issue_number,label:e})),s)}),ee.XPQ(e))}function RC(e,t){const n=sC(t),s=bC(e);return oC(e,n,s)}function TC(e,t){const n=sC(t),s=bC(e);return aC(e,n,s)}function CC(e,t,n){const s=iC(n,sd),r=rC(t,sd);return ee.u4g(((t,n)=>ee.u4g(((e,t)=>{const i=vC(n);if(ee.ETc([t,i.repo_id],s))return e;const o=r[t],a={name:o.name,color:o.color};return ee.uhR([i.repo_id,t],a,e)}),t,ee.XPQ(e[n]))),{},ee.XPQ(e))}function kC(e,t){const n=[...e,...t];return ee.vMG(_C,n)}const OC=(e,t,n)=>{if(t)return t.ghResponse.map((e=>{let{color:t,name:n}=e;return{color:t,name:n}}));const s=ee.HK3((e=>ee.t$q(e.label)),n);return e.labels.filter((e=>!s[ee.t$q(e.name)]))};function NC(e,t){return PC.apply(this,arguments)}function PC(){return PC=fC((function*(e,t){const n=e.filter((e=>"removeLabel"===e.operation)),s=e.find((e=>"addLabels"===e.operation));try{const e=yield ve().all(n.map(WT)),r=s?yield qT(s):null,i=Boolean(e.find((e=>!e.fulfilled))),o=!!r&&!r.fulfilled,a=!!r&&!ee.xbD(r.missing);return{issue:t,addResult:r,removeResults:e,error:i||o||a}}catch(e){return{issue:t,error:!0}}})),PC.apply(this,arguments)}function AC(e){return DC.apply(this,arguments)}function DC(){return DC=fC((function*(e){const t=ee.HK3(_C,e.selectedIssues),n=RC(e.selectedIssues,e.addLabels),s=TC(e.selectedIssues,e.removeLabels),r=yC(CC(n,e.labels,e.labelsByRepo)),i=kC(SC(n),wC(s));yield ve().map(r,jT);const o=yield ve().map(Object.keys(i),function(){var n=fC((function*(n){const s=t[n],r=i[n],o=yield NC(r,s);return!o.error&&e.onIssueProcessed&&e.onIssueProcessed({repoId:s.repo_id,issueNumber:s.issue_number,labels:OC(s,o.addResult,o.removeResults),issueToProcessCount:Object.keys(i).length}),o}));return function(e){return n.apply(this,arguments)}}(),{concurrency:6});return{selectedIssues:e.selectedIssues,failedIssues:o.filter((e=>Boolean(e.error))).map((e=>e.issue))}})),DC.apply(this,arguments)}function LC(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const zC=function(){var e,t=(e=function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ct.GITHUB_TOKEN_KEY,s=yield ct.requireTokenByKey(n),r=yield fetch(L.Z.githubGraphQLApiUrl,{body:JSON.stringify({query:e}),headers:{Authorization:`bearer ${s}`,"Content-Type":"application/json",...t},method:"POST"});401===r.status&&tt.handle401();const i=yield r.json();return i.data?i.data:null},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){LC(i,s,r,o,a,"next",e)}function a(e){LC(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();var MC=n(64327),xC=n.n(MC);const FC=e=>{const t=ee.MeV(50,e),n=ee.UID((e=>{const t=xC()({assignees:e});return zC(t)}),t);return Promise.all(n).then((e=>{const t=ee.xHg(ee.UID(ee.VO0,e));return ee.HK3(ee.vgT("login"),t)}))},UC="Unable to assign users to some issues. One or more assignees does not have permissions for the dedicated issue",BC="An unknown error occurred while assigning users to issues",qC="Your account has reached its limit of actions. Please wait before retrying";function HC(e){se("Assignee.rejectForError",e);const t=e,{status:n}=t;return t.zhMessage=404===n?UC:401===n?qC:BC,oe(t.zhMessage,t),ve().reject(t)}const WC=ee.UID(ee.t$q),jC=ee.vgT("assignees"),GC=ee.zGw(ee.vgT("login"),ee.t$q),KC=ee.zGw(jC,ee.UID(GC));function VC(e){return ee.TSy(e.query,{fulfilled:e.fulfilled,ghResponse:e.ghResponse,missing:e.missing})}const $C=ee.WAo(((e,t)=>{const n=t;return n.response=VC({query:e,fulfilled:!1,ghResponse:null}),ve().reject(n)})),ZC=ee.WAo(((e,t)=>{const n=KC(t),s=WC(e.assignees);return VC({query:e,fulfilled:!0,ghResponse:t,missing:Vt.Z.findMissingValues(s,n,!1)})})),YC=ee.WAo(((e,t)=>{const n=KC(t),s=WC(e.assignees);return VC({query:e,fulfilled:!0,ghResponse:t,missing:Vt.Z.findMissingValues(s,n,!0)})}));function JC(e){return PT.pickOrThrow(e,["repo_id","issue_number","assignees"])}function XC(e){const t=JC(e);return ve().resolve(L2.Repo.addAssignees(t)).catch(HC)}function QC(e){const t=JC(e);return XC(e).then(ZC(t)).catch($C(t))}function ek(e){return PT.pickOrThrow(e,["repo_id","issue_number","assignees"])}function tk(e){const t=ek(e);return function(e){const t=ek(e);return ve().resolve(L2.Repo.removeAssignees(t)).catch(HC)}(e).then(YC(t)).catch($C(t))}function nk(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function sk(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){nk(i,s,r,o,a,"next",e)}function a(e){nk(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{getIssueInfo:rk,getIssuePath:ik}=i;function ok(e,t){return ee.UID((n=>{const s=rk(n),r=ee.XPQ(e[n]);return{operation:t,repo_id:s.repo_id,issue_number:s.issue_number,assignees:r}}),ee.XPQ(e))}const ak=(0,pa.P1)(ee.yRu,(e=>ee.u4g(((e,t)=>ee.u4g(((e,n)=>{const s=ee.t$q(n.login),r=ik(t);return ee.uhR([s,r],t,e)}),e,t.assignees)),{},e))),lk=ee.UID((e=>{const{login:t,name:n}=e,s=[n,t].join(" ").trim();return ee.TSy(e,{filterableString:s})}));function ck(e,t,n,s,r){if(ee.YjB(ee.kKJ,ee.VO0(e))||ee.kKJ(t))return null;const i=VT("assignees",Rl,t);return ee.zGw(ee.VO0,ee.xHg,tC(Rl),eC(Rl),QT(i,Rl,ee.__,r),i(n,s),lk)(e)}function dk(e,t){const n=sC(t),s=ak(e);return oC(e,n,s)}function uk(e,t){const n=sC(t),s=ak(e);return aC(e,n,s)}function pk(e,t){const n=[...e,...t];return ee.vMG(ik,n)}const mk=(e,t,n)=>(t||n).ghResponse.assignees.map((e=>{let{avatar_url:t,html_url:n,login:s}=e;return{avatar_url:t,html_url:n,login:s}}));function hk(e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=sk((function*(e,t){const n=e.find((e=>"removeAssignees"===e.operation)),s=e.find((e=>"addAssignees"===e.operation));try{const e=n?yield tk(n):null,r=s?yield QC(s):null,i=!!r&&!r.fulfilled,o=!!e&&!e.fulfilled,a=!!r&&!ee.xbD(r.missing),l=!!e&&!ee.xbD(e.missing);return{issue:t,addResult:r,removeResult:e,error:a||l||i||o}}catch(e){return{issue:t,error:!0}}})),Ek.apply(this,arguments)}function gk(e){return fk.apply(this,arguments)}function fk(){return fk=sk((function*(e){const t=ee.HK3(ik,e.selectedIssues),n=dk(e.selectedIssues,e.addAssignees),s=uk(e.selectedIssues,e.removeAssignees),r=pk(ok(n,"addAssignees"),ok(s,"removeAssignees")),i=Object.keys(r),o=yield ve().map(i,function(){var n=sk((function*(n){const s=t[n],o=r[n],a=yield hk(o,s);return!a.error&&e.onIssueProcessed&&e.onIssueProcessed({repoId:s.repo_id,issueNumber:s.issue_number,assignees:mk(0,a.addResult,a.removeResult),issueToProcessCount:i.length}),a}));return function(e){return n.apply(this,arguments)}}(),{concurrency:6});return{selectedIssues:e.selectedIssues,failedIssues:o.filter((e=>Boolean(e.error))).map((e=>e.issue))}})),fk.apply(this,arguments)}const _k="An error occurred adding issues to milestones",vk="A limit error has occurred, please wait before retrying",Ik="Unable to complete request. Please check your permissions";function bk(e){se("Milestone.rejectForError",e);const t=e,{status:n}=t;return t.zhMessage=404===n?Ik:401===n?vk:_k,oe(t.zhMessage,t),ve().reject(t)}function yk(e){return ee.TSy(e.query,{fulfilled:e.fulfilled,ghResponse:e.ghResponse,missing:e.missing})}const Sk=ee.WAo(((e,t)=>{const n=t;return n.response=yk({query:e,fulfilled:!1,ghResponse:null}),ve().reject(n)}));function wk(e){if(ee.kKJ(e))return null;if("Z"!==e.slice(-1))throw new Error("PatchDueOn expects Z as final char");return`${e.slice(0,-1)}+00:00`}function Rk(e){const t=ve().resolve(L2.Repo.createMilestone(e));if(ee.kKJ(e.start_date))return t;return t.then((function(t){return(n={repo_id:e.repo_id,start_date:e.start_date,milestone_number:t.number},os.Repo.setMilestoneStartDateForRepoId(n)).then((()=>t));var n}))}const Tk=ee.WAo(((e,t)=>{let n=null;const s=ee.ETc(["milestone","number"],t);return s!==e.milestone_number&&(n=s),yk({query:e,fulfilled:!0,ghResponse:t,missing:n})}));function Ck(e){return PT.pickOrThrow(e,["repo_id","issue_number","milestone_number"])}function kk(e){const t=Ck(e);return function(e){return ve().resolve(L2.Repo.assignIssueToMilestone(e))}({issue_number:t.issue_number,repo_id:t.repo_id,milestone:t.milestone_number}).catch(bk)}function Ok(e){const t=Ck(e);return kk(e).then(Tk(t)).catch(Sk(t))}function Nk(e){const t=ee.eiS(["repo_id","title","state","description","due_on","start_date"],e),n=wk(t.due_on);return Rk({repo_id:t.repo_id,title:t.title,state:t.state,description:t.description,due_on:n,start_date:t.start_date}).catch(bk)}function Pk(e){const t=wk(e.due_on),n=ee.yGi("due_on",t,e);return L2.Repo.updateMilestone(n)}function Ak(e){return L2.Repo.deleteMilestone(e)}function Dk(e){const t=PT.pickOrThrow(e,["repo_id","milestone_number","title","description","due_on"]);return Pk(ee.yGi("state","closed",t))}function Lk(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function zk(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Lk(i,s,r,o,a,"next",e)}function a(e){Lk(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{getMilestoneKey:Mk,getMilestoneWithRepoKey:xk}=o,Fk=ee.WAo(Kl);function Uk(e,t,n){if(ee.YjB(ee.kKJ,ee.VO0(e)))return null;const s=((e,t)=>ee.u4g(((n,s)=>{const r=e[s],i=ee.UID((e=>ee.yGi("repoInfo",{organization:r.organization,repository:r.repo||r.repository},e)),t[s]);return ee.zoF(i,n)}),[],ee.XPQ(t)))(n,e),r=ee.zGw(ee.hXT(ee.goX({state:"open"})),tC(xk),Jl)(s);return ee.zGw(nC(Mk,t),eC(Mk),Fk(ee.__,{byStateThenProximityClosedByCreated:!0}))(r)}function Bk(e,t){return ee.kKJ(t)?{}:ee.u4g(((e,n)=>{const{milestone:s}=n;return(ee.kKJ(s)?null:Mk(s))===t?e:ee.yGi(an(n),t,e)}),{},e)}const qk=ee.eiS(["title","state","description","due_on","start_date"]);function Hk(e,t,n){const s=iC(n,Mk),r=rC(t,Mk);return ee.u4g(((t,n)=>{const i=ln(n),o=e[n];if(ee.ETc([o,i.repo_id],s))return t;const a=ee.ETc([o],r),l=qk(a);return ee.uhR([i.repo_id,o],l,t)}),{},ee.XPQ(e))}const Wk=ee.WAo(((e,t)=>ee.zGw(ee.vgT("title"),ee.t$q,ee.fS0(e))(t))),jk=ee.WAo(((e,t)=>ee.sEJ(Wk(e),t))),Gk=ee.WAo(((e,t)=>{const n=iC(t,Mk),s=ee.VO0(n[e]);return ee.YMb(s)}));function Kk(e,t,n){const s=ee.zGw(ee.jge("repo_id"),ee.jj$)(t),r=Gk(e,n),i=ee.t$q(r.title);return ee.YjB((t=>{const s=n[t]||[],r=jk(i,s);return!ee.kKJ(r)&&Mk(r)!==e}),s)}function Vk(e){if(Kk(e.setMilestone,e.selectedIssues,e.milestonesByRepo)){window.alert("Another milestone with the same name exists. To add issue(s) to this milestone, please match the milestone\u2019s due-dates across the repos of the selected issues");const e=new Error("Milestone with title already exists.");return e.doNotDispatch=!0,ve().reject(e)}const t=Bk(e.selectedIssues,e.setMilestone),n=function(e){return ee.tSV((t=>{const n=Vt.Z.parseInt10(t),s=e[n];return ee.UID((e=>ee.TSy({repo_id:n},s[e])),ee.XPQ(s))}),ee.XPQ(e))}(Hk(t,e.milestones,e.milestonesByRepo)),s=iC(e.milestonesByRepo,Mk);return ve().map(n,Nk).catch((e=>{const t=e;return 422===t.status&&(t.doNotDispatch=!0,window.alert("Something went wrong. Please make sure that no connected repository already a closed milestone with the same title.")),ve().reject(t)})).then(function(){var r=zk((function*(r){const i=ee.jge("repo_id",n),o=ee._Qy(i,r),a=ee.TSy(s[e.setMilestone],o),l=function(e,t){return ee.UID((e=>{const n=ln(e),{repo_id:s}=n,r=ee.ETc([s,"number"],t);return{repo_id:s,issue_number:n.issue_number,milestone_number:r}}),ee.XPQ(e))}(t,a),c=[];for(let t=0;t<l.length;t+=1){let n;try{n=yield Ok(l[t]),e.onIssueProcessed&&e.onIssueProcessed({repoId:n.repo_id,issueNumber:n.issue_number,milestone:ee.eiS(["due_on","id","number","state","title","updated_at"],n.ghResponse.milestone),issueToProcessCount:l.length})}catch(e){n=e.response}c.push(n)}return ve().all(c)}));return function(e){return r.apply(this,arguments)}}()).then((t=>({selectedIssues:e.selectedIssues,failedIssues:uC(t,e.selectedIssues)})))}function $k(e){return{repo_id:e.repo_id,issue_number:e.issue_number,milestone_number:null}}function Zk(e){const t=e.selectedIssues.map($k),n=t.map(function(){var n=zk((function*(n){const s=yield Ok(n);return e.onIssueProcessed&&e.onIssueProcessed({repoId:n.repo_id,issueNumber:n.issue_number,milestone:null,issueToProcessCount:t.length}),s}));return function(e){return n.apply(this,arguments)}}());return ve().settle(n).then((t=>{const n=cC(t);return{selectedIssues:e.selectedIssues,failedIssues:uC(n,e.selectedIssues)}}))}const Yk="closed-pipeline",Jk="other-workspace-pipeline",Xk="unknown-pipeline",Qk=ee.fS0(Yk),eO={_id:Yk,name:"Closed"},tO={_id:Jk,name:"Issues not in this Workspace"},nO={_id:Xk,name:"Unknown pipeline"},sO=(ee.OH4("_id",Yk),ee.OH4("_id",Jk));ee.OH4("_id",Xk);function rO(e){return ee.cxD($t(e))}ee.qCK(ee.d1t((e=>e.count<1||"All"===e.count)),ee.UID(ee.hL$(0)),ee.d1t(ee.xbD),ee.VO0);function iO(e,t,n){let s=ee.cxD(ee.OH4("_id",n),e);if((ee.kKJ(n)||s<0)&&(s=function(e,t){return ee.cxD((e=>-1!==rO(t)(e.issues)),e)}(e,t)),s<0)return e;const r=e[s],i=rO(t)(r.issues),o=ee.OdJ(i,1,r.issues),a=ee.yGi("issues",o,r);return ee.Vxg(s,a,e)}const oO=ee.zoF("zhPipelines_");function aO(e,t){const n=ee.OH4("_id",t.pipelineId),s=ee.cxD(n,e),r=ee.yGi("columns",t.width,e[s]);return ee.Vxg(s,r,e)}function lO(e,t){const n=ee.OH4("_id",t.pipeline_id),s=ee.sEJ(n,e),r=ee.d1t(n,e);return ee.$Tr(t.position,s,r)}const cO=ee.WAo(((e,t,n)=>{const s=function(e,t){return ee.u4g(((t,n)=>{const s=n[e];return ee.kKJ(s)||(t[n._id]=s),t}),{},t)}(e,t);return ee.UID((t=>{const n=s[t._id];return ee.kKJ(n)?t:ee.yGi(e,n,t)}),n)}));function dO(e){return ee.UID((e=>{const t=oO(e._id),n=localStorage.getItem(t)||1;return ee.yGi("columns",Vt.Z.parseInt10(n),e)}),e)}const uO=e=>e.map((e=>{const t=e.issues.map((e=>({...e})));return{...e,issues:t}}));function pO(e,t){return ee.zGw(cO("sort_by",e),uO,dO)(t)}const mO=(e,t,n,s)=>{const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(an);return Object.keys(e).reduce(((e,n)=>t.includes(n)?e+1:e),0)}(e,t);return n?"top"===s?0:r:"top"===s?r:t.count};function hO(e,t){const n=ee.eiS(["repo_id","issue_number"],t),{issuePriorities:s,priority:r,position:i}=t,o=iO(e,n,t.from_pipeline_id),a=ee.OH4("_id",t.pipeline_id),l=ee.cxD(a,o),c=o[l],d=c.issues,u=Number.isInteger(i)?i:mO(s,d,r,i),p=ee.$Tr(u,n,d),m=ee.yGi("issues",p,c);return ee.Vxg(l,m,o)}function EO(e,t){const n=ee.OH4("_id",t.removePipelineId),s=ee.cxD(n,e),r=e[s].issues,i=ee.OH4("_id",t.destPipelineId),o=ee.cxD(i,e),a=e[o],l=a.issues,c=ee.zoF(l,r),d=ee.yGi("issues",c,a),u=ee.Vxg(o,d,e);return ee.OdJ(s,1,u)}function gO(e,t){const n=ee.OH4("_id",t.pipeline_id),s=ee.cxD(n,e),r=ee.yGi("sort_by",t.sort_by,e[s]);return ee.Vxg(s,r,e)}function fO(e,t){const n=ee.OH4("_id",t.pipeline_id),s=ee.cxD(n,e),r=ee.anz("sort_by",e[s]);return ee.Vxg(s,r,e)}ee.UID(ee.anz("isIn"));const _O=(e,t)=>![...t,"Closed"].includes(e.trim()),vO=(e,t)=>{let{newIssue:n,insertionIndex:s}=t;const{pipelineId:r}=n;let i=e.find((e=>r===e._id));const o={issue_number:n.issue_number,repo_id:n.repo_id},{issues:a}=i;i=s?{...i,issues:[...a.slice(0,s),o,...a.slice(s)]}:{...i,issues:[o,...a]};const l=e.map((e=>e._id!==r?e:i));return l};function IO(e){return PT.pickOrThrow(e,["repo_id","issue_number","epic_repo_id","epic_issue_number","workspaceId"])}function bO(e){return ee.TSy(e.query,{fulfilled:e.fulfilled,ghResponse:e.ghResponse,missing:e.missing})}const yO=ee.WAo(((e,t)=>{const n=t;return n.response=bO({query:e,fulfilled:!1,ghResponse:null}),ve().reject(n)})),SO=ee.WAo(((e,t)=>{let n=null;return ee.sv4([ee.OH4("repo_id",e.repo_id),ee.OH4("issue_number",e.issue_number),ee.OH4("epic_repo_id",e.epic_repo_id),ee.OH4("epic_issue_number",e.epic_issue_number)])(t)||(n=e),bO({query:e,fulfilled:!0,ghResponse:t,missing:null})})),wO=ee.WAo(((e,t)=>bO({query:e,fulfilled:!0,ghResponse:t,missing:null})));function RO(e){return os.Epics.convertIssueToEpic(e)}function TO(e){return os.Epics.convertEpicToIssue(e)}function CO(e){return os.Epics.isEpic(e)}function kO(e){return os.Epics.getEpicsByIssue(e)}function OO(e){const t=IO(e);return ve().resolve(function(e){return os.Epics.addIssueToEpic(e)}(t)).then(SO(t)).catch(yO(t))}function NO(e){const t=IO(e);return ve().resolve(function(e){return os.Epics.removeIssueFromEpic(e)}(t)).then(wO(t)).catch(yO(t))}function PO(e){return{repo_id:e.repo_id,issue_number:e.issue_number}}function AO(e,t){return Boolean(e.repos.find(ee.OH4("repo_id",t)))}const DO=(e,t,n)=>AO(e,n.repo_id)?t?n:{...n,pipeline:nO}:{...n,pipeline:tO},LO=ee.WAo(((e,t,n,s,r)=>{const i=DO(n,s,r),o=ee.CEd(["issues"],i),a=r.issues,l=oR.traversep((r=>{const i=DO(n,s,r);if(i.is_epic){const s={...PO(i),workspace:n},r=an(o),a=function(e,t){return ee.yGi(t,!0,e)}(t,r);return zO(e,a,s)}return i}))(a);return l.then((e=>{const t=ee.d1t(ee.kKJ,e);return{...o,issues:t}}))})),zO=ee.WAo(((e,t,n)=>{let{repo_id:s,issue_number:r,workspace:i}=n;const o=an({repo_id:s,issue_number:r});if(function(e,t){return ee.e$l(t,e)}(t,o))return oR.purep();const a=e[o],l=AO(i,s),c=LO(e,t,i,l);if(a)return a.then(c);const d=(u={repo_id:s,issue_number:r,workspaceId:l?i._id:null},os.Epics.getEpic(u));var u;return e[o]=d,d.then(c)})),MO=e=>zO({},{},e);function xO(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{getIssueInfo:FO,getIssuePath:UO}=i,BO=UO;function qO(e,t,n,s,r){if(!r)return null;if(ee.YjB(ee.kKJ,ee.VO0(e)))throw new Error("MultiActionEpics.getEpicItemsMulti - epicsByRepo should not contains null values");const i=ee.xHg(ee.VO0(e)),o=VT("parent_epics",BO,t);return ee.zGw(tC(BO),eC(BO),JT(o,BO,ee.__,null),o(n,s))(i)}function HO(e){return ee.u4g(((e,t)=>{const n=t.parent_epics||[];return ee.u4g(((e,n)=>{const s=BO(n),r=UO(t);return ee.uhR([s,r],t,e)}),e,n)}),{},e)}function WO(e){return ee.u4g(((t,n)=>{const s=e[n];return ee.u4g(((e,t)=>n===t?e:ee.uhR([n,t],!0,e)),t,ee.XPQ(s))}),{},ee.XPQ(e))}const jO=(e,t)=>{const n=sC(t),s=HO(e);return ee.zGw(oC(e,n),WO)(s)},GO=(e,t)=>{const n=sC(t),s=HO(e);return aC(e,n,s)};function KO(e,t){return ee.tSV((n=>{const s=FO(n),r=ee.XPQ(t[n]);return ee.UID((t=>{const n=FO(t);return{repo_id:s.repo_id,issue_number:s.issue_number,epic_repo_id:n.repo_id,epic_issue_number:n.issue_number,workspaceId:e}}),r)}),ee.XPQ(t))}const VO=e=>{const t=jO(e.selectedIssues,e.addEpics),n=GO(e.selectedIssues,e.removeEpics),s=[...KO(e.workspaceId,t).map(OO),...KO(e.workspaceId,n).map(NO)];return ve().settle(s).then((t=>{const n=cC(t);return{selectedIssues:e.selectedIssues,failedIssues:uC(n,e.selectedIssues)}}))},$O=(e,t,n,s,r)=>{if(!r)return null;if(ee.YjB(ee.kKJ,ee.VO0(e)))throw new Error("MultiActionEpics.getEpicItems - epicsByRepo should not contains null values");const i=ee.xHg(ee.VO0(e)),o=ee.hXT(Zt,i),a=VT("parent_epics",BO,t),l=ee.qCK(ee.t$q,ee.vgT("title"));return ee.zGw(tC(BO),eC(BO),ee.MRu(l),JT(a,BO,ee.__,l),a(n,s),ee.UID(XT))(o)},ZO=(e,t)=>(e[t]||[]).map(ee.eiS(["issue_number","repo_id"])),YO=ee.WAo(((e,t,n,s,r,i)=>{const o=ZO(s,i),a=ZO(r,i);return(l={repo_id:t,issue_number:n,add_issues:o,remove_issues:a,workspaceId:e},os.Epics.update(l)).catch((()=>({failed:!0,issues:a[i]})));var l})),JO=e=>(0,_t.KN)(e)?[]:Object.keys(e),XO=function(){var e,t=(e=function*(e){const{addEpic:t,removeEpic:n,workspaceId:s}=e,r=JO(t),i=JO(n),o=ee.vMG((e=>e.repo_id),e.selectedIssues),a=Object.keys(o),l=[];return r.forEach((e=>{const[t,n]=e.split("_");l.concat(a.map(YO(s,t,n,o,{})))})),i.forEach((e=>{const[t,n]=e.split("_");l.concat(a.map(YO(s,t,n,{},o)))})),ve().settle(l).then((t=>{const n=cC(t).filter((e=>e.failed)).reduce(((e,t)=>[...e,...t.issues]),[]);return{selectedIssues:e.selectedIssues,failedIssues:n}}))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xO(i,s,r,o,a,"next",e)}function a(e){xO(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),QO=bb.Ps`
  query getIssueConnections($workspaceId: ID!, $issueIds: [ID!]!) {
    issueConnections(workspaceId: $workspaceId, issueIds: $issueIds) {
      nodes {
        id
        state
        title
        pullRequest
        pipelineIssue(workspaceId: $workspaceId) {
          id
          pipeline {
            id
            name
          }
        }
      }
    }
  }
`;function eN(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const tN=function(){var e,t=(e=function*(e,t){const n=(yield ly().query({query:QO,variables:{workspaceId:e,issueIds:t},fetchPolicy:"no-cache"})).data?.issueConnections.nodes||[],s=n.some((e=>!e.pullRequest)),r=s?n.filter((e=>"OPEN"===e.state||e.pullRequest)):[];return r},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){eN(i,s,r,o,a,"next",e)}function a(e){eN(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),nN=(e,t)=>{e.length>1&&H.Z.createToast(W.Z.CONNECTED_ISSUES_UPDATE,{pipeline:t,issues:e,expirationDelay:5e3,fullWidth:!0})},sN=ee.vgT("_id"),rN="closed-pipeline";function iN(e){return e.isRejected()}function oN(e){return e.error().query}function aN(e,t){if(ee.kKJ(e))return null;const n={_id:rN,name:"Closed"};return ee.zGw(ee.R3I(n),tC(sN),nC(sN,t),eC(sN))(e)}function lN(e){if(e.setPipeline===rN)return function(e){const t=ee.UID((e=>ee.yGi("repo",e.repo_name,e)),e),n=ee.UID((e=>hT(e).catch((t=>{const n=t;return n.query=e,ve().reject(n)}))),t);return ve().settle(n).then((e=>{const n=ee.zGw(ee.hXT(iN),ee.UID(oN))(e);return{selectedIssues:t,failedIssues:n}}))}(e.selectedIssues);const t=ee.UID(cn,e.selectedIssues);return ve().resolve(IT({repo_id:e.repoId,board_id:e.boardId,issues:t,position:e.pipelineDirection,priority_id:null,target_pipeline_id:e.setPipeline})).then((()=>{const{pendingAutomations:t,pendingIssueConnections:n}=e;gb(t,e.selectedIssues.length);const s=e.pipelines.find((t=>t._id===e.setPipeline))?.name;return nN(n,s),{selectedIssues:e.selectedIssues,failedIssues:[]}})).catch((()=>({selectedIssues:e.selectedIssues,failedIssues:e.selectedIssues})))}const cN=ee.vgT("value"),dN="Clear Estimates from Issues",uN={value:dN,filterKey:dN},pN=uN,mN=(e,t)=>ee.kKJ(e)?null:ee.zGw(ee.Ce7(uN),nC(cN,t),eC(cN))(e),hN=e=>{const{setEstimate:t,selectedIssues:n}=e,s=t===uN.value?null:t,r=n.map((e=>({...ee.eiS(["issue_number","repo_id"],e),estimate:s})));return function(e){return os.Repo.setMultipleIssueEstimates(e)}(r).then((e=>{const t=((e,t)=>{const n=ee.HK3(an,t);return e.map((e=>({...e,...n[an(e)]})))})(e.filter((e=>!0===e.error)),n);return{selectedIssues:n,failedIssues:t}}))};function EN(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const gN=ee.WAo(((e,t)=>{const n=e[t.number];return n?ee.TSy(t,n):t}));const fN=ee.zGw(ee.vgT("html_url"),Vt.Z.repoNameFromIssueUrl);function _N(e){return ee.UID((e=>{const t=fN(e);return ee.TSy({repo_name:t},e)}),e)}function vN(e){return t=>{const n=ee.qCK(ee.v_p(","),ee.jge("number"))(t);return function(e){return os.Repo.getLatestIssueTransferDate(e)}({repo_id:e.repo_id,workspaceId:e.workspaceId,issue_numbers:n}).then((e=>{const n=ee.HK3(ee.vgT("issue_number"),e);return ee.UID(gN(n),t)}))}}function IN(e){return(t=e,L2.Repo.getMilestoneIssues(t)).then(function(e){return t=>{const n=ee.jge("number",t);return Xy({repo_id:e.repo_id,issue_numbers:n,workspaceId:e.workspaceId,estimates:!0,pipelines:!0,priorities:!0}).then((e=>{const n=ee.HK3(ee.vgT("number"),e);return ee.UID(gN(n),t)}))}}(e)).then(vN(e)).then(_N);var t}const bN={__name__:"ReportsService",getCombinedVelocityData:os.Reports.getCombinedVelocityData,getSprintVelocityData:os.Reports.getSprintVelocityData,getAndAttachLastIssueTransferData:vN,getBurndownConnectedMilestoneIssues(e){const t=function(e){const t=ee.TSy({state:"all",milestone:e.milestone_number},ee.eiS(["repository","repo_id","workspaceId"],e));return ee.Ce7(t,ee.UID((t=>({...t,workspaceId:e.workspaceId,state:"all"})),e.connected_milestones))}(e);return ve().map(t,IN).then(ee.xHg)},getConnectedMilestones(e){const t=ee.eiS(["organization","repo"],e);return ve().join(function(e){return os.Repo.getConnectedMilestonesByRepoId(e)}({repo_id:e.repo_id,workspaceId:e.workspaceId}),function(e){return os.Repo.getMilestoneStartDates(e)}(t)).spread(((e,t)=>{const n=ee.HK3(ee.vgT("milestone_number"),t);return ee.UID(gN(n),e)}))},getConnectedPipelines:function(){var e,t=(e=function*(e){let{workspaceId:t}=e;return(yield wy({workspaceId:t})).data.workspace.pipelines.map((e=>({_id:e.id,name:e.name})))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){EN(i,s,r,o,a,"next",e)}function a(e){EN(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),setMilestoneStartDate:e=>function(e){return os.Repo.setMilestoneStartDate({...e,repo:e.repository})}(ee.eiS(["organization","repository","milestone_number","start_date"],e)),setMilestoneDueDate:e=>Pk(ee.eiS(["organization","repository","milestone_number","due_on","repo_id"],e)),loadReleaseIssues:e=>{const t=ee.eiS(["release_id","workspaceId"],e);return os.Reports.getReleaseIssues(t)},loadReleaseEvents(e){const t=ee.eiS(["release_id"],e);return os.Reports.getReleaseEvents(t)},loadIssueReleases(e){const t=ee.eiS(["repo_id","issue_number"],e);return os.Reports.getIssueReleases(t)},loadOrganizationRepos:e=>L2.Organization.getRepos(e),createReleaseReport(e){const t=ee.eiS(["repo_id","title","description","start_date","desired_end_date","repos"],e);return os.Reports.createReleaseReport(t)},updateReleaseReport(e){const t=ee.eiS(["release_id","title","description","start_date","desired_end_date","repos"],e);return os.Reports.updateReleaseReport(t)},closeReleaseReport(e){const t=ee.eiS(["release_id"],e);return os.Reports.closeReleaseReport(t)},addIssuesToReleaseReport(e){const t=ee.eiS(["release_id","issues"],e);return os.Reports.addIssuesToReleaseReport(t)},removeIssuesFromReleaseReport(e){const t=ee.eiS(["release_id","issues"],e);return os.Reports.removeIssuesFromReleaseReport(t)},reopenReleaseReport(e){const t=ee.eiS(["release_id"],e);return os.Reports.reopenReleaseReport(t)},getReleaseReportForWorkspace:os.Reports.getReleaseReportForWorkspace,getRelease:e=>{const t=ee.eiS(["release_id"],e);return os.Reports.getRelease(t)},getReleasePermissions(e){const t=ee.eiS(["release_id"],e);return os.Reports.getReleasePermissions(t)},addReposToReleaseReport:e=>{const t=ee.eiS(["releaseId","repo_ids"],e);return os.Reports.addReposToReleaseReport(t)},removeRepoFromReleaseReport:e=>{const t=ee.eiS(["releaseId","repoId"],e);return os.Reports.removeRepoFromReleaseReport(t)}},yN=bN,{getReleaseKey:SN}=a,wN=ee.eiS(["issue_number","repo_id"]);function RN(e,t,n,s){if(ee.YjB(ee.kKJ,ee.VO0(e)))return null;const r=ee.xHg(e||[]),i=VT("releases",SN,t);return ee.zGw(ee.hXT(wc),tC(SN),eC(SN),Gc,JT(i,SN,ee.__,null),i(n,s))(r)}function TN(e,t,n){return n({issues:ee.UID(wN,e),release_id:t}).then((()=>e)).catch((()=>ee.UID(ee.yGi("error",!0),e)))}const CN=ee.WAo(((e,t)=>TN(e,t,yN.addIssuesToReleaseReport))),kN=ee.WAo(((e,t)=>TN(e,t,yN.removeIssuesFromReleaseReport)));function ON(e){const t=ee.UID(CN(e.selectedIssues),ee.XPQ(e.addReleases)),n=ee.UID(kN(e.selectedIssues),ee.XPQ(e.removeReleases)),s=ee.zoF(t,n);return ve().all(s).then((()=>({selectedIssues:e.selectedIssues,failedIssues:[]})))}const{applyLabels:NN,getLabelItems:PN}=p,{applyAssignees:AN,getAssigneeItems:DN}=m,{applyMilestone:LN,getMilestoneItems:zN,removeMilestone:MN}=h,{applyEpicToMultipleIssues:xN,getEpicItemsMulti:FN,getEpicItemsSingle:UN,updateMultipleEpicsForIssue:BN}=E,{applyPipeline:qN,getPipelineItems:HN}=g,{applyEstimate:WN,getEstimateItems:jN}=f,{applyReleases:GN,getReleaseItems:KN}=_,{fetchGHUpdatesAndNotify:VN,waitZHUpdatesAndNotify:$N}=u,ZN=e=>{const{selectedIssues:t,workspaceId:n,nextPriority:s,currentPriority:r}=TT(e,["selectedIssues","workspaceId","nextPriority","currentPriority"]),i=s?s.name:r.name,o=s?s._id:null,a=kT(t,o);return(l={issues:a,workspaceId:n},os.Issue.setIssuePriorities(l)).then((()=>({selectedIssues:a,failedIssues:[],notificationPriority:i,removedPriority:!o})));var l},YN=function(e){const t=e[0];return!!en(t)&&ee.$6P((e=>CT(e)===CT(t)),e)},JN=function(e){return ee.YjB(Qt,e)};function XN(e){const{repo_id:t}=e;let{closedIssuesLoading:n}=e;if(n||(n={nextPage:1,isLastPage:!1}),n.isLastPage)return ve().resolve({repo_id:t,closedIssuesLoading:n,fetchedClosedIssues:[]});const s={repo_id:t,page:n.nextPage,per_page:100};return(r=s,L2.Repo.getClosedIssues(r)).then((e=>((e,t)=>Xy({repo_id:e,issue_numbers:ee.jge("issue_number",t),epics:!0,estimates:!0,connections:!0,dependencies:!0,sprints:!0,releases:!0}).then((e=>{const n=ee.HK3(ee.vgT("number"),e);return ee.UID((e=>{const t=ee.Uth({},e.issue_number,n);return ee.TSy(e,t)}),t)})))(t,Tn(t,e)))).then((e=>{const s={nextPage:n.nextPage+1,isLastPage:e.length<100};return{repo_id:t,closedIssuesLoading:s,fetchedClosedIssues:e}}));var r}ee.OH4("allClosedIssuesLoaded",!0);const QN=function(){const e=ut().stream(ft());return gt().change(ee.zGw(ft,e)),e}(),eP=ut().stream(!1);function tP(e){return eP(e)}const nP=ut().stream(!1);function sP(e){return nP(e)}const rP=ut().stream(!1);const iP=class{constructor(){this.repoIdMap={},this.interval=null}getRepoIds(){return Object.keys(this.repoIdMap).map((e=>parseInt(e,10)))}registerRepository(e){this.repoIdMap[e]=!0}start(){this.interval=setInterval((()=>{this.emitCheckIfMatchConditions()}),5e3)}stop(){this.interval&&(clearInterval(this.interval),this.interval=null)}emitCheckIfMatchConditions(){(eP()||rP())&&QN()&&(L.Z.NO_CHECK_UPDATE_FOR_OPENED_ISSUE_VIEWER&&nP()||this.emitCheck())}emitCheck(){const e=this.getRepoIds();e.length<=0||nS({repoIds:e}).catch((e=>{e&&403===e.status&&(oe("Check updates error",e),this.stop())}))}},oP=Object.freeze({MANUAL:"SORT_TYPE_MANUAL",NEWEST:"SORT_TYPE_NEWEST",OLDEST:"SORT_TYPE_OLDEST",TITLE_AZ:"SORT_TYPE_TITLE_AZ",TITLE_ZA:"SORT_TYPE_TITLE_ZA",REPO:"SORT_TYPE_REPO",ESTIMATE:"SORT_TYPE_ESTIMATE",ASSIGNEES:"SORT_TYPE_ASSIGNEES",MILESTONE:"SORT_TYPE_MILESTONE"}),aP=ee.sv4([ee.CyQ(ee.kKJ),ee.r3W(ee.__,ee.VO0(oP)),ee.CyQ(ee.fS0(oP.MANUAL))]),lP=ee.HkC(ee.CyQ(ee.kKJ),ee.r3W(ee.__,[oP.NEWEST,oP.OLDEST,oP.REPO,oP.ASSIGNEES,oP.MILESTONE]));function cP(e){switch(e){case oP.MANUAL:return"Manual";case oP.ASSIGNEES:return"Assignee";case oP.ESTIMATE:return"Estimate";case oP.MILESTONE:return"Milestone";case oP.NEWEST:return"Newest";case oP.OLDEST:return"Oldest";case oP.REPO:return"Repo";case oP.TITLE_AZ:return"Title A-Z";case oP.TITLE_ZA:return"Title Z-A";default:return""}}const dP=oP;const uP=["updated_at","assignees","connection","estimate","is_epic","issue_number","isSelected","labels","milestone","organization","pull_request","repo_id","repo_name","state","title","dependencyStatus","isOptionsActive","notification","firstOfPriority"],pP=ee.WAo(((e,t)=>ee.$6P((n=>e[n]===t[n]))(uP))),mP=(e,t,n)=>{if(!e&&!t)return!0;if(!ee.pe1(ee.ETc(["length"]),e,t))return!1;for(let s=0;s<e.length;s+=1)if(!n(e[s],t[s]))return!1;return!0};function hP(e,t){return e===t||pP(e,t)&&((e,t)=>mP(e.connectedPRs,t.connectedPRs,pP))(e,t)&&((e,t)=>mP(e.parent_epics,t.parent_epics,ee.fS0))(e,t)&&((e,t)=>mP(e.releases,t.releases,ee.fS0))(e,t)&&ee.fS0(e.priority,t.priority)}function EP(e,t){return hP(e.issue,t.issue)&&e.inSelectionMode===t.inSelectionMode&&e.isLocked===t.isLocked&&e.preventDrop===t.preventDrop&&e.showLabels===t.showLabels&&e.showEstimates===t.showEstimates&&e.showMilestones===t.showMilestones&&e.showEpics===t.showEpics&&e.showReleases===t.showReleases&&e.showDependencies===t.showDependencies&&e.isDragging===t.isDragging&&e.issue.blocked_by===t.issue.blocked_by&&e.issue.blocking===t.issue.blocking&&e.dependenciesFilter===t.dependenciesFilter&&e.showNotifications===t.showNotifications&&e.showPRs===t.showPRs&&e.showReviewers===t.showReviewers&&ee.fS0(e.epicFilter,t.epicFilter)}const gP=ee.qCK(ee.ffD,ee.kKJ,ee.vgT("sort_by")),fP=ee.qCK(lP,ee.vgT("sort_by")),_P=ee.qCK(ee.xHg,ee.jge("issues")),vP=ee.qCK(ee.Smz,ee.UID(ee.Uth(0,"estimate"))),IP=e=>{let{sort_by:t,issues:n}=e;return lP(t)?_P(n):n},bP=e=>{const t=IP(e),n=ee.zGw(ee.jge("connectedPRs"),ee.d1t(ee.kKJ),ee.xHg)(t);return[...t,...n]},yP=ee.qCK(vP,bP),SP=(e,t)=>(t?bP:IP)(e).length;let wP=null;function RP(){return wP||(wP=TI()?0:function(){const e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const s=n.offsetWidth;return e?.parentNode?.removeChild(e),(t-s||0)+1}()),wP}function TP(e){if(e<1)return 45;return 5+255*e+RP()+2}const CP=ee.OH4("_id","closed-pipeline"),kP=(e,t)=>ee.cxD(ee.OH4("_id",e),t),OP=e=>[e,1],NP=(e,t)=>[e,0,t],PP=e=>{const t=ee.jge("pipelines");return ee.YjB(ee.kKJ,e)||ee.YjB(ee.kKJ,t(e))?{}:{pipelines:ee.Jnq(t(e))}},AP=e=>{const t=(e||"").match(/\/([^\/]+)\/[^\/]+\/(?:pull|issues)\/(?:\d+)+/);return t&&t.length&&t.length>=1?t[1]:""},DP=ee.WAo(((e,t)=>ee.sv4([ee.OH4("repo_id",e.repo_id),ee.OH4("issue_number",e.issue_number)])(t))),LP=e=>e.issue_path||`${e.repo_id}_${e.issue_number}`,zP=(e,t)=>{const n=LP(e);return e.is_epic&&t&&ee.Dax(_t.DX,["is",n],t)},MP=ee.wEe(ee.OH4("state","merged"),ee.zGw(ee.vgT("merged_at"),ee.kKJ,ee.ffD)),xP=ee.OH4("state","closed"),FP=e=>!xP(e),UP=ee.wEe(xP,MP),BP=ee.vgT("is_epic"),qP=ee.zGw(ee.vgT("pull_request"),ee.kKJ,ee.ffD),HP=ee.zGw(ee.vgT("estimate"),ee.is(Number)),WP=ee.eiS(["repo_id","issue_number"]),jP=ee.OH4("blocked",!0),GP=ee.OH4("blocking",!0),KP=e=>e&&1===(e=>{let{priority:t}=e;return t?t.rank:0})(e),VP=e=>{const t=e.findIndex((e=>!e.isDivider&&!KP(e)));return-1===t?e.length:t},$P=e=>KP(e)?"high":"low",ZP=ee.Uth(0,"estimate_points"),YP=ee.WAo(((e,t)=>{const n=an(t);return e[n]?null:(e[n]=t,ee.UID(YP(e),t.issues||[]),e)})),JP=ee.zGw(YP,ee.VO0);function XP(e){const t=ee.UID(XP,e.issues||[]),n=function(e){if(!rn(e))return e;const t=JP({},e)||[],n=ee.hXT(Yt,t),s=n.length,r=t.length>0?t.length-1:t.length,i=Yt(e)?s-1:s,o=ee.u4g(((e,t)=>ZP(t)+e),0,t),a=ee.u4g(((e,t)=>e+ZP(t)),0,n);return ee.TSy(e,{total_epic_points:o,completed_epic_points:a,total_issues:r,completed_issues:i})}(e);return ee.TSy(n,{issues:t})}function QP(e){const t=ee.hXT(rn,e||[]),n=ee.UID(ee.zGw(ee.vgT("issues"),QP),t);return ee.zoF(t,ee.xHg(n))}function eA(e,t,n,s){const r=QP(s),i=ee.R3I(an({repo_id:t,issue_number:n})),o=ee.hXT((t=>e.repos.some((e=>e.repo_id===t.repo_id))));return ee.zGw(o,ee.UID(an),i,ee.jj$)(r)}const tA=(e,t,n,s)=>{const r=eA(e,t,n,s);return ee.v_p(",",r)},nA=(e,t,n,s)=>{const r=eA(e,t,n,s);return ee.UID((e=>({filterKey:e})))(r)},sA=(ee.vMG((e=>`${Yt(e)?"closed":"open"}@${Qt(e)?"pr":"not-pr"}@${e.is_epic?"epic":"not-epic"}`)),ee.zGw(ee.uKc(KP),ee.xHg),e=>`${e}-title`),rA=e=>`ZH_NEW_ISSUE-${e}-title`,iA=e=>`ZH_NEW_ISSUE-${e}-description`,oA=e=>`ZH_NEW_ISSUE-${e}-repo`,aA=e=>`ZH_NEW_ISSUE-template-${e}-body`,lA=e=>`ZH_NEW_ISSUE-template-${e}-title`,cA=ee.CyQ(ee.kKJ);function dA(e){return ee.zGw(e,ee.yAE(!1))}const uA=ee.ETc(["issue","repoId"]),pA=(ee.ETc(["issue","issueInfo","locked"]),ee.ETc(["issue","issueInfo"])),mA=ee.ETc(["issue","issueInfo","number"]),hA=ee.ETc(["issue","issueInfo","title"]),EA=(ee.ETc(["issue","issueInfo","html_url"]),ee.ETc(["issue","issueInfo","pull_request"]),ee.ETc(["issue","issueInfo","state"])),gA=(ee.ETc(["issue","issueInfo","user","login"]),ee.ETc(["issue","issueInfo","isPRMerged"])),fA=ee.ETc(["issue","workspaceInfo"]),_A=ee.ETc(["issue","issueType"]),vA=ee.ETc(["issue","id"]),IA=(0,pa.P1)([uA,fA],((e,t)=>e&&t?ha.Lk(t,e):null)),bA=(0,pa.P1)([IA],ee.ETc(["organization"])),yA=(0,pa.P1)([IA],ee.ETc(["repository"])),SA=(0,pa.P1)([IA],ee.ETc(["permissions"])),wA=(0,pa.P1)([IA],ee.ETc(["permissions","push"])),RA=(0,pa.P1)(pA,(e=>void 0===e?.id)),TA=((0,pa.P1)(fA,(e=>ee.vgT("_id",e))),(0,pa.P1)(pA,(e=>!!e&&Xt(e)))),CA=((0,pa.P1)(pA,EA,gA,((e,t,n)=>nn(e)?n?"merged":"closed":t)),ee.ETc(["issue","draftIssues"])),kA=(0,pa.P1)(pA,(e=>!ee.kKJ(e)&&Qt(e))),OA=ee.ETc(["issue","estimates","currentValue"]),NA=ee.ETc(["issue","estimates","estimateValues"]),PA=ee.ETc(["issue","pipelines"]),AA=e=>{let{priorities:t,workspace:n}=e;return t.map((e=>{const t=e.workspaces||[];return{...e,workspaces:[...t,n]}}))},DA=(0,pa.P1)(PA,(e=>e?ee.xHg(e.filter((e=>e.priorityId)).map(AA)):[])),LA=((0,pa.P1)(PA,(e=>e&&e.map((e=>e.workspace)))),(0,pa.P1)(fA,PA,((e,t)=>e&&t?ee.sEJ(ee.uF6(["workspace","_id"],e._id),t):null))),zA=(0,pa.P1)(PA,(e=>{const t=new Set;return(0,_t.KN)(e)||e.forEach((e=>{t.add(e.currentPipelineId)})),t})),MA=(0,pa.P1)(PA,(e=>ee.xHg(e.map((e=>e.pipelines))))),xA=(0,pa.P1)(LA,(e=>e?e.pipelines:null)),FA=ee.ETc(["issue","epics","childIssues"]),UA=dA(ee.ETc(["issue","epics","is_epic"])),BA=ee.zGw(ee.ETc(["issue","epics","is_epic"]),cA),qA=ee.ETc(["issue","epics","parentEpics"]),HA=ee.ETc(["issue","releases"]),WA=ee.ETc(["issue","display","loadStatus"]);ee.ETc(["issue","display","loadError"]),(0,pa.P1)(xA,FA,((e,t)=>ee.kKJ(e)||ee.kKJ(t))),(0,pa.P1)(pA,(e=>!ee.kKJ(e)&&ee.$6P((t=>cA(e[t])),["state","labels","assignees","number","title"])));const jA=(0,pa.P1)(pA,uA,OA,UA,vA,qA,RA,((e,t,n,s,r,i,o)=>{var a,l,c,d,u;if(!(a=e,l=t,c=n,d=s,u=o||F?[]:i,!(ee.kKJ(a)||ee.kKJ(l)||void 0===c||ee.kKJ(d)||ee.kKJ(u))))return null;const p=(i||[]).map((e=>({repo_id:e.repo_id,issue_number:e.issue_number})));return Rn(t,{...e,repo_id:t,estimate:n,is_epic:s,parent_epics:p,id:r})})),GA=(0,pa.P1)([jA],ee.Uth("","issue_path")),KA=((0,pa.P1)([GA,CA],((e,t)=>t[e]||"")),(0,pa.P1)([GA,CA],((e,t)=>t[sA(e)]||"")),ee.ETc(["issue","comments"]),ee.ETc(["issue","ghEvents"]),ee.ETc(["issue","zhEvents"]),ee.ETc(["issue","releaseEvents"]),(0,pa.P1)(jA,FA,((e,t)=>{if(ee.kKJ(e)||ee.kKJ(t)||!e.is_epic)return 0;const n=ee.yGi("issues",t,e),s=ee.yGi("estimate_points",e.estimate,n);var r;return(rn(r=s)?XP(r):r).total_epic_points}))),VA=ee.ETc(["issue","display","activeDropdown"]),$A=ee.ETc(["issue","display","isSidebarOpen"]),ZA=dA(ee.ETc(["issue","display","filterDependentLabelRemoved"])),YA=ee.WAo(((e,t)=>VA(t)===e)),JA=(ee.ETc(["issue","issueInfo","labels"]),ee.ETc(["issue","issueInfo","assignees"])),XA=(ee.ETc(["issue","issueInfo","milestone"]),ee.zoF(["issue","sidebarMenus"])),QA=ee.ETc(XA(["labels","add"])),eD=ee.ETc(XA(["labels","remove"])),tD=ee.ETc(XA(["assignees","add"])),nD=ee.ETc(XA(["assignees","remove"])),sD=ee.ETc(XA(["epics","add"])),rD=ee.ETc(XA(["epics","remove"])),iD=ee.ETc(XA(["sprints","add"])),oD=ee.ETc(XA(["sprints","remove"])),aD=e=>e.issue?.sidebarMenus?.prioritiesByWorkspaceId,lD=e=>e.issue?.sidebarMenus?.pipelineSelectionsByWorkspaceId,cD=(0,pa.P1)([PA,lD],((e,t)=>({...(e??[]).reduce(((e,t)=>(e[t.workspace._id]=t.currentPipelineId,e)),{}),...t}))),dD=ee.ETc(XA(["milestone"])),uD=ee.ETc(XA(["estimate"])),pD=ee.ETc(XA(["releases","add"])),mD=ee.ETc(XA(["releases","remove"])),hD=ee.ETc(["issue","display","isTemplateSelectOpen"]),ED=ee.ETc(["issue","templates"]),gD=ee.ETc(["issue","display","isIssueTemplateDirty"]),fD=((0,pa.P1)([FA,Pv,Ov],((e,t,n)=>(e||[]).map((e=>{const s=an(e),r=t[s],i=n[r];return i?{...e,priority:i}:e})))),(0,pa.P1)(mA,(e=>(0,_t.KN)(e)||-1===e))),_D=(0,pa.P1)(fD,LA,cD,((e,t,n)=>e?n[t?.workspace?._id]:t?.currentPipelineId||"")),vD=(0,pa.P1)(LA,_D,((e,t)=>!!e&&t===e.pipelines[0]._id)),ID=(0,pa.P1)(kA,UA,_A,((e,t,n)=>e?"PR":t?"Epic":e||t||!n?null:n)),bD=bb.Ps`
  query epicIssueProgress($repositoryGhId: Int!, $issueNumber: Int!) {
    issueByInfo(repositoryGhId: $repositoryGhId, issueNumber: $issueNumber) {
      id
      state
      estimate {
        value
      }
      epic {
        id
        issueCountProgress {
          open
          total
          closed
        }
        issueEstimateProgress {
          open
          total
          closed
        }
      }
    }
  }
`;function yD(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const SD=function(){var e,t=(e=function*(e,t){const n=ly(),{data:s}=yield n.query({query:bD,variables:{repositoryGhId:e,issueNumber:t},fetchPolicy:"network-only"});n.writeQuery({query:bD,data:s})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){yD(i,s,r,o,a,"next",e)}function a(e){yD(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),wD=SD,RD=bb.Ps`
  fragment SprintSelectorSprint on Sprint {
    id
    name
    state
    endAt
    startAt
    workspace {
      id
    }
  }
`,TD={},CD=bb.Ps`
  query issueSprints($repositoryGhId: Int!, $issueNumber: Int!) {
    issueByInfo(repositoryGhId: $repositoryGhId, issueNumber: $issueNumber) {
      id
      sprints {
        nodes {
          ...SprintSelectorSprint
        }
      }
    }
  }
  ${RD}
`;function kD(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const OD=function(){var e,t=(e=function*(e,t){const n=ly();yield n.query({query:CD,variables:{repositoryGhId:e,issueNumber:t},fetchPolicy:"network-only"})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){kD(i,s,r,o,a,"next",e)}function a(e){kD(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),ND=OD;let PD=null,AD=null;const DD=(e,t,n,s)=>{const r=t.issue,i=pn(n?.parent_epics,r?.parent_epics),o=!1===n.is_epic&&!0===r.is_epic;ve().props({zhEvents:pT({...t,workspaceId:s._id}),parentEpics:i?null:kO({...t,workspaceId:s._id}),epicWithDesc:o?MO({...t,workspace:s}):null}).then((t=>{const n=ee.ETc(["epicWithDesc","issues"],t),s={estimate:r.estimate,is_epic:r.is_epic,zhEvents:t.zhEvents,parentEpicsUpdate:i?null:t.parentEpics,childIssuesUpdate:o?n:null};e(LG.issue.updateIssueZhData(s))}))},LD=(e,t,n)=>{const s=jA(n()),r=fA(n());((e,t)=>new Date(e?.updated_at)<new Date(t.issue.updated_at))(s,e)&&((e,t)=>{ve().props({issueInfo:fT(t),comments:_T(t),ghEvents:vT(t)}).then((t=>{e(LG.issue.updateIssueGhData(t))}))})(t,e),((e,t)=>{const n=t.issue,s=e?.is_epic===n?.is_epic,r=pn(e?.parent_epics,n.parent_epics),i=e?.estimate===n.estimate;return!(s&&r&&i)})(s,e)&&DD(t,e,s,r),((e,t)=>{const n=t.issue,s=ly().readQuery({query:CD,variables:{repositoryGhId:e.repo_id,issueNumber:e.issue_number}})?.issueByInfo?.sprints?.nodes,r=n.sprints;return o=s,!((i=r)&&o&&i?.length===o?.length&&i.every((e=>o.some((t=>t.id===e.id)))));var i,o})(s,e)&&(ND(s.repo_id,s.issue_number),DD(t,e,s,r)),((e,t)=>{const n=t.issue;if(!1===e?.is_epic||!1===n?.isEpic)return!1;const s=e.estimate!==n.estimate;return e.state!==n.state||s})(s,e)&&wD(s.repo_id,s.issue_number)},zD=RI()(((e,t)=>{PD&&QN()&&(LD(PD,e,t),PD=null)}),1e3,{leading:!0,trailing:!0});function MD(e,t,n,s,r){const i=ee.TSy(e,{issue_number:t,issue:n});var o,a;PD&&(o=PD,a=i,new Date(o.issue.updated_at)>new Date(a.issue.updated_at))||(PD=i,zD(s,r))}const{issuePriorities:xD}=pr,FD={setIssuePriorities:(0,hS.Z)(xD.SET_ISSUE_PRIORITIES),setPriorities:(0,hS.Z)(xD.SET_PRIORITIES)},UD=e=>{e};function BD(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function qD(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){BD(i,s,r,o,a,"next",e)}function a(e){BD(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{isNotNil:HD}=Vt.Z,WD=function(){var e=qD((function*(e){try{yield ve().race([e,new(ve())(((e,t)=>setTimeout((()=>{t(new Error("sockets not connected after 60000ms"))}),6e4)))])}catch(e){(e=>{oe("BoardConnector.connect failed",e)})(e)}}));return function(t){return e.apply(this,arguments)}}();function jD(e){return e.reduce(((e,t)=>[...e,...Tn(t.repo,t.issues)]),[])}function GD(e,t){if(ee.kKJ(e))return ve().resolve([]);return Yy({...ln(e),workspaceId:t})}const KD=ee.UID((e=>({...e,repo:e.repository})));const VD={isBoardConnected:!1,isIssuePageConnected:!1,getIsBoardConnected(){return this.isBoardConnected},dispatch:null,issueUpdateChecker:null,repoUpdateListeners:null,boardUpdateListener:null,issueUpdateListener:null,stopIssueChecker(){this.issueUpdateChecker&&this.issueUpdateChecker.stop(),this.issueUpdateChecker=null},getRepoStreams(){const e=this.repoUpdateListeners&&this.repoUpdateListeners.streams;if(!ee.kKJ(e))return e;const t={issueUpdates$:os.Repo.listenToRepoIssuesUpdates(n),issueDeletes$:tS()};var n;return this.repoUpdateListeners=t,t},dispatchBoardData(e){const t=LG.board.loadBoardData(e);this.dispatch(t)},listenAndDispatchBoardUpdates(e,t){const n=this.boardUpdateListener;if(!ee.kKJ(n))return;const s=os.Repo.listenToBoardUpdates(r);var r;ut().on((t=>{const n=LG.board.updateBoard(t);e._id===t._id?this.dispatch(n):oe(`Wrong board received - current: ${e._id} - received: ${t._id}`)}),s),this.boardUpdateListener={defaultRepo:t,stream:s,workspace:e}},dispatchIssuePriorityData(e){const{priorities:t,issue_priorities:n}=e;this.dispatch(FD.setPriorities(t)),this.dispatch(FD.setIssuePriorities(n))},fetchAndSubscribeToBoard(e,t){const n=e._id;var s;return WD((s={workspaceId:n},os.Repo.subscribeToBoardById(s))),xy.getBoardByWorkspaceId({workspaceId:n}).then((n=>(this.listenAndDispatchBoardUpdates(e,t),n)))},listenAndDispatchRepoUpdates(){const e=this.repoUpdateListeners;if(!ee.kKJ(e))return;const t=this.getRepoStreams();ut().on((e=>{const t=jD(e),n=LG.board.updateIssues(t);this.dispatch(n)}),t.issueUpdates$),ut().on((e=>{const t=LG.board.deleteIssue(e);this.dispatch(t)}),t.issueDeletes$)},registerRepoForCheckUpdate(e){(this.isBoardConnected||this.isIssuePageConnected)&&(this.issueUpdateChecker||(this.issueUpdateChecker=new iP,this.issueUpdateChecker.start()),this.issueUpdateChecker.registerRepository(e))},fetchAndSubscribeToRepo(e,t){return eS(t).then((()=>{return n={repo_id:t.repo_id,workspaceId:e._id,connections:!0,dependencies:!0,epics:!0,estimates:!0,sprints:!0,releases:!0,estimation_statuses:!0,pull_request_data:!0},os.Repo.getRepoIssuesWithZenHubData(n);var n})).then((e=>{this.listenAndDispatchRepoUpdates(),this.registerRepoForCheckUpdate(t.repo_id);const n=Tn(t.repo_id,e);return ee.TSy(t,{issues:n})}))},initSelectedRepoListeners:(ZD=qD((function*(e){WD(ve().all(e.map((e=>eS(e))))),VD.listenAndDispatchRepoUpdates(),e.forEach((e=>VD.registerRepoForCheckUpdate(e.repo_id)))})),function(e){return ZD.apply(this,arguments)}),fetchAndSubscribeToSelectedRepos:($D=qD((function*(e,t,n,s){const r=function(e,t,n){let s;return ee.kKJ(n)||ee.xbD(n)?s=[t]:(s=mS.wK(n,e),ee.xbD(s)&&(s=[t])),s}(n,t,s),i=yield Jy({repo_ids:r.map((e=>e.repo_id)),workspace:e,connections:!0,dependencies:!0,epics:!0,estimates:!0,estimation_statuses:!0,releases:!0,sprints:!0,pull_request_data:!0});VD.initSelectedRepoListeners(r);const o=i.reduce(((e,t)=>{let{repo_id:n,issues:s}=t;return{...e,[n]:Tn(n,s)}}),{});return n.map((e=>({...e,default:e.repo_id===t.repo_id,issues:o[e.repo_id]})))})),function(e,t,n,s){return $D.apply(this,arguments)}),resubscribeToBoard(){if(!this.boardUpdateListener)return ve().reject(new Error("No board subscription found when reconnecting to board updates"));const{defaultRepo:e,workspace:t}=this.boardUpdateListener;return this.fetchAndSubscribeToBoard(t,e)},resubscribeToRepos(){if(ee.kKJ(this.boardUpdateListener)||ee.kKJ(this.repoUpdateListeners))return ve().reject(new Error("No board/repo subscription found when reconnecting  to repos updates"));const{defaultRepo:e,workspace:t}=this.boardUpdateListener,n=this.issueUpdateChecker.getRepoIds(),s=KD(t.repos);return ve().props({repos:this.fetchAndSubscribeToSelectedRepos(t,e,s,n)})},resubscribeWhenReconnected(){ut().on((()=>ve().all([this.resubscribeToBoard(),this.resubscribeToRepos()]).then((e=>{this.dispatchBoardData({board:e[0],repos:e[1].repos})}))),Nt)},listenToConnectionChanges(){ut().on((e=>{const t=LG.board.updateConnectionState(e);this.dispatch(t),UD(e)}),Pt)},disconnectIssuePage(){const e=this.issueUpdateListener&&this.issueUpdateListener.endStreamFn;ee.kKJ(e)||e(!0),zD.cancel(),PD=null,AD&&(AD.end(!0),AD=null),this.issueUpdateListener=null,this.isIssuePageConnected=!1},listenAndDispatchIssueUpdates(e,t,n,s){const r=an({repo_id:e.repo_id,issue_number:t}),i=this.issueUpdateListener;if(!ee.kKJ(i)){if(i.issuePath===r)return;this.disconnectIssuePage()}const o=this.getRepoStreams(),a=ut().map(jD,o.issueUpdates$),l=ut().map((e=>ee.sEJ((e=>an(e)===r),e)),a),c=mt()(ee.CyQ(ee.kKJ),l);this.issueUpdateListener={issuePath:r,updatedAt:null,stream:c,endStreamFn:a.end},function(e,t){AD=ut().combine(ee.yRu,[QN]),ut().on((n=>{PD&&n&&(LD(PD,e,t),PD=null)}),AD)}(n,s),ut().on((r=>{MD(e,t,r,n,s)}),c)},subscribeToIssueChange(e,t,n,s){this.isIssuePageConnected=!0,eS(e).then((()=>{this.isIssuePageConnected?(this.listenAndDispatchIssueUpdates(e,t,n,s),this.registerRepoForCheckUpdate(e.repo_id)):ae("IssuePage was disconnected before loading")}))},listenToBoardRefreshAndReload:e=>{const t=os.Repo.listenToBoardRefresh(n);var n;ut().on((()=>{const t=LG.pages.setReloadWorkspaceOrderFromSocket(!0);e(t)}),t)},connect(e,t,n,s,r){if(!ee.kKJ(this.dispatch))return ve().resolve();this.dispatch=e,this.isBoardConnected=!0;return ve().resolve(KD(t.repos)).then((i=>ve().props({board:this.fetchAndSubscribeToBoard(t,r),repos:this.fetchAndSubscribeToSelectedRepos(t,r,i,n),dependenciesTree:GD(s,t._id)}).then((t=>{if(!this.isBoardConnected)return void ae("Board was disconnected before loading");const n=function(e){if(ee.xbD(e.dependenciesTree))return e;const t=ee.UID((t=>{if(ee.e$l("issues",t))return t;const n=ee.hXT(ee.OH4("repo_id",t.repo_id),e.dependenciesTree);return ee.yGi("issues",ee.UID(Rn(null),n),t)}),e.repos);return ee.yGi("repos",t,e)}(t);HD(s)&&e(LG.board.dependenciesTreeLoaded()),this.resubscribeWhenReconnected(),this.listenToConnectionChanges(),this.listenToBoardRefreshAndReload(e),this.dispatchBoardData(n),this.dispatchIssuePriorityData(t.board)}))))},disconnect(){this.disconnectIssuePage(),jt().then((e=>{Bt(),e.io.disconnect(),Tt(null),kt(null),Dt=null})),this.stopIssueChecker(),this.dispatch=null,this.repoUpdateListeners=null,this.boardUpdateListener=null,this.isBoardConnected=!1}};var $D,ZD;const YD=VD,{removeByType:JD}=H.Z,XD=()=>{JD(W.Z.BOARD_SELECT_MULTIPLE)},QD=()=>{H.Z.createToastIfUniqueByType(W.Z.BOARD_SELECT_MULTIPLE,{hasCloseButton:!1})};class eL{constructor(e){this.applyingToastId=null,this.entityType=e,this.completedIssueCount=0}incrementAppliedIssues(e){this.completedIssueCount+=1,H.Z.updateToastPropsById(this.applyingToastId,{content:`Applying ${this.entityType}s...`,completed:this.completedIssueCount,total:e})}showApplying(){this.applyingToastId=H.Z.createToast(W.Z.PROGRESS_UPDATE,{content:`Applying ${this.entityType}s...`,completed:0,total:1})}showApplied(e){H.Z.deleteToast(this.applyingToastId),e.failedIssues.length>0?H.Z.createToast(W.Z.MULTI_ACTION_ERROR,{issues:e.failedIssues}):H.Z.createToast(W.Z.MULTI_ACTION_UPDATE,{updateType:this.entityType,issueCount:e.selectedIssues.length})}}const tL=()=>{const e={...Cl.Z};H.Z.createToast(W.Z.DEPENDENCY_FETCH_ERROR,e)},nL=()=>{H.Z.removeByType(W.Z.DEPENDENCY_FILTER),H.Z.removeByType(W.Z.DEPENDENCY_FILTER_WARNING)};function sL(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function rL(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){sL(i,s,r,o,a,"next",e)}function a(e){sL(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{board:iL}=pr,oL=(0,hS.Z)(iL.BOARD_LOAD_DATA,(e=>{const t=ee.hXT(ee.vgT("issues"),e.repos),n=e.repos.map((e=>{let{issues:t,...n}=e;return{...n,loaded:!ee.kKJ(t)}}));return{repos:n,boardId:e.board._id,rawPipelines:e.board.pipelines,issues:Cn(t),issuesReleases:e.issuesReleases}})),aL=(0,hS.Z)(iL.TRACK_ONBOARDING),lL=(0,hS.Z)(iL.LOAD_ONBOARDING_VALUE),cL=(0,hS.Z)(iL.CLEAR_BOARD),dL=(0,hS.Z)(iL.ISSUES_UPDATE),uL=(0,hS.Z)(iL.QUICK_ADD_ISSUE),pL=e=>{let{newIssue:t,pipelineId:n,onIssueInsert:s}=e;return(e,r)=>{const i=r(),o=Ev(i),a=Pv(i),l=gv(i).find((e=>n===e._id)),{issues:c}=l;let d=0,u=0;c.every((e=>{const t=`${e.repo_id}_${e.issue_number}`;return!!a[t]&&(a[t]&&"open"===o[t]?.state&&(u+=1),d+=1,!0)})),e(uL({newIssue:t,insertionIndex:d})),s(u)}},mL=(0,hS.Z)(iL.ISSUE_DELETE),hL=(0,hS.Z)(iL.BOARD_UPDATE),EL=(0,hS.Z)(iL.UPDATE_LOAD_STATE),gL=EL(R_),fL=(0,hS.Z)(iL.UPDATE_CONNECTION_STATE),_L=(0,hS.Z)(iL.UPDATE_LOAD_MORE_CLOSED_ISSUES_STATE),vL=(0,hS.Z)(iL.ADD_MORE_CLOSED_ISSUES),IL=e=>t=>{t(_L(!0)),function(e){const t=ee.UID(XN,e);return ve().all(t)}(e).then((e=>{t(vL(e)),t(_L(!1))}))},bL=(0,hS.Z)(iL.TRACK_OPEN_CREATE_MENU),yL=(0,hS.Z)(iL.TRACK_OPEN_MILESTONE_MODAL),SL=(0,hS.Z)(iL.TRACK_OPEN_RELEASE_MODAL),wL=(0,hS.Z)(iL.TRACK_OPEN_CREATE_PIPELINE),RL=(0,hS.Z)(iL.TOGGLE_ISSUE_CARD_OPTIONS),TL=(0,hS.Z)(iL.OPEN_BOARD_ITEM),CL=(0,hS.Z)(iL.OPEN_NEW_ISSUE),kL=(0,hS.Z)(iL.TRACK_OPEN_NEW_ISSUE),OL=(0,hS.Z)(iL.TRACK_MENU_OPEN_NEW_ISSUE),NL=(0,hS.Z)(iL.TRACK_MENU_OPEN_NEW_EPIC),PL=(0,hS.Z)(iL.CLEAR_TAG_FILTERS),AL=(0,hS.Z)(iL.ADD_MILESTONE_FILTER),DL=(0,hS.Z)(iL.REMOVE_MILESTONE_FILTER),LL=(0,hS.Z)(iL.CLEAR_MILESTONE_FILTER),zL=(0,hS.Z)(iL.ADD_SPRINT_FILTER),ML=(0,hS.Z)(iL.REMOVE_SPRINT_FILTER),xL=(0,hS.Z)(iL.CLEAR_SPRINT_FILTER),FL=(0,hS.Z)(iL.ADD_LABEL_FILTER),UL=(0,hS.Z)(iL.REMOVE_LABEL_FILTER),BL=(0,hS.Z)(iL.CLEAR_LABEL_FILTER),qL=(0,hS.Z)(iL.ADD_ESTIMATE_FILTER),HL=(0,hS.Z)(iL.REMOVE_ESTIMATE_FILTER),WL=(0,hS.Z)(iL.CLEAR_ESTIMATE_FILTER),jL=(0,hS.Z)(iL.ADD_ASSIGNEE_FILTER),GL=(0,hS.Z)(iL.REMOVE_ASSIGNEE_FILTER),KL=(0,hS.Z)(iL.CLEAR_ASSIGNEE_FILTER),VL=(0,hS.Z)(iL.ADD_AUTHOR_FILTER),$L=(0,hS.Z)(iL.REMOVE_AUTHOR_FILTER),ZL=(0,hS.Z)(iL.CLEAR_AUTHOR_FILTER),YL=(0,hS.Z)(iL.ADD_REPO_FILTER),JL=(0,hS.Z)(iL.REMOVE_REPO_FILTER),XL=(0,hS.Z)(iL.ADD_EPIC_FILTERS),QL=(0,hS.Z)(iL.REMOVE_EPIC_FILTERS),ez=(0,hS.Z)(iL.CLEAR_EPIC_FILTER),tz=(0,hS.Z)(iL.ADD_RELEASE_FILTER),nz=(0,hS.Z)(iL.REMOVE_RELEASE_FILTER),sz=(0,hS.Z)(iL.CLEAR_RELEASE_FILTER),rz=(0,hS.Z)(iL.DEPENDENCIES_TREE_LOADED),iz=(0,hS.Z)(iL.ADD_DEPENDENCIES_FILTER),oz=(0,hS.Z)(iL.LOAD_FULL_DEPENDENCIES_TREE,(e=>t=>{(()=>{const e={...Cl.Z,type:W.Z.DEPENDENCY_LOADING,hasCloseButton:!1};H.Z.createToast(W.Z.DEPENDENCY_LOADING,e)})(),Yy(e).then((e=>{t(dL(Tn(null,e))),(()=>{const e={...Cl.Z,heading:"There are issues not shown on this board"};H.Z.createToastIfUniqueByType(W.Z.DEPENDENCY_FILTER_WARNING,e)})(),H.Z.removeByType(W.Z.DEPENDENCY_LOADING)})).catch(tL)})),az=(0,hS.Z)(iL.ADD_DEPENDENCIES_FILTER,(e=>t=>{const n=an(e),s=e.indexedIssues||[];ee.xbD(s)||function(e,t){return ee.qCK(ee.sEJ(ee.qCK(ee.kKJ,ee.vgT(ee.__,t))),Zd(e))(t)}(n,s)?t(oz(e)):H.Z.createToastIfUniqueByType(W.Z.DEPENDENCY_FILTER,{alignClosed:!1,hasCloseButton:!0,modifiers:["info-message","hide-on-mobile","transition-in"]}),t(iz(n))})),lz=(0,hS.Z)(iL.CLEAR_DEPENDENCIES_FILTER),cz=(0,hS.Z)(iL.SET_SEARCH_FILTER),dz=(0,hS.Z)(iL.CLEAR_SEARCH_FILTER),uz=(0,hS.Z)(iL.SET_PIPELINE_COLUMNS),pz=(0,hS.Z)(iL.ADD_PIPELINE,(e=>ve().resolve(function(e){return os.Repo.addNewPipeline(e)}(e)).then((t=>({newPipeline:{...ee.qCK(ee.sEJ,ee.goX)({name:e.name})(t.pipelines),issues:[]}}))))),mz=lR(iL.EDIT_PIPELINE,(e=>os.Workspace.editPipeline(e))),hz=lR(iL.REMOVE_PIPELINE,(function(e){return os.Repo.removePipeline(e)})),Ez=(0,hS.Z)(iL.SET_PIPELINE_TO_REMOVE),gz=lR(iL.REORDER_PIPELINE,(function(e){return os.Repo.reorderPipelines(e)})),fz=(0,hS.Z)(iL.SET_PIPELINE_SORTING),_z=(0,hS.Z)(iL.CLEAR_PIPELINE_SORTING),vz=(0,hS.Z)(iL.HIDE_ADD_PIPELINE),Iz=(0,hS.Z)(iL.SHOW_ADD_PIPELINE),bz=(0,hS.Z)(iL.TRANSFER_ISSUE_SUCCESS),yz=lR(iL.REOPEN_ISSUE,gT,(e=>{e(bz())})),Sz=lR(iL.CLOSE_ISSUE,hT,(e=>{e(bz())})),wz=lR(iL.TRANSFER_ISSUE,(function(e){return os.Issue.transfer(e)}),(e=>{e(bz())})),Rz=(0,hS.Z)(iL.TRACK_UNKNOWN_DEPENDENCY),Tz=(0,hS.Z)(iL.UPDATE_ISSUE_DEPENDENCIES),Cz=e=>function(){var t=rL((function*(t){"UNKNOWN"===e.dependencyStatus&&t(Rz());const n=yield Zy(e),s=an({repo_id:e.repo_id,issue_number:e.issue_number});t(Tz({index:s,...n}))}));return function(e){return t.apply(this,arguments)}}(),kz=(0,hS.Z)(iL.SET_ISSUE_HIGH_PRIORITY,RT),Oz=(0,hS.Z)(iL.REMOVE_ISSUE_PRIORITY,RT),Nz=(0,hS.Z)(iL.REPO_LOADED),Pz=(0,hS.Z)(iL.LOAD_REPO_AND_ADD_TO_FILTER,(e=>{let{workspace:t,repo:n}=e;return e=>{YD.fetchAndSubscribeToRepo(t,n).then((t=>{e(dL(t.issues)),e(YL({filterKey:t.repo_id})),e(Nz(t))}))}})),Az=(0,hS.Z)(iL.REPOS_LOADED),Dz=(0,hS.Z)(iL.SHOW_ALL_REPOS),Lz=(0,hS.Z)(iL.LOAD_REPOS_AND_SHOW_ALL,(e=>{let{workspace:t,connectedRepos:n}=e;return e=>{const{defaultRepo:s,selectedRepoIds:r}=n.reduce(((e,t)=>{const n={...e};return t.default&&(n.defaultRepo=t),n.selectedRepoIds.push(t.repo_id),n}),{defaultRepo:null,selectedRepoIds:[]});return ve().props({repos:YD.fetchAndSubscribeToSelectedRepos(t,s,n,r)}).then((t=>{let{repos:s}=t;const r=ee.xHg(ee.jge("issues",s));return e(dL(r)),e(Az(s)),e(Dz(n)),ve().resolve(r)}))}})),zz=(0,hS.Z)(iL.SHOW_ONE_REPO),Mz=(0,hS.Z)(iL.SHOW_FULL_SCREEN),xz=(0,hS.Z)(iL.HIDE_FULL_SCREEN),Fz=(0,hS.Z)(iL.TOGGLE_FULL_SCREEN),Uz=(0,hS.Z)(iL.LEAVE_BOARD),Bz=(0,hS.Z)(iL.SHOW_CLOSED_PIPELINE),qz=(0,hS.Z)(iL.HIDE_CLOSED_PIPELINE),Hz=(0,hS.Z)(iL.SHOW_OPEN_ISSUES),Wz=(0,hS.Z)(iL.HIDE_OPEN_ISSUES),jz=(0,hS.Z)(iL.SHOW_PULL_REQUESTS),Gz=(0,hS.Z)(iL.HIDE_PULL_REQUESTS),Kz=(0,hS.Z)(iL.SHOW_LABELS),Vz=(0,hS.Z)(iL.HIDE_LABELS),$z=(0,hS.Z)(iL.SHOW_ESTIMATES),Zz=(0,hS.Z)(iL.HIDE_ESTIMATES),Yz=(0,hS.Z)(iL.SHOW_MILESTONES),Jz=(0,hS.Z)(iL.HIDE_MILESTONES),Xz=(0,hS.Z)(iL.SHOW_EPICS),Qz=(0,hS.Z)(iL.HIDE_EPICS),eM=(0,hS.Z)(iL.SHOW_RELEASES),tM=(0,hS.Z)(iL.HIDE_RELEASES),nM=(0,hS.Z)(iL.SHOW_DEPENDENCIES),sM=(0,hS.Z)(iL.HIDE_DEPENDENCIES),rM=(0,hS.Z)(iL.SHOW_REVIEWERS),iM=(0,hS.Z)(iL.HIDE_REVIEWERS),oM=(0,hS.Z)(iL.TOGGLE_DROPDOWN),aM=(0,hS.Z)(iL.OPEN_FULLSCREEN_MODAL),lM=(0,hS.Z)(iL.CLOSE_FULLSCREEN_MODAL),cM=(0,hS.Z)(iL.SHOW_INSIGHTS),dM=(0,hS.Z)(iL.HIDE_INSIGHTS),uM=(0,hS.Z)(iL.TOGGLE_EXPANDED_FILTERS),pM=(0,hS.Z)(iL.SHOW_PIPELINE_DESCRIPTIONS),mM=(0,hS.Z)(iL.HIDE_PIPELINE_DESCRIPTIONS),hM=(0,hS.Z)(iL.SET_WORKSPACE_LABEL_FILTERS),EM=(0,hS.Z)(iL.ADD_ISSUE_TO_SELECTION),gM=(0,hS.Z)(iL.ENTER_SELECTION_MODE),fM=(0,hS.Z)(iL.EXIT_SELECTION_MODE),_M=(0,hS.Z)(iL.ADD_ISSUE_TO_SELECTION),vM=(0,hS.Z)(iL.REMOVE_ISSUE_FROM_SELECTION),IM=(0,hS.Z)(iL.REPLACE_ISSUES_IN_SELECTION),bM=(0,hS.Z)(iL.CLEAR_ISSUES_FROM_SELECTION),yM=(0,hS.Z)(iL.CLEAR_CHANGES_MULTI_ACTION),SM=(0,hS.Z)(iL.ADD_ALL_ISSUES_TO_SELECTION),wM=(0,hS.Z)(iL.ADD_ISSUES_TO_SELECTION),RM=(0,hS.Z)(iL.REMOVE_ISSUES_FROM_SELECTION),TM=(0,hS.Z)(iL.NOTIFY_MULTI_ACTION_APPLY_ERROR),CM=(0,hS.Z)(iL.ADD_LABEL_MULTI_ACTION),kM=(0,hS.Z)(iL.REMOVE_LABEL_MULTI_ACTION),OM=(0,hS.Z)(iL.UPDATE_ISSUE_LABELS),NM=e=>function(){var t=rL((function*(t){r6("Multi Select",{Action:"Apply Label","Number of Selected Issues":e.selectedIssues.length});const n=new eL(W.$.LABEL);n.showApplying();const s=yield NN({...e,onIssueProcessed:e=>{let{repoId:s,issueNumber:r,labels:i,issueToProcessCount:o}=e;n.incrementAppliedIssues(o),t(OM({repo_id:s,issue_number:r,labels:i}))}});n.showApplied(s)}));return function(e){return t.apply(this,arguments)}}(),PM=(0,hS.Z)(iL.NOTIFY_PRIORITY_MULTI_ACTION_APPLIED),AM=lR(iL.APPLY_PRIORITIES_MULTI_ACTION,ZN,VN(PM,TM)),DM=(0,hS.Z)(iL.ADD_ASSIGNEE_MULTI_ACTION),LM=(0,hS.Z)(iL.REMOVE_ASSIGNEE_MULTI_ACTION),zM=(0,hS.Z)(iL.UPDATE_ISSUE_ASSIGNEES),MM=e=>function(){var t=rL((function*(t){r6("Multi Select",{Action:"Apply Assignees","Number of Selected Issues":e.selectedIssues.length});const n=new eL(W.$.ASSIGNEE);n.showApplying();const s=yield AN({...e,onIssueProcessed:e=>{let{repoId:s,issueNumber:r,assignees:i,issueToProcessCount:o}=e;n.incrementAppliedIssues(o),t(zM({repo_id:s,issue_number:r,assignees:i}))}});n.showApplied(s)}));return function(e){return t.apply(this,arguments)}}(),xM=(0,hS.Z)(iL.SET_MILESTONE_MULTI_ACTION),FM=(0,hS.Z)(iL.UPDATE_ISSUE_MILESTONE),UM=e=>function(){var t=rL((function*(t){r6("Multi Select",{Action:"Apply Milestone","Number of Selected Issues":e.selectedIssues.length});const n=new eL(W.$.MILESTONE);n.showApplying();const s=yield LN({...e,onIssueProcessed:e=>{let{repoId:s,issueNumber:r,milestone:i,issueToProcessCount:o}=e;n.incrementAppliedIssues(o),t(FM({repo_id:s,issue_number:r,milestone:i}))}});n.showApplied(s)}));return function(e){return t.apply(this,arguments)}}(),BM=e=>function(){var t=rL((function*(t){r6("Multi Select",{Action:"Remove Milestone","Number of Selected Issues":e.selectedIssues.length});const n=new eL(W.$.MILESTONE);n.showApplying();const s=yield MN({...e,onIssueProcessed:e=>{let{repoId:s,issueNumber:r,issueToProcessCount:i}=e;n.incrementAppliedIssues(i),t(FM({repo_id:s,issue_number:r,milestone:null}))}});n.showApplied(s)}));return function(e){return t.apply(this,arguments)}}(),qM=(0,hS.Z)(iL.ADD_EPIC_MULTI_ACTION),HM=(0,hS.Z)(iL.REMOVE_EPIC_MULTI_ACTION),WM=(0,hS.Z)(iL.NOTIFY_EPIC_MULTI_ACTION_APPLIED),jM=lR(iL.APPLY_EPIC_MULTI_ACTION,xN,$N(WM,TM)),GM=(0,hS.Z)(iL.SET_PIPELINE_MULTI_ACTION),KM=(0,hS.Z)(iL.SET_PIPELINE_DIRECTION_MULTI_ACTION),VM=(0,hS.Z)(iL.NOTIFY_PIPELINE_MULTI_ACTION_APPLIED),$M=lR(iL.APPLY_PIPELINE_MULTI_ACTION,qN,$N(VM,TM)),ZM=(0,hS.Z)(iL.SET_ESTIMATE_MULTI_ACTION),YM=(0,hS.Z)(iL.NOTIFY_ESTIMATE_MULTI_ACTION_APPLIED),JM=lR(iL.APPLY_ESTIMATE_MULTI_ACTION,WN,$N(YM,TM)),XM=(0,hS.Z)(iL.ADD_RELEASE_MULTI_ACTION),QM=(0,hS.Z)(iL.REMOVE_RELEASE_MULTI_ACTION),ex=(0,hS.Z)(iL.NOTIFY_RELEASE_MULTI_ACTION_APPLIED),tx=(0,hS.Z)(iL.OPEN_EXTENSION_NEW_ISSUE_MODAL),nx=(0,hS.Z)(iL.CLOSE_EXTENSION_NEW_ISSUE_MODAL),sx=(0,hS.Z)(iL.TOGGLE_FILTER_LOGIC),rx=(0,hS.Z)(iL.SET_USE_DEFAULT_FILTER),ix=lR(iL.APPLY_RELEASE_MULTI_ACTION,GN,$N(ex,TM)),ox=(0,hS.Z)(iL.TOGGLE_QUICK_ISSUE_CREATOR),{breadcrumbs:ax}=pr,lx={openDefaultDropdown:(0,hS.Z)(ax.OPEN_DEFAULT_DROPDOWN),closeDefaultDropdown:(0,hS.Z)(ax.CLOSE_DEFAULT_DROPDOWN),openIssuePageDropdown:(0,hS.Z)(ax.OPEN_ISSUE_PAGE_DROPDOWN),closeIssuePageDropdown:(0,hS.Z)(ax.CLOSE_ISSUE_PAGE_DROPDOWN)};function cx(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{burndown:dx}=pr,ux={loadConnectedMilestones:(0,hS.Z)(dx.LOAD_CONNECTED_MILESTONES),fetchAndLoadConnectedMilestones:(0,hS.Z)(dx.LOAD_CONNECTED_MILESTONES,(e=>function(t){yN.getConnectedMilestones(e).then((e=>{t(ux.loadConnectedMilestones(e))}))})),loadMilestonesAndChangeSelected:(0,hS.Z)(dx.LOAD_MILESTONES_AND_CHANGE_SELECTED,(e=>function(t){t(ux.setLoadingMilestoneIssues(!0)),yN.getConnectedMilestones(e).then((n=>{t(ux.loadConnectedMilestones(n)),t(ux.setLoadingMilestoneIssues(!1)),t(ux.selectMilestone(e))}))})),updateConnectedMilestones:(0,hS.Z)(dx.UPDATE_CONNECTED_MILESTONES),loadMilestone:(0,hS.Z)(dx.LOAD_MILESTONE),setConnectedMilestonesIssues:(0,hS.Z)(dx.SET_MILESTONE_ISSUES),loadConnectedMilestoneIssues:e=>function(){var t,n=(t=function*(t){const n=yield yN.getBurndownConnectedMilestoneIssues(e);return t(ux.setConnectedMilestonesIssues(n))},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){cx(i,s,r,o,a,"next",e)}function a(e){cx(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),setLoadingMilestoneIssues:(0,hS.Z)(dx.SET_LOADING_MILESTONE_ISSUES),setMilestoneStartDate:(0,hS.Z)(dx.SET_MILESTONE_START_DATE,((e,t,n,s)=>{const r={repository:e,organization:t,milestone_number:n,start_date:s};return yN.setMilestoneStartDate(r)})),setMilestoneDueDate:(0,hS.Z)(dx.SET_MILESTONE_DUE_DATE),updateMilestoneDueDate:(0,hS.Z)(dx.UPDATE_MILESTONE_DUE_DATE,(e=>function(t){yN.setMilestoneDueDate(e).then((n=>{const s={...e,due_on:n.due_on};t(ux.setMilestoneDueDate(s))})).catch((()=>{t(ux.fetchAndLoadConnectedMilestones(e))}))})),setEntity:(0,hS.Z)(dx.SET_ENTITY),selectMilestone:(0,hS.Z)(dx.SELECT_MILESTONE),showPRs:(0,hS.Z)(dx.SHOW_PULL_REQUESTS),hidePRs:(0,hS.Z)(dx.HIDE_PULL_REQUESTS),loadConnectedPipelines:(0,hS.Z)(dx.LOAD_CONNECTED_PIPELINES,yN.getConnectedPipelines),addBurnPipeline:(0,hS.Z)(dx.ADD_BURN_PIPELINE),setBurnPipeline:(0,hS.Z)(dx.SET_BURN_PIPELINE),clearBurnPipelines:(0,hS.Z)(dx.CLEAR_BURN_PIPELINES),clearTagFilters:(0,hS.Z)(dx.CLEAR_TAG_FILTERS),addLabelFilter:(0,hS.Z)(dx.ADD_LABEL_FILTER),removeLabelFilter:(0,hS.Z)(dx.REMOVE_LABEL_FILTER),clearLabelFilter:(0,hS.Z)(dx.CLEAR_LABEL_FILTER),addRepoFilter:(0,hS.Z)(dx.ADD_REPO_FILTER),removeRepoFilter:(0,hS.Z)(dx.REMOVE_REPO_FILTER),showAllRepos:(0,hS.Z)(dx.SHOW_ALL_REPOS),showOneRepo:(0,hS.Z)(dx.SHOW_ONE_REPO),toggleDropdown:(0,hS.Z)(dx.TOGGLE_DROPDOWN),setSelectedRepoId:(0,hS.Z)(dx.SET_SELECTED_REPO_ID),clear:(0,hS.Z)(dx.CLEAR)},px=ux,{control:mx}=pr,hx={dismissInfoAlert:(0,hS.Z)(mx.DISMISS_INFO_ALERT),toggleDropdown:(0,hS.Z)(mx.TOGGLE_DROPDOWN)},Ex={GROWTH:"GROWTH",UPGRADE_TO_ANNUAL:"UPGRADE_TO_ANNUAL",ADD_LICENSES:"ADD_LICENSES"},gx=bb.Ps`
  query getZHUsersByGHOrg($ghId: Int!) {
    ownerByGhId(ghId: $ghId) {
      ... on Organization {
        zenhubOrganization {
          id
          name
          zenhubUsers {
            nodes {
              email
              id
              name
              imageUrl
              githubUser {
                avatarUrl
                ghId
                login
                name
              }
            }
          }
        }
      }
    }
  }
`;let fx=null;function _x(){fx&&(fx(),fx=null)}function vx(e,t){_x(),fx=e.subscribe(t)}const Ix=e=>ee.r3W("?",e)?ee.Vl2("?",e)[1]:e;function bx(e){return Vt.Z.parseQueryString(e.search||"")}function yx(e){const t=j.ZP.chain(e).reduce(((e,t,n)=>{const s=e;return Vt.Z.isEmptyString(t)||Vt.Z.isEmptyArray(t)||Vt.Z.isEmptyObject(t)||function(e){return null==e||!0===e}(t)||function(e){return 0===e.indexOf("_")}(n)||function(e,t){return"filterLogic"===e&&"all"===t}(n,t)||(s[n]=t),s}),{}).map(((e,t)=>j.ZP.isArray(e)?`${t}=${e.join(",")}`:"epic"===t?`${t}=${e.repo_id},${e.issue_number}`:`${t}=${e}`)).value().join("&");return t}const Sx={alignContent:!0,alignItems:!0,alignSelf:!0,backgroundColor:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundSize:!0,border:!0,borderBottom:!0,borderBottomColor:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStyle:!0,borderBottomWidth:!0,borderCollapse:!0,borderColor:!0,borderLeft:!0,borderLeftColor:!0,borderLeftStyle:!0,borderLeftWidth:!0,borderRadius:!0,borderRight:!0,borderRightColor:!0,borderRightStyle:!0,borderRightWidth:!0,borderSpacing:!0,borderStyle:!0,borderTop:!0,borderTopColor:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStyle:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,color:!0,cursor:!0,direction:!0,display:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexFlow:!0,flexWrap:!0,flexGrow:!0,flexShrink:!0,float:!0,font:!0,fontFamily:!0,fontSize:!0,fontSizeAdjust:!0,fontStretch:!0,fontStyle:!0,fontVariant:!0,fontWeight:!0,height:!0,justifyContent:!0,left:!0,lineHeight:!0,listStyle:!0,listStylePosition:!0,listStyleType:!0,margin:!0,marginBottom:!0,marginLeft:!0,marginRight:!0,marginTop:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,outline:!0,outlineColor:!0,outlineOffset:!0,outlineStyle:!0,outlineWidth:!0,overflow:!0,overflowX:!0,overflowY:!0,padding:!0,paddingBottom:!0,paddingLeft:!0,paddingRight:!0,paddingTop:!0,position:!0,right:!0,tabSize:!0,tableLayout:!0,textAlign:!0,textAlignLast:!0,textDecoration:!0,textDecorationColor:!0,textDecorationLine:!0,textDecorationStyle:!0,textIndent:!0,textOverflow:!0,textShadow:!0,top:!0,verticalAlign:!0,visibility:!0,whiteSpace:!0,width:!0,wordBreak:!0,wordSpacing:!0,wordWrap:!0,zIndex:!0},wx={attributes:!0,childElementCount:!0,childNodes:!0,children:!0,classList:!0,className:!0,contains:!0,firstChild:!0,firstElementChild:!0,getAttribute:!0,getAttributeNode:!0,hasAttribute:!0,hasAttributes:!0,hasChildNodes:!0,id:!0,lastChild:!0,lastElementChild:!0,length:!0,nextSibling:!0,nextElementSibling:!0,nodeName:!0,nodeType:!0,nodeValue:!0,ownerDocument:!0,parentNode:!0,parentElement:!0,previousSibling:!0,previousElementSibling:!0,querySelector:!0,querySelectorAll:!0,tagName:!0};const Rx={varEq:(e,t)=>{let{varName:n,value:s}=e,{varRegistry:r}=t;return r[n]===s},varGt:(e,t)=>{let{varName:n,value:s}=e,{varRegistry:r}=t;return r[n]>s},varGte:(e,t)=>{let{varName:n,value:s}=e,{varRegistry:r}=t;return r[n]>=s},varLt:(e,t)=>{let{varName:n,value:s}=e,{varRegistry:r}=t;return r[n]<s},varLte:(e,t)=>{let{varName:n,value:s}=e,{varRegistry:r}=t;return r[n]<=s},varIsEmpty:(e,t)=>{let{varName:n}=e,{varRegistry:s}=t;return ee.xbD(s[n])},varIsNil:(e,t)=>{let{varName:n}=e,{varRegistry:s}=t;return ee.kKJ(s[n])},varIsNilOrEmpty:(e,t)=>{let{varName:n}=e,{varRegistry:s}=t;const r=s[n];return ee.kKJ(r)||ee.xbD(r)}};function Tx(e,t){const n=Rx[e.type];if(!n)throw new Error("Condition type does not exists");const s=n(e,t);return e.complement?!s:s}function Cx(e){return e.reduce(((e,t)=>{const[n,...s]=t;if(!wx[n])throw new Error("Unauthorized finder prop");let r=e[n];return"function"==typeof e[n]&&(r=e[n](...s)),r}),document)}const kx={addClass:(e,t)=>{let{className:n,varName:s}=e,{varRegistry:r}=t;r[s].classList.add(n)},argToVar:(e,t)=>{let{argIndex:n,varName:s}=e,{varRegistry:r,injectorArgs:i}=t;r[s]=i[n]},castToVar:(e,t)=>{let{varNameToCast:n,varNameCasted:s,toType:r}=e,{varRegistry:i}=t;const o=i[n];if("string"===r)i[s]=`${o}`;else if("integer"===r)i[s]=parseInt(o,10);else if("number"===r)i[s]=Number(o);else{if("boolean"!==r)throw new Error(`Unknown type given to castToVar: ${r}`);i[s]=Boolean(o)}},divToVar:(e,t)=>{let{varName:n}=e,{varRegistry:s}=t;s[n]=document.createElement("div")},finderToVar:(e,t)=>{let{finder:n,varName:s}=e,{varRegistry:r}=t;r[s]=Cx(n)},insertAfter:(e,t)=>{let{varNameRefNode:n,varNameNewNode:s}=e,{varRegistry:r}=t;const i=r[n],o=r[s];i.parentNode.insertBefore(o,i.nextSibling)},insertBefore:(e,t)=>{let{varNameRefNode:n,varNameNewNode:s}=e,{varRegistry:r}=t;const i=r[n],o=r[s];i.parentNode.insertBefore(o,i)},appendChild:(e,t)=>{let{varNameRefNode:n,varNameNewNode:s}=e,{varRegistry:r}=t;const i=r[n],o=r[s];i.appendChild(o)},lengthToVar:e=>{let{varName:t,varNameWithLength:n,varRegistry:s}=e;s[t]=s[n].length},removeClass:(e,t)=>{let{className:n,varName:s}=e,{varRegistry:r}=t;r[s].classList.remove(n)},removeNode:(e,t)=>{let{varName:n}=e,{varRegistry:s}=t;s[n].remove()},renderReactComp:(e,t)=>{let{varNameContainer:n,varNameComp:s}=e,{varRegistry:r}=t;const i=r[n],o=r[s];bI.createRoot(i).render(o)},returnFinder:e=>{let{finder:t}=e;return Cx(t)},returnVar:(e,t)=>{let{varName:n}=e,{varRegistry:s}=t;return s[n]},setClass:(e,t)=>{let{className:n,varName:s}=e,{varRegistry:r}=t;r[s].className=n},setStyle:(e,t)=>{let{style:n,varName:s}=e,{varRegistry:r}=t;Object.entries(n).forEach((e=>{let[t,n]=e;const i=r[s].style;if(!Sx[t])throw new Error(`Unauthorized CSS prop: ${t}`);i[t]=n}))},valueFromKey:(e,t)=>{let{varNameSource:n,varNameValue:s,key:r}=e,{varRegistry:i}=t;const o=i[n];i[s]=o[r]}};function Ox(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r={varRegistry:{},injectorArgs:n};let i;for(i of e){const{condition:e,type:t}=i;if(!kx[t])throw new Error("Unknown instruction type");if(e&&!Tx(e,r))continue;const n=kx[t](i,r);if("returnVar"===t||"returnFinder"===t)return n}return null}function Nx(e,t){const n=uI&&uI(Pe)||{},s=ee.ETc([e],n);s&&Object.entries(s).forEach((e=>{let[n,s]=e;const r=t[n];if(!r)return void ae("Cannot find original selector");const i=function(e,t){const n=function(){try{for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Ox(e.instructions,...n)}catch(e){ae("Error while executing remote injector",e)}return null};if("replace"===e.modification)return n;if("before"===e.modification)return function(){return n(...arguments),t(...arguments)};if("after"===e.modification)return function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];const i=t(...s);return void 0===n(...s,i)||i};throw new Error("Cannot find injector modification type")}(s,r.bind(t));t[n]=i}))}const Px=function(){try{Nx(...arguments)}catch(e){ae("Error while overriding selectors ",e)}},Ax={findApplicationMainContainer:()=>document.querySelector(".application-main"),findRepoContainer(){let e=document.querySelector("[data-pjax-container] > .container");return e||(e=document.getElementById("repo-content-pjax-container")),e||(e=document.querySelector("[data-pjax-container] > .new-discussion-timeline")),e||(e=document.querySelector(".new-discussion-timeline")),e},findRepoId(){return this.findRepoIdInGhContent(document.documentElement)},findRepoIdInGhContent(e){const t=e.querySelector("[name=repository_id]");let n=t?t.value:null;if(!n){document.querySelector(".repository-content")&&ae("findRepoIdInGhContent main selector disappeared");const t=e.querySelector("[name=octolytics-dimension-repository_id]");n=t?t.getAttribute("content"):null}return parseInt(n,10)},findTopbar:()=>document.querySelector(".js-repo-nav"),injectRepoHeaderContainer(e){if(document.querySelector(".zh-repo-header-container"))return;let t=document.querySelector('[data-pjax="#repo-content-pjax-container"]');if(t||(t=document.querySelector('[data-pjax="#js-repo-pjax-container"]')),!t){const e=document.querySelectorAll("main > div:first-child h1 a");t=e[e.length-1]}t&&t.parentNode.insertBefore(e,t.nextSibling)},findRepoSwitcherContainer:()=>document.querySelector("#zh-repo-header-container__repo-switcher"),hasJun2020RepoUpdate:()=>null!=document.querySelector(".UnderlineNav.js-repo-nav"),isRepoSwitcherInjected(){const e=this.findRepoSwitcherContainer();return!!e&&e.children.length>0},injectRepoSwitcher(e){const t=this.findRepoSwitcherContainer();this.isRepoSwitcherInjected()||t&&t.appendChild(e)},injectTopbarLinks(e){if(document.querySelector(".zh-sidebar-item"))return;const t=Ax.findTopbar(),n=t.querySelector(".UnderlineNav-body, ul");if(t.classList.add("zh-attached"),Ax.hasJun2020RepoUpdate()){const t=e.querySelector(".zh-topbar-item");t&&t.classList.add("UnderlineNav-item")}else document.body.classList.add("gh-2019-ui");if(n){const s=n.children[2];return s?void n.insertBefore(e,s.nextSibling):void t.append(e)}const s=t.children[2];s?s.parentNode.insertBefore(e,s.nextSibling):t.append(e)},selectZenHubNavigationLink(e){se("RepoInjector._updateNavigationLinks");const t=Ax.findTopbar();t.querySelectorAll(".zh-previous-selected").forEach((e=>{e.classList.remove("zh-previous-selected")}));t.querySelectorAll(".selected:not(.zh-navbar-link)").forEach((e=>{e.removeAttribute("aria-current"),e.classList.add("zh-previous-selected"),e.classList.remove("selected")}));t.querySelectorAll(".selected.zh-navbar-link").forEach((e=>{e.classList.remove("selected")}));const n=t.querySelector(`a[zh-id="${e}"]`);n&&n.classList.add("selected")},restoreGitHubNavigationLinks(){se("RepoInjector._restoreNavigationLinks");const e=Ax.findTopbar(),t=e.querySelectorAll(".zh-previous-selected:not(.zh-navbar-link)"),n=e.querySelector(".zh-navbar-link");n&&n.classList.remove("selected"),e.querySelector(".selected")||t.forEach((e=>{e.setAttribute("aria-current","page"),e.classList.add("selected")}))},detachRepoContent(){const e=this.getDetachRepoContentElement();return e.parentElement.removeChild(e),e},attachRepoContent(e){const t=this.getDetachRepoContentElement(),n=Boolean(t);Boolean(e)&&!n&&this.findRepoContainer().prepend(e)},getDetachRepoContentElement(){const e=document.querySelector("#repo-content-pjax-container > .new-discussion-timeline:not(.modal-backdrop)");if(e)return e;const t=document.querySelector(".new-discussion-timeline > *:not(.modal-backdrop)");if(t)return t;const n=document.querySelector("#repo-content-pjax-container > div.clearfix");return n||null},detachGhFooter(){const e=document.querySelector(".footer");return e?(e.parentElement.removeChild(e),e):null},attachGhFooter(e){const t=Boolean(document.querySelector(".footer"));Boolean(e)&&!t&&this.findApplicationMainContainer().appendChild(e)},onPjaxCompleted(e){document.querySelector("#js-repo-pjax-container")?.addEventListener("pjax:success",e)}};Px("RepoInjector",Ax);const Dx=Ax,Lx=J().Model.extend({initialize(){se("Locator.initialize"),this.isUrlAsync=!1,this.isBackboneRouterDisabled=!1,this.backboneRouter=null},rePullRequestURL:new RegExp("/[^/]+/[^/]+/pull/[0-9]+"),update(e,t,n){const s=parseInt(n,10);this.set({organization:e,repository:t,repositoryId:Dx.findRepoId(),issueId:s}),se("Locator.update",this.toJSON())},getMixpanelID:()=>Vt.Z.parseNestedQueryString(decodeURIComponent(window.location.search)).zid||null,getHash:()=>window.location.hash,parseSettingsForPage(){se("Locator.parseSettingsForPage");const e=ee.Vl2("?",window.location.hash);return e.length<2?{}:Vt.Z.parseQueryString(e[1])},saveSettingsForPage(e,t){se("Locator.saveSettingsForPage");const n=yx(t),s=`#${e}${n?`?${n}`:""}`;this.setCustomHash(s)},setCustomHash(e){se("Locator.setCustomHash",e),window.history.pushState("",document.title,window.location.pathname+e)},hasHash:e=>ee.Bul(e,window.location.hash),setPageInHash(e,t){se("Locator.setPageInHash",e);let n="";if(ee.kKJ(t)||!t.clearQueryParams){n=(/^[^?]*\?(.*)$/g.exec(window.location.hash)||[])[1]||""}const s=`#${e}${n?`?${n}`:""}`;this.setCustomHash(s)},replacePageInHash(e){window.history.replaceState({},document.title,`${window.location.pathname}#${e}`)},restoreHash(){se("Locator.restoreHash"),window.history.pushState("",document.title,window.location.pathname+window.location.search)},removeHash(e){const t=window.location.hash;ee.r3W(e,t)&&this.restoreHash()},repoPath(){const e=this.get("organization"),t=this.get("repository");return e&&t?`${e}/${t}`:""},isPullRequest(){se("Locator.isPullRequest");const e=window.location.pathname;return Boolean(this.rePullRequestURL.exec(e))},setCustomPageTitle(e){se("Locator.setCustomPageTitle",e);const t=this.repoPath();this.initialPageTitle||(this.initialPageTitle=document.title),t.length&&(document.title=`${e} \xb7 ${t}`)},restorePageTitle(){se("Locator.restorePageTitle",this.initialPageTitle),this.initialPageTitle&&(document.title=this.initialPageTitle)},enterAsyncUrlMode(){re("Locator.enterAsyncUrlMode"),this.isUrlAsync&&oe(`Url is already asynchronous with: ${this.previousUrl}`),this.isUrlAsync=!0},exitAsyncUrlMode(){re("Locator.exitAsyncUrlMode"),this.isUrlAsync||oe("Url is already synchronous"),this.isUrlAsync=!1},disableBackboneRouterUpdate(){re("Locator.disableBackboneRouterUpdate"),this.isBackboneRouterDisabled&&se("Backbone router is already disabled"),this.isBackboneRouterDisabled=!0},enableBackboneRouterUpdate(){re("Locator.enableBackboneRouterUpdate"),this.isBackboneRouterDisabled||se("Backbone router is already routing"),this.isBackboneRouterDisabled=!1},pushAsyncUrl(e,t){re("Locator.pushAsyncUrl",e),!this.isUrlAsync&&e&&(this.enterAsyncUrlMode(),this.previousTitle=window.document.title,this.previousUrl=window.location.href,window.history.pushState({},t,e))},restoreSyncUrl(){const{previousTitle:e,previousUrl:t}=this;re("Locator.restoreSyncUrl",{previousTitle:e,previousUrl:t}),this.exitAsyncUrlMode(),window.history.pushState({},this.previousTitle,this.previousUrl)},setBackboneRouter(e){this.backboneRouter=e},getBackboneRouter(){return this.backboneRouter}}),zx=new Lx,Mx=e=>({id:e.id,name:e.name,about:e.about,body:e.body,title:e.title,assignees:e.assignees||[],labels:e.labels||[]});function xx(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Fx=bb.Ps`
  query getIssueTemplates($repoId: Int!) {
    repository(ghId: $repoId) {
      issueTemplates {
        nodes {
          id
          body
          metadata
          default
        }
      }
    }
  }
`,Ux=e=>{let{id:t,body:n,metadata:s={}}=e;return Mx({id:t,body:n,name:s.name,about:s.about,title:s.title,assignees:s.assignees,labels:s.labels})},Bx=e=>{const t=Ux({...e,metadata:e.metadata||{}});return n=t,Mx({...n,id:"default-template",name:"Default Template",about:"Import your repo\u2019s ISSUE_TEMPLATE file"});var n},qx=function(){var e,t=(e=function*(e){let{repoId:t}=e;const{data:n}=yield ly().query({query:Fx,variables:{repoId:t},fetchPolicy:"no-cache"}),s=n.repository.issueTemplates.nodes,r=s.find((e=>e.default))||null;return{defaultTemplate:r?Bx(r):null,customTemplates:s.filter((e=>!e.default)).map(Ux)}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xx(i,s,r,o,a,"next",e)}function a(e){xx(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();let Hx;!function(e){e.EPIC="epic",e.ISSUE="issue"}(Hx||(Hx={}));const{isNilOrEmpty:Wx}=Vt.Z,jx=(0,pa.P1)([Pa],rA),Gx=(0,pa.P1)([Pa],iA),Kx=(0,pa.P1)([Pa],oA),Vx=(0,pa.P1)([jx,CA],ee.vgT),$x=(0,pa.P1)([Gx,CA],ee.vgT),Zx=(0,pa.P1)([Kx,CA],ee.vgT),Yx=(0,pa.P1)([uA],aA),Jx=(0,pa.P1)([Yx,CA],ee.vgT),Xx=(0,pa.P1)([uA],lA),Qx=(0,pa.P1)([Xx,CA],ee.vgT),eF=(0,pa.P1)([_A],(e=>{let t;if(e===Hx.EPIC)t="Epic";else t="Issue";return`Create a new ${t}`})),tF=(0,pa.P1)([Vx,$x],((e,t)=>!ee.$6P(Wx)([e,t]))),nF=ee.ETc(["issue","display","isNewIssueOpen"]),sF=e=>e.board?.display?.workspaceLabelFilters??[],rF=(0,pa.P1)([sF],(e=>e.map((e=>e.name)))),iF=(0,_r.PH)("STATUS_SUBMISSION_PENDING"),oF=(0,_r.PH)("STATUS_STATE_TOGGLE_PENDING"),aF={},lF=bb.Ps`
  query getWorkspaceEpics($id: ID!) {
    workspace(id: $id) {
      id
      name
      epics {
        nodes {
          id
          issue {
            id
            number
            title
            viewerPermission
            state
            ghUpdatedAt
            htmlUrl
            repository {
              id
              ghId
              name
              owner {
                id
                login
              }
            }
          }
          project {
            id
            name
          }
        }
      }
    }
  }
`;function cF(e){const t={...aF,...e};return cy.a(lF,t)}function dF(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const uF=function(){var e,t=(e=function*(e){const t=ly(),{data:n}=yield t.query({query:lF,variables:{id:e},fetchPolicy:"network-only"});return(e=>e.map((e=>({repo_id:e.issue.repository.ghId,repo:e.issue.repository.name,issue_number:e.issue.number,organization:e.issue.repository.owner.login,title:e.issue.title,state:e.issue.state.toLowerCase(),updated_at:e.issue.ghUpdatedAt,html_url:e.issue.htmlUrl}))))(n?.workspace?.epics?.nodes||[])},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){dF(i,s,r,o,a,"next",e)}function a(e){dF(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),pF=uF;function mF(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function hF(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){mF(i,s,r,o,a,"next",e)}function a(e){mF(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{shared:EF}=pr,gF={epicsLoaded:(0,hS.Z)(EF.EPICS_LOADED),assigneesLoaded:(0,hS.Z)(EF.ASSIGNEES_LOADED),connectableIssuesLoaded:(0,hS.Z)(EF.CONNECTABLE_ISSUES_LOADED),labelsLoaded:(0,hS.Z)(EF.LABELS_LOADED),appendLabels:(0,hS.Z)(EF.APPEND_LABELS_TO_MAP),milestonesLoaded:(0,hS.Z)(EF.MILESTONES_LOADED),closedMilestonesLoaded:(0,hS.Z)(EF.CLOSED_MILESTONES_LOADED),estimatesLoaded:(0,hS.Z)(EF.ESTIMATES_LOADED),releasesLoaded:(0,hS.Z)(EF.RELEASES_LOADED),setEpicsUpdating:(0,hS.Z)(EF.EPICS_UPDATING),setAssigneesUpdating:(0,hS.Z)(EF.ASSIGNEES_UPDATING),setConnectableIssuesUpdating:(0,hS.Z)(EF.CONNECTABLE_ISSUES_UPDATING),setLabelsUpdating:(0,hS.Z)(EF.LABELS_UPDATING),setMilestonesUpdating:(0,hS.Z)(EF.MILESTONES_UPDATING),setClosedMilestonesUpdating:(0,hS.Z)(EF.CLOSED_MILESTONES_UPDATING),setEstimatesUpdating:(0,hS.Z)(EF.ESTIMATES_UPDATING),setReleasesUpdating:(0,hS.Z)(EF.RELEASES_UPDATING),getAllConnectedRepoEpics:e=>{let{repoId:t,workspaceId:n}=e;return function(){var e=hF((function*(e){e(gF.setEpicsUpdating());const s=yield pF(n);let r;r=ee.xbD(s)?ee.yGi(t,[],{}):ee.zGw(ee.UID(Vt.Z.renameProp("repo","repo_name")),Vt.Z.groupBy(ee.vgT("repo_id")))(s),e(gF.epicsLoaded(r))}));return function(t){return e.apply(this,arguments)}}()},getReposAssignees:(0,hS.Z)(EF.LOAD_ASSIGNEES,(e=>t=>(t(gF.setAssigneesUpdating()),Dy(e).then((e=>t(gF.assigneesLoaded(e))))))),getReposMilestones:(0,hS.Z)(EF.LOAD_MILESTONES,(e=>t=>{t(gF.setMilestonesUpdating()),ve().reduce(e,((e,t)=>qy({repo_id:t}).then((n=>ee.yGi(t,n,e)))),{}).then((e=>{t(gF.milestonesLoaded(e))}))})),getReposClosedMilestones:(0,hS.Z)(EF.LOAD_CLOSED_MILESTONES,(e=>t=>{t(gF.setClosedMilestonesUpdating()),ve().reduce(e.repoIds,((t,n)=>qy({repo_id:n,state:"closed",sort:ee.ETc(["options","sort"],e),reqOptions:{pageLimit:ee.ETc(["options","pageLimit"],e)}}).then((e=>ee.yGi(n,e,t)))),{}).then((e=>{t(gF.closedMilestonesLoaded(e))}))})),getReposLabels:(0,hS.Z)(EF.LOAD_LABELS,(e=>t=>(t(gF.setLabelsUpdating()),iS({repoIds:e}).then((e=>{t(gF.labelsLoaded(e))}))))),getReposLabelsNewIssue:(0,hS.Z)(EF.LOAD_LABELS,(e=>t=>(t(gF.setLabelsUpdating()),iS({repoIds:e}).then((e=>{t(gF.appendLabels(e))}))))),getConnectableIssues:e=>function(){var t=hF((function*(t){t(gF.setConnectableIssuesUpdating());const n=yield Jy({repo_ids:e.repos.map((e=>e.repo_id)),workspace:e,forceUpdate:!0,priorities:!0,pull_request_data:!0}),s=e=>Zt(e)&&!Qt(e),r=n.reduce(((e,t)=>{let{repo:n,issues:r}=t;return e.concat(Tn(n.repo_id,r.filter(s)))}),[]);t(gF.connectableIssuesLoaded(r))}));return function(e){return t.apply(this,arguments)}}(),getReposEstimates:(0,hS.Z)(EF.LOAD_ESTIMATES,(e=>t=>{t(gF.setEstimatesUpdating()),ve().map(e,(e=>jy({repo_id:e}).then((e=>ee.UID(ee.eiS(["value"]),e.values))))).then((e=>{const n=ee.zGw(ee.xHg,ee.mNm(ee.vgT("value")),ee.MRu(ee.vgT("value")))(e);t(gF.estimatesLoaded(n))}))})),loadPrivateRepos:(0,hS.Z)(EF.PRIVATE_REPOS_LOADED,e3),searchedReposLoaded:(0,hS.Z)(EF.SEARCHED_REPOS_LOADED),loadPrivateReposSearch:(0,hS.Z)(EF.LOAD_PRIVATE_REPOS_SEARCH),searchForReposPrivate:(0,hS.Z)(EF.SEARCH_FOR_REPOS_PRIVATE,(e=>t=>(t(gF.loadPrivateReposSearch()),gS.private(e).catch((e=>{throw e.searchRateLimitHit&&window.alert("Search limit reached. Please try again later."),e})).then((e=>{t(gF.searchedReposLoaded(e.items))}))))),clearPrivateReposSearch:(0,hS.Z)(EF.CLEAR_PRIVATE_REPOS_SEARCH),userOrgsLoaded:(0,hS.Z)(EF.USER_ORGS_LOADED),userOrgsUpdating:(0,hS.Z)(EF.USER_ORGS_UPDATING),getUserOrgs:()=>e=>(e(gF.userOrgsUpdating()),j2().then((t=>{const n=ee.HK3(su,t);e(gF.userOrgsLoaded(n))}))),paginatedReposByOrgLoaded:(0,hS.Z)(EF.PAGINATED_REPOS_LOADED),paginatedReposByOrgUpdating:(0,hS.Z)(EF.PAGINATED_REPOS_UPDATING),clearPaginatedResources:(0,hS.Z)(EF.CLEAR_PAGINATED_RESOURCES),getPaginatedReposByOwner:(0,hS.Z)(EF.LOAD_PAGINATED_REPOS,(e=>t=>{return t(gF.paginatedReposByOrgUpdating()),(n=e.currentUserName,s=e.ownerName,r=e.page,ee.t$q(n)===ee.t$q(s)?IS(s,r).then(fS):yS(s).then((e=>e?OS(s,r).then(fS):CS(s).then((e=>fS({result:e})))))).then((n=>{const s=n.data,r=ee.UID(mS.pe,s),i={ownerName:ee.t$q(e.ownerName),data:r,currentPage:n.currentPage,lastPage:n.lastPage,nextPage:n.nextPage};t(gF.paginatedReposByOrgLoaded(i))}));var n,s,r})),reposByOrgLoaded:(0,hS.Z)(EF.REPOS_BY_ORG_LOADED),reposByOrgUpdating:(0,hS.Z)(EF.REPOS_BY_ORG_UPDATING),getReposByOwner:(0,hS.Z)(EF.LOAD_REPOS_BY_ORG,(e=>t=>(t(gF.reposByOrgUpdating()),kS(e.currentUserName,e.ownerName).then((n=>{const s=ee.UID(mS.pe,n),r=ee.yGi(ee.t$q(e.ownerName),s,{});t(gF.reposByOrgLoaded(r))}))))),getWorkspacesReleases:(0,hS.Z)(EF.LOAD_RELEASES,(e=>t=>{t(gF.setReleasesUpdating()),yN.getReleaseReportForWorkspace(e).then((e=>t(gF.releasesLoaded(e))))})),loadUserRecentRepos:(0,hS.Z)(EF.LOAD_USER_RECENT_REPOS,VS)},fF=gF;ee.yGi("issue_number");function _F(){window.alert("There was an error processing your request")}function vF(e){e(iF(!0))}function IF(e){e(iF(!1))}const bF=(e,t)=>{const n=Sw(e),s=ee.ETc([t],n);return ee.kKJ(s)?null:ee.HK3(sd,s)},yF=(e,t)=>{const n=_w(e),s=ee.ETc([t],n);return ee.kKJ(s)?null:ee.HK3(Rl,s)},{issue:SF}=pr,wF=(0,hS.Z)(SF.SELECT_TEMPLATE),RF=e=>{let{template:t,repoId:n,workspaceId:s}=e;return(e,r)=>{e(wF({template:t,repoId:n,workspaceId:s})),e(lB(!1)),e(TB()),e(kB()),((e,t)=>{(sF(e)??[]).forEach((e=>{t(SB({key:e.name}))})),t(zB())})(r(),e);let i=null;t.assignees?.length&&(i=((e,t,n)=>yF(e,n)?Promise.resolve():t(fF.getReposAssignees([n])))(r(),e,n).then((()=>{const s=yF(r(),n);t.assignees.map(ee.t$q).filter((e=>s[e])).forEach((t=>{e(bB({user:t}))}))})));let o=null;return t.labels?.length&&(o=((e,t,n)=>bF(e,n)?Promise.resolve():t(fF.getReposLabels([n])))(r(),e,n).then((()=>{const s=bF(r(),n);s&&t.labels.map(ee.t$q).filter((e=>s[e])).forEach((t=>{e(SB({key:t}))}))}))),ve().all([i,o])}};function TF(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function CF(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){TF(i,s,r,o,a,"next",e)}function a(e){TF(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{issue:kF}=pr,OF=(0,hS.Z)(kF.SET_TEMPLATES),NF=e=>{let{repoId:t,workspaceId:n}=e;return function(){var e=CF((function*(e,s){const{defaultTemplate:r,customTemplates:i}=yield qx({repoId:t});let o=i;r&&(o=[r,...o]),e(OF(o));const a=Vx(s()),l=$x(s());a?.length||l?.length?e(lB(!0)):r&&e(RF({repoId:t,template:r,workspaceId:n}))}));return function(t,n){return e.apply(this,arguments)}}()};function PF(){return PF=CF((function*(e,t){const{repoId:n,workspace:s,issueType:r}=PT.pickOrThrow(e,["repoId","workspace","issueType"]);t(mB({repoId:n,workspace:s,issueType:r})),t(NF({repoId:n,workspaceId:s._id})),t(tq({repo_id:n})),t($U({repo_id:n}))})),PF.apply(this,arguments)}const AF=(0,hS.Z)(kF.INIT_NEW_ISSUE_PAGE,(e=>(t,n)=>{const s=Na(n()),{repo_id:r}=ha.Q7(s,e.organization,e.repository);!function(e,t){PF.apply(this,arguments)}({...e,repoId:r,workspace:s},t,n)})),DF=AF;const LF=/^image\//,zF=/^video\//;const MF=ee.vgT("uploadUrl");function xF(e,t){const n=function(e,t){const n=ee.TSy(t.postFields,{file:e}),s=new FormData;return ee.XPQ(n).forEach((e=>{const t=ee.vgT(e,n);s.append(e,t)})),s}(e,t),s=MF(t);return ls().ajax({url:s,contentType:!1,type:"POST",data:n,processData:!1})}const FF=LF.test.bind(LF),UF=zF.test.bind(zF),BF=ee.wEe(FF,UF);const{uploadBlob:qF}=os.File;function HF(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function WF(e){return 0===ee.kE(e.failedIssues)&&1===ee.kE(e.selectedIssues)}function jF(){window.alert("There was an error processing your request")}function GF(e,t,n){e(n({workspaceId:t.workspaceId||t.workspace._id,repo_id:t.repo_id,organization:t.organization,repository:t.repository,issue_number:t.issue_number})),jF()}function KF(e,t,n,s,r,i){const o=ee.HK3(t,n),a=ee.HK3(t,i),l=ee.XPQ(s),c=ee.XPQ(r),d=ee.u4g(((e,t)=>ee.anz(t,e)),o,c),u=ee.u4g(((e,t)=>ee.yGi(t,a[t],e)),d,l);return ee.zGw(ee.VO0,ee.MRu(t))(u)}function VF(e,t,n,s,r,i){return KF(0,t,ee.vgT(e,n),s,r,i)}const $F=ee.WAo(((e,t,n,s,r,i)=>{const o=ee.YMb(r.selectedIssues),a=ee.qCK(ee.xHg,ee.VO0)(r.labelsByRepo);if(WF(i)){return s(e(VF("labels",sd,o,r.addLabels,r.removeLabels,a))),void s(t(r))}GF(s,r,n)})),ZF=ee.WAo(((e,t,n,s,r,i)=>{const o=ee.YMb(r.selectedIssues),a=ee.qCK(ee.xHg,ee.VO0)(r.assigneesByRepo);if(WF(i)){return s(e(VF("assignees",Rl,o,r.addAssignees,r.removeAssignees,a))),void s(t(r))}GF(s,r,n)}));const YF=ee.WAo(((e,t,n,s,r)=>{n(e(r.milestone||null)),n(t(s))})),JF=ee.WAo(((e,t,n,s)=>{GF(t,s,e)})),XF=function(){var e,t=(e=function*(e){return e.isIssueClosed?(yield gT({issue_number:e.issue_number,organization:e.organization,priority_id:null,repo:e.repository,repo_id:e.repo_id,workspacesPositions:[{workspaceId:e.workspace._id,pipelineId:e.toPipeline._id,position:"top"===e.position&&0}]}),{reopenIssue:!0}):(yield IT(e),{reopenIssue:!1})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){HF(i,s,r,o,a,"next",e)}function a(e){HF(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),QF=ee.WAo(((e,t,n,s,r,i)=>{i.reopenIssue&&s(t()),s(e({pipelineId:r.target_pipeline_id,workspaceId:r.workspace._id})),r.onTransferSuccess&&r.onTransferSuccess({workspace:r.workspace,fromPipeline:r.fromPipeline,toPipeline:r.toPipeline}),s(n(r))})),eU=ee.WAo(((e,t,n,s)=>{GF(t,s,e)}));ee.WAo(((e,t,n,s)=>{GF(t,s,e)}));ee.WAo(((e,t)=>{t(e(null))})),ee.WAo(((e,t,n,s)=>{GF(t,s,e)}));function tU(e){return n=e.estimateId,window.confirm(`Are you sure you want to remove the estimate ${n}?`)?(t=e,os.Repo.deleteEstimate(t)):ve().resolve("cancelled");var t,n}const nU=ee.WAo(((e,t,n,s)=>{"cancelled"!==s&&t(e(n))})),sU=ee.WAo(((e,t,n,s)=>{GF(t,s,e)}));const rU=ee.WAo(((e,t,n,s,r,i)=>{if(i.isSuccess)return s(t(r.key)),void s(e(i.comment));s(n(r)),jF()}));const iU=ee.WAo(((e,t,n,s,r,i,o,a)=>{a.isSuccess?ee.kKJ(a.comment)||(i(e(a.comment)),i(t(o.key))):(i(r(o)),jF())}));const oU=ee.WAo(((e,t,n,s,r)=>{const i=ee.YMb(s.selectedIssues);if(WF(r)){const t=ee.qCK(ee.xHg,ee.VO0)(s.epicsByRepo),r=function(e,t,n){const s=ee.UID(e,t.parent_epics),r=ee.HK3(e,n),i=ee.UID((e=>r[e]||null),s);return ee.d1t(ee.kKJ,i)}(an,i,t);n(e(KF(0,an,r,s.addEpics,s.removeEpics,t)))}else n(t(s)),jF()})),aU=ee.WAo(((e,t,n,s,r,i)=>{if(!WF(i))return s(n(r)),void jF();s(e(r)),r.customFetch?r.customFetch():s(t(r))}));const lU="notifcationCache";function cU(e){return ee.u4g(((e,t)=>{const n=ee.ETc(["subject","url"])(t),s=Vt.Z.issueNumberFromIssueUrl(n);return e[s]||(e[s]=[]),e[s].push(ee.vgT("id")(t)),e}),{},e)}function dU(e){const t=ee.ETc(["subject","type"],e);return"Issue"===t||"PullRequest"===t}function uU(e,t,n){const s=ee.yGi(e,t,n);va(lU,s,{})}const pU=ee.WAo(((e,t)=>({issues:cU(ee.hXT(dU)(t)),since:new Date})));function mU(e){return L2.Repo.getNotifications({repo_id:e,reqOptions:{pageLimit:1}}).then((t=>pU(e,t)))}const hU=function(e){const t=ga(lU);if(ee.kKJ(t))return function(e){return mU(e).then((t=>(uU(e,t,{}),t)))}(e);const n=function(e){try{return JSON.parse(e)}catch(e){return console.error(e),{}}}(t),s=ee.ETc([e,"since"],n);return ee.kKJ(s)||function(e){const t=(new Date-new Date(e))/1e3;return!!(Number.isNaN(t)||t>90)}(s)?function(e,t){return mU(e).then((n=>(uU(e,n,t),n)))}(e,n):ve().resolve(ee.vgT(e,n))},EU=function(e){return hU(e.repo_id).then(ee.ETc(["issues",e.issue_number])).then((e=>{if(ee.kKJ(e)||ee.xbD(e))return ve().resolve();const t=ee.UID((e=>L2.Repo.markThreadAsRead({thread_id:e})))(e);return ve().all(t).then((()=>{}))}))};function gU(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function fU(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){gU(i,s,r,o,a,"next",e)}function a(e){gU(i,s,r,o,a,"throw",e)}o(void 0)}))}}const _U=(0,hS.Z)(pr.issue.SET_ISSUE_INFO_PRIMARY),vU=(0,hS.Z)(pr.issue.SET_ISSUE_INFO_SECONDARY),IU=(0,hS.Z)(pr.issue.SET_LOAD_ERROR),bU=(0,hS.Z)(pr.issue.SET_LOAD_STATUS),yU=(0,hS.Z)(pr.issue.SET_ISSUE_TIMELINE_DATA),SU=(0,hS.Z)(pr.issue.SET_ZH_ISSUE_ID,ST),wU=(0,hS.Z)(pr.issue.LOAD_EPIC_DATA,MO),RU=(e,t)=>{const n=e.find((e=>e.workspace._id===t));return n?n.priorities:[]};function TU(e,t,n){return CU.apply(this,arguments)}function CU(){return CU=fU((function*(e,t,n){const s=PT.pickOrThrow(t,["issue_number","organization","repository","repo_id","workspace","workspaceId"]),r=yield ve().props({estimatePoints:Qy(s),isEpic:CO(s),issueReleases:yN.loadIssueReleases(s),pipelinesByWorkspace:bT(s),parentEpics:kO(s),releaseEvents:uT(s),zhEvents:pT(s)}),i=RU(r.pipelinesByWorkspace,s.workspaceId);if(nF(n()))return;e(FD.setPriorities(i)),e(vU(r));const o=r.isEpic?.is_epic;o&&e(wU(s)),m6(v6.ISSUE_PAGE_ALL_CONTENT_LOADED),E6([I6.ISSUE_MODAL_ALL_CONTENT_LOADED],(e=>{let{name:t,duration:n}=e;return[t,{Time:n}]}))})),CU.apply(this,arguments)}function kU(e,t,n){return OU.apply(this,arguments)}function OU(){return OU=fU((function*(e,t,n){let s=PT.pickOrThrow(e,["issue_number","organization","repository","workspaceId"]);const{workspaceId:r}=s;t(bU(mn.loading));const i=Na(n()),o=i._id===r,a=yield o?ve().resolve(i):xy.getWorkspace({workspaceId:r}),l=ha.Q7(a,s.organization,s.repository);if(!l){const e=hn.repoRemoved;return t(IU(e)),t(bU(mn.error)),hn.genericError}s={...s,repo_id:l.repo_id,workspace:a};try{t(SU({issueNumber:s.issue_number,repoId:l.repo_id})),setTimeout(fU((function*(){TU(t,s,n)})),50);const e={issueNumber:s.issue_number,organization:s.organization,repository:s.repository};wT(e).then((e=>t(yU(e)))).catch((()=>t(yU({comments:[],timeline:[]}))));const r=yield yT(e);if(!r)throw new Error("Unable to load issueInfo");return nF(n())||(t(_U({issueInfo:r,repoId:l.repo_id,workspace:a})),t(bU(mn.loaded))),s}catch(e){let n=hn.genericError;return dT(s).catch((e=>{let{status:t}=e;301===t?n=hn.issueMoved:404===t?n=hn.notFound:410===t&&(dT(s),n=hn.issueDeleted)})).then((()=>(t(IU(n)),t(bU(mn.error)),n===hn.genericError&&oe("Cannot load issue ",e),n)))}})),OU.apply(this,arguments)}const NU=e=>(t,n)=>kU(e,t,n),PU=(0,hS.Z)(pr.issue.INIT_ISSUE_PAGE,(e=>function(){var t=fU((function*(t,n){const s=yield kU(e,t,n);if(En(s))return;const{organization:r,repository:i,repo_id:o}=s,a={organization:r,repo_id:o,repository:i};YD.subscribeToIssueChange(a,e.issue_number,t,n),EU({repo_id:o,issue_number:e.issue_number})}));return function(e,n){return t.apply(this,arguments)}}()));function AU(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const DU=(0,_r.PH)("CANCEL_EDIT_COMMENT"),LU=(0,_r.PH)("START_EDIT_COMMENT"),zU=(0,_r.PH)("UPDATE_COMMENT"),MU=(0,_r.hg)("EDIT_COMMENT",function(){var e,t=(e=function*(e){const{commentId:t,newBody:n,originalBody:s,repoId:r}=e;var i;return(yield(i={comment_id:t,repo_id:r},L2.Repo.getIssueComment(i))).body!==s?(alert("The content of the comment you are editing has changed since you last opened it. Please refresh the page and try your edit again."),null):function(e){return L2.Repo.editIssueComment(e)}({comment_id:t,body:n,repo_id:r})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){AU(i,s,r,o,a,"next",e)}function a(e){AU(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}());function xU(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function FU(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xU(i,s,r,o,a,"next",e)}function a(e){xU(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{issue:UU}=pr,BU=(0,hS.Z)(UU.ADD_COMMENT),qU=(0,hS.Z)(UU.CLEAR_DRAFT),HU=(0,hS.Z)(UU.CLEAR_DRAFT,(e=>rA(e))),WU=(0,hS.Z)(UU.CLEAR_ISSUE),jU=(0,hS.Z)(UU.INIT_DRAFT),GU=(0,hS.Z)(UU.LOAD_GH_EVENTS,vT),KU=(0,hS.Z)(UU.LOAD_IS_EPIC,(e=>CO(e).then(ee.vgT("is_epic")))),VU=(0,hS.Z)(UU.SET_CURRENT_RELEASES,yN.loadIssueReleases),$U=(0,hS.Z)(UU.LOAD_REPO_ESTIMATE_DATA,jy),ZU=(0,hS.Z)(UU.REMOVE_PRIORITY),YU=(0,hS.Z)(UU.SET_ACTIVE_PIPELINE),JU=(0,hS.Z)(UU.SET_ASSIGNEES),XU=(0,hS.Z)(UU.SET_CHILDREN_ISSUES),QU=(0,hS.Z)(UU.SET_DEFAULT_PR_PIPELINE),eB=(0,hS.Z)(UU.SET_EPIC_TO_ISSUE),tB=(0,hS.Z)(UU.SET_ESTIMATE),nB=(0,hS.Z)(UU.SET_INCOMPLETE_ISSUE_INFO),sB=(0,hS.Z)(UU.SET_IS_EPIC),rB=(0,hS.Z)(UU.SET_LOAD_ERROR),iB=(0,hS.Z)(UU.SET_LOAD_STATUS),oB=(0,hS.Z)(UU.SET_PRIORITY),aB=(0,hS.Z)(UU.SET_CURRENT_RELEASES),lB=(0,hS.Z)(UU.SET_IS_ISSUE_TEMPLATE_DIRTY),cB=(0,hS.Z)(UU.SET_ISSUE_TYPE),dB=(0,hS.Z)(UU.SET_ISSUE_WORKSPACE_AND_REPO_ID),uB=(0,hS.Z)(UU.SET_LABELS),pB=(0,hS.Z)(UU.SET_MILESTONE),mB=(0,hS.Z)(UU.SET_NEW_ISSUE_DATA),hB=(0,hS.Z)(UU.SET_NEW_ISSUE_MODE),EB=(0,hS.Z)(UU.SET_PARENT_EPICS),gB=(0,hS.Z)(UU.SET_PIPELINES),fB=(0,hS.Z)(UU.SET_PIPELINES_BY_WORKSPACE),_B=(0,hS.Z)(UU.SET_REPO_ID),vB=(0,hS.Z)(UU.SET_STATE),IB=(0,hS.Z)(UU.SET_ZH_ISSUE_ID),bB=(0,hS.Z)(UU.SIDEBAR_ADD_ASSIGNEE),yB=(0,hS.Z)(UU.SIDEBAR_ADD_EPIC),SB=(0,hS.Z)(UU.SIDEBAR_ADD_LABEL),wB=(0,hS.Z)(UU.SIDEBAR_ADD_RELEASE),RB=(0,hS.Z)(UU.SIDEBAR_ADD_SPRINT),TB=(0,hS.Z)(UU.SIDEBAR_CLEAR_ASSIGNEES),CB=(0,hS.Z)(UU.SIDEBAR_CLEAR_CHANGES),kB=(0,hS.Z)(UU.SIDEBAR_CLEAR_LABELS),OB=(0,hS.Z)(UU.SIDEBAR_REMOVE_ASSIGNEE),NB=(0,hS.Z)(UU.SIDEBAR_REMOVE_EPIC),PB=(0,hS.Z)(UU.SIDEBAR_REMOVE_FILTER_DEPENDENT_LABEL),AB=(0,hS.Z)(UU.SIDEBAR_REMOVE_LABEL),DB=(0,hS.Z)(UU.SIDEBAR_REMOVE_RELEASE),LB=(0,hS.Z)(UU.SIDEBAR_REMOVE_SPRINT),zB=(0,hS.Z)(UU.SIDEBAR_RESTORE_FILTER_DEPENDENT_LABELS),MB=(0,hS.Z)(UU.SIDEBAR_SET_ESTIMATE),xB=(0,hS.Z)(UU.SIDEBAR_SET_MILESTONE),FB=(0,hS.Z)(UU.SIDEBAR_SET_PIPELINE),UB=(0,hS.Z)(UU.SIDEBAR_SET_PRIORITY),BB=(0,hS.Z)(UU.TOGGLE_DROPDOWN),qB=(0,hS.Z)(UU.TOGGLE_SIDEBAR),HB=(0,hS.Z)(UU.TOGGLE_TEMPLATE_DROPDOWN),WB=(0,hS.Z)(UU.TRACK_CREATE_NEW_EPIC),jB=(0,hS.Z)(UU.TRACK_SUBMIT_NEW_ISSUE),GB=(0,hS.Z)(UU.TRACK_TEMPLATES_COUNT),KB=(0,hS.Z)(UU.UPDATE_DRAFT),VB=(0,hS.Z)(UU.UPDATE_ISSUE_GH_DATA),$B=(0,hS.Z)(UU.UPDATE_ISSUE_INFO),ZB=(0,hS.Z)(UU.UPDATE_ISSUE_ZH_DATA),YB=ee.Bxt(vB("closed")),JB=ee.Bxt(vB("open")),XB=lR(UU.SIDEBAR_DELETE_ESTIMATE,tU,nU($U),sU(DF)),QB=(0,hS.Z)(UU.CHANGE_ISSUE_TYPE,(e=>t=>{U&&t((0,iR.gx)({search:`issueType=${e.issueType}`})),t(cB(e))})),eq=function(){var e=FU((function*(e){return(yield Sy({repoId:e})).map((e=>ha.DS(e))).map((e=>({workspace:ee.anz("pipelines",e),pipelines:e.pipelines.map((e=>({_id:e.id,name:e.name,isDefaultPRPipeline:e.isDefaultPRPipeline})))})))}));return function(t){return e.apply(this,arguments)}}(),tq=e=>function(){var t=FU((function*(t){const n=yield eq(e.repo_id);t(fB(n))}));return function(e){return t.apply(this,arguments)}}(),nq=e=>function(){var t=FU((function*(t){const n=yield bT(e);t(fB(n))}));return function(e){return t.apply(this,arguments)}}(),sq=e=>t=>{const{defaultRepo:n,issueType:s,workspace:r,isAltClick:i}=e,o=oA(r._id),a=_a(o);let l;l=a||{organization:n.owner.login,repository:n.name,repo_id:n.ghId},t(eH({issueType:s,inNewTab:i,repo:l,workspace:r}))},rq=(0,hS.Z)(UU.LOAD_ZH_EVENTS,(e=>ve().props({zhEvents:pT(e),releaseEvents:uT(e)}))),iq=e=>{let{workspaceId:t,pipelineId:n}=e;return function(){var e=FU((function*(e){try{yield(s={input:{pipelineId:n,workspaceId:t}},Ly(s))}catch(e){throw oe("Update default PR Pipeline failed: ",e),window.alert("Something went wrong - please refresh the page"),e}var s;e(QU({workspaceId:t,pipelineId:n}))}));return function(t){return e.apply(this,arguments)}}()},oq=(0,hS.Z)(UU.SET_ISSUE_ESTIMATE_DATA),aq=(0,hS.Z)(UU.LOAD_ISSUE_ESTIMATE_DATA,(e=>function(){var t=FU((function*(t){const{onSuccess:n,...s}=e;try{const e=yield Qy(s);t(oq(e)),n&&n()}catch(n){_F(),t(NU(e))}}));return function(e){return t.apply(this,arguments)}}())),lq=(0,hS.Z)(UU.CONVERT_ISSUE_TO_EPIC,(e=>t=>RO({...e,workspaceId:e.workspace._id}).then((()=>{t(sB(!0)),t(wU(e))})))),cq=(0,hS.Z)(UU.CONVERT_EPIC_TO_ISSUE,(e=>t=>{window.confirm(`Are you sure you want to convert the epic ${e.issueTitle} to an issue?`)&&TO(e).then((()=>{t(eB())}))})),dq=lR(UU.SIDEBAR_APPLY_LABELS,NN,$F(uB,GU,NU)),uq=lR(UU.SIDEBAR_APPLY_ASSIGNEES,AN,ZF(JU,GU,NU)),pq=(0,hS.Z)(UU.SET_ASSIGNEE_SELF,(e=>t=>XC(e).then((e=>{t(JU(e.assignees))})).catch((()=>{t(NU(e))})))),mq=lR(UU.SIDEBAR_APPLY_MILESTONE,(function(e){return kk(e)}),YF(pB,GU),JF(NU)),hq=lR(UU.SIDEBAR_APPLY_EPIC,BN,oU(EB,NU)),Eq=lR(UU.SIDEBAR_APPLY_PIPELINE,XF,QF(YU,JB,rq),eU(NU)),gq=e=>function(){var t=FU((function*(t){const{onSuccess:n,...s}=e;try{const{estimate:e}=yield Ky(s);t(tB(e)),n&&n()}catch(e){_F(),t(NU(s))}}));return function(e){return t.apply(this,arguments)}}(),fq=e=>function(){var t=FU((function*(t){const{onSuccess:n,...s}=e;try{yield function(e){return os.Repo.clearIssueEstimate(e)}(s),t(tB(null)),n&&n()}catch(e){_F(),t(NU(s))}}));return function(e){return t.apply(this,arguments)}}(),_q=lR(UU.SIDEBAR_DELETE_ESTIMATE,tU,nU(aq),sU(NU)),vq=e=>function(){var t=FU((function*(t){const{onSuccess:n,...s}=e;try{yield Gy(s),yield t($U(s)),t(MB({key:s.estimateId})),n&&n()}catch(e){_F(),t(NU(s))}}));return function(e){return t.apply(this,arguments)}}(),Iq=e=>function(){var t=FU((function*(t){const{onSuccess:n,...s}=e;try{const{estimate:e}=yield Gy(s).then((()=>Ky(s)));yield t($U(s)),t(tB(e)),n&&n()}catch(e){_F(),t(NU(s))}}));return function(e){return t.apply(this,arguments)}}(),bq=lR(UU.APPLY_RELEASES,GN,aU(VU,rq,NU)),yq=(0,hS.Z)(UU.CREATE_COMMENT,(e=>t=>{return vF(t),(n=e,mT(n).then((e=>({isSuccess:!0,comment:e}))).catch((()=>({isSuccess:!1})))).then(rU(BU,qU,NU,t,e)).then((n=>(t(DU({issueNumber:e.issue_number})),n))).finally((()=>{IF(t)}));var n})),Sq=(e,t)=>{if(L.Z.isUploadFileToLocal)return qF(t.repoId,e,t.file_name,t.file_size,t.file_mime,t.issue_id);const n=function(e){return os.File.createPolicy(e)}(t),s=n.then((t=>xF(e,t)));return ve().join(n,s,(e=>{const n=function(e,t){return e?t.downloadUrl:(n=L.Z.webappURL,s=t.fileKey,`${n}/files/${s}/download`);var n,s}(BF(t.file_mime),e);return n}))},wq=(0,hS.Z)(UU.UPLOAD_FILE,((e,t)=>n=>{const s=`[Uploading... ${t.file_name}]`,r=t.draftKey,i={commentId:t.commentId,issueNumber:t.issue_id,stamp:s,key:r,caretIndex:t.caretIndex};return t.updateCaret&&t.updateCaret(s.length),n((0,hS.Z)(UU.UPLOAD_FILE_STAMP)(i)),Sq(e,t).then((e=>{const i=((e,t,n,s,r)=>{const i=FF(t);return{stamp:s,key:r,link:UF(t)?e:`${i?"!":""}[${i?n:e}](${e})`}})(e,t.file_mime,t.file_name,s,r);i.commentId=t.commentId,i.issueNumber=t.issue_id,t.updateCaret&&t.updateCaret(i.link.length-i.stamp.length),n((0,hS.Z)(UU.UPLOAD_FILE_SUCCESS)(i))})).catch((e=>{const i={commentId:t.commentId,issueNumber:t.issue_id,stamp:s,key:r};n((0,hS.Z)(UU.UPLOAD_FILE_ERROR)(i));let o="An error happened while uploading the file, please try again.";413===e.status?o="This file is too big to be uploaded. Please try again with a smaller file.":!function(e){const t=e?.responseJSON?.message;return!!t&&/file_mime/.test(t)}(e)?oe(o,e):o="This filetype is not supported. Please contact support if you have any question.",window.alert(o)}))})),Rq=(0,hS.Z)(UU.TOGGLE_STATE,(e=>t=>{t(oF(!0));("open"===e.currentState?hT(e):ET(e)).then((e=>{e.state&&t(vB(e.state))})).catch((()=>{t(NU(e))})).finally((()=>{t(oF(!1))}))})),Tq=(0,hS.Z)(UU.CREATE_COMMENT,(e=>t=>(vF(t),function(e){const t=[];return"open"===e.state?t.push(hT(e)):t.push(ET(e)),ee.xbD(e.body)||t.push(mT(e)),ve().all(t).then((e=>{const t=e[0];let n;return 2===e.length&&(n=e[1]),{isSuccess:!0,comment:n,issue:t}})).catch((()=>({isSuccess:!1})))}(e).then(iU(BU,qU,vB,GU,NU,t,e)).then((n=>(t(DU({issueNumber:e.issue_number})),n))).finally((()=>{IF(t)}))))),Cq=(0,hS.Z)(UU.DELETE_COMMENT,(e=>t=>(vF(t),function(e){return L2.Repo.deleteIssueComment(e)}(e).then((()=>{t((0,hS.Z)(UU.DELETE_COMMENT_SUCCESS)(e.comment_id))})).catch((n=>{oe("error deleting comment",n),_F(),t(NU(e))})).finally((()=>{IF(t)})))));function kq(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Oq=e=>function(){var t,n=(t=function*(t){const{onSuccess:n,...s}=e;try{yield(r=s,RT(r)),t(oB(s)),n&&n()}catch(e){_F(),t(NU(s))}var r},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){kq(i,s,r,o,a,"next",e)}function a(e){kq(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),{issue:Nq}=pr,Pq=(0,hS.Z)(Nq.UPDATE_ISSUE,(e=>t=>(vF(t),fT(e).then((n=>(""===e.currentBody?null:e.currentBody)!==(n.body||null)||n.title!==e.currentTitle?(t(NU(e)),alert("The content you are editing has changed. Please try again.")):function(e){return L2.Issue.updateIssue(e)}(e).then((n=>{t(qU(e.issuePath)),t(qU(sA(e.issuePath))),t($B(n)),t(GU(e))})))).catch((()=>{t(NU(e))})).finally((()=>{IF(t)}))))),Aq=Pq;function Dq(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Lq(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Dq(i,s,r,o,a,"next",e)}function a(e){Dq(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{router:zq}=pr,Mq=e=>(0,iR.VF)({pathname:e.path,search:e.search,state:e.state}),xq=e=>(window.open(e,"_blank"),{type:zq.OPEN_IN_NEW_TAB,payload:e}),Fq=e=>(0,iR.VF)(e),Uq=()=>{const e=ma.getLoginPath();return(0,iR.VF)({pathname:e,search:""})},Bq=()=>{const e=ma.getLogoutPath();return(0,iR.VF)({pathname:e,search:""})},qq=e=>{const t=ma.getSettingsOrgPath(e);return xq(t)},Hq=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const t=L.Z.githubURL+ma.DANGEROUSLYGetExtensionRepoPathWithTokens(e);return window.location=t,null}const n=ma.getRepoPath(e);return(0,iR.VF)({pathname:n,search:e.search,state:e.state})},Wq=e=>{const t=ma.getBoardPath(e);return(0,iR.VF)({pathname:t,search:e.search,state:e.state})},jq=e=>{const t=ma.getRoadmapPath(e);return(0,iR.VF)({pathname:t,search:e.search,state:e.state})},Gq=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(F){const t=ha.bl(e),n=ma.getWorkspacePath(e),s=`#${ee.CwT(1,n)}`,r=ma.appendRepoPathToPath({organization:t.organization,repository:t.repository,hashPath:s});window.location=r}else if(t){const t=L.Z.githubURL+ma.DANGEROUSLYGetWorkspacePathWithRepoWithTokens(e);window.location=t}else n((0,iR.VF)({pathname:ma.getWorkspacePath(e)}))}},Kq=function(){var e=Lq((function*(e){const t=ma.getProjectPath(e);return(0,iR.VF)({pathname:t,state:{...e}})}));return function(t){return e.apply(this,arguments)}}(),Vq=function(){var e=Lq((function*(e){return(0,iR.VF)({pathname:ma.getPlatformEpicPath(e),state:{...e}})}));return function(t){return e.apply(this,arguments)}}(),$q=function(){var e=Lq((function*(e){const t=ma.getPlatformEpicPath(e);return xq(t)}));return function(t){return e.apply(this,arguments)}}(),Zq=function(){var e=Lq((function*(e){const t=yield ma.findClosestWorkspaceWithRepo(e),n={...e,workspace:t},s=ma.getIssuePath(n);return(0,iR.VF)({pathname:s,search:e.search,state:e.state})}));return function(t){return e.apply(this,arguments)}}(),Yq=e=>{const t=ma.getNewIssuePath(e);return(0,iR.VF)({pathname:t,search:e.search,state:e.state})},Jq=function(){var e=Lq((function*(e){const t=yield ma.findClosestWorkspaceWithRepo(e),n={...e,workspace:t},s=ma.getIssuePath(n);return xq(s)}));return function(t){return e.apply(this,arguments)}}(),Xq=e=>{const t=ma.getNewIssuePath(e),n=e.search??"";return xq(t+n)},Qq=e=>{let{inNewTab:t,repo:n,workspace:s,issueType:r}=e;return e=>{const i={organization:n.organization,repository:n.repository,workspace:s,search:`?issueType=${r}`};t?Xq(i):e(Yq(i))}},eH=e=>{let{inNewTab:t,repo:n,issueType:s,workspace:r}=e;return e=>{e(cB({issueType:s})),e(F?(e=>{let{repo:t,inNewTab:n}=e;return e=>{const s=ma.getRepoNewIssuePath(t);if(n)return void window.open(s,"_blank");const r=`New issue \xb7 ${t.organization}/${t.repository}`;e(tx(t)),zx.pushAsyncUrl(s,r)}})({issueType:s,inNewTab:t,repo:n,workspace:r}):Qq({issueType:s,inNewTab:t,repo:n,workspace:r}))}},tH=(0,hS.Z)(zq.MODAL_RESTORE_URL,(e=>(t,n)=>{e.skipModalRestoreUrlSelector(n())?t(e.resetSkipModalRestoreUrlAction):t(Mq(e))})),nH=e=>{const t=ma.getSettingsManagePath(e);return(0,iR.VF)({pathname:t,search:e.search,state:e.state})},sH=e=>{const t=ma.getSettingsManageCheckoutPath(e);return(0,iR.VF)({pathname:t,search:e.search,state:e.state})},rH=(0,_r.PH)("USER_SET_USER_INFO"),iH=(0,_r.PH)("USER_SET_ERROR"),oH=(0,_r.PH)("USER_SET_ZH_USER_INFO"),aH=(0,_r.PH)("USER_SET_USER_TYPE"),lH=(0,_r.PH)("ZHORG_SET_INFO");function cH(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function dH(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){cH(i,s,r,o,a,"next",e)}function a(e){cH(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{dashboard:uH}=pr,pH="There was a problem processing your request.\nPlease try again or contact support.",mH=e=>{let t=ee.ETc(["responseText"],e);t=t||ee.ETc(["responseJSON","message"],e);return t&&t.indexOf("You cannot use a Stripe token more than once")>-1};function hH(e){oe(`Error: "You cannot use a Stripe token more than once" happened in ${e}`)}const EH=(0,hS.Z)(uH.ADD_WEBHOOK_PENDING),gH=(0,hS.Z)(uH.UPDATE_REPOS_AND_WEBHOOKS),fH=(0,hS.Z)(uH.ADD_PENDING_USERS),_H=(0,hS.Z)(uH.REMOVE_PENDING_USER),vH=(0,hS.Z)(uH.SET_PENDING_USERS),IH=(0,hS.Z)(uH.PROCESS_PAYMENT),bH=(0,hS.Z)(uH.RESET_REPOS_AND_WEBHOOKS),yH=(0,hS.Z)(uH.SELECT_ORGANIZATION),SH=(0,hS.Z)(uH.SET_ADDITIONAL_LICENSES),wH=(0,hS.Z)(uH.SET_IS_SELECTED_PLAN_INTERVAL_YEAR),RH=(0,hS.Z)(uH.SET_BILLING_ERROR),TH=(0,hS.Z)(uH.SET_BILLING_PLAN),CH=(0,hS.Z)(uH.SET_BILLING_REFERRAL),kH=(0,hS.Z)(uH.SET_DASHBOARD_ACCOUNT),OH=(0,hS.Z)(uH.SET_ORG_LOADING_ERROR),NH=(0,hS.Z)(uH.SET_CHECKOUT_ERROR),PH=(0,hS.Z)(uH.SET_CHECKOUT_TYPE),AH=(0,hS.Z)(uH.SET_PAYMENT_PROCESSING_STATE),DH=(0,hS.Z)(uH.SET_CHECKOUT_SUCCESS_MSG),LH=(0,hS.Z)(uH.SET_DASHBOARD_INVOICES),zH=(0,hS.Z)(uH.SET_INTEGRATION_ERROR),MH=(0,hS.Z)(uH.SET_REPO_FOR_SLACK),xH=(0,hS.Z)(uH.SET_REPOS_AND_WEBHOOKS),FH=(0,hS.Z)(uH.SET_USERS),UH=(0,hS.Z)(uH.RESET_BILLING),BH=(0,hS.Z)(uH.CLEAN_CHECKOUT_STATE),qH=(0,hS.Z)(uH.CLEAR_INVOICES),HH=(0,hS.Z)(uH.TRACK_DELETE_PROFILE),WH=(0,hS.Z)(uH.TRACK_DELETE_PROFILE_CONFIRM),jH=(0,hS.Z)(uH.TRACK_ADD_LICENSES),GH=(0,hS.Z)(uH.TRACK_REMOVE_LICENSES),KH=(0,hS.Z)(uH.TRACK_UPGRADE_TO_ANNUAL),VH=(0,hS.Z)(uH.LOAD_REPOS_AND_WEBHOOKS,(e=>t=>{var n;(n={organization:e},os.Org.getReposAndWebhooks(n)).then((e=>{t(xH(e))}))})),$H=e=>t=>{t(EH(!0)),function(e){return os.Org.addWebhook(e)}(e).then((e=>{if(e.error){const t=e.message?.toLowerCase();if(t?.includes("duplicate"))throw new Error("duplicate key");if(t?.includes("no 'push' access for this repo"))throw new Error("no push access");throw new Error("unknown error")}t(gH(e))})).catch((n=>{oe("Error while adding webhook: ",n);t(zH({addWebhookError:n?.responseJSON?.message||n?.message||"Webhook could not be created."})),t(VH(e.org))})).finally((()=>{t(EH(!1))}))},ZH=(0,hS.Z)(uH.ADD_WEBHOOK_OAUTH,(e=>t=>{(function(e){return os.Org.addWebhookOAuth(e)})(e).then((e=>{"string"==typeof e&&(window.location.href=e)})).catch((e=>{const n=e.responseJSON.message;if(400===e.status&&"Cannot find repository"===n){t(zH({addToSlackError:"Board not initialized"}))}}))})),YH=(0,hS.Z)("ActionTypes.OPEN_MANAGE_CHECKOUT",(e=>t=>{t(sH({organization:e.organization}))})),JH=(0,hS.Z)("ActionTypes.OPEN_MANAGE_WITHOUT_CHECKOUT",(e=>t=>{t(nH({organization:e.organization}))})),XH=(0,hS.Z)("ActionTypes.BILLING_HIDE",(()=>e=>{e((0,iR.Hm)())})),QH=(0,hS.Z)("ActionTypes.BILLING_SHOW",(e=>t=>{const n=ee.eiS(["additionalLicenses","licenseCount","licensePrice","pendingUserIds","price","renewalDate","yearly"],e);t(UH(n)),t(TH(n)),t((0,iR.VF)(ma.getBillingPath({organization:e.gh_name})))})),eW=(0,hS.Z)("ActionTypes.BILLING_SHOW_UPDATE_CREDIT_CARD",(e=>t=>{const n=ee.qCK(ee.TSy({isCreditCardUpdate:!0}),ee.eiS(["renewalDate","yearly"]))(e);t(UH(n)),t(TH(n)),t((0,iR.VF)(ma.getBillingPath({organization:e.gh_name})))})),tW=(0,hS.Z)(uH.LOAD_USERS,(e=>t=>{const n=ly().query({query:gx,variables:{ghId:e.id},fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),s=uS({org_id:e.id});return ve().props({zhUsersData:n,ghUsersData:s}).then((e=>{let{zhUsersData:n,ghUsersData:s}=e;const r=s.users||[],i=n?.data?.ownerByGhId?.zenhubOrganization?.zenhubUsers?.nodes||[],o=r.map((e=>e?.github?.id)),a=i.filter((e=>!o.includes(e?.githubUser?.ghId))),l={meta:s.meta,users:[...a,...r]};if(a.length){const{id:e,name:s}=n.data.ownerByGhId.zenhubOrganization;t(lH({id:e,name:s}))}t(FH(l))}))}));function nW(e,t,n,s,r){return(0===n.length?ve().resolve():pS({gh_org_id:e,userIds:ee.jge("user_id",n)}).catch((e=>{oe("handlePaymentSuccess seat users failed",e),window.alert("Some users could not automatically get a license after payment. Please do it manually in the Manage Plan tab.")}))).then((()=>r(uW(e)))).then((()=>{r(JH({organization:t})),r(UH()),r(BH()),r(DH(s))}))}const sW=(0,hS.Z)("ActionTypes.BUY_ADD_LICENSES",(e=>t=>(t(IH()),hR(e).catch((e=>{if(mH(e))return void hH("BUY_ADD_LICENSES");const n=ee.ETc(["responseJSON","message"],e)||pH;throw t(NH(n)),e})).then((()=>(e.isUpgrading&&t(KH(e)),t(jH(e)),nW(e.gh_org_id,e.gh_name,e.pendingUsers,e.successMsg,t)))).finally((()=>{t(AH(!1))}))))),rW=(0,hS.Z)("ActionTypes.BUY_UPGRADE_TO_ANNUAL",(e=>t=>(t(IH()),hR(e).catch((e=>{if(mH(e))return void hH("BUY_UPGRADE_TO_ANNUAL");const n=ee.ETc(["responseJSON","message"],e)||pH;throw t(NH(n)),e})).then((()=>(t(KH(e)),nW(e.gh_org_id,e.gh_name,[],e.successMsg,t)))).finally((()=>{t(AH(!1))}))))),iW=(0,hS.Z)("ActionTypes.BUY_GROWTH",(e=>t=>(t(IH()),t(RH(null)),hR(e).catch((e=>{if(mH(e))return void hH("BUY_GROWTH");const n=ee.ETc(["responseJSON","message"],e)||pH;throw t(RH(n)),e})).then((()=>nW(e.gh_org_id,e.gh_name,e.pendingUsers,e.successMsg,t))).finally((()=>{t(AH(!1))}))))),oW=()=>function(){var e=dH((function*(e){e(WH()),yield x2(),localStorage.clear(),window.location.reload()}));return function(t){return e.apply(this,arguments)}}(),aW=(0,hS.Z)(uH.TRACK_CANCEL_SUBSCRIPTION),lW=(0,hS.Z)(uH.CANCEL_SUBSCRIPTION,(e=>t=>ve().all([fR(e),gR(e)]).catch((e=>{oe("cancelSubscription action",e),window.alert("Error when cancelling subscription. Contact support if the problem persists.")})).then((()=>t(aW(e)))))),cW=()=>function(){var e=dH((function*(e){const t=yield F2();e(rH(t))}));return function(t){return e.apply(this,arguments)}}(),dW=(0,hS.Z)(uH.LOAD_ACCOUNT,(e=>t=>{dS({org_id:e.id}).then((e=>{t(kH(e))}))})),uW=(0,hS.Z)("ActionTypes.LOAD_ACCOUNT_AND_USERS",(e=>t=>(t(tW({id:e})),dS({org_id:e}).then((e=>{const{organization:n}=e;s6({type:Y3,values:{org_id:n.gh_id,organization:n.gh_name}}),t(kH(e))})).catch((e=>{const n=e.message||e.responseText;throw t(OH(n)),e}))))),pW=(0,hS.Z)(uH.LOAD_INVOICES,(e=>t=>{var n;(n={gh_org_id:e.id},os.Account.getInvoices(n)).then((e=>{t(LH(e))}))})),mW=(0,hS.Z)(uH.LOAD_USER_REPOS_AND_WEBHOOKS,(()=>e=>{n3().then((t=>{e(xH(t))})).catch((e=>{oe("Can not get user webhooks",e),window.alert("An unexpected error occurred. Please refresh the page.")}))})),hW=(0,hS.Z)(uH.REMOVE_WEBHOOK,(e=>t=>{(function(e){return os.Org.removeWebhook(e)})(e).then((()=>{t(gH(e))})).catch((n=>{window.alert(n.responseJSON.message),t(VH(e.org))}))})),EW=(0,hS.Z)(uH.PROCESS_PAYMENT,(e=>t=>hR(e).catch((e=>{mH(e)?hH("PROCESS_PAYMENT - removeLicense"):(oe("removeLicense action",e),window.alert("Error when removing license. Contact support if the problem persists."))})).then((()=>{t(GH(e)),t(dW({id:e.gh_org_id}))})))),gW=(0,hS.Z)(uH.SET_REPO_FOR_SLACK_AND_CLEAR_ERROR,(e=>t=>{t(MH(e)),t(zH({addToSlackError:null}))})),fW=(0,hS.Z)(uH.UPDATE_BILLING_EMAIL,(e=>t=>function(e){return os.Account.updateBillingEmail(e)}(e).catch((e=>{oe("updateBillingEmail action",e),window.alert("Error when updating billing email. Contact support if the problem persists.")})).then((()=>{t(dW({id:e.gh_org_id}))})))),_W=(0,hS.Z)(uH.UPDATE_BILLING_INFO,(e=>t=>function(e){return os.Account.updateBillingInfo(e)}(e).catch((e=>{oe("updateBillingInfo action",e),window.alert("Error when updating billing information. Contact support if the problem persists.")})).then((()=>{t(dW({id:e.gh_org_id}))})))),vW=(0,hS.Z)("ActionTypes.UPDATE_BILLING_CARD_FROM_ACCOUNT_DETAILS",(e=>t=>ER(e).catch((e=>{mH(e)?hH("UPDATE_BILLING_CARD_FROM_ACCOUNT_DETAILS"):(oe("updateBillingCard action",e),window.alert("Error when updating billing card. Contact support if the problem persists."))})).then((()=>{t(dW({id:e.gh_org_id}))})))),IW=(0,hS.Z)("ActionTypes.UPDATE_BILLING_CARD_FROM_BILLING",(e=>t=>ER(e).catch((e=>{if(!mH(e))throw oe("updateBillingCard action",e),window.alert("Error when updating billing card. Contact support if the problem persists."),e;hH("UPDATE_BILLING_CARD_FROM_BILLING")})).then((()=>t(uW(e.gh_org_id)))).then((()=>{t(JH({organization:e.gh_name})),t(UH()),t(DH(e.successMsg))})))),bW=(0,hS.Z)("ActionTypes.OPEN_CHECKOUT_UPGRADE_TO_GROWTH_WITH_USERS",(e=>t=>{t(SH({count:ee.kE(e.users),licenseOffset:e.seatedUserCount}));const n=ee.d1t(ee.vgT("isSeated"),e.users);if(!e.isTrialing){const s=ee.jge("username",n);t(vH({licenseOffset:e.seatedUserCount,usernames:s}))}t(PH(Ex.GROWTH)),t(YH({organization:e.organization}))})),yW=(0,hS.Z)("ActionTypes.ASSIGN_MULTIPLE_USERS",(e=>t=>{const{hasPaidPlanNotCanceled:n,licensesLeft:s,org:r,seatedUserCount:i,users:o}=e,a=ee.d1t(ee.vgT("isSeated"),o),l=ee.lxF(s,a),c=ee.jge("user_id",l[0]),d=ee.jge("username",l[1]);return(0===c.length?ve().resolve():pS({gh_org_id:r.id,userIds:c})).then((()=>{e.allowPending&&(t(vH({usernames:d,licenseOffset:n?0:i})),d.length>0&&t(YH({organization:r.login})))})).then((()=>{t(uW(r.id))}))})),SW=(0,hS.Z)(uH.ASSIGN_LICENSE,(e=>t=>{const{hasPaidPlanNotCanceled:n,licensesLeft:s,org:r,seatedUserCount:i,user:o}=e;if(s<1){return t(fH({licenseOffset:n?0:i,usernames:[o.username]})),t(YH({organization:r.login})),ve().resolve()}return pS({gh_org_id:r.id,userIds:[o.user_id]}).catch((e=>{oe("assignLicense action",e),window.alert("Cannot assign a license to this user. Contact support if the problem persists.")})).finally((()=>{t(uW(r.id))}))})),wW=(0,hS.Z)(uH.UNASSIGN_LICENSE,(e=>t=>{const{hasPaidPlanNotCanceled:n,org:s,seatedUserCount:r,user:i}=e;if(i.pendingLicense){const e=n?0:r;return t(_H({username:i.username,licenseOffset:e}))}return(o={org_id:s.id,user_id:i.user_id},os.Org.unseatUser(o)).catch((e=>{oe("unassignLicense action",e),window.alert("Cannot unassign this license. Contact support if the problem persists.")})).finally((()=>{t(uW(s.id))}));var o})),RW=(0,hS.Z)(uH.MAKE_ADMIN,(e=>t=>{const{org:n,user:s}=e;return(r={org_id:n.id,user_id:s.user_id},os.Org.setAdmin(r)).catch((e=>{oe("makeAdmin action",e),window.alert("Cannot make this user admin. Contact support if the problem persists.")})).finally((()=>{t(uW(n.id))}));var r})),TW=(0,hS.Z)(uH.REMOVE_ADMIN,(e=>t=>{const{org:n,user:s}=e;return(r={org_id:n.id,user_id:s.user_id},os.Org.removeAdmin(r)).catch((e=>{oe("removeAdmin action",e),window.alert("Cannot remove this admin. Contact support if the problem persists.")})).finally((()=>{t(uW(n.id))}));var r})),CW=(0,hS.Z)(uH.GET_REFERRAL_CODE,(e=>t=>(t(CH(null)),e.code?function(e){return os.Account.getReferralCode(e)}(e).then((e=>{if(!e.valid)throw new Error("Invalid referral code");t(RH(null)),t(CH(e))})).catch((e=>{const n=ee.ETc(["responseJSON","message"],e)||e;t(RH(n))})):(t(RH(null)),null)))),kW="pending-zh-invites";function OW(){const e=localStorage.getItem(kW);return JSON.parse(e)||[]}function NW(e){const t=JSON.stringify(e);localStorage.setItem(kW,t)}const{invites:PW}=pr;function AW(e){return t={repo_id:e},os.Repo.getAssignedUsersByRepoId(t);var t}const DW=ee.qCK(ee.VO0,ee.Jnq,ee.UID(ee.HK3(ee.vgT("login")))),LW={openInviteModal:(0,hS.Z)(PW.OPEN_INVITE_MODAL),closeInviteModal:(0,hS.Z)(PW.CLOSE_INVITE_MODAL),trackInvitesSent:(0,hS.Z)(PW.TRACK_INVITES_SENT),sendInvites:(0,hS.Z)(PW.SEND_INVITES,(e=>function(t){J2(e).then((()=>{t(LW.closeInviteModal()),t(LW.trackInvitesSent(e)),e.sendInvitesComplete&&e.sendInvitesComplete(e.emails)})).catch((()=>{t(LW.closeInviteModal())}))})),fetchUsers:(0,hS.Z)(PW.FETCH_USERS,(e=>t=>{ve().all(ee.UID(AW,e.repoIds)).then((n=>cS().then((s=>{const r=OW(),i=DW(n),o=function(e,t){const n=ee.OH4("gh_name",t);return ee.qCK(ee.Uth(null,"gh_id"),ee.sEJ(n))(e)}(s.orgs,e.orgName);return ee.kKJ(o)?(t(LW.updateUsers({pendingInvites:r,assignedUsers:i,existingMembers:[]})),null):uS({org_id:o}).then((e=>{const n={pendingInvites:r,assignedUsers:i,existingMembers:e.users};t(LW.updateUsers(n))}))}))))})),updateUsers:(0,hS.Z)(PW.UPDATE_USERS),addPendingInvite:(0,hS.Z)(PW.ADD_PENDING_INVITE),removePendingInvite:(0,hS.Z)(PW.REMOVE_PENDING_INVITE),updatePendingInvite:(0,hS.Z)(PW.UPDATE_PENDING_INVITE),resendInvite:(0,hS.Z)(PW.RESEND_INVITE,(e=>function(t){J2(e).then((()=>{t(LW.updatePendingInvite(e))})).catch((()=>{t(LW.updatePendingInvite(e))}))})),trackLinkCopied:(0,hS.Z)(PW.TRACK_LINK_COPIED),trackUserTypedEmailAdded:(0,hS.Z)(PW.TRACK_USER_TYPED_EMAIL_ADDED),trackSuggestedUserAdded:(0,hS.Z)(PW.TRACK_SUGGESTED_USER_ADDED),trackUserPasteEmailAdded:(0,hS.Z)(PW.TRACK_USER_PASTE_EMAIL_ADDED)},zW=LW,MW="BLOCKED",xW="BLOCKING",FW="CLOSED",UW="NO_DEPENDENCIES",BW="READY",qW="BLOCKED",HW="BLOCKING";function WW(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function jW(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){WW(i,s,r,o,a,"next",e)}function a(e){WW(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{issueDependencies:GW}=pr,KW=(e,t)=>e===qW?{from:t.dependentIssue,to:t.mainIssue,repo_id:t.mainIssue.repo_id}:e===HW?{from:t.mainIssue,to:t.dependentIssue,repo_id:t.mainIssue.repo_id}:null,VW={openAddDependencyForm:(0,hS.Z)(GW.OPEN_ADD_DEPENDENCY_FORM),closeAddDependencyForm:(0,hS.Z)(GW.CLOSE_ADD_DEPENDENCY_FORM),setIssueDependencies:(0,hS.Z)(GW.SET_ISSUE_DEPENDENCIES),fetchIssueDependencies:e=>function(){var t=jW((function*(t){const n=yield Zy(e);t(VW.setIssueDependencies(n))}));return function(e){return t.apply(this,arguments)}}(),fetchIssues:e=>function(){var t=jW((function*(t){const n=yield Jy({repo_ids:e.repos.map((e=>e.repo_id)),workspace:e,pipelines:!0,pull_request_data:!0}),s=n.reduce(((e,t)=>{let{issues:n}=t;return e.concat(n.filter(Zt))}),[]);t(VW.setWorkspaceIssues(s))}));return function(e){return t.apply(this,arguments)}}(),setWorkspaceIssues:(0,hS.Z)(GW.SET_WORKSPACE_ISSUES),trackAddDependencyBlockedBy:(0,hS.Z)(GW.TRACK_ADD_DEPENDENCY_BLOCKED_BY),trackAddDependencyBlocking:(0,hS.Z)(GW.TRACK_ADD_DEPENDENCY_BLOCKING),trackRemoveDependencyBlockedBy:(0,hS.Z)(GW.TRACK_REMOVE_DEPENDENCY_BLOCKED_BY),trackRemoveDependencyBlocking:(0,hS.Z)(GW.TRACK_REMOVE_DEPENDENCY_BLOCKING),addDependencyBlockedByIssue:(0,hS.Z)(GW.ADD_DEPENDENCY_BLOCKED_BY,(e=>function(){var t=jW((function*(t){const n=KW(qW,e);try{yield Vy(n),t(VW.trackAddDependencyBlockedBy()),t(VW.closeAddDependencyForm()),t(VW.fetchIssueDependencies({...e.mainIssue,workspaceId:e.workspaceId})),e.fetchZhEvents(e.mainIssue)}catch(n){oe("error adding dependency",n),t(VW.errorAddDependency(e))}}));return function(e){return t.apply(this,arguments)}}())),addDependencyBlockingIssue:(0,hS.Z)(GW.ADD_DEPENDENCY_BLOCKING,(e=>function(){var t=jW((function*(t){const n=KW(HW,e);try{yield Vy(n),t(VW.trackAddDependencyBlocking()),t(VW.closeAddDependencyForm()),t(VW.fetchIssueDependencies({...e.mainIssue,workspaceId:e.workspaceId})),e.fetchZhEvents(e.mainIssue)}catch(n){oe("error adding dependency",n),t(VW.errorAddDependency(e))}}));return function(e){return t.apply(this,arguments)}}())),errorAddDependency:(0,hS.Z)(GW.ERROR_ADD_DEPENDENCY),removeDependencyBlockedBy:(0,hS.Z)(GW.REMOVE_DEPENDENCY_BLOCKED_BY,(e=>t=>{$y(ee.TSy(e.mainIssue,{from:e.dependentIssue,to:e.mainIssue})).then((()=>{t(VW.trackRemoveDependencyBlockedBy()),t(VW.fetchIssueDependencies({...e.mainIssue,workspaceId:e.workspaceId})),e.fetchZhEvents(e.mainIssue)}))})),removeDependencyBlocking:(0,hS.Z)(GW.REMOVE_DEPENDENCY_BLOCKING,(e=>t=>{$y(ee.TSy(e.mainIssue,{from:e.mainIssue,to:e.dependentIssue})).then((()=>{t(VW.trackRemoveDependencyBlocking()),t(VW.fetchIssueDependencies({...e.mainIssue,workspaceId:e.workspaceId})),e.fetchZhEvents(e.mainIssue)}))}))},$W=VW,ZW=ee.CyQ(ee.kKJ),YW=ee.WAo(((e,t)=>ee.TSy(t,{repo_id:t.repo_id||e,organization:t.organization||Xl(t.html_url),repository:t.repository||Ql(t.html_url),milestoneKey:Vl(t),milestone_number:t.number}))),JW=function(e){return ee.u4g(((t,n)=>{const s=Vt.Z.parseInt10(n),r=e[s];return t.concat(function(e,t){return ee.UID(YW(e),t)}(s,r))}),[],ee.XPQ(e))},XW=function(e){const t=ee.sEJ((e=>ZW(e.start_date)),e);return ee.kKJ(t)?null:t.start_date},QW=function(e){const t=ee.MRu(ee.vgT("repo_id"),e),n=t[0],s=ee.qCK(ee.vgT("updated_at"),ee.YMb,ee.GYS,ee.MRu(ee.vgT("updated_at")))(e);return{title:n.title,description:n.description,state:n.state,start_date:XW(t),updated_at:s,due_on:n.due_on,milestones:e}},ej=function(e){const t=Yl(JW(e));return ee.UID(QW,t)};const{milestones:tj}=pr,nj={setOpenMilestones:(0,hS.Z)(tj.SET_OPEN_MILESTONES),trackEditMilestone:(0,hS.Z)(tj.TRACK_EDIT_MILESTONE),trackPageView:(0,hS.Z)(tj.TRACK_PAGE_VIEW),trackSeeMilestoneOnBoard:(0,hS.Z)(tj.TRACK_SEE_MILESTONE_ON_BOARD),setMilestoneClosed:(0,hS.Z)(tj.SET_MILESTONE_CLOSED),loadOpenMilestones:(0,hS.Z)(tj.LOAD_OPEN_MILESTONES,(e=>t=>{(function(e){return os.Milestone.getOpenMilestonesByWorkspace(e).then((e=>ej(e)))})(e).then((n=>{if(t(nj.setOpenMilestones(n)),e.trackAction){const e=ee.qCK(ee.kE,ee.VO0)(n);t(nj.trackPageView(e))}}))})),deleteMilestone:(0,hS.Z)(tj.DELETE_MILESTONE,(e=>t=>{window.confirm("Once you delete this Milestone you will not be able to see it again. Deleting this Milestone will not close or delete the issues in it.\n\nDeletions are final and cannot be undone!")&&(t({type:tj.DELETE_MILESTONE,payload:e}),function(e){const t=ee.UID(ee.eiS(["repo_id","milestone_number"]),e.milestones);return ve().map(t,Ak)}(e).catch((()=>{t(nj.loadOpenMilestones(e)),window.alert("An error occurred deleting the Milestone. Please check your permissions.")})))})),closeMilestone:(0,hS.Z)(tj.CLOSE_MILESTONE,(e=>t=>{window.confirm("Closing this Milestone will close all connected Milestones. Once closed, Milestones can only be re-opened individually via GitHub.")&&(t({type:tj.CLOSE_MILESTONE,payload:e}),function(e){const t=ee.UID(ee.eiS(["repo_id","milestone_number","title","description","due_on"]),e.milestones);return ve().map(t,Dk)}(e).then((()=>t(nj.setMilestoneClosed(e)))).catch((()=>{t(nj.loadOpenMilestones(e)),window.alert("An error occurred closing the Milestone. Please check your permissions.")})))}))},sj=nj,{milestoneBuilder:rj}=pr,ij=(0,hS.Z)(rj.LOAD_MILESTONES),oj=(0,hS.Z)(rj.CLEAR_MILESTONES),aj=(0,hS.Z)(rj.OPEN_CREATE_MILESTONE_FORM),lj=(0,hS.Z)(rj.OPEN_EDIT_MILESTONE_FORM),cj=(0,hS.Z)(rj.CLOSE_MILESTONE_FORM),dj=(0,hS.Z)(rj.TOGGLE_REPO_DROPDOWN),uj=(0,hS.Z)(rj.UPDATE_DRAFT_PROPERTIES),pj=(0,hS.Z)(rj.CLEAR_DRAFT_PROPERTIES),mj=(0,hS.Z)(rj.CREATE_MILESTONE),hj=(0,hS.Z)(rj.EDIT_MILESTONE,(e=>function(t){ve().map(e.milestones,(e=>ve().props({startDates:yN.setMilestoneStartDate(e),updatedMilestone:Pk(e)}).then((()=>e)).catch((t=>ee.yGi("error",ee.pMU("",["error","message"],t),e))))).then((n=>{e.onEditMilestoneComplete&&e.onEditMilestoneComplete.forEach((e=>e(n))),t(oj()),t(pj()),t(cj())}))})),Ej={loadMilestones:ij,clearMilestones:oj,openCreateMilestoneForm:aj,openEditMilestoneForm:lj,closeMilestoneForm:cj,toggleRepoDropdown:dj,updateDraftProperties:uj,clearDraftProperties:pj,createMilestone:function(e){return function(t){ve().map(e.milestones,(e=>Nk(e).then((t=>ee.yGi("repo_id",e.repo_id,t))).catch((()=>ee.yGi("error",!0,e))))).then((n=>{e.onCreateMilestoneComplete&&e.onCreateMilestoneComplete.forEach((e=>e(n))),t(mj()),t(cj())}))}},editMilestone:hj},gj=Ej;function fj(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function _j(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){fj(i,s,r,o,a,"next",e)}function a(e){fj(i,s,r,o,a,"throw",e)}o(void 0)}))}}const vj={},Ij=function(){var e=_j((function*(e){if(void 0!==vj[e])return vj[e];return(yield os.User.getUserSettings())?.onboarding?.[e]}));return function(t){return e.apply(this,arguments)}}(),bj=function(){var e=_j((function*(e,t){const n=yield W2(e,t);return vj[e]=t,n?.onboarding}));return function(t,n){return e.apply(this,arguments)}}(),{onboarding:yj}=pr,Sj=(0,hS.Z)(yj.SET_ONBOARDING_VALUE),wj=e=>(t,n)=>{const s=n().onboarding[e.key];e.value!==s&&(bj(e.key,e.value),t(Sj(e)))},Rj={plainSetOnboardingValue:Sj,loadOnboardingValues:(0,hS.Z)(yj.LOAD_ONBOARDING_VALUES),setOnboardingValue:wj,trackOnboardingPageView:(0,hS.Z)(yj.TRACK_ONBOARDING_PAGE_VIEW),trackOnboardingAction:(0,hS.Z)(yj.TRACK_ONBOARDING_ACTION),dismissOnboardingNotice:e=>wj({key:e,value:!0})},Tj=Rj;function Cj(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{release:kj}=pr;function Oj(e){return{organization:e.cached_repo_owner,repository:e.cached_repo_name}}const Nj=ee.sv4([ee.OH4("pull",!0),ee.OH4("push",!1),ee.OH4("admin",!1)]);function Pj(e){return ee.v_p("_",[e.cached_repo_owner||e.organization,e.cached_repo_name||e.repository])}function Aj(e){return(t=e,L2.Repo.getPermission(t)).then((t=>ee.TSy(e,{isReadOnly:Nj(t)})));var t}const Dj=ee.WAo(((e,t)=>{const n=Pj(t),s=ee.pMU(!1,[n,"isReadOnly"],e);return ee.yGi("isReadOnly",s,t)}));function Lj(e){const t=ee.qCK(ee.jj$,ee.UID(Oj))(e||[]);return ve().map(t,Aj).then((t=>{const n=ee.HK3(Pj,t);return ee.UID(Dj(n),e)}))}const zj={loadReleaseReports:e=>function(){var t,n=(t=function*(t){const n=yield yN.getReleaseReportForWorkspace(e.workspaceId);t(zj.setReleaseReports(n));const s=Lc(e.releaseId||e.release_id,n);ee.kKJ(s)||(t(zj.selectReleaseId(s)),t(zj.loadReleaseIssues(s)),t(zj.loadReleaseEvents(s)),t(zj.loadReleasePermissions(s)))},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){Cj(i,s,r,o,a,"next",e)}function a(e){Cj(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),setReleaseReports:(0,hS.Z)(kj.SET_RELEASES),loadReleasePermissions:(0,hS.Z)(kj.GET_RELEASE_PERMISSIONS,yN.getReleasePermissions),loadReleaseIssuesPlaceholder:(0,hS.Z)(kj.LOAD_RELEASE_ISSUES),loadReleaseIssues:(0,hS.Z)(kj.LOAD_RELEASE_ISSUES,(e=>(t,n)=>{const{_id:s}=ee.ETc(["pages","currentWorkspace"],n());return yN.loadReleaseIssues(Object.assign(e,{workspaceId:s})).then(Lj).then((e=>{t(zj.loadReleaseIssuesPlaceholder(e))}))})),loadReleaseEvents:(0,hS.Z)(kj.LOAD_RELEASE_EVENTS,yN.loadReleaseEvents),clearReleaseIssues:(0,hS.Z)(kj.CLEAR_RELEASE_ISSUES),clearReleaseEvents:(0,hS.Z)(kj.CLEAR_RELEASE_EVENTS),createRelease:(0,hS.Z)(kj.CREATE_RELEASE),updateRelease:(0,hS.Z)(kj.UPDATE_RELEASE),closeRelease:(0,hS.Z)(kj.CLOSE_RELEASE,yN.closeReleaseReport),reopenRelease:(0,hS.Z)(kj.REOPEN_RELEASE,yN.reopenReleaseReport),openReleasesDropdown:(0,hS.Z)(kj.OPEN_RELEASES_DROPDOWN),closeReleasesDropdown:(0,hS.Z)(kj.CLOSE_RELEASES_DROPDOWN),openLabelsDropdown:(0,hS.Z)(kj.OPEN_LABELS_DROPDOWN),closeLabelsDropdown:(0,hS.Z)(kj.CLOSE_LABELS_DROPDOWN),selectReleaseId:(0,hS.Z)(kj.SELECT_RELEASE_ID),switchActiveReleaseTab:(0,hS.Z)(kj.SWITCH_RELEASE_TAB),setLabelFilter:(0,hS.Z)(kj.SET_LABEL_FILTER),clearLabelFilter:(0,hS.Z)(kj.CLEAR_LABEL_FILTER),trackAddIssuesToRelease:(0,hS.Z)(kj.TRACK_ADD_ISSUES_TO_RELEASE),addIssuesToReleaseReport:(0,hS.Z)(kj.ADD_ISSUES_TO_RELEASE,(e=>function(t){return yN.addIssuesToReleaseReport(e).then((()=>{t(zj.loadReleaseIssues({release_id:e.release_id})),t(zj.loadReleaseEvents({release_id:e.release_id})),t(zj.trackAddIssuesToRelease())}))})),trackRemoveIssuesFromRelease:(0,hS.Z)(kj.TRACK_REMOVE_ISSUES_FROM_RELEASE),removeIssuesFromReleaseReport:(0,hS.Z)(kj.REMOVE_ISSUES_FROM_RELEASE,(e=>function(t){return yN.removeIssuesFromReleaseReport(e).then((()=>{t(zj.loadReleaseIssues({release_id:e.release_id})),t(zj.loadReleaseEvents({release_id:e.release_id})),t(zj.trackRemoveIssuesFromRelease())}))})),toggleShowPredictedEndDate:(0,hS.Z)(kj.TOGGLE_SHOW_PREDICTED_END_DATE),openEpicsDropdown:(0,hS.Z)(kj.OPEN_EPICS_DROPDOWN),closeEpicsDropdown:(0,hS.Z)(kj.CLOSE_EPICS_DROPDOWN),addEpicsFilter:(0,hS.Z)(kj.ADD_EPICS_FILTER),removeEpicsFilter:(0,hS.Z)(kj.REMOVE_EPICS_FILTER),clearEpicsFilter:(0,hS.Z)(kj.CLEAR_EPICS_FILTER)},Mj=zj,{releaseBuilder:xj}=pr,Fj=ee.F2w(ee.o5F("repoId")),Uj=ee.qCK(ee.UID(Wc),ee.vgT("repositories")),Bj={setDefaultWorkspace:(0,hS.Z)(xj.SET_DEFAULT_WORKSPACE,yN.setDefaultWorkspace),openCreateReleaseForm:(0,hS.Z)(xj.OPEN_CREATE_RELEASE_FORM,(e=>t=>{t(Bj.setDefaultWorkspace(e)),t(Bj.openLoadedCreateReleaseForm())})),openLoadedCreateReleaseForm:(0,hS.Z)(xj.OPEN_CREATE_RELEASE_FORM),openEditReleaseForm:(0,hS.Z)(xj.OPEN_EDIT_RELEASE_FORM,(e=>t=>{t(Bj.updateDraftProperties(e)),t(Bj.loadReleaseRepos(e)),t(Bj.openLoadedEditReleaseForm())})),openLoadedEditReleaseForm:(0,hS.Z)(xj.OPEN_EDIT_RELEASE_FORM),closeReleaseForm:(0,hS.Z)(xj.CLOSE_RELEASE_FORM),updateDraftProperties:(0,hS.Z)(xj.UPDATE_DRAFT_PROPERTIES),createRelease:(0,hS.Z)(xj.CREATE_RELEASE,(e=>t=>yN.createReleaseReport(e.release).then((n=>{e.onCreateReleaseSuccess&&e.onCreateReleaseSuccess({release_id:n.release_id,repo_id:e.release.repo_id}),t(Bj.closeReleaseForm())})).catch((n=>{e.onCreateReleaseFailure&&e.onCreateReleaseFailure(n),t(Bj.closeReleaseForm())})))),loadReleaseRepos:(0,hS.Z)(xj.LOAD_RELEASE_REPOS,(e=>t=>yN.getRelease(e).then((e=>{const n=Uj(e);t(Bj.setInitialRepos(n))})))),addReposToRelease:(0,hS.Z)(xj.ADD_REPOS_TO_RELEASE),removeRepoFromRelease:(0,hS.Z)(xj.REMOVE_REPO_FROM_RELEASE),toggleSelectedRepo:(0,hS.Z)(xj.TOGGLE_SELECTED_REPO),clearSelectedRepos:(0,hS.Z)(xj.CLEAR_SELECTED_REPOS),loadOrganizationRepos:(0,hS.Z)(xj.LOAD_ORGANIZATION_REPOS,yN.loadOrganizationRepos),setInitialRepos:(0,hS.Z)(xj.SET_INITIAL_REPOS),updateReleaseRepos:(0,hS.Z)(xj.UPDATE_RELEASE_REPOS,(e=>()=>{const{initialRepos:t,selectedRepos:n}=e,s=Fj(t,n),r=Fj(n,t);return yN.updateReleaseReport(e).then((t=>{const{release_id:n}=t;e.onEditReleaseSuccess&&e.onEditReleaseSuccess(t);const i=r.length?yN.addReposToReleaseReport({releaseId:n,repo_ids:r.map((e=>e.repoId))}):ve().resolve({}),o=(e,t)=>{if(t.length>0){const{repoId:n}=t.pop();return yN.removeRepoFromReleaseReport({releaseId:e,repoId:n}).then((()=>o(e,t)))}return ve().resolve()};return i.then((()=>o(n,s)))}))}))},qj=Bj,Hj=pr.board,Wj=pr.burndown,jj=pr.velocity,Gj=pr.release;const Kj=ee.WAo(((e,t)=>{if(ee.kKJ(t[e]))return t;const n=t[e],s=ee.cxD(ee.fS0("none"),n);if(s>=0){const r=ee.Vxg(s,Ul,n);return ee.yGi(e,r,t)}return t})),Vj=ee.zGw(Kj("milestones"),Kj("milestones:not"),Kj("milestones:settings")),$j=ee.WAo(((e,t)=>{if(ee.kKJ(t[e]))return t;const n=t[e],s=ee.cxD(ee.fS0("none"),n);if(s>=0){const r=ee.Vxg(s,oc,n);return ee.yGi(e,r,t)}return t})),Zj=ee.zGw($j("sprints")),Yj=ee.WAo(((e,t)=>{if(ee.kKJ(t[e]))return t;const n=t[e],s=ee.cxD(ee.fS0("none"),n);if(s>=0){const r=ee.Vxg(s,td,n);return ee.yGi(e,r,t)}return t})),Jj=ee.zGw(Yj("labels"),Yj("labels:not"),Yj("labels:settings"));const Xj=ee.zGw(ee.IDH((function(e){return ee.UID(decodeURIComponent,e.split(","))})),(function(e){return ee.kKJ(e.notFullScreen)?e:ee.qCK(ee.yGi("isFullScreen",!0),ee.anz("notFullScreen"))(e)}),Vj,(function(e){if(ee.kKJ(e.entity))return e;const t=ee.YMb(e.entity);return ee.yGi("entity",t,e)}),Jj,(function(e){if(ee.kKJ(e.repos))return e;const t=ee.UID(Vt.Z.parseInt10,e.repos);return ee.yGi("repos",t,e)}),(function(e){if(ee.kKJ(e.report))return e;const t=ee.YMb(e.report);return ee.yGi("report",t,e)}),(function(e){if(ee.kKJ(e.release))return e;const t=ee.ETc(["release",0],e);return ee.yGi("release_id",t,e)}),(function(e){return ee.kKJ(e.epic)?e:ee.yGi("epic",{repo_id:Vt.Z.parseInt10(e.epic[0]),issue_number:Vt.Z.parseInt10(e.epic[1])},e)}),(function(e){return ee.kKJ(e.selectedPipelines)?e:ee.yGi("selectedPipelines",e.selectedPipelines,e)}),Zj,(function(e){if(ee.kKJ(e.showPRs))return e;const t=!("false"===ee.YMb(e.showPRs));return ee.yGi("showPRs",t,e)})),Qj=ee.WAo(((e,t,n)=>({type:e,payload:{negated:t,filterKey:n}}))),eG=ee.WAo(((e,t)=>({type:e,payload:t}))),tG=ee.WAo(((e,t)=>{switch(t){case"assignees":return ee.UID(Qj(Hj.ADD_ASSIGNEE_FILTER,!1),e.assignees);case"assignees:not":return ee.UID(Qj(Hj.ADD_ASSIGNEE_FILTER,!0),e["assignees:not"]);case"assignees:settings":return ee.UID(Qj(Hj.ADD_ASSIGNEE_FILTER,!1),e["assignees:settings"]);case"authors":return ee.UID(Qj(Hj.ADD_AUTHOR_FILTER,!1),e.authors);case"authors:not":return ee.UID(Qj(Hj.ADD_AUTHOR_FILTER,!0),e["authors:not"]);case"epics":{const t=ee.UID((e=>({negated:!1,filterKey:e})),e.epics);return eG(Hj.ADD_EPIC_FILTERS,t)}case"epics:not":{const t=ee.UID((e=>({negated:!0,filterKey:e})),e["epics:not"]);return eG(Hj.ADD_EPIC_FILTERS,t)}case"epics:settings":{const t=ee.UID((e=>({negated:null,filterKey:e})),e["epics:settings"]);return eG(Hj.ADD_EPIC_FILTERS,t)}case"isFullScreen":return eG(Hj.SHOW_FULL_SCREEN,null);case"labels":return ee.UID(Qj(Hj.ADD_LABEL_FILTER,!1),e.labels);case"labels:not":return ee.UID(Qj(Hj.ADD_LABEL_FILTER,!0),e["labels:not"]);case"labels:settings":return ee.UID(Qj(Hj.ADD_LABEL_FILTER,!1),e["labels:settings"]);case"estimates":return ee.UID(Qj(Hj.ADD_ESTIMATE_FILTER,!1),e.estimates);case"estimates:not":return ee.UID(Qj(Hj.ADD_ESTIMATE_FILTER,!0),e["estimates:not"]);case"estimates:settings":return ee.UID(Qj(Hj.ADD_ESTIMATE_FILTER,!1),e["estimates:settings"]);case"milestones":return ee.UID(Qj(Hj.ADD_MILESTONE_FILTER,!1),e.milestones);case"milestones:not":return ee.UID(Qj(Hj.ADD_MILESTONE_FILTER,!0),e["milestones:not"]);case"milestones:settings":return ee.UID(Qj(Hj.ADD_MILESTONE_FILTER,!1),e["milestones:settings"]);case"sprints":return ee.UID(Qj(Hj.ADD_SPRINT_FILTER,!1),e.sprints);case"releases":return ee.UID(Qj(Hj.ADD_RELEASE_FILTER,!1),e.releases);case"releases:not":return ee.UID(Qj(Hj.ADD_RELEASE_FILTER,!0),e["releases:not"]);case"releases:settings":return ee.UID(Qj(Hj.ADD_RELEASE_FILTER,!1),e["releases:settings"]);case"repos":return ee.UID((e=>eG(Hj.ADD_REPO_FILTER,{filterKey:e})),e.repos);case"search":return eG(Hj.SET_SEARCH_FILTER,e.search);case"useDefaultFilterLogic":return eG(Hj.SET_USE_DEFAULT_FILTER,e.useDefaultFilterLogic);case"filterLogic":return eG(Hj.INIT_FILTER_LOGIC_FROM_URL,e.filterLogic);case"showClosed":return eG(Hj.HIDE_CLOSED_PIPELINE,null);case"showOpenIssues":return eG(Hj.HIDE_OPEN_ISSUES,null);case"showPRs":return eG(Hj.HIDE_PULL_REQUESTS,null);case"showLabels":return eG(Hj.HIDE_LABELS,null);case"showEstimates":return eG(Hj.HIDE_ESTIMATES,null);case"showMilestones":return eG(Hj.HIDE_MILESTONES,null);case"showEpics":return eG(Hj.HIDE_EPICS,null);case"showReleases":return eG(Hj.HIDE_RELEASES,null);case"showInsights":return eG(Hj.HIDE_INSIGHTS,null);case"showReviewers":return eG(Hj.HIDE_REVIEWERS,null);case"showDependencies":return eG(Hj.HIDE_DEPENDENCIES,null);case"showPipelineDescriptions":return eG(Hj.HIDE_PIPELINE_DESCRIPTIONS,null);case"dependencies":return eG(Hj.ADD_DEPENDENCIES_FILTER,ee.YMb(e.dependencies));default:return null}}));const nG=ee.yGi("id",ee.__,{selected:!1}),sG=eG(jj.TOGGLE_MILESTONE);const rG=ee.WAo(((e,t)=>{switch(e.report){case"control":case"cumulative":case"home":default:return null;case"burndown":return function(e,t){switch(t){case"entity":return[eG(Wj.SET_ENTITY,e.entity)];case"labels":return ee.UID(Qj(Wj.ADD_LABEL_FILTER,!1),ee.UID(ee.t$q,e.labels||[]));case"labels:not":return ee.UID(Qj(Wj.ADD_LABEL_FILTER,!0),ee.UID(ee.t$q,e["labels:not"]||[]));case"milestoneId":return ee.UID(Qj(Wj.SELECT_MILESTONE,!1),e.milestoneId);case"selectedPipelines":return ee.UID(Qj(Wj.ADD_BURN_PIPELINE,!1),e.selectedPipelines);case"showPRs":return eG(Wj.HIDE_PULL_REQUESTS,null);default:return null}}(e,t);case"velocity":return function(e,t){switch(t){case"labels":return ee.UID(Qj(jj.TOGGLE_LABEL,!1),ee.UID(ee.t$q,e.labels||[]));case"milestones:not":return ee.UID(ee.qCK(sG,nG),e["milestones:not"]);default:return null}}(e,t);case"release":return function(e,t){const n=ee.eiS(["release_id"]);switch(t){case"labels":return ee.UID(Qj(Gj.SET_LABEL_FILTER,!1),ee.UID(ee.t$q,e.labels||[]));case"release":return eG(Gj.SELECT_RELEASE_ID,n(e));default:return null}}(e,t)}})),iG=(e,t,n)=>ee.u4g(e,n,t),oG=(e,t)=>{ee.zGw(ee.xHg,ee.Ed_(e))(t)};function aG(e,t,n){const s=iI(e,t,n);return cI(s)}function lG(e){const t=Xj(e),n=ee.UID(rG(t),ee.XPQ(t));return ee.zGw(ee.xHg,ee.d1t(ee.kKJ))(n)}const cG=["release","milestoneId","entity","milestones:not","labels","labels:not","showPRs","selectedPipelines"];function dG(e,t){const{report:n}=e;const s=cG.reduce(((s,r)=>{const i=function(s){return!ee.kKJ(aG(n,t,s))&&Vt.Z.isNilOrEmpty(e[s])?aG(n,t,s):null}(r);return i?{...s,[r]:i}:s}),{report:n});return lG(s)}function uG(e,t){const n=function(e){let t=[];return ee.xbD(e)||(t=ee.zoF(t,lG(e))),t}(e),s=dG(e,t);return ee.zoF(n,s)}function pG(e,t){return uG(((e,t)=>ee.kKJ(t.report)?ee.yGi("report",e,t):t)(yh.HOME,t),e)}const{reports:mG}=pr,hG=(0,hS.Z)(mG.CLEAR_REPORTS),EG=(0,hS.Z)(mG.URL_DATA_IS_INTIALIZED),gG=(0,hS.Z)(mG.INITIALIZE_URL_DATA,((e,t)=>n=>{try{!function(e,t,n){const s=pG(t,{report:ma.parseReportsPath(e.pathname).reportType,...bx(e)});oG(n,s)}(e,t,n)}catch(e){oe("Error in initReportsSettings: ",e)}n(EG())})),{shortcuts:fG}=pr,_G={trackShortcutsPageView:(0,hS.Z)(fG.TRACK_SHORTCUTS_PAGE_VIEW),trackShortcutsUsed:(0,hS.Z)(fG.TRACK_SHORTCUTS_USED)},{LOCAL_STORAGE_SIDEBAR_STATE:vG}=r;const{sidebar:IG}=pr,bG={setIsCollapsed:(0,hS.Z)("",(e=>t=>{!function(e){!0!==e&&!1!==e||nI(vG,e,!1)}(e),t(bG.updateIsCollapsed(e))})),toggleDropdown:(0,hS.Z)(IG.TOGGLE_DROPDOWN),toggleSidebar:(0,hS.Z)(IG.TOGGLE_SIDEBAR),updateIsCollapsed:(0,hS.Z)(IG.TOGGLE_COLLAPSED),trackNewIssue:(0,hS.Z)(IG.TRACK_OPEN_NEW_ISSUE),trackNewEpic:(0,hS.Z)(IG.TRACK_OPEN_NEW_EPIC),trackMilestoneModal:(0,hS.Z)(IG.TRACK_OPEN_MILESTONE_MODAL),trackReleaseModal:(0,hS.Z)(IG.TRACK_OPEN_RELEASE_MODAL),trackPipelineForm:(0,hS.Z)(IG.TRACK_OPEN_PIPELINE_FORM)},yG=bG;function SG(e){const t=ee.ETc(["subject","url"],e);return Vt.Z.issueNumberFromIssueUrl(t)}function wG(e){const t=ee.ETc(["subject","latest_comment_url"],e);return t?Vt.Z.commentNumberFromCommentUrl(t):null}function RG(e){return ee.u4g(((e,t)=>{var n;return function(e){const t=ee.ETc(["subject","type"],e);return"Issue"===t||"PullRequest"===t}(t)&&e.push((n=t,{...n,repository:mS.pe(n.repository),issue_number:SG(n),comment_number:wG(n)})),e}),[],e)}function TG(e,t){return{repo_id:e.repo_id,organization:e.organization,repository:e.repository,pageCount:t.pageCount,canLoadMore:(n=t.result,50===ee.kE(n)),notifications:RG(t.result)};var n}const{notifications:CG}=pr,kG={clearNotifications:(0,hS.Z)(CG.CLEAR_NOTIFICATIONS),toggleDropdown:(0,hS.Z)(CG.TOGGLE_DROPDOWN),addNotifications:(0,hS.Z)(CG.ADD_NOTIFICATIONS),setEmptyNotifications:(0,hS.Z)(CG.SET_EMPTY_NOTIFICATIONS),readNotification:(0,hS.Z)(CG.READ_NOTIFICATION),loadNotificationsMultiRepos:e=>t=>{const n=ee.UID((e=>Hy({repo_id:e.repo_id,reqOptions:{pageLimit:1}}).then((t=>TG(e,t)))),e.repos);ve().all(n).then((e=>{const n=ee.HK3(ee.vgT("repo_id"),e);t(kG.addNotifications(n))}))},loadNotificationsSingleRepo:e=>{const{repo:t}=e;return n=>Hy({repo_id:t.repo_id,reqOptions:{pageLimit:e.loadMore?20:1}}).then((e=>{const s=TG(t,e),r=ee.yGi(t.repo_id,s,{});n(kG.addNotifications(r))}))},markRepoAsRead:(0,hS.Z)(CG.MARK_REPO_AS_READ,(e=>t=>Wy({repo_id:e.repo_id}).then((()=>{t(kG.setEmptyNotifications(e.repo_id))})))),markNotificationAsRead:(0,hS.Z)(CG.MARK_NOTIFICATION_AS_READ,(e=>t=>{return(n={thread_id:e.thread_id},L2.Repo.markThreadAsRead(n)).then((()=>{t(kG.readNotification({repo_id:e.repo_id,thread_id:e.thread_id}))}));var n})),markAllAsRead:(0,hS.Z)(CG.MARK_ALL_AS_READ,(e=>t=>{const n=ee.UID((e=>Wy({repo_id:e.repo_id})),e.repos);ve().all(n).then((()=>{ee.Ed_((e=>{t(kG.setEmptyNotifications(e.repo_id))}),e.repos)}))})),addSubscriptions:(0,hS.Z)(CG.ADD_SUBSCRIPTIONS),setSubscription:(0,hS.Z)(CG.SET_SUBSCRIPTION),deleteSubscription:(0,hS.Z)(CG.DELETE_SUBSCRIPTION),loadSubscriptionsMultiRepos:(0,hS.Z)(CG.LOAD_SUBSCRIPTIONS_MULTI_REPOS,(e=>t=>{const n=ee.UID((e=>{return(t={repo_id:e.repo_id},L2.Repo.getSubscription(t)).then((t=>t?ee.yGi("repo_id",e.repo_id,t):null));var t}),e.repos);ve().all(n).then((e=>{const n=ee.d1t(ee.kKJ,e),s=ee.HK3(ee.vgT("repo_id"),n);t(kG.addSubscriptions(s))}))})),updateSubscription:(0,hS.Z)(CG.UPDATE_SUBSCRIPTION,(e=>t=>{return!1===e.subscribed&&!1===e.ignored?(n=e,L2.Repo.deleteSubscription(n)).then((()=>{t(kG.deleteSubscription(e.repo_id))})):function(e){return L2.Repo.setSubscription(e)}(e).then((n=>{const s=ee.yGi("repo_id",e.repo_id,n);t(kG.setSubscription({repo_id:e.repo_id,subscription:s}))}));var n}))},OG=kG,NG=os.Reports,PG=os.Repo,{velocity:AG}=pr,DG={loadCombinedVelocityData:(0,hS.Z)(AG.LOAD_COMBINED_VELOCITY_DATA,((e,t)=>NG.getCombinedVelocityData({repoId:e,workspaceId:t}))),loadSprintVelocityData:(0,hS.Z)(AG.LOAD_SPRINT_VELOCITY_DATA,(e=>NG.getSprintVelocityData({workspaceId:e}))),toggleMilestone:(0,hS.Z)(AG.TOGGLE_MILESTONE),toggleLabel:(0,hS.Z)(AG.TOGGLE_LABEL),clearLabelFilter:(0,hS.Z)(AG.CLEAR_LABEL_FILTER),toggleDropdown:(0,hS.Z)(AG.TOGGLE_DROPDOWN),setSelectedRepoId:(0,hS.Z)(AG.SET_SELECTED_REPO_ID),updateMilestoneStartDate:(0,hS.Z)(AG.UPDATE_MILESTONE_START_DATE,((e,t,n,s)=>{const r={repository:e,organization:t,milestone_number:n,start_date:s};return PG.setMilestoneStartDate(r)})),clear:(0,hS.Z)(AG.CLEAR)},LG={board:v,breadcrumbs:lx,burndown:px,control:hx,dashboard:S,flags:UR,invites:zW,issue:b,issueDependencies:$W,issueLoading:I,milestones:sj,milestoneBuilder:gj,onboarding:Tj,pages:R,paywall:d,release:Mj,releaseBuilder:qj,reports:w,router:y,shared:fF,shortcuts:_G,sidebar:yG,notifications:OG,velocity:DG,workspaceSwitcher:T,issuePriorities:FD};function zG(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function MG(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){zG(i,s,r,o,a,"next",e)}function a(e){zG(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{onboarding:xG}=LG||{};function FG(e){return Ij(e).then((t=>ee.yGi(e,t,{})))}function UG(){return(UG=MG((function*(e,t){const n=ee.kKJ(t)?cb:t;return yield Promise.all(ee.UID(FG,n)).then((t=>{const n=ee.Jnq(t);return e(xG.loadOnboardingValues(n)),n}))}))).apply(this,arguments)}const BG=function(e,t){return UG.apply(this,arguments)};function qG(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function HG(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){qG(i,s,r,o,a,"next",e)}function a(e){qG(i,s,r,o,a,"throw",e)}o(void 0)}))}}const WG=function(){var e=HG((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0;const n=ly();return n.query({query:fy,variables:{count:e,respositoryGhIds:t}})}));return function(){return e.apply(this,arguments)}}(),jG=e=>e.readQuery({query:fy,variables:{count:10}}),GG=(e,t)=>{t.writeQuery({query:fy,variables:{count:10},data:{__typename:"Query",recentlyViewedWorkspaces:{__typename:"WorkspaceConnection",nodes:e}}})},KG=function(){var e=HG((function*(){try{return ly().refetchQueries({include:[fy]})}catch(e){return console.info("refetch queries did not exist in cache, ignoring refetch..."),Promise.resolve()}}));return function(){return e.apply(this,arguments)}}();function VG(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function $G(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){VG(i,s,r,o,a,"next",e)}function a(e){VG(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{pages:ZG}=pr,YG=(0,hS.Z)(ZG.SET_DEFAULT_REPO_ID),JG=(0,hS.Z)(ZG.SET_WORKSPACE_AND_DEFAULT_REPO_ID),XG=(0,hS.Z)(ZG.SET_WORKSPACE_WITHOUT_DEFAULT_REPO_ID),QG=(0,hS.Z)(ZG.CLEAR_ERROR),eK=(0,hS.Z)(ZG.CLEAR_WORKSPACE),tK=(0,hS.Z)(ZG.UPDATE_CURRENT_WORKSPACE),nK=(0,hS.Z)(ZG.SET_RELOAD_WORKSPACE_ORDER_FROM_LOCAL),sK=(0,hS.Z)(ZG.SET_RELOAD_WORKSPACE_ORDER_FROM_SOCKET),rK=(0,hS.Z)(ZG.SET_RELOAD_WORKSPACE_ORDER_IGNORE_SOCKET),iK=(0,hS.Z)(ZG.SET_ONBOARDING_PLATFORM),oK=(0,hS.Z)(ZG.SET_IS_FAVORITE_REPO),aK=(0,hS.Z)(ZG.SET_IS_FAVORITE_WORKSPACE),lK=(0,hS.Z)(ZG.SET_SKIP_MODAL_RESTORE_URL),cK=(0,hS.Z)(ZG.SET_WORKSPACE_LOAD_ERROR),dK=(0,hS.Z)(ZG.OPEN_FULLSCREEN_MODAL),uK=(0,hS.Z)(ZG.CLOSE_FULLSCREEN_MODAL),pK=(0,hS.Z)(ZG.SET_FLYOVER_ENTITY_ID),mK=e=>{let{workspace:t}=e;return function(){var e=$G((function*(e){if(ha.dy(t)){const n=t.repos[0].favorite;e(oK(n))}else e(aK(t.favorite))}));return function(t){return e.apply(this,arguments)}}()},hK=(0,hS.Z)(ZG.SET_WORKSPACE_IMPORT_STATE);let EK=!1;const gK=e=>{let{location:t,workspaceId:n,optionalWorkspace:s=null,forcedDefaultRepoId:r=null}=e;return function(){var e=$G((function*(e){try{yield BG(e,["persona_form_completed"]);const i=s||(yield xy.getWorkspace({workspaceId:n}));yield Oy({workspaceId:n});const o=r||i.defaultRepoId,a=ha.dj(t.search);if(function(e,t,n){const s=ma.replaceWorkspaceName(t.pathname,n),r=EK?ha.E4(t.search):t.search;EK=!0,e((0,iR.gx)({pathname:s,search:r,state:t.state}))}(e,{...t,search:a},i),i.zenhubOrganization){const{id:t,name:n}=i.zenhubOrganization;e(lH({id:t,name:n}))}let l;if(e(UR.setFlags(i?.flags||{})),o){if(e(JG({workspace:i,defaultRepoId:o})),l=ha.bl(i),!l)throw new Error("Cannot find defaultRepo")}else e(XG({workspace:i}));(()=>{i.name&&KG()})(),e(mK({workspace:i})),s6({type:X3,values:{...l&&{org_id:ee.ETc(["owner","ghId"],l),organization:ee.ETc(["owner","login"],l),repo:l.repository,repo_id:l.repo_id},workspace:i}}),l&&function(e,t,n){e(NR({repo_id:t,workspace_id:n}))}(e,l.repo_id,n)}catch(t){oe("Error in openWorkspacePage - workspace cannot be loaded",t),e(cK({error:t}))}}));return function(t){return e.apply(this,arguments)}}()},fK=(0,hS.Z)(ZG.CHANGE_DEFAULT_REPO_IN_WORKSPACE),_K=e=>t=>_e.props({updateWorkspaceDefaultRepo:xy.updateWorkspaceDefaultRepo({workspaceId:e.workspaceId,repoId:e.repoId})}).then((()=>{t(fK({defaultRepoId:e.repoId,workspaceId:e.workspaceId})),t(YG(e.repoId))}));var vK=n(10140);const IK={},bK=bb.Ps`
  mutation AddFavoriteWorkspace($input: SetFavoriteWorkspaceInput!) {
    setFavoriteWorkspace(input: $input) {
      workspaceFavorite {
        id
        workspace {
          id
          isFavorite
        }
      }
    }
  }
`;const yK={},SK=bb.Ps`
  mutation DeleteWorkspaceFavorite($input: DeleteWorkspaceFavoriteInput!) {
    deleteWorkspaceFavorite(input: $input) {
      workspace {
        id
        isFavorite
      }
    }
  }
`;function wK(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function RK(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){wK(i,s,r,o,a,"next",e)}function a(e){wK(i,s,r,o,a,"throw",e)}o(void 0)}))}}const TK=e=>({repo_id:e.id,organization:e.owner.login,permissions:e.permissions,repository:e.name}),{workspaceSwitcher:CK}=pr,kK=(0,hS.Z)(CK.OPEN),OK=(0,hS.Z)(CK.CLOSE),NK=(0,hS.Z)(CK.SELECT_ORGANIZATION),PK=(0,hS.Z)(CK.CLEAR_ORGANIZATION),AK=(0,hS.Z)(CK.SET_ACTIVE_VIEW),DK=(0,hS.Z)(CK.SET_SEARCH_RESULTS),LK=(0,hS.Z)(CK.START_SEARCH),zK=(0,hS.Z)(CK.CLEAR_SEARCH),MK=(0,hS.Z)(CK.SET_REPOS_LOADED),xK=(0,hS.Z)(CK.CLEAR_REPO_SEARCH_FILTER),FK=(0,hS.Z)(CK.SET_SEARCH_TERM),UK=(0,hS.Z)(CK.ADD_REPO_TO_SEARCH_FILTER),BK=(0,hS.Z)(CK.REMOVE_REPO_FROM_SEARCH_FILTER),qK=(0,hS.Z)(CK.SET_FAVORITE_REPOS),HK=(0,hS.Z)(CK.SET_FAVORITE_WORKSPACES),WK=(0,hS.Z)(CK.ADD_FAVORITE_WORKSPACE),jK=(0,hS.Z)(CK.DELETE_FAVORITE_WORKSPACE),GK=(0,hS.Z)(CK.SET_RECENT_REPOS),KK=(0,hS.Z)(CK.SET_RECENT_WORKSPACES),VK=(0,hS.Z)(CK.SET_SEE_MORE_FAVORITE_WORKSPACES),$K=(0,hS.Z)(CK.TRACK_FREQUENTLY_VISITED_ITEM),ZK=(0,hS.Z)(CK.TRACK_SEARCHED_ITEM),YK=(0,hS.Z)(CK.TRACK_RECENT_REPO_ITEM),JK=(0,hS.Z)(CK.TRACK_CREATE_NEW_WORKSPACE_BUTTON),XK=e=>t=>{t(OK()),e&&t(PK())},QK=(0,hS.Z)(CK.SET_LOADING_REPO),eV=e=>t=>{os.User.getFavoriteRepos(e).then((e=>{t(qK(e))}))},tV=e=>t=>os.User.getFavoriteWorkspaces({orgId:e}).then((n=>{t(HK(ee.UID(ee.TSy({orgId:e}),n)))})),nV=e=>{let{activeRepoId:t,repo:n,ownerId:s}=e;return e=>os.User.setFavoriteRepo({repo_id:n.repo_id}).then((()=>{e(eV({org_id:s})),t&&t===n.repo_id&&e(oK(!0))}))},sV=e=>{let{activeRepoId:t,repo:n,ownerId:s}=e;return e=>os.User.deleteFavoriteRepo({repo_id:n.repo_id,org_id:s}).then((()=>{e(eV({org_id:s})),t&&t===n.repo_id&&e(oK(!1))}))},rV=e=>{let{activeWorkspaceId:t,workspace:n}=e;return e=>{ly().mutate({mutation:bK,variables:{input:{workspaceId:n._id}}}).then((()=>{e(WK(n)),t===n._id&&e(aK(!0))}))}},iV=e=>{let{activeWorkspaceId:t,workspace:n}=e;return e=>{ly().mutate({mutation:SK,variables:{input:{workspaceId:n._id}}}).then((()=>{e(jK(n)),t===n._id&&e(aK(!1))}))}},oV=e=>t=>{KS(e.userName,e.ownerName).then((e=>{t(GK(e))}))},aV=e=>t=>{var n,s,r;(n=e.userName,s=e.ownerName,r=e.recentRepo,KS(n,s).then((e=>{let t=ee.zGw(ee.Ce7(r),LS,ee.mNm(ee.vgT("name")))(e);ee.kE(t)>AS&&(t=ee.tPi(0,AS)(t)),GS(n,s,t)}))).then((()=>{t(oV(e))}))};const lV=e=>{let{repoId:t,repoName:n,shouldRedirectToGH:s}=e;return function(){var e=RK((function*(e){e(QK(t));const r=yield sS({repoId:t});if(e(QK(null)),ee.xbD(r))e(oZ.openWorkspaceCreator([t]));else{if(1===r.length){const n=r[0];return s?function(e){let{workspace:t}=e;const n=ma.DANGEROUSLYGetWorkspacePathWithRepoWithTokens(t);window.location=`${OI.githubURL}${n}`}({workspace:n}):U?function(e){let{dispatch:t,workspace:n}=e;t(Gq(n))}({dispatch:e,workspace:n}):function(e){let{repoId:t,workspace:n}=e;const s=ee.sEJ(ee.OH4("repo_id",t),n.repos),r=ma.getWorkspacePath(n),i=ma.appendRepoPathToPath({organization:s.organization,repository:s.repository,hashPath:r});window.location=i}({repoId:t,workspace:n}),void e(OK())}e(UK({repoId:t,repoName:n})),e(FK(""))}}));return function(t){return e.apply(this,arguments)}}()},cV=e=>{let{ownerName:t,searchTerm:n,repoIds:s}=e;return function(){var e=RK((function*(e){e(LK());const r=yield(i={organization:t,searchTerm:n,repoIdFilters:s,resources:0===s.length?["workspaces","repos"]:["workspaces"]},os.Org.searchReposAndWorkspaces(i));var i;e(DK(r))}));return function(t){return e.apply(this,arguments)}}()},dV=e=>{let{searchTerm:t}=e;return(e,n)=>{e(LK());const s=Qw(n()),r=new RegExp(t,"i"),i=s.filter((e=>r.test(e.repository)));e(DK({repos:i,searchTerm:t}))}},uV=e=>{let{searchTerm:t}=e;return e=>{let n;e(LK(null));if(-1===ee.cq5("/",t))n=gS.public(t);else{const e=ee.Vl2("/",t);n=gS.publicWithOwner(...e)}return n.then((n=>{e(DK({repos:n.items.map(TK),searchTerm:t}))}))}},pV="MERGE_REPO_SELECTOR",mV="MERGE_REPO_FINDER",hV="REPO_DISCONNECT",EV="SPLIT_WORKSPACE",gV="EDIT_WORKSPACE_MODAL_MINI",fV="NONE",_V="DELETE_WORKSPACE",vV="GH_PROJECTS_SELECTOR",IV="WORKSPACE_REPO_SELECTOR",bV=ee.ETc(["workspaceSwitcher","display","isOpen"]),yV=ee.ETc(["workspaceSwitcher","display","selectedOrganization"]),SV=ee.ETc(["workspaceSwitcher","display","activeView"]),wV=ee.ETc(["workspaceSwitcher","display","loadingRepo"]),RV=ee.ETc(["workspaceSwitcher","display","searchIsActive"]),TV=ee.ETc(["workspaceSwitcher","display","searchResults"]),CV=ee.ETc(["workspaceSwitcher","display","seeMoreFavoriteWorkspaces"]),kV=ee.ETc(["workspaceSwitcher","display","searchFilterRepos"]),OV=ee.ETc(["workspaceSwitcher","display","searchTerm"]),NV=ee.ETc(["workspaceSwitcher","display","reposLoaded"]),PV=ee.ETc(["workspaceSwitcher","favoriteRepos"]),AV=(ee.ETc(["workspaceSwitcher","favoriteWorkspaces"]),ee.ETc(["workspaceSwitcher","recentRepos"])),DV=(ee.ETc(["workspaceSwitcher","recentWorkspaces"]),"WORKSPACE_SWITCHER_VIEW_DEFAULT"),LV="WORKSPACE_SWITCHER_VIEW_SEARCH",zV="WORKSPACE_SWITCHER_VIEW_PRIVATE_REPOS",MV="WORKSPACE_SWITCHER_VIEW_OPEN_SOURCE",xV=e=>e.zhOrganization?.id,FV=e=>e.zhOrganization?.name,UV=(0,pa.P1)([Xa,yV,ku,e=>e.zhOrganization],((e,t,n,s)=>t||(e?{id:e.ghId,login:e.login,avatar_url:e.avatarUrl,isUser:"User"===e.__typename}:{...n,isUser:!0,isZHOrg:Boolean(s)}))),BV=(0,pa.P1)(UV,ee.vgT("id")),qV=(0,pa.P1)(UV,ee.vgT("login")),HV=(0,pa.P1)(UV,ee.vgT("isZHOrg")),WV=(0,pa.P1)(UV,ee.vgT("avatar_url")),jV=(0,pa.P1)([UV],(e=>{let{id:t,isUser:n=!1}=e;return{ghId:t,type:n?"user":"organization"}})),GV=(0,pa.P1)(SV,(e=>e!==zV&&e!==MV)),KV=ee.MRu(ee.zGw(ee.vgT("repository"),ee.t$q)),VV=(0,pa.P1)(UV,Mw,kV,((e,t,n)=>{if(ee.kKJ(e))return null;const s=t[ee.t$q(e.login)];return ee.kKJ(s)?null:ee.zGw((e=>((e,t)=>e.map((e=>({...e,selected:Boolean(t[e.repo_id])}))))(e,n)),KV)(s)})),$V=bb.ZP`
  fragment repoData on Repository {
    ghId
    name
    description
    owner {
      id
      login
    }
    permissions {
      push
      pull
      admin
    }
    issues {
      totalCount
    }
    isPrivate
  }
`,ZV=bb.ZP`
  fragment workspaceData on Workspace {
    id
    name
    defaultRepository {
      id
      ghId
      name
      owner {
        id
        login
      }
    }
    repositoriesConnection {
      nodes {
        ...repoData
      }
    }
  }
  ${$V}
`;function YV(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const JV=bb.ZP`
  mutation ($input: CreateWorkspaceInput!) {
    createWorkspace(input: $input) {
      workspace {
        ...workspaceData
      }
    }
  }
  ${ZV}
`,XV=function(){var e,t=(e=function*(e){const t=ly();return(yield t.mutate({mutation:JV,variables:{input:e},fetchPolicy:"no-cache"})).data.createWorkspace.workspace},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){YV(i,s,r,o,a,"next",e)}function a(e){YV(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),QV=XV;function e$(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const t$=bb.ZP`
  mutation ($input: UpdateWorkspaceInput!) {
    updateWorkspace(input: $input) {
      workspace {
        ...workspaceData
      }
    }
  }
  ${ZV}
`,n$=function(){var e,t=(e=function*(e){const t=ly();return(yield t.mutate({mutation:t$,variables:{input:e},fetchPolicy:"no-cache"})).data.updateWorkspace.workspace},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){e$(i,s,r,o,a,"next",e)}function a(e){e$(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),s$=n$,r$=e=>({organization:e.owner.login,repository:e.name,repo_id:e.ghId,permissions:e.permissions,has_issues:e.issues.totalCount>0,private:e.isPrivate}),i$=e=>({_id:e.id,name:e.name||"",description:e.description||"",defaultRepoId:e.defaultRepository?.ghId||NaN,repos:e.repositoriesConnection?.nodes?.map(r$)??[],isEditable:e.isEditable,zhOrgId:e.zenhubOrganization?.id});function o$(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const a$=bb.ZP`
  mutation ($input: AddRepositoryToWorkspaceInput!) {
    addRepositoryToWorkspace(input: $input) {
      workspaceRepository {
        id
        repository {
          ghId
          name
          description
          owner {
            id
            login
          }
          permissions {
            push
            pull
            admin
          }
          issues {
            totalCount
          }
          isPrivate
        }
      }
    }
  }
`,l$=function(){var e,t=(e=function*(e){const t=ly();return(yield t.mutate({mutation:a$,variables:{input:e},fetchPolicy:"no-cache"})).data.addRepositoryToWorkspace.workspaceRepository.repository},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){o$(i,s,r,o,a,"next",e)}function a(e){o$(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),c$=l$,d$=(e,t)=>ee.mNm(t,e),u$=(e,t)=>ee.UID(t,e);function p$(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function m$(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){p$(i,s,r,o,a,"next",e)}function a(e){p$(i,s,r,o,a,"throw",e)}o(void 0)}))}}const h$="CREATE",E$="EDIT",g$="Workspace rename error",f$={addRepoToWorkspaceLoading:!1,bottomSuccessMsg:null,isOpen:!1,isWorkspaceOutdated:!1,isCreatingWorkspace:!1,isUpdatingWorkspace:!1,isLoadingRepo:!1,isImportingProjects:!1,workspaceFormType:h$,workspace:{_id:""},workspaceId:null,validationError:null,reposToAdd:[],isWorkspaceLoading:!1,maxSelectedRepos:5,loadingRepos:[],orgs:[],error:null,selectedRepos:[],selectedOrganization:null,pipelines:{},descriptions:{},connectionParams:null,mergeRepoStep:fV,display:{pipelineInEditState:{}},isDeletable:!1,hasModifiedListOfRepos:!1,newlyAddedRepos:[]},_$=(0,_r.oM)({name:"WORKSPACE_FORM",initialState:f$,reducers:{open:e=>{e.isOpen=!0},close:e=>{e.isOpen=!1},clearWorkspace:e=>({...f$,isImportingProjects:e.isImportingProjects}),loadingWorkspaceStarted:e=>{e.isWorkspaceLoading=!0},loadingWorkspaceFinished:e=>{e.isWorkspaceLoading=!1},updatingWorkspaceStarted:e=>{e.isUpdatingWorkspace=!0},updatingWorkspaceFinished:e=>{e.isUpdatingWorkspace=!1},creatingWorkspaceStarted:e=>{e.isCreatingWorkspace=!0},creatingWorkspaceFinished:e=>{e.isCreatingWorkspace=!1},loadingRepoStarted:e=>{e.isLoadingRepo=!0},loadingRepoCompleted:e=>{e.isLoadingRepo=!1},setCreateWorkspace:e=>{e.workspaceFormType=h$},setEditWorkspace:e=>{e.workspaceFormType=E$},setWorkspace:(e,t)=>{e.isWorkspaceOutdated=!1;let n=[];n=t?.payload?.repositoriesConnection?t?.payload?.repositoriesConnection?.nodes?.map(r$)??[]:t?.payload?.repos||[];const s=t?.payload?.defaultRepository?t.payload.defaultRepository?.ghId:t?.payload?.defaultRepoId||null,r=t?.payload?._id||t?.payload?.id;e.workspace={...t.payload,id:r,_id:r,defaultRepoId:s,repos:[...n,...e.newlyAddedRepos||[]]},e.newlyAddedRepos=[]},setWorkspaceId:(e,t)=>{e.workspaceId=t.payload,e.newlyAddedRepos=[],e.workspace={_id:t.payload}},setConnectedRepos:(e,t)=>{e.workspace.repos=t.payload},setWorkspaceName:(e,t)=>{e.workspace.name=t.payload},setWorkspaceDescription:(e,t)=>{e.workspace.description=t.payload},setWorkspaceOutdated:(e,t)=>{e.isWorkspaceOutdated=t.payload},setWorkspaceDefaultRepo:(e,t)=>{e.workspace={...e.workspace,...t.payload}},setGhProjectRepoId:(e,t)=>{e.ghProjectRepoId=t.payload},setIsImportingProjects:(e,t)=>{e.isImportingProjects=t.payload},setBottomSuccessMsg:(e,t)=>{e.bottomSuccessMsg=t.payload},setValidationError:(e,t)=>{e.validationError=t.payload},clearValidationError:e=>{e.validationError=null},addSelectedRepos:(e,t)=>{e.reposToAdd=[...e.reposToAdd,...t.payload]},setAddRepoToWorkspaceLoading:(e,t)=>{e.addRepoToWorkspaceLoading=t.payload},removeSelectedRepo:(e,t)=>{e.reposToAdd=e.reposToAdd.filter((e=>e.repo_id!==t.payload))},clearSelectedRepos:e=>{e.reposToAdd=[]},clearImportTarget:e=>{e.importTarget=null},clearGhProjectRepoId:e=>{e.ghProjectRepoId=null},selectRepo:(e,t)=>{e.selectedRepos=[...e.selectedRepos,t.payload]},setImportTarget:(e,t)=>{e.importTarget=t.payload},deselectMergeRepo:(e,t)=>{e.selectedRepos=e.selectedRepos.filter((e=>e.repo_id!==t.payload.repo_id))},clearMergeRepos:e=>{e.selectedRepos=[]},setConnectionParams:(e,t)=>{e.connectionParams=t.payload},setMergeRepoStep:(e,t)=>{e.mergeRepoStep=t.payload},setMergeRepoError:(e,t)=>{e.error=t.payload},setOrgs:(e,t)=>{e.orgs=t.payload},selectMergeOrganization:(e,t)=>{e.selectedOrganization=t.payload,e.selectedRepos=[]},setIsDeletable:(e,t)=>{e.isDeletable=t.payload},updateWorkspaceWithAddedRepos:(e,t)=>{e.hasModifiedListOfRepos=!0,e.newlyAddedRepos=[...e.newlyAddedRepos||[],...t.payload]},trackCreateWorkspace:()=>{},trackUpdateWorkspace:()=>{},trackDeleteWorkspace:()=>{}}}),{reducer:v$,actions:I$}=_$,b$=ee.MRu(ee.zGw(ee.vgT("repository"),ee.t$q)),y$=ee.WAo(((e,t)=>{const n=ee.HK3(ee.vgT("repo_id"),e);return ee.hXT((e=>ee.kKJ(n[e.repo_id])),t)})),S$=ee.WAo(((e,t,n)=>{if(!e&&ee.xbD(t))return n;const s=ee.zoF(e,t),r=ee.HK3(ee.vgT("repo_id"),s);return ee.hXT((e=>ee.kKJ(r[e.repo_id])),n)})),w$=ee.WAo(((e,t)=>ee.UID((t=>!ee.xbD(e)&&ee.YjB(ee.OH4("repo_id",t.repo_id))(e)?ee.yGi("selected",!0,t):t),t))),R$="workspaceForm",T$=e=>ee.ETc([R$,"newlyAddedRepos"])(e)||[],C$=(0,pa.P1)((e=>ee.ETc([R$,"workspace","repos"])(e)||[]),T$,((e,t)=>d$([...e,...t],(e=>e.repo_id)))),k$=ee.ETc([R$,"ghProjectRepoId"]),O$=ee.ETc([R$,"workspace"]),N$=ee.ETc([R$,"pipelines"]),P$=ee.ETc([R$,"selectedRepos"]),A$=ee.ETc([R$,"selectedOrganization"]),D$=ee.ETc([R$,"orgs"]),L$=ee.ETc([R$,"workspace","defaultRepoId"]),z$=ee.ETc([R$,"isDeletable"]),M$=ee.ETc([R$,"hasModifiedListOfRepos"]),x$=ee.ETc([R$,"isImportingProjects"]),F$=ee.zGw(ee.ETc([R$,"reposToAdd"]),ee.UID((e=>e&&{...e,organization:e.owner.login,isToBeAdded:!0}))),U$=ee.ETc([R$,"workspaceFormType"]),B$=ee.ETc([R$,"descriptions"]),q$=(0,pa.P1)(C$,F$,T$,((e,t,n)=>d$([...e,...t,...n],(e=>e.repo_id)))),H$=(0,pa.P1)(L$,q$,((e,t)=>e||(t.length>0?t[0].repo_id:null))),W$={connectedRepos:C$,descriptions:B$,descriptionByPipeline:(e,t)=>ee.ETc([R$,"descriptions",e])(t),pipelineIsEditing:(e,t)=>ee.ETc([R$,"display","pipelineInEditState",e])(t),selectedOrganization:A$,orgList:D$,selectedRepos:P$,workspaceFormType:U$,reposToAdd:F$,isDeletable:z$,isImportingProjects:x$,allRepos:q$,defaultRepoId:H$,importTarget:ee.ETc([R$,"importTarget"]),isOpen:ee.ETc([R$,"isOpen"]),isLoadingRepo:ee.ETc([R$,"isLoadingRepo"]),isWorkspaceLoading:ee.ETc([R$,"isWorkspaceLoading"]),isUpdatingWorkspace:ee.ETc([R$,"isUpdatingWorkspace"]),isCreatingWorkspace:ee.ETc([R$,"isCreatingWorkspace"]),isWorkspaceOutdated:ee.uF6([R$,"isWorkspaceOutdated"],!0),isWorkspaceEditable:e=>!0===ee.ETc([R$,"workspace","isEditable"])(e),isAddRepoToWorkspaceLoading:ee.ETc([R$,"addRepoToWorkspaceLoading"]),bottomSuccessMsg:ee.ETc([R$,"bottomSuccessMsg"]),workspaceId:ee.ETc([R$,"workspace","_id"]),workspaceNameValidationError:ee.ETc([R$,"validationError","name"]),connectionParams:ee.ETc([R$,"connectionParams"]),mergeRepoError:ee.ETc([R$,"error"]),mergeRepoStep:ee.ETc([R$,"mergeRepoStep"]),maxSelectedRepos:ee.ETc([R$,"maxSelectedRepos"]),pipelines:(0,pa.P1)(N$,(e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(((t,n)=>({...t,[n]:[...e[n]].sort(((e,t)=>e.isNoIssues?1:t.isNoIssues?-1:0))})),{})}(e))),hasLockedRepo:(0,pa.P1)(F$,(e=>e.some((e=>!e.permissions.push)))),workspaceName:(0,pa.P1)(O$,ha.Q4),workspace:O$,ghProjectRepoId:k$,isCreateWorkspace:(0,pa.P1)(U$,(e=>e===h$)),defaultRepo:(0,pa.P1)(q$,H$,((e,t)=>e&&e.find((e=>e.repo_id===t)))),isSourceConnected:(0,pa.P1)(F$,(e=>e.some((e=>e.isAlreadyConnected)))),formattedOrgList:(0,pa.P1)(A$,D$,((e,t)=>e&&t?t.map((t=>({ownerName:t.login,ownerAvatar:t.avatar_url,id:t.id,isActive:ee.t$q(e.login)===ee.t$q(t.login),isUser:t.isUser}))):[])),sortedRepos:(0,pa.P1)(C$,(e=>e?b$(e):[])),repoList:(0,pa.P1)(A$,P$,Mw,C$,((e,t,n,s)=>{const r=e&&n[ee.t$q(e.login)];return r?ee.zGw(y$(s),w$(t),b$)(r):[]})),repoListSelector:(0,pa.P1)(A$,P$,Mw,C$,F$,((e,t,n,s,r)=>{if(ee.kKJ(e))return null;const i=n[ee.t$q(e.login)];return ee.kKJ(i)?null:ee.zGw(S$(s||[],r),w$(t),b$)(i)})),hasModifiedListOfRepos:M$,newlyAddedRepos:T$},j$=ee.zGw(ee.vgT("gh_name"),ee.t$q),G$=(e,t)=>{const n=ee.HK3(j$,t),s=ee.u4g(((e,t)=>{const s=ee.t$q(t.organization);return e[s]||n[s]||(e[s]=(e=>By({repo_id:e}).then(ee.vgT("owner")))(t.repo_id)),e}),{},ee.VO0(e));return ve().all(ee.VO0(s)).then((e=>ee.UID((e=>iu(e.id,e.login,e.avatar_url,e.type)),e)))},K$=(e,t,n)=>{const s=iu(e.id,e.username,e.avatarUrl,"User"),r=ee.UID((e=>iu(e.gh_id,e.gh_name,e.avatar_url,"Organization")),t);return G$(n,t).then((e=>ee.zGw(ee.zoF(r),ee.zoF(e),ee.mNm(ee.vgT("id")))([s])))},V$=(e,t)=>{const n=W$.defaultRepo(e);if(n)return((e,t)=>ee.sEJ((t=>ee.t$q(e.organization)===ee.t$q(t.login)),t))(n,t)||t[0];const s=BV(e);return ee.sEJ(ee.OH4("id",s),t)||t[0]},$$=()=>e=>{e(I$.clearWorkspace()),e(I$.open())},Z$=function(){var e=m$((function*(e){return(yield xy.fetchPipelinesByWorkspace({workspaceId:e})).data.workspace.pipelines}));return function(t){return e.apply(this,arguments)}}(),Y$=function(){var e=m$((function*(e){const t=yield xy.getWorkspace({workspaceId:e});return t.pipelines=yield Z$(e),t}));return function(t){return e.apply(this,arguments)}}(),J$=e=>function(){var t=m$((function*(t){t(oZ.creatingWorkspaceStarted());const n=yield QV(e);return t(oZ.creatingWorkspaceFinished()),n}));return function(e){return t.apply(this,arguments)}}(),X$=e=>{let{workspaceId:t,name:n,description:s,defaultRepositoryGhId:r}=e;return function(){var e=m$((function*(e){let i;e(oZ.updatingWorkspaceStarted());try{const o=yield s$({workspaceId:t,name:n,description:s,defaultRepositoryGhId:r});i=i$(o)}catch(e){if(!e.responseText.includes("Invalid Field for workspace.name"))throw e;throw new Error(g$)}finally{e(oZ.updatingWorkspaceFinished())}return i}));return function(t){return e.apply(this,arguments)}}()},Q$=function(){var e=m$((function*(e){let{organization:t,repository:n}=e;const s=yield(r={organization:t,repository:n},L2.Repo.getInfoCached({...r,force:!0}));var r;return mS.pe(s)}));return function(t){return e.apply(this,arguments)}}(),eZ=e=>{let{repository:t,organization:n}=e;return function(){var e=m$((function*(e){e(oZ.loadingRepoStarted());try{const s=t.repo_id?t:yield Q$({organization:n,repository:t});return e(oZ.loadingRepoCompleted()),e(oZ.selectRepo(s)),s}catch(t){throw e(oZ.loadingRepoCompleted()),t}}));return function(t){return e.apply(this,arguments)}}()},tZ=e=>t=>!e.defaultRepoId&&t(oZ.setWorkspaceDefaultRepo((e=>ee.sEJ((e=>ee.uF6(["permissions","push"],!0,e)),e))(e.repos))),nZ=e=>function(){var t=m$((function*(t){t(oZ.loadingWorkspaceStarted());const n=yield e();t(I$.setWorkspace(n)),t(tZ(n)),t(oZ.loadingWorkspaceFinished())}));return function(e){return t.apply(this,arguments)}}(),sZ=e=>t=>t(nZ((()=>Y$(e)))),rZ=e=>{let{bottomSuccessMsg:t,getWorkspace:n}=e;return function(){var e=m$((function*(e){e($$()),e(I$.setEditWorkspace()),e(I$.setBottomSuccessMsg(t)),n()}));return function(t){return e.apply(this,arguments)}}()},iZ=e=>{let{currentlyOpenedWorkspace:t,repoIds:n,workspace:s}=e;return e=>{n.forEach((n=>{n_(s._id,n),t&&t._id===s._id&&e(YL({filterKey:n}))}))}},oZ={...I$,setMergeRepoStep:e=>t=>{t(I$.setBottomSuccessMsg("")),t(I$.setMergeRepoStep(e))},close:()=>e=>{e(I$.setBottomSuccessMsg(void 0)),e(I$.clearMergeRepos()),e(I$.clearSelectedRepos()),e(I$.close())},openCurrentWorkspaceEditForm:e=>{let{workspaceId:t}=e;return e=>{e(I$.setWorkspaceId(t)),e(I$.setEditWorkspace()),e(I$.open())}},openFromWorkspaceId:e=>{let{workspaceId:t,bottomSuccessMsg:n}=e;return e=>{e(rZ({bottomSuccessMsg:n,getWorkspace:()=>e(sZ(t))}))}},openWorkspaceCreator:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var t=m$((function*(t){if(t($$()),t(oZ.loadingWorkspaceStarted()),t(oZ.setCreateWorkspace()),e){const n=yield ve().all(ee.UID(function(){var e=m$((function*(e){const t=yield By({repo_id:e});return mS.pe(t)}));return function(t){return e.apply(this,arguments)}}(),e));yield t(oZ.addSelectedRepos(n))}t(oZ.loadingWorkspaceFinished())}));return function(e){return t.apply(this,arguments)}}()},refreshWorkspace:e=>{let{workspaceId:t}=e;return function(){var e=m$((function*(e){const n=yield Y$(t);e(I$.setWorkspace(n))}));return function(t){return e.apply(this,arguments)}}()},saveWorkspace:e=>{let{workspace:t,owner:n,currentlyOpenedWorkspace:s,userName:r,ownerName:i,name:o,description:a,selectedReposToAdd:l,shouldRedirectToExt:c,defaultRepoId:d,selectedProjectId:u}=e;return function(){var e=m$((function*(e,p){e(rK(!0));const m=t&&t._id;e(oZ.setMergeRepoStep(fV));let h=null;try{if(((e,t,n,s,r)=>e.name!==t||e.description!==n||e.defaultRepoId!==r||!(!s||ee.xbD(s)))(t,o,a,l,d))if(m)h=yield e(X$({workspaceId:t._id,name:o,description:a,defaultRepositoryGhId:d})),e(oZ.trackUpdateWorkspace({changes:{ownerName:i,userName:r,name:o,description:a,addedRepos:l},oldWorkspace:t}));else{const t={defaultRepositoryGhId:d,description:a,name:o,repositoryGhIds:l.map((e=>{let{repo_id:t}=e;return t})),...u&&{githubProject:{githubProjectId:u,githubProjectRepoGhId:W$.ghProjectRepoId(p())}}},n=yield e(J$(t));Sa(n.id),vb(n.id),h=i$(n),e(oZ.trackCreateWorkspace({name:o,description:a,repos:l}))}else h=t}catch(c){if(c.message===g$)return void window.alert("One of the repositories has a workspace in another organization with the same name. Please try using a different name");const{message:u}=c;return oe(`Error on save workspace: ${u}`,{...c,arguments:{workspace:t,owner:n,currentlyOpenedWorkspace:s,userName:r,ownerName:i,name:o,description:a,selectedReposToAdd:l,defaultRepoId:d}}),window.alert("Sorry! There was an error trying to save this workspace."),e(I$.clearWorkspace()),e(I$.close()),void e(XK())}h&&(e(iZ({currentlyOpenedWorkspace:s,repoIds:ee.jge("repo_id",h.repos),workspace:h})),e(I$.clearWorkspace()),e(I$.close()),e(XK()),s&&s._id===h._id?e(nK(!0)):e(Gq(h,c)))}));return function(t,n){return e.apply(this,arguments)}}()},loadUpdatedWorkspace:e=>{let{currentlyOpenedWorkspace:t,workspace:n,dispatch:s,shouldRedirectToExt:r,newlyAddedRepos:i}=e;s(iZ({currentlyOpenedWorkspace:t,repoIds:[ee.jge("repo_id",[...i,...n.repos])],workspace:n})),t&&t._id===n._id?s(nK(!0)):s(Gq(n,r))},workspaceUpdated:e=>t=>{t(I$.setBottomSuccessMsg(e)),t(oZ.setWorkspaceOutdated(!0))},updateWorkspaceDefaultRepo:e=>t=>xy.updateWorkspaceDefaultRepo(e).then((()=>t(oZ.setWorkspaceDefaultRepo({defaultRepoId:e.repoId})))),isNameValid:e=>{let{name:t,owner:n}=e;return m$((function*(){try{return(yield xy.validateName({name:t,owner:n})).valid}catch(e){return!1}}))},initMergeRepoSelector:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var n=m$((function*(n,s){n(oZ.setMergeRepoStep(pV)),e&&(yield n(sZ(e))),t&&n(oZ.setConnectedRepos(t));const r=t||W$.connectedRepos(s()),i=yield ve().props({userInfo:H2(),userOrgs:cS()}),o=ee.vgT("gh",i.userInfo.user),a=ee.vgT("orgs",i.userOrgs),l=yield K$(o,a,r),c=V$(s(),l);n(oZ.setOrgs(l)),n(oZ.selectMergeOrganization(c))}));return function(e,t){return n.apply(this,arguments)}}()},initWorkspaceRepoSelector:()=>e=>{e(oZ.setMergeRepoStep(IV))},initGHProjectsImporterSelector:e=>function(){var t=m$((function*(t,n){t(oZ.setMergeRepoStep(vV)),e&&(yield t(sZ(e)));const s=W$.connectedRepos(n()),r=yield ve().props({userInfo:H2(),userOrgs:cS()}),i=ee.vgT("gh",r.userInfo.user),o=ee.vgT("orgs",r.userOrgs),a=yield K$(i,o,s),l=V$(n(),a);t(oZ.setOrgs(a)),t(oZ.selectMergeOrganization(l)),t(fF.getReposByOwner({currentUserName:i.username,ownerName:l.login}))}));return function(e,n){return t.apply(this,arguments)}}(),selectMergeRepo:e=>{let{organization:t,repository:n}=e;return e=>e(eZ({organization:t,repository:n}))},selectImportTarget:e=>t=>t(I$.setImportTarget(e)),prepSelectedRepos:e=>{let{selectedRepos:t,workspaceId:n}=e;return(e,s)=>{W$.isOpen(s())||e(oZ.openFromWorkspaceId({workspaceId:n}));const r=F$(s()).map((e=>e.repo_id)),i=t.filter((e=>!r.includes(e.repo_id)));e(I$.addSelectedRepos(i)),e(I$.clearMergeRepos()),e(oZ.setMergeRepoStep(fV))}},addSelectedReposToWorkspace:e=>{let{selectedRepos:t,workspaceId:n,isPlatformUser:s}=e;return function(){var e=m$((function*(e,r){W$.isOpen(r())||e(s?oZ.openCurrentWorkspaceEditForm({workspaceId:n}):oZ.openFromWorkspaceId({workspaceId:n})),e(oZ.setAddRepoToWorkspaceLoading(!0));const i=yield ve().all(t.map((e=>c$({repositoryGhId:e.repo_id,workspaceId:n}))));e(rK(!0));const o=i.map(r$);e(oZ.updateWorkspaceWithAddedRepos(o)),e({type:Us.ADD_REPOS_CURRENT_WORKSPACE,payload:o}),e(oZ.setAddRepoToWorkspaceLoading(!1)),e(oZ.setMergeRepoStep(fV))}));return function(t,n){return e.apply(this,arguments)}}()},disconnectRepoFromWorkspace:e=>function(){var t=m$((function*(t){t(rK(!0));try{const n=yield xy.disconnectRepo({workspaceId:e.workspace._id||e.workspace.id,repoId:e.repoIdToDisconnect,split:!1});if(n.message)H.Z.createToast(W.Z.ERROR_PERMISSIONS,{showWarning:!0,text:n.message});else{const n=`${e.repoToDisconnect} has been disconnected from this Workspace!`;t(oZ.workspaceUpdated(n))}t(oZ.setMergeRepoStep(fV)),t(oZ.afterRepoDisconnection(e.repoIdToDisconnect)),e.workspace.defaultRepoId!==e.repoIdToDisconnect&&t({type:Us.REMOVE_REPO_CURRENT_WORKSPACE,payload:e.repoIdToDisconnect})}catch(e){throw t(oZ.handleDisconnectFailure(e)),e}}));return function(e){return t.apply(this,arguments)}}(),splitRepoFromWorkspace:e=>function(){var t=m$((function*(t){t(rK(!0));try{const[n,s]=yield ve().all([xy.disconnectRepo({workspaceId:e.workspace._id,repoId:e.repoIdToDisconnect,split:!0}),By({repo_id:e.repoIdToDisconnect})]);t(oZ.setConnectionParams({...e,splitWorkspace:n.splitWorkspace,repoOwnerToDisconnect:{ghId:s.owner.id,type:s.owner.type}})),mS.az(s.name),t(oZ.setMergeRepoStep(gV))}catch(e){throw t(oZ.handleDisconnectFailure(e)),e}}));return function(e){return t.apply(this,arguments)}}(),afterRepoDisconnection:e=>t=>{t(JL({filterKey:e})),t(oZ.setWorkspaceOutdated(!0)),t(nK(!0))},handleDisconnectFailure:e=>t=>{const{responseJSON:{message:n}}=e;if(n.includes("no permission for repo"))return window.alert("You do not have push access to the repository you are trying to disconnect"),t(oZ.setMergeRepoStep(fV)),void t(rK(!1));oe("Error while disconnecting or splitting repo :",e),window.alert("Sorry! There was an error trying to split this repository into its own workspace."),t(rK(!1))},workspaceOnDisconnect:e=>t=>{t(oZ.setConnectionParams(e)),t(oZ.setMergeRepoStep(hV))},workspaceOnSplitWorkspace:e=>t=>{t(oZ.setConnectionParams(e)),t(oZ.setMergeRepoStep(EV))},saveWorkspaceModalMini:e=>{let{workspaceId:t,name:n,description:s,repoIdToDisconnect:r}=e;return function(){var e=m$((function*(e){try{yield s$({workspaceId:t,name:n,description:s}),e(oZ.afterRepoDisconnection(r)),e(oZ.setMergeRepoStep(fV))}catch(e){oe("Error on saveWorkspaceModalMini: ",e),window.alert("Sorry! There was an error trying to save this workspace.")}}));return function(t){return e.apply(this,arguments)}}()},getWorkspaceIsDeletable:e=>{let{workspaceId:t}=e;return function(){var e=m$((function*(e){if(!t)return!1;const n=yield Ry({workspaceId:t});return e(oZ.setIsDeletable(n))}));return function(t){return e.apply(this,arguments)}}()},openDeleteWorkspace:()=>e=>{e(oZ.setMergeRepoStep(_V))},deleteWorkspace:e=>{let{workspaceId:t,workspaceName:n}=e;return function(){var e=m$((function*(e,s){e(rK(!0));const r=s();try{if(yield xy.deleteWorkspace({workspaceId:t}),e(I$.clearWorkspace()),e(oZ.close()),e(XK()),e(I$.trackDeleteWorkspace()),(e=>{const t=ly(),{cache:n}=t,s=(jG(n)?.recentlyViewedWorkspaces.nodes||[]).filter((t=>Boolean(!e.find((e=>e===t.id)))));GG(s,n)})([t]),Pa(r)===t)if(F){const{pathname:e}=new URL(window.location.href),{organization:t,repository:n}=ma.parseRepoPath(e);window.location.href=ma.getRepoPath({organization:t,repository:n})}else{const t=ma.getSelectOrganizationPath();e(Mq({path:t}))}else e(nK(!0))}catch(e){window.alert("Sorry, this Workspace could not be deleted"),oe("Error on delete workspace: ",e)}finally{e(rK(!1)),(0,ha.gq)(n)}}));return function(t,n){return e.apply(this,arguments)}}()}},{issuePriorities:aZ,board:lZ,issue:cZ}=pr,dZ=e=>{const t={};return(0,_t.DX)(e)&&Object.keys(e).forEach((n=>{const s=n.replace("-","_");t[s]=e[n]})),t},uZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};return e.forEach((e=>{if(!(0,_t.KN)(e.priorityId)){const n=an(e);t[n]=e.priorityId}})),t},pZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aZ.SET_ISSUE_PRIORITIES:return dZ(t.payload);case lZ.BOARD_UPDATE:return dZ(t.payload.issue_priorities);case cZ.LOAD_EPIC_DATA:return{...e,...uZ(t.payload.issues)};case lZ.SET_ISSUE_HIGH_PRIORITY:case lZ.REMOVE_ISSUE_PRIORITY:default:return e}},{issuePriorities:mZ,board:hZ}=pr,EZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};return e.forEach(((e,n)=>{t[e._id]={...e,rank:n+1}})),t},gZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mZ.SET_PRIORITIES:return EZ(t.payload);case hZ.BOARD_UPDATE:return EZ(t.payload.priorities);default:return e}},{board:fZ}=pr;const{board:_Z}=pr;var vZ=n(77542);const{board:IZ}=pr;const{board:bZ}=pr,{board:yZ}=pr,SZ={value:null,isFullTreeLoaded:!1};const{board:wZ}=pr,{board:RZ}=pr;function TZ(e,t){return xd(t.filterKey)?ee.zGw(yl.clearSettings,yl.addSetting(t.filterKey))(e):yl.addFilter(t,e)}function CZ(e,t){return xd(t.filterKey)?yl.removeSetting(t.filterKey,e):yl.removeFilter(t,e)}const{board:kZ}=pr,{hasActiveFilterBoard:OZ}=yl,NZ={BOARD_ADD_ASSIGNEE_FILTER:{filterName:"assignees",defaultLogic:"any"},BOARD_ADD_AUTHOR_FILTER:{filterName:"authors",defaultLogic:"any"},BOARD_ADD_EPIC_FILTERS:{filterName:"epics",defaultLogic:"any"},BOARD_ADD_ESTIMATE_FILTER:{filterName:"estimates",defaultLogic:"any"},BOARD_ADD_LABEL_FILTER:{filterName:"labels",defaultLogic:"all"},BOARD_ADD_MILESTONE_FILTER:{filterName:"milestones",defaultLogic:"any"},BOARD_ADD_SPRINT_FILTER:{filterName:"sprints",defaultLogic:"any"},BOARD_ADD_RELEASE_FILTER:{filterName:"releases",defaultLogic:"all"}},PZ=["assignees","authors","epics","estimates","labels","milestones","releases","sprints"],AZ=(e,t)=>{const n=NZ[t]||{},s=(e=>{const t={board:{filters:e}};return PZ.reduce(((e,n)=>OZ(n)(t)?e+1:e),0)})(e);let{filterLogic:r}=e;const{filterInit:i,useDefaultFilterLogic:o}=e;return!i&&o&&(s&&(r=n.defaultLogic),s>1&&(r="all")),{...e,filterLogic:r}},{board:DZ}=pr;const{board:LZ}=pr;const{board:zZ}=pr,{board:MZ}=pr;const{board:xZ}=pr;const{board:FZ,release:UZ}=pr;const{board:BZ}=pr;const{board:qZ}=pr;const HZ=(0,mr.UY)({assignees:function(e,t){const n=e||yl.getEmptyFilter(),s=t||{};if(s.error)return n;switch(s.type){case IZ.ADD_ASSIGNEE_FILTER:return s.payload===Wu?yl.addSetting(Wu):yl.addFilter(s.payload,n);case IZ.REMOVE_ASSIGNEE_FILTER:return s.payload===Wu?yl.removeSetting(Wu):yl.removeFilter(s.payload,n);case IZ.CLEAR_ASSIGNEE_FILTER:case IZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return n}},authors:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl.getEmptyFilter(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case bZ.ADD_AUTHOR_FILTER:return yl.addFilter(t.payload,e);case bZ.REMOVE_AUTHOR_FILTER:return yl.removeFilter(t.payload,e);case bZ.CLEAR_AUTHOR_FILTER:case bZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return e}},epics:function(e,t){const n=e||yl.getEmptyFilter(),s=t||{};if(s.error)return n;switch(s.type){case RZ.ADD_EPIC_FILTERS:return function(e,t){return ee.u4g(TZ,t,e)}(s.payload,n);case RZ.REMOVE_EPIC_FILTERS:return function(e,t){return ee.u4g(CZ,t,e)}(s.payload,n);case RZ.CLEAR_EPIC_FILTER:case RZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return n}},dependencies:function(e,t){const n=e||SZ,s=t||{};if(s.error)return n;switch(s.type){case yZ.ADD_DEPENDENCIES_FILTER:return ee.yGi("value",s.payload,n);case yZ.DEPENDENCIES_TREE_LOADED:return ee.yGi("isFullTreeLoaded",!0,n);case yZ.CLEAR_DEPENDENCIES_FILTER:case yZ.CLEAR_TAG_FILTERS:return SZ;default:return n}},estimates:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yl.getEmptyFilter(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case wZ.ADD_ESTIMATE_FILTER:return yl.addFilter(t.payload,e);case wZ.REMOVE_ESTIMATE_FILTER:return yl.removeFilter(t.payload,e);case wZ.CLEAR_ESTIMATE_FILTER:case wZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return e}},filterLogic:e=>e||null,labels:function(e,t){const n=e||yl.getEmptyFilter(),s=t||{};if(s.error)return n;switch(s.type){case DZ.ADD_LABEL_FILTER:return yl.addFilter(s.payload,n);case DZ.REMOVE_LABEL_FILTER:return yl.removeFilter(s.payload,n);case DZ.CLEAR_LABEL_FILTER:case DZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return n}},milestones:function(e,t){const n=e||yl.getEmptyFilter(),s=t||{};if(s.error)return n;switch(s.type){case LZ.ADD_MILESTONE_FILTER:return s.payload===Ul?yl.addSetting(Ul,n):yl.addFilter(s.payload,n);case LZ.REMOVE_MILESTONE_FILTER:return s.payload===Ul?yl.removeSetting(Ul,n):yl.removeFilter(s.payload,n);case LZ.CLEAR_MILESTONE_FILTER:case LZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return n}},repos:(e,t)=>{const n=e||[],s=t||{};if(s.error)return n;switch(s.type){case zZ.BOARD_LOAD_DATA:return ee.zGw(ee.hXT(ee.OH4("loaded",!0)),ee.jge("repo_id"))(s.payload.repos);case zZ.SHOW_ONE_REPO:return[s.payload.repo_id];case zZ.SHOW_ALL_REPOS:return ee.jge("repo_id",s.payload);case zZ.ADD_REPO_FILTER:return ee.r3W(s.payload.filterKey,n)?n:ee.R3I(s.payload.filterKey,n);case zZ.REMOVE_REPO_FILTER:return ee.d1t(ee.fS0(s.payload.filterKey),n);default:return n}},sprints:function(e,t){const n=e||yl.getEmptyFilter(),s=t||{};if(s.error)return n;switch(s.type){case MZ.ADD_SPRINT_FILTER:return s.payload===oc?yl.addSetting(oc,n):yl.addFilter(s.payload,n);case MZ.REMOVE_SPRINT_FILTER:return s.payload===oc?yl.removeSetting(oc,n):yl.removeFilter(s.payload,n);case MZ.CLEAR_SPRINT_FILTER:case MZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return n}},releases:function(e,t){const n=e||yl.getEmptyFilter(),s=t||{};if(s.error)return n;switch(s.type){case FZ.ADD_RELEASE_FILTER:return yl.addFilter(s.payload,n);case FZ.REMOVE_RELEASE_FILTER:return yl.removeFilter(s.payload,n);case UZ.CLOSE_RELEASE:return Object.keys(n.is).includes(s.payload.release_id)?yl.removeFilter({...s.payload,filterKey:s.payload.release_id},n):n;case FZ.CLEAR_RELEASE_FILTER:case FZ.CLEAR_TAG_FILTERS:return yl.getEmptyFilter();default:return n}},showPRs:function(e,t){let n=e;ee.kKJ(n)&&(n=!0);const s=t||{};if(s.error)return n;switch(s.type){case BZ.SHOW_PULL_REQUESTS:return!0;case BZ.HIDE_PULL_REQUESTS:return!1;default:return n}},showOpenIssues:function(e,t){let n=e;ee.kKJ(n)&&(n=!0);const s=t||{};if(s.error)return n;switch(s.type){case qZ.SHOW_OPEN_ISSUES:return!0;case qZ.HIDE_OPEN_ISSUES:return!1;default:return n}},search:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case xZ.SET_SEARCH_FILTER:return s.payload;case xZ.CLEAR_SEARCH_FILTER:return null;default:return n}},useDefaultFilterLogic:e=>e||null,filterInit:e=>e||null}),WZ=(0,vZ.Z)(HZ,((e,t)=>{const n=t||{},s=e;if(n.error)return s;switch(n.type){case kZ.INIT_FILTER_LOGIC_FROM_URL:return{...s,filterLogic:n.payload[0]};case kZ.TOGGLE_FILTER_LOGIC:return{...s,filterLogic:n.payload.filterKey,useDefaultFilterLogic:!1};case kZ.SET_USE_DEFAULT_FILTER:return{...s,useDefaultFilterLogic:"true"===ee.YMb(n.payload)};case kZ.ADD_ASSIGNEE_FILTER:case kZ.ADD_AUTHOR_FILTER:case kZ.ADD_EPIC_FILTERS:case kZ.ADD_ESTIMATE_FILTER:case kZ.ADD_LABEL_FILTER:case kZ.ADD_MILESTONE_FILTER:case kZ.ADD_RELEASE_FILTER:case kZ.ADD_SPRINT_FILTER:return AZ(s,n.type);case kZ.CLEAR_TAG_FILTERS:return{...s,useDefaultFilterLogic:!0,filterLogic:"all"};case kZ.UPDATE_LOAD_STATE:return n.payload===C_?{...s,filterInit:!1}:{...s};default:return s}}),{filterLogic:"all",useDefaultFilterLogic:!0,filterInit:!0}),jZ=ee.CyQ(ee.vgT("isFullScreen")),GZ=ee.CyQ(ee.vgT("showExpandedFilters"));const KZ={isFullScreen:!1,showClosedPipeline:!0,showLabels:!0,showEstimates:!0,showMilestones:!0,showEpics:!0,showReleases:!0,showReviewers:!0,showDependencies:!0,showInsights:!0,activeDropdown:pl,activeFullscreenModal:f_,closedPipelineWidth:1,isAddPipelineActive:!1,isOnboardingDone:!1,isQuickIssueCreatorVisible:null,activeIssueCardOptions:null,newIssueModalExtension:null,showExpandedFilters:!1,showPipelineDescriptions:!0,workspaceLabelFilters:[]};const{board:VZ}=pr,$Z=ee.HK3(ee.vgT("repo_id")),ZZ=ee.eiS(["repo_id","issue_number"]),YZ=ee.CyQ(ee.kKJ),JZ=ee.vgT("selectedIssues"),XZ=ee.vgT("issues"),QZ=ee.WAo(((e,t,n)=>ee.zGw(ee.yGi("selectedIssues",t),ee.yGi("inSelectionMode",e))(n))),eY=Object.freeze({TOP:"top",BOTTOM:"bottom"});function tY(){return{epic:{add:{},remove:{}},labels:{add:{},remove:{}},assignees:{add:{},remove:{}},milestone:null,pipeline:null,estimate:null,releases:{add:{},remove:{}},pipelineDirection:eY.TOP}}const{board:nY}=pr,sY=(0,mr.UY)({status:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return ee.yGi("actionError",t.error,e);const n=e||{loadState:R_,updateCount:0,boardId:null,connectionState:null,isTransferring:!1,actionError:null,pipelineToDelete:null,isLoadingClosedIssues:null};switch(t.type){case pr.board.BOARD_LOAD_DATA:return ee.yGi("boardId",t.payload.boardId,n);case pr.board.BOARD_UPDATE:return ee.zGw(ee.yGi("updateCount",ee.aEe(n.updateCount)),ee.yGi("boardId",t.payload._id))(n);case pr.board.ISSUES_UPDATE:return ee.yGi("updateCount",ee.aEe(n.updateCount),n);case pr.board.UPDATE_LOAD_STATE:return ee.yGi("loadState",t.payload,n);case pr.board.UPDATE_CONNECTION_STATE:return ee.yGi("connectionState",t.payload,n);case pr.board.TRANSFER_ISSUE:case pr.board.REOPEN_ISSUE:case pr.board.CLOSE_ISSUE:return ee.yGi("isTransferring",!0,n);case pr.board.TRANSFER_ISSUE_SUCCESS:return ee.yGi("isTransferring",!1,n);case pr.board.SET_PIPELINE_TO_REMOVE:return ee.yGi("pipelineToDelete",t.payload,n);case pr.board.UPDATE_LOAD_MORE_CLOSED_ISSUES_STATE:return{...n,isLoadingClosedIssues:t.payload};default:return n}},rawPipelines:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case fZ.BOARD_LOAD_DATA:return pO(e,t.payload.rawPipelines);case fZ.BOARD_UPDATE:return pO(e,t.payload.pipelines);case fZ.QUICK_ADD_ISSUE:return vO(e,t.payload);case fZ.SET_PIPELINE_COLUMNS:return"closed-pipeline"!==t.payload.pipelineId?aO(e,t.payload):e;case fZ.ADD_PIPELINE:return ee.R3I(t.payload.newPipeline,e);case fZ.REMOVE_PIPELINE:return EO(e,t.payload);case fZ.REORDER_PIPELINE:return lO(e,t.payload);case fZ.REOPEN_ISSUE:case fZ.TRANSFER_ISSUE:return hO(e,t.payload);case fZ.SET_PIPELINE_SORTING:return gO(e,t.payload);case fZ.CLEAR_PIPELINE_SORTING:return fO(e,t.payload);default:return e}},indexedIssues:function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.error)return t;switch(n.type){case _Z.BOARD_LOAD_DATA:return In(n.payload.issues);case _Z.ADD_MORE_CLOSED_ISSUES:return On(ee.zGw(ee.jge("fetchedClosedIssues"),ee.xHg)(n.payload),t);case _Z.ISSUES_UPDATE:return On(n.payload,t);case _Z.ISSUE_DELETE:return Dn(n.payload.repo_id,n.payload.issue_number,t);case _Z.UPDATE_ISSUE_DEPENDENCIES:return Nn(n.payload,t);case _Z.REOPEN_ISSUE:return e=ee.eiS(["repo_id","issue_number"],n.payload),Pn(t,e,"open");case _Z.CLOSE_ISSUE:return e=ee.eiS(["repo_id","issue_number"],n.payload),Pn(t,e,"closed");case _Z.UPDATE_ISSUE_ASSIGNEES:{const e=an(n.payload);return ee.uhR([e,"assignees"],n.payload.assignees,t)}case _Z.UPDATE_ISSUE_LABELS:{const e=an(n.payload);return ee.uhR([e,"labels"],n.payload.labels,t)}case _Z.UPDATE_ISSUE_MILESTONE:{const e=an(n.payload);return ee.uhR([e,"milestone"],n.payload.milestone,t)}default:return t}},filters:WZ,display:function(e,t){const n=e||KZ,s=t||{};if(s.error)return n;switch(s.type){case pr.board.SHOW_CLOSED_PIPELINE:return ee.yGi("showClosedPipeline",!0,n);case pr.board.HIDE_CLOSED_PIPELINE:return ee.yGi("showClosedPipeline",!1,n);case pr.board.SHOW_LABELS:return ee.yGi("showLabels",!0,n);case pr.board.HIDE_LABELS:return ee.yGi("showLabels",!1,n);case pr.board.SHOW_ESTIMATES:return ee.yGi("showEstimates",!0,n);case pr.board.HIDE_ESTIMATES:return ee.yGi("showEstimates",!1,n);case pr.board.SHOW_MILESTONES:return ee.yGi("showMilestones",!0,n);case pr.board.HIDE_MILESTONES:return ee.yGi("showMilestones",!1,n);case pr.board.SHOW_EPICS:return ee.yGi("showEpics",!0,n);case pr.board.HIDE_EPICS:return ee.yGi("showEpics",!1,n);case pr.board.SHOW_RELEASES:return ee.yGi("showReleases",!0,n);case pr.board.HIDE_RELEASES:return ee.yGi("showReleases",!1,n);case pr.board.SHOW_DEPENDENCIES:return ee.yGi("showDependencies",!0,n);case pr.board.HIDE_DEPENDENCIES:return ee.yGi("showDependencies",!1,n);case pr.board.SHOW_ADD_PIPELINE:return ee.yGi("isAddPipelineActive",!0,n);case pr.board.HIDE_ADD_PIPELINE:return ee.yGi("isAddPipelineActive",!1,n);case pr.board.SHOW_FULL_SCREEN:return ee.yGi("isFullScreen",!0,n);case pr.board.HIDE_FULL_SCREEN:return ee.yGi("isFullScreen",!1,n);case pr.board.SHOW_REVIEWERS:return ee.yGi("showReviewers",!0,n);case pr.board.HIDE_REVIEWERS:return ee.yGi("showReviewers",!1,n);case pr.board.SHOW_INSIGHTS:return ee.yGi("showInsights",!0,n);case pr.board.HIDE_INSIGHTS:return ee.yGi("showInsights",!1,n);case pr.board.TOGGLE_FULL_SCREEN:return ee.yGi("isFullScreen",jZ(n),n);case pr.board.TOGGLE_DROPDOWN:{const{payload:e}=s;return e===n.activeDropdown?{...n,activeDropdown:pl}:{...n,activeDropdown:e}}case pr.board.OPEN_FULLSCREEN_MODAL:return ee.yGi("activeFullscreenModal",s.payload,n);case pr.board.CLOSE_FULLSCREEN_MODAL:return ee.yGi("activeFullscreenModal",f_,n);case pr.board.SET_PIPELINE_COLUMNS:return"closed-pipeline"===s.payload.pipelineId?ee.yGi("closedPipelineWidth",s.payload.width,n):n;case pr.board.LOAD_ONBOARDING_VALUE:return ee.yGi("isOnboardingDone",s.payload,n);case pr.board.TOGGLE_ISSUE_CARD_OPTIONS:return function(e,t){const n=an(e);return t.activeIssueCardOptions===n?ee.yGi("activeIssueCardOptions",null,t):ee.yGi("activeIssueCardOptions",n,t)}(s.payload,n);case pr.board.OPEN_EXTENSION_NEW_ISSUE_MODAL:{const e=ee.eiS(["organization","repository","repo_id"],s.payload);return ee.yGi("newIssueModalExtension",e,n)}case pr.board.CLOSE_EXTENSION_NEW_ISSUE_MODAL:return ee.yGi("newIssueModalExtension",null,n);case pr.board.TOGGLE_EXPANDED_FILTERS:return ee.yGi("showExpandedFilters",GZ(n),n);case pr.board.SHOW_PIPELINE_DESCRIPTIONS:return ee.yGi("showPipelineDescriptions",!0,n);case pr.board.HIDE_PIPELINE_DESCRIPTIONS:return ee.yGi("showPipelineDescriptions",!1,n);case pr.board.SET_WORKSPACE_LABEL_FILTERS:return ee.yGi("workspaceLabelFilters",s.payload,n);case pr.board.TOGGLE_QUICK_ISSUE_CREATOR:return n.isQuickIssueCreatorVisible===s.payload?{...n,isQuickIssueCreatorVisible:null}:{...n,isQuickIssueCreatorVisible:s.payload};default:return n}},repos:(e,t)=>{const n=e||{},s=t||{};if(s.error)return n;switch(s.type){case VZ.BOARD_LOAD_DATA:return $Z(s.payload.repos);case VZ.ADD_MORE_CLOSED_ISSUES:return ee.u4g(((e,t)=>ee.uhR([t.repo_id,"closedIssuesLoading"],t.closedIssuesLoading,e)),n,s.payload);case VZ.REPO_LOADED:return ee.uhR([s.payload.repo_id,"loaded"],!0,n);case VZ.REPOS_LOADED:{const e=ee.UID(ee.yGi("loaded",!0),s.payload);return ee.TSy(n,$Z(e))}default:return n}},multiAction:(e,t)=>{const n=e||ee.TSy({inSelectionMode:!1,selectedIssues:[]},tY()),s=t||{};if(s.error)return n;let r,i,o,a,l;switch(s.type){case pr.board.ENTER_SELECTION_MODE:return ee.yGi("inSelectionMode",!0,n);case pr.board.EXIT_SELECTION_MODE:return QZ(!1,[],n);case pr.board.ADD_ISSUE_TO_SELECTION:return r=JZ(n),i=ZZ(s.payload),o=ee.sEJ(ee.goX(i),r),i.isSelected?n:YZ(o)?n:(a=ee.R3I(s.payload,r),QZ(!0,a,n));case pr.board.ISSUES_UPDATE:return function(e,t){const n=JZ(t),s=ee.hXT(Yt,e),r=ee.UID(ZZ,s),i=ee.e50(n,r),o=!ee.xbD(i);return QZ(o,i,t)}(s.payload,n);case pr.board.ADD_ALL_ISSUES_TO_SELECTION:case pr.board.REPLACE_ISSUES_IN_SELECTION:return QZ(!0,s.payload,n);case pr.board.REMOVE_ISSUE_FROM_SELECTION:return r=JZ(n),i=ZZ(s.payload),o=ee.sEJ(ee.goX(i),r),ee.kKJ(o)?n:(a=ee.zud([o],r),ee.xbD(a)?QZ(!1,a,n):QZ(!0,a,n));case pr.board.ADD_ISSUES_TO_SELECTION:{const e=JZ(n),t=ee.UID(ZZ,XZ(s.payload)),r=ee.F2w($t,t,e),i=ee.zoF(e,r);return QZ(!0,i,n)}case pr.board.REMOVE_ISSUES_FROM_SELECTION:{const e=JZ(n),t=ee.UID(ZZ,XZ(s.payload)),r=ee.F2w($t,e,t);return QZ(!ee.xbD(r),r,n)}case pr.board.CLEAR_CHANGES_MULTI_ACTION:return ee.TSy(n,tY());case pr.board.CLEAR_ISSUES_FROM_SELECTION:return ee.yGi("selectedIssues",[],n);case pr.board.ADD_LABEL_MULTI_ACTION:return l=ee.t$q(s.payload),ee.zGw(ee.ghH(["labels","remove",l]),ee.uhR(["labels","add",l],!0))(n);case pr.board.REMOVE_LABEL_MULTI_ACTION:return l=ee.t$q(s.payload),ee.zGw(ee.ghH(["labels","add",l]),ee.uhR(["labels","remove",l],!0))(n);case pr.board.SET_MILESTONE_MULTI_ACTION:return ee.yGi("milestone",s.payload,n);case pr.board.SET_PIPELINE_MULTI_ACTION:return ee.yGi("pipeline",s.payload,n);case pr.board.SET_PIPELINE_DIRECTION_MULTI_ACTION:return ee.yGi("pipelineDirection",s.payload,n);case pr.board.ADD_ASSIGNEE_MULTI_ACTION:{const e=ee.t$q(s.payload);return ee.zGw(ee.ghH(["assignees","remove",e]),ee.uhR(["assignees","add",e],!0))(n)}case pr.board.REMOVE_ASSIGNEE_MULTI_ACTION:{const e=ee.t$q(s.payload);return ee.zGw(ee.ghH(["assignees","add",e]),ee.uhR(["assignees","remove",e],!0))(n)}case pr.board.ADD_EPIC_MULTI_ACTION:return ee.zGw(ee.ghH(["epic","remove",s.payload]),ee.uhR(["epic","add",s.payload],!0))(n);case pr.board.REMOVE_EPIC_MULTI_ACTION:return ee.zGw(ee.ghH(["epic","add",s.payload]),ee.uhR(["epic","remove",s.payload],!0))(n);case pr.board.SET_ESTIMATE_MULTI_ACTION:return ee.yGi("estimate",s.payload,n);case pr.board.ADD_RELEASE_MULTI_ACTION:return ee.zGw(ee.ghH(["releases","remove",s.payload]),ee.uhR(["releases","add",s.payload],!0))(n);case pr.board.REMOVE_RELEASE_MULTI_ACTION:return ee.zGw(ee.ghH(["releases","add",s.payload]),ee.uhR(["releases","remove",s.payload],!0))(n);default:return n}},priorities:gZ,issuePriorities:pZ});var rY=n(57636);const{breadcrumbs:iY}=pr,oY=(0,rY.Z)({[iY.OPEN_DEFAULT_DROPDOWN]:e=>({...e,isDefaultDropdownOpen:!0}),[iY.CLOSE_DEFAULT_DROPDOWN]:e=>({...e,isDefaultDropdownOpen:!1}),[iY.OPEN_ISSUE_PAGE_DROPDOWN]:e=>({...e,isIssuePageDropdownOpen:!0}),[iY.CLOSE_ISSUE_PAGE_DROPDOWN]:e=>({...e,isIssuePageDropdownOpen:!1})},{isDefaultDropdownOpen:!1,isIssuePageDropdownOpen:!1}),aY=oY,{dashboard:lY}=pr;const{dashboard:cY}=pr,dY={plan:null,referral:null};const{dashboard:uY}=pr;function pY(e,t,n){const s=ee.zoF(n.pendingUsers,e||[]),r=s.length+t,i={pendingUsers:s,additionalLicenses:ee.Fp7(n.additionalLicenses,r)};return ee.TSy(n,i)}const{isNotNil:mY}=Vt.Z,hY=ee.vgT("name"),EY=ee.vgT("webhooks"),gY=ee.ETc(["dashboard","users","users"]),fY=ee.ETc(["dashboard","account","admins"]),_Y=ee.ETc(["dashboard","account","account","subscription","plan","interval"]),vY=ee.ETc(["dashboard","account","account","subscription"]),IY=ee.ETc(["dashboard","account","account","subscription","status"]);function bY(e){return"ZenhubUser"===e?.__typename?{isAdmin:!1,avatarUrl:e?.imageUrl??e?.githubUser?.avatarUrl,displayName:e?.name??e?.githubUser?.name??e?.githubUser?.login,ghId:e?.githubUser?.ghId,isZenhubUser:!0,user_id:e?.id,username:e?.email??e?.githubUser?.login,isSeated:!1}:{username:e?.github?.username||"",displayName:e?.github?.displayName||"",avatarUrl:e?.github?.avatarUrl||"",isSeated:e.is_seated,isAdmin:"admin"===e.user_type,isZenhubUser:!1,user_id:e.user_id,hasActiveLicenseRequest:e.hasActiveLicenseRequest}}const yY=ee.ETc(["dashboard","account","account","hasPaidPlan"]),SY=ee.uF6(["dashboard","account","user_type"],"admin"),wY=(ee.ETc(["dashboard","display","orgLoadingError"]),ee.ETc(["dashboard","display","selectedOrganization"])),RY=ee.uF6(["dashboard","display","selectedOrganization","isUser"],!0),TY=(ee.ETc(["dashboard","display","selectedOrganization","id"]),ee.ETc(["dashboard","display","selectedOrganization","login"]),ee.ETc(["dashboard","display","selectedOrganization","avatar_url"]),ee.ETc(["dashboard","account","account","isTrialing"]),ee.uF6(["dashboard","account","account","is_seated"],!0)),CY=ee.ETc(["dashboard","account","account","subscription","quantity"]),kY=ee.ETc(["dashboard","account","account","num_users"]),OY=ee.ETc(["dashboard","account","account","num_seated"]),NY=ee.ETc(["dashboard","account","account","subscription","trial_end"]);(0,pa.P1)(kY,OY,((e,t)=>e-t));const PY=ee.WAo((e=>EY(e)?function(e){const t=EY(e),n=hY(e),s=ee.UID(ee.yGi("repo_name",n),t);return ee.yGi("webhooks",s,e)}(e):e)),AY=ee.MRu(ee.qCK(ee.t$q,hY)),DY=(ee.ETc(["dashboard","account","account","card","brand"]),ee.ETc(["dashboard","account","account","card","last4"]),ee.ETc(["dashboard","account","account","infos"]),ee.ETc(["dashboard","account","account","email"]),ee.ETc(["dashboard","account","organization","gh_id"]),ee.ETc(["dashboard","account","organization","gh_name"]),ee.ETc(["dashboard","account"]),ee.ETc(["dashboard","account","organization","_id"]),ee.ETc(["dashboard","account","account","subscription","current_period_end"]),ee.ETc(["dashboard","account","account","subscription","plan","amount"]),ee.ETc(["dashboard","account","account","subscription","plan","id"]),ee.ETc(["dashboard","account","account","subscription","plan","interval"]),ee.ETc(["dashboard","account","account","subscription","status"]),ee.ETc(["dashboard","display","additionalLicenses"]),ee.ETc(["dashboard","display","isSelectedPlanIntervalYear"]),ee.ETc(["dashboard","integration","addToSlackError"]),ee.ETc(["dashboard","integration","addWebhookError"]),ee.ETc(["dashboard","billing","plan","additionalLicenses"]),ee.ETc(["dashboard","display","billingError"]),ee.ETc(["dashboard","billing","plan","yearly"]),ee.uF6(["dashboard","billing","plan","isCreditCardUpdate"],!0),ee.ETc(["dashboard","billing","plan","pendingUserIds"])),LY=(ee.ETc(["dashboard","billing","plan","licenseCount"]),ee.ETc(["dashboard","billing","plan","licensePrice"]),ee.ETc(["dashboard","billing","plan","seats"]),ee.ETc(["dashboard","billing","plan","price"]),ee.ETc(["dashboard","billing","plan","renewalDate"]),ee.ETc(["dashboard","billing","referral","amountOff"]),ee.ETc(["dashboard","billing","referral","duration"]),ee.ETc(["dashboard","billing","referral","percentOff"]),ee.ETc(["dashboard","billing","referral","valid"]),(0,pa.P1)(SY,yY,((e,t)=>!t||e)),ee.ETc(["dashboard","account","account","subscription","plan","interval"]),ee.ETc(["dashboard","display","checkoutError"]),ee.ETc(["dashboard","display","checkoutSuccessMsg"]),ee.ETc(["dashboard","display","checkoutType"])),zY=ee.ETc(["dashboard","account","account","customer_id"]),MY=(0,pa.P1)(zY,(e=>!ee.kKJ(e))),xY=ee.ETc(["dashboard","account","account","hasManualPlan"]),FY=ee.ETc(["dashboard","account","account","hasMarketplacePlan"]),UY=ee.ETc(["dashboard","account","account","subscription","cancel_at_period_end"]),BY=(0,pa.P1)(vY,(e=>!ee.kKJ(e))),qY=((0,pa.P1)(BY,yY,CY,((e,t,n)=>!!e&&(!t&&0===n))),(0,pa.P1)(BY,yY,CY,((e,t,n)=>!!e&&(!t&&n>0))),(0,pa.P1)(yY,UY,((e,t)=>e&&!t)),(0,pa.P1)(RY,(e=>!e&&!x)),(0,pa.P1)(SY,FY,((e,t)=>!t&&e)),(0,pa.P1)(fY,SY,yY,MY,BY,xY,((e,t,n,s,r,i)=>!!s&&(!i&&(!r||(n?t:!(e&&e.length>0)||t))))),(0,pa.P1)(fY,SY,yY,MY,BY,xY,((e,t,n,s,r,i)=>!!s&&(!i&&(!r||(n?t:!(e&&e.length>0)||t)))))),HY=(0,pa.P1)(fY,SY,TY,yY,MY,xY,BY,OY,LY,((e,t,n,s,r,i,o,a,l)=>l!==Ex.UPGRADE_TO_ANNUAL&&(!!r&&(!o||!i&&(s||e&&e.length>0?t:n||0===a))))),WY=((0,pa.P1)(BY,yY,qY,((e,t,n)=>!!e&&(!t&&!n))),(0,pa.P1)(IY,(e=>"unpaid"===e)),ee.ETc(["dashboard","invoices","invoices"]),ee.ETc(["dashboard","integration","addWebhookPending"]),ee.ETc(["dashboard","display","paymentProcessing"]),ee.ETc(["dashboard","integration","repos"])),jY=(ee.ETc(["dashboard","integration","slackConnectedRepo","id"]),ee.ETc(["dashboard","integration","slackConnectedRepo","name"]),(0,pa.P1)([WY],(e=>ee.kKJ(e)?null:AY(e)))),GY=((0,pa.P1)([jY],(e=>{if(ee.kKJ(e))return null;return ee.Ce7({id:-1,name:"--",permissions:{admin:!1,push:!1,pull:!1}},e)})),ee.ETc(["dashboard","display","pendingUsers"])),KY=(ee.ETc(["dashboard","account","account","subscription","discount","coupon","amount_off"]),ee.ETc(["dashboard","account","account","subscription","discount","coupon","duration"])),VY=(ee.ETc(["dashboard","account","account","subscription","discount","coupon","duration_in_months"]),ee.ETc(["dashboard","account","account","subscription","discount","end"])),$Y=(ee.ETc(["dashboard","account","account","subscription","discount","coupon","id"]),ee.ETc(["dashboard","account","account","subscription","discount","coupon","percent_off"]),ee.ETc(["dashboard","account","account","subscription","discount","start"])),ZY=((0,pa.P1)(KY,$Y,VY,((e,t,n)=>{if("repeating"===e){const e=mc(n),s=mc(t);return e.diff(s,"month")}return e})),ee.ETc(["dashboard","account","account","subscription","discount","coupon","valid"]),ee.ETc(["dashboard","account","account","subscription","plan","id"]),(0,pa.P1)(gY,(e=>e?ee.qCK(ee.hXT(ee.vgT("hasActiveLicenseRequest")),ee.UID(bY))(e):[])),(0,pa.P1)(_Y,(e=>"year"===e)),(0,pa.P1)(CY,OY,((e,t)=>ee.kKJ(e)||ee.kKJ(t)?0:e-t)),(0,pa.P1)(gY,(e=>e?ee.UID(bY,e):null)));function YY(e,t){if(!t||!e)return[];const n=ee.u4g(((e,t)=>(e[ee.t$q(t)]=!0,e)),{},t);return ee.hXT((e=>Boolean(n[ee.t$q(e.username)])),e)}(0,pa.P1)(ZY,GY,YY),(0,pa.P1)(ZY,DY,YY),(0,pa.P1)(NY,(e=>ee.kKJ(e)?null:RR(1e3*e))),(0,pa.P1)([WY],(e=>{if(ee.kKJ(e))return null;const t=ee.UID(PY,e);return ee.zGw(ee.jge("webhooks"),ee.hXT(mY),ee.xHg)(t)})),(0,pa.P1)(fY,(e=>e?ee.UID((e=>({username:ee.vgT("login",e),displayName:ee.vgT("display_name",e),avatarUrl:ee.vgT("avatar_url",e)})),e):null));const JY=(0,pa.P1)(ZY,(e=>e?ee.qCK(ee.kE,ee.hXT(ee.vgT("isSeated")))(e):0)),{isNotNil:XY}=((0,pa.P1)(HY,FY,CY,JY,((e,t,n,s)=>{if(!e)return!1;return!(t&&n-s<1)})),(0,pa.P1)(CY,UY,SY,((e,t,n)=>e>=20&&t&&n)),Vt.Z),QY=((0,pa.P1)(Lw,ku,((e,t)=>ee.kKJ(e)||ee.kKJ(t)?null:ee.yGi(ee.t$q(t.login),t,e))),ee.qhW(ee.kKJ)),eJ=QY(ee.vgT("login")),tJ=QY(ee.t$q),nJ=(0,pa.P1)(wY,Lw,ku,((e,t,n,s)=>t||s)),sJ=(0,pa.P1)(nJ,eJ),rJ=(0,pa.P1)(sJ,tJ),iJ=((0,pa.P1)(Lw,rJ,_u,wu,((e,t,n,s)=>{const r=ee.UID((e=>({ownerName:e.login,ownerAvatar:e.avatar_url,isActive:ee.t$q(e.login)===t})))(ee.VO0(e));return ee.R3I({ownerName:n,ownerAvatar:s,isActive:n?.toLowerCase()===t,isUser:!0},r)})),ee.vgT("repo_id"));const{dashboard:oJ}=pr;const{dashboard:aJ}=pr;const{dashboard:lJ}=pr;const cJ=(0,mr.UY)({account:function(e,t){const n=t||{},s=e||null;return n.error?s:n.type===lY.SET_DASHBOARD_ACCOUNT?n.payload:s},billing:function(e,t){const n=t||{},s=e||dY;if(n.error)return s;switch(n.type){case cY.SET_BILLING_PLAN:return ee.yGi("plan",n.payload,s);case cY.SET_BILLING_REFERRAL:return ee.yGi("referral",n.payload,s);case cY.RESET_BILLING:return dY;default:return s}},display:(e,t)=>{const n=t||{},s=e||ee.TSy({additionalLicenses:0,billingError:null,checkoutError:null,checkoutSuccessMsg:null,checkoutType:null,isSelectedPlanIntervalYear:!1,paymentProcessing:!1,pendingUsers:[]},{selectedOrganization:null,orgLoadingError:null});if(n.error)return s;switch(n.type){case uY.ADD_PENDING_USERS:{const{usernames:e,licenseOffset:t}=n.payload;return pY(e,t||0,s)}case uY.CLEAN_CHECKOUT_STATE:{const e={additionalLicenses:0,billingError:null,checkoutError:null,checkoutSuccessMsg:null,checkoutType:null,isSelectedPlanIntervalYear:!1,paymentProcessing:!1,pendingUsers:[]};return ee.TSy(s,e)}case uY.PROCESS_PAYMENT:{const e={checkoutError:null,paymentProcessing:!0,setCheckoutSuccessMsg:null};return ee.TSy(s,e)}case uY.REMOVE_PENDING_USER:{const{username:e,licenseOffset:t}=n.payload;return function(e,t,n){const s=n.pendingUsers,r=ee.d1t((t=>ee.t$q(t)===ee.t$q(e)),s);let{additionalLicenses:i}=n;n.pendingUsers.length+t===i&&i>1&&(i-=1);const o={pendingUsers:r,additionalLicenses:i};return ee.TSy(n,o)}(e,t,s)}case uY.SELECT_ORGANIZATION:{const e={additionalLicenses:0,billingError:null,checkoutError:null,checkoutSuccessMsg:null,checkoutType:null,isSelectedPlanIntervalYear:!1,paymentProcessing:!1,pendingUsers:[]};return ee.Jnq([s,e,{selectedOrganization:n.payload}])}case uY.SET_BILLING_ERROR:return ee.yGi("billingError",n.payload,s);case uY.SET_CHECKOUT_ERROR:return ee.yGi("checkoutError",n.payload,s);case uY.SET_CHECKOUT_TYPE:return ee.yGi("checkoutType",n.payload,s);case uY.SET_ORG_LOADING_ERROR:return ee.yGi("orgLoadingError",n.payload,s);case uY.SET_PAYMENT_PROCESSING_STATE:return ee.yGi("paymentProcessing",n.payload,s);case uY.SET_CHECKOUT_SUCCESS_MSG:return ee.yGi("checkoutSuccessMsg",n.payload,s);case uY.SET_ADDITIONAL_LICENSES:{const{count:e,licenseOffset:t}=n.payload;return function(e,t,n){let{pendingUsers:s}=n;const r=s.length+t-e;r>0&&(s=ee.mAg(r,n.pendingUsers));const i={pendingUsers:s,additionalLicenses:e};return ee.TSy(n,i)}(e,t,s)}case uY.SET_IS_SELECTED_PLAN_INTERVAL_YEAR:return ee.yGi("isSelectedPlanIntervalYear",n.payload,s);case uY.SET_PENDING_USERS:{const{usernames:e,licenseOffset:t}=n.payload;return pY(e,t||0,ee.yGi("pendingUsers",[],s))}default:return s}},integration:function(e,t){const n=t||{},s=e||{addToSlackError:null,addWebhookError:null,addWebhookPending:!1,repos:null,slackConnectedRepo:null};if(n.error)return s;switch(n.type){case oJ.SET_REPOS_AND_WEBHOOKS:return ee.yGi("repos",n.payload,s);case oJ.RESET_REPOS_AND_WEBHOOKS:return ee.yGi("repos",null,s);case oJ.UPDATE_REPOS_AND_WEBHOOKS:{const e=n.payload,{repos:t}=s,r=function(e,t){const n=ee.sEJ(ee.OH4("id",iJ(e))),s=ee.cxD(ee.OH4("id",iJ(e))),r=n(t),i=s(t),o=ee.vgT("webhooks",r)||[],a=ee.OH4("_id",e._id),l=XY(ee.sEJ(a,o))?ee.d1t(a,o):ee.zoF([e],o),c=ee.kE(l)>0?ee.yGi("webhooks",l,r):ee.anz("webhooks",r);return ee.Vxg(i,c,t)}(e,t);return ee.yGi("repos",r,s)}case oJ.SET_REPO_FOR_SLACK:return ee.yGi("slackConnectedRepo",n.payload,s);case oJ.SET_INTEGRATION_ERROR:return ee.TSy(s,n.payload);case oJ.ADD_WEBHOOK_PENDING:return ee.yGi("addWebhookPending",n.payload,s);default:return s}},invoices:function(e,t){const n=t||{},s=e||null;if(n.error)return s;switch(n.type){case aJ.CLEAR_INVOICES:return null;case aJ.SET_DASHBOARD_INVOICES:return ee.yGi("invoices",n.payload,s);default:return s}},users:function(e,t){const n=t||{},s=e||null;return n.error?s:n.type===lJ.SET_USERS?ee.TSy(s,n.payload):s}}),dJ=cJ,{flag:uJ}=pr,pJ=(0,rY.Z)({[uJ.SET_FLAGS]:(e,t)=>{let{payload:n}=t;return{...e,...n}}},{}),mJ=pJ,{invites:hJ}=pr,EJ={activeModal:f_,pendingInvites:null,assignedUsers:null,existingMembers:null},gJ={};function fJ(e,t){return ee.yGi("activeModal",t,e)}const{issue:_J}=pr,vJ=(0,_r.Lq)([],(e=>{e.addCase(_J.SET_ISSUE_TIMELINE_DATA,((e,t)=>{let{payload:n}=t;return n.comments})),e.addCase(_J.UPDATE_ISSUE_GH_DATA,((e,t)=>{let{payload:n}=t;return n.comments})),e.addCase(_J.ADD_COMMENT,((e,t)=>{let{payload:n}=t;e.push(n)})),e.addCase(MU.fulfilled,((e,t)=>{let{meta:n}=t;const{commentId:s,newBody:r}=n.arg,i=e.findIndex((e=>e.id===s));-1!==i&&(e[i].body=r)})),e.addCase(_J.DELETE_COMMENT_SUCCESS,((e,t)=>{let{payload:n}=t;const s=e.findIndex((e=>e.id===n));-1!==s&&e.splice(s,1)}))})),IJ=vJ,{issueDependencies:bJ}=pr,yJ=ee.QMA(["display","isAddFormOpen"]),SJ=ee.QMA(["form","issues"]),wJ=ee.QMA(["form","error"]),RJ=ee.QMA(["dependencies","blocked_by"]),TJ=ee.QMA(["dependencies","blocking"]),CJ=ee.zGw(ee.t8m(TJ,null),ee.t8m(RJ,null),ee.t8m(wJ,null),ee.t8m(SJ,null),ee.t8m(yJ,!1))({}),kJ={};const{issue:OJ,board:NJ}=pr,PJ=(e,t)=>t===e.activeDropdown?{...e,activeDropdown:pl}:{...e,activeDropdown:t},AJ={activeDropdown:pl,isNewIssueOpen:!1,isSidebarOpen:!1,isTemplateSelectOpen:!1,isIssueTemplateDirty:!1,loadStatus:null,loadError:null},{issue:DJ}=pr;const{issue:LJ}=pr,zJ="ZH_EDIT_COMMENTS",MJ={comments:{},issues:_a(zJ)?.issues||{}},xJ=(e,t)=>{let n,{commentId:s,issueNumber:r}=t;return s?n=e.comments[s]?.draft:r&&(n=e.issues[r]?.draft),n||""},FJ=(e,t,n,s)=>{if(n){if(!e.comments[n])return;e.comments[n].draft=t}else s&&(e.issues[s]?e.issues[s].draft=t:e.issues[s]={draft:t,isSaving:!1});fa(zJ,e)},UJ=(0,_r.Lq)(MJ,(e=>{e.addCase(LU,((e,t)=>{let{payload:{commentId:n,initialContent:s}}=t,r=s;const i=_a(zJ)?.comments[n]?.draft;i&&(r=i),e.comments[n]={draft:r,isSaving:!1}})),e.addCase(DU,((e,t)=>{let{payload:{commentId:n,issueNumber:s}}=t;n&&delete e.comments[n],s&&delete e.issues[s],fa(zJ,e)})),e.addCase(zU,((e,t)=>{let{payload:{commentId:n,issueNumber:s,value:r}}=t;FJ(e,r,n,s)})),e.addCase(MU.pending,((e,t)=>{let{meta:n}=t;const{commentId:s}=n.arg;e.comments[s]?e.comments[s].isSaving=!0:e.comments[s]={draft:null,isSaving:!0}})),e.addCase(MU.fulfilled,((e,t)=>{let{meta:n}=t;const{commentId:s}=n.arg;delete e.comments[s],fa(zJ,e)})),e.addCase(MU.rejected,((e,t)=>{let{meta:n}=t;const{commentId:s}=n.arg;e.comments[s]?e.comments[s].isSaving=!1:e.comments[s]={draft:null,isSaving:!1}})),e.addCase(LJ.UPLOAD_FILE_STAMP,((e,t)=>{let{payload:n}=t;const{caretIndex:s,commentId:r,issueNumber:i,stamp:o}=n;if(void 0===r)return;const a=xJ(e,{commentId:r,issueNumber:i}),l=String(a).substring(0,s)+o+String(a).substring(s);FJ(e,l,r,i)})),e.addCase(LJ.UPLOAD_FILE_ERROR,((e,t)=>{let{payload:n}=t;const{commentId:s,issueNumber:r,stamp:i}=n;if(void 0===s)return;const o=xJ(e,{commentId:s,issueNumber:r}),a=String(o).replace(i,"");FJ(e,a,s,r)})),e.addCase(LJ.UPLOAD_FILE_SUCCESS,((e,t)=>{let{payload:n}=t;const{commentId:s,issueNumber:r,link:i,stamp:o}=n;if(void 0===s)return;const a=xJ(e,{commentId:s,issueNumber:r}),l=String(a).replace(o,i);FJ(e,l,s,r)}))})),BJ=UJ,{issue:qJ}=pr;const{issue:HJ}=pr,WJ=(e,t)=>ee.TSy(t,{currentValue:null,estimateValues:ud(e)}),jJ=(e,t)=>ee.TSy(t,{currentValue:dd(e),estimateValues:ud(e)}),{issue:GJ}=pr;const{issue:KJ}=pr;const{issue:VJ}=pr;const{issue:$J}=pr;function ZJ(e){const t=(e=>{const t=ee.sEJ(ee.OH4("isIn",!0))(e);return ee.kKJ(t)?ee.YMb(e):t})(e.pipelines),n=(e=>{const t=ee.sEJ(ee.OH4("isDefaultPRPipeline",!0))(e);return ee.kKJ(t)?ee.YMb(e):t})(e.pipelines),s=e.pipelines.map((e=>({_id:e._id,name:e.name})));return{currentPipelineId:t?t._id:null,defaultPRPipelineId:n?n._id:null,pipelines:s,workspace:e.workspace,priorities:e.priorities||e.workspace.priorities,priorityId:e.priorityId}}const{issue:YJ}=pr;const{issue:JJ}=pr;const{issue:XJ}=pr;const{issue:QJ}=pr,{issue:eX}=pr;const{issue:tX}=pr,nX=(e,t)=>e.map((e=>({...e,selected:e.id===t}))),sX={...Mx({id:"none",name:"None",about:null}),selected:!0},rX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case tX.SET_TEMPLATES:return[sX,...t.payload];case tX.SELECT_TEMPLATE:return nX(e,t.payload.template.id);default:return e}},{issue:iX,pages:oX}=pr,{issue:aX}=pr;const{issue:lX}=pr,cX=(0,mr.UY)({comments:IJ,dependencies:function(e,t){const n=e||CJ,s=t||kJ;if(s.error)return n;switch(s.type){case bJ.CLOSE_ADD_DEPENDENCY_FORM:return ee.zGw(ee.t8m(wJ,null),ee.t8m(yJ,!1))(n);case bJ.OPEN_ADD_DEPENDENCY_FORM:return ee.t8m(yJ,!0,n);case bJ.SET_WORKSPACE_ISSUES:return ee.t8m(SJ,s.payload,n);case bJ.SET_ISSUE_DEPENDENCIES:return ee.zGw(ee.t8m(RJ,s.payload.blocked_by),ee.t8m(TJ,s.payload.blocking))(n);case bJ.ERROR_ADD_DEPENDENCY:return ee.zGw(ee.t8m(wJ,s.payload),ee.t8m(yJ,!0))(n);default:return n}},display:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AJ,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case OJ.TOGGLE_DROPDOWN:return PJ(e,t.payload);case OJ.TOGGLE_SIDEBAR:return{...e,isSidebarOpen:t.payload};case OJ.TOGGLE_TEMPLATE_DROPDOWN:return{...e,isTemplateSelectOpen:!e.isTemplateSelectOpen};case OJ.SET_IS_ISSUE_TEMPLATE_DIRTY:return{...e,isIssueTemplateDirty:t.payload};case OJ.SET_LOAD_STATUS:return{...e,loadStatus:t.payload};case OJ.SET_LOAD_ERROR:return{...e,loadError:t.payload};case OJ.SIDEBAR_REMOVE_FILTER_DEPENDENT_LABEL:return{...e,filterDependentLabelRemoved:!0};case OJ.SIDEBAR_RESTORE_FILTER_DEPENDENT_LABELS:return{...e,filterDependentLabelRemoved:!1};case OJ.SET_NEW_ISSUE_MODE:return{...e,isNewIssueOpen:t.payload};case OJ.SET_NEW_ISSUE_DATA:case NJ.OPEN_EXTENSION_NEW_ISSUE_MODAL:return{...e,isNewIssueOpen:!0};case OJ.SET_ISSUE_INFO_PRIMARY:case NJ.CLOSE_EXTENSION_NEW_ISSUE_MODAL:return{...e,isNewIssueOpen:!1};default:return e}},draftIssues:function(e,t){const n=e||{isLoaded:!1},s=t||{};if(s.error)return n;let r,i,o,a;switch(s.type){case DJ.INIT_DRAFT:{({key:r,value:o}=s.payload);const e=ga(r);return e?.length?{...n,[r]:e}:{...n,[r]:o}}case DJ.UPDATE_DRAFT:return({value:a,key:r}=s.payload),va(r,a),{...n,[r]:a};case DJ.CLEAR_DRAFT:{const e={...n};return delete e[s.payload],Ea(s.payload),e}case DJ.UPLOAD_FILE_STAMP:{({key:r,stamp:i}=s.payload);const{caretIndex:e,commentId:t}=s.payload;return t?n:(o=ee.Uth("",r,n)||"",a=o.substring(0,e)+i+o.substring(e),ee.yGi(r,a,n))}case DJ.UPLOAD_FILE_SUCCESS:{({key:r,stamp:i}=s.payload);const{commentId:e,link:t}=s.payload;return e?n:(o=ee.vgT(r,n),a=o.replace(i,t),ee.yGi(r,a,n))}case DJ.UPLOAD_FILE_ERROR:{({key:r,stamp:i}=s.payload);const{commentId:e}=s.payload;return e?n:(o=ee.vgT(r,n),a=o.replace(i,""),ee.yGi(r,a,n))}case DJ.SELECT_TEMPLATE:{const{repoId:e,template:t,workspaceId:r}=s.payload,i=aA(e),o=lA(e),a=t.title?.length>0?t.title:"",l={...n,[i]:t.body,[o]:a},c=iA(r),d=rA(r);return ee.zGw(ee.anz(c),ee.anz(d))(l)}default:return n}},editComments:BJ,epics:function(e,t){const n=e||{is_epic:null,childIssues:null,parentEpics:null},s=t||{};if(s.error)return n;switch(s.type){case qJ.LOAD_EPIC_DATA:return{...n,is_epic:ee.vgT("is_epic",s.payload),childIssues:ee.vgT("issues",s.payload)};case qJ.SET_ISSUE_INFO_SECONDARY:return{...n,is_epic:ee.ETc(["isEpic","is_epic"],s.payload),parentEpics:ee.vgT("parentEpics",s.payload)};case qJ.SET_PARENT_EPICS:return ee.yGi("parentEpics",s.payload,n);case qJ.LOAD_IS_EPIC:case qJ.SET_IS_EPIC:return ee.yGi("is_epic",s.payload,n);case qJ.UPDATE_ISSUE_ZH_DATA:return function(e,t){const n=t.is_epic,s=t.parentEpicsUpdate||e.parentEpics;let r;return r=n?t.childIssuesUpdate||e.childIssues:null,ee.TSy(e,{is_epic:n,parentEpics:s,childIssues:r})}(n,s.payload);case qJ.SET_CHILDREN_ISSUES:return ee.yGi("childIssues",s.payload,n);case qJ.SET_EPIC_TO_ISSUE:return ee.zGw(ee.yGi("childIssues",null),ee.yGi("is_epic",!1))(n);default:return n}},estimates:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{estimateValues:null,currentValue:null},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case HJ.LOAD_REPO_ESTIMATE_DATA:return WJ(t.payload.values,e);case HJ.UPDATE_ISSUE_ZH_DATA:return ee.TSy(e,{currentValue:t.payload.estimate});case HJ.SET_ISSUE_INFO_SECONDARY:return jJ(t.payload.estimatePoints,e);case HJ.SET_ISSUE_ESTIMATE_DATA:return jJ(t.payload,e);case HJ.SET_ESTIMATE:return ee.yGi("currentValue",t.payload,e);case HJ.LOAD_EPIC_DATA:return ee.yGi("currentValue",t.payload.estimate_points,e);default:return e}},ghEvents:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case GJ.SET_ISSUE_TIMELINE_DATA:return s.payload.timeline;case GJ.UPDATE_ISSUE_GH_DATA:return s.payload.ghEvents;case GJ.LOAD_GH_EVENTS:return s.payload;default:return n}},id:function(e,t){const n=e||null,s=t||{};return s.error?n:s.type===KJ.SET_ZH_ISSUE_ID?s.payload:n},issueInfo:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case VJ.SET_ISSUE_INFO_PRIMARY:case VJ.UPDATE_ISSUE_GH_DATA:return s.payload.issueInfo;case VJ.SET_LABELS:return ee.yGi("labels",s.payload,n);case VJ.SET_ASSIGNEES:return ee.yGi("assignees",s.payload,n);case VJ.SET_MILESTONE:return ee.yGi("milestone",s.payload,n);case VJ.SET_STATE:case VJ.TOGGLE_STATE:return ee.yGi("state",s.payload,n);case VJ.SET_INCOMPLETE_ISSUE_INFO:return ee.TSy(n,s.payload);case VJ.LOAD_EPIC_DATA:return ee.yGi("state",s.payload.state,n);case VJ.UPDATE_ISSUE_INFO:return ee.TSy(n,s.payload);default:return n}},issuePRConnection:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e||{issuesToConnect:[],latestConnect:null,latestDisconnect:null};if(t.error)return n;switch(t.type){case Ws.RESET_PAGE:return{issuesToConnect:[],latestConnect:null,latestDisconnect:null};case Ws.REMOVE_DEFERRED_CONNECTION:return{...n,issuesToConnect:n.issuesToConnect.filter((e=>e.id!==t.payload.id))};case Ws.DEFER_CONNECTION:return{...n,issuesToConnect:[...n.issuesToConnect,t.payload]};case Ws.REMOVE_CONNECTION:return{...n,latestDisconnect:{issue:t.payload}};case Ws.CREATE_CONNECTION:return{...n,latestConnect:{issue:t.payload}};default:return n}},pipelines:(e,t)=>{const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case $J.SET_ISSUE_INFO_SECONDARY:return s.payload.pipelinesByWorkspace.map(ZJ);case $J.SET_PIPELINES_BY_WORKSPACE:return s.payload.map(ZJ);case $J.SET_PIPELINES:return function(e,t,n){if(null===e)return e;const s=ee.cxD(ee.uF6(["workspace","_id"],t),e);if(-1===s)return e;const r=ZJ({...e[s],pipelines:n});return ee.Vxg(s,r,e)}(n,s.payload.workspaceId,s.payload.pipelines);case $J.SET_ACTIVE_PIPELINE:return function(e,t,n){if(null===e)return e;const s=ee.cxD(ee.uF6(["workspace","_id"],t),e);return-1===s?e:ee.uhR([s,"currentPipelineId"],n,e)}(n,s.payload.workspaceId,s.payload.pipelineId);case $J.SET_DEFAULT_PR_PIPELINE:return function(e,t,n){if(null===e)return e;const s=ee.cxD(ee.uF6(["workspace","_id"],t),e);return-1===s?e:ee.uhR([s,"defaultPRPipelineId"],n,e)}(n,s.payload.workspaceId,s.payload.pipelineId);case $J.SET_PRIORITY:return function(e,t){let{workspaceId:n,priority_id:s}=t;return null===e?e:ee.xHg(e.map((e=>ee.uF6(["workspace","_id"],n,e)?{...e,priorityId:s}:e)))}(n,s.payload);default:return n}},releaseEvents:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case YJ.SET_ISSUE_INFO_SECONDARY:case YJ.LOAD_ZH_EVENTS:return s.payload.releaseEvents;default:return n}},releases:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case JJ.SET_ISSUE_INFO_SECONDARY:return t.payload.issueReleases;case JJ.SET_CURRENT_RELEASES:return t.payload;default:return e}},repoId:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case XJ.SET_NEW_ISSUE_DATA:case XJ.SET_ISSUE_INFO_PRIMARY:case XJ.SET_ISSUE_WORKSPACE_AND_REPO_ID:return s.payload.repoId;case XJ.SET_REPO_ID:return s.payload;default:return n}},issueType:(e,t)=>{const n=e||"issue",s=t||{};if(s.error)return n;switch(s.type){case QJ.SET_NEW_ISSUE_DATA:case QJ.SET_ISSUE_TYPE:return s.payload.issueType;default:return n}},sidebarMenus:function(e,t){const n=e||{epics:{add:{},remove:{}},labels:{add:{},remove:{}},assignees:{add:{},remove:{}},pipelineSelectionsByWorkspaceId:{},prioritiesByWorkspaceId:{},estimate:null,releases:{add:{},remove:{}}},s=t||{};if(s.error)return n;let r,i;switch(s.type){case eX.SIDEBAR_ADD_LABEL:return r=ee.t$q(s.payload.key),ee.zGw(ee.ghH(["labels","remove",r]),ee.uhR(["labels","add",r],!0))(n);case eX.SIDEBAR_CLEAR_LABELS:return ee.uhR(["labels","add"],{})(n);case eX.SIDEBAR_REMOVE_LABEL:return r=ee.t$q(s.payload),ee.zGw(ee.ghH(["labels","add",r]),ee.uhR(["labels","remove",r],!0))(n);case eX.SIDEBAR_ADD_ASSIGNEE:{const e=ee.t$q(s.payload.user);return ee.zGw(ee.ghH(["assignees","remove",e]),ee.uhR(["assignees","add",e],!0))(n)}case eX.SIDEBAR_CLEAR_ASSIGNEES:return ee.uhR(["assignees","add"],{})(n);case eX.SIDEBAR_REMOVE_ASSIGNEE:{const e=ee.t$q(s.payload);return ee.zGw(ee.ghH(["assignees","add",e]),ee.uhR(["assignees","remove",e],!0))(n)}case eX.SIDEBAR_ADD_SPRINT:{const e=s.payload.key;return ee.zGw(ee.ghH(["sprints","remove",e]),ee.uhR(["sprints","add",e],!0))(n)}case eX.SIDEBAR_REMOVE_SPRINT:{const e=s.payload;return ee.zGw(ee.ghH(["sprints","add",e]),ee.uhR(["sprints","remove",e],!0))(n)}case eX.SIDEBAR_ADD_EPIC:return ee.zGw(ee.ghH(["epics","remove",s.payload.key]),ee.uhR(["epics","add",s.payload.key],!0))(n);case eX.SIDEBAR_REMOVE_EPIC:return ee.zGw(ee.ghH(["epics","add",s.payload]),ee.uhR(["epics","remove",s.payload],!0))(n);case eX.SIDEBAR_SET_PIPELINE:return{...n,pipelineSelectionsByWorkspaceId:{...n.pipelineSelectionsByWorkspaceId,[s.payload.workspaceId]:s.payload.pipelineId}};case eX.SIDEBAR_SET_PRIORITY:return ee.uhR(["prioritiesByWorkspaceId",s.payload.workspaceId],s.payload.priorityId,n);case eX.SIDEBAR_SET_MILESTONE:return ee.yGi("milestone",s.payload.key,n);case eX.SIDEBAR_SET_ESTIMATE:return ee.yGi("estimate",s.payload.key,n);case eX.SIDEBAR_CLEAR_CHANGES:return ee.TSy(n,{epics:{add:{},remove:{}},labels:{add:{},remove:{}},assignees:{add:{},remove:{}},pipelineSelectionsByWorkspaceId:{},prioritiesByWorkspaceId:{},estimate:null,releases:{add:{},remove:{}}});case eX.SIDEBAR_ADD_RELEASE:return i=s.payload.key,ee.zGw(ee.ghH(["releases","remove",i]),ee.uhR(["releases","add",i],!0))(n);case eX.SIDEBAR_REMOVE_RELEASE:return i=s.payload,ee.zGw(ee.ghH(["releases","add",i]),ee.uhR(["releases","remove",i],!0))(n);default:return n}},templates:rX,workspaceInfo:(e,t)=>{const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case iX.SET_ISSUE_INFO_PRIMARY:case iX.SET_NEW_ISSUE_DATA:case iX.SET_ISSUE_WORKSPACE_AND_REPO_ID:return s.payload.workspace;case oX.CHANGE_DEFAULT_REPO_IN_WORKSPACE:return s.payload.workspaceId!==n._id?n:{...n,defaultRepoId:s.payload.defaultRepoId};default:return n}},zhEvents:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case aX.SET_ISSUE_INFO_SECONDARY:case aX.LOAD_ZH_EVENTS:case aX.UPDATE_ISSUE_ZH_DATA:return s.payload.zhEvents;default:return n}}}),{milestoneBuilder:dX}=pr,uX={activeMilestoneForm:"NONE",isRepoDropdownOpen:!1},pX=(e,t)=>ee.yGi("activeMilestoneForm",e,t),mX={};const{milestoneBuilder:hX}=pr,EX={title:"",description:"",startDate:null,dueDate:null},gX={};const{milestoneBuilder:fX}=pr,_X=[],vX={};const IX=(0,mr.UY)({display:function(e,t){const n=e||uX,s=t||mX;if(s.error)return n;switch(s.type){case dX.OPEN_CREATE_MILESTONE_FORM:return pX("CREATE",n);case dX.OPEN_EDIT_MILESTONE_FORM:return pX("EDIT",n);case dX.CLOSE_MILESTONE_FORM:return uX;case dX.TOGGLE_REPO_DROPDOWN:return(e=>{const t=!e.isRepoDropdownOpen;return ee.yGi("isRepoDropdownOpen",t,e)})(n);default:return n}},draft:function(e,t){const n=e||EX,s=t||gX;if(s.error)return n;switch(s.type){case hX.UPDATE_DRAFT_PROPERTIES:return(e=>({title:e.title,description:e.description,startDate:e.startDate,dueDate:e.dueDate}))(s.payload);case hX.CLEAR_DRAFT_PROPERTIES:return EX;default:return n}},milestones:function(e,t){const n=e||_X,s=t||vX;if(s.error)return n;switch(s.type){case fX.LOAD_MILESTONES:return s.payload;case fX.CLEAR_MILESTONES:return _X;default:return n}}}),{milestones:bX}=pr;const{milestones:yX}=pr;const SX=(0,mr.UY)({display:function(e,t){const n=e||{isLoading:!0},s=t||{};return s.error?n:s.type===bX.SET_OPEN_MILESTONES?ee.yGi("isLoading",!1,n):n},openMilestones:function(e,t){const n=e||{},s=t||{};if(s.error)return n;switch(s.type){case yX.SET_OPEN_MILESTONES:return s.payload;case yX.CLOSE_MILESTONE:case yX.DELETE_MILESTONE:return ee.anz(s.payload.key,n);default:return n}}});const{notifications:wX}=pr;const{notifications:RX}=pr;const{notifications:TX}=pr;const{notifications:CX}=pr,kX=(0,mr.UY)({display:function(e,t){const n=e||{activeDropdown:pl},s=t||{};if(s.error)return n;if(s.type===wX.TOGGLE_DROPDOWN){const e=s.payload;return e===n.activeDropdown?ee.yGi("activeDropdown",pl,n):ee.yGi("activeDropdown",e,n)}return n},indexedNotifs:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case RX.ADD_NOTIFICATIONS:return ee.TSy(n||{},s.payload);case RX.SET_EMPTY_NOTIFICATIONS:return function(e,t){const n=t[e];if(!t[e])return t;const s=ee.TSy(n,{pageCount:0,notifications:[]});return ee.yGi(e,s,t)}(s.payload,n||{});case RX.READ_NOTIFICATION:return function(e,t){const n=t[e.repo_id];if(!n)return t;const s=n.notifications,r=ee.cxD(ee.OH4("id",e.thread_id),s);if(r<0)return t;const i=n.notifications[r],o=ee.yGi("unread",!1,i),a=ee.Vxg(r,o,s);return ee.uhR([e.repo_id,"notifications"],a,t)}(s.payload,n||{});default:return n}},indexedSubscriptions:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case TX.ADD_SUBSCRIPTIONS:return ee.TSy(n||{},s.payload);case TX.SET_SUBSCRIPTION:{const e=s.payload;return ee.yGi(e.repo_id,e.subscription,n||{})}case TX.DELETE_SUBSCRIPTION:return ee.anz(`${s.payload}`,n||{});default:return n}}});const{onboarding:OX}=pr,NX={};const{pages:PX}=pr;const{pages:AX}=pr;const{pages:DX}=pr;const{pages:LX}=pr;const{pages:zX}=pr;function MX(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{ignoreSocketOrder:e,reloadWorkspace:!1}}const{pages:xX}=pr;const{pages:FX,shared:UX}=pr,{pages:BX}=pr;function qX(){return{skipModalRestoreUrl:!1,activeFullscreenModal:f_,currentFlyoverEntityId:null}}const HX=(0,mr.UY)({defaultRepoId:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case PX.SET_DEFAULT_REPO_ID:return s.payload;case PX.SET_WORKSPACE_AND_DEFAULT_REPO_ID:return s.payload.defaultRepoId;case PX.CLEAR_WORKSPACE:return null;default:return n}},isFavoriteRepo:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case xX.SET_IS_FAVORITE_REPO:return s.payload;case xX.CLEAR_WORKSPACE:return null;default:return n}},isFavoriteWorkspace:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case AX.SET_IS_FAVORITE_WORKSPACE:return s.payload;case AX.CLEAR_WORKSPACE:return null;default:return n}},onboardingPlatform:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.error?e:t.type===LX.SET_ONBOARDING_PLATFORM?t.payload:e},reloadWorkspaceOrder:(e,t)=>{const n=e||MX(),s=t||{};if(s.error)return n;switch(s.type){case zX.CLEAR_WORKSPACE:return MX(n.ignoreSocketOrder);case zX.SET_RELOAD_WORKSPACE_ORDER_FROM_LOCAL:return{...n,reloadWorkspace:s.payload};case zX.SET_RELOAD_WORKSPACE_ORDER_FROM_SOCKET:return n.ignoreSocketOrder?{...n,ignoreSocketOrder:!1}:{...n,reloadWorkspace:s.payload};case zX.SET_RELOAD_WORKSPACE_ORDER_IGNORE_SOCKET:return{...n,ignoreSocketOrder:s.payload};default:return n}},error:(e,t)=>{const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case FX.SET_WORKSPACE_LOAD_ERROR:return!ee.kKJ(s.payload);case FX.CLEAR_WORKSPACE:case FX.CLEAR_ERROR:return null;case UX.LOAD_REPOS_ERROR:return s.payload;default:return n}},modal:(e,t)=>{const n=e||qX(),s=t||{};if(s.error)return n;switch(s.type){case BX.OPEN_FULLSCREEN_MODAL:return ee.yGi("activeFullscreenModal",s.payload,n);case BX.CLOSE_FULLSCREEN_MODAL:return ee.yGi("activeFullscreenModal",f_,n);case BX.SET_SKIP_MODAL_RESTORE_URL:return ee.yGi("skipModalRestoreUrl",s.payload,n);case BX.CLEAR_WORKSPACE:return qX();case BX.SET_FLYOVER_ENTITY_ID:return{...n,currentFlyoverEntityId:s.payload};default:return n}},currentWorkspace:function(e,t){const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case DX.SET_WORKSPACE_AND_DEFAULT_REPO_ID:case DX.SET_WORKSPACE_WITHOUT_DEFAULT_REPO_ID:return s.payload.workspace;case DX.CHANGE_DEFAULT_REPO_IN_WORKSPACE:return{...n,defaultRepoId:s.payload.defaultRepoId};case DX.SET_WORKSPACE_IMPORT_STATE:return{...n,importState:s.payload};case DX.CLEAR_WORKSPACE:return null;case DX.UPDATE_CURRENT_WORKSPACE:return{...n,...s.payload};case DX.ADD_REPOS_CURRENT_WORKSPACE:return{...n,repos:[...n.repos,...s.payload]};case DX.REMOVE_REPO_CURRENT_WORKSPACE:return{...n,repos:n.repos.filter((e=>e.repo_id!==s.payload))};default:return n}}}),{paywall:WX}=pr;const jX=(0,_r.PH)("PIPELINE_MAPPING_SET_SHOULD_SHOW_TOAST"),GX=(0,_r.Lq)({shouldShowToast:!1},(e=>{e.addCase(jX.type,((e,t)=>{let{payload:n}=t;e.shouldShowToast=n}))})),KX=GX,{releaseBuilder:VX}=pr,$X=ee.yGi("activeReleaseForm"),ZX={activeReleaseForm:"NONE"},{releaseBuilder:YX}=pr,JX={title:"",description:"",startDate:null,endDate:null,releaseId:null};const{releaseBuilder:XX}=pr,QX={initialRepos:[],isReposLoaded:!1,repos:[],orgRepos:null,selectedRepoIndex:[]};function eQ(e){return{repoName:e.name,orgName:ee.ETc(["owner","login"],e),repoId:e.id,pushPermissions:ee.ETc(["permissions","push"],e)}}function tQ(e){return{repoName:e.repository,orgName:e.organization,repoId:e.repo_id,pushPermissions:ee.ETc(["permissions","push"],e)}}const nQ=ee.zGw(ee.yGi("repos",[]),ee.yGi("initialRepos",[]),ee.yGi("orgRepos",null),ee.yGi("selectedRepoIndex",[])),sQ=(e,t)=>({...t,repos:e.repos.map(tQ).filter((e=>e.pushPermissions))}),rQ=(e,t)=>{const n=e.repoId,s=t.selectedRepoIndex.includes(n)?t.selectedRepoIndex.filter((e=>e!==n)):[...t.selectedRepoIndex,n];return ee.yGi("selectedRepoIndex",s,t)},iQ=ee.yGi("selectedRepoIndex",[]),oQ=(e,t)=>{const n=ee.UID(eQ,e);return ee.zGw(ee.yGi("orgRepos",n),ee.yGi("isReposLoaded",!0))(t)},aQ=(e,t)=>({...t,initialRepos:e,repos:e}),lQ=(e,t)=>{const{repoId:n}=e,s=t.repos.filter((e=>e.repoId!==n));return ee.yGi("repos",s,t)},cQ=e=>{const t=e.orgRepos.filter((t=>e.selectedRepoIndex.includes(t.repoId))),n=e.repos.concat(t);return{...e,repos:n}},dQ=(0,mr.UY)({repos:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.error)return e;switch(t.type){case XX.CLOSE_RELEASE_FORM:return nQ(e);case XX.SET_DEFAULT_WORKSPACE:return sQ(t.payload,e);case XX.REMOVE_REPO_FROM_RELEASE:return lQ(t.payload,e);case XX.ADD_REPOS_TO_RELEASE:return cQ(e);case XX.TOGGLE_SELECTED_REPO:return rQ(t.payload,e);case XX.CLEAR_SELECTED_REPOS:return iQ(e);case XX.LOAD_ORGANIZATION_REPOS:return oQ(t.payload,e);case XX.SET_INITIAL_REPOS:return aQ(t.payload,e);default:return e}},display:(e,t)=>{const n=e||ZX,s=t||{};if(s.error)return n;switch(s.type){case VX.OPEN_CREATE_RELEASE_FORM:return $X("CREATE",n);case VX.OPEN_EDIT_RELEASE_FORM:return $X("EDIT",n);case VX.CLOSE_RELEASE_FORM:return ZX;default:return n}},draft:function(e,t){const n=e||JX,s=t||{};if(s.error)return n;switch(s.type){case YX.UPDATE_DRAFT_PROPERTIES:return(e=>({title:e.title,description:e.description,startDate:e.startDate,endDate:e.desiredEndDate,releaseId:e.release_id}))(s.payload);case YX.CLOSE_RELEASE_FORM:return JX;default:return n}}}),uQ=(e,t)=>{const n=t.payload,s=n===e.activeDropdown?pl:n;return ee.yGi("activeDropdown",s,e)},{cumulative:pQ}=pr,mQ=(0,rY.Z)({[pQ.TOGGLE_DROPDOWN]:uQ,[pQ.LOADING_DATA]:e=>({...e,reportState:"LOADING"}),[pQ.SET_DATA]:(e,t)=>{let{payload:{pipelines:n,repos:s}}=t,{selectedPipelineNames:r,selectedRepoIds:i}=e;return ee.xbD(r)&&(r=ee.jge("name",n)),ee.xbD(i)&&(i=ee.jge("id",s)),{...e,reportState:"LOADED",selectedPipelineNames:r,selectedRepoIds:i}}},{...Zp(14,"days"),reportState:"LOADING",dateRangeKey:"14d",selectedPipelineNames:[],selectedRepoIds:[]}),hQ=mQ;var EQ=n(96480),gQ=n(75965);const fQ={reds:["rgb(228, 78, 78)","rgb(228, 115, 78)","rgb(228, 153, 78)","rgb(228, 191, 78)"],purples:["rgb(196, 106, 232)","rgb(216, 86, 204)","rgb(212, 83, 172)","rgb(177, 106, 182)"],blues:["rgb(2, 145, 254)","rgb(83, 132, 214)","rgb(24, 141, 193)","rgb(81, 134, 201)"],aquas:["rgb(31, 190, 133)","rgb(101, 190, 133)","rgb(72, 184, 149)","rgb(69, 152, 102)"]},_Q=["reds","purples","blues","aquas"],vQ=e=>{const t=_Q.length,n=e/t,s=e%t;return _Q.map(((e,t)=>((e,t,n)=>Math.floor(e+(t>=n?1:0)))(n,s,t+1)))},IQ=e=>{const t=vQ(e),n=[];return _Q.forEach(((e,s)=>{const r=fQ[e],i=(o=t[s],a=r,(0,EQ.Z)().domain((0,gQ.ZP)(0,o,a.length)).range(a));var o,a;const l=ee.w6H(0,t[s]).map(i);n.push(...l)})),n.reverse()},bQ=e=>e>ee.xHg(Object.values(fQ)).length?IQ(e):(e=>{const t=vQ(e),n=[];return _Q.forEach(((e,s)=>{n.push(...fQ[e].slice(0,t[s]))})),n.reverse()})(e),{cumulative:yQ}=pr,SQ=(0,rY.Z)({[yQ.SET_DATA]:(e,t)=>{let{payload:n}=t;const{pipelines:s}=n,r=bQ(s.length),i=s.map(((e,t)=>({...e,color:r[t]})));return{...e,...n,pipelines:i}}},{repos:[],pipelines:[],repoStates:[]}),wQ=(0,mr.UY)({display:hQ,data:SQ}),{control:RQ}=pr,TQ=(0,rY.Z)({[RQ.SET_DATA]:e=>({...e,reportState:"LOADED"}),[RQ.TOGGLE_DROPDOWN]:uQ},{...Zp(14,"days"),reportState:"LOADING",showInfoAlert:!0}),CQ=TQ,{control:kQ}=pr,OQ=(0,rY.Z)({[kQ.SET_DATA]:(e,t)=>{let{payload:n}=t;return{...e,issues:n}}},{issues:[]}),NQ=OQ,PQ=(0,mr.UY)({display:CQ,data:NQ}),{reports:AQ}=pr,DQ=(0,rY.Z)({[AQ.URL_DATA_IS_INTIALIZED]:e=>({...e,urlDataIsInitialized:!0})},{urlDataIsInitialized:!1}),{burndown:LQ}=pr;function zQ(){return{entity:"",loaded:!1,activeDropdown:pl,milestoneId:null,selectedRepoId:null}}function MQ(e){return isNaN(e)?e:parseInt(e,10)}const{burndown:xQ}=pr;const{burndown:FQ}=pr,{burndown:UQ}=pr;const{milestones:BQ,burndown:qQ}=pr;const{burndown:HQ}=pr,WQ=(0,mr.UY)({display:(e,t)=>{const n=e||zQ(),s=t||{};if(s.error)return n;switch(s.type){case LQ.LOAD_CONNECTED_MILESTONES:{const e=s.payload;if(ee.xbD(e))return{...n,loaded:!0};const t=Kl(e,{byStateThenProximity:!0}),r=ee.YMb(t);return ee.kKJ(n.milestoneId)||ee.kKJ(ee.sEJ(ee.OH4("id",MQ(n.milestoneId)),e))?{...n,loaded:!0,milestoneId:r.id}:{...n,loaded:!0}}case LQ.SELECT_MILESTONE:return ee.zGw(ee.yGi("milestoneId",MQ(s.payload.filterKey)),ee.yGi("activeDropdown",pl))(n);case LQ.TOGGLE_DROPDOWN:{const e=s.payload;return e===n.activeDropdown?ee.yGi("activeDropdown",pl,n):ee.yGi("activeDropdown",e,n)}case LQ.SET_ENTITY:return{...n,entity:s.payload};case LQ.SET_SELECTED_REPO_ID:return{...zQ(),selectedRepoId:s.payload,entity:n.entity};default:return n}},filters:function(e,t){const n=e||{labels:yl.getEmptyFilter(),repos:[],showPRs:!0},s=t||{};if(s.error)return n;let r;switch(s.type){case xQ.SET_MILESTONE_ISSUES:{const e=ee.xHg(ee.jge("labels",s.payload)),t=ee.jj$(ee.UID(sd,e)),r=ee.r3W(ee.__,t),i=ee.zoF(ee.XPQ(n.labels.is),ee.XPQ(n.labels.not)),o=ee.hXT(r,i),a={is:ee.eiS(o,n.labels.is),not:ee.eiS(o,n.labels.not),settings:ee.eiS(o,n.labels.settings)},l=function(e){return ee.zGw(qu,ee.jge("repo_id"))(e)}(s.payload,n.repos);return ee.zGw(ee.yGi("repos",l),ee.yGi("labels",a))(n)}case xQ.SHOW_PULL_REQUESTS:return ee.yGi("showPRs",!0,n);case xQ.HIDE_PULL_REQUESTS:return ee.yGi("showPRs",!1,n);case xQ.ADD_LABEL_FILTER:return r=yl.addFilter(s.payload,n.labels),ee.yGi("labels",r,n);case xQ.REMOVE_LABEL_FILTER:return r=yl.removeFilter(s.payload,n.labels),ee.yGi("labels",r,n);case xQ.CLEAR_LABEL_FILTER:return ee.yGi("labels",yl.getEmptyFilter(),n);case xQ.ADD_REPO_FILTER:return ee.r3W(s.payload.filterKey,n.repos)?n:ee.yGi("repos",ee.R3I(s.payload.filterKey,n.repos),n);case xQ.REMOVE_REPO_FILTER:{const e=ee.d1t(ee.fS0(s.payload.filterKey),n.repos);return ee.yGi("repos",e,n)}case xQ.SHOW_ALL_REPOS:return ee.yGi("repos",s.payload,n);case xQ.SHOW_ONE_REPO:return ee.yGi("repos",[s.payload],n);case xQ.CLEAR_TAG_FILTERS:return ee.TSy(n,{labels:yl.getEmptyFilter()});default:return n}},issues:(e,t)=>{const n=e||{isLoadingIssues:!0,issues:[]},s=t||{};if(s.error)return n;switch(s.type){case FQ.SET_LOADING_MILESTONE_ISSUES:return ee.TSy(n,{isLoadingIssues:s.payload});case FQ.SET_MILESTONE_ISSUES:return ee.TSy(n,{issues:s.payload,isLoadingIssues:!1});default:return n}},pipelines:function(e,t){const n=e||{pipelines:[],burnPipelines:{}},s=t||{};if(s.error)return n;switch(s.type){case UQ.LOAD_CONNECTED_PIPELINES:return ee.yGi("pipelines",s.payload,n);case UQ.ADD_BURN_PIPELINE:return ee.uhR(["burnPipelines",s.payload.filterKey],!0,n);case UQ.SET_BURN_PIPELINE:return ee.yGi("burnPipelines",((e,t)=>{const n=t.pipelines.findIndex((t=>t._id===e)),s=t.burnPipelines[e],r=t.burnPipelines[t.pipelines[n-1]?._id],i={};return!r&&s||(i[e]=!0),t.pipelines.forEach(((e,t)=>{t>n&&(i[e._id]=!0)})),i})(s.payload.filterKey,n),n);case UQ.CLEAR_BURN_PIPELINES:return ee.yGi("burnPipelines",{},n);default:return n}},milestones:(e,t)=>{const n=e||[],s=t||{};if(s.error)return n;let r,i,o;switch(s.type){case qQ.LOAD_CONNECTED_MILESTONES:return s.payload;case qQ.UPDATE_CONNECTED_MILESTONES:return function(e,t){const n=e.payload,s=n.milestone_number,r=ee.eiS(["title","description","start_date","due_on"],n),i=ee.TSy(ee.__,r),o=ee.OH4("number",s),a=ee.cxD(o,t);return ee.zBu(i,a,t)}(s,n);case qQ.SET_MILESTONE_START_DATE:{const e=s.payload.start_date;r=s.payload.milestone_number,i=ee.OH4("number",r);const t=ee.yGi("start_date",e);return o=ee.cxD(i,n),ee.zBu(t,o,n)}case qQ.SET_MILESTONE_DUE_DATE:{const e=s.payload.due_on;r=s.payload.milestone_number,i=ee.OH4("number",r);const t=ee.yGi("due_on",e);return o=ee.cxD(i,n),ee.zBu(t,o,n)}case BQ.SET_MILESTONE_CLOSED:{const{milestones:e}=s.payload,t=ee.vgT("id",e[0]);return i=ee.OH4("id",t),o=ee.cxD(i,n),ee.zBu(ee.yGi("state","closed"),o,n)}default:return n}}}),{velocity:jQ}=pr;const{velocity:GQ}=pr,KQ=ee.WAo(((e,t)=>{const n=e,s=t.labels,r=yl.isKeySelected(n.filterKey,s)?yl.removeFilter(n,s):yl.addFilter(n,s);return ee.yGi("labels",r,t)}));const{velocity:VQ}=pr;function $Q(){return{activeDropdown:pl,activeRepoId:null}}const{velocity:ZQ}=pr,YQ=(0,mr.UY)({milestones:(e,t)=>{const n=e||null,s=t||{};if(s.error)return n;switch(s.type){case jQ.LOAD_SPRINT_VELOCITY_DATA:return s.payload.sprints;case jQ.LOAD_COMBINED_VELOCITY_DATA:return s.payload.milestones;case jQ.UPDATE_MILESTONE_START_DATE:{const e=ee.vgT("payload",s),t=ee.vgT("start_date",e),r=ee.vgT("milestone_number",e);return function(e,t,n,s){if(ee.kKJ(e[t]))return e;const r=ee.yGi(n,s,e[t]);return ee.Vxg(t,r,e)}(n,ee.cxD(ee.OH4("number",r),n),"start_date",t)}default:return n}},filters:(e,t)=>{const n=e||{milestones:yl.getEmptyFilter(),labels:yl.getEmptyFilter()},s=t||{};if(s.error)return n;switch(s.type){case GQ.TOGGLE_MILESTONE:{const e=s.payload,{id:t,selected:r}=e,i={filterKey:t.toString(),negated:!0};let o=[];return o=r?yl.removeFilter(i,n.milestones):yl.addFilter(i,n.milestones),ee.yGi("milestones",o,n)}case GQ.TOGGLE_LABEL:return KQ(s.payload,n);case GQ.CLEAR_LABEL_FILTER:return ee.yGi("labels",yl.getEmptyFilter(),n);default:return n}},display:(e,t)=>{const n=e||$Q(),s=t||{};if(s.error)return n;switch(s.type){case VQ.TOGGLE_DROPDOWN:{const e=s.payload;return e===n.activeDropdown?ee.yGi("activeDropdown",pl,n):ee.yGi("activeDropdown",e,n)}case VQ.SET_SELECTED_REPO_ID:return{...$Q(),selectedRepoId:s.payload};default:return n}}}),{release:JQ}=pr,XQ={};function QQ(e,t){const n=ee.vgT("release_id",e),s=ee.OH4("release_id",n),r=ee.cxD(s,t);return ee.Vxg(r,e,t)}const{release:e0}=pr,t0={currentReleaseId:null,activeDropdown:"NONE",activeReleaseTab:Sh.ISSUES,showPredictedEndDate:!1},n0=(e,t)=>ee.yGi("activeDropdown",e,t);const{release:s0}=pr,r0={labels:yl.getEmptyFilter(),epics:yl.getEmptyFilter()},i0={},o0=ee.zGw(ee.jge("name"),ee.UID(ee.t$q));const a0=(e,t,n)=>ee.yGi(t,n(e[t]),e),l0=(e,t)=>a0(e,t,yl.getEmptyFilter);const{release:c0}=pr,d0={};const{release:u0}=pr,p0={};const{release:m0}=pr,h0={write:!1},E0={};const g0=(0,mr.UY)({releases:function(e,t){const n=e||null,s=t||XQ;if(s.error)return n;switch(s.type){case JQ.SET_RELEASES:return s.payload;case JQ.UPDATE_RELEASE:case JQ.CLOSE_RELEASE:case JQ.REOPEN_RELEASE:return QQ(s.payload,n);default:return n}},display:function(e,t){const n=e||t0,s=t||{};if(s.error)return n;switch(s.type){case e0.OPEN_RELEASES_DROPDOWN:return n0("RELEASES",n);case e0.OPEN_LABELS_DROPDOWN:return n0("LABELS",n);case e0.OPEN_EPICS_DROPDOWN:return n0("EPICS",n);case e0.CLOSE_RELEASES_DROPDOWN:case e0.CLOSE_LABELS_DROPDOWN:case e0.CLOSE_EPICS_DROPDOWN:return n0("NONE",n);case e0.SELECT_RELEASE_ID:return((e,t)=>{if(ee.kKJ(e))return t;const n=ee.Uth(null,"release_id",e);return ee.yGi("currentReleaseId",n,t)})(s.payload,n);case e0.SWITCH_RELEASE_TAB:return((e,t)=>{switch(e){case 0:default:return ee.yGi("activeReleaseTab",Sh.ISSUES,t);case 1:return ee.yGi("activeReleaseTab",Sh.ACTIVITY,t)}})(s.payload,n);case e0.TOGGLE_SHOW_PREDICTED_END_DATE:return function(e){const t=!e.showPredictedEndDate;return ee.yGi("showPredictedEndDate",t,e)}(n);default:return n}},filters:function(e,t){const n=e||r0,s=t||i0;if(s.error)return n;switch(s.type){case s0.LOAD_RELEASE_ISSUES:return function(e,t){const n=ee.zGw(ee.vgT("is"),ee.XPQ,ee.YMb)(t.labels)||null,s=ee.zGw(ee.jge("labels"),ee.xHg,o0)(e);return ee.kKJ(n)?r0:ee.r3W(n,s)?t:r0}(s.payload,n);case s0.SET_LABEL_FILTER:return ee.zGw((e=>a0(e,"labels",(()=>yl.setFilter(s.payload)))),(e=>l0(e,"epics")))(n);case s0.CLEAR_LABEL_FILTER:return l0(n,"labels");case s0.ADD_EPICS_FILTER:return a0(n,"epics",(e=>yl.addFilter(s.payload,e)));case s0.REMOVE_EPICS_FILTER:return a0(n,"epics",(e=>yl.removeFilter(s.payload,e)));case s0.CLEAR_EPICS_FILTER:return l0(n,"epics");default:return n}},issues:function(e,t){const n=e||null,s=t||d0;if(s.error)return n;switch(s.type){case c0.LOAD_RELEASE_ISSUES:return s.payload;case c0.CLEAR_RELEASE_ISSUES:return null;default:return n}},events:function(e,t){const n=e||null,s=t||p0;if(s.error)return n;switch(s.type){case u0.LOAD_RELEASE_EVENTS:return s.payload;case u0.CLEAR_RELEASE_EVENTS:return null;default:return n}},permissions:function(e,t){const n=e||h0,s=t||E0;return s.type===m0.GET_RELEASE_PERMISSIONS?s.error?h0:s.payload:n}}),{reports:f0}=pr,_0=(0,mr.UY)({display:DQ,control:PQ,cumulative:wQ,burndown:(e,t)=>{let n=e;const s=t||{};return s.type!==HQ.CLEAR&&s.type!==HQ.SET_SELECTED_REPO_ID||(n={display:{entity:n.display.entity}}),WQ(n,s)},velocity:(e,t)=>{let n=e;const s=t||{};return s.type!==ZQ.CLEAR&&s.type!==ZQ.SET_SELECTED_REPO_ID||(n=void 0),YQ(n,s)},release:g0});const{shared:v0}=pr;const{shared:I0}=pr;const{shared:b0}=pr;const{shared:y0}=pr;const{shared:S0}=pr;const{shared:w0}=pr;const{shared:R0}=pr;function T0(e,t){return ee.uhR(e,(new Date).toJSON(),t)}const{shared:C0}=pr;const{shared:k0}=pr;const{shared:O0}=pr;const{shared:N0}=pr;const{shared:P0}=pr;const A0=(e,t)=>{const n=ee.vgT("orgs",e),s=ee.t$q(t.ownerName),r=_S(ee.ETc([s],n),t,"repo_id"),i=ee.yGi(s,r,n);return ee.yGi("orgs",i,e)};const D0=(0,mr.UY)({repos:function(e,t){const n=e||{orgs:{},isLoading:!1},s=t||{};if(s.error)return n;switch(s.type){case P0.PAGINATED_REPOS_UPDATING:return ee.yGi("isLoading",!0,n);case P0.PAGINATED_REPOS_LOADED:return ee.zGw(A0,vS)(n,s.payload);case P0.CLEAR_PAGINATED_RESOURCES:return{orgs:{},isLoading:!1};default:return n}}}),{shared:L0}=pr;const{shared:z0}=pr;const{issue:M0}=pr,x0=(0,mr.UY)({assignees:function(e,t){const n=e||{},s=t||{};return s.error?n:s.type===v0.ASSIGNEES_LOADED?s.payload:n},connectableIssues:function(e,t){const n=e||null,s=t||{};return s.error?n:s.type===I0.CONNECTABLE_ISSUES_LOADED?s.payload:n},epics:function(e,t){const n=e||{},s=t||{};return s.error?n:s.type===b0.EPICS_LOADED?s.payload:n},labels:function(e,t){const n=e||{},s=t||{};if(s.error)return n;switch(s.type){case y0.LABELS_LOADED:return s.payload;case y0.APPEND_LABELS_TO_MAP:return{...n,...s.payload};default:return n}},milestones:function(e,t){const n=e||{},s=t||{};return s.error?n:s.type===S0.MILESTONES_LOADED?s.payload:n},closedMilestones:function(e,t){const n=e||{},s=t||{};return s.error?n:s.type===w0.CLOSED_MILESTONES_LOADED?s.payload:n},status:function(e,t){const n=e||{assignees:{},connectableIssues:{},epics:{},labels:{},milestones:{},closedMilestones:{},userOrgs:{},reposByOrg:{},repo:{},releases:{}};switch((t||{}).type){case R0.CONNECTABLE_ISSUES_UPDATING:return T0(["connectableIssues","lastUpdateRequest"],n);case R0.CONNECTABLE_ISSUES_LOADED:return T0(["connectableIssues","lastUpdateResponse"],n);case R0.EPICS_UPDATING:return T0(["epics","lastUpdateRequest"],n);case R0.EPICS_LOADED:return T0(["epics","lastUpdateResponse"],n);case R0.ASSIGNEES_UPDATING:return T0(["assignees","lastUpdateRequest"],n);case R0.ASSIGNEES_LOADED:return T0(["assignees","lastUpdateResponse"],n);case R0.LABELS_UPDATING:return T0(["labels","lastUpdateRequest"],n);case R0.LABELS_LOADED:return T0(["labels","lastUpdateResponse"],n);case R0.MILESTONES_UPDATING:return T0(["milestones","lastUpdateRequest"],n);case R0.MILESTONES_LOADED:return T0(["milestones","lastUpdateResponse"],n);case R0.CLOSED_MILESTONES_UPDATING:return T0(["closedMilestones","lastUpdateRequest"],n);case R0.CLOSED_MILESTONES_LOADED:return T0(["closedMilestones","lastUpdateResponse"],n);case R0.ESTIMATES_UPDATING:return T0(["estimates","lastUpdateRequest"],n);case R0.ESTIMATES_LOADED:return T0(["estimates","lastUpdateResponse"],n);case R0.USER_ORGS_UPDATING:return T0(["userOrgs","lastUpdateRequest"],n);case R0.RELEASES_UPDATING:return T0(["releases","lastUpdateRequest"],n);case R0.RELEASES_LOADED:return T0(["releases","lastUpdateResponse"],n);case R0.REPO_LOADING:return T0(["repo","lastUpdateRequest"],n);case R0.USER_ORGS_LOADED:return T0(["userOrgs","lastUpdateResponse"],n);case R0.REPOS_BY_ORG_UPDATING:return T0(["reposByOrg","lastUpdateRequest"],n);case R0.REPOS_BY_ORG_LOADED:return T0(["reposByOrg","lastUpdateResponse"],n);default:return n}},estimates:function(e,t){const n=e||{},s=t||{};return s.error?n:s.type===C0.ESTIMATES_LOADED?s.payload:n},userOrgs:function(e,t){const n=e||null,s=t||{};return s.error?n:s.type===k0.USER_ORGS_LOADED?s.payload:n},reposByOrg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.error?e:t.type===O0.REPOS_BY_ORG_LOADED?{...e,...t.payload}:e},releases:function(e,t){const n=e||null,s=t||{};return s.error?n:s.type===N0.RELEASES_LOADED?s.payload:n},paginatedResources:D0,privateRepos:function(e,t){const n=e||{isLoading:!1,repos:null,searchedForRepos:null},s=t||{};if(s.error)return n;switch(s.type){case L0.LOAD_PRIVATE_REPOS_SEARCH:return ee.yGi("isLoading",!0,n);case L0.PRIVATE_REPOS_LOADED:return ee.yGi("repos",s.payload,n);case L0.CLEAR_PRIVATE_REPOS_SEARCH:return ee.TSy(n,{searchedForRepos:null,isLoading:!1});case L0.SEARCHED_REPOS_LOADED:return ee.TSy(n,{searchedForRepos:s.payload,isLoading:!1});default:return n}},recentRepos:function(e,t){const n=e||null,s=t||{};return s.error?n:s.type===z0.LOAD_USER_RECENT_REPOS?s.payload:n}});const{sidebar:F0}=pr,U0={activeDropdown:pl,isCollapsed:!1,isOpen:!1},B0=(0,mr.UY)({display:(e,t)=>{const n=e||U0,s=t||{};if(s.error)return n;switch(s.type){case F0.TOGGLE_DROPDOWN:{const e=s.payload;return e===n.activeDropdown?ee.yGi("activeDropdown",pl,n):ee.yGi("activeDropdown",e,n)}case F0.TOGGLE_SIDEBAR:{const e=!n.isOpen;return ee.yGi("isOpen",e,n)}case F0.TOGGLE_COLLAPSED:return ee.yGi("isCollapsed",s.payload,n);default:return n}}});const q0=(0,_r.Lq)({pendingSubmission:!1,pendingStateToggle:!1},(e=>{e.addCase(iF.type,((e,t)=>{let{payload:n}=t;e.pendingSubmission=n})),e.addCase(oF.type,((e,t)=>{let{payload:n}=t;e.pendingStateToggle=n}))})),H0=q0,W0=F?"GitHubUser":"PendingUser",j0={userInfo:null,error:!1,userType:localStorage.getItem("zhUserSettings_userType")||W0},G0=(0,_r.Lq)(j0,(e=>{e.addCase(rH.type,((e,t)=>{let{payload:n}=t;e.userInfo={...e.userInfo,...n}})),e.addCase(oH.type,((e,t)=>{let{payload:n}=t;e.userInfo={...e.userInfo,...n}})),e.addCase(iH.type,((e,t)=>{let{payload:n}=t;e.error=n})),e.addCase(aH.type,((e,t)=>{let{payload:n}=t;e.userType=n}))})),K0=G0,V0=(0,_r.Lq)({id:null,name:null},(e=>{e.addCase(lH.type,((e,t)=>{let{payload:n}=t;return{...n}}))})),$0=V0;function Z0(e,t,n){const s=ee.ETc(["searchResults","workspaces"],e);if(ee.kKJ(s))return e;const r=ee.cxD(ee.uF6(["workspace","_id"],t._id),s);if(ee.kKJ(r)||r<0)return e;const i=ee.uhR(["workspace","favorite"],n,s[r]),o=ee.Vxg(r,i,s);return ee.uhR(["searchResults","workspaces"],o,e)}const{workspaceSwitcher:Y0}=pr,{workspaceSwitcher:J0}=pr;const{workspaceSwitcher:X0}=pr,{workspaceSwitcher:Q0}=pr;const e1=(0,mr.UY)({display:(e,t)=>{const n=t||{},s={activeView:DV,isOpen:!1,loadingRepo:null,searchResults:null,searchIsActive:!1,selectedOrganization:null,seeMoreFavoriteWorkspaces:!1,searchFilterRepos:{},searchTerm:"",reposLoaded:!1},r=e||s;if(n.error)return r;switch(n.type){case pr.workspaceSwitcher.OPEN:return ee.yGi("isOpen",!0,r);case pr.workspaceSwitcher.CLOSE:return s;case pr.workspaceSwitcher.SET_SEE_MORE_FAVORITE_WORKSPACES:return ee.yGi("seeMoreFavoriteWorkspaces",n.payload,r);case pr.workspaceSwitcher.SELECT_ORGANIZATION:return ee.TSy(r,{activeView:DV,searchResults:null,selectedOrganization:n.payload,seeMoreFavoriteWorkspaces:!1});case pr.workspaceSwitcher.SET_ACTIVE_VIEW:return ee.TSy(r,{activeView:n.payload,searchResults:null});case pr.workspaceSwitcher.SET_SEARCH_RESULTS:return ee.yGi("searchResults",n.payload,r);case pr.workspaceSwitcher.SET_LOADING_REPO:return{...r,loadingRepo:n.payload};case pr.workspaceSwitcher.START_SEARCH:return ee.TSy(r,{searchIsActive:!0,searchResults:null});case pr.workspaceSwitcher.CLEAR_SEARCH:return ee.TSy(r,{searchIsActive:!1,searchResults:null,searchTerm:""});case pr.workspaceSwitcher.CLEAR_ORGANIZATION:return{...r,selectedOrganization:null};case pr.workspaceSwitcher.ADD_FAVORITE_WORKSPACE:return Z0(r,n.payload,!0);case pr.workspaceSwitcher.DELETE_FAVORITE_WORKSPACE:return Z0(r,n.payload,!1);case pr.workspaceSwitcher.SET_FAVORITE_REPOS:return function(e,t){const n=ee.ETc(["searchResults","repos"],e);if(ee.kKJ(n))return e;const s=ee.jge("repo_id",t),r=n.map((e=>({...e,favorite:s.includes(e.repo_id)})));return ee.uhR(["searchResults","repos"],r,e)}(r,n.payload);case pr.workspaceSwitcher.ADD_REPO_TO_SEARCH_FILTER:return{...r,searchFilterRepos:{...r.searchFilterRepos,[n.payload.repoId]:n.payload.repoName}};case pr.workspaceSwitcher.REMOVE_REPO_FROM_SEARCH_FILTER:return{...r,searchFilterRepos:ee.anz(n.payload,r.searchFilterRepos)};case pr.workspaceSwitcher.CLEAR_REPO_SEARCH_FILTER:return{...r,searchFilterRepos:{}};case pr.workspaceSwitcher.SET_SEARCH_TERM:return{...r,searchTerm:n.payload};case pr.workspaceSwitcher.SET_REPOS_LOADED:return{...r,reposLoaded:n.payload};default:return r}},favoriteRepos:(e,t)=>{const n=ee.kKJ(e)?null:e,s=t||{};if(s.error)return n;switch(s.type){case Y0.SET_FAVORITE_REPOS:return s.payload;case Y0.CLEAR_ORGANIZATION:case Y0.SELECT_ORGANIZATION:return null;default:return n}},favoriteWorkspaces:function(e,t){const n=ee.kKJ(e)?null:e,s=t||{};if(s.error)return n;switch(s.type){case J0.SET_FAVORITE_WORKSPACES:return s.payload;case J0.ADD_FAVORITE_WORKSPACE:return ee.Ce7(s.payload,n||[]);case J0.DELETE_FAVORITE_WORKSPACE:return function(e,t){if(ee.kKJ(t))return t;const n=ee.OH4("_id",e._id);return ee.d1t(n,t)}(s.payload,n);case J0.CLEAR_ORGANIZATION:case J0.SELECT_ORGANIZATION:return null;default:return n}},recentRepos:(e,t)=>{const n=ee.kKJ(e)?null:e,s=t||{};if(s.error)return n;switch(s.type){case X0.SET_RECENT_REPOS:return s.payload;case X0.CLEAR_ORGANIZATION:case X0.SELECT_ORGANIZATION:return null;default:return n}},recentWorkspaces:function(e,t){const n=ee.kKJ(e)?null:e,s=t||{};if(s.error)return n;switch(s.type){case Q0.SET_RECENT_WORKSPACES:return s.payload;case Q0.CLEAR_ORGANIZATION:case Q0.SELECT_ORGANIZATION:return null;default:return n}}});const{confettiAnnouncements:t1}=pr,n1={quick_issue_action:!0,quick_issue_action_in_modal_tip:!1,roadmap_drag_and_drop_tip:!1,roadmap_add_epic_to_project_tip:!1},s1=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n1,t=arguments.length>1?arguments[1]:void 0;return t.type===t1.UPDATE_ANNOUNCEMENT?{...e,[t.payload.key]:t.payload.value}:e},r1=(0,_r.oM)({name:"WorkspaceRepoSelector",initialState:{repoIdsToAdd:[],selectedRepoIds:[]},reducers:{setRepoIdsToAdd:(e,t)=>{e.repoIdsToAdd=t.payload},setSelectedRepoIds:(e,t)=>{e.selectedRepoIds=t.payload}}}),{setRepoIdsToAdd:i1,setSelectedRepoIds:o1}=r1.actions,a1={accountSettings:br,board:(e,t)=>{const n=t||{};let s=e;return n.type===nY.CLEAR_BOARD&&(s=void 0),sY(s,n)},boardV2:ua,breadcrumbs:aY,confettiAnnouncements:s1,dashboard:dJ,flags:mJ,invites:function(e,t){const n=e||EJ,s=t||gJ;if(s.error)return n;switch(s.type){case hJ.OPEN_INVITE_MODAL:return fJ(n,s.payload.modalType);case hJ.CLOSE_INVITE_MODAL:return fJ(n,f_);case hJ.UPDATE_USERS:return function(e,t){return ee.TSy(e,t)}(n,s.payload);case hJ.ADD_PENDING_INVITE:return function(e,t){const n=ee.R3I(t,e.pendingInvites);return ee.yGi("pendingInvites",n,e)}(n,s.payload);case hJ.REMOVE_PENDING_INVITE:return function(e,t){const n=ee.OH4("email",t.email),s=ee.d1t(n,e.pendingInvites);return ee.yGi("pendingInvites",s,e)}(n,s.payload);case hJ.UPDATE_PENDING_INVITE:return function(e,t){const{pendingInvites:n}=e,{email:s,inviteSentAt:r}=t,i=ee.OH4("email",s),o=ee.zGw(ee.sEJ(i),ee.yGi("inviteSentAt",r))(n),a=ee.cxD(i,n),l=ee.Vxg(a,o,n);return ee.yGi("pendingInvites",l,e)}(n,s.payload);default:return n}},issue:(e,t)=>{const n=t||{};let s=e;return n.type===lX.CLEAR_ISSUE&&(s=void 0),cX(s,n)},milestoneBuilder:IX,milestones:function(e,t){return SX(e,t||{})},notifications:function(e,t){const n=t||{};let s=e;return n.type===CX.CLEAR_NOTIFICATIONS&&(s=void 0),kX(s,n)},onboarding:(e,t)=>{const n=e||lb,s=t||NX;if(s.error)return n;switch(s.type){case OX.LOAD_ONBOARDING_VALUES:return function(e,t){return ee.TSy(e,t||{})}(n,s.payload);case OX.SET_ONBOARDING_VALUE:return function(e,t){const n=ee.yGi(t.key,t.value,{});return ee.TSy(e,n)}(n,s.payload);default:return n}},pages:HX,paywall:function(e,t){const n=e||{adminList:null,access:null,hasJustRequestedLicense:!1},s=t||{};if(s.error)return n;switch(s.type){case WX.SET_ACCESS_DATA:return ee.yGi("access",s.payload,n);case WX.REQUEST_LICENSE:return ee.yGi("hasJustRequestedLicense",!0,n);case WX.SET_ORG_ADMIN_LIST:return ee.yGi("adminList",s.payload,n);default:return n}},pipelineMapping:KX,releaseBuilder:dQ,reports:function(e,t){const n=t||{};let s=e;return n.type===f0.CLEAR_REPORTS&&(s=void 0),_0(s,n)},shared:function(e,t){let n=e;const s=t||{};return s.type===M0.CLEAR_ISSUE&&(n=void 0),x0(n,s)},sidebar:function(e,t){return B0(e,t||{})},status:H0,user:K0,workspaceSwitcher:function(e,t){return e1(e,t||{})},workspaceForm:v$,zhOrganization:$0,workspaceRepoSelector:r1.reducer},l1={...a1,breadcrumbs:aY},c1=e=>(0,mr.UY)({...l1,router:(0,fr.iz)(e)});function d1(e){return"object"==typeof e&&!Array.isArray(e)&&"string"==typeof e.type&&Object.keys(e).every(u1)}function u1(e){return["type","payload","error","meta"].indexOf(e)>-1}function p1(e){return e&&"function"==typeof e.then}const m1=function(){return function(e){return function(t){return d1(t)?p1(t.payload)?ve().resolve(t.payload).then((n=>e(ee.TSy(t,{payload:n}))),(n=>e(ee.TSy(t,{payload:n,error:!0})))):e(t):p1(t)?ve().resolve(t).then(e):e(t)}}};const h1=function(e){return function(t){return function(n){return d1(n)&&((s=n.payload)&&"[object Function]"===Object.prototype.toString.call(s))?n.payload(e.dispatch,e.getState):t(n);var s}}},E1=(0,pa.P1)(["milestones","labels","estimates","epics","assignees","authors","releases","sprints"].map((e=>(0,pa.P1)(c[e],(e=>{const t=Object.keys(e.is),n=Object.keys(e.not);return t.length||n.length})))),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>e+t),0)})),g1=(0,pa.P1)($v,(e=>(Array.isArray(e)?e[0]:e)?.split(" ").length||0)),f1=(0,pa.P1)(E1,g1,((e,t)=>({"Number of active filters (without search)":e,"Number of search keywords":t}))),_1=ee.OH4("state","open"),v1=ee.qCK(ee.ffD,ee.kKJ,ee.vgT("assignee")),I1=ee.qCK(ee.ffD,ee.xbD,ee.vgT("labels")),b1=ee.qCK(ee.ffD,ee.kKJ,ee.vgT("milestone"));function y1(e){const t=ee.jge("issue_number",e);return Math.max.apply(null,t)}const S1=function(e){const t=ee.hXT(_1,e),n=ee.hXT(v1,t),s=ee.hXT(I1,t),r=ee.hXT(b1,t),i=function(e){if(!e)return[];const t=ee.UID((e=>{if(e.assignee)return ee.yGi("issues",[{repo_id:e.repo_id,issue_number:e.issue_number}],e.assignee)}),e);return ee.zGw(ee.hXT(ee.yRu),Lu(Rl),ee.MRu(Rl))(t)}(t),o=Fu(t),a=ju(t);return{"Number of Open Issues":t.length,"Largest Open Issue Number":y1(t),"Number of Issues with Assignees":n.length,"Number of Issues with Labels":s.length,"Number of Issues with Milestone":r.length,"Number of Active Assignees":i.length,"Number of Active Labels":o.length,"Number of Active Milestones":a.length}},{isNilOrEmpty:w1}=Vt.Z,R1=ee.zGw(ee.dt8,ee.fS0("Object"));function T1(e){switch(e){case nl:return"Assignees Filter";case sl:return"Authors Filter";case al:return"Epics Filter";case ll:return"Estimates Filter";case cl:return"Filter Logic Filter";case dl:return"Labels Filter";case ul:return"Milestones Filter";case fl:return"Sprints Filter";case ml:return"Pipeline Clicked";case gl:return"Multi Repos Filter";case El:return"Releases Filter";case rl:return"Board Settings Clicked";default:return!1}}const C1=e=>ee.pMU(0,["selectedIssues","length"],e);function k1(e,t){switch(e.type){case oZ.trackCreateWorkspace:{const{name:t,description:n,repos:s}=e.payload;r6("Workspace Created",{"Workspace name":t,"Workspace description":n,"Workspace repos":s});break}case oZ.trackUpdateWorkspace:{const{changes:t,oldWorkspace:n}=e.payload,s=!w1(n.name),r=!w1(t.name),i=!w1(n.description),o=!w1(t.description),a={"Workspace name":t.name||null,"Workspace description":t.description||null,"Workspace name added":!s&&r,"Workspace description added":!i&&o,"Workspace description removed":i&&!o,"Workspace name changed":s&&r&&n.name!==t.name,"Workspace description changed":i&&o&&n.description!==t.description,"Workspace repos added":t.addedRepos},l=ee.d1t(ee.fS0(!1),a);r6("Workspace Edited",l);break}case pr.workspaceSwitcher.TRACK_FREQUENTLY_VISITED_ITEM:{const n=t.getState().board.filters?.search||null;r6("Workspace Switcher",{Action:"Frequent Item",Type:e.payload.itemType,"Targeted Workspace Id":e.payload.workspaceId,"Targeted Repo Id":e.payload.repoId,"Is Search Filter Active":Boolean(n)});break}case"@@router/LOCATION_CHANGE":{const{isFirstRendering:t}=e.payload;t||"POP"!==e.payload.action&&"PUSH"!==e.payload.action||F||_6();break}case pr.workspaceSwitcher.TRACK_SEARCHED_ITEM:r6("Workspace Switcher",{Action:"Search",Type:e.payload.itemType,"Targeted Workspace Id":e.payload.workspaceId,"Targeted Repo Id":e.payload.repoId});break;case pr.workspaceSwitcher.TRACK_RECENT_REPO_ITEM:r6("Workspace Switcher",{Action:"Recent Repo","Targeted Repo Id":e.payload.repoId});break;case pr.workspaceSwitcher.TRACK_CREATE_NEW_WORKSPACE_BUTTON:r6("Workspace Switcher",{Action:"Create Workspace Button"});break;case pr.board.BOARD_LOAD_DATA:{const t=ee.ETc(["repos","length"],e.payload),n=ee.vgT("issues",e.payload),s=S1(n),r=ee.TSy({"Board Exists":!0,"Board Type":t>1?"Multi":"Single"},s);p6(r),r6("Board Viewed",r),Q3({"ZenHub Board Viewed":1});break}case pr.board.UPDATE_LOAD_STATE:if(ee.kKJ(e.payload))return;e.payload.error&&r6("Board Load Error",e.payload);break;case pr.pages.SET_WORKSPACE_AND_DEFAULT_REPO_ID:e.payload.workspace&&p6({"Workspace Repo Count":e.payload.workspace.repos.length}),E6([I6.APP_LOAD],(e=>["Page Mount",{Action:"JS bundle Download",Time:e.duration}]));break;case pr.pages.SET_WORKSPACE_LOAD_ERROR:if(ee.kKJ(e.payload)&&!1===e.payload)return;e.payload.error&&r6("Workspace Load Error",e.payload);break;case pr.board.TRACK_ONBOARDING:r6("Webapp Onboarding",{Page:"Board",Step:e.payload});break;case pr.board.ADD_EPIC_FILTERS:r6("Board Feature Clicked",{Feature:"Filter by Epics","Filter By":e.payload});break;case pr.board.SET_SEARCH_FILTER:r6("Board Feature Clicked",{Feature:"Keyword Search Filter","Search Term":e.payload}),Q3({"Keyword Search Filter Used":1});break;case pr.board.ADD_ESTIMATE_FILTER:r6("Board Feature Clicked",{Feature:"Filter by Estimates","Filter By":e.payload});break;case pr.board.SHOW_ONE_REPO:r6("Board Feature Clicked",{Feature:"Multi Repos Show One"});break;case pr.board.SHOW_ALL_REPOS:r6("Board Feature Clicked",{Feature:"Multi Repos Show All"});break;case pr.board.SET_PIPELINE_COLUMNS:if(ee.kKJ(e.payload))return;r6("Board Feature Clicked",{Feature:"Pipeline Width Changed"}),r6("Pipeline Width",{Width:e.payload.width});break;case pr.board.ADD_PIPELINE:r6("Board Feature Clicked",{Feature:"Add Pipeline"}),Q3({"Pipelines Added":1});break;case pr.board.REMOVE_PIPELINE:r6("Board Feature Clicked",{Feature:"Delete Pipeline"});break;case pr.board.REORDER_PIPELINE:r6("Board Feature Clicked",{Feature:"Reorder Pipeline"});break;case pr.board.SET_PIPELINE_SORTING:if(ee.kKJ(e.payload))return;r6("Board Feature Clicked",{Feature:"Sort pipeline","Sort by":e.payload.sort_by});break;case pr.board.CLEAR_PIPELINE_SORTING:r6("Board Feature Clicked",{Feature:"Clear pipeline sorting"});break;case pr.board.EDIT_PIPELINE:{const{pipeline:n,pipelineId:s}=e.payload,{description:r,name:i}=n,{description:o,name:a}=((e,t)=>ee.zGw(gv,ee.sEJ(ee.OH4("_id",t)))(e))(t.getState(),s);if(a!==i&&r6("Pipeline Descriptions",{Action:"Pipeline renamed","Pipeline name":i}),o!==r){const e=o?o.length:0;r6("Pipeline Descriptions",{Action:"Pipeline description changed","Pipeline description text":r,"Pipeline name":i,"Count Before":e,"Count After":r.length})}break}case pr.board.TRANSFER_ISSUE:if(ee.kKJ(e.payload))return;e.payload.from_pipeline_id===e.payload.pipeline_id?r6("Board Feature Clicked",{Feature:"Reorder Issue"}):r6("Issue Change (Pipeline)",{Source:"Board View",Module:"Base"});break;case pr.board.REOPEN_ISSUE:r6("Board Feature Clicked",{Feature:"Issue Re-Opened - Closed Pipeline"});break;case pr.board.CLOSE_ISSUE:if(ee.kKJ(e.payload))return;e.payload.viaOptions?r6("Board Feature Clicked",{Feature:"Issue Closed - Hamburger"}):r6("Board Feature Clicked",{Feature:"Issue Closed - Closed Pipeline"});break;case pr.pullRequest.CREATE_CONNECTION:r6("PR linked",{Feature:"connected"});break;case pr.pullRequest.REMOVE_CONNECTION:r6("PR linked",{Feature:"disconnected"});break;case pr.board.SET_ISSUE_HIGH_PRIORITY:r6("Issue Card Options",{Action:"Prioritize",Value:"High"});break;case pr.board.REMOVE_ISSUE_PRIORITY:r6("Issue Card Options",{Action:"Prioritize",Value:"None"});break;case pr.board.NOTIFY_PRIORITY_MULTI_ACTION_APPLIED:r6("Multi Select",{Action:"Prioritize",Value:e.payload.removedPriority?"None":"High","Number of Selected Issues":(e.payload.selectedIssues||[]).length});break;case pr.issue.SET_PRIORITY:r6("Pipeline Selector",{Action:"Prioritize",Value:e.payload.priority_id?"High":"None",View:"Issue"});break;case pr.issue.SIDEBAR_SET_PRIORITY:r6("Pipeline Selector",{Action:"Prioritize",Value:e.payload.priorityId?"High":"None",View:"New Issue"});break;case pr.issue.TRACK_TEMPLATES_COUNT:r6("Issue Template",{Action:"Dropdown Opened","Number of Issue Templates":e.payload.length?e.payload.length-1:0});break;case pr.issue.SET_TEMPLATES:r6("Issue Template",{Action:"Template Selected",Template:ee.ETc(["template","name"],e.payload)});break;case pr.issue.TRACK_SUBMIT_NEW_ISSUE:r6("New Issue Page",{Action:"Submit Issue"});break;case pr.board.TRACK_OPEN_CREATE_MENU:r6("Board Feature Clicked",{Feature:"Board Create Menu"});break;case pr.board.TRACK_OPEN_NEW_ISSUE:r6("Board Feature Clicked",{Feature:"New Issue"});break;case pr.board.TRACK_MENU_OPEN_NEW_ISSUE:r6("Create Menu - Board",{Action:"Issue"});break;case pr.board.TRACK_MENU_OPEN_NEW_EPC:r6("Create Menu - Board",{Feature:"Epic"});break;case pr.board.TRACK_OPEN_MILESTONE_MODAL:r6("Create Menu - Board",{Feature:"Milestone"});break;case pr.board.TRACK_OPEN_RELEASE_MODAL:r6("Create Menu - Board",{Feature:"Release"});break;case pr.board.TRACK_OPEN_CREATE_PIPELINE:r6("Create Menu - Board",{Feature:"Pipeine"});break;case pr.milestoneBuilder.OPEN_CREATE_MILESTONE_FORM:r6("Create Menu - Board",{Action:"Milestone"});break;case pr.board.SHOW_ADD_PIPELINE:r6("Create Menu - Board",{Action:"Pipeline"});break;case pr.releaseBuilder.OPEN_CREATE_RELEASE_FORM:r6("Create Menu - Board",{Action:"Release"});break;case pr.board.SHOW_FULL_SCREEN:r6("Board Feature Clicked",{Feature:"Toggle Show Fullscreen","Fullscreen: Expanded":!0});break;case pr.board.HIDE_FULL_SCREEN:r6("Board Feature Clicked",{Feature:"Toggle Show Fullscreen","Fullscreen: Expanded":!1});break;case pr.board.SHOW_CLOSED_PIPELINE:case pr.board.HIDE_CLOSED_PIPELINE:r6("Board Feature Clicked",{Feature:"Toggle Closed Issues"});break;case pr.board.SHOW_OPEN_ISSUES:case pr.board.HIDE_OPEN_ISSUES:r6("Board Feature Clicked",{Feature:"Toggle Show Issues"});break;case pr.board.SHOW_PULL_REQUESTS:case pr.board.HIDE_PULL_REQUESTS:r6("Board Feature Clicked",{Feature:"Toggle Show PRs"});break;case pr.board.SHOW_LABELS:case pr.board.HIDE_LABELS:r6("Board Feature Clicked",{Feature:"Toggle Show Labels"});break;case pr.board.SHOW_ESTIMATES:case pr.board.HIDE_ESTIMATES:r6("Board Feature Clicked",{Feature:"Toggle Show Estimates"});break;case pr.board.SHOW_MILESTONES:case pr.board.HIDE_MILESTONES:r6("Board Feature Clicked",{Feature:"Toggle Show Milestones"});break;case pr.board.SHOW_EPICS:case pr.board.HIDE_EPICS:r6("Board Feature Clicked",{Feature:"Toggle Show Epics"});break;case pr.board.SHOW_RELEASES:case pr.board.HIDE_RELEASES:r6("Board Feature Clicked",{Feature:"Toggle Show Release Reports"});break;case pr.board.SHOW_INSIGHTS:r6("Board Feature Clicked",{Feature:"Toggle Show Insights",Action:"Show Insights button"});break;case pr.board.HIDE_INSIGHTS:r6("Board Feature Clicked",{Feature:"Toggle Show Insights",Action:"Hide Insights button"});break;case pr.board.SHOW_REVIEWERS:case pr.board.HIDE_REVIEWERS:r6("Board Feature Clicked",{Feature:"Toggle Show Reviewers"});break;case pr.board.SHOW_DEPENDENCIES:case pr.board.HIDE_DEPENDENCIES:r6("Board Feature Clicked",{Feature:"Toggle Show Dependencies"});break;case pr.board.TOGGLE_DROPDOWN:{const t=T1(e.payload);t&&r6("Board Feature Clicked",{Feature:t});break}case pr.board.TOGGLE_FILTER_LOGIC:r6("Board Feature Clicked",{Feature:"Filter Logic Switcher","Filter Type":e.payload.filterKey});break;case pr.sidebar.TOGGLE_DROPDOWN:r6("Create Menu",{Action:"Open"});break;case pr.sidebar.TRACK_OPEN_NEW_ISSUE:r6("Create Menu",{Action:"Issue"});break;case pr.sidebar.TRACK_OPEN_NEW_EPIC:r6("Create Menu",{Action:"Epic"});break;case pr.sidebar.TRACK_OPEN_MILESTONE_MODAL:r6("Create Menu",{Action:"Milestone"});break;case pr.sidebar.TRACK_OPEN_RELEASE_MODAL:r6("Create Menu",{Action:"Release"});break;case pr.sidebar.TRACK_OPEN_PIPELINE_FORM:r6("Create Menu",{Action:"Pipeline"});break;case pr.burndown.TOGGLE_DROPDOWN:r6("Burndown Chart",{Feature:T1(e.payload)});break;case pr.burndown.SHOW_PULL_REQUESTS:case pr.burndown.HIDE_PULL_REQUESTS:r6("Burndown Chart",{Feature:"Toggle Show PRs"});break;case pr.release.CREATE_RELEASE:r6("Release Report",{Action:"Release Created - Reports Page",Module:"Engaged"});break;case pr.release.CLOSE_RELEASE:r6("Release Report",{Action:"Release Report Closed",Module:"Engaged"});break;case pr.release.UPDATE_RELEASE:r6("Release Report",{Action:"Release Report Edited",Module:"Engaged"});break;case pr.release.CHANGE_SELECTED_LABEL:r6("Release Report",{Action:"Label Filter",Module:"Engaged"});break;case pr.board.ADD_RELEASE_FILTER:r6("Board Feature Clicked",{Feature:"Filter by Release"});break;case pr.issue.SIDEBAR_ADD_RELEASE:r6("Set Release",{Location:e.payload.location});break;case pr.issue.SIDEBAR_REMOVE_RELEASE:r6("Release Report",{Action:"Issue Removed - Issue Page",Module:"Engaged"});break;case pr.issue.SIDEBAR_ADD_ASSIGNEE:r6("Set Assignee",{Location:e.payload.location});break;case pr.issue.SIDEBAR_SET_PIPELINE:r6("Set Pipeline",{Location:e.payload.location});break;case pr.issue.SIDEBAR_ADD_LABEL:r6("Set Label",{Location:e.payload.location});break;case pr.issue.SIDEBAR_ADD_SPRINT:r6("Set Sprint",{Location:e.payload.location});break;case pr.issue.SIDEBAR_SET_MILESTONE:e.payload.key&&r6("Set Milestone",{Location:e.payload.location});break;case pr.issue.SIDEBAR_SET_ESTIMATE:e.payload.key&&r6("Set Estimate",{Location:e.payload.location});break;case pr.issue.SIDEBAR_ADD_EPIC:r6("Set Epic",{Location:e.payload.location});break;case pr.issueDependencies.TRACK_ADD_DEPENDENCY_BLOCKED_BY:r6("Dependencies",{Action:"Blocker Added"});break;case pr.issueDependencies.TRACK_REMOVE_DEPENDENCY_BLOCKED_BY:r6("Dependencies",{Action:"Blocker Removed"});break;case pr.issueDependencies.TRACK_ADD_DEPENDENCY_BLOCKING:r6("Dependencies",{Action:"Blocking Added"});break;case pr.issueDependencies.TRACK_REMOVE_DEPENDENCY_BLOCKING:r6("Dependencies",{Action:"Blocking Removed"});break;case pr.board.ADD_DEPENDENCIES_FILTER:r6("Dependencies",{Action:"Filter by Dependency"});break;case pr.board.TRACK_UNKNOWN_DEPENDENCY:r6("Dependencies",{Action:"Unknown Dependency clicked on Board"});break;case pr.releaseBuilder.ADD_WORKSPACES_TO_RELEASE:r6("Release Report",{Action:"Workspace Added",Module:"Engaged"});break;case pr.releaseBuilder.REMOVE_WORKSPACE_FROM_RELEASE:r6("Release Report",{Action:"Workspace Removed",Module:"Engaged"});break;case pr.release.SELECT_RELEASE_ID:r6("Release Report",{Action:"Release Selected From Dropdown",Module:"Engaged"});break;case pr.release.SWITCH_RELEASE_TAB:0===e.payload&&r6("Release Report",{Action:"Open Release Issues Tab",Module:"Engaged"}),1===e.payload&&r6("Release Report",{Action:"Open Release Activity Tab",Module:"Engaged"});break;case pr.release.TRACK_ADD_ISSUES_TO_RELEASE:r6("Release Report",{Action:"Issue Returned to Release",Module:"Engaged"});break;case pr.release.TRACK_REMOVE_ISSUES_FROM_RELEASE:r6("Release Report",{Action:"Issue Removed from Release",Module:"Engaged"});break;case pr.issue.SET_ESTIMATE:r6("Set Estimate",{Estimate:e.payload,Location:"Issue sidebar"});break;case pr.board.ENTER_SELECTION_MODE:r6("Multi Select",{Action:"Multi Select Entered"});break;case pr.board.EXIT_SELECTION_MODE:r6("Multi Select",{Action:"Multi Select Exited"});break;case pr.board.ADD_ISSUE_TO_SELECTION:r6("Multi Select",{Action:"Issue Selected"});break;case pr.board.OPEN_FULLSCREEN_MODAL:e.payload===m_&&r6("Multi Select",{Action:"Start Planning Poker"});break;case pr.board.ADD_ALL_ISSUES_TO_SELECTION:{const e=f1(t.getState());r6("Multi Select",{Action:"All Issues Selected",...e}),r6("Board Feature Clicked",{Feature:"Select All",...e});break}case pr.board.REMOVE_ISSUE_FROM_SELECTION:r6("Multi Select",{Action:"Issue Unselected"});break;case pr.board.APPLY_LABEL_MULTI_ACTION:break;case pr.board.APPLY_PIPELINE_MULTI_ACTION:r6("Multi Select",{Action:"Apply Pipeline Transfer","Number of Selected Issues":C1(e.payload)});break;case pr.board.APPLY_ESTIMATE_MULTI_ACTION:r6("Set Estimate",{Estimate:e.payload?.setEstimate,Location:"Board Multi-select"}),r6("Multi Select",{Action:"Apply Estimates","Number of Selected Issues":C1(e.payload)});break;case pr.board.APPLY_RELEASE_MULTI_ACTION:r6("Multi Select",{Action:"Apply Release","Number of Selected Issues":C1(e.payload)});break;case pr.board.APPLY_EPIC_MULTI_ACTION:r6("Multi Select",{Action:"Apply Epic","Number of Selected Issues":C1(e.payload)});break;case pr.paywall.TRACK_FIRST_PURCHASE:{const t=e.payload.yearly,n=t?"Yearly":"Month";r6("Admin Payment Clicked",{Payee:e.payload.userEmail,Organization:e.payload.gh_name,Interval:n,"Seats Paid For":e.payload.seats,Monthly:!t,Yearly:t,"Payment Event":"Paid Account Created"}),Q3({"Admin Payment Clicked":1});break}case pr.paywall.SELECT_FREE_PLAN:if(ee.kKJ(e.payload))return;r6("End Of Trial",{Action:"End Of Trial - Select Free Plan",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName},numberOfOrgUsers:e.payload.orgUserCount});break;case pr.paywall.SELECT_GROWTH_PLAN:if(ee.kKJ(e.payload))return;r6("End Of Trial",{Action:"End Of Trial - Select Growth Plan",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName},numberOfOrgUsers:e.payload.orgUserCount});break;case pr.paywall.TRACK_UPGRADE_TO_GROWTH_VIEWED:r6("End Of Trial",{Action:"End Of Trial - Displayed",Organization:{org_id:e.payload.orgId,organization:e.payload.orgName},numberOfOrgUsers:e.payload.orgUserCount});break;case pr.paywall.TRACK_UPGRADE_TO_GROWTH_CLICKED:r6("End Of Trial",{Action:"End Of Trial - Continued to Payments",Organization:{org_id:e.payload.orgid,organization:e.payload.orgName},numberOfOrgUsers:e.payload.orgUserCount});break;case pr.paywall.NOTIFY_PLAN_SELECTED_TO_BACKEND:r6("Plan Selected",{Action:"End Of Trial - Plan Selected",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName,numberOfOrgUsers:e.payload.numberOfOrgUsers},numberOfOrgUsers:e.payload.numberOfOrgUsers});break;case pr.paywall.REQUEST_LICENSE_DISPLAYED:if(ee.kKJ(e.payload))return;r6("Payment Gateway",{Action:"Screen shown",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName},"Is Confirmation Screen":e.payload.requestSent});break;case pr.paywall.BUY_MORE_LICENSES_DISPLAYED:if(ee.kKJ(e.payload))return;r6("Payment Upgrade Banner",{Action:"Screen Shown",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName}});break;case pr.paywall.BUY_MORE_LICENSES:if(ee.kKJ(e.payload))return;r6("Payment Upgrade Banner",{Action:"Viewed Dashboard",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName}});break;case pr.paywall.REQUEST_LICENSE:if(ee.kKJ(e.payload))return;r6("Payment Gateway",{Action:"License requested",Organization:{org_id:e.payload.org_id,organization:e.payload.orgName}});break;case pr.milestones.TRACK_PAGE_VIEW:if(ee.kKJ(e.payload))return;r6("Milestones Page",{Action:"Milestones Page viewed","Number of Workspace Milestones":e.payload});break;case pr.milestones.TRACK_EDIT_MILESTONE:if(ee.kKJ(e.payload))return;r6("Milestones Page",{Action:"Milestone edited","Milestone title":e.payload});break;case pr.milestones.TRACK_SEE_MILESTONE_ON_BOARD:if(ee.kKJ(e.payload))return;r6("Milestones Page",{Action:"See this Milestone on the Board clicked","Milestone title":e.payload});break;case pr.milestones.DELETE_MILESTONE:r6("Milestones Page",{Action:"Milestone deleted"});break;case pr.milestones.CLOSE_MILESTONE:r6("Milestones Page",{Action:"Milestone closed"});break;case pr.shortcuts.TRACK_SHORTCUTS_PAGE_VIEW:r6("Shortcuts",{Action:"Page Viewed"});break;case pr.shortcuts.TRACK_SHORTCUTS_USED:if(ee.kKJ(e.payload))return;r6("Shortcuts",{Action:"Shortcut Used",Shortcut:e.payload});break;case pr.onboarding.TRACK_ONBOARDING_PAGE_VIEW:e.payload===wh.TUTORIAL_HOME&&(r6("Tutorials Onboarding",{Action:"Tutorial Home Viewed"}),Q3({"Tutorial Home Views":1})),e.payload===wh.REPORTS_HOME&&(r6("Tutorials Onboarding",{Action:"Reports Home Viewed"}),Q3({"Reports Home Views":1}));break;case pr.onboarding.TRACK_ONBOARDING_ACTION:r6("Tutorials Onboarding",{Action:e.payload.action});break;case pr.dashboard.TRACK_ADD_LICENSES:if(ee.kKJ(e.payload))return;r6("Dashboard",{Action:"Add Licenses",Organization:e.payload.gh_name,Plan:e.payload.yearly?"Yearly":"Monthly","Seats Added":e.payload.additionalLicenses,"Total Seats":e.payload.seats,"Unseated Users":e.payload.unseatedUsers});break;case pr.dashboard.TRACK_CANCEL_SUBSCRIPTION:{if(ee.kKJ(e.payload))return;const t=["missingFeatures","performance","usingAnotherTool","otherReasons","dontNeedGithub","needGithubMilestones"],n=ee.zGw(ee.eiS(t),ee.VO0,ee.v_p(", "))(e.payload);r6("Dashboard",{Action:"Cancel Subscription",Feedback:n,Organization:e.payload.gh_name,Plan:e.payload.yearly?"Yearly":"Monthly","Total Seats":e.payload.totalSeats,"Unseated Users":e.payload.unseatedUsers});break}case pr.dashboard.TRACK_REMOVE_LICENSES:if(ee.kKJ(e.payload))return;r6("Dashboard",{Action:"Remove Licenses","Licenses Remaining":e.payload.seats,"Licenses To Remove":e.payload.licensesToRemove,Organization:e.payload.gh_name,Plan:e.payload.yearly?"Yearly":"Monthly","Unseated Users":e.payload.unseatedUsers});break;case pr.dashboard.TRACK_UPGRADE_TO_ANNUAL:if(ee.kKJ(e.payload))return;r6("Dashboard",{Action:"Upgrade to Annual Plan",Organization:e.payload.gh_name,"Total Seats":e.payload.seats,"Unseated Users":e.payload.unseatedUsers});break;case pr.dashboard.TRACK_DELETE_PROFILE:r6("Delete Profile",{Action:"Click Delete CTA"});break;case pr.dashboard.TRACK_DELETE_PROFILE_CONFIRM:r6("Delete Profile",{Action:"Confirm Delete Profile"});break;case pr.board.TOGGLE_QUICK_ISSUE_CREATOR:if(t.getState().board.display.isQuickIssueCreatorVisible===e.payload)break;r6("Quick Issue Create - Board",{Action:"Open"})}}const O1=e=>t=>n=>(R1(n)&&(k1(n,e),function(e){const t=ee.ETc(["emails","length"]);switch(e.type){case pr.invites.OPEN_INVITE_MODAL:r6("Invite Team",{Action:"Open Modal","Opened From":ee.vgT("reason",e.payload),"Is Read Only":ee.vgT("isReadOnly",e.payload)});break;case pr.invites.REMOVE_PENDING_INVITE:r6("Invite Team",{Action:"Remove Pending"});break;case pr.invites.TRACK_INVITES_SENT:r6("Invite Team",{Action:"Invites Sent","Num. of Invites":t(e.payload)});break;case pr.invites.UPDATE_PENDING_INVITE:r6("Invite Team",{Action:"Resend Invite","Recipient Email":ee.vgT("email",e.payload)});break;case pr.invites.TRACK_USER_TYPED_EMAIL_ADDED:r6("Invite Team",{Action:"User-typed Email Added"});break;case pr.invites.TRACK_SUGGESTED_USER_ADDED:r6("Invite Team",{Action:"Suggested User Added"});break;case pr.invites.TRACK_LINK_COPIED:r6("Invite Team",{Action:"Invite Link Copied","Copied URL":ee.vgT("copiedUrl",e.payload)});break;case pr.invites.TRACK_USER_PASTE_EMAIL_ADDED:r6("Invite Team",{Action:"Pasted Email Added","Num. of Emails":ee.vgT("numEmails",e.payload)})}}(n)),t(n)),N1=(0,_r.PH)("BOARDV2_OPEN_ISSUE_VIEWER"),P1=(e,t,n)=>(s,r)=>{const i=r().pages.currentWorkspace,{repository:o,number:a,htmlUrl:l,pullRequest:c,title:d,id:u}=e,p={workspace:i,...{id:u,html_url:l,organization:o.ownerName,repository:o.name,repo_name:o.name,repo_id:o.ghId,issue_number:a,pull_request:c,title:d}};n?n(p,t):t?Jq(p):s(Zq(p)),s(N1())},A1=n.p+"../../img/built/epic-select-issues-on-board.gif",D1="scheduledToast",L1=W.Z.FEATURE_PROMPT;let z1;!function(e){e.SelectMultipleIssues="select-multiple-issues",e.SetEpicViaBoard="set-epic-via-board"}(z1||(z1={}));const M1=e=>{switch(e){case z1.SelectMultipleIssues:return{imageSrc:A1,imageWidth:248,text:"Click on the issue avatar to quickly select multiple issues"};case z1.SetEpicViaBoard:return{text:'To add issues into an epic, click "Set epic" and select the one you want to add them to'};default:return null}},x1=e=>{const t={type:e,expires:(new Date).getTime()+3e4};va(D1,t)},F1=()=>{const e=function(e){const t=_a(e);return sessionStorage.removeItem(e),t}(D1);if(!(e?.expires&&e.expires>(new Date).getTime()))return;const t=M1(e.type),n=H.Z.findBy({type:L1});t&&!n.length&&H.Z.createToast(L1,t)},U1=()=>{H.Z.removeByType(L1)},{board:B1,invites:q1,issue:H1,sidebar:W1,workspaceSwitcher:j1}=pr,G1=()=>{H.Z.findBy({type:W.Z.VIDEO_CARD}).length&&H.Z.removeByType(W.Z.VIDEO_CARD)},K1=()=>{H.Z.removeByType(W.Z.TUTORIAL),H.Z.removeByType(W.Z.LARGE_CARD),H.Z.removeByType(W.Z.LARGE_CARD_PLAIN),G1()},V1=()=>{G1(),nL(),XD(),fb(),U1()},$1=()=>e=>t=>{switch(t.error&&(0,ha.rv)(),t.type){case oZ.open.toString():K1(),V1(),ya();break;case B1.CLEAR_DEPENDENCIES_FILTER:case B1.CLEAR_TAG_FILTERS:nL();break;case q1.OPEN_INVITE_MODAL:case B1.OPEN_BOARD_ITEM:case W1.TRACK_OPEN_NEW_ISSUE:case j1.OPEN:case N1.type:V1();break;case B1.LEAVE_BOARD:case Qr.type:V1(),ya();break;case B1.ENTER_SELECTION_MODE:case Cr.type:nL(),(e=>{if(!H.Z.findBy({type:L1}).length)return;const t=M1(e);t&&H.Z.findAndReplaceByType(L1,t)})(z1.SetEpicViaBoard);break;case B1.EXIT_SELECTION_MODE:case B1.OPEN_FULLSCREEN_MODAL:case kr.type:XD(),U1();break;case H1.CLEAR_ISSUE:case B1.BOARD_LOAD_DATA:case ei.type:F1();break;case rH.type:t.payload||K1();break;case oZ.trackDeleteWorkspace.toString():K1()}return e(t)},Z1=(e,t)=>{const n=(t??[]).map((e=>e.name));return n.length?e.filter((e=>{const t=n.every((t=>e.labels.find((e=>e.name===t))));return t})):e},Y1=e=>{let{getState:t}=e;return e=>n=>{let s;if(n.type===pr.board.ISSUES_UPDATE)if(s=sF(t()),s?.length)return e({...n,payload:Z1(n.payload,s)});return e(n)}},J1=(e,t)=>{r6(e,{...t,"Board version":2})},X1=(e,t)=>{r6("Board Feature Clicked",{...t,Feature:e,"Board version":2})},Q1=e=>{let{getState:t}=e;return e=>n=>{const{payload:s}=n,r=t().boardV2.isLoaded;switch(n.type){case ti.type:X1("Toggle Condensed Mode",{Enabled:n.payload});break;case jr.type:case Hr.type:r&&X1("Filter by Epics");break;case Ur.type:r&&X1("Filter by Labels");break;case Br.type:r&&X1("Filter by Assignee");break;case Wr.type:r&&X1("Filter by Sprints");break;case zr.type:X1("Keyword Search Filter",{"Search Term":n.payload}),Q3({"Keyword Search Filter Used":1});break;case wr.type:J1("Multi Select",{Action:"Issue Selected"});break;case Sr.type:J1("Multi Select",{Action:t().boardV2.selectedIssueIds.includes(s)?"Issue Unselected":"Issue Selected"});break;case Rr.type:case Tr.type:J1("Multi Select",{Action:"Issue Unselected"});break;case vi.type:J1("Pipeline Sorted",{Feature:"Sort pipeline","Sort by":s.type})}return e(n)}},e2=[m1,h1,Er.Z,O1,$1,Y1,Q1];let t2,n2=mr.qC;if(M){L.Z.verboseLogs&&e2.push((0,hr.createLogger)({collapsed:!0}));const e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;e&&(n2=e)}const s2=(e,t)=>{let n=null;return t?(n=c1(t),e2.push((0,gr.Z)(t))):n=(0,mr.UY)(l1),t2=(0,mr.MT)(n,e||n({},{}),n2((0,mr.md)(...e2))),t2};var r2=n(75430),i2=n.n(r2);const o2={ajax:e=>ls().ajax(e)},a2=(e,t)=>ee.D95(((t,n)=>!ee.kKJ(t)&&e.includes(n)),t);const l2=function(){var e,t,n={}.hasOwnProperty,s=/([\?\&]page=)(\d+)/;(t={}).isEmpty=function(e){return 0===Object.keys(e).length},t.isArray=function(e){return"[object Array]"==toString.call(e)},t.defaults=function(e,t){var n,s,r,i,o;for(o=[],s=0,r=(i=Object.keys(t)).length;s<r;s++)n=i[s],o.push(function(n){return null!=e[n]?e[n]:e[n]=t[n]}(n));return o},t.each=function(e,n){if(e){var s,r,i,o,a;for(t.isArray(e)&&e.forEach(n),[],a=[],r=0,i=(o=Object.keys(e)).length;r<i;r++)s=o[r],a.push(function(t){return n(e[t])}(s));return a}},t.pairs=function(e){var t,n,s,r,i;for(t=[],n=function(n){return t.push([n,e[n]])},s=0,r=(i=Object.keys(e)).length;s<r;s++)n(i[s]);return t},t.map=function(e,n){var s,r,i,o,a;if(t.isArray(e))return e.map(n);for(s=[],r=function(t){return s.push(n(e[t],t))},i=0,o=(a=Object.keys(e)).length;i<o;i++)r(a[i]);return s},t.last=function(e,t){var n;return n=e.length,e.slice(n-t,n)},t.select=function(e,t){return e.filter(t)},t.extend=function(e,t){var n,s,r,i,o;for(o=[],s=0,r=(i=Object.keys(t)).length;s<r;s++)n=i[s],o.push(function(n){return e[n]=t[n]}(n));return o},t.toArray=function(e){return Array.prototype.slice.call(e)};var r=function(e){var t=e.match(s);return t?parseInt(t[2],10):null};return e=function(e,i,o,a){var l;return l=function(l){var c,d,u,p,m,h,E,g,f,_,v,I,b,y,S,w,R,T;null==l&&(l={}),t.defaults(l,{rootURL:"https://api.github.com",useETags:!0,usePostInsteadOfPatch:!1}),w=this,R=[],u=function(e,t,n){this.eTag=e,this.data=t,this.options=n,this.options.status=304},S={},b=function(e,t){return e.notify({type:"start",path:t})},I=function(e,t){return e.notify({type:"end",path:t})},T=function(n,c,d,p){var m,h,E,g,f,_,v;return null==p&&(p={raw:!1,isBase64:!1,isBoolean:!1}),/^http/.test(c)||(c=""+l.rootURL+c),"PATCH"===n&&l.usePostInsteadOfPatch&&(n="POST"),f=void 0,p.isBase64&&(f="text/plain; charset=x-user-defined"),E={Accept:"application/vnd.github.raw"},a&&(E["User-Agent"]=a),c in S&&(E["If-None-Match"]=S[c].eTag),(l.token||l.username&&l.password)&&(h=l.token?"token "+l.token:"Basic "+i(l.username+":"+l.password),E.Authorization=h),p.headers&&t.extend(E,p.headers),_=new e.Deferred,m={url:c,type:n,contentType:"application/json",cache:!!p.cache||!1,mimeType:f,headers:E,processData:!1,data:!p.raw&&d&&JSON.stringify(d)||d,dataType:p.raw?void 0:"json"},v={},p.isBoolean&&(m.statusCode={204:function(){return I(_,c),_.resolve(!0,v)},205:function(){return I(_,c),_.resolve(!0,v)},404:function(){return I(_,c),_.resolve(!1,v)}}),(g=o.ajax(m)).always((function(){var e,t,s,r,i,o;for(I(_,c),t=parseFloat(g.getResponseHeader("X-RateLimit-Limit")),s=parseFloat(g.getResponseHeader("X-RateLimit-Remaining")),o=[],r=0,i=R.length;r<i;r++)e=R[r],o.push(e(s,t,n,c,d,p));return o})),g.done((function(i,o){var a,d,m,h,E,f,I;if(v={textStatus:o,status:g.status},E=g.getResponseHeader("Link"),t.each(null!=E?E.split(","):void 0,(function(n){var i,o,a;return(a=n.match(/<([^>]+)>;\ rel="([^"]+)"/))[0],i=a[1],"last"===(o=a[2])&&(v.pageCount=r(i)),"next"===o&&(v.nextPageNum=r(i)),v.nextPageNum&&v.pageCount&&(v.remainingPages=function(){var n=[],r=p.pageLimit||v.pageCount;r>v.pageCount&&(r=v.pageCount);for(var o=v.nextPageNum;o<=r;o++)n.push(i.replace(s,"$1"+o));var a=t.map(n,(function(e){return T("GET",e,null,p).then((function(e,t){return e}))}));return e.when.apply(e,a).then((function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];return e}))}),v[o]=function(){return T("GET",i,null,p)}})),304===g.status)return l.useETags&&S[c]?(m=S[c],_.resolve(m.data,m.options)):_.resolve(g.responseText,v);if(204===g.status&&p.isBoolean)return _.resolve(!0,v);if("GET"===n&&p.isBase64){for(a="",h=f=0,I=i.length;0<=I?f<=I:f>=I;h=0<=I?++f:--f)a+=String.fromCharCode(255&i.charCodeAt(h));i=a}return"GET"===n&&g.getResponseHeader("ETag")&&l.useETags&&(d=g.getResponseHeader("ETag"),S[c]=new u(d,i,v)),_.resolve(i,v)})).fail((function(e,t,n){var s;return p.isBoolean&&404===g.status?_.resolve(!1):"application/json; charset=utf-8"!==g.getResponseHeader("Content-Type")?_.reject({error:g.responseText,status:g.status,_jqXHR:g}):(s=g.responseText?JSON.parse(g.responseText):"",_.reject({error:s,status:g.status,_jqXHR:g}))})),b(_,c),_.promise()},y=function(e){var n;return t.isEmpty(e)?"":(n=[],t.each(t.pairs(e),(function(e){var t,s;return t=e[0],s=e[1],n.push(t+"="+encodeURIComponent(s))})),"?"+n.join("&"))},this.clearCache=function(){return S={}},this.getCache=function(){return S},this.setCache=function(e){if(null===e||"object"!=typeof e)throw new Error('BUG: argument of method "setCache" should be an object');return S=e},this.onRateLimitChanged=function(e){return R.push(e)},this.getZen=function(){return T("GET","/zen",null,{raw:!0})},this.getAllUsers=function(e){var t;return null==e&&(e=null),t={},e&&(t.since=e),T("GET","/users",t)},this.getOrgRepos=function(e,t,n){this.getOrgReposWithReqOptions(e,t,n,null)},this.getOrgReposWithReqOptions=function(e,t,n,s){return null==t&&(t="all"),null==n&&(n=1),T("GET","/orgs/"+e+"/repos?type="+t+"&per_page=100&page="+n,null,s)},this.getMultipleOrgRepos=function(e,t,n){this.getMultipleOrgReposWithReqOptions(e,t,n,reqOptions,null)},this.getMultipleOrgReposWithReqOptions=function(t,n,s,r){if(null==n&&(n="all"),!(s>1))return this.getOrgReposWithReqOptions(t,n,null,r);for(var i=[],o=1;o<=s;o++)i.push(this.getOrgReposWithReqOptions(t,n,o,r));return e.when.apply(e,i).then((function(){for(var t=[],n=0;n<=arguments.length-1;n++)t=t.concat(arguments[n][0]);return e.when(t,arguments[arguments.length-1][1])}))},this.getPublicGists=function(e){var t,n;return null==e&&(e=null),n=null,t=function(e){return Date===e.constructor?e.toISOString():e},e&&(n={since:t(e)}),T("GET","/gists/public",n)},this.getPublicEvents=function(){return T("GET","/events",null)},this.getNotifications=function(e){var t,n;return null==e&&(e={}),t=function(e){return Date===e.constructor?e.toISOString():e},e.since&&(e.since=t(e.since)),n=y(e),T("GET","/notifications"+n,null)},v=function(n){var s,r;null==n&&(n=null),r=n?"/users/"+n:"/user",s=null,this.getInfo=function(t){var n;return null==t&&(t=!1),t&&(s=null),s?((n=new e.Deferred).resolve(s),n):T("GET",""+r,null).done((function(e){return s=e}))},this.getRepos=function(e,t,n,s,r,i){this.getReposWithReqOptions(e,t,n,s,r,i,null)},this.getReposWithReqOptions=function(e,n,s,i,o,a,l){var c={};c.type=e||"all",c.sort=n||"pushed",c.direction=s||"desc",c.page=i||1,o&&(c.visibility=o,delete c.type),a&&(c.affiliation=a,delete c.type);var d=t.map(c,(function(e,t){return t+"="+e})).join("&");return T("GET",r+"/repos?"+d,null,l)},this.getMultipleRepos=function(e,t,n,s,r,i){return this.getMultipleReposWithReqOptions(e,t,n,s,r,i,null)},this.getMultipleReposWithReqOptions=function(t,n,s,r,i,o,a){if(null==t&&(t="all"),!(r>1))return this.getReposWithReqOptions(t,n,s,null,i,o,a);for(var l=[],c=1;c<=r;c++)l.push(this.getReposWithReqOptions(t,n,s,c,i,o,a));return e.when.apply(e,l).then((function(){data=[];for(var t=0;t<=arguments.length-1;t++)data=data.concat(arguments[t][0]);return e.when(data,arguments[arguments.length-1][1])}))},this.getOrgs=function(){this.getOrgsWithReqOptions(null)},this.getOrgsWithReqOptions=function(e){return T("GET",r+"/orgs",null,e)},this.getGists=function(){return T("GET",r+"/gists",null)},this.getFollowers=function(){return T("GET",r+"/followers",null)},this.getFollowing=function(){return T("GET",r+"/following",null)},this.isFollowing=function(e){return T("GET",r+"/following/"+e,null,{isBoolean:!0})},this.getPublicKeys=function(){return T("GET",r+"/keys",null)},this.getSubscriptions=function(){return T("GET",r+"/subscriptions",null)},this.getReceivedEvents=function(e){var t;if(!n)throw new Error("BUG: This does not work for authenticated users yet!");return t="",e&&(t="/public"),T("GET","/users/"+n+"/received_events"+t,null)},this.getEvents=function(){if(!n)throw new Error("BUG: This does not work for authenticated users yet!");return T("GET","/users/"+n+"/events"+isPublic,null)},this.getOrgEvents=function(e){this.getOrgEventsWithReqOptions(e,null)},this.getOrgEventsWithReqOptions=function(e,t){return T("GET",r+"/events/orgs/"+e.organization,null,t)}},c=function(s){function r(){r.__super__.constructor.call(this),this.updateInfo=function(e){return T("PATCH","/user",e)},this.getGists=function(){return T("GET","/gists",null)},this.follow=function(e){return T("PUT","/user/following/"+e,null)},this.unfollow=function(e){return T("DELETE","/user/following/"+e,null)},this.getEmails=function(){return T("GET","/user/emails",null)},this.addEmail=function(e){return t.isArray(e)||(e=[e]),T("POST","/user/emails",e)},this.addEmail=function(e){return t.isArray(e)||(e=[e]),T("DELETE","/user/emails",e)},this.getPublicKey=function(e){return T("GET","/user/keys/"+e,null)},this.addPublicKey=function(e,t){return T("POST","/user/keys",{title:e,key:t})},this.updatePublicKey=function(e,t){return T("PATCH","/user/keys/"+e,t)},this.createRepo=function(e,t){return null==t&&(t={}),t.name=e,T("POST","/user/repos",t)},this.getPrivateCollaboratorRepos=function(){return T("GET","/user/repos?"+e.param({visibility:"private",affiliation:"collaborator"}),null)}}return function(e,t){for(var s in t)n.call(t,s)&&(e[s]=t[s]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,s),r}(v),_=function(){this.markThreadAsRead=function(e){return T("PATCH","/notifications/threads/"+e,{})}},E=function(e){this.name=e,this.getInfo=function(){return T("GET","/orgs/"+this.name,null)},this.updateInfo=function(e){return T("PATCH","/orgs/"+this.name,e)},this.getTeams=function(){return T("GET","/orgs/"+this.name+"/teams",null)},this.createTeam=function(e,t,n){var s;return null==t&&(t=null),null==n&&(n="pull"),s={name:e,permission:n},t&&(s.repo_names=t),T("POST","/orgs/"+this.name+"/teams",s)},this.getMembers=function(){return T("GET","/orgs/"+this.name+"/members",null)},this.isMember=function(e){return T("GET","/orgs/"+this.name+"/members/"+e,null,{isBoolean:!0})},this.removeMember=function(e){return T("DELETE","/orgs/"+this.name+"/members/"+e,null)},this.createRepo=function(e,t){return null==t&&(t={}),t.name=e,T("POST","/orgs/"+this.name+"/repos",t)},this.getRepos=function(){return T("GET","/orgs/"+this.name+"/repos?type=all&per_page=100",null)}},m=function(n,s){var r;this.repoUser=n,this.repoName=s,r="/repos/"+this.repoUser+"/"+this.repoName,this.deleteRepo=function(){return T("DELETE",""+r)},this._updateTree=function(e){return this.getRef("heads/"+e).promise()},this.getRef=function(e){return T("GET",r+"/git/refs/"+e,null).then((function(e){return e.object.sha})).promise()},this.createRef=function(e){return T("POST",r+"/git/refs",e)},this.deleteRef=function(e){return T("DELETE",r+"/git/refs/"+e,this.options)},this.getBranches=function(){return T("GET",r+"/git/refs/heads",null).then((function(e){return t.map(e,(function(e){return t.last(e.ref.split("/"))}))})).promise()},this.getBlob=function(e,t){return T("GET",r+"/git/blobs/"+e,null,{raw:!0,isBase64:t})},this.getSha=function(n,s){return""===s?this.getRef("heads/"+n):this.getTree(n,{recursive:!0}).then((function(n){var r;return(null!=(r=t.select(n,(function(e){return e.path===s}))[0])?r.sha:void 0)?null!=r?r.sha:void 0:(new e.Deferred).reject({message:"SHA_NOT_FOUND"})})).promise()},this.getContents=function(e,t){var n;return null==t&&(t=null),n="",null!==t&&(n=y({ref:t})),T("GET",r+"/contents/"+e+n,null,{raw:!0}).then((function(e){return e})).promise()},this.removeFile=function(e,t,n,s){return T("DELETE",r+"/contents/"+e,{message:t,sha:n,branch:s},null)},this.getTree=function(e,t){var n;return null==t&&(t=null),n=y(t),T("GET",r+"/git/trees/"+e+n,null).then((function(e){return e.tree})).promise()},this.postBlob=function(e,t){return"string"==typeof e&&(t&&(e=i(e)),e={content:e,encoding:"utf-8"}),t&&(e.encoding="base64"),T("POST",r+"/git/blobs",e).then((function(e){return e.sha})).promise()},this.updateTreeMany=function(e,t){return T("POST",r+"/git/trees",{base_tree:e,tree:t}).then((function(e){return e.sha})).promise()},this.postTree=function(e){return T("POST",r+"/git/trees",{tree:e}).then((function(e){return e.sha})).promise()},this.commit=function(e,n,s){return t.isArray(e)||(e=[e]),T("POST",r+"/git/commits",{message:s,parents:e,tree:n}).then((function(e){return e.sha})).promise()},this.updateHead=function(e,t,n){var s;return null==n&&(n=!1),s={sha:t},n&&(s.force=!0),T("PATCH",r+"/git/refs/heads/"+e,s)},this.getCommit=function(e){return T("GET",r+"/commits/"+e,null)},this.getCommits=function(e){var n,s;return null==e&&(e={}),n=function(e){return Date===e.constructor?e.toISOString():e},(e=t.extend({},e)).since&&(e.since=n(e.since)),e.until&&(e.until=n(e.until)),s=y(e),T("GET",r+"/commits"+s,null).promise()}},d=function(n,s){var r,i;i=n,r=s||function(){throw new Error("BUG: No way to fetch branch ref!")},this.getCommit=function(e){return i.getCommit(e)},this.getCommits=function(e){return null==e&&(e={}),e=t.extend({},e),r().then((function(t){return e.sha=t,i.getCommits(e)})).promise()},this.createBranch=function(e){return r().then((function(t){return i.getSha(t,"").then((function(t){return i.createRef({sha:t,ref:"refs/heads/"+e})}))})).promise()},this.read=function(e,t){return r().then((function(n){return i.getSha(n,e).then((function(e){return i.getBlob(e,t).then((function(t){return{sha:e,content:t}}))}))})).promise()},this.contents=function(e){return r().then((function(t){return i.getSha(t,"").then((function(t){return i.getContents(e,t).then((function(e){return e}))}))})).promise()},this.remove=function(e,t,n){return null==t&&(t="Removed "+e),null==n&&(n=null),r().then((function(s){return n?i.removeFile(e,t,n,s):i.getSha(s,e).then((function(n){return i.removeFile(e,t,n,s)}))})).promise()},this.move=function(e,n,s){return null==s&&(s="Moved "+e),r().then((function(r){return i._updateTree(r).then((function(o){return i.getTree(o,{recursive:!0}).then((function(a){return t.each(a,(function(t){if(t.path===e&&(t.path=n),"tree"===t.type)return delete t.sha})),i.postTree(a).then((function(e){return i.commit(o,e,s).then((function(e){return i.updateHead(r,e).then((function(e){return e}))}))}))}))}))})).promise()},this.write=function(e,t,n,s,r){var i;return null==n&&(n="Changed "+e),null==r&&(r=null),(i={})[e]={content:t,isBase64:s},this.writeMany(i,n,r).promise()},this.writeMany=function(n,s,o){return null==s&&(s="Changed Multiple"),null==o&&(o=null),r().then((function(r){var a;return a=function(o){var a;return a=t.map(t.pairs(n),(function(e){var t,n,s,r;return r=e[0],t=(n=e[1]).content||n,s=n.isBase64||!1,i.postBlob(t,s).then((function(e){return{path:r,mode:"100644",type:"blob",sha:e}}))})),e.when.apply(e,a).then((function(e,n,a){var l;return l=t.toArray(arguments),i.updateTreeMany(o,l).then((function(e){return i.commit(o,e,s).then((function(e){return i.updateHead(r,e).then((function(e){return e.object}))}))}))}))},o?a(o):i._updateTree(r).then(a)})).promise()}},h=function(e){this.options=e,this.issuePath="/repos/"+e.user+"/"+e.repo+"/issues/"+e.issueId,this._getPreviewOptions=function(){return{headers:{Accept:"application/vnd.github.mockingbird-preview"}}},this.getInfo=function(){return T("GET",this.issuePath)},this.getEvents=function(){return T("GET",this.issuePath+"/events")},this.getTimeline=function(){var e=this._getPreviewOptions();return T("GET",this.issuePath+"/timeline?per_page=100",null,e)},this.getComments=function(){return T("GET",this.issuePath+"/comments?per_page=100")},this.createComment=function(e){return T("POST",this.issuePath+"/comments",{body:e})},this.close=function(){return T("PATCH",this.issuePath,{state:"closed"})},this.open=function(){return T("PATCH",this.issuePath,{state:"open"})},this.updateIssue=function(e){const t=a2(["title","body"],e);return T("PATCH",this.issuePath,t)}},f=function(){this.forRepos=function(t){var n={q:t,per_page:100},s=e.param(n);return T("GET","/search/repositories?"+s)},this.forCode=function(t){var n={q:t,per_page:100},s=e.param(n);return T("GET","/search/code?"+s)}},g=function(n){var s,r;this.options=n,r=this.options.user,s=this.options.name,this.git=new m(r,s),this.repoPath="/repos/"+r+"/"+s;var i=n.repo_id;i&&(this.repoPath="/repositories/"+i),this.currentTree={branch:null,sha:null},this.updateInfo=function(e){return T("PATCH",this.repoPath,e)},this.getBranches=function(){return this.git.getBranches()},this.getBranch=function(t){var n;return null==t&&(t=null),t?(n=function(){var n;return(n=new e.Deferred).resolve(t),n},new d(this.git,n)):this.getDefaultBranch()},this.getDefaultBranch=function(){var e,t=this;return e=function(){return t.getInfo().then((function(e){return e.master_branch}))},new d(this.git,e)},this.setDefaultBranch=function(e){return this.updateInfo({name:s,default_branch:e})},this.getInfo=function(){this.getInfoWithReqOptions(null)},this.getInfoWithReqOptions=function(e){return T("GET",this.repoPath,null,e)},this.getContents=function(e,t){return T("GET",this.repoPath+"/contents?ref="+e,{path:t})},this.fork=function(e){return T("POST",this.repoPath+"/forks",e?{organization:e}:null)},this.createPullRequest=function(e){return T("POST",this.repoPath+"/pulls",e)},this.isPullRequestMerged=function(e){return T("GET",this.repoPath+"/pulls/"+e.issueId+"/merge",e)},this.getCommits=function(e){return this.git.getCommits(e)},this.getEvents=function(){return T("GET",this.repoPath+"/events",null)},this.getIssueEvents=function(){return T("GET",this.repoPath+"/issues/events",null)},this.getIssues=function(t){return T("GET",this.repoPath+"/issues"+(t?"?"+e.param(t):""))},this.getIssueService=function(e){return new h({user:this.options.user,repo:this.options.name,issueId:e})},this.getNetworkEvents=function(){return T("GET","/networks/"+r+"/"+s+"/events",null)},this._getPreviewOptions=function(){return{headers:{Accept:"application/vnd.github.inertia-preview+json"}}},this.getProjects=function(e){return e=this._getPreviewOptions(),T("GET",this.repoPath+"/projects",null,e)},this.getProject=function(e){var t="/projects/"+e.project_number;return e=this._getPreviewOptions(),T("GET",this.repoPath+t,null,e)},this.getProjectColumns=function(e){var t="/projects/"+e.project_number+"/columns";return e=this._getPreviewOptions(),T("GET",this.repoPath+t,null,e)},this.getProjectColumnCards=function(e){var t="/projects/columns/"+e.column_id+"/cards";return e=this._getPreviewOptions(),T("GET",this.repoPath+t,null,e)},this.getAssignees=function(t){var n=t?"?"+e.param(t):"";return T("GET",this.repoPath+"/assignees"+n)},this.getMilestones=function(e){this.getMilestonesWithReqOptions(e,null)},this.getMilestonesWithReqOptions=function(t,n){return T("GET",this.repoPath+"/milestones"+(t?"?"+e.param(t):""),null,n)},this.getMilestone=function(e){return T("GET",this.repoPath+"/milestones/"+e)};const o=e=>a2(["title","state","description","due_on"],e);this.createMilestone=function(e){return T("POST",this.repoPath+"/milestones",o(e))},this.updateMilestone=function(e){return T("PATCH",this.repoPath+"/milestones/"+e.milestone_number,o(e))},this.deleteMilestone=function(e){return T("DELETE",this.repoPath+"/milestones/"+e.milestone_number)},this.assignIssueToMilestone=function(e){return T("PATCH",this.repoPath+"/issues/"+e.issue_number,{milestone:e.milestone})},this.getLabels=function(t){var n=t?"?"+e.param(t):"";return T("GET",this.repoPath+"/labels"+n)},this.removeLabel=function(e){return T("DELETE",this.repoPath+"/issues/"+e.issue_number+"/labels/"+e.label)},this.addLabels=function(e){return T("POST",this.repoPath+"/issues/"+e.issue_number+"/labels",e.labels)},this.createLabel=function(e){return T("POST",this.repoPath+"/labels",e.label)},this.getClosedIssues=function(n){var s={state:"closed"};return t.extend(s,n),T("GET",this.repoPath+"/issues?"+e.param(s))},this.closeIssue=function(e){return T("PUT",this.repoPath+"/issues/"+e,{state:"closed"})},this.createIssue=function(e){return T("POST",this.repoPath+"/issues",e)},this.getNotifications=function(e){return this.getNotificationsWithReqOptions(e,null)},this.getNotificationsWithReqOptions=function(e,t){var n,s,r;return null==e&&(e={}),s=function(e){return Date===e.constructor?e.toISOString():e},e.since&&(e.since=s(e.since)),n=e.repo_id?"/repositories/"+e.repo_id:this.repoPath,r=y(e),T("GET",n+"/notifications"+r,null,t)},this.markRepoAsRead=function(e){return T("PUT",this.repoPath+"/notifications",e)},this.getSubscription=function(){return T("GET",this.repoPath+"/subscription")},this.setSubscription=function(e){return T("PUT",this.repoPath+"/subscription",e)},this.deleteSubscription=function(){return T("DELETE",this.repoPath+"/subscription")},this.getCollaborators=function(t){return T("GET",this.repoPath+"/collaborators"+(t?"?"+e.param(t):""),null)},this.getWatchers=function(){return T("GET",this.repoPath+"/subscribers",null)},this.addCollaborator=function(e){if(!e)throw new Error("BUG: username is required");return T("PUT",this.repoPath+"/collaborators/"+e,null,{isBoolean:!0})},this.removeCollaborator=function(e){if(!e)throw new Error("BUG: username is required");return T("DELETE",this.repoPath+"/collaborators/"+e,null,{isBoolean:!0})},this.isCollaborator=function(e){if(null==e&&(e=null),!e)throw new Error("BUG: username is required");return T("GET",this.repoPath+"/collaborators/"+e,null,{isBoolean:!0})},this.canCollaborate=function(){var t=this;return l.password||l.token?w.getLogin().then((function(e){return!!e&&t.isCollaborator(e)})).then(null,(function(e){return!1})):(new e.Deferred).resolve(!1)},this.getHooks=function(){return T("GET",this.repoPath+"/hooks",null)},this.getHook=function(e){return T("GET",this.repoPath+"/hooks/"+e,null)},this.createHook=function(e,t,n,s){var r;return null==n&&(n=["push"]),null==s&&(s=!0),r={name:e,config:t,events:n,active:s},T("POST",this.repoPath+"/hooks",r)},this.editHook=function(e,t,n,s,r,i){var o;return null==t&&(t=null),null==n&&(n=null),null==s&&(s=null),null==r&&(r=null),null==i&&(i=null),o={},null!==t&&(o.config=t),null!==n&&(o.events=n),null!==s&&(o.add_events=s),null!==r&&(o.remove_events=r),null!==i&&(o.active=i),T("PATCH",this.repoPath+"/hooks/"+e,o)},this.testHook=function(e){return T("POST",this.repoPath+"/hooks/"+e+"/tests",null)},this.deleteHook=function(e){return T("DELETE",this.repoPath+"/hooks/"+e,null)},this.getLanguages=function(){return T("GET",this.repoPath+"/languages",null)},this.getReleases=function(){return T("GET",this.repoPath+"/releases",null)},this.addAssignees=function(e){return T("POST",this.repoPath+"/issues/"+e.issue_number+"/assignees",{assignees:e.assignees})},this.removeAssignees=function(e){return T("DELETE",this.repoPath+"/issues/"+e.issue_number+"/assignees",{assignees:e.assignees})},this.getIssueComment=function(e){return T("GET",this.repoPath+"/issues/comments/"+e.comment_id,null)},this.editIssueComment=function(e){return T("PATCH",this.repoPath+"/issues/comments/"+e.comment_id,{body:e.body})},this.deleteIssueComment=function(e){return T("DELETE",this.repoPath+"/issues/comments/"+e.comment_id,null)}},p=function(e){var t,n;this.options=e,t=this.options.id,n="/gists/"+t,this.read=function(){return T("GET",n,null)},this.create=function(t,n,s){return null==n&&(n=!1),null==s&&(s=null),e={isPublic:n,files:t},null!=s&&(e.description=s),T("POST","/gists",e)},this.delete=function(){return T("DELETE",n,null)},this.fork=function(){return T("POST",n+"/forks",null)},this.update=function(t,s){return null==s&&(s=null),e={files:t},null!=s&&(e.description=s),T("PATCH",n,e)},this.star=function(){return T("PUT",n+"/star")},this.unstar=function(){return T("DELETE",n+"/star")},this.isStarred=function(){return T("GET",""+n,null,{isBoolean:!0})}},this.getRepo=function(e,t){if(1===arguments.length&&e.repo_id)return new g(e);if(!e)throw new Error("BUG! user argument is required");if(!t)throw new Error("BUG! repo argument is required");return new g({user:e,name:t})},this.getSearch=function(){return new f},this.getOrg=function(e){return new E(e)},this.getNotifications=function(){return new _},this.getUser=function(e){return null==e&&(e=null),e?new v(e):l.password||l.token?new c:null},this.getGist=function(e){return new p({id:e})},this.getLogin=function(){var t;return l.password||l.token?(new v).getInfo().then((function(e){return e.login})):((t=new e.Deferred).resolve(null),t)}},l},e(ls(),i2(),o2)}(),{shared:c2}=pr,{isNilOrEmpty:d2}=Vt.Z,u2=fe.bind(s),p2=e=>ee.kKJ(e.issue_number)?e:ee.yGi("issueId",e.issue_number,e),m2=e=>({options:ee.anz("reqOptions",e),reqOptions:ee.vgT("reqOptions",e)||null});function h2(){const e=ls().Deferred();return ct.requireTokenByKey(ct.GITHUB_TOKEN_KEY).then(e.resolve,e.reject),e.then((e=>{const t={token:e,rootURL:L.Z.githubRestApiUrl};return new l2(t)})).promise()}function E2(e,t,n,s){const r=n(s,e);return t.next?t.next().then(((e,t)=>E2(e,t,n,r))):r}function g2(e,t,n){return e.then(((e,s)=>{let r=[];return!s.remainingPages&&s.next?(oe("Cannot do parallel fetching"),E2(e,s,t,r)):(r=t(r,e,s),s.remainingPages?s.remainingPages().then((e=>{const i=j.ZP.reduce(e,t,r);return n?{pageCount:s.pageCount,result:i}:i})):n?{pageCount:1,result:r}:r)})).catch(v2)}function f2(e,t){return{result:e,pagination:t}}const _2=e=>{401===e.status&&tt.handle401()},v2=e=>(_2(e),I2(e),[]),I2=e=>{let{error:t,status:n}=e;return 403===n&&t?.message?.includes("Resource protected by organization SAML")&&t2?.dispatch({type:c2.LOAD_REPOS_ERROR,payload:"SAML authentication required"}),[]},b2={searchForReposWithOwner:(e,t)=>h2().then((n=>{const s=n.getSearch(),r=`fork:true user:${e} ${t}`;return s.forRepos(r)})),searchForReposPublic:e=>h2().then((t=>{const n=t.getSearch(),s=`is:public fork:true ${e}`;return n.forRepos(s)})),searchForReposPublicWithOwner:(e,t)=>h2().then((n=>{const s=n.getSearch(),r=`is:public fork:true org:${e} ${t}`;return s.forRepos(r)})),searchForReposPrivate:e=>h2().then((t=>{const n=t.getSearch(),s=`is:private fork:true ${e}`;return n.forRepos(s)})),searchForFile:(e,t,n)=>h2().then((s=>{const r=s.getSearch(),i=`in:path repo:${`${e}/${t}`} ${n}`;return r.forCode(i)}))},y2={fetchFromUrl:e=>ct.requireTokenByKey(ct.GITHUB_TOKEN_KEY).then((t=>ls().ajax({url:e,headers:{Authorization:`token ${t}`}})))},S2={_getRepo(e){const t=TT(e,["organization","repository"]);return h2().then((e=>e.getRepo(t.organization,t.repository)))},_getRepoById(e){const t=TT(e,["repo_id"]);return h2().then((e=>e.getRepo(t)))},_isRepoOwnerExists(e){const t=TT(e,["owner"]);return ls().ajax({url:`${L.Z.githubURL}/${t.owner}`}).then(((e,t,n)=>200===n.status)).fail((e=>{const t=e;if(404===t.status){const e={message:"Owner not found"};t.responseJSON=e,t.responseText=e.toString()}return t}))},createMilestone(e){const t=ee.eiS(["title","state","due_on","description"],e);return S2._getRepoById(e).then((e=>e.createMilestone(t)))},updateMilestone:e=>S2._getRepoById(e).then((t=>t.updateMilestone(e))),deleteMilestone:e=>S2._getRepoById(e).then((t=>t.deleteMilestone(e))),assignIssueToMilestone:e=>S2._getRepoById(e).then((t=>t.assignIssueToMilestone(e))),getPermission:e=>S2.getInfo(e).then((e=>e.permissions||{})),checkOwnerAndGetPermissions(e){const t=TT(e,["organization","repository"]);return S2._isRepoOwnerExists({owner:t.organization}).then((()=>S2.getPermission(e)))},getInfo(e){const t=m2(e);return S2._getRepo(t.options).then((e=>e.getInfoWithReqOptions({cache:!0}))).fail(_2)},getInfoByRepoId(e){const t=m2(e);return S2._getRepoById(t.options).then((e=>e.getInfoWithReqOptions({cache:!0}))).fail(_2)},getInfoCached:We({useStorage:"session",cacheWithFirstArg:["organization","repository"],expire:"10m",key:Me.CacheKeyRepoInfo},(e=>S2.getInfo(e))),getMilestoneIssues:e=>S2._getRepoById(e).then((t=>{const n=j.ZP.extend({per_page:100},e);return g2(t.getIssues(n),((e,t)=>(se("GitHubAPI.getMilestoneIssues done",t.length),j.ZP.union(e,t))))})),getCollaborators:e=>S2._getRepo(e).then((e=>g2(e.getCollaborators({per_page:100}),((e,t)=>(se("GitHubAPI.getCollaborators done",t.length),j.ZP.union(e,t)))))),getWatchers:e=>S2._getRepo(e).then((e=>e.getWatchers())),getAssignees:e=>S2._getRepoById(e).then((e=>g2(e.getAssignees({per_page:100}),ee.zoF))),getLabels:e=>S2._getRepoById(e).then((e=>g2(e.getLabels({per_page:100}),ee.zoF))),getMilestones:e=>(j.ZP.defaults(e,{per_page:100}),S2._getRepo(e).then((t=>g2(t.getMilestones(e),((e,t)=>j.ZP.union(e,t)))))),getMilestonesByRepoID(e){j.ZP.defaults(e,{per_page:100});const t=m2(e);return S2._getRepoById(e).then((e=>g2(e.getMilestonesWithReqOptions(t.options,t.reqOptions),((e,t)=>j.ZP.union(e,t)))))},getMilestone:e=>S2._getRepo(e).then((t=>t.getMilestone(e.milestoneId))),markThreadAsRead:e=>h2().then((e=>e.getNotifications())).then((t=>ve().resolve(t.markThreadAsRead(e.thread_id)).catch((e=>e&&205===e.status?ve().resolve():ve().reject(e))))),getNotificationsWithPageCount(e){const t=m2(e),{options:n}=t,s={repo_id:n.repo_id},r=ee.eiS(["participating","all","since","before"],n);return S2._getRepoById(s).then((e=>g2(e.getNotificationsWithReqOptions(r,t.reqOptions),((e,t)=>j.ZP.union(e,t)),!0)))},getNotifications(e){const t=m2(e),{options:n}=t,s={repo_id:n.repo_id},r=ee.eiS(["participating","all"],n);return S2._getRepoById(s).then((e=>g2(e.getNotificationsWithReqOptions(r,t.reqOptions),((e,t)=>j.ZP.union(e,t)))))},getSubscription:e=>ve().resolve(S2._getRepoById(e).then((e=>e.getSubscription()))).catch((e=>e&&404===e.status?ve().resolve(null):ve().reject(e))),setSubscription(e){const t=PT.pickOrThrow(e,["repo_id","subscribed","ignored"]),n=ee.eiS(["subscribed","ignored"],t);return S2._getRepoById(t).then((e=>e.setSubscription(n)))},deleteSubscription:e=>S2._getRepoById(e).then((e=>e.deleteSubscription())),markRepoAsRead(e){const t=ee.eiS(["last_read_at"],e);return S2._getRepoById(e).then((e=>ve().resolve(e.markRepoAsRead(t)).catch((e=>e&&205===e.status?ve().resolve():ve().reject(e)))))},createIssue(e){const t=j.ZP.pick(e,"repository","organization"),n=j.ZP.pick(e,"title","body");return d2(e.labels)||(n.labels=e.labels),d2(e.assignees)||(n.assignees=e.assignees),d2(e.milestone)||(n.milestone=e.milestone),S2._getRepo(t).then((e=>e.createIssue(n)))},getClosedIssues:e=>(se("GitHubAPI.getClosedIssues"),S2._getRepoById(e).then((t=>t.getClosedIssues(e)))),addAssignees:e=>S2._getRepoById(e).then((t=>t.addAssignees(e))),removeAssignees:e=>S2._getRepoById(e).then((t=>t.removeAssignees(e))),getIssueComment:e=>S2._getRepoById(e).then((t=>t.getIssueComment(e))),editIssueComment:e=>S2._getRepoById(e).then((t=>t.editIssueComment(e))),deleteIssueComment:e=>S2._getRepoById(e).then((t=>t.deleteIssueComment(e))),addLabels:e=>S2._getRepoById(e).then((t=>t.addLabels(e))),removeLabel:e=>S2._getRepoById(e).then((t=>{const n=ee.yGi("label",encodeURIComponent(e.label),e);return t.removeLabel(n)})),createLabel:e=>S2._getRepoById(e).then((t=>t.createLabel(e)))},w2={_getUser(e){const t=e?e.username:null;return h2().then((e=>e.getUser(t))).fail(_2)},getRepos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={cache:!0};return e.pageLimit&&(t.pageLimit=e.pageLimit),w2._getUser(e).then((n=>{let s;s=e&&e.username?`preload-repo-pages:${e.username}`:"preload-repo-pages-currentuser";let r=parseInt(localStorage.getItem(s),10);return r=r||1,t.pageLimit&&t.pageLimit<r&&(r=t.pageLimit),g2(n.getMultipleReposWithReqOptions(null,null,null,r,e.visibility,e.affiliation,t),((e,t)=>j.ZP.union(e,t))).then((e=>(r=Math.ceil(e.length/100),r>=0&&localStorage.setItem(s,r),e)))}))},getPaginatedRepos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};return w2._getUser(e).then((n=>{let s=e.pageNumber;return s=s||1,g2(n.getMultipleReposWithReqOptions(null,null,null,s,e.visibility,e.affiliation,t),((e,t)=>j.ZP.union(e,t))).then(f2)}))},getMySubscriptions:e=>w2._getUser(e).then((e=>g2(e.getSubscriptions(),((e,t)=>j.ZP.union(e,t))))),getMyReposByPage(e){const t=j.ZP.extend({},e,{affiliation:"owner"});return w2.getPaginatedRepos(t)},getMyRepos(e){const t=j.ZP.extend({},e,{affiliation:"owner"});return w2.getRepos(t)},getMeta:e=>w2._getUser(e).then((e=>e.getInfo())),getMyOrgs:We({useStorage:"local",expire:"24h",key:Me.CacheKeyMyOrgs},(e=>{const t={cache:!0};return w2._getUser(e).then((e=>g2(e.getOrgsWithReqOptions(t),ee.zoF))).then((e=>ee.UID(ee.eiS(["login","id","url","avatar_url","description"]),e))).fail(_2)})),getMyOrgEvents(e){const t=m2(e);return w2._getUser(t.options).then((e=>g2(e.getOrgEventsWithReqOptions(t.options,t.reqOptions),((e,t)=>j.ZP.union(e,t)))))},getMyPrivateCollaboratorRepos:e=>w2._getUser(e).then((e=>e.getPrivateCollaboratorRepos()))},R2={getRepos(e){const t=TT(e,["organization"]),n={cache:!0};return e.pageLimit&&(n.pageLimit=e.pageLimit),h2().then((e=>{let s=parseInt(localStorage.getItem(`preload-repo-pages:${t.organization}`),10);return s=s||1,n.pageLimit&&n.pageLimit<s&&(s=n.pageLimit),g2(e.getMultipleOrgReposWithReqOptions(t.organization,null,s,n),((e,t)=>j.ZP.union(e,t))).then((e=>(s=Math.ceil(e.length/100),s>=0&&localStorage.setItem(`preload-repo-pages:${t.organization}`,s),e)))})).fail(_2)},getReposByPage(e){const t=TT(e,["organization"]);return h2().then((n=>n.getOrgReposWithReqOptions(t.organization,null,e.pageNumber,null).then(f2)))},isOrg(e){const t=ls().Deferred();return R2.getInfo(e).then((e=>{t.resolve("Organization"===e.type)}),(()=>{t.resolve(!1)})),t.promise()},getInfo(e){const t=TT(e,["organization"]);return h2().then((e=>e.getOrg(t.organization).getInfo()))}},T2={_getIssue(e){const t=TT(p2(e),["organization","repository","issueId"]);return h2().then((e=>e.getRepo(t.organization,t.repository))).then((e=>e.getIssueService(t.issueId))).fail(_2)},getIssueInfo(e){const t=p2(e);return T2._getIssue(t).then((e=>e.getInfo())).fail(_2)},getDiscussion(e){const t=p2(e);return T2._getIssue(t).then((e=>g2(e.getComments(),((e,t)=>j.ZP.union(e,t))))).fail(_2)},getTimeline(e){const t=p2(e);return T2._getIssue(t).then((e=>g2(e.getTimeline(),((e,t)=>j.ZP.union(e,t))))).fail(_2)},createIssueComment(e){const t=p2(e);return T2._getIssue(t).then((e=>e.createComment(t.body)))},close(e){let t=p2(e);return(t.repo||ee.kKJ(t.repository))&&(t=ee.yGi("repository",t.repo,t)),T2._getIssue(t).then((e=>e.close()))},open(e){const t=p2(e);return T2._getIssue(t).then((e=>e.open()))},updateIssue(e){const t=p2(e);return T2._getIssue(t).then((e=>e.updateIssue(t)))}};function C2(e,t){return ee.u4g(((n,s)=>(ee.r3W(s,t)?n[s]=e[s]:n[s]=function(){const t=e[s](...arguments);return ve().resolve(t)},n)),{},ee.XPQ(e))}const k2=C2(y2,[]),O2=C2(S2,[]),N2=C2(w2,[]),P2=C2(R2,[]),A2=C2(T2,[]),D2=C2(b2,[]),L2={Url:u2(k2,[]),Repo:u2(O2,[]),User:u2(N2,["getMyOrgs"]),Organization:u2(P2,[]),Issue:u2(A2,[]),Search:u2(D2,[])};function z2(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function M2(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){z2(i,s,r,o,a,"next",e)}function a(e){z2(i,s,r,o,a,"throw",e)}o(void 0)}))}}const x2=os.User.delete,F2=os.User.get;let U2=null;function B2(){U2=null}function q2(){return q2=M2((function*(){let e=!1,t={};if(F||(t=t2?.getState?.(),e=au(t)),e){const e=hu(t);U2={...e,user:{zh:e.userInfo?.zenhub,gh:e.userInfo?.github}}}else{const e=yield os.User.getUserMeta();U2={...e,user:{zh:e.user,gh:e.user.github}},dI(Pe,e.remoteInjectors)}return U2})),q2.apply(this,arguments)}function H2(){return U2?.user?.zh?Promise.resolve(U2):function(){return q2.apply(this,arguments)}()}function W2(e,t){return os.User.setUserSetting(e,t)}function j2(e){const t=ee.TSy(e,{force:!0});return L2.User.getMyOrgs(t)}function G2(e){return L2.User.getMyOrgs(e)}function K2(e){return L2.User.getMeta(e)}function V2(e){return L2.User.getRepos(e)}function $2(e){return L2.User.getMyRepos(e)}function Z2(e){return L2.User.getMyReposByPage(e)}function Y2(){return L2.User.getMySubscriptions()}function J2(e){return os.User.sendInviteToWorkspace(e)}function X2(e){return os.User.sendInviteToZorg(e)}function Q2(e){return L2.User.getMyOrgEvents(e)}function e3(){return L2.User.getMyPrivateCollaboratorRepos()}function t3(){return os.User.getApiToken()}function n3(){return os.User.getReposAndWebhooks()}var s3=n(19887);const r3=bb.Ps`
  mutation aliasMixpanelUser($input: AddAliasToMixpanelUserIdentityInput!) {
    analyticsAliasMixpanelIdentity(input: $input) {
      success
    }
  }
`;const i3=bb.Ps`
  mutation incrementUserProperties(
    $IncrementUserPropertiesInput: IncrementUserPropertiesInput!
  ) {
    analyticsIncrementUserProperties(input: $IncrementUserPropertiesInput) {
      success
    }
  }
`;const o3=bb.Ps`
  mutation trackEvent($TrackEventInput: TrackEventInput!) {
    analyticsTrackEvent(input: $TrackEventInput) {
      success
    }
  }
`;const a3=bb.Ps`
  mutation updateUserProperties($UpdateUserPropertiesInput: UpdateUserPropertiesInput!) {
    analyticsUpdateUserProperties(input: $UpdateUserPropertiesInput) {
      success
    }
  }
`;var l3=n(44359);const c3="dark-mode",d3="light-mode",u3=O,p3="zh-app--theme-applied",m3="zhTheme",h3=()=>document.documentElement.getAttribute("data-color-mode"),E3=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,g3=()=>{const e=E3()?"dark":"light";return document.documentElement.getAttribute(`data-${e}-theme`)},f3=()=>{const e=h3(),t="auto"===e?g3():null;return"dark"===e||"dark"===t?.substr(0,4)},_3=()=>"night"===document.body.getAttribute("data-theme"),v3=e=>"night"===e?u3.DARKMODE_STORAGE_VALUE:u3.LIGHTMODE_STORAGE_VALUE;function I3(e,t){document.body.setAttribute("data-theme",e),document.body.setAttribute("data-scale",t),nI(m3,v3(e)),document.cookie=`zhTheme=${v3(e)}; SameSite=strict; Secure; domain=zenhub.com`}function b3(){return document.documentElement.classList.contains(p3)}function y3(){b3()||(f3()?I3("night","dark"):I3("day","light"),document.documentElement.classList.add(p3))}function S3(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function w3(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){S3(i,s,r,o,a,"next",e)}function a(e){S3(i,s,r,o,a,"throw",e)}o(void 0)}))}}function R3(){const e=cI(Ce),t=function(){const e=document.cookie.split("; ").find((e=>e.startsWith(`${Ce}=`)));if(e)return e.split("=")[1];return null}();if(e&&!t&&T3(e),e)return e;if(t)return t;const n=(0,s3.Z)();return nI(Ce,n),T3(n),n}function T3(e){document.cookie=`${Ce}=${e}; SameSite=strict; Secure; domain=zenhub.com`}function C3(){const e=ly(),t=R3();e.mutate({mutation:r3,variables:{input:{anonymousId:t}},fetchPolicy:"no-cache"})}const k3=()=>{const e=/mp_\w*_mixpanel/g,t=window?.location?.href,n=R3();try{const s=decodeURIComponent(document.cookie)?.split(";").find((t=>t.trim().match(e))),r=s?.substring(s.indexOf("=")+1);if(!r)return{distinct_id:n,...t&&{$current_url:t}};const{$device_id:i,$initial_referrer:o,$initial_referring_domain:a,$user_id:l,utm_campaign:c,utm_source:d,utm_medium:u,utm_term:p,utm_content:m}=JSON.parse(r);return{distinct_id:n,...i&&{$device_id:i},...o&&{$initial_referrer:o},...a&&{$initial_referring_domain:a},...l&&{$user_id:l},...c&&{utm_campaign:c},...d&&{utm_source:d},...u&&{utm_medium:u},...p&&{utm_term:p},...m&&{utm_content:m},...t&&{$current_url:t},$screen_height:screen?.height,$screen_width:screen?.width}}catch(e){return{distinct_id:n,...t&&{$current_url:t}}}};function O3(e,t){const n=Me.CacheKeyLastActiveSession;z.Storage.sync.get([n],(s=>{const r=s,i=(new Date).getDate();if(new Date(r[n]).getDate()!==i){const s=ly(),i=k3();s.mutate({mutation:o3,variables:{TrackEventInput:{eventName:"Action",properties:{...t,Event:e,...i,time:Date.now()}}},fetchPolicy:"no-cache"}),r[n]=Date.now(),z.Storage.sync.set(r)}}))}const N3=e=>{const t=E3()?"dark":"light",n={Application:z.support,"Theme System":t,"Is Github authed":!1,Version:z.version()};let s={};return e.zh&&(s={Role:e.zh.role,"Previous PM Tool":e.zh.projectManagementTool,"Team Size":e.zh.teamSize,"Organization Size":e.zh.organizationSize,"Project Type":e.zh.projectType,"Signup Date (ZenHub)":e.zh.createdAt,$email:e.zh.email,$name:e.zh.name}),e.gh&&(s={...s,$name:s.$name??e.gh.name,"GitHub Username":e.gh.username,"Public Repos":e.gh.publicRepos,Company:e.gh.company,$email:s.$email??e.gh.email,"Signup Date (GitHub)":e.gh.createdAt,"GitHub Following":e.gh.following,"GitHub Followers":e.gh.followers,"Github Theme":h3(),"Is Github authed":!0}),{...n,...s}},P3=e=>!e.gh?{"Signup Date (ZenHub)":e.zh.createdAt,Version:z.version(),Application:z.support}:{Username:e.gh.username,Email:e.gh.email,"Signup Date (GitHub)":e.gh.createdAt,Company:e.gh.company,"Signup Date (ZenHub)":e.zh.createdAt,Version:z.version(),Application:z.support};function A3(e,t){if(!t)return!1;let n=!1;const{defaultRepoId:s}=e,r=e?.repos;if(r.length>0){const[e]=r.filter((e=>e.repo_id===s));if(!e)return!1;const i=e?.owner?.login===t?.gh?.username||!1===e.isPrivate,o=r.some((e=>e.repo_id!==s&&e.isPrivate));n=o&&i}return n}const D3=e=>{const t=Boolean(e.workspace?.repos),n=e.workspace?{"Workspace Id":e.workspace._id,"Workspace Name":e.workspace.name,...t&&{"Workspace Repos":JSON.stringify(e.workspace.repos,null,2)},...t&&{"Workspace Repo Count":e.workspace.repos.length}}:{};return{"Context Type":e.context_type,"Organization Id":e.org_id,Organization:e.organization,...e.repo&&{Repository:e.repo},...e.repo_id&&{"Repository Id":e.repo_id},...n}};function L3(e){return z3.apply(this,arguments)}function z3(){return z3=w3((function*(e){return(yield mR({repo_id:e,readFromCacheOnly:!0}))||{}})),z3.apply(this,arguments)}function M3(e){return{..."undefined"!==e.status&&{"Paid Status":e.status},...void 0!==e.is_seated&&{"Is Seated":e.is_seated},...void 0!==e.planName&&{Plan:e.planName},...void 0!==e.isPublicRepo&&{"Is Public Repo":e.isPublicRepo},...void 0!==e.isManagedSubscription&&{"Is Managed Subscription":e.isManagedSubscription},...void 0!==e.isOrganization&&{"Is Organization":e.isOrganization},...void 0!==e.hasPaidPlan&&{"Has Paid Plan":e.hasPaidPlan},...void 0!==e.require_seat&&{"Require Seat":e.require_seat}}}function x3(e,t,n,s){return F3.apply(this,arguments)}function F3(){return F3=w3((function*(e,t,n,s){const r=s?.repo_id?yield L3(s.repo_id):{},i={...t,...n?P3(n):{},...s?D3(s):{},...M3(r),isBypassingPayment:!(r.planName||!s?.workspace)&&A3(s.workspace,n)},o=ly(),a=k3();o.mutate({mutation:o3,variables:{TrackEventInput:{eventName:e,properties:{...i,...a,time:Date.now()}}},fetchPolicy:"no-cache"}),"GH Visit"!==e&&O3(e,i)})),F3.apply(this,arguments)}const U3=e=>{const t=ly();se("Mixpanel.identifyOnce");const n=k3();t.mutate({mutation:a3,variables:{UpdateUserPropertiesInput:{properties:{...N3(e),...n}}},fetchPolicy:"no-cache"})},B3=e=>{const t=Me.CacheKeyZHLastSeenTimestamp;z.Storage.sync.get([t],(n=>{const s=n||{},r=s[t];if(null!=r)return s[t]=(new Date).getTime(),void z.Storage.sync.set(s);const i=new Date(r).getTime();if((new Date).getTime()-i<3e5)return;const o=ly(),a=k3();o.mutate({mutation:a3,variables:{UpdateUserPropertiesInput:{properties:{...N3(e),...a}}},fetchPolicy:"no-cache"}),s[t]=(new Date).getTime(),z.Storage.sync.set(s)}))};function q3(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function H3(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){q3(i,s,r,o,a,"next",e)}function a(e){q3(i,s,r,o,a,"throw",e)}o(void 0)}))}}let W3=null,j3=!1,G3=null;const K3=()=>G3||(G3=new Promise((e=>{H2().then((t=>{e(t.user)})).catch((t=>{se("Tracker.getUserOnceSet, no user found",t),e(null)}))})),G3),V3=()=>W3,$3=z.version,Z3=z.support,Y3="TRACKER_CONTEXT_TYPE_ORGANIZATION",J3="TRACKER_CONTEXT_TYPE_REPOSITORY",X3="TRACKER_CONTEXT_TYPE_WORKSPACE",Q3=e=>{L.Z.isTrackerEnabled&&(se("Tracker.incrementMPPeople",e),ct.whenAuthReady().then((t=>{var n;t&&(n=e,ly().mutate({mutation:i3,variables:{IncrementUserPropertiesInput:{properties:n}},fetchPolicy:"no-cache"}))})))};function e6(e,t){return t6.apply(this,arguments)}function t6(){return(t6=H3((function*(e,t){se("Tracker.trackEventWhenNotAuthed",e,t);const n={distinct_id:R3(),Authed:!1,Version:$3(),Application:Z3,...k3(),...t};return ly().mutate({mutation:o3,variables:{TrackEventInput:{eventName:e,properties:{...n,time:Date.now()}}},context:{isPublic:!0},fetchPolicy:"no-cache"})}))).apply(this,arguments)}function n6(){return n6=H3((function*(e,t){const n=yield K3();if(!n)return e6(e,t);if(se("Tracker.trackMPEventWhenAuthed",e,t),!1===j3&&n){U3(n),C3();const e=R3();U&&Je.yV(e),j3=!0}B3(n);const s=V3();return x3(e,{...t},n,s)})),n6.apply(this,arguments)}const s6=e=>{let{type:t,values:n}=e;switch(t){case Y3:W3={context_type:"Organization",org_id:n.org_id,organization:n.organization};break;case J3:W3={context_type:"Repository",organization:n.organization,repo:n.repo,repo_id:n.repo_id};break;case X3:W3={context_type:"Workspace",org_id:n.org_id,organization:n.organization,repo:n.repo,repo_id:n.repo_id,workspace:n.workspace};break;default:throw new Error("Tracker.setContext - Invalid context type")}},r6=(e,t)=>L.Z.isTrackerEnabled?(se("Tracker.trackMPEvent",e,t),function(){const e=Me.CacheKeyZHLastActiveSession;z.Storage.sync.get([e],(t=>{const n=t,s=(new Date).getTime()-new Date(n[e]).getTime();(!n[e]||s/36e5>1)&&(Q3({"ZenHub Visit":1}),n[e]=Date.now(),z.Storage.sync.set(n))}))}(),ct.whenAuthReady().then((n=>n?function(e,t){return n6.apply(this,arguments)}(e,t):e6(e,t))).catch((n=>{oe("Mixpanel tracking failed.",e,t,n)}))):Promise.resolve(),i6=function(){var e=H3((function*(e,t){if(!L.Z.isTrackerEnabled)return;const n=yield K3();if(!n)return void se("Tracker.updateUserPersonaProperties, failed, no user present",t);se("Tracker.updateUserProfileProperties",t);const{role:s,projectManagementTool:r,teamSize:i,organizationSize:o,projectType:a}=t,l={gh:{...n.gh},zh:{...n.zh,role:s,projectManagementTool:r,teamSize:i,organizationSize:o,projectType:a}},c={Role:s,"Previous PM Tool":r,"Team Size":i,"Organization Size":o,"Project Type":a};ct.whenAuthReady().then((t=>{t&&(U3(l),x3(e,c,l))}))}));return function(t,n){return e.apply(this,arguments)}}(),o6=function(){var e=H3((function*(e,t){if(!L.Z.isTrackerEnabled)return;(yield K3())?(se("Tracker.updateUserProfileProperties",t),ct.whenAuthReady().then((n=>{var s;n&&(x3(e,t),s=t,ly().mutate({mutation:a3,variables:{UpdateUserPropertiesInput:{properties:s}},fetchPolicy:"no-cache"}))}))):se("Tracker.updateUserProfileProperties, failed, no user present",t)}));return function(t,n){return e.apply(this,arguments)}}();const a6="Tabbed In",l6="Tabbed out",{performance:c6}=window,d6=()=>void 0!==c6&&"function"==typeof c6.mark&&"function"==typeof c6.clearMarks&&"function"==typeof c6.measure&&"function"==typeof c6.clearMeasures;let u6={};function p6(e){let{...t}=e;u6={...u6,...t}}const m6=e=>{if(!d6())return null;(function(e){return c6.getEntriesByName(e).length>0})(e)&&c6.clearMarks(e),c6.mark(e)};function h6(e){const[t]=c6.getEntriesByName(e),n=c6.getEntriesByName(l6),s=e=>{let{startTime:n}=e;return n<t.startTime},r=c6.getEntriesByName(a6).some(s),i=n.some(s);return r||i}const E6=(e,t)=>{const n=[];if(e.forEach((e=>{!function(e){let{name:t,markStart:n,markEnd:s}=e;if(!d6())return null;try{c6.measure(t,n,s)}catch(e){}}(e);const[t]=c6.getEntriesByName(e.name);t?n.push(t):(c6.clearMarks(e.markStart),c6.clearMarks(e.markEnd)),c6.clearMeasures(e.name)})),n.length){const[e,s]=t(...n);!function(e){if(!e.Time||"number"!=typeof e.Time)throw new Error("trackMeasure eventFormatter should return an object with `Time` props as a number ")}(s),r6(`Performance - ${e}`,{...s,...{...u6}})}};let g6=!0;function f6(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!g6)return;const n={name:e,markStart:void 0,markEnd:e};m6(e),h6(e)||(E6([n],(e=>[`${e.name}`,{Time:e.duration,...t}])),g6=!1)}function _6(){g6&&(g6=!1)}const v6={APP_LOADED:"App Loaded",BOARD_PAGE_INTERACTIVE:"Board Page Interactive",BOARD_V2_PAGE_INTERACTIVE:"Board v2 Page Interactive",MULTI_ACTION_ASSIGNEES_OPENED:"Multi Action assignee list opened",MULTI_ACTION_ASSIGNEES_RENDERED:"Multi Action assignee list rendered",MULTI_ACTION_EPICS_OPENED:"Multi Action epics list opened",MULTI_ACTION_EPICS_RENDERED:"Multi Action epics list rendered",MULTI_ACTION_ESTIMATES_OPENED:"Multi Action estimates list opened",MULTI_ACTION_ESTIMATES_RENDERED:"Multi Action estimates list rendered",MULTI_ACTION_LABELS_OPENED:"Multi Action label list opened",MULTI_ACTION_LABELS_RENDERED:"Multi Action label list rendered",MULTI_ACTION_MILESTONES_OPENED:"Multi Action milestones list opened",MULTI_ACTION_MILESTONES_RENDERED:"Multi Action milestones list rendered",MULTI_ACTION_PIPELINES_OPENED:"Multi Action pipelines list opened",MULTI_ACTION_PIPELINES_RENDERED:"Multi Action pipelines list rendered",MULTI_ACTION_RELEASES_OPENED:"Multi Action releases list opened",MULTI_ACTION_RELEASES_RENDERED:"Multi Action releases list rendered",PROJECT_PAGE_LOADED:"Project Page Loaded",PROJECT_PAGE_OPEN_PROJECT:"Project Page Opened",ISSUE_PAGE_LOADED:"Issue Page Loaded",ISSUE_PAGE_ALL_CONTENT_LOADED:"Issue Page All Content Loaded",ISSUE_PAGE_INTERACTIVE:"Issue Page Interactive",ISSUE_CARD_OPEN_ISSUE:"Issue Card Open Issue",ISSUE_PAGE_EPIC_LIST_MOUNTED:"Issue Epic List Mounted",ISSUE_PAGE_EPIC_LIST_LOADED:"Issue Epic List Loaded",EXTENSION_PIPELINE_SELECTOR_INJECTED:"Extension Inject Pipeline Selector",EXTENSION_PIPELINE_SELECTOR_LOADED:"Extension Mount Pipeline Selector",WORKSPACE_SWITCHER_OPENED:"Workspace switcher opened",WORKSPACE_SWITCHER_INITIAL_LOADED:"Workspace switcher loaded",SIDEBAR_WORKSPACE_SWITCH_OPENED:"Sidebar Workspace Switcher Opened",SIDEBAR_WORKSPACE_SWITCH_INITIAL_LOADED:"Sidebar Workspace Switch Initial Loaded",SIDEBAR_WORKSPACE_SWITCH_SEARCH_STARTED:"Sidebar Workspace Switcher Search Started",SIDEBAR_WORKSPACE_SWITCH_SEARCH_RENDERED:"Sidebar Workspace Switcher Search Results Loaded",SIGNUP_PAGE_RENDERED:"Signup Page Rendered",SIGNUP_WITH_GITHUB_PAGE_RENDERED:"Signup with Github Page Rendered",BURNDOWN_REPORT_OPENED:"Burndown Report Opened",BURNDOWN_REPORT_RENDERED:"Burndown Report Rendered",VELOCITY_REPORT_OPENED:"Velocity Report Opened",VELOCITY_REPORT_RENDERED:"Velocity Report Rendered",RELEASE_REPORT_OPENED:"Release Report Opened",RELEASE_REPORT_RENDERED:"Release Report Rendered",CUMULATIVE_FLOW_OPENED:"Cumulative Flow Opened",CUMULATIVE_FLOW_RENDERED:"Cumulative Flow Rendered",CONTROL_CHART_OPENED:"Control Chart Opened",CONTROL_CHART_RENDERED:"Control Chart Rendered"},I6={APP_LOAD:{name:"JS Bundle Download",markStart:void 0,markEnd:v6.APP_LOADED},MULTI_ACTION_ASSIGNEES_LOAD:{name:"Multi Action - Assignee Load",markStart:v6.MULTI_ACTION_ASSIGNEES_OPENED,markEnd:v6.MULTI_ACTION_ASSIGNEES_RENDERED},MULTI_ACTION_EPICS_LOAD:{name:"Multi Action - Epic Load",markStart:v6.MULTI_ACTION_EPICS_OPENED,markEnd:v6.MULTI_ACTION_EPICS_RENDERED},MULTI_ACTION_ESTIMATES_LOAD:{name:"Multi Action - Estimate Load",markStart:v6.MULTI_ACTION_ESTIMATES_OPENED,markEnd:v6.MULTI_ACTION_ESTIMATES_RENDERED},MULTI_ACTION_LABELS_LOAD:{name:"Multi Action - Label Load",markStart:v6.MULTI_ACTION_LABELS_OPENED,markEnd:v6.MULTI_ACTION_LABELS_RENDERED},MULTI_ACTION_MILESTONES_LOAD:{name:"Multi Action - Milestone Load",markStart:v6.MULTI_ACTION_MILESTONES_OPENED,markEnd:v6.MULTI_ACTION_MILESTONES_RENDERED},MULTI_ACTION_PIPELINES_LOAD:{name:"Multi Action - Pipeline Load",markStart:v6.MULTI_ACTION_PIPELINES_OPENED,markEnd:v6.MULTI_ACTION_PIPELINES_RENDERED},MULTI_ACTION_RELEASES_LOAD:{name:"Multi Action - Release Load",markStart:v6.MULTI_ACTION_RELEASES_OPENED,markEnd:v6.MULTI_ACTION_RELEASES_RENDERED},PROJECT_MODAL_OPEN:{name:"Project Modal open",markStart:v6.PROJECT_PAGE_OPEN_PROJECT,markEnd:v6.PROJECT_PAGE_LOADED},ISSUE_MODAL_OPEN:{name:"Issue Modal open",markStart:v6.ISSUE_CARD_OPEN_ISSUE,markEnd:v6.ISSUE_PAGE_LOADED},ISSUE_MODAL_ALL_CONTENT_LOADED:{name:"Issue Modal - all content loaded",markStart:v6.ISSUE_CARD_OPEN_ISSUE,markEnd:v6.ISSUE_PAGE_ALL_CONTENT_LOADED},ISSUE_PAGE_EPIC_LIST_RENDER:{name:"Issue Page Epic List render",markStart:v6.ISSUE_PAGE_EPIC_LIST_MOUNTED,markEnd:v6.ISSUE_PAGE_EPIC_LIST_LOADED},EXTENSION_PIPELINE_SELECTOR_LOAD:{name:"Extension Pipeline Selector Loaded",markStart:v6.EXTENSION_PIPELINE_SELECTOR_INJECTED,markEnd:v6.EXTENSION_PIPELINE_SELECTOR_LOADED},WORKSPACE_SWITCHER_INITIAL_LOAD:{name:"Workspace Switcher Load",markStart:v6.WORKSPACE_SWITCHER_OPENED,markEnd:v6.WORKSPACE_SWITCHER_INITIAL_LOADED},SIDEBAR_WORKSPACE_SWITCH_LOAD:{name:"Sidebar Workspace Switcher Load",markStart:v6.SIDEBAR_WORKSPACE_SWITCH_OPENED,markEnd:v6.SIDEBAR_WORKSPACE_SWITCH_INITIAL_LOADED},SIDEBAR_WORKSPACE_SWITCH_SEARCH:{name:"Sidebar Workspace Switcher Search",markStart:v6.SIDEBAR_WORKSPACE_SWITCH_SEARCH_STARTED,markEnd:v6.SIDEBAR_WORKSPACE_SWITCH_SEARCH_RENDERED},BURNDOWN_REPORT_LOAD:{name:"Burndown Report Load",markStart:v6.BURNDOWN_REPORT_OPENED,markEnd:v6.BURNDOWN_REPORT_RENDERED},VELOCITY_REPORT_LOAD:{name:"Velocity Report Load",markStart:v6.VELOCITY_REPORT_OPENED,markEnd:v6.VELOCITY_REPORT_RENDERED},RELEASE_REPORT_LOAD:{name:"Release Report Load",markStart:v6.RELEASE_REPORT_OPENED,markEnd:v6.RELEASE_REPORT_RENDERED},CUMULATIVE_FLOW_LOAD:{name:"Cumulative Flow Load",markStart:v6.CUMULATIVE_FLOW_OPENED,markEnd:v6.CUMULATIVE_FLOW_RENDERED},CONTROL_CHART_LOAD:{name:"Control Chart Load",markStart:v6.CONTROL_CHART_OPENED,markEnd:v6.CONTROL_CHART_RENDERED}},b6={highlightZenHubFeatures(){document.querySelectorAll(".zh-sidebar-item").forEach((e=>{e.classList.add("zh-onboarding-highlighted")}))},unhighlightZenHubFeatures(){document.querySelectorAll(".zh-onboarding-highlighted").forEach((e=>{e.classList.remove("zh-onboarding-highlighted")}))},injectModal(e){document.body.appendChild(e)}};Px("OnBoardingInjector",b6);const y6=b6;var S6=n(38873),w6=n.n(S6);const R6={findLoggedOutState(){const e=document.querySelector("body.logged-out"),t=Boolean(e),{ghUsername:n}=this.findUserMeta();return{ghUsername:n,isLoggedOut:t}},findUserMeta(){const e=document.querySelector("meta[name=octolytics-actor-id]"),t=document.querySelector("meta[name=octolytics-actor-login]"),n=t?t.getAttribute("content"):"",s=document.querySelector("meta[name=user-login]"),r=s?s.getAttribute("content"):"";let i=e?parseInt(e.getAttribute("content"),10):NaN,o=n||r;const a=this.findAvatarUrl();if(!i){const e=document.querySelector("#user-links a img[data-user]");i=e?parseInt(e.dataset.user,10):this.findGHIDFromAvatarUrl(a)}if(!o){const e=document.querySelector("#user-links a[href]");o=e?(e.getAttribute("href")||"").replace("/",""):""}return{ghUsername:o,ghId:i,avatar:a}},findAvatarUrl(){let e=document.querySelector('header .avatar[src]:not([src=""])');return e||(e=document.querySelector('.header .avatar[src]:not([src=""])')),e?e.getAttribute("src"):void 0},findGHIDFromAvatarUrl:e=>parseInt(((e||"").match(/\/u\/(\d*)\?/)||[])[1],10),findOnboardingTarget:()=>document.querySelector("#repos-container ul li")||document.querySelector("#repos-container"),getIsEnterprise:()=>x,injectClassInBody(e){document.body.classList.add(e)},injectZHLoggedInClass(){document.body.classList.add("zh_logged_in")},removeZHLoggedInClass(){document.body.classList.remove("zh_logged_in")},isPageNotFound(){const e=document.querySelector("title");return!!e&&"Page not found \xb7 GitHub"===e.innerHTML},getEnterpriseVersion(){if(!this.getIsEnterprise())return oe("getEnterpriseVersion called on cloud"),null;const e=document.getElementsByClassName("footer-octicon").item(0);if(!e)return oe("Cannot find octicon footer"),null;const t=(e=>{const t=e.match(/\d+\.\d+\.\d+/);return t&&t.length>=1?t[0]:null})(`${e.getAttribute("title")} ${e.innerText}`);return t||(oe("Cannot find enterprise version from octicon"),null)},isEnterpriseVersionLt(e){if(!this.getIsEnterprise())return!1;const t=this.getEnterpriseVersion();return t?w6().lt(t,e):null}};Px("GitHubInjector",R6);const T6=R6,C6=J().Model.extend({onValue(e){return this.on("event",e),this},offValue(e){return this.off("event",e),this},triggerValue(e){return this.trigger("event",e),this},destroy(){this.trigger("destroy"),this.off()}}),k6=()=>PI&&Boolean(document.querySelector(".zh-app")),O6=C6.extend({initialize(e){ue(e.timeInterval,"PulseEventStream: timeInterval is missing"),ue(e.onTimer,"PulseEventStream: onTimer is missing"),j.ZP.extend(this,e),this.launch()},launch(){const e=this;this.interval||(this.interval=setInterval((()=>{e.onTimer()}),this.timeInterval))},stop(){clearInterval(this.interval),this.interval=null},pause(){this.stop()},resume(){this.launch()},destroy(){j.ZP.isFunction(this.onDestroy)&&this.onDestroy(),this.stop(),this.off()}}),N6={selector:".zhc-issue-modal__gh_content",className:"zhc-issue-modal__gh_content"};function P6(e){x||ae(e)}function A6(e){return t=>t.matches(e)}const D6=()=>{const e=document.querySelector(".js-timeline-item.js-timeline-progressive-focus-container");if(e)return e;const t=document.createElement("div");t.classList.add("js-timeline-item"),t.classList.add("js-timeline-progressive-focus-container");const n=document.getElementById("js-timeline-progressive-loader");return n?.parentNode.insertBefore(t,n?.nextSibling),t},L6={findSidebar(){const e=document.querySelector(".discussion-sidebar-item"),t=e?e.parentNode:null;t||P6("IssueInjector.sidebar main selector failing");const n=document.querySelector(".js-issue-sidebar-form"),s=n?n.parentNode.parentNode:null;return s||P6("IssueInjector.sidebar fallback selector failing"),t||s},findCommentTextField:()=>document.querySelector("#new_comment_field"),injectPipelineSelector(){const e=document.querySelector(".discussion-sidebar-item.zh-pipeline-selector-container");e&&e.remove();const t=document.createElement("div");t.classList.add("discussion-sidebar-item"),t.classList.add("zh-pipeline-selector-container");const n=this.findSidebar();return n?(n.prepend(t),t):null},findMilestoneSelector(){const e=document.querySelector('[aria-label="Select milestones"]')||document.querySelector("#milestone-select-menu");let t=e?e.closest(".discussion-sidebar-item"):null;return t||(P6("IssueInjector.findMilestoneSelector fallback used"),t=document.querySelector(".discussion-sidebar-item.sidebar-milestone")),t},findProjectsSelector(){const e=document.querySelector("#projects-select-menu")||document.querySelector('[aria-label="Select projects"]');return e?e.closest(".discussion-sidebar-item"):null},findSprintSelector:()=>document.querySelector(".discussion-sidebar-item.sidebar-zh-sprint")||null,findZHAssigneeSelector:()=>document.querySelector(".discussion-sidebar-item.sidebar-zh-assignee")||null,findGHAssigneeSelector:()=>document.querySelector(".discussion-sidebar-item.sidebar-assignee:not(.position-relative)")||null,injectSprintSelectorMountNode(){const e=this.findSprintSelector();e&&e.remove();const t=document.createElement("div");t.classList.add("discussion-sidebar-item"),t.classList.add("sidebar-zh-sprint");const n=this.findProjectsSelector();if(n)n.parentNode.insertBefore(t,n.nextSibling);else{P6("IssueInjector.injectSprintSelectorMountNode fallback used");const e=this.findSidebar();e&&e.prepend(t)}return t},injectAssigneeSelectorMountNode(){const e=this.findZHAssigneeSelector(),t=this.findGHAssigneeSelector();if(k6()){e&&e.remove();const n=document.createElement("div");if(n.classList.add("discussion-sidebar-item"),n.classList.add("sidebar-zh-assignee"),t)try{t.replaceWith(n)}catch(e){P6("IssueInjector.injectAssigneeSelectorMountNode no fallback used to prevent duplicate elements")}return n}return null},injectEstimateSelectorMountNode(){const e=document.querySelector(".discussion-sidebar-item.sidebar-zh-estimate");e&&e.remove();const t=document.createElement("div");t.classList.add("discussion-sidebar-item"),t.classList.add("sidebar-zh-estimate");const n=this.findMilestoneSelector();if(n)n.parentNode.insertBefore(t,n.nextSibling);else{P6("IssueInjector.injectEstimateSelectorMountNode fallback used");const e=this.findSidebar();e&&e.prepend(t)}return t},injectEpicSelectorMountNode(){const e=document.querySelector(".discussion-sidebar-item.sidebar-zh-epic");e&&e.remove();const t=document.createElement("div");t.classList.add("discussion-sidebar-item"),t.classList.add("sidebar-zh-epic");const n=document.querySelector(".discussion-sidebar-item.sidebar-zh-estimate"),s=this.findMilestoneSelector();if(n)n.parentNode.insertBefore(t,n.nextSibling);else if(s)s.parentNode.insertBefore(t,s.nextSibling);else{P6("IssueInjector.injectEpicSelectorMountNode fallback used");const e=this.findSidebar();e&&e.prepend(t)}return t},injectReleaseSelector(){const e=document.querySelector(".discussion-sidebar-item.zh-release-selector-container");e&&e.remove();const t=document.createElement("div");t.classList.add("discussion-sidebar-item"),t.classList.add("zh-release-selector-container");let n=document.querySelector(".discussion-sidebar-item.sidebar-zh-epic");if(n||(n=document.querySelector(".discussion-sidebar-item.sidebar-zh-estimate")),n||(n=this.findMilestoneSelector()),n)n.parentNode.insertBefore(t,n.nextSibling);else{P6("IssueInjector.injectReleaseSelector fallback used");const e=this.findSidebar();e&&e.parentNode.prepend(t)}return t},injectSprintSelector(){const e=document.querySelector(".discussion-sidebar-item.zh-sprint-selector-container");e&&e.remove();const t=document.createElement("div");t.classList.add("discussion-sidebar-item"),t.classList.add("zh-sprint-selector-container");const n=document.querySelector(".discussion-sidebar-item.sidebar-assignee");if(n)n.parentNode.insertBefore(t,n.nextSibling);else{P6("IssueInjector.injectSprintSelector fallback used");const e=this.findSidebar();e&&e.parentNode.prepend(t)}return t},injectDependencyManager(e){const t=document.querySelector(".zh-dependency-manager-container");t&&t.remove();const n=document.querySelector(".js-comment-container");return n&&n.parentNode&&n.nextSibling&&n.parentNode.insertBefore(e,n.nextSibling),e},injectDependencyBanner(e){const t=document.querySelector(".zh-dependency-banner-container");t&&t.remove();const n=document.querySelectorAll("#partial-discussion-header .gh-header-meta"),s=n[n.length-1];return s&&s.parentNode.appendChild(e),e},appendEvent(e){const{ghEventItems:t}=L6.findGithubEvents();if(t.length){t[t.length-1].node.parentNode.appendChild(e.el)}else{D6().appendChild(e.el)}},findGithubEvents(){let e=[];return e=Array.from(document.querySelectorAll('.js-discussion .TimelineItem:not(.js-commit):not([class*="py-"])')),e.reduce(((e,t)=>{const n=(e=>e.classList.contains("js-commit-group-header")?"pr-commit":(e.innerText||"").match("View changes")?"pr-comment":"regular")(t),s=t.querySelector("relative-time"),r=s?s.getAttribute("datetime"):null;return r&&(e.ghEventDates.push(new Date(r)),e.ghEventItems.push({node:t,type:n})),e}),{ghEventDates:[],ghEventItems:[]})},injectEvents(e){if(!e.length)return;const{ghEventDates:t,ghEventItems:n}=this.findGithubEvents();if(n.length)e.forEach((e=>{const s=e.model.get("createdAt");let r=!1,i=null;for(let o=0,a=t.length;o<a;o+=1){const a=n[o],l=t[o]>s;if((e.model.get("automated")||!1)&&i)a.node.parentNode.insertBefore(e.el,i.nextSibling);else if(l){if("regular"===a.type||"pr-comment"===a.type)a.node.parentNode.insertBefore(e.el,a.node);else{a.node.closest(".js-timeline-item").parentNode.appendChild(a.node)}r=!0;break}}if(!r){n[n.length-1].node.parentNode.appendChild(e.el)}i=e.el}));else{const t=D6();e.forEach((e=>{t.appendChild(e.el)}))}},removeZhEvents(){document.querySelectorAll(".zh-timeline-item").forEach((e=>e.remove()))},getStatusBadgeContainer(){const e=document.querySelector(".gh-header-meta .TableObject-item");return e?(e.parentNode.classList.add("zh-legacy-status-badge-container"),e):document.querySelector(".gh-header-meta .State")},injectEpicStatus(e){if(document.querySelector(".zh-epic-issue-status"))return;const t=this.getStatusBadgeContainer();t&&t.parentNode.insertBefore(e,t.nextSibling)},injectEpicContainer(e){const t=document.querySelector(".zh-epic-issue-container");t&&t.remove();let n=document.querySelector(".zh-dependency-manager-container");n||(n=document.querySelector(".js-comment-container")),n.parentNode.insertBefore(e,n.nextSibling)},injectMoveIssueSelector(e){const t=L6.findSidebar(),n=t.querySelector(".zh-sidebar-move");n&&n.remove(),t.appendChild(e)},findTitle:()=>document.querySelector(".js-issue-title"),getIssueTitle(){const e=this.findTitle();return e?e.textContent.trim():""},isIssueClosedOrMerged(){return this.isIssueClosed()||this.isIssueMerged()},isIssueClosed(){const e=document.querySelector(".State");return!!e&&(e.classList.contains("State--closed")||e.classList.contains("State--red"))},isIssueMerged(){const e=document.querySelector(".State");return!!e&&(e.classList.contains("State--merged")||e.classList.contains("State--purple"))},issueStatusChangedStream(){const e=new O6({closed:L6.isIssueClosedOrMerged(),timeInterval:500,onTimer(){const t=L6.isIssueClosedOrMerged();this.closed!==t&&(this.closed=t,e.triggerValue(this.closed))}});return e},issueContentChangeStream(){const e=new C6,t=A6("#partial-discussion-header"),n=A6(".issues-listing"),s=A6("#partial-discussion-sidebar"),r=A6(".is-placeholder"),i=e=>e.tagName,o=new MutationObserver((o=>{const{added:a,changed:l,removed:c}=o.reduce(((e,t)=>(t.addedNodes.forEach((t=>i(t)&&e.added.push(t))),t.removedNodes.forEach((t=>i(t)&&e.removed.push(t))),"attributes"===t.type&&e.changed.push(t.target),e)),{added:[],changed:[],removed:[]}),d={issueInjection:c.some(n),headerInjection:c.some(t)&&a.some(t),sidebarInjection:c.some(s)&&a.some(s),isStyleChange:l.length>0,placeholderInjection:a.some(r)};L6.triggerMutationChange(e,d)})),a=function(e){const t=e.find((e=>document.querySelector(e)));return t?document.querySelector(t):null}([N6.selector,"#js-repo-pjax-container"]);return a?(o.observe(a,{childList:!0,subtree:!0}),e.on("destroy",(()=>{o.disconnect()})),e):e},triggerMutationChange(e,t){e.trigger("issuepage:change"),t.issueInjection&&e.trigger("issuepage:leaving"),t.headerInjection&&e.trigger("issuepage:header"),t.sidebarInjection&&e.trigger("issuepage:sidebar"),t.isStyleChange&&e.trigger("issuepage:style"),t.placeholderInjection&&e.trigger("issuepage:placeholder")},extractIssueContent(e,t){const n=document.createElement("html");n.innerHTML=e;const s=n.querySelector("main"),r=L6.hasIssueMovedToAnotherRepo(n,t),i=L6.hasIssueBeenDeleted(n);s.querySelector("#repository-container-header")?.remove();const o=s.querySelector("#issues-container");return o&&o.removeAttribute("data-pjax-container"),{extractedContent:s,hasIssueBeenMoved:r,hasIssueBeenDeleted:i}},hasIssueMovedToAnotherRepo(e,t){const n=Dx.findRepoIdInGhContent(e);return!n||Number.isNaN(n)?(oe("hasIssueMovedToAnotherRepo - Could not extract repoId from page"),!1):n!==t},hasIssueBeenDeleted(e){if(e.querySelector("#discussion_bucket"))return!1;return!!e.querySelector(":contains('issue has been deleted')").length},adjustSidebarPositionOnIssueModal(){if(!document.querySelector(N6.selector))return;document.querySelector("#discussion_bucket").classList.add("zh-fixed-modal-sidebar")},adjustSidebarPositionByMicroScroll(){window.scrollBy(0,-1),window.scrollBy(0,1)},adjustSidebarPlaceholderHeight(){const e=L6.findSidebar();if(!e)return;const t=document.querySelector(".discussion-sidebar.is-placeholder");if(!t)return;const n=parseFloat(getComputedStyle(e,null).height.replace("px",""))+1;t.style.height=`${n}px`},removeLabelCreationFormOnIssueModal(){const e=document.querySelector(`${N6.selector} #label-creation-modal`);e&&e.remove()}};Px("IssueInjector",L6);const z6=L6,M6=".js-zh-issue-wrapper",x6={findIssuesFromDOM(){const e=document.querySelectorAll(`.js-navigation-item.js-issue-row:not(${M6})`);return Array.from(e).map((e=>{e.classList.add(M6.substr(1));const t=(e.getAttribute("id")||"").replace("issue_","");return{id:t.length?parseInt(t,10):null,dom:e}}))},injectIssuePipeline(e,t){const n=e.querySelector(".zh-issue-meta-pipeline");if(!e.querySelector(".octicon.open"))return;if(n){const{parentNode:e}=n;return e.removeChild(n),void e.appendChild(t)}let s=e.querySelectorAll(".issue-meta-section");s.length||(s=e.querySelectorAll(".opened-by")),s.length&&s[s.length-1].appendChild(t)},injectIssueEstimate(e,t){const n=e.querySelector(".zh-issue-meta-estimate");if(n){const{parentNode:e}=n;return e.removeChild(n),void e.appendChild(t)}let s=e.querySelectorAll(".issue-meta-section");s.length||(s=e.querySelectorAll(".opened-by")),s.length&&s[s.length-1].appendChild(t)},removeInjectionClasses(){const e=M6.replace(".","");Array.from(document.getElementsByClassName(e)).forEach((t=>{t.classList.remove(e)}))}};Px("IssueIndexInjector",x6);const F6=x6,U6={findNewIssueForm:()=>document.querySelector("form#new_issue"),findSubmitNewIssueBtn(){const e=this.findNewIssueForm().querySelectorAll(".timeline-comment button");return Array.from(e||[]).find((e=>e.innerHTML.includes("Submit new issue")))},issueTitleChangeStream(){const e=this.findTitle(),t=e.value,n=new O6({title:t,timeInterval:500,onTimer(){const t=e.value;this.title!==t&&(this.title=t,n.triggerValue(this.title))}});return n},findTitle:()=>document.querySelector(".timeline-comment input[placeholder=Title]"),getIssueTitle(){const e=this.findTitle();return e?e.value:""},findBody(){let e=document.querySelector('textarea[placeholder="Leave a comment"]');if(!e){const t=document.querySelector(".preview-content .comment-body");if(!t)return null;e=t.closest(".timeline-comment").querySelector('textarea[placeholder="Leave a comment"]')}return e},getIssueBody(){const e=this.findBody();return e?e.value:""},injectEpicCreateButton(e){const t=document.querySelector(".zh-switch-to-epic");if(t){const{parentNode:n}=t;return n.removeChild(t),void n.appendChild(e)}const n=this.findSubmitNewIssueBtn();T6.isEnterpriseVersionLt("2.17.0")?n.parentNode.appendChild(e):n.parentNode.insertBefore(e,n)},markSidebarAsInjected(){let e=document.querySelector(".discussion-sidebar");e||(e=document.querySelector(".discussion-sidebar-item").parentNode),e.classList.add("zh-sidebar-injected")}};Px("NewIssueInjector",U6);const B6=U6,q6=".js-issue-connector-container";let H6=null;const W6={injectDefaultPipelineSelector(e){const t=document.querySelector(".zh-pr-workspace-settings");if(t){const{parentNode:n}=t;n.removeChild(t),n.appendChild(e)}else{const t=this.findTimelineComment();t&&t.appendChild(e)}},findNewPRForm:()=>document.querySelector("form#new_pull_request"),findTimelineComment(){return this.findNewPRForm().querySelector("div.timeline-comment")},injectIssueConnector(e){const t=this.findNewPRForm().querySelector(".timeline-comment-wrapper"),n=t?t.parentNode:null;if(!n)return;let s=document.querySelector(q6);s||(s=document.createElement("div"),s.classList.add("js-issue-connector-container"),n.appendChild(s)),H6=bI.createRoot(s),H6.render(e)},removeIssueConnector(){document.querySelector(q6)&&H6?.unmount()}};Px("NewPullRequestInjector",W6);const j6=W6,G6={injectMilestoneLink(e){const t=document.querySelector(".zh-milestone-link");if(t){const{parentNode:n}=t;return n.removeChild(t),void n.appendChild(e)}document.querySelector(".repository-content").appendChild(e)}};Px("MilestoneInjector",G6);const K6=G6,V6=".js-issue-connector-container";let $6=null;const Z6={findTarget:()=>document.querySelector("#js-timeline-progressive-loader"),injectIssueConnector(e){const t=this.findTarget();if(!t)return;let n=document.querySelector(V6);n||(n=document.createElement("div"),n.classList.add("js-issue-connector-container","TimelineItem"),t.parentNode.insertBefore(n,t.nextElementSibling)),$6=bI.createRoot(n),$6.render(e)},removeIssueConnector(){document.querySelector(V6)&&$6?.unmount()}};Px("PullRequestInjector",Z6);const Y6=Z6,J6="zh-app",X6="zh-app--visible";let Q6=null,e4=null;const t4={injectZenHub(e){this.removeZenHub();const t=Dx.findRepoContainer();this.appEl=function(){const e=document.createElement("div");e.className=J6,b3()||(f3()?e.setAttribute("data-color-mode","dark"):(e.setAttribute("data-color-mode","light"),e.setAttribute("data-light-theme","light")));return e}(),Q6=bI.createRoot(this.appEl),Q6.render(e),t.appendChild(this.appEl),document.documentElement.classList.add(X6)},removeZenHub(){const e=this.appEl;e&&(this.isUrlAsync||zx.enterAsyncUrlMode(),Q6?.unmount(),e.remove(),document.documentElement.classList.remove(X6),this.appEl=null,zx.exitAsyncUrlMode())},findHeader:()=>document.querySelector(".js-repo-nav").parentNode,findBreadcrumbsContainer:()=>document.getElementById("zh-repo-header-container__breadcrumbs"),findRepoTitle:e=>e.querySelector(".f3"),findPrivateNode(){const e=this.findHeader().children[0].querySelectorAll("span.Label");return Array.from(e).find((e=>"Private"===e.textContent))},removeBreadcrumbs(){this.breadcrumbsEl&&(e4?.unmount(),this.breadcrumbsEl=null)},adjustPageHeaderForBreadcrumbs(){const e=this.findHeader(),t=e.children[0],n=this.findPrivateNode(),s=document.querySelector(".zhc-breadcrumbs--extension-topbar"),r=document.querySelector(".pagehead-actions"),i=this.findRepoTitle(e),o=document.querySelector(".zhc-breadcrumbs__button");if(!(s&&t&&r&&i&&o))return;const a=r.getBoundingClientRect().left-t.getBoundingClientRect().left-10;i.style.maxWidth=`${a}px`;let l=i.getBoundingClientRect().left+a-o.getBoundingClientRect().left-10;l<150&&(l=i.getBoundingClientRect().left+a-10),o.style.maxWidth=`${l}px`,n&&!this.areOnSameLine(s,n)&&(n.style.display="none")},areOnSameLine:(e,t)=>Math.abs(e.getBoundingClientRect().top-t.getBoundingClientRect().top)<10,cleanPageHeaderAdjustements(){const e=this.findHeader(),t=this.findPrivateNode(),n=this.findRepoTitle(e),s=document.querySelector(".zhc-breadcrumbs__button");n&&s&&(t&&(t.style.display="initial"),n.style.maxWidth="",s.style.maxWidth="150px")},injectBreadcrumbs(e){this.removeBreadcrumbs();const t=this.findBreadcrumbsContainer();t&&(this.breadcrumbsEl=t,e4=bI.createRoot(this.breadcrumbsEl),e4.render(e))}};Px("ZenHubInjector",t4);const n4=t4,s4={pages:{github:T6,repo:Dx,issue:z6,issuesIndex:F6,newIssue:B6,newPullRequest:j6,pullRequest:Y6,milestone:K6,zenhub:n4}};s4.onboarding=y6;const r4=s4,i4=e=>os.Usage.monthly(e);(0,_t.fB)("member","members"),(0,_t.fB)("license","licenses"),(0,_t.fB)("request","requests");var o4=n(52615),a4=n.n(o4);const l4=J().View.extend({__name__:"EnvTag",render:j.ZP.once((()=>{if(se("EnvTag.render"),L.Z.isDev){const e=document.createElement("div");e.innerHTML=a4()({env:L.Z.env,version:z.version()}),document.body.appendChild(e)}}))}),c4=l4;var d4=n(69570);const u4={timeInterval:300,skip:!1},p4=(e,t,n)=>{const s={...u4,...n},r=(0,Ye.useRef)(null),i=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>(e&&!s.skip&&(clearInterval(r.current),r.current=setInterval((()=>{const{x:n,y:s}=e.getBoundingClientRect(),r={x:n,y:s};null!==i.current?ee.fS0(i.current,r)||(i.current=r,t?.()):i.current=r}),s.timeInterval)),()=>clearInterval(r.current))),[e,t,s?.timeInterval,s.skip])};function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m4.apply(this,arguments)}const h4=e=>{let{anchorElement:t,className:n,overlayClassname:s,arrowClassName:r,offset:i=20,skidding:o=20,placement:a="left-start",strategy:l="absolute",updatePositionOnAnchorReflow:c=!1,flipEnabled:d=!0,children:u,onOverlayClick:p}=e;const[m,h]=(0,Ye.useState)(null),[E,g]=(0,Ye.useState)(null),f=(0,Ye.useCallback)((e=>{let{placement:t}=e,n=0;return t.includes("start")&&(n=-o),t.includes("end")&&(n=o),[n,i]}),[o,i]),{styles:_,attributes:v,update:I}=(0,d4.D)(t,m,{placement:a,strategy:l,modifiers:[{name:"arrow",options:{element:E,padding:o}},{name:"offset",options:{offset:f}},{name:"flip",enabled:d}]});return p4(t,I,{skip:!c}),Ye.createElement(Ye.Fragment,null,p?Ye.createElement("div",{className:(0,_I.default)("zhc-popover__overlay",s),onMouseDown:p}):null,Ye.createElement("div",m4({ref:h,className:(0,_I.default)("zhc-popover",n),"data-cy":"popover",style:_.popper},v.popper),u,Ye.createElement("div",{className:(0,_I.default)("zhc-popover__arrow",r),ref:g,style:_.arrow})))},E4="sMcUh_ktK_Y7zVSB5GKL",g4="PgNWDTluw5MbYEFzFChg",f4="eGIVr5JanZp7RTDCrwnP",_4="dt63ZYK0m_7OhCE8QiF7",v4="KywtMNTrAmuhQxqflgrY",I4="acve45RhR1ZeyFpaB1VQ",b4="f6R2Cw8XLKL9r08i8AS7",y4="gUfVGBabtZzk7b7LJxlA",S4="vqEDXp5qtS3pSB_zwPEe",w4="FFOEJuEikmh3U3YRXT9y",R4="wRQGOzhUdQDJxscii6tI",T4="CsuzQBJdQhKRjukfUnS0",C4="Fhe5ajNCIzescWfh7crW",k4="hPhXiQ9_ey7CvfGqkkoY",O4="SkssS9EC5myyqrvfTubv",N4=e=>{let{currentStep:t=0,totalSteps:n=0}=e;if(!n)return null;const s=[];for(let e=0;e<n;e+=1){const n=(r=e,(0,_I.default)(S4,{[R4]:t>r,[w4]:t<=r}));s.push(Ye.createElement("span",{key:`dot${e}`,className:n}))}var r;return Ye.createElement("div",{"data-testid":"zh-floating-tooltip-step-container",className:y4},s)},P4=e=>{let{anchorElement:t,className:n,arrowClassName:s,CTAUrl:r,onClickCTA:i,onDismiss:o,steps:a,offset:l=20,skidding:c=20,placement:d="left-start",strategy:u="absolute",updatePositionOnAnchorReflow:p=!1,hideFooter:m=!1}=e;const[h,E]=(0,Ye.useState)(0);if(!t)return null;const g=(0,_I.default)(f4,n),f=(0,_I.default)(g4,s),_=(0,_I.default)(k4,C4),v=(0,_I.default)(O4,C4),I=a.length,b=I>1,y=()=>b&&h<I-1?E(h+1):i?i():o();return Ye.createElement(h4,{className:E4,anchorElement:t,arrowClassName:f,placement:d,strategy:u,updatePositionOnAnchorReflow:p,skidding:c,offset:l},Ye.createElement("div",{className:g,"data-testid":"zhc-floating-tooltip"},Ye.createElement("div",{className:_4},!(0,_t.KN)(a[h].title)&&Ye.createElement("div",{className:v4},a[h].title),!(0,_t.KN)(a[h].text)&&Ye.createElement("div",{className:I4},a[h].text),!m&&Ye.createElement("div",{className:b4,"data-testid":"tooltip-footer"},b&&Ye.createElement(N4,{currentStep:h+1,totalSteps:I}),Ye.createElement("div",{className:T4},a[h].skippable&&Ye.createElement("button",{autoFocus:!0,type:"button",className:_,onClick:o},a[h].skipLabel||"Skip"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Next";const t=Ye.createElement("button",{autoFocus:!0,type:"button",className:v,onClick:y},e);return r?Ye.createElement("a",{href:r},t):t}(a[h].nextLabel))))))};let A4;!function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(A4||(A4={}));const D4=e=>{let{anchorElement:t,setTooltipRendered:n,hasRepos:s}=e;const[r,i]=(0,Ye.useState)(!0),o=(0,_I.default)("zhc-onboarding-repo-tooltip",{"zhc-onboarding-repo-tooltip--empty-org":!s});(0,Ye.useEffect)((()=>{r&&(n(),r6("POB: Repo Selector Tooltip Seen",{hasRepos:s}))}),[n,r]);return r?Ye.createElement(P4,{anchorElement:t,className:o,steps:[{title:"Select a repository to get started with ZenHub",nextLabel:"Got it"}],onDismiss:()=>{i(!1)},placement:"right-end"}):null};const L4=J().Model.extend({KEY_ZENHUB_WELCOME:"zenhub_welcome",initialize(e){j.ZP.extend(this,e),this.steps={}},isStepDoneAsync:e=>Ij(e),markStepAsDoneAsync:e=>bj(e,!0),getPageViewsAsync:e=>Ij(e).then((e=>e?parseInt(e,10):0)),incrementPageViewsAsync(e){return this.getPageViewsAsync(e).then(ee.IHx(1)).then((t=2,function(e){return new(ve())((n=>{setTimeout((()=>{n(e)}),1e3*t)}))})).then((t=>bj(e,t)));var t},destroy(){j.ZP.invoke(this.steps,"destroy")}}),z4=L4,M4=z4.extend({initialize(e){z4.prototype.initialize.call(this,e)},start(){const e=this;return this.isStepDoneAsync(this.KEY_ZENHUB_WELCOME).then((t=>{t||e._stepWelcome()}))},_stepWelcome(){const e=T6.findOnboardingTarget(),t=document.querySelector(".application-main"),n=document.createElement("div");if(t.appendChild(n),!e)return;const s=Ye.createElement(D4,{anchorElement:e,setTooltipRendered:()=>{this.markStepAsDoneAsync(this.KEY_ZENHUB_WELCOME)},hasRepos:"repos-container"!==e.id});bI.createRoot(n).render(s)}}),x4=M4;var F4=n(76765);const U4=bb.Ps`
  mutation requestEnterpriseSeat($input: RequestEnterpriseSeatInput!) {
    requestEnterpriseSeat(input: $input) {
      user {
        id
      }
    }
  }
`,B4=()=>{const[e]=(0,vK.D)(U4);return()=>{e({variables:{input:{}}})}};const q4=function(e){let t=e;const n=[],s=e=>{t=e,n.forEach((t=>t(e)))};return()=>{const[e,r]=(0,Ye.useState)(t);return(0,Ye.useEffect)((()=>(n.push(r),t!==e&&r(t),()=>{n.splice(n.indexOf(r),1)})),[]),[e,s]}}(!1),H4=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-status-tag"},t)},W4=()=>{const[e,t]=(0,Ye.useState)(!1),[n,s]=(0,Ye.useState)(!1),[r,i]=(0,Ye.useState)(!0);return(0,Ye.useEffect)((()=>{H2().then((e=>{let{enterpriseSeat:n}=e;n&&(t(void 0!==n.requestedAt&&null!==n.requestedAt),s(void 0!==n.approvedAt&&null!==n.approvedAt)),i(!1)})).catch((e=>{se(e),i(!1)}))})),{hasRequest:e,isAuthorized:n,isLoading:r}};const j4=function(){const{hasRequest:e,isAuthorized:t}=W4(),[n,s]=q4(),r=B4();return t?null:Ye.createElement(H4,null,e||n?Ye.createElement("span",null,Ye.createElement("strong",null,"ZenHub")," license request is pending"):Ye.createElement("button",{onClick:()=>{r(),s(!0)},type:"button"},Ye.createElement("a",{className:"zhu-font-semi"},"Request a license")," to use"," ",Ye.createElement("strong",null,"ZenHub")))};const G4=function(e){let{isAuthenticating:t,onClick:n}=e;return Ye.createElement(H4,null,t?Ye.createElement("span",null,"Signing in..."):Ye.createElement("button",{onClick:n,type:"button"},Ye.createElement("a",{className:"zhu-font-semi"},"Sign in now"),Ye.createElement("span",null," to use "),Ye.createElement("strong",null,"ZenHub")))},K4=()=>{const[e,t]=(0,Ye.useState)(!1),[n,s]=(0,Ye.useState)(null);return(0,Ye.useEffect)((()=>(ct.whenAuthReady().then((e=>{s(e)})).catch((e=>{se(e)})),ct.on(rt,(e=>{s(e),e&&t(!1)})),ct.on(st,(()=>{t(!0)})),()=>{ct.off(st),ct.off(rt)}))),{isAuthenticating:e,isAuthed:n}},V4=()=>{const{isAuthenticating:e,isAuthed:t}=K4();return Ye.createElement(Ye.Fragment,null,!1===t?Ye.createElement(G4,{isAuthenticating:e,onClick:()=>ct.doAuth()}):null,x&&t?Ye.createElement(j4,null):null)},$4="zh-status-tag",Z4=J().View.extend({__name__:"StatusTag",initialize(){se("StatusTag.render")},render:j.ZP.once((()=>{se("StatusTag.render");let e=document.querySelector(".zh-status-tag");const t=decodeURIComponent(window.location?.search),n=decodeURIComponent(window.location?.pathname),s=t.includes("return_to=/login/oauth/authorize")||n.includes("/login/oauth/authorize"),r=n.includes("/sessions/two-factor");if(s||r)return;if(null===e){e=document.createElement("span"),e.className=$4;const{body:t}=document;t.appendChild(e)}const i=Ye.createElement(F4.e,{client:ly()},Ye.createElement(V4));bI.createRoot(e).render(i)}))});function Y4(e){const t={};e.split("&").forEach((e=>{const[n,s]=e.split("=");return t[n]=s,s}));!function(e,t){if(e&&t){const n={github_token:t,api_token:e};z.Storage.sync.set(n,(()=>{})),window.history.length<2?z.Extension.sendMessage({command:"oauthSuccess"}):window.location.assign(window.location.pathname+window.location.hash)}}(t.api_token,t.github_token)}const J4={parseToken:function(){Y4(window.location.search.substr(1))}};function X4(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Q4=J().Model.extend({initialize(){se("GitHubPage.initialize"),this.features={},this.views={},this.detectDarkMode(),this._listenForAuthChange()},detectDarkMode(){const e=f3();b3()||(e?I3("night","dark"):I3("day","light"))},loadFeatures(){var e,t=this;return(e=function*(){let e;se("GitHubPage.loadFeatures");try{e=yield H2()}catch(e){return se(e),se("GitHubPage.loadFeatures Denied access"),void t.loadUnauthorizedFeatures()}var n;!x||e.enterpriseSeat&&(n=e.enterpriseSeat,!x||void 0===n?.approvedAt||null!==n?.approvedAt)?(se("GitHubPage.loadFeatures Access Granted"),t.loadAuthorizedFeatures()):(se("GitHubPage.loadFeatures Denied access"),t.loadUnauthorizedFeatures())},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){X4(i,s,r,o,a,"next",e)}function a(e){X4(i,s,r,o,a,"throw",e)}o(void 0)}))})()},loadAuthorizedFeatures(){se("GitHubPage.loadAuthorizedFeatures"),this._loadEnv(),this._loadStatusTag(),this._parseToken(),this._syncLoginStatus(),this._loadOnboarding(),this._enterprise_usage_monthly()},loadUnauthorizedFeatures(){se("GitHubPage.loadUnauthorizedFeatures"),this._loadEnv(),this._loadStatusTag(),this._parseToken(),this._syncLoginStatus()},_loadEnv(){this._loadEnvClass(),this._loadEnvTag()},_loadEnvClass(){if(se("GitHubPage._loadEnvClass"),!x)return void r4.pages.github.injectClassInBody("zhio");r4.pages.github.injectClassInBody("zhe");const e=r4.pages.github.getEnterpriseVersion();if(e){const[t]=e.match(/\d+\.\d+/);r4.pages.github.injectClassInBody(`zhe-ghe-${t}`)}},_loadEnvTag(){se("GitHubPage._loadEnvTag");(new c4).render()},_listenForAuthChange(){re("GitHubPage._listenForAuthChange");const e=this;ct.whenAuthReady().then((t=>{e._toggleZHLoggedIn(t)})),this.listenTo(ct,rt,e._toggleZHLoggedIn)},_toggleZHLoggedIn(e){e?r4.pages.github.injectZHLoggedInClass():r4.pages.github.removeZHLoggedInClass()},_loadStatusTag(){se("GitHubPage._loadStatusTag");(new Z4).render()},_loadPages(){se("GitHubPage._loadPages")},_loadOnboarding(){let e;se("GitHubPage._loadOnboarding"),ct.whenAuthReady().then((t=>{t&&(e=new x4,e.start())}))},_parseToken(){J4.parseToken()},_syncLoginStatus:ee.IHq((()=>{const{isLoggedOut:e,ghUsername:t}=r4.pages.github.findLoggedOutState();e&&(r6("Previous Logout",{Feature:"User about to be logged out, after GH and ZH not synced",Page:window.location.href,LoggedOutMetaUser:t}),ct.eraseTokensFromStorage())})),_openPage(e){se("GitHubPage._openPage",e);const t=Q.pages[e];t&&t.ID&&zx.setPageInHash(t.ID,{clearQueryParams:!0})},_enterprise_usage_monthly(){x&&i4()},destroy(){se("GitHubPage.destroy")}}),e5=Q4;function t5(){return t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t5.apply(this,arguments)}const n5=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--close-small",t].filter(Boolean).join(" "),"aria-label":"close-small",role:"img",...n};return Ye.createElement("svg",t5({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6.3 6.3c-.4.4-.4 1.05 0 1.45L10.55 12 6.3 16.25a1.025 1.025 0 101.45 1.45L12 13.45l4.25 4.25a1.025 1.025 0 101.45-1.45L13.45 12l4.25-4.25a1.025 1.025 0 00-1.45-1.45L12 10.55 7.75 6.3c-.4-.4-1.05-.4-1.45 0z"}))};function s5(e){const{alignClosed:t,className:n,onClose:s}=e,r=(0,_I.default)("zhc-toast__icon",{"zhc-toast__icon--top-right":t},n),i=(0,_I.default)(r,"zhu-cursor-pointer");return Ye.createElement("span",{className:i,onClick:s},Ye.createElement(n5,null))}function r5(){return r5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r5.apply(this,arguments)}s5.propTypes={onClose:SI().func.isRequired,alignClosed:SI().bool,className:SI().bool},s5.defaultProps={alignClosed:!1};const i5=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--warning-outline",t].filter(Boolean).join(" "),"aria-label":"warning-outline",role:"img",...n};return Ye.createElement("svg",r5({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},Ye.createElement("rect",{width:14,height:14,rx:2}),Ye.createElement("g",{fill:"currentColor"},Ye.createElement("path",{d:"M6.125 4.375h1.75v3.5h-1.75zm0 4.375h1.75v1.75h-1.75z"}),Ye.createElement("path",{d:"M8.41.852l5.31 9.615c.182.28.281.613.28.955 0 .942-.73 1.703-1.633 1.703H1.63a1.62 1.62 0 01-1.412-.852 1.77 1.77 0 010-1.703L5.588.852A1.614 1.614 0 016.997 0C7.582 0 8.12.325 8.41.852zm-.932.562a.549.549 0 00-.48-.288c-.197 0-.38.11-.478.288l-5.369 9.719a.6.6 0 000 .578.549.549 0 00.479.288h10.737a.566.566 0 00.556-.58.639.639 0 00-.115-.355l-5.33-9.65z",fillRule:"nonzero"}))))};function o5(){return Ye.createElement("span",{className:"zhc-toast__icon"},Ye.createElement(i5,null))}function a5(e,t){return(0,_I.default)("zhc-expire",{"zhc-expire--hidden":e,"zhc-expire--display-none":t})}const l5=e=>{const t=t=>{const{expirationDelay:n,onClickClose:s}=t,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;const[s,r]=(0,Ye.useState)(!0),[i,o]=(0,Ye.useState)(null),[a,l]=(0,Ye.useState)(!1),c=(0,Ye.useRef)(),d=(0,Ye.useRef)(),u=(0,Ye.useRef)();(0,Ye.useEffect)((()=>{a||(d.current=setTimeout((()=>{o(a5(!0,!1))}),e-t))}),[t,e,a]),(0,Ye.useEffect)((()=>{a||(u.current=setTimeout((()=>{o(a5(!0,!0)),r(!1);const e=setTimeout((()=>{n(),clearTimeout(e)}),300)}),e))}),[e,a,n]);const p=(0,Ye.useCallback)((()=>{s&&(clearTimeout(d.current),clearTimeout(u.current),l(!0),o(null))}),[s]),m=(0,Ye.useCallback)((()=>{s&&l(!1)}),[s]);return(0,Ye.useEffect)((()=>{const e=c.current;return e.addEventListener("mouseenter",p),()=>e.removeEventListener("mouseenter",p)}),[p]),(0,Ye.useEffect)((()=>{const e=c.current;return e.addEventListener("mouseleave",m),()=>e.removeEventListener("mouseleave",m)}),[m]),c.current&&i&&c.current.classList.add(...i.split(" ")),c}(n,500,s);return Ye.createElement("div",{ref:r},Ye.createElement(e,t))};return t.propTypes={expirationDelay:SI().number,onClickClose:SI().func},t.defaultProps={expirationDelay:3e3,onClickClose:()=>{}},t},c5=e=>{let{closeButtonClassName:t,children:n,alignClosed:s=!0,fullWidth:r=!1,hasBoldText:i=!1,hasCloseButton:o=!0,newBorderRadius:a=!1,noBackground:l=!1,noBorder:c=!1,noPadding:d=!1,shouldAnimateIn:u=!0,showWarning:p=!1,id:m,modifiers:h=[],startTimer:E=(()=>{}),stopTimer:g=(()=>{}),onClickClose:f=(()=>{})}=e;const[_,v]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{var e;u&&(e=()=>v(!0),window.requestAnimationFrame(e))}),[v,u]);const I=(0,_I.default)("zhc-toast",{"zhc-toast--info-message":h.includes("info-message"),"zhc-toast--hide-on-mobile":h.includes("hide-on-mobile"),"zhc-toast--transition-in":h.includes("transition-in"),"zhc-toast--is-shown":_,"zhc-toast--no-background":l,"zhc-toast--no-border":c,"zhc-toast--no-padding":d,"zhc-toast--full-width":r,"zhc-toast--new-border-radius":a,"zhc-toast--has-bold-text":i});return Ye.createElement("div",{className:I,onMouseEnter:()=>{g()},onMouseLeave:()=>{E()}},p&&Ye.createElement(o5,null),Ye.createElement("div",{className:"zhc-toast__content"},n),o&&Ye.createElement(s5,{className:t,alignClosed:s,onClose:()=>{f(m)}}))},d5=c5,u5=e=>Ye.createElement(c5,e,e.heading?Ye.createElement("div",{className:"zhc-toast-heading"},e.heading):null,Ye.createElement("span",{className:"zhc-toast-body"},e.text));u5.propTypes={text:SI().node.isRequired,heading:SI().string};const p5=l5,m5=l5(u5),h5=ee.u4g(((e,t)=>`${e}#${t.issue_number} ${t.title}\n`),"");function E5(e){const{issues:t,...n}=e,s=ee.qnb(5,t),r=ee.CwT(5,t),i=!(0,_t.KN)(t)&&t.some((e=>{let{title:t}=e;return(0,_t.KN)(t)}));return Ye.createElement(d5,n,Ye.createElement("div",{className:"zhc-toast-error","data-testid":"toast-error"},Ye.createElement("span",null,"There was an error updating"+(i?" these issues:":" issues")),Ye.createElement("div",{className:"zhc-toast-error__content"},s.map((e=>Ye.createElement("div",{key:LP(e),className:"zhc-multi-action-error__item"},Ye.createElement("strong",null,`${e?.repo_name||e?.repository?.name} #${e?.issue_number||e?.number} `),Ye.createElement("span",null,e.title))))),r.length>0&&Ye.createElement("div",{className:"zhc-toast-error__content"},Ye.createElement(ZI,{position:jI.RIGHT,content:h5(r)},Ye.createElement("strong",null,"and "+(t.length-5)," other issues")))))}E5.propTypes={issues:SI().arrayOf(SI().shape({})).isRequired};p5(E5);function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},g5.apply(this,arguments)}const f5=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--check",t].filter(Boolean).join(" "),"aria-label":"check",role:"img",...n};return Ye.createElement("svg",g5({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"check_svg__a",d:"M3.805 7.724a.667.667 0 10-.943.943L6 11.805c.26.26.682.26.943 0l6-6A.667.667 0 1012 4.862L6.471 10.39z"}),Ye.createElement("mask",{id:"check_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#check_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",xlinkHref:"#check_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#check_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_5.apply(this,arguments)}const v5=e=>{let{removedPriority:t,priorityName:n,issueCount:s}=e,r="";return r=1===s?t?"has removed":"has been set as":t?"have removed":"have been set as",Ye.createElement(Ye.Fragment,null,r," ",Ye.createElement("b",null,n.toLowerCase()))};v5.propTypes={issueCount:SI().number.isRequired,priorityName:SI().string.isRequired,removedPriority:SI().shape({})},v5.defaultProps={removedPriority:null};const I5=e=>{const{updateType:t,issueCount:n,updateData:s,includeCheckmark:r,...i}=e;return Ye.createElement(d5,_5({},i,{hasBoldText:!0}),Ye.createElement("span",null,r&&Ye.createElement(f5,{className:"zhc-toast__icon--ready"}),Ye.createElement("b",null,function(e){return 1===e?"One issue":`${e} issues`}(n))," ",function(e,t,n){switch(e){case W.$.PRIORITY:return Ye.createElement(v5,_5({issueCount:t},n));case W.$.MILESTONE:return t<2?"has an updated milestone":" have an updated milestone";case W.$.PIPELINE:return t<2?" has been moved":" have been moved";default:return 1===t?` has an updated ${e}`:` have updated ${e}s`}}(t,n,s)))};I5.propTypes={issueCount:SI().number.isRequired,updateType:SI().string.isRequired,includeCheckmark:SI().bool,updateData:SI().shape({})},I5.defaultProps={updateData:{}};const b5=p5(I5);function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y5.apply(this,arguments)}const S5=e=>{let{...t}=e;return Ye.createElement(d5,y5({hasCloseButton:!1,modifiers:["info-message"]},t),"Click on another issue card to select multiple issues")},w5=ee.u4g(((e,t)=>`${e}${t.organization}/${t.repo}\n`),"");function R5(e){const{repos:t,...n}=e,s=ee.qnb(5,t),r=ee.CwT(5,t);return Ye.createElement(d5,n,Ye.createElement("div",{className:"zhc-toast-error"},Ye.createElement("span",null,"There was an error creating the milestone in "),Ye.createElement("div",{className:"zhc-toast-error__content"},s.map((e=>Ye.createElement("div",{key:e.repo_id},Ye.createElement("span",null,`${e.organization}/`),Ye.createElement("b",null,e.repository))))),r.length>0&&Ye.createElement(ZI,{position:jI.RIGHT,content:w5(r)},Ye.createElement("b",null,"and "+(t.length-5)," other repos"))))}R5.propTypes={repos:SI().arrayOf(SI().shape({}))},R5.defaultProps={repos:[]};p5(R5);function T5(){return T5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},T5.apply(this,arguments)}function C5(e){const{repoCount:t,...n}=e;return Ye.createElement(d5,T5({},n,{hasBoldText:!0}),Ye.createElement("span",null,"Milestone created in ",Ye.createElement("b",null,function(e){return 1===e?"one repository":`${e} repositories`}(t))))}C5.propTypes={repoCount:SI().number.isRequired};const k5=p5(C5),O5=ee.zGw(ee.UID((e=>`${e.organization}/${e.repo}\n`)),ee.v_p(""));function N5(e){const{repos:t,...n}=e,s=ee.qnb(5,t),r=ee.CwT(5,t);return Ye.createElement(d5,n,Ye.createElement("div",{className:"zhc-toast-error"},Ye.createElement("span",null,"There was an error creating the release in "),Ye.createElement("div",{className:"zhc-toast-error__content"},s.map((e=>Ye.createElement("div",{key:e.repo_id},Ye.createElement("span",null,`${e.organization}/`),Ye.createElement("span",{className:"zhu-font-bold"},e.repo))))),!ee.xbD(r)&&Ye.createElement(ZI,{position:jI.RIGHT,content:O5(r)},Ye.createElement("span",{className:"zhu-font-bold"},"and "+(t.length-5)," other repos"))))}N5.propTypes={repos:SI().arrayOf(SI().shape({}))},N5.defaultProps={repos:[]};p5(N5);const P5=p5((function(e){return Ye.createElement(d5,e,Ye.createElement("span",null,"Release successfully created"))}));let A5,D5,L5,z5,M5,x5;!function(e){e.DEFAULT="default",e.SHORT="short",e.TALL="tall",e.FILL="fill"}(A5||(A5={})),function(e){e.DEFAULT="default",e.NARROW="narrow",e.WIDE="wide",e.FULL="full"}(D5||(D5={})),function(e){e.DEFAULT="default",e.PRIMARY="primary",e.SECONDARY="secondary",e.ACTION="action",e.DANGER="danger",e.INACTIVE="inactive",e.GITHUB="github"}(L5||(L5={})),function(e){e.TEXT="text",e.OUTLINED="outlined",e.CONTAINED="contained",e.ICON_ONLY="icon-only"}(z5||(z5={})),function(e){e.NONE="none",e.EXTRA_TIGHT="extra-tight",e.TIGHT="tight",e.DEFAULT="default"}(M5||(M5={})),function(e){e.BUTTON="button",e.RESET="reset",e.SUBMIT="submit"}(x5||(x5={}));const F5=e=>{let t,{className:n,pathClassName:s,modifiers:r=[],radius:i=30,stroke:o=6,style:a={}}=e,l=i;r.includes("large")&&(l=45),r.includes("button-spinner")&&(l=8,o=2),r.includes("no-padding")&&(t=0);const c=2*l,d=Math.floor(o/2),u=(0,_t.DG)("zhc-spinner",r),p=(0,_I.default)("zhc-spinner",u,n),m=(0,_I.default)("zhc-spinner__path",s),h=ee.kKJ(t)?2*o:t;return Ye.createElement("div",{"data-testid":"spinner",className:p,style:ee.TSy({height:c,width:c,padding:h},a)},Ye.createElement("svg",{className:"zhc-spinner__svg",viewBox:`0 0 ${c+o} ${c+o}`},Ye.createElement("circle",{className:m,fill:"none",strokeLinecap:"round",strokeWidth:o,cx:l+d,cy:l+d,r:l})))},U5=F5,B5="zhc-button",q5=Ye.forwardRef(((e,t)=>{const{ariaLabel:n,children:s,className:r,color:i=L5.DEFAULT,component:o="button","data-cy":a,dataTestId:l=B5,disabled:c=!1,isLoading:d=!1,href:u,width:p=D5.DEFAULT,height:m=A5.DEFAULT,padding:h=M5.DEFAULT,type:E=x5.BUTTON,variant:g=z5.CONTAINED,onAuxClick:f=_t.ZT,onClick:_=_t.ZT,onMouseEnter:v=_t.ZT,onMouseLeave:I=_t.ZT,openInNewTab:b=!1,tabIndex:y,target:S,onKeyDown:w=_t.ZT,onMouseDown:R=_t.ZT,onBlur:T=_t.ZT,noCursor:C=!1,dataZhFlyover:k}=e,O=(0,_I.default)("zhc-button",{"zhc-button-no-cursor":C},`zhc-button--height-${m}`,`zhc-button--color-${i}`,`zhc-button--variant-${g}`,`zhc-button--width-${p}`,`zhc-button--padding-${h}`,r),N="button"===o&&Boolean(u)?"a":o;return Ye.createElement(N,{"aria-label":n,className:O,"data-cy":a,"data-testid":l,"data-zh-flyover":k,disabled:c||d,href:u,onAuxClick:f,onBlur:T,onClick:_,onKeyDown:w,onMouseDown:R,onMouseEnter:v,onMouseLeave:I,ref:t,rel:Boolean(u)&&b?"noopener noreferrer":void 0,role:E,tabIndex:y,target:Boolean(u)&&b?"_blank":S,type:E},d?Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:"zhc-button--visually-hidden-children"},s),Ye.createElement(U5,{className:"zhc-button--spinner",pathClassName:"zhc-button--spinner-path",radius:6,stroke:2,modifiers:["no-outline","no-padding","custom-color"]})):s)})),H5=q5;function W5(){const e="zhu-tutorial-open";return(0,Ye.useEffect)((()=>(document.body.classList.add(e),()=>document.body.classList.remove(e)))),null}function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},j5.apply(this,arguments)}const G5=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--maximize",t].filter(Boolean).join(" "),"aria-label":"maximize",role:"img",...n};return Ye.createElement("svg",j5({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"maximize_svg__a",d:"M6.195 8.862a.667.667 0 11.943.943L3.61 13.333H6c.335 0 .612.247.66.568l.007.099a.667.667 0 01-.667.667H2a.666.666 0 01-.471-.196l.053.048a.67.67 0 01-.035-.03l-.018-.018a.679.679 0 01-.18-.329.673.673 0 01-.016-.142v-4a.667.667 0 011.334 0v2.39zM14 1.333a.67.67 0 01.471.196l-.06-.054a.67.67 0 01.046.04l.014.014a.679.679 0 01.166.274.64.64 0 01.03.197v4a.667.667 0 01-1.334 0V3.61L9.805 7.137a.667.667 0 01-.86.07l-.083-.07a.667.667 0 010-.943l3.528-3.529H10a.667.667 0 01-.66-.567L9.334 2c0-.368.299-.667.667-.667z"}),Ye.createElement("mask",{id:"maximize_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#maximize_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#maximize_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#maximize_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function K5(){return K5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K5.apply(this,arguments)}const V5=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--minimize",t].filter(Boolean).join(" "),"aria-label":"minimize",role:"img",...n};return Ye.createElement("svg",K5({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"minimize_svg__a",d:"M2 8.667h12a.667.667 0 000-1.334H2a.667.667 0 000 1.334z"}),Ye.createElement("mask",{id:"minimize_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#minimize_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#minimize_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#minimize_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function $5(){return $5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$5.apply(this,arguments)}const Z5=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--close",t].filter(Boolean).join(" "),"aria-label":"close",role:"img",...n};return Ye.createElement("svg",$5({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{clipRule:"evenodd",d:"M2.2 2.2a.684.684 0 000 .967L7.033 8 2.2 12.833a.683.683 0 10.967.967L8 8.967l4.833 4.833a.684.684 0 00.967-.967L8.967 8 13.8 3.167a.684.684 0 00-.967-.967L8 7.033 3.167 2.2a.684.684 0 00-.967 0z",fill:"currentColor",fillRule:"evenodd"}))},Y5=e=>{let{hasMinimizeControl:t=!0,hasCloseControl:n=!0,isMinimized:s,onMinimizeToggle:r,onClose:i}=e;return Ye.createElement("div",{className:"zhc-large-toast-card-controls"},t?Ye.createElement("button",{onClick:()=>r(),"aria-label":"minimize",type:"button"},s?Ye.createElement(G5,null):Ye.createElement(V5,null)):null,n?Ye.createElement("button",{onClick:i,"aria-label":"close",type:"button"},Ye.createElement(Z5,null)):null)},J5=e=>{let{id:t,children:n,classNames:s="",hasControls:r=!0,hasCloseControl:i=!0,hasMinimizeControl:o=!0,hasMinHeight:a=!0,onClose:l,onMinimizeChange:c,renderContents:d}=e;const[u,p]=(0,Ye.useState)(!1),m=(0,_I.default)("zhc-large-card-toast",{"zhc-large-card-toast--has-min-height":a,"zhc-large-card-toast--is-minimized":u},s),h=e=>{p(e),c?.(e)};return Ye.createElement(d5,{hasCloseButton:!1,shouldAnimateIn:!1,noBackground:!0,noBorder:!0,noPadding:!0},Ye.createElement(W5,null),Ye.createElement("div",{"data-testid":"large-card-toast",className:m,onClick:()=>{u&&h(!1)}},r?Ye.createElement(Y5,{hasCloseControl:i,hasMinimizeControl:o,isMinimized:u,onMinimizeToggle:()=>h(!u),onClose:()=>{H.Z.deleteToast(t),l?.(!0)}}):null,n,d?.({isMinimized:u,onClose:()=>{H.Z.deleteToast(t),l?.(!1)}})))},X5=e=>{let{dataTestId:t,height:n,src:s,width:r}=e,i=s;if(F){i=`${z.Extension.getURL("templates/VideoEmbed.html")}?url=${encodeURIComponent(s)}`}return Ye.createElement("iframe",{allow:"autoplay",className:"zhc-external-video-embed","data-testid":t,height:n,src:i,width:r})},Q5="eKFkZod9UEjgTn8wiZTj",e7=e=>{let{alt:t,className:n,height:s,src:r,width:i,draggable:o,dataTestId:a}=e;const l=(0,_I.default)(Q5,n),c=(e=>PI?NI.Extension.getURL(e):e)(r);return Ye.createElement("img",{alt:t,src:c,height:s,className:l,width:i,draggable:o,"data-testid":a})},t7=(0,Ye.memo)(e7),n7=e=>{let{card:t,isMinimized:n,renderHighlightElement:s}=e;const r=t.highlightElement?s?.(t.highlightElement):null,i=(0,_I.default)({"zhc-toast-tutorial-card":!0,"zhc-toast-tutorial-card--is-minimized":n});return Ye.createElement("div",{className:i},Ye.createElement("div",{className:"zhc-toast-tutorial-card__media"},t.videoEmbedUrl?Ye.createElement(X5,{dataTestId:"toast-tutorial-embed",width:400,height:300,src:t.videoEmbedUrl}):null,t.imageUrl?Ye.createElement(t7,{src:t.imageUrl}):null),Ye.createElement("div",{className:"zhc-toast-tutorial-card__content"},Ye.createElement("h3",null,t.heading),Ye.createElement("p",{className:"zhc-toast-tutorial-card__text"},t.text)),r)},s7=e=>{let{cardVideoUrl:t,heading:n,hasMinimizeControl:s=!0,hasMinHeight:r=!0,id:i,onClose:o,onPrimaryCTAClick:a,primaryCTAText:l,onSecondaryCTAClick:c,secondaryCTAText:d,shouldDismissOnCTAClick:u=!0,text:p}=e;const[m,h]=(0,Ye.useState)(!1),E=(0,_I.default)({"zhc-video-card-toast__actions":!0,"zhc-video-card-toast__actions--is-minimized":m,"zhc-video-card-toast__actions--has-top-margin":!r});return Ye.createElement(J5,{hasMinimizeControl:s,hasMinHeight:r,onMinimizeChange:h,onClose:o},Ye.createElement(n7,{card:{heading:n,text:p,videoEmbedUrl:t},isMinimized:m}),Ye.createElement("div",{className:E},d?Ye.createElement(H5,{onClick:()=>{c&&c(),u&&H.Z.deleteToast(i)}},d):null,Ye.createElement(H5,{onClick:()=>{a&&a(),u&&(o(),H.Z.deleteToast(i))},color:L5.ACTION},l||"Got it")))};function r7(){return r7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r7.apply(this,arguments)}const i7=e=>{let{id:t,videoUrl:n,onClose:s,onGoToGithubClick:r,onLearnMoreClick:i,...o}=e;return Ye.createElement(s7,r7({id:t,cardVideoUrl:n,hasMinHeight:!1,heading:"Grant ZenHub access to see all your organizations",onClose:s,onPrimaryCTAClick:r,primaryCTAText:"Go to GitHub",onSecondaryCTAClick:i,secondaryCTAText:"Learn more",shouldDismissOnCTAClick:!1,text:"Looks like you need to grant acess in GitHub to see other repos. Go to GitHub or request access from your admin"},o))};function o7(){return o7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o7.apply(this,arguments)}function a7(e){const{emails:t,...n}=e,s=function(e){const t=ee.kE(e),n=ee.YMb(e);switch(t){case 1:return{prefix:"Your invitation has been sent to ",postfix:n};case 2:return{prefix:"Your invitations have been sent to ",postfix:`${n} and 1 other`};default:return{prefix:"Your invitations have been sent to ",postfix:`${n} and ${t-1} others`}}}(t);return Ye.createElement(d5,o7({},n,{hasBoldText:!0}),Ye.createElement("div",null,s.prefix,Ye.createElement("b",null,s.postfix)))}a7.propTypes={emails:SI().arrayOf(SI().string)},a7.defaultProps={emails:[]};const l7=p5(a7);function c7(){return c7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},c7.apply(this,arguments)}const d7=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--blocked-card",t].filter(Boolean).join(" "),"aria-label":"blocked-card",role:"img",...n};return Ye.createElement("svg",c7({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.236 2h7.528a.91.91 0 01.643.266l5.327 5.328a.91.91 0 01.266.642v7.528a.91.91 0 01-.266.643l-5.328 5.327a.91.91 0 01-.642.266H8.236a.91.91 0 01-.642-.266l-5.328-5.328A.91.91 0 012 15.765V8.236a.91.91 0 01.266-.642l5.328-5.328A.91.91 0 018.236 2zM3.818 8.613v6.774l4.795 4.795h6.774l1.791-1.792L5.61 6.821 3.818 8.613zM6.821 5.61l11.57 11.569 1.79-1.792V8.613l-4.794-4.795H8.613L6.82 5.61z",fill:"currentColor"}))};function u7(){return u7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u7.apply(this,arguments)}const p7=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--blocking",t].filter(Boolean).join(" "),"aria-label":"blocking",role:"img",...n};return Ye.createElement("svg",u7({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2c-1.008 0-1.943.545-2.468 1.441L1.393 17.51a3.083 3.083 0 00-.016 2.985A2.868 2.868 0 003.85 22h16.288a2.872 2.872 0 002.484-1.506 3.077 3.077 0 00-.008-2.971L14.467 3.44C13.942 2.545 13.007 2 11.999 2zM3.046 19.508a1.026 1.026 0 01.003-.99l8.13-14.051A.954.954 0 0112 3.99c.335 0 .647.181.821.479l8.136 14.063c.163.292.164.669-.005.976a.956.956 0 01-.824.502H3.86a.952.952 0 01-.814-.502zM10.5 9.5a1.5 1.5 0 013 0v4a1.5 1.5 0 01-3 0v-4zM12 19a1.5 1.5 0 100-3 1.5 1.5 0 000 3z",fill:"currentColor"}))};function m7(){return m7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m7.apply(this,arguments)}const h7=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--blocked-blocking",t].filter(Boolean).join(" "),"aria-label":"blocked-blocking",role:"img",...n};return Ye.createElement("svg",m7({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2a1 1 0 0 0-.707.293l-5 5A1 1 0 0 0 2 8v8a1 1 0 0 0 .293.707l5 5A1 1 0 0 0 8 22h8a1 1 0 0 0 .707-.293l5-5A1 1 0 0 0 22 16V8a1 1 0 0 0-.293-.707l-5-5A1 1 0 0 0 16 2H8zM4 8.414 8.414 4h7.172L20 8.414v7.172L15.586 20H8.414L4 15.586V8.414zm8-.914a1 1 0 0 1 1 1v3.75a1 1 0 1 1-2 0V8.5a1 1 0 0 1 1-1zm1 7.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z",fill:"currentColor"}))},E7=[{icon:Ye.createElement(d7,null),issuesType:"Blocked",text:"Coming up soon"},{icon:Ye.createElement(p7,null),issuesType:"Blocking other issues",text:"Finish first! These issues are top priority"},{icon:Ye.createElement(h7,null),issuesType:"Blocked and blocking other issues",text:"Start assigning these to people"}];function g7(e,t){let{icon:n,issuesType:s,text:r}=e;return Ye.createElement("div",{className:"zhc-dependency-filter__content",key:t},n,Ye.createElement("div",{className:"zhc-dependency-filter__text"},Ye.createElement("span",null,s),Ye.createElement("span",null,r)))}function f7(e){return Ye.createElement(d5,e,Ye.createElement("div",{className:"zhc-dependency-filter"},Ye.createElement("span",{className:"zhc-dependency-filter__header"},"How to read dependency relationships"),(0,_t.rS)(g7,E7)))}g7.propTypes={iconType:SI().string,issuesType:SI().string,text:SI().string},g7.defaultProps={iconType:null,issuesType:null,text:null};const _7=e=>Ye.createElement(d5,e,Ye.createElement("div",{className:"zhc-toast-loading"},Ye.createElement(U5,{modifiers:["no-outline","no-padding"],radius:7.5,stroke:2}),Ye.createElement("span",null,"Fetching issue dependencies...")));function v7(e){return Ye.createElement(d5,e,Ye.createElement("div",{className:"zhc-toast-dependency-fetch-error"},"There was a problem with your request.",Ye.createElement("div",{className:"zhc-toast-body"},"Some of your dependencies may not be shown here. Please try again later.")))}function I7(){return I7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I7.apply(this,arguments)}const b7=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--light-bulb",t].filter(Boolean).join(" "),"aria-label":"light-bulb",role:"img",...n};return Ye.createElement("svg",I7({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 25"},s),Ye.createElement("circle",{cx:12,cy:12.5,r:11,fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.24 6.725a.35.35 0 00.351-.348V4.96a.352.352 0 00-.704 0v1.416c0 .19.158.348.352.348zM5.904 12.36a.352.352 0 010 .704H4.489a.352.352 0 010-.704h1.416zm13.732 0a.352.352 0 010 .704h-1.415a.352.352 0 010-.704h1.415zM7.717 8.043a.349.349 0 01-.002.496.351.351 0 01-.496.002l-1-1a.352.352 0 01.497-.497l1.001 1zm9.047.496c.138.139.36.139.496.002l1-1a.352.352 0 00-.498-.498l-1 1a.351.351 0 00.002.496z",fill:"currentColor"}),Ye.createElement("path",{d:"M7.715 8.539l-.088-.089.088.089zm.002-.496l.089-.088-.089.088zm-.498.498l-.088.089.088-.089zm-1-1l.089-.089-.089.088zm.002-.496l-.088-.089.088.089zm.496-.002l-.09.088h.001l.089-.088zM17.26 8.541l.088.089-.088-.089zm-.496-.002l.089-.088V8.45l-.089.089zm1.496-.999l-.088-.088.088.088zm-.002-.495l.088-.089-.088.089zm-.496-.002l.089.089-.089-.089zm-1 1l-.089-.088.089.088zm-4.296-1.666c0 .122-.1.223-.227.223v.25c.264 0 .477-.21.477-.473h-.25zm0-1.416v1.416h.25V4.96h-.25zm-.227-.223c.127 0 .227.103.227.223h.25a.477.477 0 00-.477-.473v.25zm-.227.223c0-.122.1-.223.227-.223v-.25a.475.475 0 00-.477.473h.25zm0 1.416V4.96h-.25v1.416h.25zm.227.223a.227.227 0 01-.227-.223h-.25c0 .26.214.473.477.473V6.6zm-5.86 6.111a.475.475 0 00-.474-.477v.25c.123 0 .223.1.223.227h.25zm-.474.477c.26 0 .473-.214.473-.477h-.25a.227.227 0 01-.223.227v.25zm-1.416 0h1.416v-.25H4.489v.25zm-.473-.477c0 .264.21.477.473.477v-.25a.225.225 0 01-.223-.227h-.25zm.473-.477a.477.477 0 00-.473.477h.25c0-.126.103-.227.223-.227v-.25zm1.416 0H4.489v.25h1.416v-.25zm14.206.477a.475.475 0 00-.474-.477v.25c.123 0 .224.1.224.227h.25zm-.474.477c.26 0 .474-.214.474-.477h-.25a.227.227 0 01-.224.227v.25zm-1.415 0h1.415v-.25h-1.415v.25zm-.474-.477c0 .264.211.477.474.477v-.25a.225.225 0 01-.224-.227h-.25zm.474-.477a.477.477 0 00-.474.477h.25c0-.126.103-.227.224-.227v-.25zm1.415 0h-1.415v.25h1.415v-.25zM7.803 8.627a.474.474 0 00.003-.672l-.177.177a.224.224 0 01-.002.318l.176.177zm-.672.003a.476.476 0 00.672-.003l-.177-.176a.226.226 0 01-.318.002l-.177.177zm-1-1.001l1 1 .177-.176-1-1-.177.176zm.001-.672a.475.475 0 000 .672l.175-.177a.225.225 0 01.003-.319l-.178-.176zm.673-.002a.477.477 0 00-.672.001l.176.177a.227.227 0 01.319-.002l.177-.176zm1 1l-1-1-.177.177 1.001 1 .177-.177zm9.366.498a.224.224 0 01-.318-.002l-.178.176a.474.474 0 00.673.003l-.177-.177zm1-1l-1 1 .177.177 1-1.001-.177-.177zm-.001-.32a.227.227 0 01.002.319l.176.177a.477.477 0 00-.002-.673l-.176.177zm-.319-.002a.225.225 0 01.319.003l.176-.178a.475.475 0 00-.672-.001l.177.176zm-1.001 1l1-1-.176-.176-1 1 .176.177zm.002.319a.226.226 0 01-.002-.318l-.177-.177a.476.476 0 00.003.672l.176-.177z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.24 8.134c-2.607 0-4.578 1.971-4.578 4.577 0 1.546.997 3.082 2.464 3.874v3.169c0 .363.384.704.705.704h2.473a.721.721 0 00.696-.704v-3.17c1.467-.79 2.465-2.327 2.465-3.873 0-2.606-1.971-4.577-4.226-4.577zm3.52 4.401a3.7 3.7 0 01-2.464 3.487v3.732h-2.465v-.705h2.465v-.704H10.83v-.704h2.465v-.704H10.83v-.915a3.7 3.7 0 011.232-7.184 3.697 3.697 0 013.698 3.697zm-4.929 4.402v.704-.704zm0 1.408v.704-.704z",fill:"currentColor"}))};function y7(){return y7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y7.apply(this,arguments)}const S7=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--megaphone",t].filter(Boolean).join(" "),"aria-label":"megaphone",role:"img",...n};return Ye.createElement("svg",y7({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("circle",{fill:"currentColor",cx:11,cy:13,r:11,transform:"translate(1 -1)"}),Ye.createElement("path",{d:"M8.79 15.415l.984-.3-.006-.01 2.1-.642-1.463-4.781-4.487 1.371a2.5 2.5 0 101.462 4.782l1.405-.43.006.01zm.532.883l1.589 2.64.983-.3-1.588-2.64-.984.3zm-.986.302l-.182.056-.003-.01-.478.145a3.5 3.5 0 01-2.047-6.694l5.292-1.618 3.589-2.899a.5.5 0 01.792.243l2.783 9.103a.5.5 0 01-.521.644l-4.567-.394-.831.254-.003-.01-.128.038-.746.229.402.669.129.214 1.264 2.1a.5.5 0 01-.282.737l-1.97.602a.5.5 0 01-.574-.22l-1.919-3.19zm3.026-7.21l1.462 4.78.034-.01 4.051.35-2.35-7.687-3.163 2.556-.034.01z",fill:"currentColor",fillRule:"nonzero"}),Ye.createElement("path",{d:"M18.575 9.773l2.869-.877m-3.91-2.051l.94-1.766m.921 7.852l1.766.94",stroke:"currentColor",strokeLinecap:"round"})))};function w7(){return w7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w7.apply(this,arguments)}const R7=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--x",t].filter(Boolean).join(" "),"aria-label":"x",role:"img",...n};return Ye.createElement("svg",w7({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},Ye.createElement("rect",{width:14,height:14,rx:2}),Ye.createElement("path",{d:"M3.5 3.5l7.28 7.28M10.5 3.5l-7.28 7.28",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"square"})))};function T7(e){let{name:t}=e;const n=(0,l3.v9)((e=>e.flags));return!0===n[t]}function C7(e,t,n){return t?Ye.createElement(t,e):n?n(e):null}const k7=function(e){let{name:t,children:n,component:s,render:r,fallbackComponent:i,fallbackRender:o,...a}=e;const l=(0,l3.v9)((e=>e.flags)),c=!0===l[t];return c&&n?Ye.createElement(Ye.Fragment,null,n):c?C7(a,s,r):C7(a,i,o)},O7="M_tOmAYdPWLGGrI0GVtu",N7="YDaQ1qLHny7aZfZcmIY2",P7="Fe3TI5eLpsh7Nu57BEXr",A7="TSeZEK1LJJNb_kToYGqY",D7="_Zqrx9Mw_q84RNQr52Ci",L7="JXkmavSIXKr4xgTPwlmn",z7="wQocQnflqICUXfkgzSkJ",M7=e=>{let{message:t,dismissHandler:n,screenshot:s,featureFlagName:r=null,iconComponent:i=Ye.createElement(S7,null),shouldShow:o}=e;const[a,l]=(0,Ye.useState)(!1),c=(0,_I.default)(O7,{[N7]:a});(0,Ye.useEffect)((()=>{o&&!a&&window.requestAnimationFrame((()=>setTimeout((()=>l(!0)),1e3)))}),[o,a]);const d=Ye.createElement("div",{className:c},Ye.createElement("span",{className:P7,onClick:()=>{window.requestAnimationFrame((()=>{l(!1),setTimeout(n,1e3)}))}},Ye.createElement(R7,null)),Ye.createElement("div",{className:A7},Ye.createElement("span",{className:D7},i)),Ye.createElement("div",{className:L7},t),Ye.createElement("div",{className:z7},s));return o?r?Ye.createElement(k7,{name:r},d):d:null};function x7(){return x7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x7.apply(this,arguments)}const F7=e=>{let{id:t,text:n,imageSrc:s,imageWidth:r,...i}=e;return Ye.createElement(d5,x7({hasCloseButton:!1,noBackground:!0,noBorder:!0,noPadding:!0},i),Ye.createElement(M7,{dismissHandler:()=>H.Z.deleteToast(t),iconComponent:Ye.createElement(b7,null),message:n,screenshot:Ye.createElement(t7,{src:s,width:r}),shouldShow:!0}))};function U7(){return U7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},U7.apply(this,arguments)}const B7=e=>{const{repoName:t,...n}=e;return Ye.createElement(d5,U7({},n,{hasBoldText:!0}),Ye.createElement("span",null,Ye.createElement("strong",null,t)," has been ",Ye.createElement("strong",null,"split into its own workspace")))};B7.propTypes={repoName:SI().string.isRequired};const q7=p5(B7);function H7(e){return Ye.createElement(d5,e,Ye.createElement("div",{className:"zhc-toast-loading"},Ye.createElement(U5,{modifiers:["no-outline","no-padding"],radius:10,stroke:2}),Ye.createElement("span",null,e.message??"Saving...")))}const W7=e=>{const{workspaceName:t}=e;return Ye.createElement(d5,{hasBoldText:!0},Ye.createElement("span",null,Ye.createElement("strong",null,t||"Workspace")," has been ",Ye.createElement("strong",null,"successfully deleted")))};W7.propTypes={workspaceName:SI().string.isRequired};const j7=p5(W7),G7="O5CIGQdgg7x_fUq4m6od",K7="jxP3pD9ogyBKreVxrZqP",V7="NHhd5EbjF0AtrMvKdXl6",$7=e=>{let{isCurrentStep:t}=e;const n=(0,_I.default)(K7,{[V7]:t});return Ye.createElement("div",{className:n})},Z7=e=>{let{stepCount:t,currentStep:n}=e;return Ye.createElement("div",{className:`${G7} zhc-progress-dot-group`},ee.w6H(0,t).map((e=>Ye.createElement($7,{key:e,isCurrentStep:e===n}))))},Y7=e=>{let{currentIndex:t,numCards:n,onClickBack:s,onClickNext:r,primaryButtonText:i}=e;return Ye.createElement("div",{className:"zhc-tutorial-progress-footer"},Ye.createElement(Z7,{stepCount:n,currentStep:t}),Ye.createElement("div",{className:"zhc-tutorial-progress-footer__action-buttons"},t>0&&Ye.createElement(H5,{className:"zhc-tutorial-progress-footer__action-button",variant:z5.TEXT,onClick:s},"Go back"),Ye.createElement(H5,{className:"zhc-tutorial-progress-footer__action-button",onClick:r,variant:z5.CONTAINED,color:L5.ACTION},i)))},J7=n.p+"../../img/built/onboarding-tutorial-success.svg",X7=()=>Ye.createElement("div",{className:"zhc-confetti"},Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"}),Ye.createElement("div",{className:"zhc-confetti-piece"})),Q7=e=>{let{contentClassName:t,onComplete:n,onLaunchTutorialList:s,onRestart:r}=e;return Ye.createElement("div",{className:"zhc-tutorial-success"},Ye.createElement("div",{className:"zhc-tutorial-success__confetti"},Ye.createElement(X7,null)),Ye.createElement("div",{className:t},Ye.createElement("div",{className:"zhc-tutorial-success__image"},Ye.createElement(t7,{src:J7})),Ye.createElement("h3",null,"Nice work!"),Ye.createElement("p",null,"You\u2019re ready to start collaborating. Learn about more ZenHub features in the tutorials.")),Ye.createElement("div",{className:"zhc-tutorial-success__footer"},Ye.createElement("div",{className:"zhc-tutorial-success__footer__button-row"},Ye.createElement(H5,{onClick:r,color:L5.SECONDARY},"Start over"),!(0,_t.KN)(s)&&Ye.createElement(H5,{onClick:()=>{s?.(),n()},color:L5.SECONDARY},"More tutorials")),Ye.createElement(H5,{onClick:n,variant:z5.CONTAINED,color:L5.ACTION},"Done")))},e9=(e,t)=>e>=t-1,t9=e=>{let{cards:t,getLocation:n,onNavigate:s,id:r,onClose:i,onComplete:o,onShowTutorialsList:a,renderHighlightElement:l,renderOverlayElement:c}=e;const[d,u]=(0,Ye.useState)(0),[p,m]=(0,Ye.useState)(!1),[h,E]=(0,Ye.useState)(!1),g=t[d];(0,Ye.useEffect)((()=>{E(Boolean(n&&g?.navigation?.isNeeded(n())))}),[]);const f=h&&g.navigation?.ctaText||"Next",_=()=>{if(h&&g.navigation&&s)return s(g.navigation.getAction),void E(!h);u(d+1)};if(d>=t.length)return Ye.createElement(J5,{hasControls:!1,onMinimizeChange:m},Ye.createElement(Q7,{contentClassName:"zhc-toast-tutorial-card__content",onComplete:()=>o(r),onLaunchTutorialList:a,onRestart:()=>u(0)}));const v=h&&c&&g.navigation?.overlayHighlightElement?c(g.navigation.overlayHighlightElement,_):null;return Ye.createElement(J5,{onClose:()=>{e9(d,t.length)?o(r):i(r,d)},onMinimizeChange:m,classNames:"zhc-toast-tutorial-card"},Ye.createElement(n7,{card:g,isMinimized:p,renderHighlightElement:l}),p?null:Ye.createElement(Y7,{currentIndex:d,numCards:t.length,onClickBack:()=>{d-1>=0&&u(d-1)},onClickNext:_,primaryButtonText:e9(d,t.length)?"Finish":f}),v)},n9=e=>{const{content:t,description:n,actionButton:s,icon:r,...i}=e,{text:o,onClick:a}=s;return Ye.createElement(d5,i,Ye.createElement("div",{className:"zhc-toast-action"},Ye.createElement("div",{className:"zhc-toast-action__icon"},r),Ye.createElement("div",{className:"zhc-toast-action__content"},t,n&&Ye.createElement("p",{className:"zhc-toast-action__description"},n)),!(0,_t.KN)(s)&&Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,className:"zhc-toast__button",onClick:a},o)))};n9.propTypes={actionButton:SI().shape({text:SI().string,onClick:SI().func}),content:SI().node,description:SI().node,icon:SI().node},n9.defaultProps={actionButton:{},content:null,icon:null};const s9=n9,r9=p5(n9);function i9(){return i9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i9.apply(this,arguments)}const o9="zhc-progress-update",a9=e=>{let{content:t,completed:n,total:s,hideProgressBar:r,...i}=e;return Ye.createElement(d5,i9({},i,{hasCloseButton:!1,noPadding:!0}),Ye.createElement("div",{className:o9},Ye.createElement("div",{className:`${o9}__content`},t),!r&&Ye.createElement("div",{className:`${o9}__bar`},Ye.createElement("div",{className:(0,_I.default)(`${o9}__progress`,{[`${o9}__progress--complete`]:n===s}),style:{width:`${parseInt(n/s*100,10)}%`}}))))};a9.propTypes={completed:SI().number.isRequired,content:SI().node.isRequired,total:SI().number.isRequired,hideProgressBar:SI().bool};const l9=a9,c9="LgH5KMx26LbBQMV0KQdM",d9="f1KJyDYrKmDQJkT6i9ur",u9=e=>{let{id:t,children:n,classNames:s="",hasControls:r=!0,hasCloseControl:i=!0,hasMinimizeControl:o=!0,onClose:a,onMinimizeChange:l,renderContents:c}=e;const[d,u]=(0,Ye.useState)(!1),p=e=>{u(e),l?.(e)};return Ye.createElement(d5,{hasCloseButton:!1,shouldAnimateIn:!1,noBackground:!0,noBorder:!0,noPadding:!0},Ye.createElement(W5,null),Ye.createElement("div",{role:"button","data-testid":"large-card-toast",tabIndex:0,className:(0,_I.default)(c9,{[d9]:d},s),onClick:()=>{d&&p(!1)},onKeyDown:()=>{d&&p(!1)}},r?Ye.createElement(Y5,{hasMinimizeControl:o,hasCloseControl:i,isMinimized:d,onMinimizeToggle:()=>p(!d),onClose:()=>{H.Z.deleteToast(t),a?.(!0)}}):null,n,c?.({isMinimized:d,onClose:()=>{H.Z.deleteToast(t),a?.(!1)}})))};function p9(){return p9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p9.apply(this,arguments)}const m9=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pull-request",t].filter(Boolean).join(" "),"aria-label":"pull-request",role:"img",...n};return Ye.createElement("svg",p9({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"pull-request_svg__a",d:"M7.117 3.182L9.558.742a.255.255 0 01.435.18v4.881a.255.255 0 01-.435.18l-2.44-2.44a.255.255 0 010-.36zM3.627 2.6a.764.764 0 100 1.528.764.764 0 000-1.528zm-2.293.764a2.292 2.292 0 113.056 2.16v5.354a2.293 2.293 0 11-1.528 0V5.524a2.292 2.292 0 01-1.528-2.161zm9.678-.764H9.993v1.528h1.019a1.019 1.019 0 011.018 1.018v5.733a2.293 2.293 0 101.528 0V5.145A2.547 2.547 0 0011.012 2.6zm1.018 10.44a.764.764 0 111.528 0 .764.764 0 01-1.528 0zm-8.404-.763a.764.764 0 100 1.528.764.764 0 000-1.528z"}),Ye.createElement("mask",{id:"pull-request_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#pull-request_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",xlinkHref:"#pull-request_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#pull-request_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function h9(){return h9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h9.apply(this,arguments)}const E9=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--issue-opened",t].filter(Boolean).join(" "),"aria-label":"issue-opened",role:"img",...n};return Ye.createElement("svg",h9({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.515 3.515a12 12 0 1116.97 16.97 12 12 0 01-16.97-16.97zm1.59 1.59a9.75 9.75 0 1013.79 13.79 9.75 9.75 0 00-13.79-13.79zm8.486 8.486a2.25 2.25 0 11-3.182-3.183 2.25 2.25 0 013.182 3.183z",fill:"currentColor"}))},g9="qr3XLeCI27WxOkWjpnUA",f9="GOLXyUrp3KBpHyWUrI2L",_9="ugY8poWGL1UAyJY1PJye",v9="sLabcXjvyqZXpiDllgjv",I9=(0,_t.fB)("Issue","Issues"),b9=e=>{let{issue:t}=e;return Ye.createElement("div",{className:_9},t.pullRequest?Ye.createElement(m9,{className:f9}):Ye.createElement(E9,{className:f9}),Ye.createElement(JI,{content:t.title,tooltipPosition:jI.TOP_LEFT},t.title))},y9=e=>{const{issues:t,pipeline:n,...s}=e,r=(0,_I.default)("zhc-toast-heading",v9);return Ye.createElement(d5,s,Ye.createElement("div",{className:g9},Ye.createElement("div",{className:r},`${I9(t.length)} moved ${n?`to ${n} `:" "}due to PR connection`),t.map((e=>Ye.createElement(b9,{key:e.id,issue:e})))))},S9=p5(y9),w9=p5((e=>{let{heading:t,children:n,...s}=e;return Ye.createElement(d5,s,t?Ye.createElement("div",{className:"zhc-toast-heading"},t):null,Ye.createElement("span",{className:"zhc-toast-body"},n))}));function R9(){return R9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R9.apply(this,arguments)}const T9=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--question",t].filter(Boolean).join(" "),"aria-label":"question",role:"img",...n};return Ye.createElement("svg",R9({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M8 15.333A7.333 7.333 0 118 .667a7.333 7.333 0 010 14.666zM8 14A6 6 0 108 2a6 6 0 000 12zm0-3.333c.368 0 .667.298.667.666v.002a.667.667 0 01-1.333 0v-.002c0-.368.298-.666.666-.666zm-1.984-4.54a1.49 1.49 0 01.055-.178c.101-.26.243-.485.425-.676.182-.19.401-.34.658-.446.257-.107.545-.16.863-.16.41 0 .752.056 1.027.169.274.112.464.255.632.422.167.168.238.349.31.542.073.194.109.374.109.542 0 .277-.006.503-.078.682-.072.18-.143.325-.25.453-.107.127-.577.51-.693.6-.256.218-.41.613-.46 1.185a.605.605 0 01-.602.552.575.575 0 01-.574-.585l.011-.674c.018-.249.043-.254.121-.422a1.79 1.79 0 01.273-.429c.104-.118.214-.22.33-.307.115-.087.222-.174.32-.26.099-.087.178-.182.239-.286a.71.71 0 00.082-.39c0-.266-.065-.463-.195-.59-.13-.127-.31-.19-.542-.19-.156 0-.29.03-.403.09a.804.804 0 00-.277.243c-.072.101-.126.22-.16.356a.582.582 0 01-.564.437h-.125a.548.548 0 01-.532-.68z",fillRule:"evenodd"}))},C9="N9nDANmAXjTVQ2xHP99H",k9="QSIlsLGqASansKsEoeME";function O9(){return O9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},O9.apply(this,arguments)}const N9=p5((e=>{let{heading:t,href:n,text:s,...r}=e;return Ye.createElement(d5,O9({hasCloseButton:!1},r),Ye.createElement("a",{className:C9,href:n,target:"_blank",rel:"noreferrer"},Ye.createElement(T9,{className:k9}),t?Ye.createElement("div",{className:"zhc-toast-heading"},t):null,s?Ye.createElement("span",{className:"zhc-toast-body"},s):null))}));function P9(){return P9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P9.apply(this,arguments)}const A9=(0,_t.fB)("has","have"),D9=(0,_t.fB)("participant","participants"),L9=p5((e=>{let{participantCount:t,...n}=e;const s=`${t} ${D9(t)}`,r=` ${A9(t)} been invited to estimate`;return Ye.createElement(d5,P9({},n,{hasBoldText:!0}),Ye.createElement("div",null,Ye.createElement("b",null,s),r))}));function z9(){return z9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z9.apply(this,arguments)}const M9=p5((e=>{let{pipelineName:t,repoName:n,...s}=e;const r=`New issue created in ${t}`,i=` (${n})`;return Ye.createElement(d5,z9({},s,{hasBoldText:!0}),Ye.createElement("div",null,Ye.createElement("b",null,r),i))}));function x9(){return x9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x9.apply(this,arguments)}const F9=p5((e=>{let{pipelineName:t,repoName:n,...s}=e;const r=`New epic created in ${t}`,i=` (${n})`;return Ye.createElement(d5,x9({},s,{hasBoldText:!0}),Ye.createElement("div",null,Ye.createElement("b",null,r),i))}));function U9(){return U9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},U9.apply(this,arguments)}const B9=(0,_t.fB)("issue","issues"),q9=(0,_t.fB)("has","have"),H9=p5((e=>{let{issueCount:t,action:n,...s}=e;return Ye.createElement(d5,U9({},s,{hasBoldText:!0}),Ye.createElement("span",null,Ye.createElement("b",null,`${t} ${B9(t)}`)," ","add"===n?`${q9(t)} been added to the next sprint`:`${q9(t)} been removed from the next sprint`))})),W9="JDdvDKVGNmLO0qgGA7vA",j9=e=>{let{onSendInvite:t,onDismiss:n,onCopyLink:s,onShow:r,nonZHMembers:i}=e;(0,Ye.useEffect)(r,[]);const o=i.length>1?"and others are not on ZenHub yet!":"is not on ZenHub yet!";return Ye.createElement(d5,{hasBoldText:!0,onClickClose:n},Ye.createElement("span",null,Ye.createElement("b",null,`${i[0]?.login} ${o}`)),Ye.createElement("br",null),Ye.createElement("button",{type:"button",className:W9,onClick:t},"Click Here")," to send an invite or ",Ye.createElement("button",{type:"button",className:W9,onClick:s},"copy invite link"))},G9={container:"v6hpfFWaztiLDqG_6qSw",icon:"Mbd0ltY8ttwOxDgeIaDg",iconSvg:"DlVhbHCW2UQUGWU1BNZ3",heading:"UprdUypB2cMpnA26_k_t",text:"yapkZW9sy2rupr3Xc744",errorDetailsList:"VVXViw85lhL_9CxWCmWN",errorDetailsContainer:"CJeHqqn5kGJVyRZrGQO0",assigneeContainer:"GWp9i6fMaGTQb0ja5YPt",assigneeAvatar:"hrUMhAwUQpVp7XXIRiw6",assigneeName:"Alza_o75FKfNhsJgo9sh",issuesContainer:"f2QnDemjMxFKSXRO4Olw",issueListItem:"yMu9SJoh_dTtnExe9mKF",closeButton:"oVKY2gdUz7bWQlWp89Ty"},K9="Looks like there was an error",V9="Check your GitHub permissions as there may be some users without permissions for these issues",$9=e=>{let{id:t,heading:n=K9,text:s=V9,assigneesAndIssues:r}=e;return Ye.createElement("div",null,Ye.createElement(d5,{onClickClose:()=>{H.Z.deleteToast(t)},closeButtonClassName:G9.closeButton,modifiers:["transition-in"]},Ye.createElement("div",{className:G9.container},Ye.createElement("div",{className:G9.icon},Ye.createElement(R7,{className:G9.iconSvg})),Ye.createElement("div",{className:G9.content},Ye.createElement("h3",{className:G9.heading},n),Ye.createElement("p",{className:G9.text},s))),Ye.createElement("div",{className:G9.errorDetailsList},r.map((e=>Ye.createElement("div",{className:G9.errorDetailsContainer,key:e.assignee.login},Ye.createElement("div",{className:G9.assigneeContainer},Ye.createElement("img",{className:G9.assigneeAvatar,src:e.assignee.avatarUrl,alt:"Avatar of assignee"}),Ye.createElement("span",{className:G9.assigneeName},e.assignee.login)),Ye.createElement("div",{className:G9.issuesContainer},e.issues.map((e=>Ye.createElement("span",{key:e.number,className:G9.issueListItem},e.number?`#${e.number}`:""," ",e.title))))))))))},Z9={container:"IfbfAESEB79MxQ313dA_",icon:"GNmrMkHsjx0axLPwH4LY",iconSvg:"hOzh71O_gwAKWiTtXJ66",heading:"ZAhHYNezWq6_JSajSSEK",text:"tcfXX1U6nkJ1ncRV_z8r",refreshButton:"YMYVJ5FzE8AePA5baz3H"},Y9=()=>{window.location.reload()},J9=e=>{let{id:t,heading:n,text:s,promptToRefresh:r}=e;return Ye.createElement("div",null,Ye.createElement(d5,{onClickClose:()=>{H.Z.deleteToast(t)},modifiers:["transition-in"]},Ye.createElement("div",{className:Z9.container},Ye.createElement("div",{className:Z9.icon},Ye.createElement(R7,{className:Z9.iconSvg})),Ye.createElement("div",{className:Z9.content},Ye.createElement("h3",{className:Z9.heading},n),Ye.createElement("p",{className:Z9.text},s)),r&&Ye.createElement(H5,{variant:z5.TEXT,onClick:Y9,className:Z9.refreshButton,color:L5.PRIMARY},"Refresh"))))};function X9(){return X9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X9.apply(this,arguments)}const{setSubscriber:Q9,removeSubscriber:e8}=H.Z;function t8(){const[e,t]=(0,Ye.useState)([]);(0,Ye.useEffect)((()=>(Q9(t),t(H.Z.getToasts()),()=>e8())),[]);const[n,s]=ee.uKc((e=>[W.Z.ZH_PLATFORM_BETA_ACCESS].includes(e.type)),e),[r,i]=ee.uKc((e=>[W.Z.TUTORIAL,W.Z.VIDEO_CARD,W.Z.LARGE_CARD].includes(e.type)),s),[o,a]=ee.uKc((e=>[W.Z.LARGE_CARD_PLAIN].includes(e.type)),i),l=e=>e.map((e=>{const t=function(e){let{type:t}=e;switch(t){case W.Z.ACTION_BUTTON_UPDATE:return r9;case W.Z.ACTION_BUTTON_UPDATE_NO_EXPIRY:return s9;case W.Z.BOARD_SELECT_MULTIPLE:return S5;case W.Z.CREATE_ISSUE_UPDATE:return M9;case W.Z.CREATE_EPIC_UPDATE:return F9;case W.Z.CREATE_MILESTONE_ERROR:return R5;case W.Z.CREATE_MILESTONE_UPDATE:return k5;case W.Z.CREATE_RELEASE_ERROR:return N5;case W.Z.CREATE_RELEASE_UPDATE:return P5;case W.Z.CONNECT_GITHUB_ORGS:return i7;case W.Z.ESTIMATE_INVITE_SENT_UPDATE:return L9;case W.Z.EXPIRING_TOAST_WITH_CONTENT:return w9;case W.Z.EXTERNAL_LINK_TOAST:return N9;case W.Z.FEATURE_PROMPT:return F7;case W.Z.LARGE_CARD:return J5;case W.Z.LARGE_CARD_PLAIN:return u9;case W.Z.MULTI_ACTION_ERROR:return E5;case W.Z.MULTI_ACTION_UPDATE:return b5;case W.Z.TEXT_EXPIRING:return m5;case W.Z.INVITATIONS_SENT_UPDATE:return l7;case W.Z.DEPENDENCY_FILTER:return f7;case W.Z.DEPENDENCY_LOADING:return _7;case W.Z.DEPENDENCY_FETCH_ERROR:return v7;case W.Z.SPLIT_WORKSPACE:return q7;case W.Z.SAVING_UPDATE:return H7;case W.Z.TUTORIAL:return t9;case W.Z.DELETE_WORKSPACE:return j7;case W.Z.VIDEO_CARD:return s7;case W.Z.PROGRESS_UPDATE:return l9;case W.Z.CONNECTED_ISSUES_UPDATE:return S9;case W.Z.WRAPPER:return d5;case W.Z.WRAPPER_EXPIRING:return p5(d5);case W.Z.SPRINT_UPDATE:return H9;case W.Z.INVITE_NON_MEMBERS:return j9;case W.Z.BULK_ASSIGN_ISSUES_ERROR:return $9;case W.Z.WORKSPACE_BREAKING_CHANGE:return J9;case W.Z.TEXT:default:return u5}}(e);return Ye.createElement(t,X9({},e,e.toastProps,{key:e.id}))}));return Ye.createElement("div",{className:"zhc-toast-list","data-testid":"zhc-toast-list","data-zh-flyover":"interactive"},n.length?Ye.createElement("div",{className:"zhc-toast-list__left-lane"},l(n)):null,Ye.createElement("div",{className:"zhc-toast-list__lane"},l(a)),o.length?Ye.createElement("div",{className:"zhc-toast-list__lane"},l(o)):null,r.length?Ye.createElement("div",{className:"zhc-toast-list__lane"},l(r)):null)}const n8="zh-toast-list-container";let s8=null;const r8=class{constructor(){this.loadToasts=()=>{let e=document.querySelector(".zh-toast-list-container");if(null===e){e=document.createElement("div"),e.className=n8;const{body:t}=document;t.appendChild(e)}const t=Ye.createElement(t8);s8||(s8=bI.createRoot(e)),s8.render(t)},this.destroy=()=>{se("ToastFeatures.destroy"),s8?.unmount(),this.stopListening()},se("ToastFeatures.initialize")}},i8={tryOrContinue:(e,t)=>function(n){const s=this;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];const a=[n,...i];n&&n.preventDefault&&n.preventDefault(),ct.whenAuthReady().then((r=>{re("AutoLogin.tryOrContinue"),r?j.ZP.isFunction(e)&&e.apply(s,a):(n&&n.stopImmediatePropagation&&n.stopImmediatePropagation(),r6("Autologin Execution",{Feature:"Autologin Activated"}),ct.doAuth(t))}))}},o8=J().View.extend({__name__:"BaseView",destroy(){re("BaseView.destroy"),this.stopListening&&this.stopListening(),this.model=null,this.collection&&(this.collection=null),this.$el&&(this.$el.remove(),this.$el=null)}});var a8=n(98312),l8=n.n(a8);const c8=o8.extend({__name__:"TopLinksViewView",tagName:"li",attributes:{class:"zh-topbar-li"},TopbarEventClick:"topbar:click",TopbarEventClickOnGHLink:"topbar:click:gh",events:{"click .zh-sidebar-item":"_handleClick"},initialize(e){this.injectLinks=e.injectLinks,this.model=e.model,this.isEnabled=!0,j.ZP.bindAll(this,"_handleClick");const t=this;this.checking=setInterval((()=>{t.reinject()}),1e3)},reinject(){this.injectLinks(this.renderedNode)},render(){const e=this.model.get("links");return this.$el.html(l8()({links:e,isEnabled:this.isEnabled})),[this.renderedNode]=this.$el,this.$el},setTopbar(e){this.$topbar=e},openTopbarPage(e,t,n){2===e.which||e.metaKey||e.shiftKey?window.open(`#${t}`,n):ls()(e.currentTarget).hasClass("selected")||this.trigger(this.TopbarEventClick,t)},_handleClick(e){const{organization:t,repository:n}=(0,ma.parseRepoPath)(window.location.pathname),s=(0,ma.getZenHubTabPath)({organization:t,repository:n});i8.tryOrContinue((()=>{if(se("=> TopLinksViewView._handleClick"),e.stopPropagation(),!this.isEnabled||e.ctrlKey)return;const t=ls()(e.currentTarget).attr("zh-id"),n=e.shiftKey?"_new":"_blank";this.openTopbarPage(e,t,n)}),s)(e)},destroy(){o8.prototype.destroy.call(this),this.$sidebar=null,clearInterval(this.checking)}}),d8=J().Model.extend({__name__:"TopbarLinks",initialize(){se("TopbarLinks.initialize"),this.set({links:[{page:"zenhub",title:"ZenHub",cssClass:"zh-icon-zenhub"}]})}});var u8=n(73345),p8=n.n(u8);function m8(e,t,n,s){p8().bind(e,(e=>{t(e),s&&e.preventDefault()}),n)}function h8(e,t){p8().unbind(e,t)}const E8={GLOBAL_BOARD:{name:"Global - Board",shortcuts:"z b"},GLOBAL_BURNDOWN:{name:"Global - Burndown",shortcuts:"z d"},GLOBAL_CUMULATIVE:{name:"Global - Cumulative flow",shortcuts:"z c"},GLOBAL_CONTROL_CHART:{name:"Global - Control chart",shortcuts:"z p"},GLOBAL_VELOCITY:{name:"Global - Velocity tracking",shortcuts:"z v"},GLOBAL_RELEASE:{name:"Global - Release report",shortcuts:"z r"},GLOBAL_MILESTONE:{name:"Global - Milestone page",shortcuts:"z m"},GLOBAL_NOTIFICATION:{name:"Global - Notification page",shortcuts:"z n"},GLOBAL_SHORTCUTS_PAGE:{name:"Global - Shortcuts",shortcuts:"z s"},GLOBAL_NEW_ISSUE:{name:"Global - New Issue",shortcuts:"n i"},GLOBAL_NEW_EPIC:{name:"Global - New Issue",shortcuts:"n e"},GLOBAL_REPO_SELECTOR:{name:"Global - Repo selector / Repo switcher",shortcuts:["shift+z","shift z"]},GLOBAL_WORKSPACE_SWITCHER:{name:"Global - Workspace switcher",shortcuts:["shift+w","shift w"]},ISSUE_PAGE_PIPELINE:{name:"Issue page - Pipeline",shortcuts:"i p"},ISSUE_PAGE_LABEL:{name:"Issue page - Label",shortcuts:"i l"},ISSUE_PAGE_ASSIGNEE:{name:"Issue page - Assignee",shortcuts:"i a"},ISSUE_PAGE_MILESTONE:{name:"Issue page - Milestone",shortcuts:"i m"},ISSUE_PAGE_ESTIMATE:{name:"Issue page - Estimate",shortcuts:"i e"},ISSUE_PAGE_EPIC:{name:"Issue page - Epic",shortcuts:"i k"},ISSUE_PAGE_RELEASE:{name:"Issue page - Release",shortcuts:"i r",extensionShortcuts:"r"},ISSUE_PAGE_DEPENDENCY:{name:"Issue page - Dependency",shortcuts:"i d"},BOARD_SEARCH:{name:"Board - Search",shortcuts:"f i"},BOARD_NEW_ISSUE:{name:"Board - New Issue",shortcuts:"n i",extensionShortcuts:["c","n i"]},BOARD_FULL_SCREEN:{name:"Board - Fullscreen",shortcuts:["shift+f","shift f"]},BOARD_FILTER_REPO:{name:"Board - Filter Repo",shortcuts:"b p"},BOARD_FILTER_LABELS:{name:"Board - Filter Labels",shortcuts:"b l"},BOARD_FILTER_ESTIMATES:{name:"Board - Filter Estimates",shortcuts:"b e"},BOARD_FILTER_MILESTONES:{name:"Board - Filter Milestones",shortcuts:"b m"},BOARD_FILTER_ASSIGNEES:{name:"Board - Filter Assignees",shortcuts:"b a"},BOARD_FILTER_AUTHORS:{name:"Board - Filter Authors",shortcuts:"b t"},BOARD_FILTER_EPICS:{name:"Board - Filter Epics",shortcuts:"b k"},BOARD_FILTER_RELEASES:{name:"Board - Filter Releases",shortcuts:"b r"},BOARD_FILTER_SPRINTS:{name:"Board - Filter Sprints",shortcuts:"b s"},BOARD_OPEN_INSIGHTS:{name:"Board - Open Insights Flyover",shortcuts:"b i"},MULTI_SELECT_PIPELINE:{name:"Multi Select - Pipeline",shortcuts:"b p"},MULTI_SELECT_LABEL:{name:"Multi Select - Label",shortcuts:"b l"},MULTI_SELECT_ASSIGNEE:{name:"Multi Select - Assignee",shortcuts:"b a"},MULTI_SELECT_MILESTONE:{name:"Multi Select - Milestone",shortcuts:"b m"},MULTI_SELECT_ESTIMATE:{name:"Multi Select - Estimate",shortcuts:"b e"},MULTI_SELECT_EPIC:{name:"Multi Select - Epic",shortcuts:"b k"},MULTI_SELECT_RELEASE:{name:"Multi Select - Release",shortcuts:"b r"},REPORTS_FILTER_LABELS:{name:"Reports - Filter Labels",shortcuts:"b l"},GLOBAL_ESC:{name:"Global - Esc",shortcuts:"esc"}},{shortcutsConstants:g8}=N;function f8(e){r6("Shortcuts",{Action:"Shortcut Used",Shortcut:e})}const _8=new(J().Model.extend({__name__:"KeyboardHelper",EVENT_BOARD_TOGGLE:"keyboard:boardToggle",EVENT_BURNDOWN_OPEN:"keyboard:openBurndown",EVENT_CUMULATIVE_OPEN:"keyboard:openCumulative",EVENT_CONTROL_CHART_OPEN:"keyboard:openControlChart",EVENT_RELEASE_OPEN:"keyboard:openRelease",EVENT_VELOCITY_OPEN:"keyboard:openVelocity",EVENT_REPOSWITCHER:"keyboard:reposwitcher",KEY_ENTER:13,KEY_ESC:27,KEY_C:67,initialize(){se("KeyboardHelper.initialize");const e=this;m8(g8.GLOBAL_BOARD.shortcuts,e._openBoard.bind(e)),m8(g8.GLOBAL_BURNDOWN.shortcuts,e._openBurndown.bind(e)),m8(g8.GLOBAL_CUMULATIVE.shortcuts,e.openCumulative.bind(e)),m8(g8.GLOBAL_CONTROL_CHART.shortcuts,e.openControlChart.bind(e)),m8(g8.GLOBAL_VELOCITY.shortcuts,e._openVelocity.bind(e)),m8(g8.GLOBAL_RELEASE.shortcuts,e._openRelease.bind(e)),m8(g8.GLOBAL_REPO_SELECTOR.shortcuts,e._toggleRepoSwitcher.bind(e),null,!0)},_openBoard(){this.trigger(this.EVENT_BOARD_TOGGLE),f8(g8.GLOBAL_BOARD.name)},_openBurndown(){this.trigger(this.EVENT_BURNDOWN_OPEN),f8(g8.GLOBAL_BURNDOWN.name)},openCumulative(){this.trigger(this.EVENT_CUMULATIVE_OPEN),f8(g8.GLOBAL_CUMULATIVE.name)},openControlChart(){this.trigger(this.EVENT_CONTROL_CHART_OPEN),f8(g8.GLOBAL_CONTROL_CHART.name)},_openVelocity(){this.trigger(this.EVENT_VELOCITY_OPEN),f8(g8.GLOBAL_VELOCITY.name)},_openRelease(){this.trigger(this.EVENT_RELEASE_OPEN),f8(g8.GLOBAL_RELEASE.name)},_toggleRepoSwitcher(){this.trigger(this.EVENT_REPOSWITCHER),f8(g8.GLOBAL_REPO_SELECTOR.name)}}));var v8=n(3028),I8=n.n(v8);const b8={displayPaymentDueMsg(e){const t=I8()({organization:e}),n=window.confirm(t),s=ma.getWebappSettingsOrgUrl({organization:e});n&&window.open(s)}};var y8=n(89632),S8=n.n(y8);const w8=o8.extend({__name__:"RepoSwitcherView",tagName:"span",className:"zh-repo-switcher zh-select-menu js-menu-container js-select-menu",events:{"keyup .zh-select-menu-modal-holder":"_handleKeyUp","keydown .zh-select-menu-modal-holder":"_handleKeyDown","click .zh-repo-switcher-btn.disabled":"_handleClickDisabled","click .zh-repo-switcher-btn":"_handleClick","click .zh-repo-switcher-close":"_closeWithXIcon","mouseover .zh-repo-switcher-btn":"_handleMouseOverWithDelay","mouseleave .zh-repo-switcher-btn":"_handleMouseLeave"},initialize(){se("RepoSwitcherView.initialize"),this.isEnabled=!0,this.queryString="",this.isMouseEntered=!1,this.listenTo(_8,_8.EVENT_REPOSWITCHER,this._openOrCloseViaShortcut);const e=this;this.model.streams.repos$.map((()=>(e.render(),null)))},render(){se("RepoSwitcherView.render"),this.$el&&(this.$el.html(S8()({repositories:this._getReposToRender(),isEnabled:this.isEnabled})),this.$el.hasClass("active")?this._createBodyListener():this._destroyBodyListener(),this._restoreFilterValue(),this._focusFilterIfDropdownVisible())},_createBodyListener(){ls()("body").on("click.repoSwitcher",this._onClickBody.bind(this)),ls()("body").on("keydown.repoSwitcher",this._onKeyUpBody.bind(this))},_destroyBodyListener(){ls()("body").off("click.repoSwitcher"),ls()("body").off("keydown.repoSwitcher")},_onClickBody(e){if(se("RepoSwitcherView._onClickBody"),!this.$el)return;const t=this.$el.find(".zh-select-menu-modal");t.is(e.target)||ls().contains(t.get(0),e.target)||this.$el.removeClass("active")},_onKeyUpBody(e){e.which===_8.KEY_ESC&&(this.$el.removeClass("active"),e.stopPropagation())},_openOrCloseViaShortcut(){se("RepoSwitcherView._openOrCloseViaShortcut"),this.$el.find(".zh-repo-switcher-btn").get(0).click()},_closeWithXIcon(){this.$el.removeClass("active")},_handleKeyUp(e){se("=> RepoSwitcherView._handleKeyUp",e.keyCode),e.keyCode!==_8.KEY_ENTER&&(this.queryString=this.$("#zh-repo-switcher-filter").val())},_handleKeyDown(e){if(se("=> RepoSwitcherView._handleKeyDown",e.keyCode),e.keyCode===_8.KEY_ESC&&(this.queryString=""),e.keyCode===_8.KEY_ENTER){this._trackRepoSwitcherClicked();const e=this.$(".navigation-focus").attr("href");e&&(window.location=e)}},_handleClick:i8.tryOrContinue((function(e){se("=> RepoSwitcherView._handleClick"),this._trackRepoSwitcherClicked(),this.$el.toggleClass("active"),this.$el.hasClass("active")&&this.model.action.FetchRepos(),e.stopPropagation()})),_handleClickDisabled(e){se("=> RepoSwitcherView._handleClickDisabled");const t=zx.get("organization");b8.displayPaymentDueMsg(t),e.stopPropagation()},_handleMouseOverWithDelay(){this.isMouseEntered=!0;const e=this;setTimeout((()=>{e.isMouseEntered&&e._handleMouseOver()}),2500)},_handleMouseOver(){se("=> RepoSwitcherView._handleMouseOver"),ls()(".zh-repo-switcher-tooltip").css("visibility","visible")},_handleMouseLeave(){se("=> RepoSwitcherView._handleMouseLeave"),ls()(".zh-repo-switcher-tooltip").css("visibility","hidden"),this.isMouseEntered=!1},_trackRepoSwitcherClicked(){r6("Switch Repo Clicked",{}),Q3({"Switch Repo Clicked":1})},_restoreFilterValue(){const e=this._getFilterInput();e&&e.val(this.queryString)},_focusFilterIfDropdownVisible(){const e=this._getFilterInput();e&&e.is(":visible")&&e.focus()},_getFilterInput(){return this.$el?this.$el.find("#zh-repo-switcher-filter"):null},_getReposToRender(){if(!this.isEnabled)return[];const e=this.model.streams.repos$()||[];return this._rejectReposWithNoPull(e)},_rejectReposWithNoPull:ee.d1t((e=>{const{permissions:t}=e;return!t||!t.pull})),disable(){se("RepoSwitcherView.disable"),this.isEnabled=!1,this.render()}}),R8=w8,T8={readOwner:()=>zx.get("organization"),readCurrentRepoId:()=>r4.pages.repo.findRepoId(),readMyUserName:()=>r4.pages.github.findUserMeta().ghUsername},C8=j.ZP.partial(((e,t)=>j.ZP.filter(t,(t=>t.owner.login===e))))(T8.readOwner()),k8={isOwnerAnOrg:e=>lS({organization:e}),fetchMyRepos:$2,fetchOrgRepos:e=>aS({organization:e}),fetchUserPublicRepos:e=>V2({username:e}),fetchUserPrivateRepos:()=>V2({visibility:"private",affiliation:"collaborator"}).then(C8),fetchConnectedReposByRepoId(e){return(t={repo_id:e},os.Repo.getConnectedReposByRepoId(t)).then((e=>e.repos));var t},fetchUserRepos:e=>Qe().all([k8.fetchUserPublicRepos(e),k8.fetchUserPrivateRepos(e)]).then((e=>ee.zoF(e[0],e[1])))},O8=e=>(e=>e===T8.readMyUserName())(e)?k8.fetchMyRepos():k8.isOwnerAnOrg(e).then((t=>t?k8.fetchOrgRepos(e):k8.fetchUserRepos(e))),N8=(P8=T8.readCurrentRepoId(),e=>e.sort((function(e,t){return j.ZP.contains([e.id,t.id],P8)?e.id===P8?-1:1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1})));var P8;const A8=(()=>{const e=ut().stream(),t=ut().stream(),n=j.ZP.once((()=>{const t=T8.readOwner();return O8(t).then(N8).then(e)})),s=e=>(t(e),e),r=j.ZP.once((e=>k8.fetchConnectedReposByRepoId(e).then((function(e){return j.ZP.map(e,(e=>({id:e.repo_id,name:e.cached_repo_name,owner:{login:e.cached_repo_owner}})))})).then(s))),i=ut().combine((()=>{const n=j.ZP.indexBy(t(),"id");return j.ZP.reject(e(),(e=>n[e.id]))}),[e,t]);return{action:{FetchRepos:n,FetchConnectedReposByRepoId:r},streams:{repos$:e,connectedRepos$:t,unconnectedRepos$:i}}})();function D8(){return D8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},D8.apply(this,arguments)}const L8=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--thin-arrow",t].filter(Boolean).join(" "),"aria-label":"thin-arrow",role:"img",...n};return Ye.createElement("svg",D8({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"thin-arrow_svg__a",d:"M6.826 3.538a.667.667 0 01-.003.943L3.9 7.333h10.767a.667.667 0 010 1.334H3.91l2.912 2.857a.667.667 0 11-.94.946l-4.55-4.478 4.55-4.457a.667.667 0 01.943.003z"}),Ye.createElement("mask",{id:"thin-arrow_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#thin-arrow_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(-90 8 8)"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#thin-arrow_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#thin-arrow_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))},z8=e=>{let{style:t={},className:n=""}=e;const s=(0,_I.default)("zhc-highlight-arrow zhc-highlight-arrow__arrow-top",n);return Ye.createElement("div",{style:t,className:s},Ye.createElement(L8,{className:"zhc-highlight-arrow__arrow-icon"}))},M8=e=>{let{anchorElement:t}=e;return Ye.createElement(h4,{anchorElement:t,placement:"top",flipEnabled:!1},Ye.createElement(z8,null))};function x8(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const F8="ZhRepoPageOnboardingSeen",U8="repo_features";let B8=null;const q8=()=>{let e=document.querySelector(".zhc-tab-highlight-arrow");e||(e=document.createElement("div"),e.className="zhc-tab-highlight-arrow",document.body.appendChild(e)),r4.onboarding.highlightZenHubFeatures();const t=document.querySelector(".zh-topbar-item.zh-onboarding-highlighted");if(t){const n=[t,document.querySelector(".zh-repo-header-container"),document.querySelector(".zh-app")];n.forEach((e=>{e&&((e,t,n)=>{const s=()=>{r4.onboarding.unhighlightZenHubFeatures(),B8?.unmount(),n.forEach((e=>{e&&e.removeEventListener("click",s)}))};e?.addEventListener("click",s,{once:!0})})(e,0,n)}));const s=Ye.createElement(M8,{anchorElement:t});B8=bI.createRoot(e),B8.render(s),(()=>{const e=ct.isAuthed();r6("Tutorials Onboarding",{Event:"Extension Tab Highlight Shown",isAuthenticated:e}),e&&bj(U8,!0),z.Storage.sync.set({[F8]:!0})})()}},H8=function(){var e,t=(e=function*(){return Dx.findTopbar()?ct.isAuthed()&&(yield Ij(U8))?(z.Storage.sync.set({[F8]:!0}),null):z.Storage.sync.get([F8],(e=>{const t=e?.ZhRepoPageOnboardingSeen;return t?null:q8()})):null},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){x8(i,s,r,o,a,"next",e)}function a(e){x8(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),W8=H8;var j8=n(32898),G8=n.n(j8);function K8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{[e]:t}=G8()(Rh);return yh[t]}var V8=n(72892),$8=n(69635),Z8=n(86039),Y8=n(35720);function J8(e){return ee.zGw(e,ee.yAE(!1))}const X8=ee.ETc(["paywall","access"]),Q8=(ee.ETc(["paywall","access","isOrganization"]),ee.ETc(["paywall","access","isPublicRepo"]),J8(ee.ETc(["paywall","access","require_seat"])),J8(ee.ETc(["paywall","access","hasActiveLicenseRequest"]))),eee=(J8(ee.ETc(["paywall","access","isManagedSubscription"])),J8(ee.ETc(["paywall","access","hasPaidPlan"])),J8(ee.ETc(["paywall","access","hasSubscription"])),J8(ee.ETc(["paywall","access","isSeated"])),ee.ETc(["paywall","access","planName"]),ee.ETc(["paywall","access","status"]),ee.ETc(["paywall","access","trialEnd"])),tee=ee.ETc(["paywall","access","orgGHId"]),nee=ee.ETc(["paywall","access","orgGHName"]),see=(ee.ETc(["paywall","access","unseatedAt"]),ee.ETc(["paywall","access","userCount"])),ree=ee.ETc(["paywall","adminList"]),iee=ee.ETc(["paywall","hasJustRequestedLicense"]),oee=(0,pa.P1)(nee,(e=>function(e){return F?ma.getWebappSettingsOrgUrl({organization:e}):ma.getSettingsOrgPath({organization:e})}(e))),aee=(0,pa.P1)(eee,(e=>e?RR(e):null)),lee=(0,pa.P1)(X8,aee,((e,t)=>{if(ee.kKJ(e)||ee.kKJ(t))return!1;return bR(e)===IR.TRIALING_WITH_FREE_PLAN&&t<=5})),cee=(0,pa.P1)(X8,(e=>Boolean(e&&bR(e)===IR.SEATED_BUT_UNPAID))),dee=(0,pa.P1)(X8,(e=>{if(!e)return null;const t=bR(e);return t===IR.FREE_PLAN_0_SEATS?r_:t===IR.NOT_SEATED?e.hasPaidPlan?i_:s_:null})),uee=ee.ETc(["sidebar","display","activeDropdown"]),pee=ee.WAo(((e,t)=>uee(t)===e)),mee=ee.WAo(((e,t)=>uee(t)!==pl)),hee=ee.ETc(["sidebar","display","isOpen"]),Eee=ee.ETc(["sidebar","display","isCollapsed"]),gee=()=>{L.Z.isEnterprise&&i4()};function fee(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const _ee=()=>function(){var e,t=(e=function*(e){try{const t=yield H2(),{flags:n,user:s,enterpriseSeat:r}=t;e(UR.setFlags(n)),e(rH({...s.zh,enterpriseSeat:r})),(e=>{Ke.e((t=>t.setUser(e)))})({...s.zh?.github,id:s.zh?.id,ghId:s.zh?.github?.id})}catch(t){if("auth:error:not_authed"===t)return void oe("userActions.loadUserInfo not_authed");if(401===t.status)return void oe("userActions.loadUserInfo failed - Unauthorized");oe("userActions.loadUserInfo failed - generic error",t),e(iH(!0))}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){fee(i,s,r,o,a,"next",e)}function a(e){fee(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),vee=e=>{ut().on((()=>{(e=>{ct.isAuthed()&&!ct.isAuthedWithAuth0()?e(_ee()):e(rH(null))})(e)}),ct.authChange$)},Iee=e=>{let{children:t}=e;const n=(0,_I.default)("zhc-error-page-wrapper",{"zhc-error-page-wrapper--extension":PI});return Ye.createElement("div",{className:n},Ye.createElement("div",{className:"zhc-error-page"},t))};Iee.propTypes={children:SI().node};const bee=e=>{let{title:t,description:n,children:s}=e;return Ye.createElement("div",{className:"zhc-error-page__header"},Ye.createElement("div",{className:"zhc-error-page__header__title"},ee.kKJ(t)?null:t),Ye.createElement("div",{className:"zhc-error-page__header__description"},ee.kKJ(n)?null:n),ee.kKJ(s)?null:s)};bee.propTypes={children:SI().node,description:SI().string,title:SI().string};const yee=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-error-page__body"},t)};yee.propTypes={children:SI().node};const See="IPN3xg7Z0NziAfDqKr7I";const wee=ee.qCK(ee.v_p("&"),ee.VO0,ee.IDH((function(e,t){return`${t}=${e}`})),ee.IDH(encodeURIComponent));function Ree(e,t){let n=`mailto:${e}`;return t&&(n+=`?${wee(t)}`),n}class Tee extends Ye.PureComponent{constructor(e){super(e),this._handleClick=this._handleClick.bind(this)}_handleClick(e){e.preventDefault();const{email:t,headers:n}=this.props;window.location.href=Ree(t,n)}render(){const{addClasses:e,children:t,email:n,headers:s,obfuscate:r,openInNewTab:i}=this.props,o=(0,_I.default)([See],e),a=i?"_blank":"";if(r)return Ye.createElement("a",{className:o,href:"mailto:obfuscated",onClick:this._handleClick,target:a},t);const l=Ree(n,s);return Ye.createElement("a",{href:l,"data-cy":"contact-us",className:o,target:a},t)}}Tee.propTypes={children:SI().node.isRequired,addClasses:SI().string,email:SI().string,headers:SI().shape({}),obfuscate:SI().bool,openInNewTab:SI().bool},Tee.defaultProps={email:"support@zenhub.com",obfuscate:!1,openInNewTab:!0};const Cee=Tee,kee=Cee,Oee="https://help.zenhub.com/support/solutions/articles/43000010363",Nee=Ye.createElement("div",null,Ye.createElement("p",null,"This may be because you are disconnected from the internet, have firewall settings preventing ZenHub from loading, or we aren\u2019t able to establish a connection."),Ye.createElement("p",null,x?Ye.createElement(Ye.Fragment,null,"Review our\xa0"):Ye.createElement(Ye.Fragment,null,"Check out our\xa0",Ye.createElement("a",{href:"https://twitter.com/ZenHubStatus",target:"_blank",rel:"noopener noreferrer"},"Twitter feed\xa0"),"for live status updates, try our\xa0"),Ye.createElement("a",{className:"zhc-user-load-failed__troubleshoot-guide-link",href:Oee,target:"_blank",rel:"noopener noreferrer"},"troubleshooting guide")," ","or\xa0",Ye.createElement(kee,{email:"support@zenhub.com",headers:{subject:"ZenHub cannot be loaded"},openInNewTab:!0},"contact support")," ","to get back on track.")),Pee=Ye.createElement("div",{className:"zhc-user-load-failed__links"},Ye.createElement("a",{className:"zhc-btn zhc-btn--default",href:Oee,target:"_blank",rel:"noopener noreferrer"},"Troubleshoot")),Aee=()=>Ye.createElement("div",{className:"zhc-user-load-failed"},Ye.createElement(Iee,null,Ye.createElement(bee,{title:"ZenHub cannot be loaded",description:Nee}),Ye.createElement(yee,null,Pee))),Dee=n.p+"../../img/built/generic-wormhole.svg",Lee=()=>{window.open("https://www.youtube.com/channel/UCyrIYNEXdQXhwF6a1pVsJiQ")},zee=e=>{let{onRequest:t}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement("h1",null,"You need a ZenHub license to access this Workspace"),Ye.createElement("h3",null,"Contact your admins to request a license"),Ye.createElement(H5,{ariaLabel:"Request a license",onClick:t,color:L5.ACTION},"Request a license"))},Mee=()=>Ye.createElement(Ye.Fragment,null,Ye.createElement("h1",null,"Your admin has been notified"),Ye.createElement("h3",null,"In the meantime, check out our getting started tutorials."),Ye.createElement(H5,{ariaLabel:"Start exploring",onClick:Lee,color:L5.ACTION},"Start exploring")),xee=()=>Ye.createElement(Ye.Fragment,null,Ye.createElement("h1",null,"Hmm... Looks like you've already requested a license"),Ye.createElement("h3",null,"Please wait for your admin to approve your request. In the meantime,",Ye.createElement("br",null),"check out our getting started tutorials."),Ye.createElement(H5,{ariaLabel:"Start exploring",onClick:Lee,color:L5.ACTION},"Start exploring")),Fee=()=>{const e=B4(),t=(0,l3.v9)(Tu),[n,s]=q4();let r=n?Ye.createElement(Mee,null):Ye.createElement(zee,{onRequest:()=>{e(),s(!0)}});return t&&(r=Ye.createElement(xee,null)),Ye.createElement("div",{className:"zhc-no-access-container"},Ye.createElement("div",{className:"zhc-no-access-container__icon-container"},Ye.createElement(t7,{src:Dee})),r)},Uee=e=>{let{isPlatformUser:t}=e;return Ye.createElement("div",{className:"zhc-workspace-auth-failed"},Ye.createElement(Iee,null,Ye.createElement(bee,{title:t?"Your token has expired":"Your GitHub token has expired"}),Ye.createElement(yee,null,Ye.createElement("p",null,"Please sign in to continue"),Ye.createElement("p",null,"Need some assistance? Contact\xa0",Ye.createElement(kee,{email:"support@zenhub.com",headers:{subject:"Tokens have expired"},openInNewTab:!0},"support@zenhub.com"),"\xa0and let us know how we can help"),Ye.createElement("div",null,Ye.createElement(H5,{color:L5.PRIMARY,onClick:()=>(e=>{if(e){const e=localStorage.getItem("zhUserSettings_userType");if("LiteUser"===e)return void ct.eraseTokensFromStorage();if("GithubUser"===e||"GHConnectedUser"===e)return void ct.doAuthWebapp()}ct.eraseTokensFromStorage(),ct.doAuth()})(t),ariaLabel:"sign in"},"Sign in again")))))};class Bee extends Ye.PureComponent{constructor(e){super(e),this.updateIsUnathorized=e=>{const{isUnauthorized:t}=this.state;t&&!e?window.location.reload():this.setState({isUnauthorized:e})},this.state={isUnauthorized:tt.getIsUnauthorized()},tt.setSubscriber(this.updateIsUnathorized)}componentDidMount(){const{syncUserInfoWithAuthState:e}=this.props;e()}componentWillUnmount(){tt.removeSubscriber()}render(){const{children:e,error:t,userName:n,hasEnterpriseSeat:s}=this.props,{isUnauthorized:r}=this.state;return t?Ye.createElement("div",{className:"zh-user-load-failed-container"},Ye.createElement(Aee,null)):r?Ye.createElement(Uee,null):x&&!s?Ye.createElement(Fee,null):ee.kKJ(n)?null:e}}Bee.propTypes={children:SI().node.isRequired,error:SI().bool.isRequired,hasEnterpriseSeat:SI().bool.isRequired,syncUserInfoWithAuthState:SI().func.isRequired,userName:SI().string},Bee.defaultProps={userName:null};const qee=(0,$8.EN)((0,l3.$j)((function(e){return{error:cu(e),userName:_u(e),hasEnterpriseSeat:Ru(e)}}),(function(e){return{syncUserInfoWithAuthState(){vee(e)}}}))(Bee));function Hee(){return Hee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hee.apply(this,arguments)}const Wee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pipeline",t].filter(Boolean).join(" "),"aria-label":"pipeline",role:"img",...n};return Ye.createElement("svg",Hee({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M3 3h2a2 2 0 012 2v14a2 2 0 01-2 2H3a2 2 0 01-2-2V5a2 2 0 012-2m8 0h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2V5a2 2 0 012-2m8 0h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2V5a2 2 0 012-2"}),Ye.createElement("path",{d:"M3 5v14h2V5H3m0-2h2a2 2 0 012 2v14a2 2 0 01-2 2H3a2 2 0 01-2-2V5a2 2 0 012-2m8 0h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2V5a2 2 0 012-2m0 2v14h2V5h-2m8-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2V5a2 2 0 012-2m0 2v14h2V5h-2",fill:"currentColor",fillRule:"nonzero"})))};function jee(){return jee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jee.apply(this,arguments)}const Gee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--reports",t].filter(Boolean).join(" "),"aria-label":"reports",role:"img",...n};return Ye.createElement("svg",jee({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},s),Ye.createElement("mask",{id:"reports_svg__a",height:12,maskUnits:"userSpaceOnUse",width:16,x:0,y:2},Ye.createElement("path",{clipRule:"evenodd",d:"m13.3333 6c-.0491 0-.0977-.00177-.1459-.00524l-1.1393 2.55902c.3811.36416.6185.87747.6185 1.44622 0 1.1046-.8954 2-2 2-1.10454 0-1.99997-.8954-1.99997-2 0-.15865.01847-.31299.05338-.46098l-2.11989-1.32465c-.34493.28267-.78607.4523-1.26683.4523-.10999 0-.2179-.00888-.32307-.02596l-.97064 1.90499c.3861.3646.62705.8813.62705 1.4543 0 1.1046-.89543 2-2 2s-2.000004-.8954-2.000004-2 .895434-2 2.000004-2c.05102 0 .10161.0019.15167.0057l1.02278-2.00735c-.31582-.35364-.50779-.82024-.50779-1.33168 0-1.10457.89543-2 2-2s2 .89543 2 2c0 .13968-.01432.27602-.04157.40762l2.15079 1.34396c.3383-.26219.76299-.41825 1.22409-.41825.0558 0 .111.00228.1655.00675l1.134-2.547c-.3895-.36492-.6328-.88391-.6328-1.45975 0-1.10457.8954-2 2-2s2 .89543 2 2-.8954 2-2 2zm-10.66667 6.6667c.36819 0 .66666-.2985.66666-.6667s-.29847-.6667-.66666-.6667-.66667.2985-.66667.6667.29848.6667.66667.6667zm11.33337-8.6667c0 .36819-.2985.66667-.6667.66667s-.6667-.29848-.6667-.66667.2985-.66667.6667-.66667.6667.29848.6667.66667zm-3.3334 6.6667c.3682 0 .6667-.2985.6667-.6667 0-.36819-.2985-.66667-.6667-.66667s-.66664.29848-.66664.66667c0 .3682.29844.6667.66664.6667zm-4.66664-4.00003c0 .36819-.29848.66666-.66667.66666s-.66666-.29847-.66666-.66666.29847-.66667.66666-.66667.66667.29848.66667.66667z",fill:"currentColor",fillRule:"evenodd"})),Ye.createElement("path",{clipRule:"evenodd",d:"m13.3333 6c-.0491 0-.0977-.00177-.1459-.00524l-1.1393 2.55902c.3811.36416.6185.87747.6185 1.44622 0 1.1046-.8954 2-2 2-1.10454 0-1.99997-.8954-1.99997-2 0-.15865.01847-.31299.05338-.46098l-2.11989-1.32465c-.34493.28267-.78607.4523-1.26683.4523-.10999 0-.2179-.00888-.32307-.02596l-.97064 1.90499c.3861.3646.62705.8813.62705 1.4543 0 1.1046-.89543 2-2 2s-2.000004-.8954-2.000004-2 .895434-2 2.000004-2c.05102 0 .10161.0019.15167.0057l1.02278-2.00735c-.31582-.35364-.50779-.82024-.50779-1.33168 0-1.10457.89543-2 2-2s2 .89543 2 2c0 .13968-.01432.27602-.04157.40762l2.15079 1.34396c.3383-.26219.76299-.41825 1.22409-.41825.0558 0 .111.00228.1655.00675l1.134-2.547c-.3895-.36492-.6328-.88391-.6328-1.45975 0-1.10457.8954-2 2-2s2 .89543 2 2-.8954 2-2 2zm-10.66667 6.6667c.36819 0 .66666-.2985.66666-.6667s-.29847-.6667-.66666-.6667-.66667.2985-.66667.6667.29848.6667.66667.6667zm11.33337-8.6667c0 .36819-.2985.66667-.6667.66667s-.6667-.29848-.6667-.66667.2985-.66667.6667-.66667.6667.29848.6667.66667zm-3.3334 6.6667c.3682 0 .6667-.2985.6667-.6667 0-.36819-.2985-.66667-.6667-.66667s-.66664.29848-.66664.66667c0 .3682.29844.6667.66664.6667zm-4.66664-4.00003c0 .36819-.29848.66666-.66667.66666s-.66666-.29847-.66666-.66666.29847-.66667.66666-.66667.66667.29848.66667.66667z",fill:"currentColor",fillRule:"evenodd"}),Ye.createElement("g",{mask:"url(#reports_svg__a)"},Ye.createElement("path",{d:"m0 0h16v16h-16z",fill:"currentColor"})))};function Kee(){return Kee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kee.apply(this,arguments)}const Vee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--project",t].filter(Boolean).join(" "),"aria-label":"project",role:"img",...n};return Ye.createElement("svg",Kee({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{d:"M4.667 10.667C5.403 10.667 6 11.264 6 12v1.333c0 .737-.597 1.334-1.333 1.334h-2a1.333 1.333 0 01-1.334-1.334V12c0-.736.597-1.333 1.334-1.333h2zm0 1.333h-2v1.333h2V12zm8.666-6c.737 0 1.334.597 1.334 1.333v1.334c0 .736-.597 1.333-1.334 1.333h-8A1.333 1.333 0 014 8.667V7.333C4 6.597 4.597 6 5.333 6h8zm0 1.333h-8v1.334h8V7.333zM8 1.333c.736 0 1.333.597 1.333 1.334V4c0 .736-.597 1.333-1.333 1.333H2.667A1.333 1.333 0 011.333 4V2.667c0-.737.597-1.334 1.334-1.334H8zm0 1.334H2.667V4H8V2.667z",id:"project_svg__a"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("mask",{id:"project_svg__b",fill:"currentColor"},Ye.createElement("use",{xlinkHref:"#project_svg__a"})),Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#project_svg__a"}),Ye.createElement("g",{mask:"url(#project_svg__b)",fill:"currentColor"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function $ee(){return $ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$ee.apply(this,arguments)}const Zee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--milestone-line",t].filter(Boolean).join(" "),"aria-label":"milestone-line",role:"img",...n};return Ye.createElement("svg",$ee({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},s),Ye.createElement("defs",null,Ye.createElement("path",{d:"M18.837 4c.565 0 1.103.239 1.483.658L23.35 8l-3.03 3.342a2 2 0 01-1.483.658H4a2 2 0 01-2-2v-.036l.035-1.946L2 6.036a1.997 1.997 0 011.964-2.035h14.873m0 2H4l.035 2.02L4 10.003h14.837l1.811-2-1.811-2",id:"milestone-line_svg__a",fill:"currentColor",fillRule:"nonzero"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M18.84 4c.565 0 1.103.239 1.483.658L23.353 8l-3.03 3.342A2 2 0 0118.84 12H4.003a2 2 0 01-2-2v-.036l.035-1.946-.035-1.982a1.997 1.997 0 011.964-2.035H18.84"}),Ye.createElement("path",{d:"M12.997 22a1 1 0 01-2 0V12a1 1 0 012 0v10m0-18a1 1 0 01-2 0V2a1 1 0 012 0v2",fill:"currentColor"}),Ye.createElement("use",{xlinkHref:"#milestone-line_svg__a"})))};function Yee(){return Yee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yee.apply(this,arguments)}const Jee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--notification-sidebar",t].filter(Boolean).join(" "),"aria-label":"notification-sidebar",role:"img",...n};return Ye.createElement("svg",Yee({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.879 16c.08-.303.121-.637.121-1v-5a6 6 0 1112 0v5c0 .363.041.697.121 1H5.879zM20 15v-5a8 8 0 00-16 0v5c0 .781-.219 1-1 1a1 1 0 000 2h18a1 1 0 100-2c-.781 0-1-.219-1-1zm-8 5a2 2 0 01-2-1.978l4-.008A2 2 0 0112 20zm-4-2a4 4 0 008 0H8z",fill:"currentColor"}))};function Xee(){return Xee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xee.apply(this,arguments)}const Qee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--create-sidebar",t].filter(Boolean).join(" "),"aria-label":"create-sidebar",role:"img",...n};return Ye.createElement("svg",Xee({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12c0 6.075 4.925 11 11 11s11-4.925 11-11S18.075 1 12 1 1 5.925 1 12zm20 0a9 9 0 11-18 0 9 9 0 0118 0z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7a1 1 0 00-1 1v3H8a1 1 0 100 2h3v3a1 1 0 102 0v-3h3a1 1 0 100-2h-3V8a1 1 0 00-1-1z",fill:"currentColor"}))};function ete(){return ete=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ete.apply(this,arguments)}const tte=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--edit-sidebar",t].filter(Boolean).join(" "),"aria-label":"edit-sidebar",role:"img",...n};return Ye.createElement("svg",ete({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.252 2.288a9.8 9.8 0 011.713 0c.054.004.162.054.205.219l.434 1.657c.22.84.825 1.45 1.495 1.784.261.129.512.274.752.435.625.417 1.455.634 2.295.405l1.653-.455c.165-.045.263.024.293.07.328.464.615.96.86 1.483.02.046.032.165-.09.285L18.64 9.38c-.617.609-.843 1.435-.795 2.184.018.29.018.582 0 .873-.048.748.178 1.575.795 2.184l1.223 1.21c.12.12.11.238.088.284a9.744 9.744 0 01-.86 1.485c-.03.044-.128.111-.292.068l-1.654-.455c-.839-.23-1.669-.012-2.294.405-.24.16-.49.306-.75.435-.674.333-1.277.942-1.497 1.784l-.434 1.657c-.043.165-.151.215-.205.22a9.92 9.92 0 01-1.713 0c-.054-.005-.162-.056-.206-.22l-.433-1.657c-.22-.84-.825-1.45-1.496-1.784a6.761 6.761 0 01-.751-.435c-.626-.417-1.455-.634-2.295-.405l-1.654.455c-.165.045-.262-.024-.292-.07a9.736 9.736 0 01-.86-1.483c-.02-.046-.033-.165.089-.285l1.222-1.209c.617-.609.844-1.436.796-2.184a6.882 6.882 0 010-.873c.048-.749-.179-1.575-.796-2.184L2.354 8.17c-.12-.12-.11-.238-.089-.284a9.66 9.66 0 01.86-1.485c.03-.044.129-.113.292-.068l1.655.455c.839.23 1.668.012 2.294-.405.24-.16.49-.306.75-.435.673-.333 1.276-.942 1.497-1.784l.433-1.657c.044-.165.152-.215.206-.22zM11.108 0c-.354 0-.705.015-1.051.045C8.942.143 8.122.968 7.87 1.937l-.435 1.659c-.026.099-.117.237-.317.336a8.99 8.99 0 00-1.002.579c-.184.123-.35.135-.45.106l-1.653-.453c-.966-.265-2.088.03-2.73.945A11.966 11.966 0 00.227 6.935C-.246 7.947.06 9.068.77 9.77l1.223 1.21c.075.071.147.22.132.44a9.126 9.126 0 000 1.159c.015.22-.057.368-.132.44L.77 14.23c-.71.703-1.017 1.824-.544 2.836.3.642.654 1.253 1.056 1.827.642.914 1.764 1.21 2.73.945l1.655-.454c.099-.029.264-.017.448.106.32.215.654.408 1.002.58.2.098.291.236.318.335l.434 1.66c.253.968 1.072 1.793 2.187 1.89.7.06 1.403.06 2.103 0 1.114-.097 1.935-.922 2.187-1.89l.435-1.66c.025-.099.117-.237.316-.336a8.831 8.831 0 001.002-.579c.185-.123.35-.135.45-.106l1.653.453c.967.265 2.089-.03 2.73-.945.403-.573.758-1.184 1.057-1.826.472-1.012.166-2.133-.546-2.836l-1.221-1.21c-.075-.072-.147-.22-.132-.44a9.17 9.17 0 000-1.159c-.015-.22.058-.369.132-.44l1.22-1.21c.713-.703 1.02-1.824.547-2.836a11.99 11.99 0 00-1.056-1.827c-.642-.914-1.764-1.21-2.73-.945l-1.655.454c-.099.029-.264.017-.448-.106a8.995 8.995 0 00-1.003-.58c-.2-.098-.29-.236-.318-.335l-.432-1.66C14.093.967 13.274.142 12.16.045 11.81.017 11.46 0 11.108 0zm2.25 12a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm2.25 0a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z",fill:"currentColor"}))},nte=e=>{class t extends Ye.PureComponent{componentDidMount(){const{initOnboarding:e}=this.props;e()}render(){return Ye.createElement(e,this.props)}}return t.propTypes={initOnboarding:SI().func.isRequired},t},ste=nte;function rte(e,t){e.handler(),t(e.shortcutInfo.name)}function ite(e){const{onShortcutsUsed:t,shortcuts:n}=e;ee.Ed_((e=>{m8(e.shortcutInfo.shortcuts,rte.bind(this,e,t),null,e.preventDefault)}),n)}function ote(e){const{shortcuts:t}=e;ee.Ed_((e=>{h8(e.shortcutInfo.shortcuts)}),t)}const ate=function(e){class t extends Ye.PureComponent{componentDidMount(){ite(this.props)}componentDidUpdate(e){ote(e),ite(this.props)}componentWillUnmount(){ote(this.props)}render(){return Ye.createElement(e,this.props)}}const n=SI().shape({name:SI().string.isRequired,shortcuts:SI().oneOfType([SI().string,SI().array]).isRequired});return t.propTypes={shortcuts:SI().arrayOf(SI().shape({handler:SI().func.isRequired,shortcutInfo:n.isRequired})).isRequired,onShortcutsUsed:SI().func.isRequired},t};class lte extends Ye.PureComponent{constructor(e){super(e),this.isAtTopOfScreen=!1,this.ref=null,this.refContainer=null,this.refContainerInner=null,this.sidebarHeight=null,this.getRef=this.getRef.bind(this),this.setHeight=this.setHeight.bind(this),this.toggleSidebar=this.toggleSidebar.bind(this)}componentDidMount(){window.addEventListener("scroll",this.setHeight),window.addEventListener("resize",this.setHeight)}componentDidUpdate(e){const{isFullScreen:t}=this.props;e.isFullScreen&&!t&&requestAnimationFrame(this.setHeight)}componentWillUnmount(){window.removeEventListener("scroll",this.setHeight),window.removeEventListener("resize",this.setHeight),this.refContainer=null,this.refContainerInner=null}getRef(e){this.ref=e,e&&setTimeout(this.setHeight)}setHeight(){if(!this.ref)return;if(this.refContainer=this.refContainer||document.querySelector(".zhc-sidebar__container"),this.refContainerInner=this.refContainerInner||document.querySelector(".zhc-sidebar__container__inner"),!this.refContainer)return;const e=this.ref.getBoundingClientRect().top,t=window.innerHeight,n=Math.min(t-e,t)-1,s=e<=0;this.isAtTopOfScreen!==s&&(this.refContainer.style.position=s?"fixed":"",this.isAtTopOfScreen=s),this.sidebarHeight!==n&&(this.sidebarHeight=n,this.refContainerInner.style.height=`${n}px`,this.ref.style.height=`${n}px`)}toggleSidebar(){const{isOpenMobile:e,toggleOpenState:t}=this.props;e&&(t(),this.setHeight())}render(){const{children:e,isAnyDropdownActive:t,isBoardActive:n,isCollapsed:s,isHovering:r,isOpenMobile:i,isWideScreen:o,onHoverOff:a}=this.props,l=!s&&(o||t),c=(0,_I.default)("zhc-sidebar",{"zhc-sidebar--is-collapsed":s,"zhc-sidebar--is-dropdown-open":t,"zhc-sidebar--is-hovered":r,"zhc-sidebar--is-full-width":l,"zhc-sidebar--is-open":i,"zhc-sidebar--is-wide-screen":o,"zhc-sidebar--board-active":n});return Ye.createElement("div",{className:c,"data-cy":"sidebar","data-zh-flyover":"interactive",onClick:this.toggleSidebar,onMouseLeave:a,ref:this.getRef},Ye.createElement("div",{className:"zhc-sidebar__overlay"}),Ye.createElement("div",{className:"zhc-sidebar__container"},Ye.createElement("div",{className:"zhc-sidebar__container__inner"},e)))}}const cte=ee.qCK(ate,ste)(lte);function dte(){return dte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dte.apply(this,arguments)}const ute=e=>{const t=Ye.forwardRef(((t,n)=>{const{isItemActive:s,onClickItem:r,rootClass:i,isSecondaryActiveLink:o,className:a}=t,l=(0,_I.default)(i,{[`${i}--is-active`]:s,[`${i}--is-secondary-active`]:o,[a]:""!==a});return Ye.createElement("div",{className:l,"data-cy":"sidebar-item",onClick:r},Ye.createElement(e,dte({},t,{ref:n})))}));return t.propTypes={className:SI().string,isItemActive:SI().bool,isSecondaryActiveLink:SI().bool,rootClass:SI().string,onClickItem:SI().func},t.defaultProps={isItemActive:!1,isSecondaryActiveLink:!1,rootClass:"zhc-sidebar-nav-item",className:"",onClickItem:_t.ZT},t};var pte=n(4289);function mte(){return mte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mte.apply(this,arguments)}const hte=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--chevron-up",t].filter(Boolean).join(" "),"aria-label":"chevron-up",role:"img",...n};return Ye.createElement("svg",mte({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M5 8.5l3-3 3 3",stroke:"currentColor",strokeWidth:1.4,fill:"none",strokeLinecap:"round"}))};function Ete(){return Ete=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ete.apply(this,arguments)}const gte=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--chevron-down",t].filter(Boolean).join(" "),"aria-label":"chevron-down",role:"img",...n};return Ye.createElement("svg",Ete({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M5 7l3 3 3-3",stroke:"currentColor",strokeWidth:1.4,fill:"none",strokeLinecap:"round"}))};function fte(){return fte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fte.apply(this,arguments)}const _te=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--gear",t].filter(Boolean).join(" "),"aria-label":"gear",role:"img",...n};return Ye.createElement("svg",fte({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"gear_svg__a",d:"M7.501 1.525a6.6 6.6 0 011.142 0c.036.003.108.036.137.146l.29 1.105c.146.56.55.967.996 1.19.174.085.341.182.501.29.417.277.97.422 1.53.27l1.102-.304c.11-.03.175.016.195.046.22.31.41.641.573.99.014.03.022.11-.059.19l-.815.805c-.41.406-.562.957-.53 1.456.013.194.013.388 0 .582-.032.5.12 1.05.53 1.456l.815.806c.08.08.073.16.06.19a6.494 6.494 0 01-.574.99c-.02.03-.086.074-.195.045l-1.103-.303c-.559-.153-1.112-.008-1.529.27-.16.107-.327.204-.5.29-.449.222-.85.628-.998 1.19L8.78 14.33c-.029.11-.1.143-.137.146-.38.032-.762.032-1.142 0-.036-.003-.108-.037-.137-.146l-.289-1.106c-.147-.56-.55-.967-.997-1.189a4.502 4.502 0 01-.5-.29c-.418-.278-.97-.423-1.531-.27l-1.102.303c-.11.03-.175-.016-.195-.046a6.492 6.492 0 01-.573-.989c-.014-.03-.022-.11.059-.19l.815-.806c.411-.406.562-.957.53-1.456a4.587 4.587 0 010-.582c.032-.499-.119-1.05-.53-1.456l-.815-.806c-.08-.08-.073-.159-.059-.19a6.44 6.44 0 01.573-.99c.02-.029.086-.075.195-.045l1.103.303c.56.153 1.112.008 1.53-.27.16-.107.326-.204.5-.29.448-.222.85-.628.997-1.189l.29-1.105c.028-.11.1-.143.136-.146zM8.072 0c-.236 0-.47.01-.7.03-.744.065-1.29.615-1.459 1.261l-.29 1.106c-.017.066-.078.158-.21.224a5.835 5.835 0 00-.669.386c-.123.082-.233.09-.3.071l-1.102-.302c-.644-.177-1.392.02-1.82.63-.27.384-.506.792-.704 1.217-.315.675-.111 1.422.363 1.891l.815.806c.05.048.098.147.088.294a6.084 6.084 0 000 .772c.01.147-.038.246-.088.294l-.815.806c-.474.47-.678 1.216-.363 1.891.2.428.436.835.704 1.218.428.61 1.176.806 1.82.63l1.103-.303c.066-.019.176-.01.3.071.212.143.435.272.667.386.133.066.194.158.212.224l.29 1.107c.168.646.714 1.196 1.457 1.26.467.04.936.04 1.402 0 .743-.064 1.29-.614 1.458-1.26l.29-1.107c.017-.066.078-.158.211-.224a5.98 5.98 0 00.668-.386c.123-.082.233-.09.3-.07l1.102.301c.644.177 1.392-.02 1.82-.63.268-.382.505-.789.704-1.217.315-.675.111-1.422-.364-1.89l-.814-.807c-.05-.048-.098-.147-.088-.294a6.1 6.1 0 000-.772c-.01-.147.04-.246.088-.294l.814-.806c.475-.469.68-1.216.364-1.89a7.992 7.992 0 00-.704-1.219c-.428-.609-1.176-.806-1.82-.63l-1.103.303c-.066.02-.176.011-.299-.07a5.991 5.991 0 00-.668-.387c-.133-.066-.194-.158-.212-.224l-.288-1.107C10.062.645 9.516.095 8.773.031a8.094 8.094 0 00-.7-.031zm1.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm1.5 0a3 3 0 11-6 0 3 3 0 016 0z"}),Ye.createElement("mask",{id:"gear_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#gear_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",xlinkHref:"#gear_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#gear_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};var vte=n(31542);const Ite="qIOzuJrFmMXxm1KpLqxt",bte=e=>{let{text:t}=e;return t?Ye.createElement("span",{"data-testid":"zhc-highlighter",className:Ite},`${t}:`):null},yte="HRaEam0teULkOuAvmyFr",Ste="NZhVNLhXsvW765F6u6hl",wte=e=>{let{searchText:t,suggestion:n}=e;if(!t||!n)return null;const s=`${n}:`.replace(t.toLocaleLowerCase(),"");return Ye.createElement("div",{"data-testid":"zhc-preview"},Ye.createElement("span",{className:yte},t),Ye.createElement("span",{className:Ste},s))},Rte=ee.WAo(((e,t)=>ee.t$q(t).startsWith(ee.t$q(e))));class Tte extends Ye.Component{constructor(e){super(e),this.focusInput=()=>{this.input.focus()},this.state={value:e.text||""},this._handleKey=this._handleKey.bind(this),this._onChange=this._onChange.bind(this),this._getLastModifier=this._getLastModifier.bind(this),this._onFilterChanged=this._onFilterChanged.bind(this)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.focusInput()}clearSearch(){this.setState({value:""},this._onFilterChanged)}_handleKey(e){switch(e.key){case"Tab":{const t=this._getClosestSuggestion();(0,_t.KN)(t)||(e.preventDefault(),this.setState({value:`${t}:`},this._onFilterChanged));break}}}_getSearchValue(){const{value:e}=this.state,t=ee.Vl2(":",e),n=t.length>1?ee.Z$Q(t):t[0];return{negated:ee.r3W("not",t),filterKey:n}}_onChange(e){this.setState({value:e.target.value},this._onFilterChanged)}_onFilterChanged(){const{onFilterChange:e}=this.props;e(this._getSearchValue())}_getLastModifier(){const{value:e}=this.state;if((0,_t.KN)(e)||!ee.Bul(/^not/,e))return null;const t=ee.Vl2(":",e);return 1===t.length?null:ee.Z$Q(ee.qnb(t.length-1,t))}_getClosestSuggestion(){const{value:e}=this.state;if((0,_t.KN)(e)||ee.xbD((0,_t.yv)(e)))return null;const{suggestedModifiers:t}=this.props,n=ee.sEJ(Rte(e),t);return(0,_t.KN)(n)?null:n}render(){const{defaultText:e,inputClass:t,allowNegatedSearch:n,searchIcon:s,autoFocus:r,isDisabled:i}=this.props,{value:o}=this.state,a=(0,_I.default)("zhc-search__input",{[t]:!ee.kKJ(t),"zhc-search--disabled":i}),l=n?Ye.createElement(bte,{text:this._getLastModifier()}):null;return Ye.createElement("div",{className:(0,_I.default)("zhc-search",{"zhc-search--with-icon":Boolean(s)}),onMouseEnter:this.focusInput},s,Ye.createElement("input",{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",autoFocus:r,"data-cy":"search",spellCheck:"false",ref:e=>{this.input=e},value:o,type:"text",placeholder:e,className:a,onChange:this._onChange,onKeyDown:this._handleKey,disabled:i}),Ye.createElement("div",{className:"zhc-search__display"},l,Ye.createElement(wte,{searchText:o,suggestion:this._getClosestSuggestion()})))}}Tte.defaultProps={autoFocus:!1,focusOnMount:!1,searchIcon:null,allowNegatedSearch:!1,isDisabled:!1},Tte.propTypes={allowNegatedSearch:SI().bool,autoFocus:SI().bool,defaultText:SI().string,focusOnMount:SI().bool,inputClass:SI().string,isDisabled:SI().bool,searchIcon:SI().element,suggestedModifiers:SI().arrayOf(SI().string),text:SI().string,onFilterChange:SI().func};const Cte=Tte,kte={LEFT:"LEFT",RIGHT:"RIGHT",TOP:"TOP",STATIC:"STATIC"},Ote={ITEMS_UNDERLINED:"items-underlined",FULL_SCREEN:"full-screen"};function Nte(){return Nte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nte.apply(this,arguments)}const Pte=ee.uF6(["props","isFilterable"],!0),Ate=ee.uF6(["props","isHoverable"],!0),Dte=e=>{class t extends Ye.Component{constructor(e){super(e),this.childRef=(0,Ye.createRef)()}shouldComponentUpdate(e){const t=Object.keys(this.props).filter((e=>"onMouseEnter"!==e)).some((t=>e[t]!==this.props[t]));return t}handleSelectionListEnterKey(){this.childRef.current.handleSelectionListEnterKey()}render(){const{isActive:t,onMouseEnter:n,filterKey:s,isDisabled:r}=this.props,i=(0,_I.default)("zhc-selection-item",{"zhc-selection-item--is-active":t,"zhc-selection-item--is-disabled":r});return Ye.createElement("div",{key:s,className:i,"data-cy":"selection-item",onMouseEnter:n},Ye.createElement(e,Nte({ref:this.childRef},this.props)))}}return t.defaultProps={isActive:!1,isDisabled:!1,isFilterable:!0,isHoverable:!0},t.propTypes={filterKey:SI().any,isActive:SI().bool,isDisabled:SI().bool,isFilterable:SI().bool,isHoverable:SI().bool,onMouseEnter:SI().func},t};class Lte extends Ye.PureComponent{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleSelectionListEnterKey(){const{onClick:e}=this.props;e()}handleClick(e){const{onClick:t,isDisabled:n}=this.props;return n?null:t(e)}render(){const{name:e,isDisabled:t}=this.props,n=(0,_I.default)("zhc-remove-filter-item",{"zhc-remove-filter-item--is-disabled":t});return Ye.createElement("div",{className:n,"data-cy":"show-repo","data-testid":"show-repo",onClick:this.handleClick},Ye.createElement("span",{className:"zhc-remove-filter-item__text"},e))}}Lte.defaultProps={isDisabled:!1,name:"Clear filter"};const zte=Lte,Mte=e=>{let{text:t,primaryText:n}=e;return n?Ye.createElement("div",{className:"zhc-multi-action-placeholder__content"},Ye.createElement("div",{className:"zhc-multi-action-placeholder__primary-text"},n),Ye.createElement("div",{className:"zhc-multi-action-placeholder__text"},t)):Ye.createElement("div",null,t)},xte=e=>{let{iconComponent:t,primaryText:n,text:s}=e;return Ye.createElement("div",{className:"zhc-multi-action-placeholder","data-cy":"multi-action-placeholder","data-testid":"multi-action-placeholder"},t,Ye.createElement(Mte,{primaryText:n,text:s}))},Fte=xte,Ute=kte.RIGHT,Bte=Ye.createElement(Fte,{text:"Loading..."}),qte=e=>Ye.createElement("div",{className:"zhc-sidebar-selector__content"},e),Hte=e=>Ye.createElement(Fte,{text:e,key:"@@defaultDropdownElement"});function Wte(e){const t=e.offsetParent,n=e.offsetTop;t.scrollTop>n&&(t.scrollTop=n)}function jte(e){const t=e.offsetParent,n=e.offsetTop,s=e.offsetHeight,r=t.offsetHeight;t.scrollTop+r<n+s&&(t.scrollTop=Math.abs(r-n-s))}function Gte(e,t){if(!e)return;e.getBoundingClientRect().bottom>t&&e.scrollIntoView(!1)}const Kte=e=>e.preventDefault();class Vte extends Ye.Component{constructor(e){var t;super(e),t=this,this.handleKey=e=>{const{toggleOpen:t,closeOnEsc:n}=this.props,{selectedItemIndex:s}=this.state,r=ee.hXT(Ate,this.filteredChildren);switch(e.key){case"Enter":case"Tab":this.selectCurrentChild(),e.preventDefault();break;case"Escape":n&&(t(),e.nativeEvent.stopImmediatePropagation());break;case"ArrowUp":s>0&&this.setState({selectedItemIndex:s-1},(()=>{const e=this.getHoveredChild();Wte(vte.findDOMNode(e))}));break;case"ArrowDown":s<r.length-1&&this.setState({selectedItemIndex:s+1},(()=>{const e=this.getHoveredChild();jte(vte.findDOMNode(e))}))}},this.onMouseMove=()=>{const{hoveredItemIndex:e,selectedItemIndex:t}=this.state;t!==e&&this.setState({selectedItemIndex:e})},this.setSelectedIndexToHoveredIndex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{hoveredItemIndex:n}=t.state;e!==n&&t.setState({hoveredItemIndex:e})},this.getFilteredChildren=(e,t)=>{const{children:n,isFilterable:s,maxResults:r,onFilterResult:i}=t;if(!s)return n;const o=ee.WAo(this.shouldIncludeChild),a=ee.hXT(o(e),Ye.Children.toArray(n)),l=r?ee.qnb(r,a):a;return i(l.length),l},this.getHoveredChild=()=>{const{selectedItemIndex:e}=this.state;return this.refs[`item${e}`]},this.filterSelection=e=>{let{filterKey:t="",negated:n}=e;this.setState({filterKey:t,negated:n,selectedItemIndex:0})},this.shouldIncludeChild=(e,t)=>{const{filterableChildProp:n}=this.props;if(!Pte(t))return t;let s=ee.ETc(["props",n],t);return ee.kKJ(s)&&(s=ee.ETc(["props","defaultFilterKey"],t)),!!((e,t)=>t?.toString().toLowerCase().includes(e.toLowerCase()))(e,s)&&t},this.selectCurrentChild=()=>{const{negated:e,selectedItemIndex:t}=this.state,n=Ye.Children.toArray(this.filteredChildren),s=ee.hXT(Ate,n);t>-1&&t<s.length&&this.getHoveredChild()?.handleSelectionListEnterKey({negated:e})},this.renderListItems=()=>{const e=this,t=(e=>{const t=[],n=[];let s=0;for(let r=0;r<e.length;r+=1)Ate(e[r])&&(t[s]=r,n[r]=s,s+=1);return{hoverableToAllMap:t,allToHoverableMap:n}})(this.filteredChildren);return Ye.Children.map(this.filteredChildren,((n,s)=>e.renderChild(t,n,s)))},this.renderChild=(e,t,n)=>{const{negated:s,selectedItemIndex:r}=this.state,i=e.hoverableToAllMap[r];if(Ate(t)){const r=e.allToHoverableMap[n];return(0,Ye.cloneElement)(t,{ref:`item${r}`,hoverableIndex:r,isActive:n===i,onMouseEnter:this.setSelectedIndexToHoveredIndex.bind(this,r),negateNextClick:s})}return(0,Ye.cloneElement)(t)},this.renderList=()=>{const{activeFilter:e,banner:t,emptyStateText:n,isFilterable:s,name:r,isLoading:i,children:o,clearFilter:a,clearFilterAlwaysOn:l,clearFilterDisabled:c,clearFilterName:d}=this.props,u=!(l||e&&a),p=s?!(0,_t.KN)(this.filteredChildren):!(0,_t.KN)(o),m=u||!p?null:Ye.createElement(zte,{name:d,defaultFilterKey:"",isDisabled:c,isFilterable:!1,key:"filterItem",onClick:a}),h=!p&&Hte(n||`No ${r} found`),E=this.renderListItems();return i?Hte("Loading..."):E&&!ee.xbD(E)?Ye.createElement("div",{className:"zhc-selection-list-deprecated__list"},t,m,E):Ye.createElement(Ye.Fragment,null,t,h)},this.state={filterKey:"",negated:!1,selectedItemIndex:Ye.Children.count(e.children)>0?0:-1,hoveredItemIndex:Ye.Children.count(e.children)>0?0:-1},this.filteredChildren=[]}UNSAFE_componentWillMount(){const{filterKey:e}=this.state;this.filteredChildren=this.getFilteredChildren(e,this.props)}componentDidMount(){const{isActive:e}=this.props;e&&Gte(this.listBody,window.innerHeight)}UNSAFE_componentWillReceiveProps(e){const{allowSearch:t,externalFilterKey:n,externalKeyEvent:s,onExternalKeyHandled:r}=e,{externalFilterKey:i}=this.props;t||(ee.kKJ(n)||i===n||this.filterSelection({filterKey:n}),ee.kKJ(s)||(this.handleKey(s),r()))}shouldComponentUpdate(e,t){const{hoveredItemIndex:n}=this.state;return n===t.hoveredItemIndex}UNSAFE_componentWillUpdate(e,t){this.filteredChildren=this.getFilteredChildren(t.filterKey,e)}componentDidUpdate(){const{isActive:e}=this.props;e&&Gte(this.listBody,window.innerHeight)}render(){const{allowMobileActiveBackground:e,allowNegatedSearch:t,allowSearch:n,description:s,filterDefaultText:r,footer:i,isActive:o,isSearchDisabled:a,isFullLength:l,isWide:c,modifiers:d,onFilterChange:u,onKeyDownHandler:p,position:m,style:h,styleType:E,title:g,toggleOpen:f,titleJsx:_,searchAutoFocus:v,searchIcon:I}=this.props,b=m===kte.RIGHT,y=m===kte.STATIC,S=t?`${r} or type not: for exclusions`:r,w=(0,_t.DG)("zhc-selection-list-deprecated",d),R=(0,_I.default)("zhc-selection-list-deprecated",{"zhc-selection-list-deprecated--active-background":e,"zhc-selection-list-deprecated--is-active":o,"zhc-selection-list-deprecated--has-search":n,"zhc-selection-list-deprecated--position-right":b,"zhc-selection-list-deprecated--position-static":y,"zhc-selection-list-deprecated--is-full-length":l,"zhc-selection-list-deprecated--wide":c},w),T=s?Ye.createElement("div",{className:"zhc-selection-list-deprecated__description"},s):null,C=(0,_I.default)("zhc-selection-list-deprecated__list-container",{[`zhc-selection-list-deprecated__list-container--${E}`]:E}),k=n&&t?["not"]:[];return Ye.createElement("div",{"data-testid":"zh-selection-list",className:R,onKeyDown:p||this.handleKey,onMouseMove:this.onMouseMove,style:h},Ye.createElement("div",{className:"zhc-selection-list-deprecated__overlay",onClick:f,onTouchMove:Kte}),Ye.createElement("div",{className:"zhc-selection-list-deprecated__body",ref:e=>{this.listBody=e}},Ye.createElement("div",{className:C,"data-cy":"selection-list"},(0,_t.KN)(g)&&(0,_t.KN)(_)?null:Ye.createElement("div",{className:"zhc-selection-list-deprecated__header"},Ye.createElement("span",{className:"zhc-selection-list-deprecated__header__text","data-cy":"selection-list-header"},_||g),Ye.createElement("button",{type:"button",className:"zhc-selection-list-deprecated__cancel","data-cy":"close",onClick:f},Ye.createElement(R7,null))),n?Ye.createElement("div",{className:"zhc-selection-filter",onClick:this.setSelectedIndexToHoveredIndex},Ye.createElement(Cte,{ref:e=>{this.search=e},suggestedModifiers:k,onFilterChange:u||this.filterSelection,defaultText:S,focusOnMount:!CI(),inputClass:"zhc-selection-filter__input",isDisabled:a,allowNegatedSearch:t,searchAutoFocus:v,searchIcon:I})):null,T,this.renderList()),Ye.createElement("div",{className:"zhc-selection-list-deprecated__footer","data-cy":"selection-footer"},i)))}}Vte.defaultProps={activeFilter:!1,allowMobileActiveBackground:!1,allowNegatedSearch:!0,allowSearch:!0,banner:null,clearFilter:null,clearFilterAlwaysOn:!1,clearFilterDisabled:!1,clearFilterName:"Clear filter",closeOnEsc:!0,children:null,description:null,emptyStateText:"",externalFilterKey:null,filterableChildProp:null,filterDefaultText:"Filter by keyword",onExternalKeyHandled:_t.ZT,onFilterResult:_t.ZT,isActive:!0,isSearchDisabled:!1,isFilterable:!0,isFullLength:!1,isLoading:!1,isWide:!1,name:null,position:kte.LEFT,title:"",titleJsx:null,toggleOpen:()=>{},searchAutoFocus:!1,searchIcon:null},Vte.propTypes={activeFilter:SI().bool,allowMobileActiveBackground:SI().bool,allowNegatedSearch:SI().bool,allowSearch:SI().bool,banner:SI().node,children:SI().node,clearFilter:SI().func,clearFilterAlwaysOn:SI().bool,clearFilterDisabled:SI().bool,clearFilterName:SI().string,closeOnEsc:SI().bool,description:SI().oneOfType([SI().string,SI().shape({}),SI().node]),emptyStateText:SI().string,externalFilterKey:SI().string,externalKeyEvent:SI().shape({}),filterableChildProp:SI().string,filterDefaultText:SI().string,footer:SI().node,isActive:SI().bool,isFilterable:SI().bool,isFullLength:SI().bool,isLoading:SI().bool,isSearchDisabled:SI().bool,isWide:SI().bool,maxResults:SI().number,modifiers:SI().arrayOf(SI().string),name:SI().oneOfType([SI().array,SI().node,SI().string]),position:SI().oneOf(Object.keys(kte)),searchAutoFocus:SI().bool,searchIcon:SI().string,style:SI().shape({}),styleType:SI().string,title:SI().string,titleJsx:SI().node,toggleOpen:SI().func,onExternalKeyHandled:SI().func,onFilterChange:SI().func,onFilterResult:SI().func,onKeyDownHandler:SI().func};const $te=Vte,Zte={position:"absolute",opacity:0,zIndex:-9999999};class Yte extends Ye.PureComponent{render(){const{handleKey:e}=this.props;return Ye.createElement("input",{autoFocus:!0,className:"zhc-keyboard-event",onKeyDown:e,style:Zte})}}Yte.defaultProps={handleKey:e=>{}};const Jte=Yte;class Xte extends Ye.Component{constructor(e){super(e),this.handleKey=this.handleKey.bind(this)}handleKey(e){const{toggleOpen:t}=this.props;"Escape"===e.key&&(t?.(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation())}render(){const{children:e,containerStyles:t,coords:n,elementsBelowFooterDivider:s,footer:r,footerStyle:i,isActive:o,modifiers:a,position:l,showHeaderX:c,styleType:d,title:u,toggleOpen:p,toggleOnXIconOnly:m}=this.props,h=l===kte.RIGHT,E=l===kte.TOP,g=(0,_t.DG)("zhc-selection-list-deprecated",a),f=(0,_I.default)("zhc-selection-list-deprecated","zhc-selection-list-deprecated--simple",g,{"zhc-selection-list-deprecated--is-active":o,"zhc-selection-list-deprecated--position-right":h,"zhc-selection-list-deprecated--position-top":E,[`zhc-selection-list-deprecated--${d}`]:d}),_=(0,_I.default)("zhc-selection-list-deprecated__list-container",{[`zhc-selection-list-deprecated__list-container--${d}`]:d}),v=(0,_I.default)("zhc-selection-list-deprecated__footer",{[`zhc-selection-list-deprecated__footer--${i}`]:i}),I=u&&Ye.createElement("div",{className:"zhc-selection-list-deprecated__header"},Ye.createElement("span",{className:"zhc-selection-list-deprecated__header__text","data-cy":"selection-list-header"},u),c&&Ye.createElement("button",{className:"zhc-selection-list-deprecated__cancel","data-cy":"cancel",onClick:p,type:"button"},Ye.createElement(R7,null)));return Ye.createElement("div",{className:f,style:{...n}},Ye.createElement("div",{className:"zhc-selection-list-deprecated__overlay",onClick:p,onTouchMove:e=>e.preventDefault()}),Ye.createElement("div",{className:"zhc-selection-list-deprecated__body",onClick:m?void 0:p},Ye.createElement("div",{className:_,"data-cy":"selection-list",style:{...t}},I,e&&Ye.createElement("div",{className:"zhc-selection-list-deprecated__list"},e),Ye.createElement(Jte,{handleKey:this.handleKey})),r&&Ye.createElement("div",{className:v},r),s?Ye.createElement("div",{className:"zhc-selection-list-deprecated__below-footer"},s):null))}}Xte.defaultProps={children:null,containerStyles:null,coords:{},elementsBelowFooterDivider:null,footer:null,footerStyle:null,modifiers:[],position:kte.LEFT,showHeaderX:!1,styleType:null,title:null,toggleOnXIconOnly:!1,isActive:!1,toggleOpen:void 0};const Qte=Xte;function ene(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=(0,Ye.useState)(e),s=(0,Ye.useRef)(null),r=()=>n(!1),i=()=>n(!t);return{closePopover:r,isOpen:t,setIsOpen:n,anchorRef:s,togglePopover:i}}var tne=n(7915);const nne=27,sne=()=>{const e=document.querySelectorAll(".react-portal-container");return e.length>0?e[0]:null},rne=()=>{const e=sne();return e||(()=>{const e=document.createElement("div");return e.className="react-portal-container",document.body.appendChild(e),e})()},ine=e=>{let{additionalNodeClassNames:t=null,children:n,closeOnEsc:s=!1,isOpen:r=!1,onClose:i=(()=>{}),shouldSyncScroll:o=!1}=e;const[a]=(0,Ye.useState)((()=>window.scrollY)),l=(0,Ye.useRef)(null),c=e=>{e.keyCode===nne&&(()=>{const e=document.querySelectorAll(".react-portal");return 0!==e.length&&e[e.length-1]===l.current})()&&r&&(i(),e.stopImmediatePropagation())};return(0,Ye.useEffect)((()=>(o&&window.scrollTo({top:a}),s&&document.addEventListener("keydown",c),()=>{s&&document.removeEventListener("keydown",c),(()=>{const e=sne();e&&l.current&&e.removeChild(l.current),0===e?.children?.length&&e.remove(),l.current=null})()})),[s,o]),l.current||(l.current=document.createElement("div"),l.current.setAttribute("data-zh-flyover","interactive"),l.current.className=(0,_I.default)("react-portal",t),rne().appendChild(l.current)),l.current?vte.createPortal(n,l.current):null},one=(e,t,n)=>n+e<t,ane=(e,t)=>t-e>0;function lne(e,t,n,s){const r=e+t,i=n-5+s;if(r<i)return e;return e-(r-i)}function cne(e,t){const n=5+t;return e>=n?e:n}function dne(e,t,n,s){let{top:r,bottom:i,height:o}=n,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const l=r-e-3+a,c=i+3+a;if(s.BOTTOM)return lne(c,e,t,a);if(s.TOP)return cne(l,a);if(one(e,t,i))return c;if(ane(e,r))return l;const d=r+o/2-e/2;return d>0?d:0+a}function une(e,t,n,s,r){let{left:i,right:o}=s;return r.LEFT?i:r.RIGHT?o-e:r.END?o:r.START?i-e:((e,t,n)=>n+e<t)(e,t,i)?n?i:o:o-e>0?n?o-e:i-e:i}const pne="deprecated_with_borders",mne="deprecated_dropdown_size";let hne;!function(e){e.DEFAULT="",e.ABOVE_ONBOARDING="above-onboarding",e.BELOW_MODAL="below-modal"}(hne||(hne={}));const Ene=(0,tne.OU)((function(e){let{anchorRef:t,children:n,className:s,close:r,forcedPositions:i,height:o,modifiers:a=[],width:l,popoverDepth:c=hne.DEFAULT,shouldSyncScroll:d}=e;const u=(0,_t.DG)("zhc-popover",[...a,c]),p=(0,_I.default)("zhc-popover",s,u),[m,h]=(0,Ye.useState)({top:-9999,left:-9999}),E=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{if(!t.current||!E.current)return;const e=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{offsetHeight:r,offsetWidth:i}=t,{innerHeight:o,innerWidth:a,scrollY:l}=n,c=one(r,o,e.bottom)||ane(r,e.top),d=dne(r,o,e,s,l),u=une(i,a,c,e,s);return{top:d,left:u}}(t.current.getBoundingClientRect(),E.current,window,i);Math.abs(m.top-e.top)<=1&&Math.abs(m.left-e.left)<=1||h(e)}),[t,E,o,l,m.top,m.left]),Ye.createElement(ine,{shouldSyncScroll:d,closeOnEsc:!0,onClose:r,isOpen:!0},Ye.createElement("div",{ref:E,"data-testid":"portal-content",className:p,style:m},Ye.createElement("div",{className:"zhc-popover__overlay",onMouseDown:r}),Ye.createElement("div",{className:"zhc-popover__wrapper","data-cy":"popover-wrapper"},n)))})),gne="gXblDUf5P5hc_3f5Rpue",fne="Nvr7bFfpgBh3Wm2HGdkJ",_ne=e=>{let{text:t,disabled:n}=e;const s=n&&fne;return Ye.createElement("div",{className:`${gne} ${s}`},t)},vne=_ne;class Ine extends Ye.PureComponent{render(){const{rootClass:e,text:t,isNew:n,icon:s,isBeta:r}=this.props,i=(0,_I.default)(`${e}__label`,{[`${e}__label--indented`]:!s});return Ye.createElement(Ye.Fragment,null,s&&Ye.createElement("div",{className:`${e}__icon`},s),Ye.createElement("div",{className:i,"data-cy":"item-label"},t,n&&Ye.createElement(vne,null),r&&Ye.createElement(vne,{text:"Beta"})))}}Ine.propTypes={rootClass:SI().string.isRequired,text:SI().string.isRequired,icon:SI().node,isBeta:SI().bool,isNew:SI().bool},Ine.defaultProps={isBeta:!1,isNew:!1,icon:null};const bne=Ine;class yne extends Ye.PureComponent{constructor(e){super(e),this.state={isInitialLoadCollapsed:e.isCollapsed,isTransitionning:!1},this.collapseSection=this.collapseSection.bind(this),this.expandSection=this.expandSection.bind(this)}UNSAFE_componentWillReceiveProps(e){e.isCollapsed||this.setState((()=>({isInitialLoadCollapsed:!1})))}componentDidUpdate(e){const{isCollapsed:t}=this.props;if(t===e.isCollapsed)return;const n=this.element;t?this.collapseSection(n):this.expandSection(n)}componentWillUnmount(){const{unmountCallback:e}=this.props;e()}collapseSection(e){const{transitionCollapse:t}=this.props;if(!t)return;this.setState({isTransitionning:!0});const n=()=>{e.removeEventListener("transitionend",n),this.setState({isTransitionning:!1})};e.addEventListener("transitionend",n);const s=e.scrollHeight;e.style.height=`${s}px`,requestAnimationFrame((()=>{e.style.height=`${s}px`,requestAnimationFrame((()=>{e.style.height="0px"}))}))}expandSection(e){const{afterExpand:t,isCollapsed:n,transitionCollapse:s}=this.props;if(!s)return;e.style.height="0px";const r=e.scrollHeight;e.style.height=`${r}px`,this.setState({isTransitionning:!0});const i=()=>{e.removeEventListener("transitionend",i),this.setState({isTransitionning:!1}),n||(e.style.height=null,t())};e.addEventListener("transitionend",i)}render(){const{children:e,isCollapsed:t,styleContent:n,transitionCollapse:s}=this.props,{isInitialLoadCollapsed:r,isTransitionning:i}=this.state,o=(0,_I.default)("zhc-collapsible",{"zhc-collapsible--is-collapsed":t,"zhc-collapsible--initial":r,"zhc-collapsible--transition":s,"zhc-collapsible--is-transitionning":i}),a=(0,_I.default)({"zhc-collapsible__content":n});return Ye.createElement("div",{tabIndex:"-1",ref:e=>{this.element=e},className:o},Ye.createElement("div",{className:a},e))}}yne.propTypes={children:SI().node.isRequired,afterExpand:SI().func,isCollapsed:SI().bool,styleContent:SI().bool,transitionCollapse:SI().bool,unmountCallback:SI().func},yne.defaultProps={afterExpand:()=>{},isCollapsed:!0,styleContent:!1,transitionCollapse:!1,unmountCallback:_t.ZT};const Sne=yne,wne=Sne;function Rne(){return Rne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rne.apply(this,arguments)}const{onboarding:Tne}=LG,Cne={includes:(e,t)=>{const{pathname:n,search:s}=e;return`${n}${s}`.includes(t)},exact:(e,t)=>e.pathname===t},kne=(e,t)=>{class n extends Ye.Component{constructor(){super(...arguments),this.isNew=()=>{const{onboardKey:e,onboarding:t}=this.props;return!(0,ee.kKJ)(e)&&!t[e]}}componentDidUpdate(){const{onboardKey:e,setOnboardingValue:t,location:n,path:s}=this.props;if(!this.isNew())return;const{pathname:r,search:i}=n;`${r}${i}`.includes(s)&&t(e,!0)}render(){const{location:n,path:s}=this.props,r=Cne[t]||Cne.includes;return Ye.createElement(e,Rne({isNew:this.isNew(),isItemActive:r(n,s)},this.props))}}n.propTypes={location:SI().shape({pathname:SI().string.isRequired,search:SI().string.isRequired}).isRequired,onboarding:SI().shape({}).isRequired,path:SI().string.isRequired,setOnboardingValue:SI().func.isRequired,onboardKey:SI().string},n.defaultProps={onboardKey:null};return(0,ee.zGw)((0,l3.$j)((e=>({onboarding:e.onboarding})),(e=>({setOnboardingValue:(t,n)=>e(Tne.setOnboardingValue({key:t,value:n}))}))),$8.EN)(n)};class One extends Ye.PureComponent{constructor(e){super(e),this.hasSelectionList=()=>{const{selectionListItems:e,children:t,isItemActive:n}=this.props;return e&&!t&&n},this.showCollapsibleContent=()=>{this.setState({isCollapsibleContentVisible:!0})},this.toggleCollapsibleContent=e=>{e&&(e.preventDefault(),e.stopPropagation()),this.setState((e=>({isCollapsibleContentVisible:!e.isCollapsibleContentVisible})))},this.toggleSelectionList=e=>{const{toggleSelectionList:t}=this.props;e&&(e?.preventDefault?.(),e?.stopPropagation?.()),t()};const{isItemActive:t,isSidebarExpanded:n}=e;this.buttonRef=Ye.createRef(null),this.state={isCollapsibleContentVisible:t,tempCollapseContent:!n&&!window.USER_HAS_FEELINGS}}UNSAFE_componentWillReceiveProps(e){const{isItemActive:t,isSidebarExpanded:n,children:s,isFullScreen:r,isSelectionListActive:i}=this.props;if(this.hasSelectionList()&&r!==e.isFullScreen&&i&&this.toggleSelectionList(),!s)return;if(t!==e.isItemActive&&this.setState({isCollapsibleContentVisible:e.isItemActive}),window.USER_HAS_FEELINGS)return;!n&&e.isSidebarExpanded&&this.setState({tempCollapseContent:!1});n&&!e.isSidebarExpanded&&this.setState({tempCollapseContent:!0})}render(){const{isNew:e,shouldReplace:t,text:n,path:s,isSelectionListActive:r,selectionListItems:i,children:o,icon:a,className:l,isBeta:c,onClick:d}=this.props,{isCollapsibleContentVisible:u,tempCollapseContent:p}=this.state,m=(0,_I.default)("zhc-sidebar-nav-item__action",{"zhc-sidebar-nav-item__action--is-active":r}),h=u?Ye.createElement(hte,null):Ye.createElement(gte,null);return Ye.createElement(Ye.Fragment,null,Ye.createElement(pte.rU,{to:s,"data-zh-flyover":"navigate",className:"zhc-sidebar-nav-item__link",onClick:d,replace:t},Ye.createElement(bne,{text:n,rootClass:"zhc-sidebar-nav-item",isNew:e,isBeta:c,dismissNew:this.dismissNew,icon:a,className:l}),this.hasSelectionList()&&Ye.createElement(Ye.Fragment,null,Ye.createElement(YI,{content:"View options",removeTooltipOnClick:!0},Ye.createElement(H5,{variant:z5.TEXT,height:A5.SHORT,ref:this.buttonRef,className:m,"data-cy":"item-action","data-zh-flyover":"interactive",onClick:this.toggleSelectionList},Ye.createElement(_te,null))),r&&Ye.createElement(Ene,{close:this.toggleSelectionList,anchorRef:this.buttonRef},Ye.createElement(Qte,{isActive:!0,modifiers:["wide"],toggleOpen:this.toggleSelectionList,styleType:["is-full-length"],toggleOnXIconOnly:!0},Ye.createElement(i,null)))),Boolean(o)&&Ye.createElement("div",{className:"zhc-sidebar-nav-item__action","data-cy":"item-action","data-zh-flyover":"interactive",onClick:this.toggleCollapsibleContent},h)),Boolean(o)&&Ye.createElement(wne,{isCollapsed:!u||p,transitionCollapse:!0},Ye.Children.map(o,(e=>Ye.cloneElement(e,t)))))}}One.propTypes={path:SI().string.isRequired,text:SI().string.isRequired,children:SI().node,className:SI().string,icon:SI().node,isBeta:SI().bool,isFullScreen:SI().bool,isItemActive:SI().bool,isNew:SI().bool,isSelectionListActive:SI().bool,isSidebarExpanded:SI().bool,selectionListItems:SI().elementType,shouldReplace:SI().bool,toggleSelectionList:SI().func,onClick:SI().func},One.defaultProps={children:void 0,className:"",icon:null,isBeta:!1,isFullScreen:!1,isItemActive:!1,isNew:!1,isSelectionListActive:!1,isSidebarExpanded:!0,selectionListItems:null,shouldReplace:!1,onClick:_t.ZT,toggleSelectionList:_t.ZT};const Nne=kne(ute(One)),Pne=Ye.forwardRef(((e,t)=>{let{isNew:n=!1,dismissNew:s=_t.ZT,text:r,icon:i=null,onClick:o=_t.ZT,onBlur:a=_t.ZT}=e;return Ye.createElement("button",{ref:t,onClick:e=>{n&&s(),o(e)},onBlur:a,type:"button",className:"zhc-sidebar-nav-item__link","data-zh-flyover":"close"},Ye.createElement(bne,{text:r,isNew:n,dismissNew:s,icon:i,rootClass:"zhc-sidebar-nav-item"}))})),Ane=ute(Pne);function Dne(e){return e.metaKey||e.ctrlKey||1===e.button}class Lne extends Ye.PureComponent{constructor(){super(...arguments),this.onClick=e=>{const{onClick:t}=this.props;Dne(e)||t()}}render(){const{currentPath:e,isNew:t,shouldReplace:n,isItemActive:s,icon:r,text:i,path:o}=this.props,a=e===o,l="zhc-sidebar-nav-item",c=(0,_I.default)(`${l}__sub-item`,{[`${l}__sub-item--is-active`]:s}),d=Ye.createElement(bne,{isNew:t,text:i,icon:r,rootClass:l});return a?Ye.createElement("div",{className:c}," ",d," "):Ye.createElement(pte.rU,{className:c,to:o,onClick:this.onClick,replace:n,"data-zh-flyover":"navigate"},d)}}Lne.propTypes={path:SI().string.isRequired,text:SI().string.isRequired,currentPath:SI().string,icon:SI().node,isItemActive:SI().bool,isNew:SI().bool,shouldReplace:SI().bool,onClick:SI().func},Lne.defaultProps={currentPath:void 0,shouldReplace:!1,icon:null,isNew:!1,isItemActive:!1,onClick:_t.ZT};const zne=kne(Lne,"exact");function Mne(){return Mne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mne.apply(this,arguments)}const xne=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--chevron-double-right",t].filter(Boolean).join(" "),"aria-label":"chevron-double-right",role:"img",...n};return Ye.createElement("svg",Mne({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{stroke:"currentColor",strokeWidth:1.4,d:"M5 4l3 4-3 4m4-8l3 4-3 4"})))};function Fne(){return Fne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fne.apply(this,arguments)}const Une=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--chevron-double-left",t].filter(Boolean).join(" "),"aria-label":"chevron-double-left",role:"img",...n};return Ye.createElement("svg",Fne({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M16 0H0v16h16z"}),Ye.createElement("path",{stroke:"currentColor",strokeWidth:1.4,d:"M11 4L8 8l3 4M7 4L4 8l3 4"})))};class Bne extends Ye.PureComponent{constructor(e){super(e),this.toggleCollapsedState=this.toggleCollapsedState.bind(this)}toggleCollapsedState(){const{isCollapsed:e,setIsCollapsed:t}=this.props;t(!e)}render(){const{isCollapsed:e}=this.props,t=(0,_I.default)("zhc-collapse-toggle",{"zhc-collapse-toggle--is-active":e}),n=e?Ye.createElement(xne,null):Ye.createElement(Une,null);return Ye.createElement("button",{type:"button","aria-pressed":e,"aria-label":"Collapse Sidebar",className:t,onClick:this.toggleCollapsedState},n)}}Bne.propTypes={isCollapsed:SI().bool.isRequired,setIsCollapsed:SI().func.isRequired};const qne=Bne;function Hne(){return Hne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hne.apply(this,arguments)}const Wne=new RegExp("^(?:[a-z]+:)?//","i"),jne=new RegExp("^mailto:([^?]*)","i"),Gne=e=>jne.test(e),Kne=e=>Wne.test(e);function Vne(e,t){return{forExt:e,forWebapp:t}}function $ne(e,t,n,s){const r=n?"_blank":null;return Ye.createElement(pte.rU,Hne({},s,{to:e,target:r}),t)}function Zne(e,t,n,s){const r=n||Vne(!1,!1),i=s||{};if(AI&&!Kne(e)&&!Gne(e))return $ne(e,t,r.forWebapp,i);if(PI&&!Kne(e)&&!Gne(e)&&e.startsWith("/workspaces"))return $ne(e,t,r.forExt,i);return function(e,t,n,s){const r=n?"_blank":void 0,i=n?"noopener noreferrer":void 0;return Ye.createElement("a",Hne({},s,{href:e,target:r,rel:i}),t)}(e,t,AI?r.forWebapp:r.forExt,i)}const Yne=(e,t,n,s,r,i)=>{const o=n||Vne(!1,!0);return Zne((e.workspace?ma.getIssuePath(e):ma.getRepoIssuePath(e))+(s||"")+(r||""),t,o,i)},Jne=e=>{let{issue_number:t,organization:n,repository:s,workspace:r,children:i,...o}=e;const a={issue_number:t,repository:s,organization:n};return Zne(r?ma.getIssuePath({...a,workspace:r}):ma.getRepoIssuePath(a),i,{forExt:!1,forWebapp:!1},o)};class Xne extends Ye.PureComponent{render(){const{text:e,path:t,onClick:n,children:s}=this.props;return Ye.createElement("div",{className:"zhc-sidebar-link-item","data-cy":"sidebar-link-item"},Ye.createElement("div",{className:"zhc-sidebar-link-item__label"},s,t&&Zne(t,e,Vne(!0,!0),{onClick:n})))}}const Qne=(e,t)=>{const{children:n}=e;return n||e[t]?n||"string"==typeof e[t]?null:new Error(`Invalid prop "${t}". Must be string.`):new Error(`Invalid prop validation. "${t}" must be supplied when no children`)};Xne.propTypes={children:SI().node,path:Qne,text:Qne,onClick:SI().func},Xne.defaultProps={children:null,onClick:_t.ZT,path:null,text:null};const ese=Xne;class tse extends Ye.PureComponent{constructor(e){if(super(e),!x){const t={selector:"#headway",account:"7kG9K7",trigger:"#headway + a",position:{y:"top"},callbacks:{onShowWidget:e.onClick}},n=document.createElement("script");n.async=!0,n.src="https://cdn.headwayapp.co/widget.js",n.addEventListener("load",(()=>{Headway&&Headway.init(t)})),document.body.appendChild(n)}}render(){const{children:e}=this.props;return Ye.createElement(ese,null,Ye.createElement("div",{className:"zhc-headway"},Ye.createElement("div",{id:"headway"}),e))}}tse.propTypes={children:SI().node.isRequired,onClick:SI().func},tse.defaultProps={onClick:()=>{}};const nse=tse,sse=()=>Ye.createElement("div",{className:"zhc-sidebar-divider"},Ye.createElement("div",{className:"zhc-sidebar-divider__bar"}));function rse(){return rse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rse.apply(this,arguments)}const ise=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--moon",t].filter(Boolean).join(" "),"aria-label":"moon",role:"img",...n};return Ye.createElement("svg",rse({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.06 2.509a1 1 0 01-.067 1.085 6.014 6.014 0 008.413 8.413 1 1 0 011.59.896A10.02 10.02 0 1111.097 2.004a1 1 0 01.963.505zm-2.765 1.93a8.019 8.019 0 1010.266 10.266A8.015 8.015 0 019.295 4.439z",fill:"currentColor"}))},{onboarding:ose}=LG;function ase(){const e=(0,l3.I0)();return(t,n)=>{e(ose.setOnboardingValue({key:t,value:n}))}}function lse(){return lse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lse.apply(this,arguments)}const cse=e=>function(t){const{onChange:n,isActive:s,disabled:r,className:i,testId:o,enableFocusStyles:a}=t,[l,c]=function(e){const t=(0,Ye.useState)(e);return(0,Ye.useEffect)((()=>{e!==t[0]&&t[1](e)}),[e,t]),t}(s),d=(0,_I.default)("zhc-checkable",i,{"zhc-checkable--disabled":r,"zhc-checkable--focus-styles":a});return Ye.createElement("button",{type:"button","data-testid":o,onClick:e=>{r||n?.(!l,e),c(!l)},className:d,disabled:r},Ye.createElement(e,lse({},t,{isActive:l})))},dse=e=>{let{label:t="",isActive:n=!1,disabled:s=!1}=e;const r=(0,_I.default)("zhc-checkbox-toggle",{"zhc-checkbox-toggle--is-active":n,"zhc-checkbox-toggle--disabled":s}),i=Ye.createElement("span",{className:"zhc-checkbox-toggle__text"},t);return Ye.createElement("label",{className:r},(0,_t.KN)(t)?null:i,Ye.createElement("input",{className:"zhc-checkbox-toggle__input",type:"checkbox",name:"checkbox-toggle",checked:n,onClick:e=>e.stopPropagation(),readOnly:!0,disabled:s}))},use=dse,pse=cse(dse),mse="AqhY0Ntsn4dViQk03FOR",hse="foBTOKZ63_4vURnZFJXU",Ese="W5NyvPCRNKAXO6REjsBa",gse=e=>{let{classNames:t,showIcon:n}=e;const s=ase(),r=(0,l3.v9)(JS),i=_3(),[o,a]=(0,Ye.useState)(i),l=["night","dark"],c=["day","light"],d={"Zenhub Theme":"","Zenhub Theme Scale":""};if(F)return null;const u=(0,_I.default)(t,mse);if(!r){s("webapp_theme_preference",i?u3.DARKMODE_STORAGE_VALUE:u3.LIGHTMODE_STORAGE_VALUE)}return Ye.createElement("button",{type:"button",className:u,"data-cy":"dark-mode-toggle",onClick:()=>{const e=!o,t=e?u3.DARKMODE_STORAGE_VALUE:u3.LIGHTMODE_STORAGE_VALUE;a(e),e?(I3(...l),[d["Zenhub Theme"],d["Zenhub Theme Scale"]]=l):(I3(...c),[d["Zenhub Theme"],d["Zenhub Theme Scale"]]=c),s("webapp_theme_preference",t),o6("Webapp Theme Changed",d)}},"Dark mode",Ye.createElement("span",{className:hse},n&&Ye.createElement(ise,{className:Ese}),Ye.createElement(use,{isActive:o})))},fse=e=>{let{signOutFunction:t,dashboardURL:n,isProfileActive:s=!1,onManageOrgClick:r,toggleOpen:i,userDisplayName:o,userName:a}=e;const l=n?Zne(n,"Account management",{forExt:!0,forWebapp:!1},{className:"zhc-sidebar-profile__item",onClick:r}):null,c=(0,_I.default)("zhc-sidebar-profile",{"zhc-sidebar-profile--is-active":s});return Ye.createElement("div",{className:c},Ye.createElement("div",{className:"zhc-sidebar-profile__toggle","data-cy":"profile-toggle",onClick:i},Ye.createElement("div",{className:"zhc-sidebar-profile__name-and-org"},Ye.createElement("div",{className:"zhc-sidebar-profile__name"},Ye.createElement("span",{className:"zhc-sidebar-profile__name__text","data-cy":"profile-name"},o),s?Ye.createElement(gte,null):Ye.createElement(hte,null)),Ye.createElement("div",{className:"zhc-sidebar-profile__company","data-cy":"profile-company"},a))),s?Ye.createElement(Qte,{isActive:s,modifiers:["custom"],position:kte.TOP,toggleOpen:i,toggleOnXIconOnly:!0},Ye.createElement("div",{className:"zhc-sidebar-profile__items","data-cy":"manage-organization"},Ye.createElement(gse,{showIcon:!0,classNames:"zhc-sidebar-profile__item zhc-sidebar-profile__item--toggleable"}),l,Ye.createElement("div",{className:"zhc-sidebar-profile__item","data-cy":"sign-out",onClick:()=>{i?.(),t()}},"Sign out"))):null)},_se=fse,vse=ese,Ise=e=>{let{children:t,modifiers:n,className:s}=e;if(!t)return null;const r=(0,_I.default)("zhc-banner",{[s]:s},...n?(0,_t.NV)("zhc-banner",n):[]);return Ye.createElement("div",{className:r,"data-cy":"banner"},t)},bse=e=>{let{showTrialEndNotification:t=!1,trialEnd:n=0,managePlanPath:s=""}=e;return t&&Ye.createElement(Ise,null,"Your unlimited license ZenHub trial ",Ye.createElement("strong",null,"ends ",Pp(n),"."),Ye.createElement("br",null),Ye.createElement("br",null),Zne(s,"Upgrade now",{forExt:!0,forWebapp:!0}))},yse=bse;function Sse(){return Sse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sse.apply(this,arguments)}const wse=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--xwhite",t].filter(Boolean).join(" "),"aria-label":"xwhite",role:"img",...n};return Ye.createElement("svg",Sse({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"}))};class Rse extends Ye.PureComponent{render(){const{onDismiss:e}=this.props;return ee.kKJ(e)||window.USER_HAS_FEELINGS?null:Ye.createElement("div",{className:"zhc-tutorial-tooltip"},Ye.createElement("div",{className:"zhc-tutorial-tooltip__content"},Ye.createElement("div",{className:"zhc-tutorial-tooltip__content__text"},"You can always access tutorials and learn about other ZenHub features here."),Ye.createElement("div",{className:"zhc-tutorial-tooltip__content__dismiss",onClick:e},Ye.createElement(wse,null))))}}Rse.defaultProps={onDismiss:null},Rse.propTypes={onDismiss:SI().func};function Tse(){return Tse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tse.apply(this,arguments)}const Cse=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--switch",t].filter(Boolean).join(" "),"aria-label":"switch",role:"img",...n};return Ye.createElement("svg",Tse({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"switch_svg__a",d:"M5.414 16H20c1.657 0 1.683 2 0 2H5.414l2.293 2.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 111.414 1.414zm13.172-8H5C3.343 8 3.244 6 5 6h13.586l-2.293-2.293a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414z"}),Ye.createElement("mask",{id:"switch_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#switch_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#switch_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#switch_svg__b)"},Ye.createElement("path",{d:"M0 0h24v24H0z"}))))},kse={ARROW_BACK:"arrow-back",ARROW_BACK_WHITE:"arrow-back-white",ARROW_FORWARD:"arrow-forward",ARROW_FORWARD_WHITE:"arrow-forward-white",ASSIGNEE_SOFT:"assignee-soft",ATTACH:"attach",AUTHOR:"author",AUTHOR_GREY:"author-grey",AUTHOR_PURPLE:"author-purple",BLOCKED:"blocked",BLOCKED_DARK:"blocked-dark",BLOCKED_WHITE:"blocked-white",BOARD:"board",BOARD_BLACK:"board-black",BOARD_LIGHT:"board-light",BOOK:"book",BOOKMARK:"bookmark",BOTTOM:"bottom",BOTTOM_BLACK:"bottom-black",BOTTOM_WHITE:"bottom-white",BRANCH:"branch",BRANCH_WHITE:"branch-white",BUILDING:"building",BURNDOWN:"burndown",BURNDOWN_LIGHT:"burndown-light",CALENDAR:"calendar",CALENDAR_BLANK:"calendar-blank",CALENDAR_CHECK:"calendar-check",CALENDAR_WHITE:"calendar-white",CHECK:"check",CHECKLIST:"checklist",CHECKLIST_LIGHT:"checklist-light",CHECK_GREEN:"check-green",CHECK_OPTIONS:"check-options",CHECK_SQUARE:"check-square",CHECK_WHITE:"check-white",CHEVRON_DOUBLE_DOWN_GREY:"chevron-double-down-grey",CHEVRON_DOUBLE_LEFT:"chevron-double-left",CHEVRON_DOUBLE_LEFT_GREY:"chevron-double-left-grey",CHEVRON_DOUBLE_RIGHT:"chevron-double-right",CHEVRON_DOUBLE_RIGHT_GREY:"chevron-double-right-grey",CHEVRON_DOUBLE_UP_GREY:"chevron-double-up-grey",CHEVRON_DOWN:"chevron-down",CHEVRON_DOWN_BLUE:"chevron-down-blue",CHEVRON_DOWN_GREY:"chevron-down-grey",CHEVRON_DOWN_PURPLE:"chevron-down-purple",CHEVRON_DOWN_WHITE:"chevron-down-white",CHEVRON_LEFT:"chevron-left",CHEVRON_RIGHT:"chevron-right",CHEVRON_RIGHT_GREY:"chevron-right-grey",CHEVRON_RIGHT_LIGHT:"chevron-right-light",CHEVRON_UP:"chevron-up",CHEVRON_UP_BLUE:"chevron-up-blue",CHEVRON_UP_DOWN:"chevron-up-down",CHEVRON_UP_GREY:"chevron-up-grey",CHEVRON_UP_PURPLE:"chevron-up-purple",CIRCLE:"circle",CIRCLE_SLASH:"circle-slash",CIRCLE_SLASH_WHITE:"circle-slash-white",CLOCK_PURPLE:"clock-purple",COLLAPSE_COLUMN:"collapse-column",COMPRESS:"compress",CONNECTED_PR:"connected-pull-request",CONNECTED_PR_BLACK:"connected-pull-request-black",CONNECTED_PR_LIGHT:"connected-pull-request-light",CONNECT_PR:"connect-pull-request",COPIED_FILES:"copied-files",COPY:"copy",CREATE_SIDEBAR:"create-sidebar",DASH:"dash",DELETE:"delete",DEPENDENCY_READY:"dependency-ready",DOTS_BLACK:"dots-black",DOTS_VERTICAL:"dots-vertical",DOTS_WHITE:"dots-white",DRAG:"drag",EDIT_SIDEBAR:"edit-sidebar",EMPTY:"empty",EPIC:"epic",EPIC_ADD:"epic-add",EPIC_BLUE:"epic-blue",EPIC_COMPLETED:"epic-completed",EPIC_COMPLETED_RED:"epic-completed-red",EPIC_DELETE_WHITE:"epic-delete-white",EPIC_FILTER:"epic-filter",EPIC_GREY:"epic-grey",EPIC_LINE:"epic-line",EPIC_LINE_GREEN:"epic-line-green",EPIC_LINE_GREY:"epic-line-grey",EPIC_LINE_PURPLE:"epic-line-purple",EPIC_LINE_WHITE:"epic-line-white",EPIC_REMOVE:"epic-remove",EPIC_REMOVE_DARK:"epic-remove-dark",ERROR_PURPLE:"error-purple",ESTIMATE:"estimate",ESTIMATE_ARROW_DOWN:"estimate-arrow-down",ESTIMATE_ARROW_UP:"estimate-arrow-up",ESTIMATE_GREY:"estimate-grey",ESTIMATE_PURPLE:"estimate-purple",EXPAND:"expand",EXPAND_COLUMN:"expand-column",EXPORT:"export",EYE:"eye",FAVORITE:"favorite",FAVORITE_EMPTY:"favorite-empty",FAVORITE_WHITE:"favorite-white",FILTER:"filter",FLAME:"flame",FLAME_PURPLE:"flame-purple",GEAR:"gear",GEARS:"gears",GEAR_GITHUB:"gear-github",GITHUB:"github",GRAPHS:"graphs",HAMBURGER:"hamburger",HAMBURGER_GREY:"hamburger-grey",HAMBURGER_WHITE:"hamburger-white",INFO:"info",INFO_ADD_DARK_GREY:"info-add-dark-grey",INFO_ADD_GREY:"info-add-grey",INFO_DARK_GREY:"info-dark-grey",INFO_GREY:"info-grey",INVITE:"invite",INVITE_SIDEBAR:"invite-sidebar",ISSUE_ADDED:"issue-added",ISSUE_CLOSED:"issue-closed",ISSUE_CLOSED_GRAY:"issue-closed-gray",ISSUE_CLOSED_RED:"issue-closed-red",ISSUE_CLOSED_WHITE:"issue-closed-white",ISSUE_OPENED:"issue-opened",ISSUE_OPENED_GREEN:"issue-opened-green",ISSUE_OPENED_WHITE:"issue-opened-white",ISSUE_REMOVED:"issue-removed",KEY:"key",KEYBOARD:"keyboard",KEY_WHITE:"key-white",LIGHT_BULB:"light-bulb",LIGHT_BULB_COLOR:"light-bulb-color",LINK:"link",LINK_EXTERNAL:"link-external",LINK_EXTERNAL_GREY:"link-external-grey",LINK_EXTERNAL_PURPLE:"link-external-purple",LINK_EXTERNAL_WHITE:"link-external-white",LOCK:"lock",LOCK_WHITE:"lock-white",MAIL_REPLY_DOWN:"mail-reply-down",MAIL_REPLY_UP:"mail-reply-up",MARKDOWN:"markdown",MEGAPHONE:"megaphone",MENU:"menu",NOTIFICATION:"notification",NOTIFICATION_SIDEBAR:"notification-sidebar",ORG:"org",PARALLEL_ARROWS:"parallel-arrows",PENCIL:"pencil",PERSON:"person",PERSON_PLUS:"person-plus",PERSON_PLUS_WHITE:"person-plus-white",PERSON_PURPLE:"person-purple",PIN_BLACK:"pin-black",PIN_DARK_GREY:"pin-dark-grey",PIN_GREY:"pin-grey",PIN_RED:"pin-red",PIPELINE_SIDEBAR:"pipeline-sidebar",PLUS:"plus",PLUS_BLACK:"plus-black",PLUS_PURPLE:"plus-purple",PLUS_WHITE:"plus-white",POWERED_BY_STRIPE:"powered-by-stripe",PRIMITIVE_DOT:"primitive-dot",PRIMITIVE_DOT_WHITE:"primitive-dot-white",PULL_REQUEST:"pull-request",PULL_REQUEST_CLOSED:"pull-request-closed",PULL_REQUEST_DARK:"pull-request-dark",PULL_REQUEST_MERGED:"pull-request-merged",PULL_REQUEST_OPEN:"pull-request-open",PULL_REQUEST_WHITE:"pull-request-white",PULSE:"pulse",PUZZLE:"puzzle",QUESTION:"question",QUESTION_MARK:"question-mark",QUESTION_RED:"question-red",RELEASE_PURPLE:"release-purple",REMOVE_VIEW:"remove-view",RENAME:"rename",REPO:"repo",REPORTS_BLACK:"reports-black",REPORTS_SIDEBAR:"reports-sidebar",REPO_ROUNDED:"repo-rounded",ROADMAP_EPIC:"roadmap-epic",ROADMAP_PROJECT:"roadmap-project",ROADMAP_SIDEBAR_PROJECT:"roadmap-sidebar-project",ROADMAP_SIDEBAR_PROJECT_COMPLETED:"roadmap-sidebar-project-completed",SEARCH:"search",SEARCH_PURPLE:"search-purple",SIDEBAR_PROJECT:"sidebar-project",SLASH:"slash",SLICED_HAMBURGER:"sliced-hamburger",SORT:"sort",SORT_BLUE:"sort-blue",SQUARE:"square",STAR_FILLED:"star-filled",STAR_FILLED_WHITE:"star-filled-white",STAR_OUTLINE_GOLD:"star-outline-gold",STAR_OUTLINE_GREY:"star-outline-grey",STOP_WHITE:"stop-white",STORY_POINT:"story-point",STORY_POINT_LIGHT:"story-point-light",SWITCH:"switch",TAG:"tag",TAG_PURPLE:"tag-purple",TAG_SOFT:"tag-soft",TAG_WHITE:"tag-white",TOP:"top",TOP_BLACK:"top-black",TOP_BOTTOM:"top-bottom",TOP_WHITE:"top-white",TRASH:"trash",TRASH_WHITE:"trash-white",TRIANGLE_DOWN:"triangle-down",TRIANGLE_LEFT:"triangle-left",TRIANGLE_RIGHT:"triangle-right",TRIANGLE_UP:"triangle-up",UNFOLD:"unfold",UNLINK:"unlink",UNLINK_GREY:"unlink-grey",UNPIN_DARK_GREY:"unpin-dark-grey",UNPIN_RED:"unpin-red",WARNING:"warning",WARNING_BLUE:"warning-blue",WARNING_DIAMOND:"warning-diamond",WARNING_DIAMOND_BLACK:"warning-diamond-black",WARNING_DIAMOND_DARK:"warning-diamond-dark",WARNING_DIAMOND_WHITE:"warning-diamond-white",WARNING_LIGHT:"warning-light",WARNING_LIGHT_RED:"warning-light-red",WARNING_OUTLINE:"warning-outline",WARNING_OUTLINE_BLACK:"warning-outline-black",WARNING_OUTLINE_DARK:"warning-outline-dark",WARNING_OUTLINE_LIGHT:"warning-outline-light",WARNING_RED:"warning-red",WARNING_WHITE:"warning-white",X:"x",X_BLUE:"x-blue",X_GREY:"x-grey",X_LIGHT:"x-light",X_WHITE:"x-white"},Ose="zhc-icon",Nse=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((e=>`zhc-icon--${e}`))},Pse=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return(0,_I.default)([Ose,`zhc-icon--${kse[e]}`,...Nse(t),n])},Ase=Object.keys(kse),Dse=Object.freeze(Ase.reduce(((e,t)=>(e[t]=t,e)),{})),Lse=e=>{let{className:t,type:n,modifiers:s=[],style:r}=e;return Ye.createElement("span",{className:Pse(n,s,t),"data-cy":"icon","data-testid":"icon",style:r})},zse=Lse,Mse=(e,t)=>t&&!e?Dse.STAR_OUTLINE_GOLD:e?Dse.STAR_FILLED:Dse.STAR_OUTLINE_GREY,xse=e=>{let{className:t,disabled:n=!1,isFavorite:s=!1,onClick:r}=e;const[i,o]=(0,Ye.useState)(!1);return Ye.createElement(H5,{className:t,"data-cy":"favorite",disabled:n,onClick:r,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),padding:M5.EXTRA_TIGHT,variant:z5.TEXT,width:D5.NARROW},Ye.createElement(zse,{type:Mse(s,i)}))},Fse=xse,Use="JEprlkyUDsml_oAPZ4XC",Bse="h2M9GMTimoHKMazlKWUA",qse="Fd100jZ1rd76fEzjhH1m",Hse="QdKsk_fg4gtkWYWQF3cz",Wse="x5vFY2XDuqo5_rmvt9Qv",jse="puQoZJRsDcD0R_plCy3g",Gse="p_r8bHwmAHLGZMAQ7sTS",Kse="OLWcG9RCug8yOJZK9SuO",Vse="faTqsBegniZm_TniUiBb",{pages:$se}=LG,Zse=e=>{let{isCollapsed:t=!1,isLoading:n=!1,loadHasFailed:s=!1,onClickOpen:r}=e;const i=(0,l3.I0)(),{isFavorite:o,workspace:a}=(0,l3.v9)((e=>({isFavorite:e.pages.isFavoriteWorkspace,workspace:e.pages.currentWorkspace})),l3.wU),l=n?"Loading...":a?.displayName,c=(0,_I.default)(Wse,{[jse]:t}),d=(0,_I.default)(Bse,{[Kse]:!t});return Ye.createElement(YI,{content:"Switch workspace",delayContent:.6,position:jI.RIGHT},Ye.createElement("div",{className:Use,onClick:r,onKeyPress:e=>{" "===e.key&&r(e)},role:"button",tabIndex:0},n?Ye.createElement(U5,{className:(0,_I.default)(c,Gse),radius:16,style:{padding:"7px"},modifiers:["purple"]}):Ye.createElement(II,{className:c,modifiers:["large","sidebar-workspace-header"],name:l}),Ye.createElement("div",{className:d},s?Ye.createElement("span",{className:qse},"Workspace not found!"):Ye.createElement(Ye.Fragment,null,Ye.createElement("h1",{className:qse,"data-cy":"workspace-header-name",title:l},l),n?null:Ye.createElement(Fse,{className:Hse,isFavorite:o,onClick:e=>{e.stopPropagation(),i(o?iV({activeWorkspaceId:a._id,workspace:a}):rV({activeWorkspaceId:a._id,workspace:a})),i($se.updateCurrentWorkspace({favorite:!o}))}}),Ye.createElement(Cse,{className:Vse})))))},Yse=Zse;function Jse(){return Jse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jse.apply(this,arguments)}const Xse=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--lock",t].filter(Boolean).join(" "),"aria-label":"lock",role:"img",...n};return Ye.createElement("svg",Jse({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"lock_svg__a",d:"M4 8.333v3.334a1 1 0 001 1h6a1 1 0 001-1V8.333a1 1 0 00-1-1H5a1 1 0 00-1 1zM4.667 6h6.666a2 2 0 012 2v4a2 2 0 01-2 2H4.667a2 2 0 01-2-2V8a2 2 0 012-2zM6 6h4v-.667a2 2 0 10-4 0zm2-4a3.333 3.333 0 013.333 3.333V6H4.667v-.667A3.333 3.333 0 018 2z"}),Ye.createElement("mask",{id:"lock_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#lock_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#lock_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#lock_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function Qse(){return Qse=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qse.apply(this,arguments)}const ere=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--epic-thin",t].filter(Boolean).join(" "),"aria-label":"epic-thin",role:"img",...n};return Ye.createElement("svg",Qse({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 15"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.167.167h6.666a2 2 0 012 2v11.231A1.333 1.333 0 018.621 14.4L5.5 11.663 2.38 14.4a1.333 1.333 0 01-2.213-1.002V2.167a2 2 0 012-2zm0 1.333a.667.667 0 00-.667.667v11.231l3.12-2.737a1.333 1.333 0 011.76 0l3.12 2.737V2.167a.667.667 0 00-.667-.667H2.167zm2.666 1.333h2.334v1.334H4.833v1h2V6.5h-2v1H7.5v1.333h-4v-6h1.333z",fill:"currentColor"}))};function tre(){return tre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tre.apply(this,arguments)}const nre=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--release",t].filter(Boolean).join(" "),"aria-label":"release",role:"img",...n};return Ye.createElement("svg",tre({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"release_svg__a",d:"M12.667 13.333A.667.667 0 0112 14H4a.667.667 0 01-.667-.667V2.667C3.333 2.299 3.632 2 4 2h4.667v2.667C8.667 5.403 9.263 6 10 6h2.667zM10 2.455l2.359 2.212H10zM9.514.667c.339 0 .665.128.912.36l3.153 2.956c.268.252.421.604.421.972v8.378a2 2 0 01-2 2H4a2 2 0 01-2-2V2.667a2 2 0 012-2zm1.153 10H5.333a.667.667 0 000 1.333h5.334a.667.667 0 000-1.333zm0-2.667H5.333a.667.667 0 000 1.333h5.334a.667.667 0 000-1.333zm-4-2.667H5.333a.667.667 0 000 1.334h1.334a.667.667 0 000-1.334z"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",xlinkHref:"#release_svg__a"}),Ye.createElement("path",{d:"M0 0h16v16H0z"})))};function sre(){return sre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sre.apply(this,arguments)}const rre=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--lightning",t].filter(Boolean).join(" "),"aria-label":"lightning",role:"img",...n};return Ye.createElement("svg",sre({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M10.87 15.003H4.001a1 1 0 01-.768-1.64l9-12c.639-.767 1.884-.227 1.76.764l-.86 6.876h6.868a1 1 0 01.768 1.64l-9 12c-.64.768-1.884.227-1.76-.764z",className:"lightning_svg__color-fill",fill:"none"}),Ye.createElement("path",{d:"M10.87 15.003H4.001a1 1 0 01-.768-1.64l9-12c.639-.767 1.884-.227 1.76.764l-.86 6.876h6.868a1 1 0 01.768 1.64l-9 12c-.64.768-1.884.227-1.76-.764zm-4.733-2h5.865a1 1 0 01.992 1.124l-.577 4.616 5.45-7.74h-5.865a1 1 0 01-.992-1.124l.577-4.615z",fill:"currentColor",className:"lightning_svg__color-outline"}))},ire=bb.Ps`
  fragment sprintConfig on SprintConfig {
    id
    name
    settings {
      moveUnfinishedIssues
      issuesFromPipeline {
        enabled
        pipelineId
        totalStoryPoints
      }
    }
    startDay
    endDay
    tzIdentifier
  }
`,ore=bb.Ps`
  fragment sprint on Sprint {
    id
    name
    startAt
    endAt
    state
  }
`,are={},lre=bb.Ps`
  query getSprintConfig(
    $workspaceId: ID!
    $first: Int
    $filters: SprintFiltersInput
    $query: String
    $after: String
  ) {
    workspace(id: $workspaceId) {
      id
      sprintConfig {
        ...sprintConfig
        tzIdentifier
        period
      }
      sprints(first: $first, after: $after, query: $query, filters: $filters) {
        nodes {
          ...sprint
        }
      }
      pipelines {
        id
        name
      }
      averageSprintVelocity
    }
  }
  ${ire}
  ${ore}
`;const cre=()=>{const e=(0,l3.v9)(Na)?._id;return function(e){const t={...are,...e};return cy.a(lre,t)}({variables:{workspaceId:e,query:"",first:3,filters:{state:{eq:Eo.Open}}},skip:!e,notifyOnNetworkStatusChange:!0})},dre={container:"GpCIG__udITeldr32PMm",title:"fj4yXLNqLqSFd0aQgkRL",subtitle:"rhldHVrOKdM72QojsuAg",disabled:"I7owGBoCxbZ72M8bByXe"},ure=e=>{let{icon:t,title:n,sub:s,shortcut:r,dataTestId:i,disabled:o}=e;const a=r&&!o;return Ye.createElement("div",{className:dre.container,"data-testid":i},Ye.createElement("div",{className:(0,_I.default)(dre.icon,o&&dre.disabled)},t),Ye.createElement("div",null,Ye.createElement("p",{className:(0,_I.default)(dre.title,o&&dre.disabled)},n),!(0,_t.KN)(s)&&Ye.createElement("span",{className:(0,_I.default)(dre.subtitle,o&&dre.disabled)},s)),a?Ye.createElement("div",null,r):null)},pre=e=>{let{title:t,onClose:n,disableMargin:s=!1}=e;const r=(0,_I.default)("zhc-selection-list__header","zhu-font-bold",{"zhc-selection-list__header--disable-margin":s,"zhc-selection-list__header--small-fontsize":t.length>42&&F&&q});return Ye.createElement("div",{className:r,"data-cy":"selection-list-header"},t,n?Ye.createElement(H5,{ariaLabel:"close",variant:z5.TEXT,padding:M5.TIGHT,height:A5.SHORT,onClick:n,className:"zhc-selection-list__header__close"},Ye.createElement(R7,null)):null)},mre=Ye.memo(pre),hre="zhc-selection-list__layout",Ere=e=>{let{className:t,children:n,hasVariableHeight:s=!1,height:r,width:i,onClose:o,onKeyDown:a}=e;const l={[s?"maxHeight":"height"]:r,width:i},c=(0,_I.default)(hre,t,{[`${hre}--fixed-size`]:!s,[`${hre}--variable-size`]:s});return Ye.createElement("div",{className:c,"data-cy":"selection-list-layout",onKeyDown:e=>{"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),o&&o()):a&&a(e)},style:l,"data-testid":"zhc-selection-list"},n)};var gre=n(47422);class fre extends Ye.Component{constructor(e){super(e),this.cache=void 0,this.originalParentHeight=void 0,this.gridContainerNode=void 0,this.gridContainerObserver=void 0,this.topNode=void 0,this.virtualizedList=void 0,this.virtualizedListEl=void 0,this.keyMapper=e=>this.props.items[e]?.id,this.temporarilySetParentHeightToMaxHeight=()=>{const e=this.topNode?.parentNode;this.originalParentHeight=e.style.height,e.style.setProperty("height","100000px","important")},this.restoreParentHeight=()=>{const e=this.topNode?.parentNode;e.style.height=this.originalParentHeight},this.onGridContentRendered=()=>{const{parentHasVariableHeight:e}=this.props;if(this.gridContainerObserver?.disconnect(),this.replaceFlexGrowContainerByFixedHeight(),e){this.restoreParentHeight(),this.adjustTopNodeHeight();const e=this.gridContainerNode?.children[0];this.gridContainerObserver=new MutationObserver(this.adjustTopNodeHeight),this.gridContainerObserver.observe(e,{attributes:!0,attributeFilter:["style"]})}},this.adjustTopNodeHeight=()=>{const e=this.gridContainerNode,t=this.gridContainerNode?.children[0],n=this.topNode,s=parseInt(e.style.height,10),r=parseInt(t.style.height,10)+20;n.style.height=s>r?`${r}px`:`${s}px`},this.replaceFlexGrowContainerByFixedHeight=()=>{const e=this.gridContainerNode,t=this.topNode,n=parseInt(e.style.height,10);t.children[0].style.height=`${n}px`,t.style.height=`${n}px`,t.style.flexGrow="initial",t.style.overflow="hidden"},this.scrollToRow=e=>{this.virtualizedList?.current?.scrollToRow(e)},this.setTopNode=e=>{this.topNode=e},this.cache=new gre.t1({fixedWidth:!0,keyMapper:this.keyMapper}),this.gridContainerObserver=null,this.originalParentHeight=null,this.virtualizedList=Ye.createRef(),this.virtualizedListEl=Ye.createRef(),this.topNode=null,this.gridContainerNode=null}componentDidMount(){const{parentHasVariableHeight:e}=this.props;this.gridContainerNode=this.topNode.querySelector('[aria-label="grid"]'),e&&(this.temporarilySetParentHeightToMaxHeight(),this.gridContainerObserver=new MutationObserver(this.onGridContentRendered),this.gridContainerObserver.observe(this.gridContainerNode,{childList:!0,subtree:!1}))}componentDidUpdate(e){this.virtualizedList.current&&e.items!==this.props.items&&this.virtualizedList.current.recomputeRowHeights()}componentWillUnmount(){this.gridContainerObserver&&this.gridContainerObserver.disconnect()}render(){const{items:e,rowRenderer:t}=this.props,{cache:n}=this;return Ye.createElement("div",{className:"zhc-selection-list__list","data-cy":"selection-list",style:{flexGrow:1,display:"flex"},ref:this.setTopNode},Ye.createElement("div",{style:{flexGrow:1}},Ye.createElement(gre.qj,null,(s=>{let{height:r,width:i}=s;return Ye.createElement(gre.aV,{deferredMeasurementCache:n,tabIndex:null,height:r,ref:e=>{if(e){const t=(0,vte.findDOMNode)(e);t instanceof HTMLElement&&(this.virtualizedListEl.current=t),this.virtualizedList.current=e}},items:e,rowCount:e.length,rowHeight:n.rowHeight,rowRenderer:e=>t({...e,cache:n}),width:i})}))))}}fre.defaultProps={parentHasVariableHeight:!1};const _re=fre;function vre(){return vre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vre.apply(this,arguments)}const Ire=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--check-green",t].filter(Boolean).join(" "),"aria-label":"check-green",role:"img",...n};return Ye.createElement("svg",vre({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 12 16"},s),Ye.createElement("path",{d:"M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"}))};class bre extends Ye.Component{constructor(e){super(e),this.fireEnterOnNextMouseMove=void 0,this.fireEnterOnNextMouseMove=!1}handleOnMouseMove(){this.fireEnterOnNextMouseMove&&(this.fireEnterOnNextMouseMove=!1,this.props.setHighlightIndex())}renderSelectionIcon(){const{customSelectionIconRenderer:e,isSelected:t,isOnlyItemSelected:n}=this.props;return e?e(t,n):t?Ye.createElement("span",{className:"zhc-selection-list__item__selection-icon"},Ye.createElement(Ire,null)):null}render(){const{cache:e,children:t,index:n,hasItemBorder:s,isDisabled:r,isTextInfo:i,isHighlighted:o,onClick:a,parent:l,style:c,setHighlightIndex:d}=this.props,u=(0,_I.default)("zhc-selection-list__item",{"zhc-selection-list__item--is-highlighted":o,"zhc-selection-list__item--is-disabled":r,"zhc-selection-list__item--has-item-border":s,"zhc-selection-list__item--is-text-info":i});return Ye.createElement(gre.Z8,{cache:e,columnIndex:0,parent:l,rowIndex:n},Ye.createElement("div",{"aria-disabled":r?"true":void 0,className:u,style:c,onClick:r?void 0:a,onFocus:d,onMouseEnter:()=>{this.fireEnterOnNextMouseMove=!0},onMouseLeave:()=>{this.fireEnterOnNextMouseMove=!1},onMouseMove:()=>this.handleOnMouseMove(),tabIndex:r?-1:0},Ye.createElement("div",{className:"zhc-selection-list__item__content","data-cy":"selection-list-item-content"},t),this.renderSelectionIcon()))}}bre.defaultProps={hasItemBorder:!1,isDisabled:!1,isOnlyItemSelected:!1,isSelected:!1,isTextInfo:!1,customSelectionIconRenderer:null};const yre=Ye.memo(bre);function Sre(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t=>{const n=e?.[t]?.id;return!(s?.[String(n)]||!e||t>=e.length&&e.length>0||0===e.length)},i=t=>{if(!e)return!1;if(!r(t))return!1;const{id:n}=e[t];return!s[n]},o=()=>r(0)?0:-1,[a,l]=(0,Ye.useState)(o());(0,Ye.useEffect)((()=>{0===e?.length&&l(o())}),[e?.length]);const c=(t,n)=>{if(!e||t<0)return 0;if(t>=e.length)return e.length-1;const{id:r}=e[t];if(s[r]){const r=e[t-1]?.id,i=s?.[String(r)],o=e[t+1]?.id,a=s?.[String(o)];return 0===t?c(1,"down"):e.length-1===t?Object.keys(s).length>=e.length?-1:i?c(t-1,"up"):t-1:"down"===n?a?c(t+1,"down"):t+1:"up"===n?i?c(t-1,"up"):t-1:!i&&a?t-1:i&&!a?t+1:i&&a?c(t+1):t-1}return t},d=e=>{t?.current&&t.current.scrollToRow(e)},u=e=>{l(c(e))};let p=!1;const m=(e,t)=>{e.stopPropagation(),e.preventDefault(),p||(p=!0,setTimeout((()=>{u(t),d(t),p=!1}),0))},h=t=>{if(null!==e)switch(t.key){case"ArrowUp":m(t,c(a-1,"up"));break;case"ArrowDown":m(t,c(a+1,"down"));break;case"Enter":i(a)&&n(e[a],t)}},E=()=>{l(o()),d(0)};return{currentlyHighlightedIndex:a,resetHighlightAndScrollTop:E,setHighlightIndex:u,onKeyDownHighlight:h}}function wre(){return wre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wre.apply(this,arguments)}const Rre=e=>{let{hasItemBorder:t=!1,itemRenderer:n,items:s,onClickItem:r,onClose:i,maxHeight:o,width:a,title:l,anchorRef:c,selectedId:d,disabledItemMap:u={}}=e;const p=Ye.useRef(null),{currentlyHighlightedIndex:m,onKeyDownHighlight:h,setHighlightIndex:E}=Sre(s,p,((e,t)=>{t.preventDefault(),r(e.id,t)}),u);return(0,Ye.useEffect)((()=>{const e=c?.current;return e&&e.addEventListener("keydown",h),()=>{e&&e.removeEventListener("keydown",h)}})),Ye.createElement(Ere,{height:o,hasVariableHeight:true,width:a},Ye.createElement(mre,{disableMargin:!0,title:l,onClose:i}),Ye.createElement(_re,{parentHasVariableHeight:true,ref:p,items:s,rowRenderer:e=>{const{index:i}=e,o=s[i];return Ye.createElement(yre,wre({},e,{key:o.id,onClick:e=>r(o.id,e),setHighlightIndex:()=>E(i),isHighlighted:m===i,isSelected:d===o.id,hasItemBorder:t,isDisabled:u[o.id]}),n(o,i))}}))};function Tre(){return Tre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tre.apply(this,arguments)}const Cre=e=>{let{items:t,button:n,className:s,onSelectItem:r,headerText:i,hasItemBorder:o=!1,selectedId:a=null,maxHeight:l="283px",width:c="320px",popoverDepth:d,disabled:u=!1,disabledItemMap:p={},dataThemeOverride:m,dataScaleOverride:h}=e;const{anchorRef:E,closePopover:g,isOpen:f,togglePopover:_}=ene(!1),v=(0,Ye.useCallback)((e=>{"ESC"!==e.key&&"Escape"!==e.key&&"Tab"!==e.key||f&&(e.stopPropagation(),g())}),[g,f]);return(0,Ye.useEffect)((()=>{const e=E?.current;return e&&e.addEventListener("keydown",v),()=>{e&&e.removeEventListener("keydown",v)}}),[v,E]),Ye.createElement("span",{className:s},Ye.createElement(n.type,Tre({},n.props,{ref:E,onClick:e=>{u||(n.props.onClick&&n.props.onClick(e),_(),e.currentTarget.focus())}})),f&&Ye.createElement(Ene,{className:"selection-list-dropdown-popover",close:g,anchorRef:E,popoverDepth:d},Ye.createElement("div",{"data-theme":m,"data-scale":h},Ye.createElement(Rre,{anchorRef:E,hasItemBorder:o,itemRenderer:e=>{let{component:t}=e;return t},items:t,maxHeight:l,onClickItem:(e,t)=>{r(e,t),g()},onClose:g,selectedId:a,title:i,width:c,disabledItemMap:p}))))},kre=e=>!0===e?.flags?.["workspaces-github-projects-importer"],Ore=e=>!0===e?.flags?.["users-github-projects-importer"],Nre=e=>!0===e?.flags?.["workspaces-user-persona-form"],Pre=e=>!0===e?.flags?.["workspaces-roadmap-epic-flyover"],Are=e=>!0===e?.flags?.["workspaces-milestones-visibility"],Dre=e=>!0===e?.flags?.["workspaces-roadmap-project-flyover"],Lre=e=>!0===e?.flags?.["workspaces-platform-epics"],zre=e=>!0===e?.flags?.["workspaces-platform-invite-modal"],Mre="xnYTLNhYtnYnG6Eav4JS",xre=e=>{let{text:t}=e;return Ye.createElement("span",{className:"zhc-shortcut-indicator"},t)},Fre=e=>{let{shortcuts:t,connector:n}=e;if((0,_t.KN)(t))return null;const s=ee.kE(t),r=(0,_t.rS)(((e,t)=>{const r=t===s-1;return Ye.createElement("span",{key:t},Ye.createElement(xre,{text:e}),ee.kKJ(n)||r?" ":` ${n} `)}),t);return Ye.createElement("span",{className:"zhc-shortcut-indicators"},r)};Fre.defaultProps={connector:" "};const Ure=Fre,Bre=e=>{let{noRepos:t}=e;return Ye.createElement(YI,{modifiers:["wide"],content:t?"You need to add repos to this workspace first":"Connect with GitHub to unlock this feature"},Ye.createElement(Xse,null))},qre=e=>{let{onClickIssueItem:t,onClickEpicIssueItem:n,onClickMilestoneItem:s,onClickPipelineItem:r,onClickReleaseItem:i,onClickSprintItem:o,button:a}=e;const l=(0,l3.v9)(Are),c=(0,l3.v9)(Ua),d=(0,l3.v9)(Da)||[],{data:u}=cre(),p=(0,l3.v9)(Ou),m=(0,l3.v9)(Nu),h=!(0,_t.KN)(u?.workspace?.sprintConfig),E=0===d.length&&m,g=p||m&&E;let f=[{id:"openNewIssue",component:Ye.createElement(ure,{disabled:g,icon:g?Ye.createElement(Bre,{noRepos:E}):Ye.createElement(E9,null),title:"Issue",sub:"User story/piece of work",shortcut:Ye.createElement(Ure,{shortcuts:["n","i"]})}),onClick:t}];c||(f=[...f,{id:"openNewEpic",component:Ye.createElement(ure,{disabled:g,icon:g?Ye.createElement(Bre,{noRepos:E}):Ye.createElement(ere,null),title:"Epic",sub:"A group of issues",shortcut:Ye.createElement(Ure,{shortcuts:["n","e"]})}),onClick:n},{id:"openRelease",component:Ye.createElement(ure,{disabled:g,icon:g?Ye.createElement(Bre,{noRepos:E}):Ye.createElement(nre,null),title:"Release",sub:"A group of epics and issues"}),onClick:i}],l&&(f=[...f.slice(0,2),{id:"openMilestone",component:Ye.createElement(ure,{disabled:g,icon:g?Ye.createElement(Bre,{noRepos:E}):Ye.createElement(Zee,null),title:"Milestone",sub:"Weekly or bi-weekly sprint/goals"}),onClick:s},...f.slice(2)]),r&&(f=[...f,{id:"openPipeline",component:Ye.createElement(ure,{disabled:g,icon:g?Ye.createElement(Bre,{noRepos:E}):Ye.createElement(Wee,null),title:"Pipeline",sub:"A step in the workflow"}),onClick:r}]),h&&(f=[...f,{id:"divider",component:Ye.createElement("div",{className:Mre}),onClick:()=>{}}]),f=[...f,{id:"openSprints",component:Ye.createElement(ure,{disabled:g,icon:g?Ye.createElement(Bre,{noRepos:E}):Ye.createElement(rre,null),title:h?"Modify recurring sprints":"Sprints",sub:h?"":"Weekly or bi-weekly team goals",dataTestId:"open-sprints"}),onClick:o}]);const _={divider:!0,openNewIssue:g,openNewEpic:g,openRelease:g,openMilestone:g,openPipeline:g,openSprints:g};return Ye.createElement(Cre,{button:a,items:f,onSelectItem:(e,t)=>{if(g)return;const n=f.find((t=>t.id===e));n?.onClick&&n.onClick(t)},headerText:"Create...",maxHeight:(()=>{if(c)return"110px";let e=428;return r&&(e+=56),`${e}px`})(),popoverDepth:hne.BELOW_MODAL,disabledItemMap:_})},Hre=qre;var Wre=n(81306);const jre="YhZNbshLm_BIb8cyGMwE";const Gre=function(){const e=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{e?.current&&e.current.focus()}),[e.current]),Ye.createElement("button",{className:jre,ref:e,type:"button"})};var Kre=n(80934);const Vre=e=>{let{children:t,closePortal:n,className:s,entered:r,hideBackgroundOnTouchDevice:i,isBackgroundBlurred:o=!1,onFinishExitTransition:a,modifiers:l=[],modalStyle:c={},setEnteredToTrue:d,transitionDuration:u,transitionTiming:p,turnOverlayClickOff:m=!1}=e;const h=(0,Ye.useRef)(null),[E,g]=(0,Ye.useState)(null);(0,Ye.useEffect)((()=>(function(){const{body:e}=document;e.classList.add("zhu-modal-open")}(),function(){if(!PI)return;const e=LI();e?(zI=e.getAttribute("data-hotkey"),e.removeAttribute("data-hotkey")):oe("disableGhShortcuts - cannot find search input")}(),i&&CI()&&function(){const{body:e}=document;e.classList.add("zhu-modal-open--hide-background")}(),d(),()=>{document.querySelectorAll(".react-portal").length<1&&(function(){const{body:e}=document;e.classList.remove("zhu-modal-open")}(),function(){if(!PI)return;const e=LI();e?e.setAttribute("data-hotkey",zI):oe("disableGhShortcuts - cannot find search input")}()),document.querySelectorAll(".react-portal-hide-background").length<1&&function(){const{body:e}=document;e.classList.remove("zhu-modal-open--hide-background")}()})),[]);const f=e=>{if(m)return;const t=h.current;e.target===t!==E&&g(e.target===t)},_=e=>{if(m||!E)return;g(!1);const t=h.current;e.target===t&&(e.stopPropagation(),n())},v=Ye.Children.map(t,((e,t)=>"string"==typeof e.type?(0,Ye.cloneElement)(e,{key:t}):(0,Ye.cloneElement)(e,{entered:r,closePortal:n,key:t})));if(CI()&&i)return v;const I=(0,_I.default)("zhc-modal",{"zhc-modal--blurred-background":o},...l.map((e=>`zhc-modal--${e}`)),s),b={background:"rgba(0, 0, 0, 0.7)"};if(null==u)return Ye.createElement("div",{className:I,"data-cy":"modal","data-zh-flyover":"interactive",onMouseDown:f,onClick:_,ref:h,style:{...b,...c}},Ye.createElement("div",{className:"zhc-modal__content"},v));const y=`background ${u}ms ${p}`,S={entering:{},entered:b,exiting:{},exited:{},unmounted:{}};return Ye.createElement(Kre.ZP,{in:r,timeout:{enter:0,exit:u},onExited:a},(e=>Ye.createElement("div",{className:I,style:{transition:y,background:"rgba(0, 0, 0, 0)",...S[e],...c},onMouseDown:f,onClick:_,ref:h},Ye.createElement("div",{className:"zhc-modal__content"},v))))},$re=e=>{let{children:t,className:n,closeOnEsc:s=!0,isBackgroundBlurred:r=!1,isOpen:i=!1,hideBackgroundOnTouchDevice:o=!1,onClose:a=(()=>{}),modifiers:l=[],modalStyle:c={},shouldSyncScroll:d=!1,transitionDuration:u=null,transitionTiming:p=null,turnOverlayClickOff:m=!1}=e;const[h,E]=(0,Ye.useState)(!1),g=u?()=>E(!1):a,f=o&&CI()?"react-portal-hide-background":null;return i?Ye.createElement(ine,{additionalNodeClassNames:f,closeOnEsc:s,isOpen:i,onClose:g,shouldSyncScroll:d},Ye.createElement(Vre,{className:n,hideBackgroundOnTouchDevice:o,isBackgroundBlurred:r,entered:h,onFinishExitTransition:a,modifiers:l,modalStyle:c,setEnteredToTrue:()=>E(!0),closePortal:g,transitionDuration:u,transitionTiming:p,turnOverlayClickOff:m},t)):null},Zre=e=>{let{modalTitle:t,onClose:n}=e;const s=(0,_I.default)("zhc-modal__header",{"zhc-modal__header--no-title":null==t});return Ye.createElement("div",{className:s},Ye.createElement("span",{className:"zhc-modal__header__title","data-cy":"modal-header"},t),Ye.createElement("span",{className:"zhc-modal__header__close","data-cy":"close",onClick:n},Ye.createElement(Z5,null)))};function Yre(){return Yre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yre.apply(this,arguments)}const Jre=e=>t=>{let{modalTitle:n,closePortal:s,...r}=t;return Ye.createElement("div",{className:"zhc-modal__layout"},Ye.createElement(Zre,{modalTitle:n,onClose:s}),Ye.createElement("div",{className:"zhc-modal__body","data-cy":"modal-body"},Ye.createElement(e,Yre({},r,{modalTitle:n,closePortal:s}))))},Xre=$re,Qre={isOpen:!1},eie={...Qre,closeModal:()=>({}),openModal:()=>({})};let tie;!function(e){e.OPEN="open",e.CLOSE="close"}(tie||(tie={}));const nie=(e,t)=>{switch(t.type){case tie.OPEN:return{...e,isOpen:!0};case tie.CLOSE:return{...e,isOpen:!1};default:return e}},sie=(0,Ye.createContext)(eie);sie.displayName="Sprints.UIContext";const rie=e=>{let{children:t,overrideStateProps:n={}}=e;const[s,r]=(0,Ye.useReducer)(nie,{...Qre,...n}),{isOpen:i}=s,o=()=>r({type:tie.OPEN}),a=()=>r({type:tie.CLOSE}),l=(0,Ye.useMemo)((()=>({isOpen:i,closeModal:a,openModal:o})),[i]);return Ye.createElement(sie.Provider,{value:l},t)},iie=()=>(0,Ye.useContext)(sie);function oie(e){let{closePortal:t,additionalActions:n,children:s}=e;return Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title","data-cy":"modal-header-title","data-testid":"zhc-modal-header-title"},s),n,Ye.createElement("span",{className:"zhc-modal__header__close",onClick:t},Ye.createElement(Z5,null)))}oie.defaultProps={additionalActions:null};const aie=oie,lie="knnc9ucQRHr9Qw4Y2PqL",cie=()=>Ye.createElement("div",{className:lie},Ye.createElement(f5,null)),die="Dz8zTUt7TmqRCAI93H4K",uie=()=>Ye.createElement("div",{className:die},Ye.createElement(n5,null)),pie=bb.Ps`
  mutation createSprintConfig($input: CreateSprintConfigInput!) {
    createSprintConfig(input: $input) {
      sprintConfig {
        id
      }
    }
  }
`,mie=e=>{const t=(0,l3.v9)(Pa),[n]=(0,vK.D)(pie,{onCompleted:()=>{e(),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"Sprints created!",expirationDelay:2e3})},onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})},update:(e,n)=>{e.modify({id:e.identify({id:t,__typename:"Workspace"}),fields:{sprintConfig:()=>n.data?.createSprintConfig?.sprintConfig||null}})}});return e=>{n({variables:{input:{sprintConfig:e}}})}};var hie=n(66688);const Eie=_p().toDate();Yp(Eie,"days",14);let gie;!function(e){e.NAME="name",e.START_ON="startOn",e.END_ON="endOn",e.MOVE_UNFINISHED_ISSUES="moveUnfinishedIssues",e.MOVE_FROM_PIPELINE="issuesFromPipelineEnabled",e.STORY_POINTS="issuesFromPipelineTotalStoryPoints",e.SOURCE_PIPELINE="issuesFromPipelinePipelineId"}(gie||(gie={}));const fie={[gie.NAME]:"Sprint",[gie.START_ON]:null,[gie.END_ON]:null,[gie.MOVE_UNFINISHED_ISSUES]:!0,[gie.MOVE_FROM_PIPELINE]:!1,[gie.STORY_POINTS]:void 0,[gie.SOURCE_PIPELINE]:null},_ie=e=>{const t=(0,hie.U$)(e),n=t.input.value;return[n,()=>{t.input.onChange(!n)}]},vie="SnmwtvEUwaY8EFPATjlM",Iie=e=>{let{text:t,href:n,pageName:s,extraClassNames:r}=e;return Ye.createElement("a",{href:n,target:"_blank",rel:"noreferrer",onClick:()=>{(e=>{e&&r6("Give Feedback",{"Page Name":e})})(s)},className:`${r} ${vie}`},t)},bie=Ise,yie="zl0G_VJLytKo9isCbIpw",Sie="lNB8hKQ96hbJi0I3FAsu",wie={},Rie=bb.Ps`
  query getWorkspacePipelines($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      pipelines {
        id
        name
      }
    }
  }
`;const Tie=()=>{const e=(0,l3.v9)((e=>Na(e))),t=e?._id,n=function(e){const t={...wie,...e};return cy.a(Rie,t)}({variables:{workspaceId:t},fetchPolicy:"no-cache"}),{data:s}=n;return s?.workspace?.pipelines||[]};function Cie(){return Cie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cie.apply(this,arguments)}const kie="zhc-sprint-pipeline-transfer-details",Oie=["-","+","e"],Nie=e=>{let{disabled:t=!1}=e;const n=(0,hie.cI)(),{submitFailed:s}=n.getState(),r=(0,hie.U$)(gie.STORY_POINTS),i=(r.meta.modified||s)&&r.meta.error,o=Tie(),a=(0,hie.U$)(gie.SOURCE_PIPELINE),l=a.input.value,c=(a.meta.modified||s)&&a.meta.error,d=o.find((e=>{let{id:t}=e;return t===l}))?.name,u=!(0,_t.KN)(l)?Ye.createElement("span",null,d):Ye.createElement("span",{className:"zhu-color-grey"},"Select a pipeline"),p=o.map((e=>({component:Ye.createElement("div",null,e.name),id:e.id}))),m=(0,_I.default)("zhc-input",`${kie}__story-points-input`,{"zhc-input--disabled":t});return Ye.createElement("div",{className:kie,"data-cy":"sprint-pipeline-details","data-testid":"zhc-sprint-pipeline-transfer-details"},Ye.createElement("div",{className:`${kie}__story-points-label`},"Add up to the first"),Ye.createElement("input",Cie({id:"story-points","data-testid":"sprint-story-points-input",className:m,"data-cy":"sprint-pipeline-story-point",placeholder:"Number of"},r.input,{onChange:e=>{let{value:t}=e.target;Oie.includes(t)&&(t="0"),r.input.onChange(Math.abs(Number(t)||0))},disabled:t})),Ye.createElement("label",{htmlFor:"story-points",className:`${kie}__story-points-secondary-label`},"Story points"),i&&Ye.createElement("div",{className:`${kie}__story-points-error`,"data-cy":"sprint-story-points-error"},i),Ye.createElement("div",{className:`${kie}__pipeline-label`},"From pipeline"),Ye.createElement(Cre,{className:`${kie}__pipeline-selector`,button:Ye.createElement(H5,{disabled:t,width:D5.FULL,ariaLabel:"Select Issue Type"},u,Ye.createElement(gte,null)),items:p,selectedId:l,onSelectItem:e=>{a.input.onChange(e)},headerText:"Choose pipeline",hasItemBorder:!0}),c&&Ye.createElement("div",{className:`${kie}__pipeline-error`},c))},Pie=e=>(0,_I.default)({"zhu-font-bold":!0,"zhu-text-secondary":!e}),Aie=e=>{let{averageSprintVelocity:t,closedSprintsCount:n,disabled:s,initialStoryPoints:r}=e;const[i,o]=_ie(gie.MOVE_UNFINISHED_ISSUES),[a,l]=_ie(gie.MOVE_FROM_PIPELINE),{change:c}=(0,hie.cI)();(0,Ye.useEffect)((()=>{r||c(gie.STORY_POINTS,t)}),[t]);const d=Boolean(t)&&n>2,u=n>6?7:n;return Ye.createElement("div",{className:"zhc-sprint-issue-settings","data-cy":"sprint-settings","data-testid":"sprint-settings"},Ye.createElement("div",{className:"zhc-sprint-issue-settings__header","data-cy":"sprint-settings-header"},Ye.createElement("span",{className:"zhu-font-bold zhc-sprint-issue-settings__title"},"Automatically add Issues to a sprint"),Ye.createElement(Iie,{href:"https://portal.productboard.com/zenhub/1-zenhub-s-roadmap/c/106-sprint-automation-early-access",pageName:"Sprint Modal",extraClassNames:"zhc-sprint-issue-settings__feedback-link",text:"Give feedback"})),Ye.createElement("div",{className:"zhc-sprint-issue-settings__option","data-cy":"settings-move-unfinished"},Ye.createElement(pse,{testId:"unfinished-issues-toggle",className:"zhu-flex zhu-flex--justify-center zhc-issue-setting__toggle",disabled:s,onChange:o,isActive:i}),Ye.createElement("div",null,Ye.createElement("div",{className:Pie(i)},"Move unfinished Issues to the next Sprint"),Ye.createElement("div",{className:"zhu-text-secondary"},"Open Issues from a closing Sprint will be moved to the next Sprint."))),Ye.createElement("div",{className:"zhc-sprint-issue-settings__option","data-cy":"settings-auto-add"},Ye.createElement(pse,{className:"zhu-flex zhu-flex--justify-center zhc-issue-setting__toggle",testId:"sprints-pipeline-transfer-toggle",disabled:s,onChange:l,isActive:a}),Ye.createElement("div",null,Ye.createElement("div",{className:Pie(a)},"Automatically build new Sprints from the backlog"),Ye.createElement("div",{className:"zhu-text-secondary"},"At the end of your current Sprint, build your next Sprint with Issues from your backlog pipeline. Issues already in the new Sprint will count toward the limit as well.")),a&&Ye.createElement(Ye.Fragment,null,Ye.createElement(Nie,{disabled:s}),d&&Ye.createElement("div",{"data-testid":"sprint-issue-settings-options-banner",className:"zhc-sprint-issue-settings__option__banner"},Ye.createElement(bie,{modifiers:["neutral"]},Ye.createElement("div",{className:yie},Ye.createElement(Gee,null),Ye.createElement("span",{className:Sie},"The average velocity from the last ",u," ","Sprints is around"," ",Ye.createElement("strong",null,t," story points"))))))))},Die=e=>null===e?null:"object"==typeof e?e:Rp(e),Lie=(e,t)=>null===e&&null===t||null!==e&&null!=t&&e.toISOString()===t.toISOString(),zie=(e,t)=>{const n=Die(e.startOn),s=Die(e.endOn),r=Die(t.startOn),i=Die(t.endOn);return!Lie(n,r)||!Lie(s,i)},Mie=(e,t)=>(0,_t.KN)(e)?{}:{[gie.MOVE_UNFINISHED_ISSUES]:e.settings.moveUnfinishedIssues,[gie.SOURCE_PIPELINE]:e.settings.issuesFromPipeline.pipelineId,[gie.STORY_POINTS]:e.settings.issuesFromPipeline.totalStoryPoints,[gie.MOVE_FROM_PIPELINE]:e.settings.issuesFromPipeline.enabled,[gie.NAME]:e.name,[gie.START_ON]:t.startOn,[gie.END_ON]:t.endOn},xie=(e,t)=>({workspaceId:t,settings:{moveUnfinishedIssues:e[gie.MOVE_UNFINISHED_ISSUES],issuesFromPipeline:{pipelineId:e[gie.SOURCE_PIPELINE],totalStoryPoints:e[gie.STORY_POINTS],enabled:e[gie.MOVE_FROM_PIPELINE]}},name:e[gie.NAME],endOn:e[gie.END_ON]?Rp(e[gie.END_ON]).format("YYYY-MM-DDTHH:mm:ss"):null,startOn:e[gie.START_ON]?Rp(e[gie.START_ON]).format("YYYY-MM-DDTHH:mm:ss"):null,tzIdentifier:nm()}),Fie=e=>t=>{const n={};t[gie.MOVE_FROM_PIPELINE]&&((0,_t.KN)(t[gie.STORY_POINTS])&&(n[gie.STORY_POINTS]="This field is required"),0===t[gie.STORY_POINTS]&&(n[gie.STORY_POINTS]="Total story points must be greater than 0"),(0,_t.KN)(t[gie.SOURCE_PIPELINE])&&(n[gie.SOURCE_PIPELINE]="Please provide a pipeline"));const s=t[gie.END_ON],r=t[gie.START_ON];var i;return zie(e,{startOn:r,endOn:s})&&s&&Lp(s,(i=1,_p().add(i,"days").format()))&&(n[gie.START_ON]="End date must be in the future"),r&&s||(n[gie.START_ON]="Please specify a start and end date"),n},Uie=e=>{let{render:t,initialFormValues:n={},initialFormDates:s={startOn:null,endOn:null},onSubmit:r}=e;return Ye.createElement(hie.l0,{onSubmit:r,validate:Fie(s),initialValues:{...fie,...Mie(n,s)},render:t})};function Bie(){return Bie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bie.apply(this,arguments)}const qie=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--swap",t].filter(Boolean).join(" "),"aria-label":"swap",role:"img",...n};return Ye.createElement("svg",Bie({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"swap_svg__a",d:"M4.176 3.205c.26.26.26.683 0 .943l-.942.943a2 2 0 000 2.828l5.508 5.51v-2.124a.667.667 0 111.334 0v3.771a.667.667 0 01-.667.667H5.64a.667.667 0 110-1.334h2.198L2.291 8.862a3.333 3.333 0 010-4.714l.943-.943c.26-.26.682-.26.942 0zM10.362.257a.667.667 0 110 1.334h-2.2l5.547 5.547a3.333 3.333 0 010 4.714l-.943.943a.667.667 0 01-.942-.943l.942-.943a2 2 0 000-2.828l-5.51-5.51.001 2.124a.667.667 0 11-1.333 0V.924c0-.368.298-.667.667-.667z"}),Ye.createElement("mask",{id:"swap_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#swap_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#swap_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#swap_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};var Hie=n(51154),Wie=n.n(Hie);function jie(e){return Wie().tz(e,nm()).toDate()}const Gie=e=>{if(e){const t=[];return e.slice(1,e.length).forEach((e=>{((e,t)=>{const n=[];for(let s=e;s<=t;s.setDate(s.getDate()+1))n.push(new Date(s));return n})(new Date(jie(e.startAt)),new Date(jie(e.endAt))).forEach((e=>{const n=fp(e);t.push(n)}))})),t}return[]},Kie={},Vie=bb.Ps`
  mutation renameSprint($input: UpdateSprintInput!) {
    updateSprint(input: $input) {
      sprint {
        id
        name
      }
    }
  }
`;const $ie="ZnTpZQXfOshGjUl4zkja",Zie="kwKV5iJ2Yk3bUcIoqj33",Yie="OnVxkInMK4SM6nxzr69f";function Jie(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Xie=256,Qie=e=>{let{initialTitle:t="",isOpen:n,onSubmit:s,onToggleOpen:r,shouldClearInputOnSubmit:i=!0}=e;const[o,a]=(0,Ye.useState)(""),[l,c]=(0,Ye.useState)(t),[d,u]=(0,Ye.useState)(!1),p=(0,Ye.useRef)(null),m=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{n&&m.current?.focus()}),[n]);const h=()=>{c(""),a(""),r()};if(!n)return null;const E=function(){var e,t=(e=function*(e){e.preventDefault();const t=l.trim();if(t.length){u(!0),i&&c("");try{yield s(t),a(""),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"Sprint renamed. Reload the board to see the changes.",expirationDelay:4e3})}catch{a("Unable to save the sprint. Please try again")}u(!1),m.current?.focus()}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Jie(i,s,r,o,a,"next",e)}function a(e){Jie(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Ye.createElement("form",{ref:p,className:$ie,onSubmit:E},Ye.createElement("label",null,Ye.createElement("span",{className:"zh-sr-only"},"Title of this Sprint"),Ye.createElement("input",{className:"zhc-input",maxLength:Xie,name:"title",onBlur:e=>{const t=e.relatedTarget;p.current?.contains(t)||r()},onChange:e=>{const t=e.target;t.value.length>=Xie?(a("Cannot exceed 256 characters"),c(t.value.slice(0,Xie))):(c(t.value),a(""))},onKeyDown:e=>{"Escape"===e.key&&(e.nativeEvent.stopImmediatePropagation(),h())},placeholder:"Title of this Sprint",ref:m,value:l})),o&&Ye.createElement("div",{className:Yie},o),Ye.createElement("div",{className:Zie},Ye.createElement(H5,{onClick:h,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{disabled:!l.trim().length||d,color:L5.ACTION,type:x5.SUBMIT},"Save")))},eoe="l1EOCE6BBZg9dllw2SFv",toe="ItxUGZGow5IAQ59mZlNQ",noe="mK9Y89ByfpdhF6LbdQWH",soe="mJhZhf1YB_CHMnBu3TF_",roe="sNtOHDfndl_Rfn9iHuPS",ioe="ozk6_gwbaDuMgHVybtxJ",ooe="pXQhpiThXYGajQL8GCQQ";function aoe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const loe=e=>{let{isRenameEnabled:t,sprint:n}=e;const[s]=function(e){const t={...Kie,...e};return vK.D(Vie,t)}(),[r,i]=(0,Ye.useState)(!1),o=function(){var e,t=(e=function*(e){n.id&&(yield s({variables:{input:{sprintId:n.id,name:e}}}),i(!1))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){aoe(i,s,r,o,a,"next",e)}function a(e){aoe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return r?Ye.createElement("div",{className:(0,_I.default)(eoe,toe),"data-cy":"sprint-preview"},Ye.createElement(Qie,{initialTitle:n.name??"",isOpen:r,onSubmit:o,onToggleOpen:()=>i(!1),shouldClearInputOnSubmit:!1})):Ye.createElement("div",{className:eoe,"data-cy":"sprint-preview"},Ye.createElement(rre,null),Ye.createElement("div",{"data-cy":"preview-content"},t?Ye.createElement("button",{"aria-label":"Rename Sprint",className:(0,_I.default)(noe,roe),type:"button",onClick:()=>i(!0)},Ye.createElement("span",{className:soe},n.name),Ye.createElement("span",{className:ioe},"Rename")):Ye.createElement("p",{className:noe},n.name),Ye.createElement("div",{className:ooe},(a=jie(n.startAt),l=jie(n.endAt),!(!Boolean(a)||!Boolean(l))&&(Mp(a)&&Mp(l)?`${tm(a)}, ${jp(a)} - ${tm(l)}, ${jp(l)}`:Up(a,l)&&xp(a)&&xp(l)?`${tm(a)}, ${Bp(a)} - ${tm(l)}, ${jp(l)}`:Up(a,l)&&Fp(a)&&Fp(l)?`${tm(a)}, ${jp(a)} - ${tm(l)}, ${Bp(l)}`:`${tm(a)}, ${Bp(a)} - ${tm(l)}, ${Bp(l)}`)))));var a,l};var coe=n(25068);function doe(){return doe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},doe.apply(this,arguments)}const uoe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--calendar",t].filter(Boolean).join(" "),"aria-label":"calendar",role:"img",...n};return Ye.createElement("svg",doe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M13.333 5.374V4a.667.667 0 00-.666-.667h-1.334V4A.667.667 0 1110 4v-.667H6V4a.667.667 0 01-1.333 0v-.667H3.333A.667.667 0 002.667 4v1.374zm0 1.3H2.667v6.66c0 .368.298.666.666.666h9.334a.667.667 0 00.666-.667zM6 2h4v-.667a.667.667 0 111.333 0V2h1.334a2 2 0 012 2v9.333a2 2 0 01-2 2H3.333a2 2 0 01-2-2V4a2 2 0 012-2h1.334v-.667a.667.667 0 111.333 0z",fill:"currentColor"}))};var poe=n(69122),moe=n(98681);function hoe(){return hoe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hoe.apply(this,arguments)}const Eoe=e=>{const{alwaysOpen:t=!1,focusOnEndDate:n=!1,initialFocus:s=null,...r}=e,{disabled:i=!1,endDate:o,isOutsideRange:a=(()=>!1),onDatesChange:l,startDate:c,withPortal:d=!1}=r,u=()=>s||(t?n?moe.END_DATE:moe.START_DATE:null),[p,m]=(0,Ye.useState)(u());let h=c?Ip(c):null,E=o?Ip(o):null;h&&E&&Lp(E,h)&&(h=null,E=null);const[g,f]=(0,Ye.useState)(h),[_,v]=(0,Ye.useState)(E);(0,Ye.useEffect)((()=>{m(u())}),[t]);return Ye.createElement("div",{className:"zhc-date-range"},Ye.createElement(poe.DateRangePicker,hoe({},r,{customInputIcon:Ye.createElement(uoe,null),disabled:i,isOutsideRange:a,withPortal:d,endDateId:moe.END_DATE,focusedInput:p,initialVisibleMonth:(()=>{const e="startDate"===p?g:_;return e?()=>e:null})(),onFocusChange:e=>{t&&!e||m(e)},onDatesChange:e=>{let{startDate:t,endDate:n}=e;f(t),v(n),l({startDate:t?bp(t):null,endDate:n?bp(n):null})},readOnly:!0,showClearDates:!0,displayFormat:"MMM D, Y",startDateId:moe.START_DATE,enableOutsideDays:!0,weekDayFormat:"ddd",startDate:g,endDate:_})))},goe=e=>{let{isEditable:t,sprintPreviewConfigData:n,onChange:s}=e;const r=n?jie(n[0].startAt):null,i=n?jie(n[0].endAt):null,o=n?Gie(n):[],a=n?(l=n)?l.slice(1,l.length).map((e=>fp(jie(e.startAt)))):[]:[];var l;const c=n?(e=>e?e.slice(1,e.length).map((e=>fp(jie(e.endAt)))):[])(n):[],d=(0,_I.default)("zhc-sprint-calendar",{"zhc-sprint-calendar--preview":!t});return Ye.createElement("div",{className:d},Ye.createElement(Eoe,{noBorder:!0,startDate:r,endDate:i,daySize:43,disabled:!t,alwaysOpen:!0,customInputIcon:t?Ye.createElement(uoe,null):null,onDatesChange:e=>{let{startDate:t,endDate:n}=e;s(t,n)},numberOfMonths:1,enableOutsideDays:!0,isDayHighlighted:e=>o.some((t=>(0,coe.default)(e,t))),renderDayContents:e=>{const t=Ye.createElement("div",{className:"zh-CalendarDay"},e.date()),n=(0,_I.default)("zh-CalendarDay_container",{"zh-CalendarDay_container__selected--start":(0,coe.default)(e,fp(r)),"zh-CalendarDay_container__selected--end":(0,coe.default)(e,fp(i)),"zh-CalendarDay_container__highlighted--start":a.some((t=>(0,coe.default)(e,t))),"zh-CalendarDay_container__highlighted--end":c.some((t=>(0,coe.default)(e,t)))});return"zh-CalendarDay_container"===n?t:Ye.createElement("div",{className:n},t)}}))},foe=e=>{let{children:t,icon:n}=e;return Ye.createElement("div",{className:"zhc-sprint-info-box","data-cy":"sprint-info"},Ye.createElement("span",{className:"zhc-sprint-info-box__icon"},n),t)},_oe=bb.Ps`
  fragment previewSprint on Sprint {
    name
    startAt
    endAt
  }
`,voe={},Ioe=bb.Ps`
  query previewSprintConfig(
    $startOn: ISO8601Date!
    $endOn: ISO8601Date!
    $tzIdentifier: String!
  ) {
    previewSprintConfig(startOn: $startOn, endOn: $endOn, tzIdentifier: $tzIdentifier) {
      periodInWeeks
      sprints {
        ...previewSprint
      }
    }
  }
  ${_oe}
`;const boe=(e,t,n,s,r)=>function(e){const t={...voe,...e};return cy.a(Ioe,t)}({variables:{startOn:e?rm(e):null,endOn:t?rm(t):null,tzIdentifier:n},skip:s,fetchPolicy:"cache-and-network",...r}),yoe="Cannot return null for non-nullable field SprintConfigPreview.period";function Soe(e){let{onOutOfBoundsError:t}=e;const n=(0,hie.cI)(),s=(0,hie.U$)(gie.START_ON),r=(0,hie.U$)(gie.END_ON),[i,o]=(0,Ye.useState)(s.input.value&&r.input.value),a=s.input.value?s.input.value:null,l=nm(),c=!i,d=r.input.value?r.input.value:null,u={onError:e=>{e.message!==yoe&&oe("Error returning Sprint preview period due to out of bounds inputs",e)},context:{disableGlobalErrorHandler:!0}},p=boe(a,d,l,c,u),{error:m,data:h,loading:E}=p,g=function(e){const[t,n]=(0,Ye.useState)(!0);return(0,Ye.useEffect)((()=>{t&&!e&&n(!1)}),[e]),t}(E);return(0,Ye.useEffect)((()=>{t&&t(m?.message===yoe)}),[m?.message,t]),{onChange:(e,t)=>{n.change(gie.START_ON,e),n.change(gie.END_ON,t),e&&t&&o(!0),null!==e&&null!==t||o(!1)},isDateRangeComplete:i,hasInitialPreview:g,sprintPreviewConfigData:h?.previewSprintConfig||null}}const woe=e=>{let{isEditingSchedule:t,isPeriodOutOfBounds:n,onEditScheduleClick:s=(()=>{}),onOutOfBoundsError:r,openSprints:i}=e;const o=(0,hie.U$)(gie.START_ON),a=(0,hie.U$)(gie.END_ON),l=o.meta.error,c=!o.input.value||!a.input.value,{onChange:d,isDateRangeComplete:u,sprintPreviewConfigData:p,hasInitialPreview:m}=Soe({onOutOfBoundsError:r}),h=p?.periodInWeeks,E=(t?p?.sprints:i)??null,g=E?.[0].startAt,f=p?(_=g,cc()(_).format("dddd")):"";var _;return Ye.createElement("div",{className:"zhc-sprint-settings__dates-section","data-cy":"sprint-dates-section"},t&&Ye.createElement("h5",{className:"zhc-sprint-settings__date-picker-header"},"Specify the first start and end date"),Ye.createElement("div",{className:"zhc-sprint-settings__calendar-spacer"},!t&&Ye.createElement(H5,{variant:z5.CONTAINED,color:L5.SECONDARY,onClick:()=>{d(null,null),s()},width:D5.FULL},"Change Sprint schedule"),m?null:Ye.createElement(goe,{key:t?"display":"editable",isEditable:t,onChange:d,sprintPreviewConfigData:E})),(!t||!l&&u)&&Ye.createElement(Ye.Fragment,null,Ye.createElement(foe,{icon:Ye.createElement(qie,null)},Ye.createElement("span",null,"Repeats every",h?Ye.createElement("span",{className:"zhu-text-important","data-cy":"sprint-period"}," ",(v=h)?1===v?"week":`${v} weeks`:""," on ",`${f}`):" ...")),Ye.createElement("h5",null,"Upcoming Sprints"),E?.map(((e,t)=>Ye.createElement(loe,{isRenameEnabled:"id"in e,key:t,sprint:e}))),Ye.createElement("p",{className:"sprint-preview-summary","data-cy":"sprint-preview-summary"},i?null:Ye.createElement("strong",null,E?.length," Sprints will be created."),"New sprints will be created continuously as each sprint ends.")),!c&&t&&n&&!l&&Ye.createElement("p",{className:"zhc-sprint-settings__calendar-validation","data-cy":"sprints-date-validation"},"We recommend sprints be 1-2 weeks long to accurately and predictably track work. Try creating a Release to track longer and larger pieces of work."),!c&&t&&l&&Ye.createElement("p",{className:"zhc-sprint-settings__calendar-validation","data-cy":"sprints-date-validation"},l));var v},Roe=e=>{let{children:t,disabled:n,onClick:s}=e;const r=(0,hie.U$)(gie.START_ON),i=(0,hie.U$)(gie.END_ON),o=r.meta.error,a=!r.input.value||!i.input.value,l=Ye.createElement(H5,{dataTestId:"sprint-settings-submit-button",color:L5.ACTION,disabled:n,onClick:s},t);return a?Ye.createElement(YI,{content:o},l):l},Toe=e=>{let{initialFormValuesOverride:t,initialFormDatesOverride:n,averageSprintVelocity:s,closedSprintsCount:r}=e;const[i,o]=(0,Ye.useState)(!1),a=(0,l3.v9)(Pa),{closeModal:l}=iie(),c=mie(l);return Ye.createElement(Uie,{onSubmit:e=>{c(xie(e,a)),r6("Sprints",{Action:"Create",Module:"Neutral"})},initialFormValues:t,initialFormDates:n,render:e=>{let{submitting:t,valid:n,form:a}=e;const l=!n||t;return Ye.createElement("div",{className:"zhc-sprint-settings","data-testid":"zhc-new-sprint-settings"},Ye.createElement("div",{className:"zhc-sprint-settings__main-section"},Ye.createElement("div",{className:"zhc-sprint-settings__issues-section"},Ye.createElement(Aie,{closedSprintsCount:r,averageSprintVelocity:s}))),Ye.createElement("div",{className:"zhc-sprint-settings__footer","data-cy":"sprint-settings-footer"},Ye.createElement(Roe,{disabled:l,onClick:a.submit},"Create sprints")),Ye.createElement(woe,{isEditingSchedule:!0,isPeriodOutOfBounds:i,onOutOfBoundsError:o}))}})},Coe=e=>{let{body:t=null,title:n,onCancel:s,onConfirm:r,options:i={cancelText:"Cancel",confirmText:"Confirm",hasCloseButton:!1,isDangerous:!1,isWide:!1}}=e;const{cancelText:o="Cancel",confirmText:a="Confirm",hasCloseButton:l=!1,isDangerous:c=!1,isWide:d=!1}=i,u=(0,_I.default)("zhc-confirmation-modal",{"zhc-confirmation-modal--wide":d});return Ye.createElement("div",{className:u,"data-cy":"confirmation-modal"},Ye.createElement("div",{className:"zhc-confirmation-modal__header","data-cy":"confirmation-modal-header"},Ye.createElement("h2",null,n),l&&Ye.createElement("span",{className:"zhc-modal__header__close","data-cy":"close",onClick:s},Ye.createElement(n5,null))),Ye.createElement("div",{className:"zhu-font-large zhu-text-secondary-dark"},t),Ye.createElement("div",{className:"zhc-confirmation-modal__controls"},o?Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:s},o):null,Ye.createElement(H5,{color:c?L5.DANGER:L5.PRIMARY,"data-cy":"confirm",onClick:r,padding:M5.EXTRA_TIGHT,variant:z5.OUTLINED},a)))},koe=e=>{let{isOpen:t=!0,...n}=e;return Ye.createElement(Xre,{isOpen:t,modifiers:["confirmation-modal"],turnOverlayClickOff:!0},Ye.createElement(Coe,n))};var Ooe=n(22570);function Noe(){return Noe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Noe.apply(this,arguments)}const Poe=(0,Ooe.mP)((e=>{let{show:t,proceed:n,cancel:s,...r}=e;return Ye.createElement(l3.zt,{store:t2},Ye.createElement(koe,Noe({isOpen:t,onConfirm:n,onCancel:s},r)))})),Aoe=(0,Ooe.LA)(Poe),Doe=(e,t,n)=>Aoe({title:e,body:t,options:n});function Loe(){return Vt.Z.parseQueryString((0,$8.TH)().search)}var zoe=n(68891);function Moe(){return Moe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Moe.apply(this,arguments)}const xoe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--estimate",t].filter(Boolean).join(" "),"aria-label":"estimate",role:"img",...n};return Ye.createElement("svg",Moe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.988 3.144a.218.218 0 01.261-.156l5.569 1.616H8.59l.394-1.449.003-.01zm-2.15 1.46l.512-1.917A1.918 1.918 0 019.7 1.348l.007.002 10.076 2.925a1.918 1.918 0 011.343 2.35L17.5 21.644a1.917 1.917 0 01-.5.862v-.016a1.936 1.936 0 01-1.47.673H4.744c-1.045 0-1.922-.83-1.922-1.896V6.5c0-1.066.877-1.896 1.922-1.896h2.095zm10.617 9.982l2.029-8.407a.218.218 0 00-.155-.265l-.008-.002-2.364-.687c.308.334.498.78.498 1.275v8.086zM4.421 6.5c0-.146.125-.296.322-.296h10.79c.197 0 .322.15.322.296v14.766a.314.314 0 01-.324.298H4.743c-.197 0-.322-.15-.322-.296V6.5z",fill:"currentColor"}))};var Foe=n(56141),Uoe=n.n(Foe);const Boe="zhc-selection-list__loadable-content",qoe=e=>{let{children:t,emptyState:n,isLoading:s=!1,isEmpty:r=(e=>0===e.length),loadingState:i=Ye.createElement("div",null,"Loading..."),items:o=null}=e;return!o||s?Ye.createElement("div",{className:`${Boe}__fallback`},i):r(o)?Ye.createElement("div",{className:`${Boe}__fallback`},n):t()};function Hoe(){return Hoe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hoe.apply(this,arguments)}const Woe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--search",t].filter(Boolean).join(" "),"aria-label":"search",role:"img",...n};return Ye.createElement("svg",Hoe({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M15.7 14.3l-3.81-3.83A5.93 5.93 0 0013 7c0-3.31-2.69-6-6-6S1 3.69 1 7s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3s.52-.09.7-.3a.996.996 0 000-1.41zM7 11.7c-2.59 0-4.7-2.11-4.7-4.7S4.41 2.3 7 2.3s4.7 2.11 4.7 4.7-2.11 4.7-4.7 4.7z"}))},joe="not",Goe=["n","no","not","not:"],Koe=e=>{let{autoFocus:t=!0,className:n,placeholder:s,onBlur:r,onClick:i,onChange:o,allowNegatedSearch:a,showSearchIcon:l=!0}=e;const[c,d]=(0,Ye.useState)(""),u=Ye.useRef(null),p=()=>c?.trim()&&Goe.includes(c)?joe:null;(0,Ye.useEffect)((()=>{const e={negated:!1,term:c};if(a){const t="not:",n=c.split(/:(.+)/),[s,r]=n;e.term=s,(n.length>2||s===t)&&(e.term=r||""),e.negated=c.includes(t)}o(e)}),[c]),(0,Ye.useEffect)((()=>{t&&u.current?.focus({preventScroll:!0})}),[t]);const m=a?`${s} or type not: for exclusions`:s;return Ye.createElement("div",{className:(0,_I.default)("zhc-selection-list__search-bar",n),"data-cy":"selection-list-search-bar"},Ye.createElement("div",{className:"zhc-selection-list__search-bar__content"},l?Ye.createElement(Woe,null):null,Ye.createElement("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:(0,_I.default)({"zhc-selection-list__search-bar__content--has-icon":l}),"data-cy":"search",placeholder:m,spellCheck:"false",ref:u,value:c,type:"text",onBlur:r,onClick:i,onChange:e=>{d(e.target.value)},onKeyDown:e=>{if(a&&"Tab"===e.key){p()&&(e.preventDefault(),d("not:"))}}}),a?Ye.createElement("div",{className:(0,_I.default)("zhc-selection-list__search-bar__content_overlay",{"zhc-selection-list__search-bar__content_overlay--has-icon":l})},Ye.createElement(bte,{text:(()=>{if(!c||!c?.match(/^not/)?.[0])return null;return c.split(":")?.length>1?joe:null})()}),Ye.createElement(wte,{searchText:c||"",suggestion:p()})):null))},Voe=Ye.memo(Koe),$oe=(e,t)=>{const n=[],s=[];return Object.entries(e).forEach((e=>{let[r,i]=e;const o=Boolean(i?.isNegated),a=Boolean(i?.isSelected);Boolean(t[r]?.isSelected)===a&&Boolean(t[r]?.isNegated)===o||(a?n.push({id:r,negated:Boolean(i?.isNegated)}):s.push(r))})),{changedToSelected:n,changedToUnselected:s}},Zoe=e=>{let{onSelectionChange:t,initialSelected:n}=e;const s=(0,Ye.useMemo)((()=>n.reduce(((e,t)=>(e[t.id]={isSelected:!0,isNegated:t.negated},e)),{})),[n]),[r,i]=(0,Ye.useState)(s);(0,Ye.useEffect)((()=>{i(s)}),[s]);const o=(e,n,o)=>{const a={...r,[e]:{isSelected:n,isNegated:Boolean(o)}};i(a),t?.($oe(a,s))};return{isItemSelected:e=>Boolean(r[e]),isItemNegated:e=>Boolean(r[e]?.isNegated),toggleItem:(e,t)=>{r[e]&&r[e].isNegated!==t?o(e,!0,t):o(e,!r[e],t)},resetSelection:()=>{i(s),t?.($oe(s,s))}}},Yoe=e=>{const[t,n]=(0,Ye.useState)(""),[s,r]=(0,Ye.useState)(!1),i=(0,Ye.useCallback)(RI()((t=>{const n=t.toLowerCase();e(n),r(""!==n)}),300,{leading:!1,trailing:!0}),[e]),o=(0,Ye.useRef)(!0);return(0,Ye.useEffect)((()=>{o.current||i(t),o.current=!1}),[t]),[s,t,n]},Joe=(e,t,n,s)=>{if(!t)return[];const r=n?n.map((t=>t[e])):[],i=t.filter((t=>!r.includes(t[e])));return s?i.unshift(...t.filter((t=>r.includes(t[e])))):i.unshift(...n||[]),i};function Xoe(){return Xoe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xoe.apply(this,arguments)}const Qoe="425px",eae="320px",tae=e=>{let{layoutClassName:t,beforeItems:n,priorityItems:s,dataSource:r,disabledItemMap:i,emptyState:o,filterInputPlaceholder:a,hasItemBorder:l=!1,height:c=Qoe,hideBeforeItemsIfNoResults:d=!0,initialSelected:u,priorityItemMatcherKey:p="id",searchMatcherKey:m="id",clearSelectionItemKey:h="clear_all",itemRenderer:E,customSelectionIconRenderer:g,onClose:f,onSelectionChange:_,showSearchIcon:v,title:I,width:b=eae}=e;const y=(0,Ye.useRef)(null),[S,w]=(0,Ye.useState)([]),[R,T]=(0,Ye.useState)(!1),{isItemSelected:C,isItemNegated:k,toggleItem:O}=Zoe({onSelectionChange:_,initialSelected:u}),N=(0,Ye.useRef)(null),P=r.connectionSelector(r.queryResult),A=r.queryResult.loading;(0,Ye.useEffect)((()=>{P?.nodes&&(w(P?.nodes),y.current=P?.nodes)}),[]);const[D,L,z]=Yoe((e=>{let t=y.current||[];e?.length&&(t=t.filter((t=>String(t[m]).includes(e.trim().toLowerCase())))),w(t)})),M=(0,Ye.useMemo)((()=>{const e=Joe(p,S,s,D);if(e.length&&n?.length||n?.length&&!d){const t=(D?n.filter((e=>e.isFixed||e.name?.toLocaleLowerCase().includes(L.toLowerCase()))):n).filter((e=>!R||e.id===h));e.unshift(...t)}return e}),[R,n,S,s,d]),x=(0,Ye.useCallback)((e=>{e.onClick?e.onClick():O(e.id,R)}),[O]),{currentlyHighlightedIndex:F,onKeyDownHighlight:U,resetHighlightAndScrollTop:B,setHighlightIndex:q}=Sre(M,N,x,i),H=(0,Ye.useCallback)((e=>{let{term:t,negated:n}=e;z(t),T(n),B()}),[z,B]),W=e=>(t,n)=>g?g(t,n,e):null;return Ye.createElement(Ere,{className:t,height:c,hasVariableHeight:true,width:b,onClose:f,onKeyDown:U},Ye.createElement(mre,{title:I,onClose:f}),Ye.createElement(Voe,{allowNegatedSearch:!0,placeholder:a,onChange:H,showSearchIcon:v}),Ye.createElement(qoe,{items:M,emptyState:o,isLoading:A},(()=>Ye.createElement(_re,{parentHasVariableHeight:true,ref:N,items:M,rowRenderer:e=>{const{index:t}=e,n=M[t];return Ye.createElement(yre,Xoe({},e,{customSelectionIconRenderer:W(n.id),hasItemBorder:l,isDisabled:!!i&&i[n.id],key:n.id,onClick:()=>x(n),setHighlightIndex:()=>q(t),isHighlighted:F===t,isSelected:C(n.id)}),E(n,k(n.id),t))}}))))};function nae(e){return 0===e.size}function sae(e){let{selectedEstimates:t,selectedEstimateSettings:n,workspaceId:s}=e;const r=(0,l3.I0)(),{setPersistedFilterValues:i}=Ele(),o=(0,Ye.useCallback)((e=>{const t=[{key:Fo,value:nae(e.estimates.in)?null:e.estimates.in},{key:jo,value:nae(e.estimates.nin)?null:e.estimates.nin},{key:Lo,value:nae(e.settings)?null:e.settings}];i(s,t)}),[i,s]),a=(0,Ye.useMemo)((()=>RI()((function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=null!==n&&!Ni(e.settings,n),a=null!==t.in&&!Ni(e.estimates.in,t.in)||null!==t.nin&&!Ni(e.estimates.nin,t.nin),l=a||i;l&&!s&&(r(Kr(e)),o(e))}),400)),[n,t,r,o]),l=(0,Ye.useCallback)((e=>{r(Kr(e)),a(e,!0),o(e)}),[r,a,o]),c=(0,Ye.useCallback)((()=>{const e={estimates:{in:new Set,nin:new Set},settings:new Set};r(Kr(e)),o(e)}),[r,o]);return{updateFilterValue:a,forceUpdateFilterValue:l,clearFilterValue:c}}const rae=e=>{let{activeFilter:t=!1,chevronIcon:n,"data-cy":s,hideChevronIcon:r=!1,iconComponent:i,idName:o,isActive:a,isButtonDisabled:l=!1,isTooltipDisabled:c=!1,modifiers:d=[],name:u,toggleOpen:p,tooltipContent:m,tooltipPosition:h,type:E="default",innerRef:g,label:f,className:_,titleClassName:v}=e;const I=(0,_I.default)("zhc-btn zhc-selection-button",_,{[`zhc-btn--${E}`]:E,"zhc-btn--is-active":a,"zhc-btn--has-icon":i,"zhc-selection-button--active-filter":t},...(e=>(0,_t.KN)(e)?[]:e.map((e=>`zhc-btn--${e}`)))(d)),b=(0,_I.default)("zhc-selection-button__title",v,{"zhc-selection-button__title--no-icon":Boolean(i)}),y=n??Ye.createElement(gte,null);return Ye.createElement(YI,{content:c?null:m,position:h},Ye.createElement("button",{className:I,"data-cy":s,"data-testid":s,onClick:p,id:o,disabled:l,type:"button","aria-label":f,ref:g},Ye.createElement("span",{className:"zhc-selection-button__container"},i||null,u?Ye.createElement("span",{className:b},u):null,!r&&y)))},iae="1065px",oae="1250px",aae="RHxAX4YQsabsYmGX7LHP",lae="Q8kOLVeqgN2chq2u3g1X",cae=e=>{let{ariaLabel:t,buttonClassName:n,buttonTitleClassName:s,buttonText:r,buttonTooltipContent:i,buttonTooltipPosition:o,children:a,className:l,iconComponent:c,isFilterActive:d=!1,isOpen:u,isDisabled:p,shortcuts:m,trackShortcutUsed:h,setIsOpen:E}=e;const g=(0,Ye.useRef)(null),f=(0,l3.v9)((e=>!e.sidebar.display.isCollapsed)),_=(0,Y8.G)({query:`(max-width: ${iae})`}),v=(0,Y8.G)({query:`(max-width: ${oae})`}),I=f?v:_,b=()=>{E(!u)},y=()=>{b(),void 0!==h&&h()};(0,Ye.useEffect)((()=>{if(m)return m8(m,y,null,!0),()=>h8(m)}),[]);const S=(0,_I.default)(aae,n),w=(0,_I.default)(lae,s);return Ye.createElement("span",{className:l},Ye.createElement(rae,{className:S,titleClassName:w,activeFilter:d,isActive:u,iconComponent:c,name:r,toggleOpen:b,isTooltipDisabled:I,tooltipContent:i,tooltipPosition:o,innerRef:g,label:t,isButtonDisabled:p}),u&&Ye.createElement(Ene,{className:"board-issue-filter-popover",close:()=>{E(!1)},anchorRef:g},a))},dae="vZu1OMdhmyEvqscO_1Ix",uae=e=>{let{text:t}=e;return Ye.createElement("div",{className:dae},t)},pae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return e?e.indexOf("identicons.github.com")>=0?e:e.indexOf("?")>-1?`${e}&size=${t}`:`${e}?size=${t}`:null};let mae;!function(e){e.Org="org",e.User="user"}(mae||(mae={}));const hae=e=>{let{alt:t,className:n,imageClassName:s,hideIfNoUrl:r=!1,size:i=25,type:o=mae.User,url:a,fallbackText:l}=e;const[c,d]=(0,Ye.useState)(!1),u=null==a;if((0,Ye.useEffect)((()=>{c&&d(!1)}),[a]),u&&r)return null;const p={width:i,height:i,backgroundImage:""};u||(p.backgroundImage="none");const m=l&&a?.includes("https://s.gravatar.com/avatar")?(e=>{const t=new URL(e);return t.searchParams.set("d","404"),t.toString()})(a):a;const h=pae(m,2*i);let E=null;c&&void 0!==l?E=Ye.createElement(uae,{text:l}):u||(E=Ye.createElement("img",{className:s,src:`${h}`,alt:t??"",onError:()=>{d(!0)}}));const g=(0,_I.default)("zhc-avatar",n,{"zhc-avatar--org":o===mae.Org});return Ye.createElement("div",{className:g,style:p,"data-testid":"zhc-avatar"},E)},Eae="SGt0jKUdcGOL87BOFrbC",gae="EYGIcyQjvNN4IhM7ajPd",fae="qdIOG13mIWCfpIptZBPQ",_ae=e=>{let{title:t,isFixed:n,showEmptyAvatar:s}=e;const r=(0,_I.default)(Eae,{[gae]:n}),i=(0,_I.default)({[fae]:s});return Ye.createElement("div",{className:r},s&&Ye.createElement(hae,{url:null}),Ye.createElement("span",{className:i},t))},vae="G1rG1vkKZs2nXQpREGbp",Iae=()=>Ye.createElement("div",{className:vae},Ye.createElement(f5,null)),bae=e=>{let{tooltipText:t}=e;return Ye.createElement("div",{className:vae},Ye.createElement(YI,{content:t,position:jI.TOP},Ye.createElement(Xse,null)))},yae=e=>e.isCustomItem,Sae=e=>e.isFixed||!1,wae=(e,t)=>{let n=!0;const s=e.filter((e=>{const s=Sae(e)||e.name.toLowerCase().includes(t.toLowerCase());return n&&s&&!Sae(e)&&(n=!1),s}));return n?[]:s},Rae=cae,Tae="AkGTkjYGnWTRhVv1KkNc",Cae=e=>{let{className:t}=e;const n=(0,_I.default)(Tae,t);return Ye.createElement("div",{className:n})},kae={tag:"toc2pDkQduBDGPYKz7rt",primaryTag:"keI7Xj5aR4EUBxVSK9rQ",secondaryTag:"UqOl9LN62ntqmNQDBPiH",outlineTag:"X2CA5qc00LoUKgBcDRay",textOnlyTag:"dVN9D9p2S5HU1N2ue4jl",disabled:"KUOVLC5HnqJuQlRGQYSz"},Oae=e=>{let{content:t,type:n="outline",disabled:s=!1}=e;const r=(0,_I.default)(kae.tag,{[kae[`${n}Tag`]]:n},{[kae.disabled]:s});return Ye.createElement("span",{className:r,"data-cy":"tag","data-testid":"tag"},t)},Nae="eLVvz5LyExXLCFQ1psFA",Pae="qZwiQcN_5QWKK_rtkbG9",Aae=e=>{let{value:t,negated:n=!1}=e;return Ye.createElement("div",{className:Pae},n?Ye.createElement("div",{className:Nae},Ye.createElement(Oae,{content:"not: "})):null,Ye.createElement("span",null,t))};var Dae=n(12540);const Lae={},zae=bb.Ps`
  query getRepositoryEstimateSetsByIds($ids: [ID!]!) {
    nodes(ids: $ids) {
      ... on Repository {
        estimateSet {
          values
        }
      }
    }
  }
`;const Mae=e=>{const t=e?.reduce(((e,t)=>[...e,...t.estimateSet.values]),[]);return[...new Set(t)].map((e=>({id:e.toString(),value:e})))?.sort(((e,t)=>Number(e.id)-Number(t.id)))},xae=e=>Mae(e.data?.nodes),Fae=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),{selectedRepoGhIds:s,workspaceReposMap:r}=(0,l3.v9)((e=>{const t={};return e.pages.currentWorkspace.repos.forEach((e=>{t[e.repo_id]=e.id})),{selectedRepoGhIds:e.boardV2.filters.repos.value,workspaceReposMap:t}}),Uoe()),i=(0,Ye.useMemo)((()=>s?.map((e=>r[e]))),[s,r]),o=function(e){const t={...Lae,...e};return cy.a(zae,t)}({variables:{ids:i||[]},fetchPolicy:"cache-and-network"});return{estimatesSource:(0,Ye.useMemo)((()=>({queryResult:o,connectionSelector:e=>({nodes:xae(e)}||null)})),[o]),getActiveEstimatesFromCache:(0,Ye.useCallback)((()=>n.cache.readQuery({query:zae,variables:{workspaceId:t,ids:i}})),[t,n])}},Uae=Ye.createElement("span",null,"No estimates found"),{shortcuts:Bae}=E8.BOARD_FILTER_ESTIMATES,qae=_G.trackShortcutsUsed(E8.BOARD_FILTER_ESTIMATES.name),Hae={id:"none",name:"Issues with no estimates",isCustomItem:!0},Wae={id:"team_estimation",name:"Issues assigned for voting",isCustomItem:!0},jae={id:"user_estimation",name:"Issues pending my vote",isCustomItem:!0},Gae=[Wae.id,jae.id],Kae=(e,t)=>yae(e)?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(Aae,{value:e.value,negated:t}),Vae=e=>e?Ye.createElement(Iae,null):null,$ae=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),{selectedEstimatesArrayIn:l,selectedEstimatesArrayNin:c,selectedEstimateSettingsArray:d,areFiltersLoaded:u}=(0,l3.v9)((e=>({selectedEstimatesArrayIn:e.boardV2.filters.estimates.in,selectedEstimatesArrayNin:e.boardV2.filters.estimates.nin,selectedEstimateSettingsArray:e.boardV2.filters.estimates.settings,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),[p,m]=(0,Ye.useMemo)((()=>[new Set(l),l||[]]),[l]),[h,E]=(0,Ye.useMemo)((()=>[new Set(c),c||[]]),[c]),g=(0,Ye.useMemo)((()=>new Set(d)),[d]),{updateFilterValue:f,forceUpdateFilterValue:_,clearFilterValue:v}=sae({selectedEstimates:{in:p,nin:h},selectedEstimateSettings:g,workspaceId:n}),{estimatesSource:I,getActiveEstimatesFromCache:b}=Fae({workspaceId:n}),{data:y,refetch:S}=I.queryResult,w=(0,Ye.useMemo)((()=>[...o,...I.connectionSelector(I.queryResult).nodes||[]]),[y?.nodes,o]),R=p&&p.size>0||h&&h.size>0||g&&g.size>0,T=(0,Ye.useMemo)((()=>({id:"clear_all",name:"Clear filter",isFixed:!0,isCustomItem:!0,onClick:v})),[v]),C=(0,Ye.useMemo)((()=>w.reduce(((e,t)=>(e.find((e=>e.id===t.id))||!m.includes(t.id)&&!E.includes(t.id)||e.push(t),e)),[])),[m,E,w]),k=(0,Ye.useMemo)((()=>{const e=C.map((e=>({id:e.id,negated:h.has(e.id)}))),t=[...g].map((e=>({id:e,negated:!1})));return m.includes(Hae.id)&&e.push({id:Hae.id,negated:!1}),m.includes(Wae.id)&&e.push({id:Wae.id,negated:!1}),m.includes(jae.id)&&e.push({id:jae.id,negated:!1}),[...t,...e]}),[C]),O=(0,Ye.useMemo)((()=>R?[T,Hae,Wae,jae]:[Hae,Wae,jae]),[R,T]),N=(0,Ye.useCallback)((()=>{S()}),[S]),P=(0,Ye.useCallback)((()=>{s(qae)}),[s]),A=(0,Ye.useCallback)((()=>{i(!1),N()}),[i,N]),D=(0,Ye.useCallback)((e=>{if(e){X1("Estimates Filter");const e=b();e?.nodes&&a(Mae(e.nodes)||[]),i(!0)}else A()}),[A,i,C,a]);return u?Ye.createElement(Rae,{ariaLabel:"Filter issues by estimate",buttonText:"Estimate",isFilterActive:R,iconComponent:Ye.createElement(xoe,null),isOpen:r,isDisabled:t,shortcuts:Bae,trackShortcutUsed:P,setIsOpen:D},Ye.createElement(tae,{priorityItems:o,beforeItems:O,dataSource:I,emptyState:Uae,filterInputPlaceholder:"Filter estimates",hasItemBorder:!0,height:ta,initialSelected:k,itemRenderer:Kae,customSelectionIconRenderer:Vae,onClose:A,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=t.find((e=>{let{id:t}=e;return Gae.includes(t)})),r=n.find((e=>Gae.includes(e))),i=t.filter((e=>!e.negated&&!Gae.includes(e.id))).map((e=>e.id)),o=t.filter((e=>e.negated&&!Gae.includes(e.id))).map((e=>e.id)),a=p;o.forEach((e=>{p.has(e)&&a.delete(e)}));const l=h;i.forEach((e=>{h.has(e)&&l.delete(e)}));const c=new Set([...a,...i]);n.forEach((e=>{c.delete(e)}));const d=new Set([...l,...o]);n.forEach((e=>{d.delete(e)})),s?_({estimates:{in:c,nin:d},settings:new Set([s.id])}):r?_({estimates:{in:c,nin:d},settings:new Set}):f({estimates:{in:c,nin:d},settings:g})},showSearchIcon:!1,title:"Filter by estimate",width:na,searchMatcherKey:"id"})):Ye.createElement(Cae,null)},Zae=Ye.memo($ae),Yae={[ko]:"SELECTED_REPO_IDS",[Oo]:"SELECTED_LABELS",[Bo]:"SELECTED_LABELS_NOT",[No]:"SELECTED_ASSIGNEES",[Ho]:"SELECTED_ASSIGNEES_NOT",[xo]:"SELECTED_AUTHOR",[Wo]:"SELECTED_AUTHOR_NOT",[Fo]:"SELECTED_ESTIMATE",[jo]:"SELECTED_ESTIMATE_NOT",[Po]:"SELECTED_EPICS",[Go]:"SELECTED_EPICS_NOT",[Ao]:"SELECTED_SPRINTS",[Do]:"SELECTED_EPIC_SETTINGS",[Lo]:"SELECTED_ESTIMATE_SETTINGS",[zo]:"SELECTED_RELEASES",[qo]:"SELECTED_RELEASES_NOT",[Mo]:"SELECTED_MILESTONES",[Uo]:"SELECTED_LOGIC"},Jae={arrayFormat:"comma"},Xae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jae;return zoe.parse(e,t)},Qae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jae;return zoe.stringify(e,t)},ele=()=>{const e=localStorage.getItem(Co);return null===e?null:JSON.parse(e)},tle=e=>Yae[e],nle=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=ele()||{},r=tle(t),i=s[e]?.[r]||null,o=Array.isArray(i);return null===i||n&&!o?null:o?0===i?.length?null:new Set([...i]):i},sle=(e,t,n)=>{const s=n instanceof Set,r=ele()||{},i=tle(t),o=r[e]||{};o[i]=null===n?void 0:s?0===n.size?void 0:[...n]:n;const a={...r,[e]:o};localStorage.setItem(Co,JSON.stringify(a))},rle=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=e[t];return null==s?null:n?new Set(s.split(",")):s},ile=(e,t,n,s)=>{const r=s instanceof Set,i=Xae(e.search);null===s||r&&0===s.size?delete i[n]:i[n]=r?[...s].map((e=>String(e))):s,t.replace({pathname:e.pathname,hash:e.hash,search:Qae(i)})},ole=(e,t,n)=>{const s=Xae(e.search);n.forEach((e=>{let{key:t,value:n}=e;const r=n instanceof Set;null==n||r&&0===n.size?delete s[t]:s[t]=r?[...n].map((e=>String(e))):n})),t.replace({pathname:e.pathname,hash:e.hash,search:Qae(s)})},ale={noEpics:"no_epics",epicsWithSubtasks:"epics_with_subtasks",epicsOnly:"epics_only",notInEpic:"not_in_epic"},lle={[Wae.id]:"assigned_for_voting",[jae.id]:"assigned_to_user_for_voting"},cle=(e,t)=>{if((!e?.in&&!e?.nin||0===e?.in?.length&&0===e?.nin?.length)&&(!t||0===t.length))return{};const n={epics:{}};return e&&(e.in||e.nin)&&(n.epics.id={in:e.in,nin:e.nin}),t&&t.length>0&&(n.epics.specialFilters=(e=>{if(null===e||0===e.length)return null;const t=e[0];return ale[t]})(t)),n},dle=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";if(!t||0===t.length)return{};const s={[e]:{}},r=t.includes(n),i=t.filter((e=>e!==n));return r&&(s[e].notInAny=!0),i.length>0&&(s[e].in=i),s},ule=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";if(!t||!t?.in&&!t?.nin||0===t?.in?.length&&0===t?.nin?.length)return{};const s={[e]:{}},r=t.in?.includes(n)||t.nin?.includes(n),i=t.in?.filter((e=>e!==n)),o=t.nin?.filter((e=>e!==n));return r&&(s[e].notInAny=!0),i&&i?.length>0&&(s[e].in=i),o&&o?.length>0&&(s[e].nin=o),s},ple=(e,t)=>{const n="none";if((!e||!e?.in&&!e?.nin||0===e?.in?.length&&0===e?.nin?.length)&&!t?.length)return{};const s={estimates:{}},r=e?.in?.includes(n)||e?.nin?.includes(n),i=e?.in?.filter((e=>e!==n)).map((e=>Number(e))),o=e?.nin?.filter((e=>e!==n)).map((e=>Number(e)));return(i&&i?.length>0||o&&o?.length>0||r)&&(s.estimates.values={in:i||[],nin:o||[],...r?{notInAny:r}:{}}),t&&t.length>0&&(s.estimates.specialFilters=(e=>{if(null===e||0===e.length)return null;const t=e[0];return lle[t]})(t)),s},mle=(e,t,n,s,r,i,o,a,l,c,d,u,p)=>{const m=e&&e.length>0?{repositoryGhIds:e}:{},h=ule("labels",t),E=ule("assignees",n,"issues with no assignees"),g=ule("users",r),f=ple(d,a),_=dle("sprints",i),v=ule("releases",l),I=dle("milestones",c);return{...m,...h,...E,...g,...f,..._,...cle(s,o),...v,...I,...u?{matchType:u}:{},...p?{displayType:p}:{}}},hle=(e,t)=>[...e?.labelFilters?.nodes.map((e=>e.labelName))||[],...t].length>0,Ele=()=>{const e=(0,l3.I0)(),t=(0,$8.TH)(),n=(0,$8.k6)(),s=Loe(),r=T7({name:"workspaces-board-v2-milestones"}),i=(0,Ye.useCallback)(((e,s,r)=>{ile(t,n,s,r),sle(e,s,r)}),[n,t]),o=(0,Ye.useCallback)(((e,s)=>{ole(t,n,s),s.forEach((t=>{let{key:n,value:s}=t;sle(e,n,s)}))}),[n,t]),a=(0,Ye.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=rle(s,t,n);if(r)return r;const i=nle(e,t,n);return i}),[n,t,s]),l=(0,Ye.useCallback)((s=>{const i=a(s,ko),o=a(s,Oo),l=a(s,No),c=a(s,xo),d=a(s,Fo),u=a(s,Po),p=a(s,zo),m=a(s,Bo),h=a(s,Ho),E=a(s,Wo),g=a(s,qo),f=a(s,jo),_=a(s,Go),v=a(s,Ao),I=a(s,Mo),b=a(s,Do),y=a(s,Lo),S=a(s,Uo,!1);if(ole(t,n,[{key:ko,value:i},{key:Oo,value:o},{key:No,value:l},{key:xo,value:c},{key:Fo,value:d},{key:Ao,value:v},{key:Po,value:u},{key:zo,value:p},{key:Do,value:b},{key:Lo,value:y},{key:Uo,value:S},{key:Bo,value:m},{key:Ho,value:h},{key:Wo,value:E},{key:qo,value:g},{key:jo,value:f},{key:Go,value:_}]),i){const t=[];if([...i].forEach((e=>{const n=Number(e);Number.isNaN(n)||t.push(n)})),0===t.length)return;e(xr(new Set(t)))}if(o||m){const t=[],n=[];[...o||[]].forEach((e=>{"string"==typeof e&&t.push(e)})),[...m||[]].forEach((e=>{"string"==typeof e&&n.push(e)})),e(Ur({in:new Set(t),nin:new Set(n)}))}else e(Ur({in:new Set,nin:new Set}));if(l||h){const t=[],n=[];[...l||[]].forEach((e=>{"string"==typeof e&&t.push(e)})),[...h||[]].forEach((e=>{"string"==typeof e&&n.push(e)})),e(Br({in:new Set(t),nin:new Set(n)}))}else e(Br({in:new Set,nin:new Set}));if(c||E){const t=[],n=[];[...c||[]].forEach((e=>{"string"==typeof e&&t.push(e)})),[...E||[]].forEach((e=>{"string"==typeof e&&n.push(e)})),e(Vr({in:new Set(t),nin:new Set(n)}))}else e(Vr({in:new Set,nin:new Set}));const w={estimates:{in:new Set,nin:new Set},settings:new Set};if(d||f){const e=[],t=[];[...d||[]].forEach((t=>{const n=String(t);t&&e.push(n)})),[...f||[]].forEach((e=>{const n=String(e);e&&t.push(n)})),w.estimates={in:new Set(e),nin:new Set(t)}}if(y){const e=[];[...y].forEach((t=>{"string"==typeof t&&e.push(t)})),w.settings=new Set(e)}const R={epicIds:{in:new Set,nin:new Set},epicSettings:new Set};if(u||_){const e=[],t=[];[...u||[]].forEach((t=>{"string"==typeof t&&(t.includes("_")||e.push(t))})),[..._||[]].forEach((e=>{"string"==typeof e&&(e.includes("_")||t.push(e))})),R.epicIds={in:new Set(e),nin:new Set(t)}}if(b){const e=[];[...b].forEach((t=>{"string"==typeof t&&e.push(t)})),R.epicSettings=new Set(e)}if(v){const t=[];[...v].forEach((e=>{"string"==typeof e&&t.push(e)})),e(Wr(new Set(t)))}else e(Wr(new Set));if(p||g){const t=[],n=[];[...p||[]].forEach((e=>{"string"==typeof e&&t.push(e)})),[...g||[]].forEach((e=>{"string"==typeof e&&n.push(e)})),e(qr({in:new Set(t),nin:new Set(n)}))}else e(qr({in:new Set,nin:new Set}));if(r&&I){const t=[];[...I].forEach((e=>{"string"==typeof e&&t.push(e)})),e(Gr(new Set(t)))}else e(Gr(new Set));S&&e($r(S)),e(Kr(w)),e(Hr(R))}),[e,a]);return{loadPersistedFilterValues:l,setPersistedFilterValue:i,setPersistedFilterValues:o,getPersistedFilterValue:a}};function gle(e){return 0===e.size}function fle(e){let{selectedItems:t,setFilterValueAction:n,filterKey:s,workspaceId:r,shouldRemovePersistedValue:i=gle}=e;const o=(0,l3.I0)(),{setPersistedFilterValue:a}=Ele(),l=(0,Ye.useCallback)((e=>{i(e)?a(r,s,null):a(r,s,e)}),[s,a,i,r]),c=(0,Ye.useMemo)((()=>RI()((function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=null!==t&&!Ni(e,t);r&&!s&&(o(n(e)),l(e))}),600)),[o,t,l,n]),d=(0,Ye.useCallback)((e=>{o(n(e)),c(e,!0),l(e)}),[o,n,c,l]),u=(0,Ye.useCallback)((()=>{const e=new Set;o(n(e)),l(e)}),[o,n,l]);return{updateFilterValue:c,forceUpdateFilterValue:d,clearFilterValue:u}}const _le={},vle=bb.Ps`
  mutation deleteSprintConfigAndOpenSprints(
    $input: DeleteSprintConfigAndOpenSprintsInput!
  ) {
    deleteSprintConfigAndOpenSprints(input: $input) {
      clientMutationId
      workspace {
        id
        sprintConfig {
          id
        }
      }
    }
  }
`;const Ile=e=>{const t=(0,Dae.x)(),[n]=function(e){const t={..._le,...e};return vK.D(vle,t)}({onCompleted:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{content:"Sprints have been turned off",expirationDelay:2e3})},onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})},variables:{input:{workspaceId:e}},update(n,s){let{data:r}=s;const i=t.readQuery({query:lre,variables:{workspaceId:e,query:"",first:3,filters:{state:{eq:Eo.Open}}}})?.workspace.sprints.nodes;i?.forEach((e=>{e.state===Eo.Open&&n.evict({id:n.identify(e)})}));const o=r?.deleteSprintConfigAndOpenSprints?.workspace?.sprintConfig;o&&n.evict({id:n.identify(o)})}});return n},ble={},yle=bb.Ps`
  mutation updateSprintConfig($input: UpdateSprintConfigInput!) {
    updateSprintConfig(input: $input) {
      clientMutationId
      sprintConfig {
        ...sprintConfig
      }
    }
  }
  ${ire}
`;const Sle=e=>{const[t]=function(e){const t={...ble,...e};return vK.D(yle,t)}({onCompleted:()=>{e(),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"Sprints updated",expirationDelay:2e3})},onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})}});return(e,n)=>{const s=n?(e=>({...e,tzIdentifier:void 0,startOn:void 0,endOn:void 0}))(e):e;t({variables:{input:{sprintConfig:s}}})}},{board:wle}=LG,Rle=e=>{let{sprintConfig:t,openSprints:n,workspaceId:s,averageSprintVelocity:r,closedSprintsCount:i}=e;const[o,a]=(0,Ye.useState)(!1),[l,c]=(0,Ye.useState)(!1),{closeModal:d}=iie(),{clearFilterValue:u}=fle({selectedItems:null,setFilterValueAction:Wr,workspaceId:s,filterKey:Ao}),p=Ile(s),m=Sle(d),h=(0,l3.I0)(),E={startOn:n?.[0].startAt,endOn:n?.[0].endAt},g=t.settings.issuesFromPipeline.totalStoryPoints||null,f=()=>{Doe("Turn off sprints",Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:"zhc-confirm-dialog__subtitle"},"Are you sure you want to turn off and"," ",Ye.createElement("strong",null,"delete ongoing and future sprints?")),Ye.createElement("p",null),Ye.createElement(bie,{modifiers:["widen-banner"]},Ye.createElement("ul",{className:"zhu-font-small"},Ye.createElement("li",null,"Issues will be removed from ongoing and future sprints"),Ye.createElement("li",null,"sprints will no longer be automatically created"),Ye.createElement("li",null,"Past/completed sprints will not be removed"),Ye.createElement("li",null,Ye.createElement("strong",null,"All team members will be affected"))))),{confirmText:"I understand, turn off sprints",isDangerous:!0,isWide:!0,hasCloseButton:!0}).then((()=>{p(),r6("Sprints",{Action:"Delete"}),d(),h(wle.clearSprintFilter()),u()}),(()=>null))},_=()=>{a(!0)};return Ye.createElement(Uie,{onSubmit:e=>{const t=!zie(E,xie(e,s));m(xie(e,s),t),r6("Sprints",{Action:"Update",Module:"Neutral"})},initialFormValues:t,initialFormDates:E,render:e=>{let{submitting:t,valid:s,form:a}=e;const u=!s||t;return Ye.createElement("div",{className:"zhc-sprint-settings","data-testid":"zhc-existing-sprint-settings"},Ye.createElement("div",{className:"zhc-sprint-settings__main-section"},Ye.createElement("div",{className:"zhc-sprint-settings__issues-section"},Ye.createElement(Aie,{closedSprintsCount:i,averageSprintVelocity:r,initialStoryPoints:g}))),Ye.createElement("div",{className:"zhc-sprint-settings__footer zhc-sprint-settings__footer--existing-sprint-settings","data-cy":"sprint-settings-footer"},Ye.createElement(H5,{color:L5.DANGER,variant:z5.OUTLINED,onClick:f},"Turn off sprints"),Ye.createElement("div",{className:"zhc-sprint-settings__footer--actions","data-cy":"sprint-settings-right-secondary-footer"},Ye.createElement(H5,{variant:z5.TEXT,onClick:d},"Cancel"),"\xa0",Ye.createElement(Roe,{disabled:u,onClick:a.submit},"Save"))),Ye.createElement(woe,{isEditingSchedule:o,isPeriodOutOfBounds:l,onOutOfBoundsError:c,onEditScheduleClick:_,openSprints:n}))}})},Tle={},Cle=bb.Ps`
  query searchSprints(
    $workspaceId: ID!
    $first: Int
    $filters: SprintFiltersInput
    $query: String
    $after: String
    $orderBy: SprintOrderInput
  ) {
    workspace(id: $workspaceId) {
      id
      sprints(
        first: $first
        after: $after
        query: $query
        filters: $filters
        orderBy: $orderBy
      ) {
        totalCount
        pageInfo {
          hasNextPage
          hasPreviousPage
          endCursor
        }
        nodes {
          ...sprint
        }
      }
    }
  }
  ${ore}
`;function kle(e){let{state:t,skip:n=!1}=e;return function(e){const t={...Tle,...e};return cy.a(Cle,t)}({variables:{workspaceId:(0,l3.v9)(Pa),query:"",first:100,filters:t?{state:{eq:t}}:{},orderBy:t===Eo.Closed?{direction:Yi.Desc,field:ho.EndAt}:null},fetchPolicy:"no-cache",skip:n})}const Ole=()=>{const{data:e,loading:t,refetch:n,networkStatus:s}=cre(),r=Boolean(e?.workspace?.sprintConfig),i=(0,l3.v9)((e=>Na(e))),{isOpen:o,closeModal:a}=iie(),l=kle({state:Eo.Closed,skip:!o})?.data?.workspace?.sprints.totalCount||0;(0,Ye.useLayoutEffect)((()=>{o&&n()}),[o,n]);let c=["epic-builder"];c=F?c:[...c];const d=r?"Modify recurring sprints":"Create sprints",u=e?.workspace?.averageSprintVelocity,p=u&&u>0?u:null;return t?null:Ye.createElement(Xre,{closeOnEsc:!0,isOpen:o,modifiers:c,onClose:a},Ye.createElement(Gre,null),Ye.createElement("div",{className:"zhc-sprints-modal","data-cy":"sprints-modal"},Ye.createElement(aie,{closePortal:a},d),Ye.createElement("div",{className:"zhc-modal__body zhc-sprints-modal__body","data-cy":"sprints-modal-body"},r?Ye.createElement(Rle,{averageSprintVelocity:p,key:s===Wre.I.refetch?"stale":"current",sprintConfig:e?.workspace?.sprintConfig,openSprints:e?.workspace?.sprints.nodes,workspaceId:i._id,closedSprintsCount:l}):Ye.createElement(Toe,{averageSprintVelocity:p,closedSprintsCount:l}))))};var Nle=n(19783),Ple=n.n(Nle);function Ale(e){let{onVisible:t,verticalOffset:n=-200,rootEl:s}=e;const r=(0,Ye.useRef)(null),i=Ple()(t,300),o=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{const e=r.current;return null!==e&&(null!==o.current&&o.current.unobserve(e),o.current=new IntersectionObserver((e=>{e.forEach((()=>{e[0].intersectionRatio<=0||i()}))}),{rootMargin:`${n}px 0px 0px 0px`,...s?{root:s}:{}}),o.current.observe(e)),()=>{o.current&&e&&o.current.unobserve(e)}}),[i,n]),Ye.createElement("div",{ref:r,style:{visibility:"hidden"}})}const Dle=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-selection-list__tab-container","data-cy":"selection-list-tab",style:{display:"flex"}},t)},Lle=e=>{let{children:t,isActive:n,onClick:s}=e;const r=(0,_I.default)("zhc-selection-list__tab-item",{"zhc-selection-list__tab-item--is-active":n});return Ye.createElement("button",{className:r,type:"button",onClick:s},t)},zle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const[t,n]=(0,Ye.useState)(e);return{activeTab:t,setActiveTab:n}},Mle="Selected",xle="Unselected";function Fle(e,t){const n=[],s=[];return Object.entries(e).forEach((e=>{let[r,i]=e;const o=Boolean(i);Boolean(t[r])!==o&&(o?n.push(r):o||s.push(r))})),{changedToSelected:n,changedToUnselected:s}}const Ule=e=>{let{onSelectionChange:t,onToggleItem:n,initialSelectedIds:s}=e;const r=(0,Ye.useMemo)((()=>s.reduce(((e,t)=>(e[t]=!0,e)),{})),[s]),[i,o]=(0,Ye.useState)(r);(0,Ye.useEffect)((()=>{o(r)}),[r]);const a=(e,s)=>{const a={...i,[e]:s};o(a),t?.(Fle(a,r)),n?.({id:e,type:s?Mle:xle})};return{isItemSelected:e=>Boolean(i[e]),toggleItem:e=>{i[e]?a(e,!1):a(e,!0)},resetSelection:()=>{o(r),t?.(Fle(r,r))}}};function Ble(){return Ble=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ble.apply(this,arguments)}const qle="425px",Hle="320px";const Wle=e=>{let{disabledItemMap:t={},emptyState:n,filterInputPlaceholder:s,hasItemBorder:r=!1,itemRenderer:i,onClose:o,tabs:a,title:l,onSelectionChange:c,onSearchChange:d,height:u=qle,width:p=Hle}=e;const{activeTab:m,setActiveTab:h}=zle(),{dataSource:E,activeItems:g,priorityItems:f,afterItems:_,beforeItems:v}=a[m],I=a.flatMap((e=>e.activeItems)),{fetchMore:b,refetch:y}=E.queryResult,S=E.connectionSelector(E.queryResult),w=S?.nodes||[],R=(0,Ye.useCallback)((e=>(d?.(e),y({query:e}))),[y]),[T,C,k]=Yoe(R),O=E.queryResult.loading,N=a.length>1;(0,Ye.useEffect)((()=>{N&&y({query:C})}),[m,y]);const P=(0,Ye.useMemo)((()=>I.map((e=>e.id))),[(A=I,A.reduce(((e,t)=>{let{id:n}=t;return e+n}),""))]);var A;const D=f?.map((e=>e.id))||[],L=w.filter((e=>!P.includes(String(e.id))&&!D.includes(String(e.id)))),z=f?.filter((e=>!P.includes(e.id)))||[],M=T?[...w]:[...z,...g,...L];M.length&&_?.length&&M.push(..._),M.length&&v?.length&&M.unshift(...v);const{isItemSelected:x,toggleItem:F}=Ule({onSelectionChange:c,initialSelectedIds:P}),U=(0,Ye.useRef)(null),{currentlyHighlightedIndex:B,onKeyDownHighlight:q,resetHighlightAndScrollTop:H,setHighlightIndex:W}=Sre(M,U,(e=>F(e.id)),t);return Ye.createElement(Ere,{height:u,hasVariableHeight:false,width:p,onClose:o,onKeyDown:q},Ye.createElement(mre,{title:l,onClose:o}),Ye.createElement(Voe,{placeholder:s,onChange:e=>{let{term:t}=e;k(t),H()}}),N?Ye.createElement(Dle,null,a.map(((e,t)=>Ye.createElement(Lle,{key:e.name,isActive:m===t,onClick:()=>h(t)},e.name)))):null,Ye.createElement(qoe,{items:M,emptyState:n,isLoading:O},(()=>Ye.createElement(_re,{parentHasVariableHeight:false,ref:U,items:M||[],rowRenderer:e=>{const{index:n}=e,s=M[n],o=n===(M?.length||0)-1;return Ye.createElement(yre,Ble({},e,{key:s.id,onClick:()=>F(s.id),setHighlightIndex:()=>W(n),hasItemBorder:r,isDisabled:t[s.id],isHighlighted:B===n,isSelected:x(s.id)}),i(s,n),o?Ye.createElement(Ale,{onVisible:()=>{S?.pageInfo.hasNextPage&&b({variables:{after:S?.pageInfo.endCursor}})}}):null)}}))))};function jle(){return jle=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jle.apply(this,arguments)}const Gle=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--gear-github",t].filter(Boolean).join(" "),"aria-label":"gear-github",role:"img",...n};return Ye.createElement("svg",jle({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}))};function Kle(){return Kle=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kle.apply(this,arguments)}class Vle extends Ye.PureComponent{render(){const{buttonName:e,disabled:t,innerRef:n,modifiers:s,onClick:r}=this.props;let i;i=t?null:PI?Ye.createElement(Ye.Fragment,null,Ye.createElement(_te,{className:"zhc-svg-icon--extension"}),Ye.createElement(Gle,null)):Ye.createElement(_te,null);const o=(0,_I.default)("zhc-sidebar-selector-button",...(0,_t.NV)("zhc-sidebar-selector-button",s));return Ye.createElement("button",{"aria-label":"Toggle selector",className:o,"data-cy":"selector-button","data-testid":"selector-button",onClick:r,disabled:t,type:"button",ref:n},Ye.createElement("div",{className:"zhc-sidebar-selector-button__container"},Ye.createElement("span",{className:"zhc-sidebar-selector-button__heading"},e),i))}}Vle.defaultProps={disabled:!1,innerRef:null,modifiers:[],onClick:_t.ZT},Vle.propTypes={buttonName:SI().string.isRequired,disabled:SI().bool,innerRef:SI().oneOfType([SI().func,SI().shape({current:SI().any})]),modifiers:SI().arrayOf(SI().string),onClick:SI().func};const $le=Ye.forwardRef(((e,t)=>Ye.createElement(Vle,Kle({innerRef:t},e)))),Zle=e=>{let{sprint:t,isReadOnly:n}=e;const s=(0,_I.default)("zhc-sidebar-selector__content zhc-sidebar-active-sprint-item",{"zhc-sidebar-active-sprint-item--read-only":n});return Ye.createElement("div",{className:s},Ye.createElement("span",{className:"zhc-sidebar-active-sprint-item__name","data-cy":"sprint-name"},t.name))},Yle=e=>"placeholder"===e.id?Ye.createElement("div",{style:{visibility:"hidden"}},"placeholder"):Ye.createElement("div",null,e.name),Jle=e=>{let{activeSprints:t,isReadOnly:n}=e;const s=Ye.createElement("span",null,"No sprint assigned");return(0,_t.KN)(t)?s:Ye.createElement("div",{className:"zhc-sidebar-sprint-selector"},t.map((e=>Ye.createElement(Zle,{key:e.name,sprint:e,isReadOnly:n}))))},Xle=e=>{let{activeSprints:t=[],isReadOnly:n,onApplyChanges:s,onOpen:r,hasSprintConfig:i}=e;const{openModal:o}=iie(),[a,l]=(0,Ye.useState)(!1),c=kle({state:Eo.Open,skip:!a||!i}),d=kle({state:Eo.Closed,skip:!a}),u={queryResult:c,connectionSelector:e=>e?.data?.workspace?.sprints||null},p={queryResult:d,connectionSelector:e=>e?.data?.workspace?.sprints||null},[m,h]=ee.uKc((e=>e.state===Eo.Open),t),E=[{name:"Open",dataSource:u,activeItems:m,afterItems:[{id:"firstAfterItem",name:"New sprints will be created continuously as each sprint ends"}]},{name:"Closed",dataSource:p,activeItems:h.reverse()}],g=(0,Ye.useRef)(null),f=(0,Ye.useCallback)((e=>{g.current=e}),[]),_=(0,Ye.useRef)(null),v=()=>{const e=g.current;e&&s(e,[...c?.data?.workspace?.sprints?.nodes||[],...d?.data?.workspace?.sprints?.nodes||[]]),g.current=null,l(!1)},I=i||F?Ye.createElement("p",null,"No sprints found"):Ye.createElement("p",null,"No sprints setup yet",Ye.createElement("br",null),Ye.createElement("a",{onClick:()=>{l(!1),o()}},"Set up your sprints"));return Ye.createElement("div",{className:"zhc-sidebar-selector zhc-sidebar-sprint-selector","data-cy":"sprint-selector"},Ye.createElement($le,{buttonName:"Sprints",disabled:n,onClick:()=>{a?v():(r?.(),l(!0))},ref:_}),Ye.createElement("div",null,a&&Ye.createElement(h4,{onOverlayClick:v,anchorElement:_.current,placement:"bottom-end",offset:6,skidding:0},Ye.createElement(Wle,{hasItemBorder:!0,disabledItemMap:{firstAfterItem:!0},emptyState:I,filterInputPlaceholder:"Filter sprints",tabs:E,itemRenderer:Yle,onClose:v,onSelectionChange:f,title:"Add this issue to any sprint"})),Ye.createElement(Jle,{activeSprints:t,isReadOnly:n})))},Qle=ee.WAo(((e,t)=>O_(t)===e));ee.WAo(((e,t)=>P_(t)===e));function ece(e,t){const n=ee.VO0(t);return ee.hXT(Ad(e))(n)}const tce=(0,pa.P1)(Gv,Ev,ece),nce=ee.sEJ(ee.OH4("default",!0)),sce=(0,pa.P1)(fv,ee.VO0),rce=ee.hXT(ee.OH4("selected",!0)),ice=(0,pa.P1)(sce,nce),oce=(0,pa.P1)(ice,ee.vgT("repo_id")),ace=(0,pa.P1)(Ev,ee.VO0),lce=(0,pa.P1)([tce,jv,_u],Ju),cce=(0,pa.P1)([ace,jv,_u],((e,t,n)=>rce(Ju(e,t,n)))),dce=(0,pa.P1)(Gv,_w,((e,t)=>ee.u4g(((e,n)=>{const s=t[n];return e[n]=ee.kKJ(s)?null:s,e}),{},e))),uce=(0,pa.P1)([tce,qv,_u],Xu),pce=(0,pa.P1)([ace,qv,_u],((e,t,n)=>rce(Xu(e,t,n)))),mce=(0,pa.P1)([tce,Wv],Zu),hce=(0,pa.P1)([mce,sF],((e,t)=>t?.length>0?e.filter((e=>!t.find((t=>t.ghId===e.id?.toString())))):e)),Ece=(0,pa.P1)([ace,Wv],((e,t)=>rce(Zu(e,t)))),gce=(0,pa.P1)(["milestones","labels","estimates","epics","assignees","authors","releases","sprints"].map((e=>(0,pa.P1)(c[e],(e=>{const t=Object.keys(e.is),n=Object.keys(e.not);return t.length||n.length})))),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.YjB((e=>e))(t)})),fce=(0,pa.P1)(Gv,Sw,((e,t)=>ee.u4g(((e,n)=>{const s=t[n];return e[n]=ee.kKJ(s)?null:s,e}),{},e))),_ce=(0,pa.P1)([tce,Hv],Yu),vce=(0,pa.P1)([ace,Hv],((e,t)=>rce(Yu(e,t)))),Ice=(0,pa.P1)([tce,Uv],Qu),bce=(0,pa.P1)([ace,Uv],((e,t)=>rce(Qu(e,t)))),yce=(0,pa.P1)([ace,Bv],((e,t)=>rce(ep(e,t)))),Sce=(0,pa.P1)([ace,Bv],ep),wce=(0,pa.P1)(Gv,ww,((e,t)=>ee.u4g(((e,n)=>{const s=t[n];return e[n]=ee.kKJ(s)?null:s,e}),{},e))),Rce=(0,pa.P1)([ace,Fv],(function(e,t){const n=function(e){return ee.zGw(Bu,ee.hXT(Zt),ee.zoF(Uu))(e)}(e);return $u(tp,t,n)})),Tce=(0,pa.P1)([ace,Fv],((e,t)=>rce(np(e,t)))),Cce=(0,pa.P1)(Gv,Iw,((e,t)=>ee.u4g(((e,n)=>{const s=t[n];return e[n]=ee.kKJ(s)?[]:s,e}),{},e))),kce=(0,pa.P1)(fv,ee.VO0),Oce=(0,pa.P1)([Gv,kce],Vu),Nce=(0,pa.P1)(Oce,rce),Pce=(0,pa.P1)(Q_,Ev,((e,t)=>ee.eiS(e.map(an),t))),Ace=(0,pa.P1)(Pce,Q_,((e,t)=>{const n={...e};return t.forEach((e=>{const t=an(e);n[t].pipeline={id:e.pipelineId}})),Object.values(n)})),Dce=(0,pa.P1)([Pce,Pv,Ov],((e,t,n)=>Object.values(An(e,t,n)))),Lce=(0,pa.P1)(Gv,Ev,ece),zce=(0,pa.P1)([Lce,Zv],cp),Mce=(0,pa.P1)([ace,Zv],((e,t)=>rce(cp(e,t))));const xce=(0,pa.P1)([Ev,Yv],(function(e,t){return ee.kKJ(t)?null:{selected:!0,filterKey:t,name:ee.ETc([t,"title"],e)}})),Fce=(0,pa.P1)($v,(e=>Boolean(e?.length)));function Uce(){return Uce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uce.apply(this,arguments)}const Bce=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--check-octicon",t].filter(Boolean).join(" "),"aria-label":"check-octicon",role:"img",...n};return Ye.createElement("svg",Uce({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 12 16"},s),Ye.createElement("path",{d:"M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"}))},qce=e=>{let{onClickClose:t,onClickApply:n,activeSelection:s,className:r,primaryButtonLabel:i="Apply changes"}=e;return Ye.createElement("div",{className:`zhc-multi-action-footer ${r||""}`},Ye.createElement("div",{className:"zhc-multi-action-footer__control","data-cy":"multi-action-footer"},Ye.createElement(H5,{variant:z5.TEXT,onClick:t},"Cancel"),Ye.createElement(H5,{disabled:!s,color:L5.ACTION,onClick:e=>{n(),t(e)}},i)))};class Hce{constructor(e,t,n,s){this.initialStateMap=void 0,this.stateMap=void 0,this.stateTransitions=void 0,this.defaultState=void 0,this.stateMap=e,this.stateTransitions=t,this.initialStateMap=n,this.defaultState=s}getState(e){const t=this.stateMap[e];return ee.kKJ(this.stateTransitions[t])?this.defaultState:t}getInitialState(e){const t=this.initialStateMap[e];return ee.kKJ(this.stateTransitions[t])?this.defaultState:t}moveToNextState(e){const t=this.getState(e);this.stateMap={...this.stateMap,[e]:this.stateTransitions[t]}}resetStateMachine(){this.stateMap=this.initialStateMap}getStateMap(){return this.stateMap}getStateChanges(){return Object.keys(this.stateMap).reduce(((e,t)=>{const n=this.getInitialState(t),s=this.getState(t);return n===s||(e[s]||(e[s]=[]),e[s].push(t)),e}),{})}hasStateChanges(){return Object.values(this.getStateChanges()).some((e=>e.length>0))}}const Wce=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;const[r,i]=(0,Ye.useState)(n);(0,Ye.useEffect)((()=>{i(n)}),[n]);const o=new Hce(r,e,n,t),a=()=>{o.resetStateMachine(),i(o.getStateMap()),s?.(o.getStateChanges())},l=e=>{o.moveToNextState(e),i(o.getStateMap()),s?.(o.getStateChanges())};return{getState:o.getState.bind(o),getStateChanges:o.getStateChanges.bind(o),hasStateChanges:o.hasStateChanges.bind(o),nextState:l,resetStates:a}};function jce(){return jce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jce.apply(this,arguments)}const Gce="425px",Kce="320px",Vce={UNSELECTED:"SELECTED",PARTIALLY_SELECTED:"UNSELECTED",SELECTED:"UNSELECTED"};const $ce=e=>{let{disabledItemMap:t={},emptyState:n,filterInputPlaceholder:s,hasItemBorder:r=!1,itemRenderer:i,onClose:o,tabs:a,title:l,height:c=Gce,width:d=Kce,initialStateMap:u,onClickApply:p}=e;const{activeTab:m,setActiveTab:h}=zle(),{dataSource:E,afterItems:g,beforeItems:f}=a[m],{fetchMore:_,refetch:v}=E.queryResult,I=E.connectionSelector(E.queryResult),b=I?.nodes||[],y=(0,Ye.useCallback)((e=>v({query:e})),[v]),[S,w,R]=Yoe(y),T=E.queryResult.loading;(0,Ye.useEffect)((()=>{v({query:w})}),[m,v]);const{getState:C,nextState:k,getStateChanges:O,hasStateChanges:N}=Wce(Vce,"UNSELECTED",u);let P;if(S)P=[...b];else{const{initiallyActiveItems:e,otherItems:t}=function(e,t,n){return n.reduce(((e,n)=>("PARTIALLY_SELECTED"===t[n.id]||"SELECTED"===t[n.id]?e.initiallyActiveItems.push(n):e.otherItems.push(n),e)),{initiallyActiveItems:[],otherItems:[]})}(0,u,b);P=[...e,...t]}P.length&&g?.length&&P.push(...g),P.length&&f?.length&&P.unshift(...f);const A=(0,Ye.useRef)(null),{currentlyHighlightedIndex:D,onKeyDownHighlight:L,resetHighlightAndScrollTop:z,setHighlightIndex:M}=Sre(P,A,(e=>k(e.id)),t);return Ye.createElement(Ere,{height:c,hasVariableHeight:false,width:d,onClose:o,onKeyDown:L},Ye.createElement(mre,{title:l,onClose:o}),Ye.createElement(Voe,{placeholder:s,onChange:e=>{let{term:t}=e;R(t),z()}}),a.length>1?Ye.createElement(Dle,null,a.map(((e,t)=>Ye.createElement(Lle,{key:e.name,isActive:m===t,onClick:()=>h(t)},e.name)))):null,Ye.createElement(qoe,{items:P,emptyState:n,isLoading:T},(()=>Ye.createElement(_re,{parentHasVariableHeight:false,ref:A,items:P||[],rowRenderer:e=>{const{index:n}=e,s=P[n],o=n===(P?.length||0)-1;return Ye.createElement(yre,jce({},e,{key:s.id,onClick:()=>k(s.id),setHighlightIndex:()=>M(n),hasItemBorder:r,isHighlighted:D===n,isDisabled:t[s.id],customSelectionIconRenderer:()=>{switch(C(s.id)){case"SELECTED":return Ye.createElement(Bce,{className:"zhc-selection-list__item__selection-icon"});case"PARTIALLY_SELECTED":return Ye.createElement(V5,{className:"zhc-selection-list__item__selection-icon"});default:return null}}}),i(s,n),o?Ye.createElement(Ale,{onVisible:()=>{I?.pageInfo.hasNextPage&&_({variables:{after:I?.pageInfo.endCursor}})}}):null)}}))),Ye.createElement(qce,{className:"zhc-selection-list__footer",activeSelection:N(),onClickApply:()=>{const{SELECTED:e,UNSELECTED:t}=O();p({changedToSelected:e,changedToUnselected:t})},onClickClose:o}))};const Zce=e=>Ye.createElement("div",null,e.name),Yce=e=>{let{selectedIssues:t,onApplyChanges:n,hasSprintConfig:s,onClose:r}=e;const{openModal:i}=iie(),o=(0,Ye.useMemo)((()=>function(e){const t={};e.forEach((e=>{e.sprints.forEach((e=>{t[e.id]?t[e.id]+=1:t[e.id]=1}))}));const n=Object.keys(t).reduce(((n,s)=>{let r;return t[s]<e.length&&(r="PARTIALLY_SELECTED"),t[s]===e.length&&(r="SELECTED"),r||(r="UNSELECTED"),n[s]=r,n}),{});return n}(t)),[(a=t,a.reduce(((e,t)=>e+=t.id),""))]);var a;const l=[{name:"Open",dataSource:{queryResult:kle({state:Eo.Open,skip:!s}),connectionSelector:e=>e?.data?.workspace?.sprints||null},afterItems:[{id:"firstAfterItem",name:"New sprints will be created continuously as each sprint ends"}]},{name:"Closed",dataSource:{queryResult:kle({state:Eo.Closed}),connectionSelector:e=>e?.data?.workspace?.sprints||null}}],c=s?Ye.createElement("p",null,"No sprints found"):Ye.createElement("p",null,"No sprints setup yet",Ye.createElement("br",null),Ye.createElement("a",{onClick:()=>{r6("Multi Select",{Action:"Open Sprints"}),r(),i()}},"Set up your sprints"));return Ye.createElement(Xre,{isOpen:!0,onClose:r,modifiers:["selection-list-fullscreen-deprecated"]},Ye.createElement($ce,{disabledItemMap:{firstAfterItem:!0},emptyState:c,filterInputPlaceholder:"Filter sprints",hasItemBorder:!0,tabs:l,initialStateMap:o,itemRenderer:Zce,onClose:r,title:"Add issues to a sprint",width:"470px",height:"70vh",onClickApply:e=>{e&&(r6("Multi Select",{Action:"Apply Sprints","Number of Selected Issues":t.length}),n(e)),r()}}))},Jce={},Xce=bb.Ps`
  mutation addIssuesToSprint($issueIds: [ID!]!, $sprintIds: [ID!]!) {
    addIssuesToSprints(input: { issueIds: $issueIds, sprintIds: $sprintIds }) {
      sprintIssues {
        issue {
          id
          title
        }
      }
    }
  }
`;function Qce(e){const t={...Jce,...e};return vK.D(Xce,t)}const ede={},tde=bb.Ps`
  mutation removeIssuesFromSprints($issueIds: [ID!]!, $sprintIds: [ID!]!) {
    removeIssuesFromSprints(input: { issueIds: $issueIds, sprintIds: $sprintIds }) {
      sprints {
        name
      }
    }
  }
`;function nde(e){const t={...ede,...e};return vK.D(tde,t)}function sde(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const rde=e=>{let{onClose:t}=e;const{data:n}=cre(),[s]=Qce(),[r]=nde(),i=(0,l3.v9)(Ace),o=i.map((e=>e.id)),a=new eL(W.$.SPRINT);return Ye.createElement(Yce,{selectedIssues:i,onClose:t,onApplyChanges:function(){var e,t=(e=function*(e){let{changedToSelected:t,changedToUnselected:n}=e;const l=t?.length,c=n?.length;(l||c)&&a.showApplying();const d=[];l&&d.push(s({variables:{sprintIds:t,issueIds:o}})),c&&d.push(r({variables:{sprintIds:n,issueIds:o}})),yield Promise.all(d),(l||c)&&a.showApplied({failedIssues:[],selectedIssues:i})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){sde(i,s,r,o,a,"next",e)}function a(e){sde(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),hasSprintConfig:Boolean(n?.workspace?.sprintConfig)})},{sidebar:ide}=LG,ode=e=>{let{text:t,icon:n,isItemActive:s,onClickIssueItem:r,openMilestoneViewer:i,openReleaseForm:o}=e;const a=(0,l3.I0)(),{openModal:l}=iie(),{data:c}=cre(),d=!(0,_t.KN)(c?.workspace?.sprintConfig);return Ye.createElement(Hre,{button:Ye.createElement(Ane,{text:t,icon:n,isItemActive:s,onClick:()=>{a(ide.toggleDropdown())},onBlur:()=>{a(ide.toggleDropdown())}}),onClickIssueItem:e=>{e.preventDefault(),r(Hx.ISSUE,Dne(e)),a(ide.trackNewIssue())},onClickEpicIssueItem:e=>{e.preventDefault(),r(Hx.EPIC,Dne(e)),a(ide.trackNewEpic())},onClickMilestoneItem:e=>{i(e),a(ide.trackMilestoneModal())},onClickReleaseItem:e=>{o(e),a(ide.trackReleaseModal())},onClickSprintItem:()=>{r6("Create Menu",{Feature:"Sprint",Action:d?"Edit":"Create"}),l()}})},ade={},lde=bb.Ps`
  fragment repositoryImport on Repository {
    ghId
    name
    owner {
      id
      __typename
      login
    }
    import {
      openIssues {
        completedAt
        completedPages
        totalPages
      }
      closedIssues {
        completedPages
        totalPages
        completedAt
      }
    }
  }
`,cde=bb.Ps`
  query getImportProgress($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      importState
      repositories {
        ...repositoryImport
      }
    }
  }
  ${lde}
`;function dde(e){const t={...ade,...e};return cy.a(cde,t)}var ude;!function(e){e.STORY_POINTS="zhc-progress-bar--completed-story-points",e.ISSUES="zhc-progress-bar--completed-issues",e.UNESTIMATED="zhc-progress-bar--completed-unestimated"}(ude||(ude={}));const pde=ude,mde=e=>{let{total:t,completed:n,type:s}=e;const r=t>0?Math.max(0,n)/t*100:0,i=(0,_I.default)("zhc-progress-bar",s,{"zhc-progress-bar--partial":r<100});return Ye.createElement("div",{className:"zhc-progress-bar","data-cy":"progress-bar","data-testid":"progress-bar"},Ye.createElement("div",{className:i,style:{width:`${Math.min(100,r)}%`}}))},hde=e=>Boolean(e?.import?.closedIssues?.completedAt),Ede=e=>{let{onImportComplete:t,repositories:n,workspaceImportState:s}=e;(0,Ye.useEffect)((()=>{n.every(hde)&&t(_o.Completed)}),[n,s,t]);const r=(e=>{const t=(0,ha.T9)(e,(e=>e?.import?.closedIssues));return Math.max(5,t)})(n);return Ye.createElement("div",{className:"zhc-workspace-import-sidebar--expanded"},Ye.createElement(mde,{completed:r,total:100,type:pde.STORY_POINTS}),Ye.createElement("div",{className:"zhc-workspace-import-sidebar__main"},Ye.createElement("div",{className:"zhu-font-medium zhu-text-secondary-dark zhu-flex zhu-flex--align-center zhu-flex--space-between"},Ye.createElement("span",null,"Building Workspace..."),Ye.createElement(YI,{content:" This may take a few minutes. The Workspace will continue building even when you close this page",position:jI.TOP},Ye.createElement(T9,null))),Ye.createElement("div",{className:"zhu-font-xsmall zhu-text-secondary"},"Fetching closed issues (",r,"%)...")))},gde=e=>{let{onImportComplete:t,workspaceId:n}=e;const{loading:s,data:r}=dde({pollInterval:3e3,variables:{workspaceId:n}});if(s)return null;const i=r?.workspace,o=i?.repositories??[],a=i?.importState;return Ye.createElement("div",{className:"zhc-workspace-import-sidebar"},Ye.createElement("div",{className:"zhc-workspace-import-sidebar--collapsed"},Ye.createElement(F5,{modifiers:["no-outline","no-padding"],radius:10,stroke:4})),Ye.createElement(Ede,{onImportComplete:t,repositories:o,workspaceImportState:a}))},fde=gde,_de=()=>Ye.createElement(fI,{className:"zhc-workflows-sidebar-item"}),vde=ee.ETc(["invites","activeModal"]),Ide=ee.ETc(["invites","pendingInvites"]),bde=ee.ETc(["invites","assignedUsers"]),yde=ee.ETc(["invites","existingMembers"]),Sde=ee.vgT("username"),wde=ee.zGw(ee.vgT("username"),ee.t$q),Rde=ee.zGw(ee.jge("username"),ee.d1t(ee.kKJ));const Tde=ee.qCK(ee.MRu(ee.vgT("sortIndex")),ee.UID(ee.anz("sortIndex")),ee.UID((function(e){return ee.yGi("sortIndex",Math.random(),e)})));function Cde(e){return{username:e.login,avatarUrl:e.avatar_url}}const kde=e=>({...ee.qCK(ee.eiS(["username","displayName","avatarUrl"]),ee.vgT("github"))(e),isAdmin:"admin"===e.user_type}),Ode=e=>ee.HCG([ee.Ck5((e=>e.isAdmin)),ee.zU3(wde)])(e);const Nde=ee.WAo(((e,t)=>vde(t)===e)),Pde=(0,pa.P1)([yde],(function(e){return ee.kKJ(e)?null:ee.qCK(Ode,ee.UID(kde))(e)})),Ade=(0,pa.P1)([Ide,Pde],(function(e,t){if(ee.kKJ(e))return null;if(ee.kKJ(t))return e;const n=Rde(t),s=ee.qCK(ee.r3W(ee.__,n),Sde);return ee.qCK(ee.MRu(ee.vgT("inviteSentAt")),ee.d1t(s))(e)})),Dde=(0,pa.P1)([Ade,bde,Pde],(function(e,t,n){if(ee.kKJ(t))return null;const s=e||[],r=n||[],i=ee.UID(Cde,t),o=ee.zoF(r,s),a=Rde(o),l=ee.qCK(ee.r3W(ee.__,a),Sde);return ee.qCK(Tde,ee.d1t(l))(i)})),Lde=Nde(h_),zde=Nde(E_);let Mde,xde;!function(e){e[e.SET_SELECTED_SOURCE_PIPELINE=0]="SET_SELECTED_SOURCE_PIPELINE",e[e.CLEAR_SOURCE_PIPELINE=1]="CLEAR_SOURCE_PIPELINE",e[e.SET_SELECTED_DESTINATION_PIPELINE=2]="SET_SELECTED_DESTINATION_PIPELINE",e[e.CLEAR_DESTINATION_PIPELINE=3]="CLEAR_DESTINATION_PIPELINE",e[e.CLEAR_PIPELINE_SELECTIONS=4]="CLEAR_PIPELINE_SELECTIONS",e[e.SWAP_PIPELINE_SELECTIONS=5]="SWAP_PIPELINE_SELECTIONS",e[e.SET_SELECTED_HOVERED_PIPELINE=6]="SET_SELECTED_HOVERED_PIPELINE",e[e.CLEAR_HOVERED_PIPELINE=7]="CLEAR_HOVERED_PIPELINE",e[e.CLEAR_ALL_SELECTIONS=8]="CLEAR_ALL_SELECTIONS",e[e.UPDATE_LINE=9]="UPDATE_LINE",e[e.DELETE_LINE=10]="DELETE_LINE",e[e.SET_IS_EMPTY=11]="SET_IS_EMPTY",e[e.SET_PIPELINE_CONNECTION_DETAILS_MAP=12]="SET_PIPELINE_CONNECTION_DETAILS_MAP"}(Mde||(Mde={})),function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.EMPTY="EMPTY"}(xde||(xde={}));const Fde=(e,t)=>{const{automationId:n,coordinates:s,key:r}=t,i=new Map(e);let o={};return i.has(n)&&(o=i.get(n)),o[r]=s,i.set(n,o),i},Ude=(e,t)=>{const{automationId:n}=t,s=new Map(e);return s.delete(n),s},Bde=(e,t,n,s,r)=>{const i=new Map;return[e,...e.relatedWorkspaces?.nodes||[]].forEach((e=>{let{id:o,pipelines:a}=e;const l=((e,t,n,s,r)=>e.map((e=>{const{id:i}=e,o=t.get(i),{destinationPipelinesBelow:a,destinationPipelinesAbove:l,sourcePipelinesBelow:c,sourcePipelinesAbove:d}=o,u=hb(r,n,s),p=!(0,_t.KN)(u),m=u.some((e=>e?.id===i)),h=1===u.length&&u[0].id===i,E=ub(c,r,n,s)||ub(d,r,n,s)||ub(a,r,n,s)||ub(l,r,n,s),g={sourceBelow:{isHidden:0===l.length,isFaded:p&&!h&&!ub(l,r,n,s),pipelineAutomationIds:mb(l)},destinationBelow:{isHidden:0===d.length,isFaded:p&&!h&&!ub(d,r,n,s),pipelineAutomationIds:mb(d)},sourceAbove:{isHidden:0===a.length,isFaded:p&&!h&&!ub(a,r,n,s),pipelineAutomationIds:mb(a)},destinationAbove:{isHidden:0===c.length,isFaded:p&&!h&&!ub(c,r,n,s),pipelineAutomationIds:mb(c)}},f=p&&Object.keys(g).some((e=>{const t=e;return!g[t].isFaded&&!g[t].isHidden}));return{iconDetails:g,isConnectedToFocusedPipeline:E,hasHighlightedAutomation:f,isFocused:m}})))(a,t,n,s,r);i.set(o,l)})),i},qde=(e,t)=>{switch(t.type){case Mde.SET_SELECTED_SOURCE_PIPELINE:return{...e,sourcePipelineSelection:t.payload};case Mde.CLEAR_SOURCE_PIPELINE:return{...e,sourcePipelineSelection:null};case Mde.SET_SELECTED_DESTINATION_PIPELINE:return{...e,destinationPipelineSelection:t.payload};case Mde.CLEAR_DESTINATION_PIPELINE:return{...e,destinationPipelineSelection:null};case Mde.CLEAR_PIPELINE_SELECTIONS:return{...e,sourcePipelineSelection:null,destinationPipelineSelection:null};case Mde.SWAP_PIPELINE_SELECTIONS:return{...e,sourcePipelineSelection:e.destinationPipelineSelection,destinationPipelineSelection:e.sourcePipelineSelection};case Mde.SET_SELECTED_HOVERED_PIPELINE:return{...e,hoveredPipelineSelection:t.payload};case Mde.CLEAR_HOVERED_PIPELINE:return{...e,hoveredPipelineSelection:null};case Mde.CLEAR_ALL_SELECTIONS:return{...e,sourcePipelineSelection:null,destinationPipelineSelection:null};case Mde.UPDATE_LINE:return{...e,lines:Fde(e.lines,t.payload)};case Mde.DELETE_LINE:return{...e,lines:Ude(e.lines,t.payload)};case Mde.SET_IS_EMPTY:return{...e,workflowsState:t.payload};case Mde.SET_PIPELINE_CONNECTION_DETAILS_MAP:return{...e,pipelineConnectionDetailsMap:t.payload};default:return e}},Hde={hoveredPipelineSelection:null,sourcePipelineSelection:null,destinationPipelineSelection:null,lines:new Map,workflowsState:xde.LOADING,pipelineConnectionDetailsMap:new Map},Wde={selectedSourcePipeline:null,selectedDestinationPipeline:null,hoveredPipeline:null,hasSelectedSourcePipeline:!1,hasSelectedDestinationPipeline:!1,hasSelectedTwoPipelines:!1,hasSelectedOnePipeline:!1,hasSelectedSomePipeline:!1,selectedSourcePipelineWorkspaceId:null,selectedDestinationPipelineWorkspaceId:null,selectedDestinationPipelineWorkspaceName:null,selectedSourcePipelineWorkspaceName:null,lines:Hde.lines,pipelineSelectionCount:0,isSomePipelineFocused:!1,hasOnlySelectedSourcePipeline:!1,hasOnlySelectedDestinationPipeline:!1,workflowsState:xde.LOADING,isSelectedSourceFirstPipeline:!1,pipelineConnectionDetailsMap:new Map},jde={...Hde,setHoveredPipeline:()=>({}),clearHoveredPipeline:()=>({}),onPipelineClick:()=>({}),clearSelections:()=>({}),swapPipelinesSelections:()=>({}),updateLine:()=>({}),deleteLine:()=>({}),setWorkflowsState:()=>({}),setPipelineConnectionDetailsMap:()=>({}),setSelectedSourcePipeline:()=>({}),setSelectedDestinationPipeline:()=>({}),...Wde},Gde=(0,Ye.createContext)(jde);Gde.displayName="Workflows.UIContext";const Kde=e=>{let{children:t,overrideContextProps:n={}}=e;const[s,r]=(0,Ye.useReducer)(qde,Hde),{sourcePipelineSelection:i,destinationPipelineSelection:o,hoveredPipelineSelection:a,lines:l,workflowsState:c,pipelineConnectionDetailsMap:d}=s,u=()=>r({type:Mde.DELETE_LINE,payload:{automationId:"pending"}}),p=e=>r({type:Mde.SET_SELECTED_SOURCE_PIPELINE,payload:e}),m=e=>r({type:Mde.SET_SELECTED_DESTINATION_PIPELINE,payload:e}),h=()=>{r({type:Mde.CLEAR_SOURCE_PIPELINE}),u()},E=()=>{r({type:Mde.CLEAR_DESTINATION_PIPELINE}),u()},g=i?.pipeline||null,f=i?.workspaceId||null,_=!0===i?.isFirstPipeline,v=o?.pipeline||null,I=o?.workspaceId||null,b=o?.workspaceName||null,y=i?.workspaceName||null,S=a?.pipeline||null,w=!(0,_t.KN)(g),R=!(0,_t.KN)(v),T=w&&R,C=w!==R,k=w||R,O=hb(S,g,v).length>0;let N=0;const P=w&&!R,A=!w&&R;C&&(N=1),T&&(N=2);const D={hoveredPipeline:S,setHoveredPipeline:e=>{r({type:Mde.SET_SELECTED_HOVERED_PIPELINE,payload:{pipeline:e,workspaceName:"",workspaceId:""}})},selectedSourcePipeline:g,selectedSourcePipelineWorkspaceId:f,selectedDestinationPipeline:v,selectedDestinationPipelineWorkspaceId:I,onPipelineClick:function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=!k,i={pipeline:e,workspaceId:t,workspaceName:n,isFirstPipeline:s};e.id!==g?.id?e.id!==v?.id?r||P&&e.id!==g?.id&&f===t?p(i):P?m(i):A&&p(i):E():h()},hasSelectedSourcePipeline:w,hasSelectedDestinationPipeline:R,clearSelections:()=>{r({type:Mde.CLEAR_ALL_SELECTIONS}),u()},swapPipelinesSelections:()=>r({type:Mde.SWAP_PIPELINE_SELECTIONS}),hasSelectedTwoPipelines:T,hasSelectedOnePipeline:C,hasSelectedSomePipeline:k,clearHoveredPipeline:()=>r({type:Mde.CLEAR_HOVERED_PIPELINE}),selectedDestinationPipelineWorkspaceName:b,selectedSourcePipelineWorkspaceName:y,updateLine:(e,t,n)=>{if(N<2&&"pending"===e)return;const s={automationId:e,coordinates:t,key:n};r({type:Mde.UPDATE_LINE,payload:s})},lines:l,deleteLine:e=>{const t={automationId:e};r({type:Mde.DELETE_LINE,payload:t})},pipelineSelectionCount:N,isSomePipelineFocused:O,workflowsState:c,setWorkflowsState:e=>r({type:Mde.SET_IS_EMPTY,payload:e}),pipelineConnectionDetailsMap:d,setPipelineConnectionDetailsMap:(e,t)=>{const n=Bde(e,t,g,v,S);r({type:Mde.SET_PIPELINE_CONNECTION_DETAILS_MAP,payload:n})},hasOnlySelectedSourcePipeline:P,hasOnlySelectedDestinationPipeline:A,setSelectedSourcePipeline:p,setSelectedDestinationPipeline:m,isSelectedSourceFirstPipeline:_,...n};return Ye.createElement(Gde.Provider,{value:D},t)},Vde=()=>(0,Ye.useContext)(Gde),$de=bb.Ps`
  query getRelated($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      name
      description
      viewerPermission
      pipelines {
        id
        name
      }
      relatedWorkspaces {
        nodes {
          id
          name
          description
          viewerPermission
          pipelines {
            id
            name
          }
          pipelineToPipelineAutomations {
            nodes {
              id
              sourcePipeline {
                id
              }
              destinationPipeline {
                id
              }
            }
          }
        }
      }
      pipelineToPipelineAutomations {
        nodes {
          id
          sourcePipeline {
            id
          }
          destinationPipeline {
            id
          }
        }
      }
    }
  }
`,Zde=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,cy.a)($de,{variables:{workspaceId:e},skip:!t}),{setWorkflowsState:s}=Vde(),{data:r}=n;return(0,Ye.useEffect)((()=>{if(!(0,_t.KN)(r?.workspace)){const e=r?.workspace.relatedWorkspaces?.nodes,t=(0,_t.KN)(e)?xde.EMPTY:xde.LOADED;s(t)}}),[r]),n},Yde=e=>{const[t,n]=(0,Ye.useState)(!1),[s,r]=(0,Ye.useState)(!1),{isInviteModalOpen:i,isWorkspaceSwitcherOpen:o,hasDoneInitialOnboarding:a,isSidebarTutorialTooltipNotVisible:l,isWorkflowsTutorialNotYetViewed:c,iseWorkspaceFormOpen:d}=(0,l3.v9)((e=>({hasDoneInitialOnboarding:null!==ZS(e),isInviteModalOpen:Lde(e),isWorkspaceSwitcherOpen:bV(e),isSidebarTutorialTooltipNotVisible:!XS(e),isWorkflowsTutorialNotYetViewed:!mw(e),iseWorkspaceFormOpen:W$.isOpen(e)}))),u=(0,$8.TH)(),p=ma.isBoardPath(u.pathname),m=(e=>cI(_b)===e)(e),h=i||o||!p||d,E=c&&m&&a&&(e=>_a(ba)!==e&&_a(Ia)!==e)(e)&&l,{data:g}=Zde(e,E),f=(g?.workspace?.relatedWorkspaces?.nodes.length||0)>0&&!s;(0,Ye.useEffect)((()=>{f&&(r(!0),n(!0))}),[f]);const _=()=>{Ib(),n(!1)};return(0,Ye.useEffect)((()=>{t&&h&&_()}),[t,h]),[t,_]},Jde=e=>{let{anchorElement:t,workspace:n,offset:s}=e;const r=(0,$8.k6)(),[i,o]=Yde(n._id),a=ma.getWorkflowsPath({workspace:n});return i?Ye.createElement(P4,{className:"zhc-onboarding-floating-tooltip zhc-onboarding-floating-tooltip--workflows",anchorElement:t,onDismiss:o,steps:[{text:"Connect this Board with the rest of your team to automate Issue movements between Workspaces!",skipLabel:"No thanks",skippable:!0,nextLabel:"Go to Workflows"}],onClickCTA:()=>{o(),r.push(a)},offset:s,placement:"right-start",strategy:"fixed"}):null},Xde=bb.Ps`
  query workspaceLabelFilters($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      labelFilters {
        nodes {
          id
          labelName
        }
      }
    }
  }
`,Qde=e=>{const t=(0,cy.a)(Xde,{skip:!e,variables:{workspaceId:e},fetchPolicy:"network-only"}),n=Boolean(t.data?.workspace.labelFilters.nodes.length);return(0,Ye.useEffect)((()=>{n&&p6({hasWorkspaceFilter:!0})}),[n]),t},eue=bb.Ps`
  query workspaceDefaultRepoLabels($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      defaultRepository {
        id
        labels {
          nodes {
            id
            ghId
            color
            name
          }
        }
      }
    }
  }
`,tue=e=>{let{workspaceId:t,skip:n}=e;return(0,cy.a)(eue,{skip:!t||n,variables:{workspaceId:t}})},nue=getComputedStyle(document.documentElement).getPropertyValue("--zh-theme-color-bg-40")||"#D4D4D6",sue=e=>{let{renderLabels:t,workspaceId:n}=e;const s=(0,l3.I0)(),{loading:r,data:i}=Qde(n),o=(0,Ye.useMemo)((()=>i?.workspace.labelFilters.nodes.map((e=>({id:e.id,name:e.labelName,color:nue})))),[i]),a=(0,Ye.useMemo)((()=>o?.map((e=>e.name))),[o]),{data:l}=tue({workspaceId:n,skip:!a?.length}),c=(0,Ye.useMemo)((()=>l?.workspace?.defaultRepository?.labels?.nodes||[]),[l]),d=(0,Ye.useMemo)((()=>{return a?.length&&c?(e=c,a.map((t=>e.find((e=>e.name===t)))).filter((e=>null!=e))):null;var e}),[c,a]);(0,Ye.useEffect)((()=>{!r&&d&&s(hM(d))}),[s,r,d]);const u=o?.map((e=>d?.find((t=>t.name===e.name))||e));return u?.length&&t?t(u):null},rue=e=>parseInt(e,16);function iue(e){const t="var(--zh-theme-color-brand-blue-primary)";if("string"!=typeof e)return t;if("var"===e.substring(0,3))return e;const n="#"===e.charAt(0)?e.substr(0,7):`#${e.substr(0,6)}`,s=7===n.length,r=!Number.isNaN(rue(n.substr(1,6)));return s&&r?n:t}function oue(e){return{r:rue(e.substr(1,2)),g:rue(e.substr(3,2)),b:rue(e.substr(5,2))}}function aue(e){let{r:t,g:n,b:s}=oue(e);t/=255,n/=255,s/=255;const r=Math.min(t,n,s),i=Math.max(t,n,s),o=i-r;let a=0,l=0,c=0;return a=0===o?0:i===t?(n-s)/o%6:i===n?(s-t)/o+2:(t-n)/o+4,a=Math.round(60*a),a<0&&(a+=360),c=(i+r)/2,l=0===o?0:o/(1-Math.abs(2*c-1)),l=Number((100*l).toFixed(1)),c=Number((100*c).toFixed(1)),{h:a,s:l,l:c}}const lue="pEx_ts3FOT2YVZm2caeb",cue=(e,t)=>{if(!e)return{color:t};const n=iue(e),{r:s,g:r,b:i}=oue(n),{h:o,s:a,l}=aue(n);return{"--label-r":s,"--label-g":r,"--label-b":i,"--label-h":o,"--label-s":a,"--label-l":l,color:t}},due=e=>{let{children:t,className:n,color:s,fontColor:r="",name:i}=e;return Ye.createElement("span",{className:(0,_I.default)(lue,n),"data-cy":"label","data-testid":"zh-label",style:cue(s,r),title:i},i,t)},uue=Ye.memo(due),pue=uue,mue=e=>{let{isCollapsed:t,labels:n}=e;const s=(0,_I.default)("zhc-workspace-filter-sidebar-status",{"zhc-workspace-filter-sidebar-status--collapsed":t}),r=n.length>1?"This workspace's board is only showing issues that match all of these labels":"This workspace's board is only showing issues that match this label";return Ye.createElement("div",{className:s},n.map((e=>Ye.createElement(pue,{key:e.name,name:e.name,color:e.color}))),Ye.createElement(YI,{content:r,position:jI.RIGHT},Ye.createElement(T9,null)))},hue=[{videoEmbedUrl:"https://player.vimeo.com/video/428285391?background=1",navigation:{isNeeded:e=>!ma.isBoardPath(e.pathname),ctaText:"Take me there",getAction:e=>LG.router.openWorkspaceBoard({workspace:e}),overlayHighlightElement:".zhc-onboarding-highlight-sidebar-board"},heading:"Track your work",text:"Create user stories (GitHub issues) to capture different pieces of work. Use labels to categorize the work, and estimates to indicate complexity. Add an assignee to mark the owner of the issue or attach it to a sprint.",highlightElement:".zhc-onboarding-highlight-new-issue"},{videoEmbedUrl:"https://player.vimeo.com/video/428285450?background=1",heading:"Communicate priority",text:"Pipelines represent the steps in your team's workflow. Reorder issues in a pipeline to prioritize your work, or pin high priority issues to the top."},{videoEmbedUrl:"https://player.vimeo.com/video/428558062?background=1",heading:"Group issues in epics",text:"Create epics and add related issues, then track the epic work using the progress bar."},{videoEmbedUrl:"https://player.vimeo.com/video/428558087?background=1",heading:"Focus your attention",text:"Filter your workspace to show only what's important to you. Try filtering by 'assignee' to see what a specific person is working on, \u2018epic' to see related issues, or 'label' to see certain types of issues like bugs.",highlightElement:".zhc-onboarding-highlight-board-filters"},{videoEmbedUrl:"https://player.vimeo.com/video/488291874?background=1",heading:"Start collaborating",text:"Make the most of your workspace by inviting your team to join.",highlightElement:".zh-inviteTeamButtonMain"}],Eue=[{videoEmbedUrl:"https://player.vimeo.com/video/428578293?background=1",heading:"Track your work without leaving GitHub",navigation:{isNeeded:e=>!ma.isBoardPath(e.pathname),ctaText:"Take me there",getAction:e=>LG.router.openWorkspaceBoard({workspace:e}),overlayHighlightElement:".zhc-onboarding-highlight-sidebar-board"},text:"Existing GitHub issues automatically appear in your workspace. Select the pipeline to track an issue's status, then add details like labels and estimate."},{videoEmbedUrl:"https://player.vimeo.com/video/428578323?background=1",heading:"Prevent blockers",text:"Set dependencies to indicate if an issue is blocking, or blocked by, another piece of work."},{videoEmbedUrl:"https://player.vimeo.com/video/428578353?background=1",heading:"Automatically track PRs",text:"Link pull requests to their corresponding issue so that the work is tracked together. "},{videoEmbedUrl:"https://player.vimeo.com/video/428558062?background=1",heading:"Group issues in epics",text:"Create epics to group issues into similar themes, then track epic work using the progress bar."},{videoEmbedUrl:"https://player.vimeo.com/video/488291874?background=1",heading:"Start collaborating",text:"Make the most of your workspace by inviting your team to join."}],gue=[{videoEmbedUrl:"https://player.vimeo.com/video/428578373?background=1",navigation:{isNeeded:e=>!ma.isRoadmapPath(e.pathname),ctaText:"Go to roadmap",getAction:e=>LG.router.openWorkspaceRoadmap({workspace:e}),overlayHighlightElement:".zhc-onboarding-highlight-sidebar-roadmap"},heading:"Align your team",text:"Roadmaps allows you to easily show progress of your projects and epics, and predicted end dates based on real-time issue data."},{videoEmbedUrl:"https://player.vimeo.com/video/428578392?background=1",heading:"Plan your work",text:"Epics are used to group related user stories (GitHub issues). Create new epics, or add existing epics to your roadmap to plan and visualize upcoming work."},{videoEmbedUrl:"https://player.vimeo.com/video/428578413?background=1",heading:"Add your projects",text:"For long-term goals and bigger initiatives, use ZenHub projects. Projects add an extra layer of hierarchy to group your epics and track progress dynamically.",highlightElement:".zhc-onboarding-highlight-add-roadmap"},{videoEmbedUrl:"https://player.vimeo.com/video/428578430?background=1",heading:"Track progress automatically",text:"As your team completes work and closes the associated issues, the epics and projects update automatically to show real-time progress.",highlightElement:".zhc-onboarding-highlight-roadmap-options"},{videoEmbedUrl:"https://player.vimeo.com/video/428578454?background=1",heading:"Check your project status",text:"Using your completed work, roadmaps will predict an epic's completion date. Colors (red/yellow/green) quickly identify where you're falling behind based on the issue count or story points."},{videoEmbedUrl:"https://player.vimeo.com/video/488291874?background=1",heading:"Invite your team",text:"Eliminate pesky status update meetings. Share your roadmap with the rest of your organization.",highlightElement:".zh-inviteTeamButtonMain"}],fue=[{videoEmbedUrl:"https://player.vimeo.com/video/428578475?background=1",navigation:{isNeeded:e=>!ma.isBoardPath(e.pathname),ctaText:"Take me there",getAction:e=>LG.router.openWorkspaceBoard({workspace:e}),overlayHighlightElement:".zhc-onboarding-highlight-sidebar-board"},heading:"Track your work with sprints",text:"Sprints track the progress of work (GitHub issues) within ZenHub.",highlightElement:".zhc-onboarding-highlight-new-plus"},{videoEmbedUrl:"https://player.vimeo.com/video/428578504?background=1",heading:"Select multiple issues",text:"Quickly add issues to your sprints, or make bulk updates like adding estimates, labels, or assignees."},{videoEmbedUrl:"https://player.vimeo.com/video/428558062?background=1",heading:"Organize user stories",text:"Epics are used in your workspace to group user stories (GitHub issues) into chunks of work."},{videoEmbedUrl:"https://player.vimeo.com/video/428285450?background=1",heading:"Communicate priority",text:"Pipelines represent the steps in your team's workflow. Reorder issues in a pipeline to prioritize your work, or pin high priority issues to the top."},{videoEmbedUrl:"https://player.vimeo.com/video/488291874?background=1",heading:"Start collaborating",text:"Make the most of your workspace by inviting your team to join.",highlightElement:".zh-inviteTeamButtonMain"}],_ue=[{videoEmbedUrl:"https://player.vimeo.com/video/428578293?background=1",navigation:{isNeeded:e=>!ma.isBoardPath(e.pathname),ctaText:"Take me there",getAction:e=>LG.router.openWorkspaceBoard({workspace:e}),overlayHighlightElement:".zhc-onboarding-highlight-sidebar-board"},heading:"Track your work",text:"Create user stories (GitHub issues) to capture different pieces of work. Use labels to categorize the work (like \u2018Bug\u2019 or Eng Team\u2019) and estimates to indicate complexity. Add an assignee to mark the owner of the issue or attach it to a sprint."},{videoEmbedUrl:"https://player.vimeo.com/video/428558062?background=1",heading:"Organize issues",text:"Group issues into epics to organize your work and add hierarchy. Epics automatically track completed work and make it easy to filter your workspace by specific themes. "},{videoEmbedUrl:"https://player.vimeo.com/video/428285450?background=1",heading:"Communicate priority",text:"Pipelines represent the steps in your team's workflow. Reorder issues in a pipeline to prioritize your work, or pin high priority issues to the top."},{videoEmbedUrl:"https://player.vimeo.com/video/428578373?background=1",heading:"Align your team",text:"Roadmaps allows you to easily show progress of your projects and epics, and predicted end dates based on real-time issue data."},{videoEmbedUrl:"https://player.vimeo.com/video/488291874?background=1",heading:"Start collaborating",text:"Make the most of your workspace by inviting your team to join.",highlightElement:".zh-inviteTeamButtonMain"}],vue=[{videoEmbedUrl:"https://player.vimeo.com/video/448711711?background=1",heading:"What are ZenHub workflows?",text:"Workflows sync the pipeline state of an issue in multiple workspaces to automate hand-offs, communicate status, and keep your board up to date and always accurate."},{videoEmbedUrl:"https://player.vimeo.com/video/447544366?background=1",heading:"Connect your source and destination pipelines",text:"Once a connection has been created, all issue movements to the source pipeline will automatically move the issue to your destination."},{videoEmbedUrl:"https://player.vimeo.com/video/447544349?background=1",heading:"Remove a connection",text:"Sometimes workflows need to change. Select the pipelines for the workflow you would like to delete then review and remove the connection."},{videoEmbedUrl:"https://player.vimeo.com/video/447544351?background=1",heading:"View individual connections",text:"Hover over a connection to see how it fits into your team&apos;s workflow. Click on a connected pipeline to keep the state visible while exploring."}],Iue=e=>{switch(e){case ib.Planner:return hue;case ib.Coder:return Eue;case ib.Roadmapper:return gue;case ib.SprintLead:return fue;case ib.Generalist:default:return _ue}},bue=e=>{let{classSelector:t,onClick:n}=e;const s=document.querySelector(t),r=s?.getBoundingClientRect(),i={height:`${r?.height}px`,width:`${r?.width}px`,top:`${r?.y}px`,left:`${r?.x}px`};return s&&Ye.createElement(ine,{isOpen:!0},Ye.createElement("div",{className:"zhc-onboarding-overlay"},Ye.createElement("div",{className:"zhc-onboarding-overlay__element-highlight",style:i,onClick:n})))},yue=`.${ha.LX}, .${ha.q}`,Sue=e=>{let{classSelector:t}=e;const n=(0,Ye.useRef)(),[s,r]=(0,Ye.useState)(!1);if((0,Ye.useEffect)((()=>{const e=document.querySelector(yue),s=document.querySelector(t);n.current=s,r(Boolean(s));const i=new MutationObserver((()=>{const e=document.querySelector(t);e!==n.current&&(n.current=e,r(Boolean(e)))}));return i.observe(e,{childList:!0,subtree:!0}),()=>i.disconnect()}),[t]),!s)return null;const i=n?.current?.getBoundingClientRect(),o={height:`${i?.height}px`,width:`${i?.width}px`,top:`${i?.y}px`,left:`${i?.x}px`},a=i?.width?{left:`${Math.round((i?.width||0)/2-20)}px`}:{},l=(0,_I.default)("zhc-onboarding-highlight",{"zhc-onboarding-highlight--extension":F});return Ye.createElement(ine,{isOpen:!0},Ye.createElement("div",{"data-testid":"onboarding-highlight",style:o,className:l},Ye.createElement(z8,{style:a,className:"zhc-onboarding-highlight__arrow--top"})))};const wue=e=>Ye.createElement(Sue,{key:e,classSelector:e}),Rue=(e,t)=>Ye.createElement(bue,{classSelector:e,onClick:t});function Tue(){const e=function(){const e=(0,$8.TH)(),t=(0,Ye.useRef)(e);return(0,Ye.useEffect)((()=>{t.current=e}),[e]),()=>t.current}(),t=(0,l3.I0)(),n=(0,l3.v9)(Na);return(s,r)=>{(e=>{let{tutorialPersona:t,onNavigate:n,onShowTutorialsList:s,renderHighlightElement:r,renderOverlayElement:i,getLocation:o}=e;H.Z.createToastIfUniqueByType(W.Z.TUTORIAL,{cards:Iue(t),getLocation:o,onNavigate:n,onComplete:e=>{H.Z.deleteToast(e)},onClose:e=>{H.Z.deleteToast(e)},onShowTutorialsList:s,renderHighlightElement:r,renderOverlayElement:i})})({tutorialPersona:s,onNavigate:e=>{const s=e(n);t(s)},onShowTutorialsList:r,renderHighlightElement:wue,renderOverlayElement:Rue,getLocation:e})}}function Cue(){return Cue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cue.apply(this,arguments)}const kue=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--chevron-right",t].filter(Boolean).join(" "),"aria-label":"chevron-right",role:"img",...n};return Ye.createElement("svg",Cue({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{d:"M9.057 8l-2.862 2.862a.667.667 0 00.943.943l3.333-3.334a.667.667 0 000-.942L7.138 4.195a.667.667 0 10-.943.943L9.057 8z",id:"chevron-right_svg__a"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("mask",{id:"chevron-right_svg__b",fill:"currentColor"},Ye.createElement("use",{xlinkHref:"#chevron-right_svg__a"})),Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#chevron-right_svg__a"}),Ye.createElement("g",{mask:"url(#chevron-right_svg__b)",fill:"currentColor"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function Oue(){return Oue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oue.apply(this,arguments)}const Nue=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--link-external",t].filter(Boolean).join(" "),"aria-label":"link-external",role:"img",...n};return Ye.createElement("svg",Oue({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.333 4.013a1 1 0 0 0 1.003.997l3.282-.048-8.012 8.012c-.308.308-.242.875.149 1.265.39.391.957.458 1.265.15l8.022-8.023-.063 3.31a1 1 0 1 0 2 .007l.098-6.749-6.748.076a1 1 0 0 0-.996 1.003zM18 15v4.3c0 .497-.203.7-.7.7H4.7c-.497 0-.7-.203-.7-.7V6.7c0-.497.203-.7.7-.7H9c.497 0 1-.503 1-1s-.503-1-1-1H4.7C2.997 4 2 5.005 2 6.7v12.6A2.7 2.7 0 0 0 4.7 22h12.6a2.7 2.7 0 0 0 2.7-2.7V15c0-.497-.503-1-1-1s-1 .503-1 1z",fill:"currentColor"}))},Pue=n.p+"../../img/built/onboarding-everything.svg",Aue=n.p+"../../img/built/onboarding-plan.svg",Due=n.p+"../../img/built/onboarding-organize.svg",Lue=n.p+"../../img/built/onboarding-roadmap.svg",zue=n.p+"../../img/built/onboarding-ship-code.svg",Mue=e=>{let{image:t,label:n,onClick:s,persona:r}=e;return Ye.createElement("button",{className:"zhc-onboarding-tutorials__launch-button",type:"button",onClick:()=>s(r)},Ye.createElement(t7,{className:"zhc-onboarding-tutorials__launch-button__img",src:t}),Ye.createElement("div",{className:"zhc-onboarding-tutorials__launch-button__right"},Ye.createElement("span",{className:"zhc-onboarding-tutorials__launch-button__label"},n),Ye.createElement("div",{className:"zhc-onboarding-tutorials__launch-button__icon"},Ye.createElement(kue,null))))},xue=e=>{let{isMinimized:t,onLaunchTutorial:n,subtitle:s,title:r}=e;const i=(0,_I.default)("zhc-onboarding-tutorials__header",{"zhc-onboarding-tutorials__header--is-minimized":t});return Ye.createElement("div",{className:"zhc-onboarding-tutorials"},Ye.createElement("header",{className:i},Ye.createElement("h1",{className:"zhc-onboarding-tutorials__heading"},r),!t&&Ye.createElement("div",{className:"zhc-onboarding-tutorials__subhead"},s)),Ye.createElement("div",{className:"zhc-onboarding-tutorials__menu","data-zh-flyover":"close"},Ye.createElement(Mue,{image:zue,label:"Commit, review, and track your code changes",onClick:n,persona:ib.Coder}),Ye.createElement(Mue,{image:Due,label:"Plan, prioritize and collaborate on your work",onClick:n,persona:ib.Planner}),Ye.createElement(Mue,{image:Lue,label:"Build a roadmap to track progress of your projects and epics",onClick:n,persona:ib.Roadmapper}),Ye.createElement(Mue,{image:Aue,label:"Plan and execute sprints for your team",onClick:n,persona:ib.SprintLead}),Ye.createElement(Mue,{image:Pue,label:"A shortcut to becoming a power user",onClick:n,persona:ib.Generalist})),Ye.createElement("div",{className:"zhc-onboarding-tutorials__help-link"},Ye.createElement("a",{className:"zhc-onboarding-tutorials__help-link__text",href:"https://help.zenhub.com/support/home",target:"_blank",rel:"noreferrer"},"Looking for more? Check out our help center",Ye.createElement(Nue,null))))};const Fue=e=>{let{onClick:t}=e;const n=function(e){let{launchOnboardingTutorial:t}=e;const n=function(){let{subtitle:e="Let us show you a few things to get started",title:s="Hello! What are you here for today?"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H.Z.removeByType(W.Z.LARGE_CARD),H.Z.removeByType(W.Z.TUTORIAL),H.Z.removeByType(W.Z.VIDEO_CARD),H.Z.createToast(W.Z.LARGE_CARD,{renderContents:r=>{let{isMinimized:i,onClose:o}=r;return Ye.createElement(xue,{isMinimized:i,onLaunchTutorial:e=>{o(),t(e,n)},subtitle:e,title:s})}})};return n}({launchOnboardingTutorial:Tue()});return Ye.createElement(Ane,{icon:Ye.createElement(T9,null),onClick:()=>{n(),t()},text:"View tutorials"})};function Uue(){return Uue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uue.apply(this,arguments)}const Bue=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--invite",t].filter(Boolean).join(" "),"aria-label":"invite",role:"img",...n};return Ye.createElement("svg",Uue({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 2c0-.736.448-1 1-1s1 .264 1 1v2h2c.736 0 1 .448 1 1s-.264 1-1 1h-2v2c0 .736-.448 1-1 1s-1-.264-1-1V6h-2c-.736 0-1-.448-1-1s.264-1 1-1h2V2Zm-8 13a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM2 23a1 1 0 0 0 1-1c0-2.28 1.676-4 4-4h6c2.324 0 4 1.72 4 4a1 1 0 1 0 2 0c0-3.373-2.56-6-6-6H7c-3.44 0-6 2.627-6 6a1 1 0 0 0 1 1Z",fill:"currentColor"}))},que="MKFFUYffJBDp0MDwPkAE",Hue="HjaFGJoXXO37t5Mj1ZXr",Wue="gSM1C0aFKdg8c6Y_QWpt",jue="SHpP6h2h6_z9eGlHchDz",{invites:Gue}=LG,Kue=e=>{const t=(0,l3.I0)(),n=(0,l3.v9)(Ou),s=(0,l3.v9)(zre),r=n||s;return window.USER_HAS_FEELINGS?null:Ye.createElement("div",{className:(0,_I.default)("zh-inviteTeamButtonMain",{[que]:e.isSidebarCollapsed&&!e.isHoveringOnSidebar})},Ye.createElement("button",{type:"button",className:Hue,onClick:()=>{const n={modalType:r?E_:h_,reason:e.isExtension?"Extension Sidebar":"Webapp Sidebar"};t(Gue.openInviteModal(n))}},Ye.createElement("span",{className:(0,_I.default)(Wue,{[jue]:e.isSidebarCollapsed&&!e.isHoveringOnSidebar}),"aria-label":"Invite your team to use ZenHub"},Ye.createElement(Bue,null)),!e.isSidebarCollapsed||e.isHoveringOnSidebar?"Invite your team":null))},Vue=e=>{let{children:t}=e;return Ye.createElement("span",{onMouseOver:e=>{e.stopPropagation()}},t)},{issue:$ue,shortcuts:Zue,onboarding:Yue,pages:Jue,sidebar:Xue,workspaceSwitcher:Que,board:epe,milestoneBuilder:tpe,releaseBuilder:npe,router:spe}=LG,rpe=Xue.toggleDropdown.bind(null,hl),ipe=mee(pl),ope=pee(hl);function ape(e){return ma.getBoardPath({workspace:e})}function lpe(){return PI?ma.getWebappSettingsProfilePath():ma.getSettingsProfilePath()}const cpe=e=>{document.body.classList[e?"remove":"add"]("zh-sidebar-expanded")};class dpe extends Ye.PureComponent{constructor(e){super(e),this.setIsDropdownClosing=e=>this.setState({isDropdownClosing:e}),this.getSettingsUrl=e=>{const{isUserEnterpriseAdmin:t}=this.props;return x?t?(n=e,PI?ma.getWebappSettingsUrl({organization:n}):ma.getSettingsPath({organization:n})):function(e){return e?PI?ma.getWebappSettingsIntegrationsPath({organization:e}):ma.getSettingsIntegrationsPath({organization:e}):null}(e):lpe();var n},this.getShortcuts=()=>{const{shortcuts:e,isPlatformLiteUser:t,isUsingPlatformEpics:n}=this.props,s=e||[],r={shortcutInfo:E8.GLOBAL_NEW_EPIC,handler:this.openNewIssueViewer.bind(this,Hx.EPIC)};if(t)return[...s,...n?[r]:[]];const i=[{shortcutInfo:E8.GLOBAL_NEW_ISSUE,handler:this.openNewIssueViewer.bind(this,Hx.ISSUE)},r,{shortcutInfo:E8.GLOBAL_WORKSPACE_SWITCHER,handler:this.openWorkspaceSwitcherWithShortcut,preventDefault:!0}];return[...s,...i]},this.setIsCollapsed=()=>{const{isCollapsed:e,setIsCollapsed:t}=this.props,n=!e;cpe(n),this.setState({isHovering:!1}),t(n)},this.openWorkspaceSwitcher=()=>{const{openWorkspaceSwitcher:e}=this.props;e()},this.openWorkspaceSwitcherWithShortcut=()=>{const{onShortcutsUsed:e}=this.props;e(E8.GLOBAL_WORKSPACE_SWITCHER),this.openWorkspaceSwitcher()},this.openEditWorkspace=()=>{const{openFromWorkspaceId:e,openCurrentWorkspaceEditForm:t,isPlatformUser:n,workspace:s}=this.props,{_id:r}=s;n?t({workspaceId:r}):e({workspaceId:r})},this.resetScroll=()=>{const{isCollapsed:e}=this.props;e&&(this.navigationDiv.current.scrollTop=0)},this.handleOpenProfile=e=>{const{toggleProfileOpen:t,setPrevLocation:n,location:s}=this.props;t(e),n(s)},this.state={isHovering:Boolean(window.USER_HAS_FEELINGS),tooltipAnchorElement:null,workflowsPromptAnchorElement:null},this.navigationDiv=Ye.createRef(),this.handleOpenTutorialsList=this.handleOpenTutorialsList.bind(this),this.openNewIssueViewer=this.openNewIssueViewer.bind(this),this.toggleHoverOn=this.toggleHoverOn.bind(this),this.toggleHoverOff=this.toggleHoverOff.bind(this)}UNSAFE_componentWillMount(){const{setIsCollapsed:e}=this.props,t=function(){const e=cI(vG);return JSON.parse(e)}();t&&e(t),cpe(t)}componentDidUpdate(e){const{isAnyDropdownActive:t}=this.props,{isDropdownClosing:n}=this.state;!t&&e.isAnyDropdownActive&&(this.setIsDropdownClosing(!0),setTimeout((()=>{n&&this.setState({isDropdownClosing:!1,isHovering:!1})}),500))}componentWillUnmount(){const{clearRouterHistory:e}=this.props;e&&e()}handleOpenTutorialsList(){const{isTutorialTooltipVisible:e,onTutorialTooltipDismissed:t,setIsCollapsed:n}=this.props;n(!1),e&&t()}getIsSidebarExpanded(e){const{isHovering:t}=this.state,{isAnyDropdownActive:n,isCollapsed:s}=this.props;return!!(t||n||!s&&e)}openNewIssueViewer(e,t){const{defaultRepo:n,openNewIssueViewer:s,isUsingPlatformEpics:r,openPlatformEpicFlyover:i,openExtensionIssueFlyover:o,workspace:a}=this.props;this.toggleHoverOff(),r&&e===Hx.EPIC?t?spe.openPlatformEpicInNewTab({workspace:a,epic_id:"new"}):PI?o({isPlatformEpic:!0,id:"new"},t):i({workspace:a,epic_id:"new"}):s(n,e,a,t)}toggleHoverOn(){window.USER_HAS_FEELINGS||this.setState({isDropdownClosing:!1,isHovering:!0})}toggleHoverOff(){window.USER_HAS_FEELINGS||this.setState({isHovering:!1})}render(){const{initOnboarding:e,isAnyDropdownActive:t,isBoardActive:n,isCollapsed:s,isCurrentWorkspaceLoading:r,isFullScreen:i,isOpenMobile:o,isProfileDropdownActive:a,isReportNavItemActive:l,isTutorialTooltipVisible:c,isWideScreen:d,onShortcutsUsed:u,onTutorialTooltipDismissed:p,openWorkspaceSwitcher:m,ownerName:h,loadHasFailed:E,location:g,setWorkspaceImportState:f,showTrialEndNotification:_,signOutFunction:v,toggleProfileOpen:I,toggleSidebar:b,trialEnd:y,userDisplayName:S,userName:w,workspace:R,openReleaseForm:T,openMilestoneViewer:C,onBoardNavFirstClick:k,isPlatformUser:O}=this.props,{isHovering:N}=this.state,P=!s||N?0:-186,A=R?.repos.length>0;return Ye.createElement(cte,{initOnboarding:e,isAnyDropdownActive:t,isBoardActive:n,isFullScreen:i,isWideScreen:d,isHovering:N,isOpenMobile:o,isCollapsed:s,onHoverOff:this.toggleHoverOff,onShortcutsUsed:u,shortcuts:this.getShortcuts(),toggleOpenState:b},Ye.createElement("div",{ref:this.navigationDiv,className:"zhc-sidebar__navigation",onMouseOver:this.toggleHoverOn,onMouseLeave:this.resetScroll},Ye.createElement(Yse,{loadHasFailed:E,isCollapsed:s&&!N,isLoading:r,onClickOpen:m}),A&&Ye.createElement(sue,{renderLabels:e=>Ye.createElement(mue,{isCollapsed:s,labels:e}),workspaceId:R?._id}),r?null:Ye.createElement(Ye.Fragment,null,Ye.createElement(Nne,{onClick:k,path:ape(R),className:"zhc-onboarding-highlight-sidebar-board",text:"Board",icon:Ye.createElement(Wee,null),isFullScreen:i}),Ye.createElement(Nne,{text:"Reports",path:ma.getReportsPath({workspace:R}),shouldReplace:l,icon:Ye.createElement(Gee,null),isSidebarExpanded:this.getIsSidebarExpanded(d)},Ye.createElement(zne,{currentPath:g.pathname,text:"Overview",path:ma.getReportsPath({workspace:R,type:"overview"})}),Ye.createElement(zne,{currentPath:g.pathname,text:"Cumulative flow",path:ma.getReportsPath({workspace:R,type:"cumulative"})}),Ye.createElement(zne,{currentPath:g.pathname,text:"Control chart",path:ma.getReportsPath({workspace:R,type:"control"})}),Ye.createElement(zne,{currentPath:g.pathname,text:"Burndown report",path:ma.getReportsPath({workspace:R,type:"burndown"})}),Ye.createElement(zne,{currentPath:g.pathname,text:"Velocity tracking",path:ma.getReportsPath({workspace:R,type:"velocity"})}),Ye.createElement(zne,{currentPath:g.pathname,text:"Release report",path:ma.getReportsPath({workspace:R,type:"release"})})),Ye.createElement(Nne,{path:R?ma.getRoadmapPath({workspace:R}):"",className:"zhc-onboarding-highlight-sidebar-roadmap",icon:Ye.createElement(Vee,null),text:"Roadmap"}),PI||O?null:Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(Nne,{path:R?ma.getMilestonesPath({workspace:R}):"",className:"zhc-onboarding-highlight-sidebar-milestones",icon:Ye.createElement(Zee,null),text:"Milestones"})),!PI&&Ye.createElement(Nne,{path:R?ma.getNotificationsPath({workspace:R}):"",icon:Ye.createElement(Jee,null),text:"Notifications"}),Ye.createElement("div",{ref:e=>this.setState({workflowsPromptAnchorElement:e})},Ye.createElement(Nne,{path:R?ma.getWorkflowsPath({workspace:R}):"",icon:Ye.createElement(_de,null),text:"Workflows"})),Ye.createElement(Vue,null,Ye.createElement(Jde,{anchorElement:this.state.workflowsPromptAnchorElement,workspace:R,offset:P})),Ye.createElement(sse,null),Ye.createElement(ode,{text:"Create...",icon:Ye.createElement(Qee,null),onClickIssueItem:this.openNewIssueViewer,openReleaseForm:T,openMilestoneViewer:C}),Ye.createElement("div",{"data-zh-flyover":"close"},Ye.createElement(Ane,{text:"Edit workspace",icon:Ye.createElement(tte,null),onClick:this.openEditWorkspace})),Ye.createElement("div",{"data-zh-flyover":"close",ref:e=>this.setState({tooltipAnchorElement:e})},Ye.createElement(Fue,{onClick:this.handleOpenTutorialsList})),c?Ye.createElement(Vue,null,Ye.createElement(P4,{containerClassName:"zhc-onboarding-floating-tooltip__container",className:"zhc-onboarding-floating-tooltip",anchorElement:this.state.tooltipAnchorElement,onDismiss:p,offset:P,strategy:"fixed",placement:"right-start",steps:[{text:"You can always access our tutorials from here.",title:"View ZenHub tutorials",nextLabel:"Got it"}]})):null,Ye.createElement(sse,null),Ye.createElement(vse,{text:"Shortcuts",path:PI?ma.getWebappShortcutsUrl():ma.getShortcutsPath()}),PI?Ye.createElement(vse,{path:ma.getWebappBoardUrl({workspace:R}),text:"Open in web app"}):null,Ye.createElement(vse,{text:"Support and training",path:"https://help.zenhub.com/support/discussions"}),function(){const e=e=>{r6("Changelog Clicked",{application:e})};return x?Ye.createElement(vse,{text:"Release Notes",path:"https://www.zenhub.com/enterprise/releases"}):AI?Ye.createElement(nse,{onClick:()=>{e("webapp")}},Ye.createElement("a",null,"Changelog")):Ye.createElement(vse,{onClick:()=>{e("extension")},text:"Changelog",path:"https://changelog.zenhub.com"})}()),Ye.createElement("div",{className:"zhc-sidebar__flyover-close-target","data-zh-flyover":"close"})),r?null:Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{onMouseOver:this.toggleHoverOn,onMouseLeave:this.resetScroll},ee.kKJ(R)?null:Ye.createElement(yse,{accountSettingsPath:lpe(),managePlanPath:(D=h,PI?ma.getWebappSettingsManagePath({organization:D}):ma.getSettingsManagePath({organization:D})),ownerName:h,showTrialEndNotification:_,trialEnd:y}),"COMPLETED"===R.importState?null:Ye.createElement(fde,{onImportComplete:()=>f("COMPLETED"),workspaceId:R._id}))),Ye.createElement(Kue,{isSidebarCollapsed:s,isHoveringOnSidebar:N,isExtension:PI}),Ye.createElement("div",{className:"zhc-sidebar__footer"},window.USER_HAS_FEELINGS||!d?null:Ye.createElement("div",{className:"zhc-sidebar__footer-left"},Ye.createElement(qne,{isCollapsed:s,setIsCollapsed:this.setIsCollapsed})),Ye.createElement("div",{className:"zhc-sidebar__footer-right"},Ye.createElement(_se,{dashboardURL:this.getSettingsUrl(h),isProfileActive:a,onManageOrgClick:this.handleOpenProfile,signOutFunction:v,toggleOpen:I,userDisplayName:S,userName:w}))));var D}}dpe.propTypes={initOnboarding:SI().func.isRequired,isAnyDropdownActive:SI().bool.isRequired,isBoardActive:SI().bool.isRequired,isCollapsed:SI().bool.isRequired,isCurrentWorkspaceLoading:SI().bool.isRequired,isFullScreen:SI().bool.isRequired,isOpenMobile:SI().bool.isRequired,isPlatformLiteUser:SI().bool.isRequired,isPlatformUser:SI().bool.isRequired,isReportNavItemActive:SI().bool.isRequired,isTutorialTooltipVisible:SI().bool.isRequired,isUserEnterpriseAdmin:SI().bool.isRequired,isUsingPlatformEpics:SI().bool.isRequired,isWideScreen:SI().bool.isRequired,loadHasFailed:SI().bool.isRequired,location:SI().shape({pathname:SI().string.isRequired}).isRequired,openCurrentWorkspaceEditForm:SI().func.isRequired,openFromWorkspaceId:SI().func.isRequired,openMilestoneViewer:SI().func.isRequired,openNewIssueViewer:SI().func.isRequired,openPlatformEpicFlyover:SI().func.isRequired,openReleaseForm:SI().func.isRequired,openWorkspaceSwitcher:SI().func.isRequired,setIsCollapsed:SI().func.isRequired,setPrevLocation:SI().func.isRequired,setWorkspaceImportState:SI().func.isRequired,signOutFunction:SI().func.isRequired,toggleProfileOpen:SI().func.isRequired,toggleSidebar:SI().func.isRequired,userDisplayName:SI().string.isRequired,userName:SI().string.isRequired,onShortcutsUsed:SI().func.isRequired,onTutorialTooltipDismissed:SI().func.isRequired,clearRouterHistory:SI().func,defaultRepo:SI().shape({}),isProfileDropdownActive:SI().bool,openExtensionIssueFlyover:SI().func,ownerName:SI().string,shortcuts:SI().arrayOf(SI().shape({})),showTrialEndNotification:SI().bool,trialEnd:SI().number,workspace:SI().shape({_id:SI().string,importState:SI().string,repos:SI().arrayOf(SI().shape({repo_id:SI().number}))}),onBoardNavFirstClick:SI().func},dpe.defaultProps={clearRouterHistory:null,defaultRepo:null,isProfileDropdownActive:!1,onBoardNavFirstClick:_t.ZT,openExtensionIssueFlyover:_t.ZT,ownerName:null,shortcuts:null,showTrialEndNotification:!1,trialEnd:0,workspace:null};const upe=(0,$8.EN)((0,l3.$j)((function(e,t){const{location:n}=t,s=ma.isReportsPath(n.pathname),r=xa(e),i=Na(e),o=Ya(e),a=$a(e),l=!a&&(ma.isBoardPath(n.pathname)||Boolean(t.isBoardWithModal));return{activeDropdown:uee(e),isAnyDropdownActive:ipe(e),isCollapsed:Eee(e),isFullScreen:L_(e),isOpenMobile:hee(e),isBoardActive:l,isProfileDropdownActive:ope(e),userDisplayName:fu(e),userName:_u(e),isReportNavItemActive:s,selectedReport:kh(e),shortcuts:t.shortcuts,isTutorialTooltipVisible:XS(e),showTrialEndNotification:lee(e),trialEnd:eee(e),isUserEnterpriseAdmin:Cu(e),ownerName:Qa(e),isCurrentWorkspaceLoading:a,repos:Da(e),loadHasFailed:r,defaultRepo:o,workspace:i,location:n,isPlatformUser:au(e),isPlatformLiteUser:Ou(e),isUsingPlatformEpics:Lre(e)}}),(function(e){const t=(0,mr.DE)({onShortcutsUsed:Zue.trackShortcutsUsed,setIsCollapsed:Xue.setIsCollapsed,toggleSidebar:Xue.toggleSidebar,toggleSidebarCollapsed:Xue.toggleSidebarCollapsed,openFromWorkspaceId:oZ.openFromWorkspaceId,openCurrentWorkspaceEditForm:oZ.openCurrentWorkspaceEditForm,setWorkspaceImportState:Jue.setWorkspaceImportState,openPlatformEpicFlyover:spe.openPlatformEpicFlyover},e);return ee.TSy(t,{toggleProfileOpen(t){t&&t.stopPropagation(),e(rpe())},setPrevLocation(t){e(vr(t))},initOnboarding(){BG(e)},onTutorialTooltipDismissed(){e(Yue.setOnboardingValue({key:"persona_sidebar_tooltip_dismissed",value:!0}))},onBoardNavFirstClick(){e(Yue.setOnboardingValue({key:"sidebar_board_nav_first_click",value:!0}))},openWorkspaceSwitcher(){e(Que.open())},openNewIssueViewer(t,n,s,r){const i={defaultRepo:t,issueType:n,workspace:s,isAltClick:r};t&&e($ue.selectBestRepoAndOpenNewIssue(i))},openMilestoneViewer(){e(epe.openBoardItem()),e(tpe.openCreateMilestoneForm())},openReleaseForm(t){e(epe.openBoardItem()),e(npe.openCreateReleaseForm(t))},dispatch:e})}),((e,t,n)=>({...e,...t,...n,openReleaseForm:t.openReleaseForm.bind(void 0,e.workspace)})))(dpe));let ppe;!function(e){e.PENDING="pending",e.SUGGESTED="suggested",e.MEMBER="member"}(ppe||(ppe={}));const mpe=(e,t,n)=>{(0,Ye.useEffect)((()=>{n({orgName:e,repoIds:t})}),[n,e,t])},hpe=(e,t,n,s,r,i)=>{(0,Ye.useEffect)((()=>{(0,_t.KN)(t)&&!(0,_t.KN)(e)&&r(e),(0,_t.KN)(s)&&!(0,_t.KN)(n)&&i(n)}),[e,t,n,s])},Epe="There are no suggested team members to invite. Invite others by email using the search.",gpe="There are no suggested team members matching your search. To invite this team member to ZenHub type in their email.",fpe="Looks like you\u2019re the first one in your organization using ZenHub! Start inviting your team by searching for their usernames.",_pe={INCOMPLETE_EMAIL:"Before adding more team members to invite, please finish adding the email above.",MAX_INVITES:"You can only invite a maximum of 15 people at a time.",INVALID_EMAIL:"Please enter a valid email.",NONE:""},vpe=8,Ipe=9,bpe=13,ype=32,Spe=188,wpe=/; |;|, |,|\s/,Rpe=e=>Array.from(new Set(e.map((e=>e.email)))).map((t=>e.find((e=>e.email===t)))),Tpe=(e,t,n,s)=>{(0,Ye.useEffect)((()=>{(e=>e.some((e=>!1===e.isValid)))(e)?s(_pe.INVALID_EMAIL):s(""),15===e.length?n(_pe.MAX_INVITES):(0,_t.KN)(t)?n(""):n(_pe.INCOMPLETE_EMAIL)}),[e,t,n,s])},Cpe=e=>{let{ariaLabel:t,className:n,chevronIcon:s,"data-cy":r,dataTestId:i,disabled:o,iconComponent:a,isLoading:l,modifiers:c,onClick:d,text:u,type:p,customButtonClass:m,alertTag:h,secondaryIconComponent:E,tabIndex:g}=e;const f=m||(0,_I.default)("zhc-btn",{"zhc-btn--has-icon":a},...(e=>(0,_t.KN)(e)?[]:e.map((e=>`zhc-btn--${e}`)))(c),n),_=u?Ye.createElement("span",null,u):null,v=a??null,I=E?" zhu-display-flex":"";return Ye.createElement("button",{"data-cy":r,"data-testid":i,"aria-label":t,className:f,onClick:d,disabled:o,type:p,tabIndex:g},Ye.createElement("div",{className:`zhc-btn__content ${I}`},l&&Ye.createElement(F5,{modifiers:["no-outline"]}),E,v,_,h&&Ye.createElement(vne,{text:h}),s))};Cpe.propTypes={alertTag:SI().oneOfType([SI().string]),ariaLabel:SI().string,chevronIcon:SI().element,className:SI().string,customButtonClass:SI().string,"data-cy":SI().string,dataTestId:SI().string,disabled:SI().bool,iconComponent:SI().element,isLoading:SI().bool,modifiers:SI().arrayOf(SI().string),secondaryIconComponent:SI().element,tabIndex:SI().string,text:SI().oneOfType([SI().string,SI().node]),type:SI().string,onClick:SI().func},Cpe.defaultProps={ariaLabel:null,alertTag:null,chevronIcon:null,"data-cy":null,dataTestId:"button-deprecated",disabled:!1,iconComponent:null,onClick:_t.ZT,secondaryIconComponent:null,tabIndex:"0",type:"button"};const kpe=Cpe,Ope=kpe,Npe=e=>{let{title:t,emptyStateCopy:n,userItemType:s}=e;return Ye.createElement("div",{className:`zhc-invite-your-team-section zhc-invite-your-team-section--${s} zhc-invite-your-team-section--empty`},Ye.createElement("div",{className:"zhc-invite-your-team-section__title"},t),Ye.createElement("div",{className:"zhc-invite-your-team-section__empty-state"},n))},Ppe=e=>{let{title:t,emptyStateCopy:n,children:s,isCollapsed:r,toggleCollapsed:i,toggleTextSuffix:o,userItemType:a}=e;const l=`${r?"See all":"See less"} ${o}`,c=a!==ppe.PENDING;if(ee.xbD(s))return Ye.createElement(Npe,{title:t,emptyStateCopy:n,userItemType:a});const d=ee.CwT(3,s),u=Boolean(i||r);return Ye.createElement("div",{className:`zhc-invite-your-team-section zhc-invite-your-team-section--${a}`},Ye.createElement("div",{className:"zhc-invite-your-team-section__title"},t),ee.qnb(3,s),u?Ye.createElement(wne,{isCollapsed:r},d):d,s.length>3&&!c?Ye.createElement("div",{onClick:i,className:"zhc-invite-your-team-section-item zhc-invite-your-team-section-item--toggle-text zhu-cursor-pointer"},l):null)},Ape=e=>{let{item:t,removeCompletedItem:n,isValid:s}=e;const r=ee.kKJ(t.username)?t.email:`${t.username}: ${t.email}`,i=(0,_I.default)("zhc-invitee-item",{"zhc-invitee-item--invalid":!s,"zhc-invitee-item--completed":s});return Ye.createElement("span",{key:t.email,className:"zhc-completed-invite-wrapper"},Ye.createElement("div",{className:i},r,Ye.createElement("span",{className:"zhc-invitee-item__remove",onClick:()=>{n(t.email)}},Ye.createElement(R7,null))),Ye.createElement("div",{className:"zhc-invitee-item zhc-invitee-item--comma"},","))},{isValidEmail:Dpe}=Vt.Z,Lpe=[Ipe,bpe,ype,Spe],zpe=(e,t,n,s,r,i,o,a,l,c,d,u,p)=>{if(m=e.keyCode,Lpe.includes(m)&&!ee.xbD(t)){if(e.preventDefault(),p(),!i&&1===s.length){const e=s[0];return o(e.avatarUrl),a(e.username),l(""),void c("")}if(ee.xbD(t))return;const m=t.trim().split(wpe).filter((e=>!ee.xbD(e)));1===m.length&&n({username:i,avatarUrl:r,email:t,isValid:Dpe(t)}),ee.kKJ(i)?u():d(),l(""),c(""),o(null),a(null)}var m},Mpe=(e,t,n,s,r,i,o,a,l,c,d,u,p,m,h,E,g)=>{15!==n.length||e.keyCode===vpe?(((e,t,n,s,r,i,o,a)=>{if(e.keyCode===vpe){if(ee.xbD(t)&&ee.kKJ(n)&&s.length<=1)return void r();if(!ee.xbD(s))return;if(ee.kKJ(n))return 1===t.length&&r(),void a();ee.xbD(t)&&r(),i(null),o(null)}})(e,n,a,s,E,u,p,l),ee.xbD(s)&&r(),zpe(e,s,t,i,o,a,u,p,c,d,m,h,g)):e.preventDefault()},xpe="XVkzEXTYNgtv_q2FHgmO";class Fpe extends Ye.PureComponent{constructor(e){super(e),this.handlePasteInput=e=>{const{trackUserPasteEmailAdded:t}=this.props,n=e.clipboardData.getData("text").trim(),s=n.split(wpe).filter((e=>""!==e.trim()));""!==n&&s.length>0&&t({numEmails:s.length})},this.handleKeyDown=this.handleKeyDown.bind(this),this.handleChangeInput=this.handleChangeInput.bind(this)}componentDidUpdate(e){const{completedItems:t,pendingUsername:n,currentInput:s,turnInviteeListOff:r,collapseAllSections:i}=this.props;this.inputField.focus();const o=((e,t,n)=>n.some((n=>e[n]!==t[n])))(e,this.props,["completedItems","pendingUsername","currentInput"]);o&&ee.xbD(t)&&ee.kKJ(n)&&ee.xbD(s)&&(r(),i())}handleKeyDown(e){const{addCompletedItem:t,completedItems:n,currentInput:s,expandAllSections:r,filteredSuggestedUsers:i,pendingAvatarUrl:o,pendingUsername:a,removeLastCompletedItem:l,setCurrentInput:c,setCurrentSearch:d,setPendingAvatarUrl:u,setPendingUsername:p,trackSuggestedUserAdded:m,trackUserTypedEmailAdded:h,turnInviteeListOff:E,turnInviteeListOn:g}=this.props;Mpe(e,t,n,s,r,i,o,a,l,c,d,u,p,m,h,E,g)}handleChangeInput(e){const{pendingUsername:t,setCurrentSearch:n,setCurrentInput:s}=this.props;((e,t,n,s)=>{const{value:r}=e.target;ee.kKJ(t)&&n(r),s(r)})(e,t,n,s)}render(){const{inviteeListActive:e,completedItems:t,pendingUsername:n,currentInput:s,removeCompletedItem:r}=this.props;let i="Enter names, email addresses";e&&(i="Add this team member\u2019s email");const o=ee.kKJ(n)?null:Ye.createElement("div",{className:"zhc-invitee-item zhc-invitee-item--pending"},`${n}:`),a=ee.UID((e=>Ye.createElement(Ape,{key:e.email,item:e,removeCompletedItem:r,isValid:e.isValid})),t);return Ye.createElement("div",{className:"zhc-invitees-list"},Ye.createElement("span",{className:xpe},"To:"),a,Ye.createElement("div",{className:"zhc-invitees-list__add-invitee"},o,Ye.createElement("input",{key:"zhc-invitee-input",id:"zhc-invitee-input",className:"zhc-invitee-item zhc-invitee-input",ref:e=>{this.inputField=e},type:"text",placeholder:i,value:s,onChange:this.handleChangeInput,onKeyDown:this.handleKeyDown,onPaste:this.handlePasteInput})))}}Fpe.propTypes={collapseAllSections:SI().func.isRequired,addCompletedItem:SI().func,completedItems:SI().arrayOf(SI().shape({})),currentInput:SI().string,expandAllSections:SI().func,filteredSuggestedUsers:SI().arrayOf(SI().shape({avatarUrl:SI().string,username:SI().string})),inviteeListActive:SI().bool,pendingAvatarUrl:SI().string,pendingUsername:SI().string,removeCompletedItem:SI().func,removeLastCompletedItem:SI().func,setCurrentInput:SI().func,setCurrentSearch:SI().func,setPendingAvatarUrl:SI().func,setPendingUsername:SI().func,trackSuggestedUserAdded:SI().func,trackUserPasteEmailAdded:SI().func,trackUserTypedEmailAdded:SI().func,turnInviteeListOff:SI().func,turnInviteeListOn:SI().func};const Upe=Fpe,Bpe="xIWh6vBtHtRLhsWS5HAN",qpe="c8zkacHyyFwdHUNhIawD",Hpe="zTiZ_9yHnXrAYDzJJU7g",Wpe=e=>{let{items:t,maxVisible:n=5}=e;const s=t.slice(0,n),r=t.length-n;return Ye.createElement("div",{className:Bpe},s.map((e=>Ye.createElement(hae,{className:qpe,key:e.name,url:e.url,alt:e.name}))),r>0?Ye.createElement("span",{className:Hpe},"+",r):null)},jpe=hae;class Gpe extends Ye.PureComponent{render(){const{text:e,handler:t,isDisabled:n,modifiers:s}=this.props;if(ee.YjB(_t.KN,[e,t]))return null;const r=(0,_I.default)("zhc-click-text-item",{"zhc-click-text-item--disabled":n},...(0,_t.DG)("zhc-click-text-item",s)),i=n?_t.ZT:t;return Ye.createElement("span",{className:r,onClick:i},e)}}Gpe.propTypes={handler:SI().func,isDisabled:SI().bool,modifiers:SI().arrayOf(SI().string),text:SI().string},Gpe.defaultProps={handler:null,isDisabled:!1,text:null};const Kpe=Gpe,Vpe=Kpe;class $pe extends Ye.PureComponent{render(){const{avatarUrl:e,username:t,email:n,inviteSentAt:s,onClickHideInvite:r,onClickResendInvite:i}=this.props,o=Pp(s),a=`${n} | ${o}`,l={username:t,email:n,avatarUrl:e};return Ye.createElement("div",{className:"zhc-invite-your-team-item zhc-invite-your-team-item--pending"},Ye.createElement("div",{className:"zhc-invite-your-team-item__avatar"},Ye.createElement(jpe,{url:e,size:36})),Ye.createElement("div",{className:"zhc-invite-your-team-item__info"},Ye.createElement("div",{className:"zhc-invite-your-team-item__username"},ee.kKJ(t)?n:t),Ye.createElement("div",{className:"zhc-invite-your-team-item__email"},ee.kKJ(t)?o:a)),Ye.createElement("div",{className:"zhc-invite-your-team-item__controls"},Ye.createElement("span",{className:"zhc-invite-your-team__remove-pending"},Ye.createElement(Vpe,{text:"Remove",handler:()=>{r(l)}})),Ye.createElement("span",{className:"zhc-invite-your-team__resend-invite"},Ye.createElement(Vpe,{text:"Resend",handler:()=>{i(l)}}))))}}$pe.propTypes={avatarUrl:SI().string,email:SI().string,inviteSentAt:SI().string,username:SI().string,onClickHideInvite:SI().func,onClickResendInvite:SI().func};const Zpe=$pe;class Ype extends Ye.PureComponent{render(){const{avatarUrl:e,username:t,onClickAddToInvitees:n,isLast:s}=this.props;return Ye.createElement("div",{className:"zhc-invite-your-team-item zhc-invite-your-team-item--suggested "+(s?"zhc-invite-your-team-item--last-suggested":"")},Ye.createElement("div",{className:"zhc-invite-your-team-item__avatar"},Ye.createElement(jpe,{url:e,size:36})),Ye.createElement("div",{className:"zhc-invite-your-team-item__info"},Ye.createElement("div",{className:"zhc-invite-your-team-item__username"},t)),Ye.createElement("div",{className:"zhc-invite-your-team-item__controls"},Ye.createElement(Vpe,{text:"Invite to team",handler:n})))}}Ype.propTypes={isLast:SI().bool.isRequired,avatarUrl:SI().string,username:SI().string,onClickAddToInvitees:SI().func};const Jpe=Ype,Xpe=Oae,Qpe=e=>{let{avatarUrl:t,displayName:n,username:s,isAdmin:r}=e;return Ye.createElement("div",{className:"zhc-invite-your-team-item zhc-invite-your-team-item--member"},Ye.createElement("div",{className:"zhc-invite-your-team-item__avatar"},Ye.createElement(jpe,{url:t,size:36})),Ye.createElement("div",{className:"zhc-invite-your-team-item__info"},Ye.createElement("div",{className:"zhc-invite-your-team-item__username"},s),null==n?null:Ye.createElement("div",{className:"zhc-invite-your-team-item__display-name"},n)),r?Ye.createElement(Xpe,{content:"Admin",type:"outline"}):null)};function eme(){return eme=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eme.apply(this,arguments)}const tme=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--link",t].filter(Boolean).join(" "),"aria-label":"link",role:"img",...n};return Ye.createElement("svg",eme({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 16H6a4 4 0 1 1 0-8h3a1 1 0 1 0 0-2H6a6 6 0 1 0 0 12h3a1 1 0 1 0 0-2zm6-8h3a4 4 0 1 1 0 8h-3a1 1 0 1 0 0 2h3a6 6 0 0 0 0-12h-3a1 1 0 1 0 0 2zm1 5H8a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2z",fill:"currentColor"}))};class nme extends Ye.PureComponent{constructor(e){super(e),this.select=this.select.bind(this),this.copyLink=this.copyLink.bind(this),this.state={isCopying:!1}}copyLink(){const{onClickClose:e,onClickCopyLink:t}=this.props,n=this.linkInput.value;this.select(),document.execCommand("copy"),this.setState({isCopying:!0},(()=>{setTimeout(e,500),t({copiedUrl:n})}))}select(){const e=this.linkInput.value.length;this.linkInput.focus(),this.linkInput.setSelectionRange(0,e)}render(){const{isCopying:e}=this.state,{inviteLink:t,isEnterprise:n}=this.props,s=e?"Copied":"Copy link";return Ye.createElement("div",{className:"zhc-invite-link-modal"},Ye.createElement("span",{className:"zhc-invite-link-modal__title"},n?"Invite your team to ZenHub by sharing this link":"You\u2019re on a read-only ZenHub Board"),Ye.createElement("span",{className:"zhc-invite-link-modal__secondary-title"},n?"Getting your team onboard is as easy as sharing the link below":"Send the link to other team members to share the Board"),Ye.createElement("div",{className:"zhc-invite-link-modal__sharing-link",onClick:this.select},Ye.createElement(tme,{className:"zhc-invite-link-modal__icon"}),Ye.createElement("input",{className:"zhc-invite-link-modal__sharing-link__link",value:t,ref:e=>{this.linkInput=e},readOnly:!0})),Ye.createElement("div",{className:"zhc-invite-link-modal__buttons"},Ye.createElement(Ope,{text:s,modifiers:["action"],onClick:this.copyLink,disabled:e})))}}nme.defaultProps={isEnterprise:!1},nme.propTypes={inviteLink:SI().string.isRequired,onClickClose:SI().func.isRequired,onClickCopyLink:SI().func.isRequired,isEnterprise:SI().bool};const sme=nme,rme="invite-link-footer",ime=e=>{let{inviteLink:t,onClickCopyLink:n}=e;const s=(0,Ye.useRef)(null),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)(null);return Ye.createElement("div",{className:rme},Ye.createElement("div",{className:"invite-link-footer__title"},Ye.createElement("b",null,"Invite to this Workspace by link")),Ye.createElement("div",{className:"invite-link-footer__link"},Ye.createElement("input",{className:"zhc-input",value:t,ref:s,readOnly:!0}),Ye.createElement(H5,{variant:z5.OUTLINED,color:L5.PRIMARY,onClick:()=>{const e=s?.current?.value;(()=>{const e=s.current,t=e?.value?.length??0;e?.focus(),e?.setSelectionRange(0,t)})(),document.execCommand("copy"),n({copiedUrl:e}),i(!0),o&&clearTimeout(o);const t=setTimeout((()=>{i(!1)}),5e3);a(t)},width:D5.NARROW},r?"Copied":"Copy link")),Ye.createElement("div",{className:"invite-link-footer__info"},"Only team members from your GitHub organization can be invited"))},ome=(e,t,n,s,r,i,o,a,l,c,d)=>{(0,Ye.useEffect)((()=>{n&&((e,t,n,s,r,i,o,a,l,c)=>{c();const d=e.trim().split(wpe).filter((e=>!ee.xbD(e))),u=d.map((e=>({username:null,avatarUrl:null,email:e.trim(),isValid:Dpe(e)})));n(u),1===u.length&&(ee.kKJ(t)?l():a()),s(""),r(""),i(null),o(null)})(e,t,s,r,i,o,a,l,c,d)}),[n,e,s,r,i,o,a,l,c,d])},ame=e=>{ly().mutate({mutation:i3,variables:{IncrementUserPropertiesInput:{properties:e}},fetchPolicy:"no-cache"})};function lme(){return lme=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lme.apply(this,arguments)}const cme=ee.vgT("username"),dme=e=>{const{pending:t,suggested:n,initInviteModal:s,orgName:r,repoIds:i,onClickHideInvite:o,onClickResendInvite:a,onClickSendInvites:l,workspaceId:c,addPendingInvite:d,repoId:u,currentUser:p,members:m,trackSuggestedUserAdded:h,trackUserTypedEmailAdded:E,trackUserPasteEmailAdded:g,inviteLink:f,onClickCopyLink:_}=e,[v,I]=(0,Ye.useState)([]),[b,y]=(0,Ye.useState)(""),[S,w]=(0,Ye.useState)(""),[R,T]=(0,Ye.useState)(""),[C,k]=(0,Ye.useState)(""),[O,N]=(0,Ye.useState)(!1),[P,A]=(0,Ye.useState)(!1),[D,L]=(0,Ye.useState)(!0),[z,M]=(0,Ye.useState)(null),[x,F]=(0,Ye.useState)(null),[U,B]=(0,Ye.useState)(t),[q,H]=(0,Ye.useState)(n),W=(e=>wpe.test(e))(S),j=e=>{const{email:t}=e,n=ee.OH4("email",t),s=ee.d1t(n,U),r=ee.Ce7(e,q);o(e),B(s),H(r)},G=e=>{const t=_c(new Date),n=ee.TSy(e,{emails:[e.email],inviteSentAt:t,workspaceId:c});a(n);const s=ee.OH4("email",e.email),r=ee.qCK(ee.yGi("inviteSentAt",t),ee.sEJ(s))(U),i=ee.cxD(s,U),o=ee.Vxg(i,r,U);B(o)},K=()=>{N(!0)},V=ee.KJl(ee.kKJ,ee.Bxt([]),ee.hXT((e=>ee.qCK(ee.YjB(ee.r3W(ee.t$q(e))),ee.UID(ee.t$q),ee.KJl(ee.jCC(ee.kKJ,"username"),ee.NQ5(["email"]),ee.qCK(ee.d1t(ee.kKJ),ee.VO0,ee.eiS(["displayName","username"])))))(S)));mpe(r,i,s),hpe(t,U,n,q,B,H),ome(b,z,W,(e=>{const t=[...v,...e],n=Rpe(t).slice(0,15);I(n)}),y,w,F,M,h,E,K),Tpe(v,z,T,k);const $=(0,_t.rS)(((e,t)=>Ye.createElement(Zpe,lme({},e,{key:t,onClickResendInvite:G,onClickHideInvite:j}))),V(U)),Z=ee.qCK(ee.d1t(ee.kKJ),ee.UID(cme))(v),Y=ee.r3W(ee.__,Z),J=ee.fS0(z),X=ee.qCK(ee.wEe(Y,J),cme),Q=ee.qCK(ee.d1t(X),V)(q),te=Q.length-1,ne=D?Math.min(te,2):te,se=(0,_t.rS)(((e,t)=>Ye.createElement(Jpe,lme({},e,{key:t,isLast:t===ne,onClickAddToInvitees:()=>{(e=>{15!==v.length&&(0,_t.KN)(z)&&(M(e.username),F(e.avatarUrl),y(""),N(!0))})(e)}}))),Q),re=ee.OH4("username",p),ie=ee.qCK(ee.d1t(re),V)(m),oe=(0,_t.rS)(((e,t)=>Ye.createElement(Qpe,lme({},e,{key:t}))),ie),ae=ee.xbD(S)?Epe:gpe,le=ee.xbD(V(U))?null:Ye.createElement(Ppe,{title:"Invites pending",emptyStateCopy:ae,isCollapsed:P,toggleCollapsed:()=>{A(!P)},toggleTextSuffix:"pending invites",userItemType:ppe.PENDING},$),ce=W?null:Ye.createElement(Ppe,{emptyStateCopy:ae,title:"Suggested",isCollapsed:D,toggleCollapsed:()=>{L(!D)},toggleTextSuffix:"suggested team members",userItemType:ppe.SUGGESTED},se),de=!ee.xbD(S)&&ee.xbD(ie),ue=!m||de?null:Ye.createElement(Ppe,{emptyStateCopy:fpe,title:`${ie.length} team ${(0,_t.fB)("member","members",ie.length)} on ZenHub`,isCollapsed:!1,toggleTextSuffix:"team members on ZenHub",userItemType:ppe.MEMBER},oe),pe=!ee.kKJ(z)||!ee.xbD(b)||!(e=>e.some((e=>e.isValid)))(v),me=(0,Ye.useCallback)((()=>Ye.createElement("div",{className:"zhc-invite-your-team__error-message"},R)),[R]),he=(0,Ye.useCallback)((()=>Ye.createElement("div",{className:"zhc-invite-your-team__error-message"},C)),[C]),Ee=Ye.createElement("div",{className:"zhc-invite-your-team__scrollable-section"},0===Q.length&&""===S?null:ce,O?null:le,O?null:ue),ge=ee.$6P(ee.xbD,[$,se,oe])&&!ee.xbD(S)&&!W,fe=O&&C,_e=O&&R;return Ye.createElement("div",{className:"zhc-invite-your-team"},Ye.createElement(ime,{inviteLink:f,onClickCopyLink:_}),Ye.createElement("div",{className:"zhc-invite-your-team__header"},Ye.createElement(Upe,{collapseAllSections:()=>{A(!0),L(!0)},addCompletedItem:e=>{const t=[...v,e],n=Rpe(t);I(n)},completedItems:v,currentInput:b,expandAllSections:()=>{A(!1),L(!1)},filteredSuggestedUsers:Q,inviteeListActive:O,pendingAvatarUrl:x,pendingUsername:z,removeCompletedItem:e=>{const t=ee.d1t(ee.goX({email:e}),v);I(t),T("")},removeLastCompletedItem:()=>{I(ee.S1n(v))},setCurrentInput:y,setCurrentSearch:w,setErrorMessage:T,setPendingAvatarUrl:F,setPendingUsername:M,trackSuggestedUserAdded:h,trackUserTypedEmailAdded:E,trackUserPasteEmailAdded:g,turnInviteeListOff:()=>{N(!1)},turnInviteeListOn:K}),fe&&Ye.createElement(he,null),_e&&Ye.createElement(me,null)),ge?null:Ee,Ye.createElement("div",{className:"zhc-invite-your-team__controls"},Ye.createElement(Ope,{text:"Send",onClick:()=>{const e=v.filter((e=>e.isValid)),t=e.map((e=>e.email)),n=_c(new Date);l({emails:t}),ame({"Team Members Invited":t.length});const s={inviteSentAt:n,orgName:r,repoId:u};return ee.UID(ee.qCK(d,ee.TSy(s)))(e)},modifiers:["action"],disabled:pe})))},ume=e=>{const{isOpen:t,onClickClose:n,onClickCopyLink:s,isReadOnly:r,inviteLink:i,isEnterprise:o}=e;return r||o?Ye.createElement(Xre,{isOpen:t,modifiers:["size-auto"],onClose:n},Ye.createElement(sme,{inviteLink:i,isOpen:t,onClickClose:n,onClickCopyLink:s,isEnterprise:o})):Ye.createElement(Xre,{isOpen:t,modifiers:["invite"],onClose:n},Ye.createElement(dme,e))},pme=ume;function mme(){return mme=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mme.apply(this,arguments)}const{invites:hme}=LG,{webappURL:Eme}=L.Z,{updateQueryString:gme}=Vt.Z,fme=(0,pa.P1)([Na],(e=>{const t=F?ma.getBoardPathInWebapp:ma.getBoardPath,n=`${Eme}${t({workspace:e})}`;return gme(n,"invite","true")}));const _me=ee.WAo(((e,t,n)=>!ee.kKJ(t)&&!ee.kKJ(e)&&(n.orgName===e&&ee.r3W(n.repoId,t))));class vme extends Ye.PureComponent{constructor(e){super(e),this.onClickSendInvites=this.onClickSendInvites.bind(this)}UNSAFE_componentWillReceiveProps(e){const{clearUsersInStore:t}=this.props;e.isOpen||t()}onClickSendInvites(e){const{sendInvites:t,sendInvitesComplete:n,workspaceId:s}=this.props;t({...e,workspaceId:s,sendInvitesComplete:n})}render(){const{orgName:e,repoIds:t,pending:n,workspace:s}=this.props,r=ee.hXT(_me(e,t)),i=ee.kKJ(n)?null:r(n);return ee.kKJ(s)?null:Ye.createElement(pme,mme({},this.props,{onClickSendInvites:this.onClickSendInvites,pending:i}))}}vme.propTypes={workspaceId:SI().string.isRequired,clearUsersInStore:SI().func,isOpen:SI().bool,orgName:SI().string,pending:SI().arrayOf(SI().shape({})),repoIds:SI().arrayOf(SI().number),sendInvites:SI().func,sendInvitesComplete:SI().func,workspace:SI().shape({})},vme.defaultProps={orgName:null,pending:null,repoIds:null,workspace:null};const Ime=l3.$j((function(e){const t=Na(e);let n=null;n=x?gme(Eme,"invite","true"):t?fme(e):null;const s=!!t&&Ua(e);return{currentUser:_u(e),inviteLink:n,isEnterprise:x,isOpen:Lde(e),isReadOnly:s,members:Pde(e),orgName:Qa(e),pending:Ade(e),repoId:Ba(e),repoIds:Ha(e),suggested:Dde(e),workspace:t,workspaceId:Pa(e)}}),(function(e){const t=(0,mr.DE)({onClickClose:hme.closeInviteModal,onClickCopyLink:hme.trackLinkCopied,trackSuggestedUserAdded:hme.trackSuggestedUserAdded,trackUserTypedEmailAdded:hme.trackUserTypedEmailAdded,trackUserPasteEmailAdded:hme.trackUserPasteEmailAdded},e);return ee.TSy(t,{initInviteModal(t){e(hme.fetchUsers(t))},addPendingInvite(t){!function(e){const t=OW();NW(ee.R3I(e,t))}(t),e(hme.addPendingInvite(t))},onClickResendInvite(t){!function(e){const t=OW(),n=ee.OH4("email",e.email),s=ee.qCK(ee.yGi("inviteSentAt",e.inviteSentAt),ee.sEJ(n))(t),r=ee.cxD(n,t);NW(ee.Vxg(r,s,t))}(t),e(hme.resendInvite(t))},onClickHideInvite(t){!function(e){const t=OW(),n=ee.OH4("email",e.email);NW(ee.d1t(n,t))}(t),e(hme.removePendingInvite(t))},clearUsersInStore(){e(hme.updateUsers({pendingInvites:null,assignedUsers:null,existingMembers:null}))},sendInvitesComplete(e){!function(e){const t={emails:e};H.Z.createToast(W.Z.INVITATIONS_SENT_UPDATE,t)}(e)},sendInvites(t){e(hme.sendInvites(t))},dispatch:e})}))(vme),bme=Object.freeze({searchDebounceTime:350,mediaBreakpoints:{xs:320,sm:480,md:760,lg:1020,xl:1280}});var yme=n(79707);const Sme=e=>{let{autoFocus:t,className:n,id:s,isSubmitDisabled:r=!1,onChange:i,onClick:o,onFileDrop:a,onFilePaste:l,onInput:c,onKeyDown:d,onKeyUp:u,onRefSet:p,onSubmit:m,placeholder:h,value:E}=e;const{getRootProps:g,getInputProps:f}=(0,yme.uI)({noClick:!0,onDrop:a});return Ye.createElement("div",g(),Ye.createElement("input",f()),Ye.createElement("textarea",{autoFocus:t,className:n,"data-cy":"content-input",id:s,onChange:i,onClick:o,onInput:c,onKeyDown:e=>{d&&d(e);const t=e.ctrlKey||e.metaKey,n=13===e.keyCode||10===e.keyCode;t&&n&&!r&&m(e)},onKeyUp:u,onPaste:l,placeholder:h,ref:e=>{p&&p(e)},value:E}))},wme=(0,Ye.memo)(Sme),Rme=e=>{class t extends Ye.Component{constructor(e){super(e),this.scrollModified=void 0,this.toggleListener=e=>{const{isActive:t}=e;t?CI()?document.addEventListener("touchstart",this.toggle):document.addEventListener("mousedown",this.toggle):this.removeEventListener()},this.removeEventListener=()=>{document.removeEventListener("mousedown",this.toggle),document.removeEventListener("touchstart",this.toggle)},this.toggle=e=>{const{toggleOpen:t}=this.props,n=(0,vte.findDOMNode)(this),s=(0,vte.findDOMNode)(e.target);n?.contains(s)||(e&&e.preventDefault(),t())},this.scrollModified=!1,this.toggleListener(e)}UNSAFE_componentWillReceiveProps(e){const{isActive:t}=this.props;e.isActive!==t&&this.toggleListener(e)}componentDidUpdate(e){const{isActive:t}=this.props;e.isActive!==t&&(t&&!this.scrollModified?(xI(),this.scrollModified=!0):this.scrollModified&&(FI(),this.scrollModified=!1))}componentWillUnmount(){this.removeEventListener(),this.scrollModified&&(FI(),this.scrollModified=!1)}render(){return Ye.createElement(e,this.props)}}return t},Tme=Rme;class Cme extends Ye.PureComponent{render(){const{activeFilter:e,allowNegatedSearch:t,allowSearch:n,banner:s,buttonChevronIcon:r,buttonIconComponent:i,buttonId:o,buttonModifiers:a,buttonName:l,buttonType:c,buttonClass:d,children:u,className:p,clearFilter:m,clearFilterAlwaysOn:h,clearFilterDisabled:E,clearFilterName:g,emptyStateText:f,filterableChildProp:_,filterDefaultText:v,footer:I,hideButtonChevronIcon:b,isActive:y,isFilterable:S,isFullLength:w,isSearchDisabled:R,isSelectionButtonDisabled:T,listModifiers:C,listStyle:k,listTitle:O,listDescription:N,modifiers:P,position:A,scrollListIntoView:D,style:L,testId:z,toggleOpen:M,tooltipContent:x,searchAutoFocus:F,searchIcon:U,isLoading:B,disableSelectionButtonActiveState:q}=this.props,H=(0,_t.DG)("zhc-dropdown",P),W=(0,_I.default)("zhc-dropdown",H,p);return Ye.createElement("div",{className:W,style:L,"data-testid":z},Ye.createElement(rae,{className:d,activeFilter:e,chevronIcon:r,"data-cy":"dropdown",hideChevronIcon:b,iconComponent:i,idName:o,isActive:y&&!q,isButtonDisabled:T,modifiers:a,name:l,label:O,toggleOpen:M,tooltipContent:x,type:c}),y&&Ye.createElement($te,{activeFilter:e,allowNegatedSearch:t,allowSearch:n,banner:s,clearFilter:m,clearFilterAlwaysOn:h,clearFilterDisabled:E,clearFilterName:g,description:N,emptyStateText:f,filterableChildProp:_,filterDefaultText:v,footer:I,isActive:y,isLoading:B,isFilterable:S,isFullLength:w,isSearchDisabled:R,modifiers:C,name:l,position:A,scrollIntoView:D,style:k,styleType:Ote.ITEMS_UNDERLINED,toggleOpen:M,title:O,searchAutoFocus:F,searchIcon:U},u))}}Cme.defaultProps={activeFilter:!1,allowNegatedSearch:!0,banner:null,buttonChevronIcon:null,buttonIconComponent:null,buttonId:null,buttonModifiers:[],className:null,disableSelectionButtonActiveState:!1,emptyStateText:"",hideButtonChevronIcon:!1,isActive:!1,isLoading:!1,clearFilter:null,filterableChildProp:"",filterDefaultText:"",isSearchDisabled:!1,isSelectionButtonDisabled:!1,listDescription:null,listModifiers:[],listStyle:null,listTitle:null,modifiers:[],scrollListIntoView:!0,searchAutoFocus:!1,searchIcon:null,tooltipContent:"",testId:"zhc-dropdown"},Cme.propTypes={buttonName:SI().oneOfType([SI().array,SI().node,SI().string]).isRequired,toggleOpen:SI().func.isRequired,activeFilter:SI().bool,allowNegatedSearch:SI().bool,allowSearch:SI().bool,banner:SI().node,buttonChevronIcon:SI().element,buttonClass:SI().string,buttonIconComponent:SI().element,buttonId:SI().string,buttonModifiers:SI().arrayOf(SI().string),buttonType:SI().string,children:SI().node,className:SI().string,clearFilter:SI().func,clearFilterAlwaysOn:SI().bool,clearFilterDisabled:SI().bool,clearFilterName:SI().string,disableSelectionButtonActiveState:SI().bool,emptyStateText:SI().string,filterableChildProp:SI().string,filterDefaultText:SI().string,footer:SI().node,hideButtonChevronIcon:SI().bool,isActive:SI().bool,isFilterable:SI().bool,isFullLength:SI().bool,isLoading:SI().bool,isSearchDisabled:SI().bool,isSelectionButtonDisabled:SI().bool,listDescription:SI().oneOfType([SI().string,SI().shape({}),SI().node]),listModifiers:SI().arrayOf(SI().string),listStyle:SI().shape({}),listTitle:SI().string,modifiers:SI().arrayOf(SI().string),position:SI().string,scrollListIntoView:SI().bool,searchAutoFocus:SI().bool,searchIcon:SI().string,style:SI().shape({}),testId:SI().string,tooltipContent:SI().string};const kme=Tme(Cme),Ome=kme;class Nme extends Ye.Component{constructor(){super(...arguments),this.renderRepoItem=e=>{const{onRemoveRepo:t,repos:n}=this.props,{repoName:s,repoId:r}=e,i=n.length>1,o=Ye.createElement(Ope,{text:"Remove","data-cy":"remove",onClick:()=>t(e),modifiers:["text","text-primary","minimal"]});return Ye.createElement("div",{className:"zhc-release-connected-repos-dropdown__repo-item",key:r},Ye.createElement("span",{className:"zhc-release-connected-repos-dropdown__repo-name"},s),i&&o)}}render(){const{buttonName:e,isActive:t,onClickAddRepos:n,repos:s,toggleOpen:r}=this.props,i=Ye.createElement("div",{className:"zhc-release-connected-repos-dropdown__footer"},Ye.createElement(Ope,{text:"Add more Repos...","data-cy":"add-more-repos",onClick:n,modifiers:["text","text-primary"]}));return Ye.createElement(Ome,{allowSearch:!1,buttonName:e,footer:i,isActive:t,listDescription:"This Release will be created in all Workspaces containing the selected Repo(s)",toggleOpen:r},s.map(this.renderRepoItem))}}Nme.defaultProps={repos:[]},Nme.propTypes={buttonName:SI().node.isRequired,isActive:SI().bool.isRequired,toggleOpen:SI().func.isRequired,onClickAddRepos:SI().func.isRequired,onRemoveRepo:SI().func.isRequired,repos:SI().arrayOf(SI().shape({}))};const Pme=Nme,Ame=e=>{let{repo:t,onClickRepo:n}=e;return Ye.createElement("div",{className:"zhc-release-add-repos-dropdown__repo-item",onClick:()=>{n(t)}},Ye.createElement("span",{className:"zhc-release-add-repos-dropdown__repo-name","data-cy":"repo-name"},t.repoName),t.selected&&Ye.createElement(Ire,null))};Ame.propTypes={repo:SI().shape({repoName:SI().string,selected:SI().bool}).isRequired,onClickRepo:SI().func.isRequired};class Dme extends Ye.Component{constructor(){super(...arguments),this.onClickAddRepos=()=>{const{onClickApply:e,switchBackToDefaultDropdown:t}=this.props;e(),t()},this.renderFooter=()=>{const{switchBackToDefaultDropdown:e}=this.props;return Ye.createElement("span",{className:"zhc-release-add-repos-dropdown__footer"},Ye.createElement(H5,{"data-cy":"cancel",onClick:e,variant:z5.TEXT},"Cancel"),Ye.createElement(Ope,{text:"Add repos","data-cy":"add-repos",onClick:this.onClickAddRepos,modifiers:["action"]}))}}render(){const{buttonName:e,isActive:t,isConnectableReposLoaded:n,onClickRepo:s,repos:r,toggleOpen:i}=this.props,o=n?"There are no more repos available to connect to this Release":"Loading ...";return Ye.createElement(Ome,{allowSearch:!0,allowNegatedSearch:!1,buttonName:e,emptyStateText:o,filterableChildProp:"name",filterDefaultText:"Filter repositories",footer:this.renderFooter(),isActive:t,listTitle:"Add more repos",searchAutoFocus:!0,toggleOpen:i},r&&r.map((e=>Ye.createElement(Ame,{isFilterable:!0,key:e.repoId,name:e.repoName,repo:e,onClickRepo:s}))))}}Dme.defaultProps={repos:[]},Dme.propTypes={buttonName:SI().node.isRequired,isActive:SI().bool.isRequired,isConnectableReposLoaded:SI().bool.isRequired,switchBackToDefaultDropdown:SI().func.isRequired,toggleOpen:SI().func.isRequired,onClickApply:SI().func.isRequired,onClickRepo:SI().func.isRequired,repos:SI().arrayOf(SI().shape({}))};const Lme=Dme,zme="DEFAULT",Mme="ADD_REPOS";class xme extends Ye.Component{constructor(e){super(e),this.openAddReposDropdown=()=>{const{fetchConnectableRepos:e}=this.props;return e(),this.setState({dropdownToShow:Mme,isConnectedReposDropdownActive:!1,isAddReposDropdownActive:!0})},this.switchBackToConnectedReposDropdown=()=>{const{clearSelectedRepos:e}=this.props;e(),this.setState({dropdownToShow:zme,isConnectedReposDropdownActive:!0,isAddReposDropdownActive:!1})},this.toggleConnectedReposDropdown=()=>{this.setState((e=>({dropdownToShow:zme,isConnectedReposDropdownActive:!e.isConnectedReposDropdownActive})))},this.toggleAddReposDropdown=()=>{const{clearSelectedRepos:e}=this.props;e(),this.setState({dropdownToShow:zme,isConnectedReposDropdownActive:!1,isAddReposDropdownActive:!1})},this.state={dropdownToShow:zme,isConnectedReposDropdownActive:!1,isAddReposDropdownActive:!1}}render(){const{connectableRepos:e,isConnectableReposLoaded:t,formType:n,onApplyRepoSelector:s,selectedRepos:r,toggleSelectedRepo:i,unselectRepository:o}=this.props,{dropdownToShow:a,isConnectedReposDropdownActive:l,isAddReposDropdownActive:c}=this.state,d=((e,t)=>t?Ye.createElement("span",{className:"zhc-selection-button__container__text"},e,Ye.createElement("span",{className:"zhu-font-bold"},t[0]&&` ${t[0].repoName}`,t[1]&&`, ${t[1].repoName}`,t.length>2&&", "),t.length>2&&Ye.createElement("span",{className:"zhu-text-secondary-dark"},"(and ",t.length-2," more)")):"Loading repos...")("CREATE"===n?"Create in all Workspaces with":"In all Workspaces with",r);return Ye.createElement("div",{className:"zhc-release-report__repos-selector","data-cy":"release-repos-selector"},a===zme&&Ye.createElement(Pme,{buttonName:d,isActive:l,onClickAddRepos:this.openAddReposDropdown,onRemoveRepo:o,repos:r,toggleOpen:this.toggleConnectedReposDropdown}),a===Mme&&Ye.createElement(Lme,{buttonName:d,isActive:c,isConnectableReposLoaded:t,onClickApply:s,onClickRepo:i,repos:e,switchBackToDefaultDropdown:this.switchBackToConnectedReposDropdown,toggleOpen:this.toggleAddReposDropdown}))}}xme.defaultProps={connectableRepos:null,selectedRepos:null,formType:"CREATE"},xme.propTypes={clearSelectedRepos:SI().func.isRequired,fetchConnectableRepos:SI().func.isRequired,isConnectableReposLoaded:SI().bool.isRequired,toggleSelectedRepo:SI().func.isRequired,unselectRepository:SI().func.isRequired,onApplyRepoSelector:SI().func.isRequired,connectableRepos:SI().arrayOf(SI().shape({})),formType:SI().string,selectedRepos:SI().arrayOf(SI().shape({}))};const Fme=xme,Ume=Ye.createContext({onSelect:()=>{},selectedTabId:"----undefined----",type:"lined"}),Bme="mRNAMm7Kt0OkofSsX8LF",qme=e=>{let{children:t,className:n,onSelect:s=(()=>{}),selectedTabId:r,type:i="lined"}=e;const o=(0,Ye.useMemo)((()=>({onSelect:s,selectedTabId:r,type:i})),[s,r,i]);return Ye.createElement("div",{className:(0,_I.default)(Bme,n)},Ye.createElement(Ume.Provider,{value:o},t))},Hme=(0,Ye.memo)(qme),Wme="qRngHmuDfYJAz5RcttS3",jme="tShIwDQXjAQ0CuqziZCK",Gme=e=>{let{children:t,className:n}=e;return Ye.createElement(Ume.Consumer,null,(e=>{let{type:s}=e;const r=(0,_I.default)(Wme,"dropdown"===s?jme:null,n);return Ye.createElement("div",{className:r,"data-cy":"tabs-nav",role:"tablist"},t)}))},Kme={main:"DlNHMcikOfye8DwrV6FV",lined:"Os7TelSWiJUaICO33HNb",large:"SjGWHnvw80ozqGY3_lIp",active:"tJvto8ZUmx0X2wgxqGG1",dropdown:"NChLTqtdAOSricK8Y0ji",disabled:"WkDtC8CUpGnX2pDWN0jS"},Vme=e=>{let{activeClassName:t,children:n,className:s,disabled:r=!1,tabId:i}=e;const o=e=>e.preventDefault();return Ye.createElement(Ume.Consumer,null,(e=>{let{onSelect:a,selectedTabId:l,type:c}=e;const d=i===l,u=(0,_I.default)(Kme.main,Kme[c],{[Kme.active]:d,activeClassName:d&&t,[Kme.disabled]:r},s);return Ye.createElement("button",{"aria-selected":d,className:u,"data-cy":"tab",onClick:()=>a(i),onMouseDown:o,role:"tab",type:"button"},n)}))},$me="mt3Hpw4bKU1qTfLvgc2X",Zme="kkcdfhtosBOUeKASSMkg",Yme=e=>{let{className:t,children:n,isKeptInDOM:s=!1,tabId:r}=e;return Ye.createElement(Ume.Consumer,null,(e=>{let{selectedTabId:i}=e;const o=i===r;if(!o&&!s)return null;const a=(0,_I.default)($me,o?null:Zme,t);return Ye.createElement("div",{className:a,role:"tabpanel",tabIndex:0},n)}))},Jme="pvJ9Ymcbe_ejEXnyZ1vt",Xme=e=>{let{children:t,className:n}=e;return Ye.createElement("div",{className:(0,_I.default)(Jme,n)},t)};class Qme extends Ye.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){oe("Error caught in ErrorBoundary",e,t),this.props.onError(e,t)}render(){const{children:e,errorComponent:t,errorRender:n,...s}=this.props,{hasError:r}=this.state;return r?t?Ye.createElement(t,s):n(s):e}}Qme.propTypes={children:SI().node,errorComponent:SI().func,errorRender:SI().func,onError:SI().func},Qme.defaultProps={children:null,errorRender:()=>Ye.createElement("h3",null,"Something went wrong"),errorComponent:null,onError:()=>{}};const ehe=Qme,the=()=>Ye.createElement("h3",null,"Error rendering component, please refresh your browser"),nhe=(e,t)=>n=>Ye.createElement(ehe,{onError:e=>{if(!e.toString().includes("ChunkLoadError:"))throw e;H.Z.createToastIfUniqueByType(W.Z.ACTION_BUTTON_UPDATE_NO_EXPIRY,{content:"The ZenHub webapp has a pending update. Please save your work and refresh the page to upgrade to the latest version.",hasCloseButton:!1})},errorRender:t||the},Ye.createElement(Ye.Suspense,{fallback:Ye.createElement("div",null)},Ye.createElement(e,n)));var she=n(28085),rhe=n.n(she);const ihe=(e,t)=>new RegExp(`^https://[^.]+.${e}`).test(t),ohe=e=>{if(OI.isUploadFileToLocal||(e=>ihe("githubusercontent.com",e)||ihe("zenhubusercontent.com",e))(e))return e;if(e.startsWith("https://github.githubassets.com/images/icons/emoji"))return e;if(OI.CAMO&&OI.CAMO_HOST){return rhe()({host:OI.CAMO_HOST,key:OI.CAMO,type:"path"})(e)}return e},ahe=nhe((0,Ye.lazy)((()=>n.e(736).then(n.bind(n,24590)))),(()=>Ye.createElement("h3",null,"Error rendering Markdown"))),lhe=(e,t)=>{const n=OI.githubURL.replace(/\/$/,"");if("mention"===e.type)return[n,e.user].join("/");const{project:s,user:r}=e;return"commit"===e.type?e.hash.match(/[a-f]/)?[n,r,s,"commit",e.hash].join("/"):null:"issue"===e.type?[n,r,s,"issues",e.no].join("/"):"compare"===e.type?[n,r,s,"compare",`${e.base}...${e.compare}`].join("/"):t(e)},che=e=>{let{className:t,content:n="",enableTaskLists:s=!1,onToggleTaskListItem:r,owner:i,repo:o}=e;return Ye.createElement(ahe,{buildUrl:lhe,className:t,enableTaskLists:s,githubURL:OI.githubURL,onToggleTaskListItem:r,owner:i,repo:o,transformImageUri:ohe},n)};function dhe(){return dhe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dhe.apply(this,arguments)}const uhe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--title",t].filter(Boolean).join(" "),"aria-label":"title",role:"img",...n};return Ye.createElement("svg",dhe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M6.973 18.9V5.1H3.1V7A1.1 1.1 0 11.9 7V5.1a2.2 2.2 0 012.2-2.2h9.8a2.2 2.2 0 012.2 2.2V7a1.1 1.1 0 01-2.2 0V5.1H9.173v13.8H10.4a1.1 1.1 0 010 2.2H6a1.1 1.1 0 010-2.2zM17 19v-8h-1.9a.1.1 0 00-.1.1v1.15a1 1 0 01-2 0V11.1c0-1.16.94-2.1 2.1-2.1h5.8c1.16 0 2.1.94 2.1 2.1v1.15a1 1 0 01-2 0V11.1a.1.1 0 00-.1-.1H19v8h.506a1 1 0 010 2h-3a1 1 0 110-2z",fill:"currentColor"}))};function phe(){return phe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},phe.apply(this,arguments)}const mhe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--bold",t].filter(Boolean).join(" "),"aria-label":"bold",role:"img",...n};return Ye.createElement("svg",phe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M12.5 21.25H8A1.25 1.25 0 016.75 20V4c0-.69.56-1.25 1.25-1.25h4.5c2.882 0 5.25 2.22 5.25 5 0 1.407-.606 2.67-1.579 3.575 1.53.993 2.534 2.59 2.534 4.425 0 3.073-2.814 5.479-6.205 5.5zm-.045-2.5c2.112 0 3.75-1.392 3.75-3s-1.638-3-3.75-3v-2.5h.045c1.536 0 2.75-1.138 2.75-2.5s-1.214-2.5-2.75-2.5H9.25v13.5h3.205zM9.25 10.247v2.5h3.25v-2.5z",fill:"currentColor"}))};function hhe(){return hhe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hhe.apply(this,arguments)}const Ehe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--italic",t].filter(Boolean).join(" "),"aria-label":"italic",role:"img",...n};return Ye.createElement("svg",hhe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M10.922 9.85a1.375 1.375 0 112.733.3l-1.097 10a1.375 1.375 0 11-2.734-.3zM13.12 5.5a1.75 1.75 0 110-3.5 1.75 1.75 0 010 3.5z",fill:"currentColor"}))};function ghe(){return ghe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ghe.apply(this,arguments)}const fhe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--quote",t].filter(Boolean).join(" "),"aria-label":"quote",role:"img",...n};return Ye.createElement("svg",ghe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M15.182 19.84c-1.137-.805-1.676-2.775-1.88-5.756l-.002-.107c.088-5.093 1.366-7.925 4.99-10.684a1.25 1.25 0 111.515 1.99c-2.896 2.203-3.874 4.252-3.997 8.37a4 4 0 11-.626 6.186zm-11 0c-1.137-.805-1.676-2.775-1.88-5.756l-.002-.107c.088-5.093 1.366-7.925 4.99-10.684a1.25 1.25 0 011.515 1.99c-2.896 2.203-3.874 4.252-3.997 8.37a4 4 0 11-.626 6.186z",fill:"currentColor"}))};function _he(){return _he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_he.apply(this,arguments)}const vhe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--code",t].filter(Boolean).join(" "),"aria-label":"code",role:"img",...n};return Ye.createElement("svg",_he({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M18.409 12l-4.18-4.18a1.125 1.125 0 011.592-1.59l4.95 4.95c.225.225.335.524.329.82.006.296-.104.595-.33.82l-4.95 4.95a1.125 1.125 0 01-1.59-1.59zM2.9 12a1.122 1.122 0 01.33-.82l4.95-4.95a1.125 1.125 0 111.59 1.59L5.591 12l4.18 4.18a1.125 1.125 0 01-1.592 1.59l-4.95-4.95A1.122 1.122 0 012.9 12z",fill:"currentColor"}))};function Ihe(){return Ihe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ihe.apply(this,arguments)}const bhe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--list-bullet",t].filter(Boolean).join(" "),"aria-label":"list-bullet",role:"img",...n};return Ye.createElement("svg",Ihe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M5 9a3 3 0 110-6 3 3 0 010 6zm6-3a1 1 0 010-2h10a1 1 0 010 2zm0 7a1 1 0 010-2h10a1 1 0 010 2zm0 7a1 1 0 010-2h10a1 1 0 010 2z",fill:"currentColor"}))};function yhe(){return yhe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yhe.apply(this,arguments)}const She=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--list-number",t].filter(Boolean).join(" "),"aria-label":"list-number",role:"img",...n};return Ye.createElement("svg",yhe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M5.887 3v6.28H8V11H2V9.28h1.775V5H2.19V3.68c.95-.18 1.542-.3 2.176-.68zM11 6a1 1 0 010-2h10a1 1 0 010 2zm0 7a1 1 0 010-2h10a1 1 0 010 2zm0 7a1 1 0 010-2h10a1 1 0 010 2z",fill:"currentColor"}))};function whe(){return whe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},whe.apply(this,arguments)}const Rhe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--list-task",t].filter(Boolean).join(" "),"aria-label":"list-task",role:"img",...n};return Ye.createElement("svg",whe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M3.707 6.293L5 7.586l4.293-4.293a1 1 0 011.414 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414zM14 6a1 1 0 010-2h7a1 1 0 010 2zm-3 7a1 1 0 010-2h10a1 1 0 010 2zm0 7a1 1 0 010-2h10a1 1 0 010 2z",fill:"currentColor"}))};function The(){return The=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},The.apply(this,arguments)}const Che=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--mention",t].filter(Boolean).join(" "),"aria-label":"mention",role:"img",...n};return Ye.createElement("svg",The({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M22.992 12.125c.005.04.008.083.008.125 0 3.63-1.706 5.75-4 5.75-1.673 0-3.14-.902-3.728-2.22a5 5 0 11-.177-7.707A1 1 0 0117 8.5v6c0 .784.86 1.5 2 1.5 1.082 0 2-1.14 2-3.75 0-.042.003-.084.008-.125A1.01 1.01 0 0121 12a9 9 0 10-9 9c.858 0 1.7-.12 2.506-.353a1 1 0 11.556 1.92A10.95 10.95 0 0112 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11c0 .042-.003.084-.008.125zM12 15a3 3 0 100-6 3 3 0 000 6z",fill:"currentColor"}))},khe="customElements"in window;!F&&khe&&n.e(736).then(n.bind(n,7023));const Ohe=e=>{let{id:t,showMentionIcon:n=!0}=e;const s=navigator.userAgent.match(/Macintosh/)?"cmd":"ctrl";return khe?Ye.createElement("markdown-toolbar",{for:t,class:"zhc-markdown-toolbar","data-cy":"markdown-toolbar"},Ye.createElement("div",{className:"zhc-markdown-toolbar__item-group"},Ye.createElement(YI,{content:"Add header text"},Ye.createElement("md-header",{class:"zhc-markdown-toolbar__item"},Ye.createElement(uhe,{className:"zhc-markdown-toolbar__item-icon"}))),Ye.createElement(YI,{content:`Add bold text <${s}+b>`},Ye.createElement("md-bold",{class:"zhc-markdown-toolbar__item"},Ye.createElement(mhe,{className:"zhc-markdown-toolbar__item-icon"}))),Ye.createElement(YI,{content:`Add italic text <${s}+i>`},Ye.createElement("md-italic",{class:"zhc-markdown-toolbar__item"},Ye.createElement(Ehe,{className:"zhc-markdown-toolbar__item-icon"})))),Ye.createElement("div",{className:"zhc-markdown-toolbar__item-group"},Ye.createElement(YI,{content:"Insert a quote"},Ye.createElement("md-quote",{class:"zhc-markdown-toolbar__item"},Ye.createElement(fhe,{className:"zhc-markdown-toolbar__item-icon"}))),Ye.createElement(YI,{content:"Insert code"},Ye.createElement("md-code",{class:"zhc-markdown-toolbar__item"},Ye.createElement(vhe,{className:"zhc-markdown-toolbar__item-icon"}))),Ye.createElement(YI,{content:`Add a link <${s}+k>`},Ye.createElement("md-link",{class:"zhc-markdown-toolbar__item"},Ye.createElement(tme,{className:"zhc-markdown-toolbar__item-icon"})))),Ye.createElement("div",{className:"zhc-markdown-toolbar__item-group"},Ye.createElement(YI,{content:"Add a bulleted list"},Ye.createElement("md-unordered-list",{class:"zhc-markdown-toolbar__item"},Ye.createElement(bhe,{className:"zhc-markdown-toolbar__item-icon"}))),Ye.createElement(YI,{content:"Add a numbered list"},Ye.createElement("md-ordered-list",{class:"zhc-markdown-toolbar__item"},Ye.createElement(She,{className:"zhc-markdown-toolbar__item-icon"}))),Ye.createElement(YI,{content:"Add a task list"},Ye.createElement("md-task-list",{class:"zhc-markdown-toolbar__item"},Ye.createElement(Rhe,{className:"zhc-markdown-toolbar__item-icon"})))),n?Ye.createElement("div",{className:"zhc-markdown-toolbar__item-group"},Ye.createElement(YI,{content:"Mention a user or team"},Ye.createElement("md-mention",{class:"zhc-markdown-toolbar__item"},Ye.createElement(Che,{className:"zhc-markdown-toolbar__item-icon"})))):null):null};Ohe.propTypes={id:SI().string.isRequired,showMentionIcon:SI().bool};const Nhe=Ohe;function Phe(){return Phe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Phe.apply(this,arguments)}const Ahe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--markdown",t].filter(Boolean).join(" "),"aria-label":"markdown",role:"img",...n};return Ye.createElement("svg",Phe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 3.214c0-.394-.305-.714-.682-.714H.682C.305 2.5 0 2.82 0 3.214v8.572c0 .394.305.714.682.714h13.636c.377 0 .682-.32.682-.714V3.214zM1.364 3.93h12.272v7.142H1.364V3.93z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 10V7.05l.457.585-.005.007.615.774.114.145v-.002l.071.089L6.25 7.05V10H7.5V5H6.25v.02L5 6.62l-1.25-1.6V5H2.5v5h1.25zm4.375-2.875h1.563V5h1.25v2.125H12.5L10.304 10 8.125 7.125z",fill:"currentColor"}))},Dhe=()=>Ye.createElement("div",{className:"zhc-markdown-info"},Ye.createElement(YI,{content:"Styling with Markdown is supported"},Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010354",target:"_blank",rel:"noopener noreferrer"},Ye.createElement(Ahe,null))));function Lhe(){return Lhe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lhe.apply(this,arguments)}const zhe=ee.qCK(ee.ffD,_t.KN,ee.fyY),Mhe=ee.$6P(_t.DX),xhe=ee.CyQ(_t.KN),Fhe={CREATE:"CREATE",EDIT:"EDIT"},Uhe=ee.r3W(ee.__,ee.XPQ(Fhe));class Bhe extends Ye.Component{constructor(e){super(e);const{title:t,description:n,startDate:s,desiredEndDate:r}=e;this.state={selectedTabId:"write",title:t,description:n,startDate:s,desiredEndDate:r,didInitialTitleFocus:!1},this.refDescriptionTextarea=(0,Ye.createRef)(),this.onSelectTab=this.onSelectTab.bind(this),this.onChangeDescription=this.onChangeDescription.bind(this),this.onChangeTitle=this.onChangeTitle.bind(this),this.onChangeDates=this.onChangeDates.bind(this),this.onCreateRelease=this.onCreateRelease.bind(this),this.onEditRelease=this.onEditRelease.bind(this),this.isValidForm=this.isValidForm.bind(this),this.onRefSet=this.onRefSet.bind(this)}componentDidUpdate(){const{didInitialTitleFocus:e}=this.state;e||(this.titleInput.focus(),this.setState({didInitialTitleFocus:!0}))}onRefSet(e){this.refDescriptionTextarea=e}onChangeTitle(e){this.setState({title:e.target.value})}onChangeDescription(e){this.setState({description:e.target.value})}onChangeDates(e){let{startDate:t,endDate:n}=e;this.setState({startDate:t,desiredEndDate:n})}onCreateRelease(e){e.preventDefault();const{title:t,description:n,startDate:s,desiredEndDate:r}=this.state,{createRelease:i,repoId:o,selectedRepos:a,onCreateReleaseSuccess:l,onCreateReleaseFailure:c}=this.props,d=a.map((e=>e.repoId));i({release:{title:t,description:n,start_date:s,desired_end_date:r,repo_id:o,repos:d},onCreateReleaseSuccess:l,onCreateReleaseFailure:c})}onEditRelease(e){e.preventDefault();const{title:t,description:n,startDate:s,desiredEndDate:r}=this.state,{releaseId:i,updateRelease:o}=this.props;o({title:t,description:n,start_date:s,desired_end_date:r,release_id:i})}onSelectTab(e){this.setState({selectedTabId:e},(()=>{this.refDescriptionTextarea&&this.refDescriptionTextarea?.focus()}))}isValidForm(){const{title:e,startDate:t,desiredEndDate:n}=this.state,{selectedRepos:s}=this.props;return zhe(e)&&Mhe([t,n])&&xhe(s)}render(){const{title:e,description:t,startDate:n,desiredEndDate:s}=this.state,{clearSelectedRepos:r,connectableRepos:i,fetchConnectableRepos:o,formType:a,isConnectableReposLoaded:l,selectedRepos:c,toggleSelectedRepo:d,renderedFrom:u,unselectRepository:p,onApplyRepoSelector:m}=this.props,h=a===Fhe.EDIT?{title:"Edit this Release",buttonText:"Apply changes",buttonOnClick:this.onEditRelease}:{title:"Create a new Release",buttonText:"Create Release",buttonOnClick:this.onCreateRelease},{selectedTabId:E}=this.state;return Ye.createElement("div",{className:"zhc-release-report-create"},Ye.createElement("h2",null,h.title),Ye.createElement("div",{className:"zhc-release-report-create__info"},Ye.createElement("span",{className:"zhu-blankspace-right"},"Track goals across multiple issues to visualize scope and predict completion end dates."),Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010359-plan-long-term-projects-with-release-reports"},"Learn more")),Ye.createElement("form",{className:"zhc-release-create__form",onSubmit:e=>e.preventDefault()},Ye.createElement("div",{className:"zhc-release-create__form__section"},Ye.createElement("div",{className:"zhc-release-create__form__box-left"},Ye.createElement(Fme,{clearSelectedRepos:r,fetchConnectableRepos:o,isConnectableReposLoaded:l,toggleSelectedRepo:d,unselectRepository:p,onApplyRepoSelector:m,connectableRepos:i,selectedRepos:c,formType:a}),Ye.createElement("label",null,Ye.createElement("div",{className:"zhc-release-report-form__title"},Ye.createElement("h4",null,"Release title"),Ye.createElement("input",{className:"zhc-release-report-form__title-input","data-cy":"title-input",ref:e=>{this.titleInput=e},name:"Title",type:"text",value:e,onChange:this.onChangeTitle,placeholder:"Title of your Release",autoFocus:!0})))),Ye.createElement("div",{className:"zhc-release-create__form__dates zhc-release-create__form__box-right"},Ye.createElement("h4",null,"Start and desired end date"),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.md-1}},(e=>Ye.createElement(Eoe,{onDatesChange:this.onChangeDates,numberOfMonths:1,keepOpenOnDateSelect:!0,startDate:n,endDate:s,alwaysOpen:!e,withPortal:e,focusOnEndDate:!0})))),Ye.createElement("div",{className:"zhc-release-create__form__box-left"},Ye.createElement("div",{className:"zhc-release-report-form__desc"},Ye.createElement(Hme,{onSelect:this.onSelectTab,selectedTabId:E},Ye.createElement(Gme,null,Ye.createElement(Vme,{className:"zhc-release-report-form__tab-nav-item",tabId:"write"},"Write"),Ye.createElement(Vme,{className:"zhc-release-report-form__tab-nav-item",tabId:"preview"},"Preview")),Ye.createElement(Xme,null,Ye.createElement(Yme,{isKeptInDOM:!0,tabId:"write"},Ye.createElement("div",{className:"zhc-release-report-form__markdown-toolbar"},Ye.createElement(Nhe,{id:`textarea-release-${u}`})),Ye.createElement("div",{style:{position:"relative"}},Ye.createElement(wme,{className:"zhc-release-report-form__desc-textarea",id:`textarea-release-${u}`,name:"Description",value:t,onChange:this.onChangeDescription,placeholder:"Describe this Release",onSubmit:h.buttonOnClick,isSubmitDisabled:!this.isValidForm(),onRefSet:this.onRefSet}))),Ye.createElement(Yme,{tabId:"preview"},Ye.createElement("div",{className:"zhc-edit-comment__preview"},Ye.createElement(che,{content:t}))))),Ye.createElement(Dhe,null))),Ye.createElement("div",{className:"zhu-float-clear"})),Ye.createElement("div",{className:"zhc-release-create__form__section"},Ye.createElement("div",{className:"zhc-release-report__create__footer"},Ye.createElement(Ope,{text:h.buttonText,"data-cy":"create-release",disabled:!this.isValidForm(),modifiers:["action"],onClick:h.buttonOnClick})))))}}Bhe.defaultProps={connectableRepos:null,formType:Fhe.CREATE,desiredEndDate:null,renderedFrom:""},Bhe.propTypes={clearSelectedRepos:SI().func.isRequired,fetchConnectableRepos:SI().func.isRequired,isConnectableReposLoaded:SI().bool.isRequired,selectedRepos:SI().arrayOf(SI().shape({})).isRequired,toggleSelectedRepo:SI().func.isRequired,unselectRepository:SI().func.isRequired,onApplyRepoSelector:SI().func.isRequired,connectableRepos:SI().arrayOf(SI().shape({})),createRelease:SI().func,description:SI().string,desiredEndDate:SI().instanceOf(Date),formType:SI().oneOf(Object.keys(Fhe)),releaseId:SI().string,renderedFrom:SI().string,repoId:SI().number,startDate:SI().instanceOf(Date),title:SI().string,updateRelease:SI().func,onCreateReleaseFailure:SI().func,onCreateReleaseSuccess:SI().func};const qhe=Jre(Bhe),Hhe=e=>{const{formType:t,isOpen:n,closeReleaseForm:s}=e;if(!Uhe(t))return null;const r=function(e){let t=null;return e===Fhe.CREATE&&(t="Create a new Release"),e===Fhe.EDIT&&(t="Edit this Release"),t}(t);return Ye.createElement(Xre,{hideBackgroundOnTouchDevice:!0,isOpen:n,modalTitle:r,modifiers:["height-auto"],onClose:s},Ye.createElement(qhe,Lhe({},e,{modalTitle:r})))};Hhe.propTypes={closeReleaseForm:SI().func,formType:SI().string,isOpen:SI().bool};const Whe=Hhe,jhe=ee.zoF(["releaseBuilder","repos"]),Ghe=ee.zoF(["releaseBuilder","draft"]),Khe=ee.ETc(Ghe(["startDate"])),Vhe=ee.ETc(Ghe(["title"])),$he=ee.ETc(Ghe(["description"])),Zhe=ee.ETc(Ghe(["endDate"])),Yhe=ee.ETc(Ghe(["releaseId"])),Jhe=ee.ETc(jhe(["repos"])),Xhe=ee.ETc(jhe(["initialRepos"])),Qhe=ee.ETc(jhe(["orgRepos"])),eEe=ee.ETc(jhe(["selectedRepoIndex"])),tEe=ee.ETc(jhe(["isReposLoaded"])),nEe=ee.ETc(["releaseBuilder","display","activeReleaseForm"]),sEe=ee.wEe(ee.fS0("CREATE"),ee.fS0("EDIT")),rEe=(0,pa.P1)([nEe],sEe),iEe=ee.vgT("repoId"),oEe=ee.OH4("pushPermissions",!0);const aEe=(0,pa.P1)([Jhe,Qhe],(function(e,t){if(!t)return null;const n=e.map(iEe),s=ee.zGw(iEe,ee.r3W(ee.__,n));return ee.d1t(s,t)})),lEe=(0,pa.P1)([aEe,eEe],(function(e,t){if(!e)return null;const n=ee.zGw(iEe,ee.r3W(ee.__,t)),s=ee.hXT(oEe,e);return ee.UID((e=>ee.yGi("selected",n(e),e)),s)})),cEe=(0,pa.P1)([Khe],ee.gxm(ee.kKJ,ee.Bxt(new Date))),dEe=Jhe,uEe=Xhe;function pEe(){return pEe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pEe.apply(this,arguments)}const{releaseBuilder:mEe}=LG,{isNilOrEmpty:hEe}=Vt.Z;class EEe extends Ye.PureComponent{render(){const{dispatch:e,connectableRepos:t,initialRepos:n,onEditReleaseSuccess:s,organization:r,repoId:i,selectedRepos:o}=this.props;return Ye.createElement(Whe,pEe({},this.props,{fetchConnectableRepos:()=>{const n={repo_id:i,organization:r};hEe(t)&&e(mEe.loadOrganizationRepos(n))},updateRelease:t=>{const r=ee.TSy(t,{initialRepos:n,selectedRepos:o,onEditReleaseSuccess:s});e(mEe.updateReleaseRepos(r)),e(mEe.closeReleaseForm())}}))}}EEe.propTypes={dispatch:SI().func.isRequired,initialRepos:SI().arrayOf(SI().shape({})).isRequired,renderedFrom:SI().string.isRequired,selectedRepos:SI().arrayOf(SI().shape({})).isRequired,connectableRepos:SI().arrayOf(SI().shape({})),organization:SI().string,repoId:SI().number,onEditReleaseSuccess:SI().func};const gEe=l3.$j((function(e){return{repoId:Ba(e),releaseId:Yhe(e),organization:Qa(e),title:Vhe(e),description:$he(e),startDate:cEe(e),desiredEndDate:Zhe(e),connectableRepos:lEe(e),isOpen:rEe(e),formType:nEe(e),selectedRepos:dEe(e),initialRepos:uEe(e),isConnectableReposLoaded:tEe(e)}}),(function(e){const t=(0,mr.DE)({closeReleaseForm:mEe.closeReleaseForm,toggleSelectedRepo:mEe.toggleSelectedRepo,onApplyRepoSelector:mEe.addReposToRelease,unselectRepository:mEe.removeRepoFromRelease,createRelease:mEe.createRelease,clearSelectedRepos:mEe.clearSelectedRepos},e);return ee.TSy(t,{dispatch:e})}))(EEe);function fEe(){return fEe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fEe.apply(this,arguments)}const _Ee=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--dash",t].filter(Boolean).join(" "),"aria-label":"dash",role:"img",...n};return Ye.createElement("svg",fEe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M13 7.3v1.4H3V7.3z",fill:"currentColor"})))},vEe="k5Cx0CQMaIlzlLASuq2U",IEe="yBopLkTfkznNetENzmOv",bEe="zjUBoAZ5uRA9THWmECzW";const yEe=e=>{class t extends Ye.Component{constructor(){var e;super(...arguments),e=this,this.handleClick=e=>{const{negateNextClick:t}=this.props;t?this.toggleCurrent({negated:!0},e):this.toggleCurrent({},e)},this.toggleCurrent=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;const{filterKey:s,isDisabled:r,negated:i,select:o,deselect:a,selected:l,selectedPartially:c}=e.props;if(r)return;const d=c||l?a:o,u=ee.TSy({filterKey:s,negated:i},t);d(u,n)}}handleSelectionListEnterKey(e){this.handleClick(e)}render(){const{selected:t,selectedPartially:n,showSelectedIcon:s}=this.props,r=s?function(e,t){return e?Ye.createElement(_Ee,null):t?Ye.createElement(Ire,null):null}(n,t):null;return Ye.createElement("div",{className:vEe,onClick:this.handleClick},Ye.createElement("span",{className:bEe},Ye.createElement(e,this.props)),n||t?Ye.createElement("span",{className:IEe},r):null)}}return t.defaultProps={selected:!1,showSelectedIcon:!0,select:_t.ZT,deselect:_t.ZT,negated:!1,negateNextClick:!1},t.propTypes={deselect:SI().func,filterKey:SI().any,isDisabled:SI().bool,negated:SI().bool,negateNextClick:SI().bool,select:SI().func,selected:SI().bool,selectedPartially:SI().bool,showSelectedIcon:SI().bool,onMouseEnter:SI().func},Dte(t)},SEe=Dte,wEe="_OE11kiBfUflnZSHW5iz",REe="W3GeKigzbSPajNZPddfi";class TEe extends Ye.PureComponent{constructor(e){super(e),this.onClick=e=>{const{repo:t,onClickItem:n,organization:s,repo_id:r}=this.props;n({repo:t,organization:s,repo_id:r}||null,e)},this.orgNameRef=Ye.createRef(),this.state={isOrgTextTruncated:!1}}componentDidMount(){this.orgNameRef.current&&(0,_t.Co)(this.orgNameRef.current)&&this.setState({isOrgTextTruncated:!0})}render(){const{isDefaultRepo:e,organization:t,repo:n,showDefaultTag:s,isDisabled:r,disabledText:i}=this.props,o=(0,_I.default)([wEe],{[REe]:r}),a=s&&e?Ye.createElement("div",{className:"zhc-repo-item__default-tag"},Ye.createElement(Oae,{content:"Default",type:"outline"})):null,l=(0,_t.KN)(t)?Ye.createElement("div",null,n):Ye.createElement("div",{className:"zhc-repo-item__name-wrapper"},Ye.createElement("div",{className:"zhc-repo-item__repository","data-cy":"repo-name"},n),Ye.createElement("div",{ref:this.orgNameRef,className:o,"data-cy":"organization-name"},t));return Ye.createElement("div",{className:"zhc-selection-list-item zhc-repo-item",onClick:this.onClick,"data-testid":"repo-item"},Ye.createElement("span",{className:"zhc-repo-item__name"},this.state.isOrgTextTruncated?Ye.createElement(YI,{content:t,position:jI.TOP,wrapperClassName:"zhc-repo-item__tooltip-wrapper"},l):l,a),r&&Ye.createElement("span",{className:"zhc-repo-item__lock"},Ye.createElement(YI,{content:i,position:jI.TOP},Ye.createElement(Xse,null))))}}TEe.defaultProps={isDefaultRepo:!1,isDisabled:!1,onClickItem:_t.ZT,organization:null,showDefaultTag:!1,disabledText:"You don't have permissions to add this Repo"},TEe.propTypes={repo:SI().string.isRequired,repo_id:SI().number.isRequired,disabledText:SI().string,isDefaultRepo:SI().bool,isDisabled:SI().bool,organization:SI().string,showDefaultTag:SI().bool,onClickItem:SI().func};const CEe=yEe(TEe),kEe=(SEe(TEe),{CREATE:"CREATE",EDIT:"EDIT",NONE:"NONE"}),OEe={MODAL_TITLE:"Create Milestone",MODAL_HEADER:"Create a new Milestone",DROPDOWN_TITLE:"Create Milestone in more repos ",LIST_TITLE:"Create Milestone by Workspace",BUTTON_TEXT:"Create Milestone"},NEe={MODAL_TITLE:"Edit Milestone",MODAL_HEADER:"Edit Milestone",DROPDOWN_TITLE:"Add this Milestone to more repos",LIST_TITLE:"Add Milestone by Workspace",BUTTON_TEXT:"Save Changes"};function PEe(){return PEe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},PEe.apply(this,arguments)}function AEe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const DEe=ee.OH4("selected",!0),LEe=ee.OH4("isDisabled",!0),zEe=ee.yGi("selected",!0),MEe=ee.HK3(ee.vgT("repo_id")),xEe=ee.qCK(ee.UID(ee.anz("selected")),ee.UID(ee.anz("handler")),ee.hXT(DEe),ee.VO0),FEe=ee.WAo(((e,t)=>{const{repo_id:n}=t,{milestone_number:s}=e[n];return ee.yGi("milestone_number",s,t)})),UEe=ee.KJl(ee.is(String),ee.fyY,ee.Bxt("")),BEe=e=>bb.Ps`
  query {
    ${e.map((e=>`\n      _${e}: repository(ghId: ${e}) {\n        ghId\n        workspaces {\n          id\n        }\n      }\n    `))}
  }
`,qEe=SI().shape({milestone_number:SI().number.isRequired,repo_id:SI().number.isRequired});class HEe extends Ye.PureComponent{constructor(e){super(e),this.onChangeRepoItem=e=>{const{repos:t}=this.state,n=[e.repo_id,"selected"],s=ee.ETc(n,t),r=ee.uhR(n,!s,t);this.setState((()=>({repos:r})))},this.createRepoIndex=e=>{const{activeMilestoneForm:t,currentRepositories:n}=this.props,s=MEe(e),r=ee.jge("repo_id",n);return t===kEe.CREATE?ee.UID((e=>ee.TSy({selected:!0,handler:()=>this.onChangeRepoItem(e)},e)),s):ee.UID((e=>{const t=ee.r3W(e.repo_id,r);return ee.TSy({isDisabled:t,selected:t,handler:()=>this.onChangeRepoItem(e)},e)}),s)};const{title:t,description:n,repositories:s,startDate:r,dueDate:i}=e;this.onChangeTitle=this.onChangeTitle.bind(this),this.onChangeDescription=this.onChangeDescription.bind(this),this.onChangeDates=this.onChangeDates.bind(this),this.onSelectAllRepos=this.onSelectAllRepos.bind(this),this.onCreateOrEditMilestones=this.onCreateOrEditMilestones.bind(this),this.isValidTitle=this.isValidTitle.bind(this),this.state={title:t,description:n,startDate:r,dueDate:i,repos:this.createRepoIndex(s),didInitialTitleFocus:!1}}componentDidUpdate(){const{didInitialTitleFocus:e}=this.state;e||(this.titleInput.focus(),this.setState({didInitialTitleFocus:!0}))}onSelectAllRepos(){const{repos:e}=this.state,t=ee.UID(zEe,e);this.setState((()=>({repos:t})))}onChangeTitle(e){const{value:t}=e.target;this.setState((()=>({title:t})))}onChangeDescription(e){const{value:t}=e.target;this.setState((()=>({description:t})))}onChangeDates(e){this.setState((()=>({startDate:e.startDate,dueDate:e.endDate})))}onCreateOrEditMilestones(e){const{title:t,description:n,startDate:s,dueDate:r,repos:i}=this.state,{onCreateMilestones:o,onEditMilestones:a,activeMilestoneForm:l,currentRepositories:c}=this.props,d={title:UEe(t),description:UEe(n),due_on:ee.kKJ(r)?null:yp(r),start_date:ee.kKJ(s)?null:yp(s)},u=ee.qCK(ee.TSy(d),ee.eiS(["repo_id","repository","organization","isDisabled"])),p=ee.UID(u,xEe(i));if(l===kEe.CREATE)return o(p,e);o(ee.d1t(LEe,p),e);const m=MEe(c);return a(ee.zGw(ee.hXT(LEe),ee.UID(FEe(m)))(p),e)}isValidTitle(){const{title:e}=this.state;return!(0,_t.KN)(UEe(e))}render(){const{activeMilestoneForm:e,isRepoDropdownOpen:t,toggleRepoDropdown:n,startDate:s,dueDate:r,displayBanner:i}=this.props,{description:o,repos:a,title:l}=this.state,c=ee.zGw(ee.VO0,ee.MRu(ee.vgT("isDisabled")))(a),d=ee.hXT(DEe,c),u=ee.kE(d),p=1===u,m=ee.kE(c),h=e===kEe.CREATE?OEe:NEe,{MODAL_HEADER:E,DROPDOWN_TITLE:g,LIST_TITLE:f,BUTTON_TEXT:_}=h,v=g+` (${u}/${m})`,I=c.map((e=>{const t=p&&e.selected,n=t?"At least one repo must be selected":"You don't have permissions to add this Repo";return Ye.createElement(CEe,{key:e.repo_id,repo_id:e.repo_id,filterKey:e.repo_id,defaultRepo:!1,select:e.handler,deselect:e.handler,selected:e.selected,isDisabled:e.isDisabled||t,disabledText:n,repo:e.repository})}));return Ye.createElement("div",{className:"zhc-milestone-modal"},Ye.createElement(Ise,{modifiers:["center-text",i?"fade-in":"hide"]},Ye.createElement("strong",null,"Editing this Milestone might affect other Workspaces."),Ye.createElement("span",null," ","If this repo is connected to another Workspace, the title and end dates in that Workspace also need to be updated so they match.")),Ye.createElement("div",{className:"zhc-milestone-modal__body"},Ye.createElement("h2",null,E),Ye.createElement("div",null,Ye.createElement("span",{className:"zhu-blankspace-right"},"Estimate Issues and Pull Requests to see how a Milestone is progressing in the Burndown Chart."),Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010356",target:"_blank",rel:"noopener noreferrer"},"Learn more.")),Ye.createElement(kme,{allowNegatedSearch:!1,clearFilter:this.onSelectAllRepos,clearFilterAlwaysOn:!0,clearFilterDisabled:u===m,clearFilterName:"Select all",emptyStateText:"No repos found",filterableChildProp:"repo",filterDefaultText:"Search repos",isActive:t,buttonName:v,listTitle:f,toggleOpen:n},I),Ye.createElement("form",{onSubmit:this.onCreateOrEditMilestones,className:"zhc-milestone-modal__info"},Ye.createElement("label",{className:"zhc-milestone-modal__milestone-title zhc-milestone-modal__box-left"},Ye.createElement("h4",null,"Milestone Title"),Ye.createElement("input",{ref:e=>{this.titleInput=e},"data-cy":"title-input",name:"Title",type:"text",maxLength:"255",value:l,onChange:this.onChangeTitle,placeholder:"Title",autoFocus:!window.USER_HAS_FEELINGS})),Ye.createElement("div",{className:"zhc-milestone-modal__dates zhc-milestone-modal__box-right"},Ye.createElement("h4",null,"Start and due date"),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.md-1}},(e=>Ye.createElement(Eoe,{onDatesChange:this.onChangeDates,numberOfMonths:1,keepOpenOnDateSelect:!0,alwaysOpen:!e,withPortal:e,startDate:s,endDate:r})))),Ye.createElement("label",{className:"zhc-milestone-modal__box-left"},Ye.createElement("div",{className:"zhc-milestone-modal__milestone-description"},Ye.createElement("h4",null,"Description")),Ye.createElement(wme,{name:"Description",rows:"12",cols:"80",value:o,onChange:this.onChangeDescription,placeholder:"Write a description",onSubmit:this.onCreateOrEditMilestones,isSubmitDisabled:!this.isValidTitle()})),Ye.createElement("div",{className:"zhu-float-clear"})),Ye.createElement("div",{className:"zhc-milestone-modal__footer"},Ye.createElement(kpe,{text:_,"data-cy":"create-milestone",modifiers:["action"],disabled:!this.isValidTitle(),onClick:this.onCreateOrEditMilestones}))))}}HEe.propTypes={activeMilestoneForm:SI().string.isRequired,currentRepositories:SI().arrayOf(qEe).isRequired,description:SI().string.isRequired,displayBanner:SI().bool.isRequired,isRepoDropdownOpen:SI().bool.isRequired,repositories:SI().arrayOf(SI().shape({})).isRequired,title:SI().string.isRequired,toggleRepoDropdown:SI().func.isRequired,onCreateMilestones:SI().func.isRequired,onEditMilestones:SI().func.isRequired,dueDate:SI().instanceOf(Date),startDate:SI().instanceOf(Date)};const WEe=ee.r3W(ee.__,ee.XPQ(kEe)),jEe=Jre(HEe);class GEe extends Ye.PureComponent{constructor(e){super(e),this.state={displayBanner:!1}}componentDidMount(){this.checkRepositoryWorkspaces()}componentDidUpdate(e){const{currentRepositories:t}=e,{currentRepositories:n,activeMilestoneForm:s}=this.props,{displayBanner:r}=this.state;0===t.length&&n.length>0&&this.checkRepositoryWorkspaces(),r&&s===kEe.NONE&&this.setState({displayBanner:!1})}checkRepositoryWorkspaces(){var e,t=this;return(e=function*(){const{client:e,currentRepositories:n,activeMilestoneForm:s}=t.props;if(!n.length||s!==kEe.EDIT)return;const r=n.map((e=>e.repo_id)),{data:i}=yield e.query({query:BEe(r),fetchPolicy:"no-cache"}),o=ee.VO0(i);t.setState({displayBanner:!o.every((e=>1===ee.vgT("workspaces",e).length))})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){AEe(i,s,r,o,a,"next",e)}function a(e){AEe(i,s,r,o,a,"throw",e)}o(void 0)}))})()}render(){const{activeMilestoneForm:e,isOpen:t,closeMilestoneViewer:n}=this.props,{displayBanner:s}=this.state,r=e===kEe.CREATE?OEe.MODAL_TITLE:NEe.MODAL_TITLE;return WEe(e)?Ye.createElement(Xre,{hideBackgroundOnTouchDevice:!0,isOpen:t,modifiers:["milestone-builder"],onClose:n},Ye.createElement(jEe,PEe({},this.props,{modalTitle:r,displayBanner:s}))):null}}GEe.propTypes={activeMilestoneForm:SI().string.isRequired,closeMilestoneViewer:SI().func.isRequired,currentRepositories:SI().arrayOf(qEe).isRequired,isOpen:SI().bool.isRequired,client:SI().shape({query:SI().func})};const KEe=e=>{const t=(0,Dae.x)();return Ye.createElement(GEe,PEe({},e,{client:t}))},VEe=ee.zoF(["milestoneBuilder","display"]),$Ee=ee.ETc(VEe(["activeMilestoneForm"])),ZEe=ee.ETc(VEe(["isRepoDropdownOpen"])),YEe=ee.ETc(["milestoneBuilder","milestones"]),JEe=ee.ETc(["milestoneBuilder","draft"]);const XEe=(0,pa.P1)([$Ee],(function(e){return"CREATE"===e||"EDIT"===e}));function QEe(){return QEe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},QEe.apply(this,arguments)}const{milestoneBuilder:ege}=LG;class tge extends Ye.PureComponent{render(){const{dispatch:e,onCreateMilestoneComplete:t,onEditMilestoneComplete:n}=this.props;return Ye.createElement(KEe,QEe({},this.props,{onCreateMilestones:n=>{const s={milestones:n,onCreateMilestoneComplete:t};e(ege.createMilestone(s))},onEditMilestones:t=>{const s={milestones:t,onEditMilestoneComplete:n};e(ege.editMilestone(s))}}))}}tge.propTypes={dispatch:SI().func.isRequired,onCreateMilestoneComplete:SI().instanceOf(Map).isRequired,onEditMilestoneComplete:SI().instanceOf(Map)};const nge=(0,l3.$j)((function(e){const{milestoneDraftProperties:t}=P;return{title:t(e).title,description:t(e).description,startDate:t(e).startDate,dueDate:t(e).dueDate,currentRepositories:YEe(e),isOpen:XEe(e),isRepoDropdownOpen:ZEe(e),activeMilestoneForm:$Ee(e),repositories:Da(e)}}),(function(e){return{...(0,mr.DE)({toggleRepoDropdown:ege.toggleRepoDropdown},e),closeMilestoneViewer:()=>{e(ege.clearMilestones()),e(ege.clearDraftProperties()),e(ege.closeMilestoneForm())},dispatch:e}}))(tge),sge=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(Ou);(0,Ye.useEffect)((()=>{t||e(LG.shared.getUserOrgs())}),[]);let n=(0,l3.v9)(Lw);const s=(0,l3.v9)(zw);let r=Boolean(s.lastUpdateRequest&&!s.lastUpdateResponse);return t&&(n=null,r=!1),{orgs:n,isLoading:r}},{onboarding:rge}=LG,ige="Connect ZH to Orgs Toast",oge=e=>{window.open(e,"_blank")?.focus()},age=()=>{const e=(0,l3.I0)(),t=(0,Ye.useRef)(!1),n=(0,Ye.useRef)(null),{orgs:s,isLoading:r}=sge(),{hasConnectOrgToastBeenDismissed:i,shouldShowPipelineMappingToast:o}=(0,l3.v9)((e=>({hasConnectOrgToastBeenDismissed:QS(e),shouldShowPipelineMappingToast:e.pipelineMapping.shouldShowToast})),l3.wU);(0,Ye.useEffect)((()=>{t.current||!0!==o||(t.current=!0)}),[o]);const a=(0,Ye.useMemo)((()=>!t.current&&!r&&s&&0===Object.keys(s||{}).length&&!0!==i),[i,r,s]),l=()=>{(()=>{const t={key:"connect_org_toast_dismissed",value:!0};e(rge.setOnboardingValue(t))})(),H.Z.deleteToast(n.current),r6(ige,{Action:"Dimissed Toast"})},c=()=>{oge("https://github.com/settings/organizations"),r6(ige,{Action:"Clicked Go to GitHub"})},d=()=>{oge("https://help.zenhub.com/support/solutions/articles/43000010369-granting-third-party-access-in-github-for-zenhub"),r6(ige,{Action:"Clicked Learn More"})};(0,Ye.useEffect)((()=>{if(!0===a){const e=H.Z.createToastIfUniqueByType(W.Z.CONNECT_GITHUB_ORGS,{videoUrl:"https://player.vimeo.com/video/685707161?background=1",onClose:l,onGoToGithubClick:c,onLearnMoreClick:d});null!==e&&(n.current=e,r6(ige,{Action:"Toast Shown"}))}}),[a])},lge="wujWwOnlvl0j3m9HyoxY",cge="I9CTPhXuy4BadLeLE_6u",dge="Jlltcitvl0OzRMUekNUB",uge="ND6gPxjIiTD16qmTjO2R",pge="SjJsTXxgIqbUAfLb_EsA",mge="mcWfLvgH5N4_6mc92jZ9",hge="E7x_E21xAdCMu3VFU7Ik",Ege="mm2eA3SeBPCyj8wuoqMa",gge="oL7QLqD8m6f9z2lLG6Gz",fge="stzSyFADAZyQ6pz_HBvC",_ge="jJ7WlyH0N90fJASMGfLB",{onboarding:vge}=LG,Ige=e=>{let{onClickClose:t}=e;return Ye.createElement("div",{className:lge,"data-testid":"zhc-feature-announcement"},Ye.createElement("div",{className:cge},Ye.createElement("span",null,Ye.createElement(Xpe,{content:"Important change",type:"primary"})),Ye.createElement("h2",{className:uge},"Inviting your team to ZenHub has changed"),Ye.createElement("div",null,Ye.createElement("p",null,Ye.createElement("strong",{className:pge},"We have made ZenHub accessible to non-GitHub users!")),Ye.createElement("p",null,"This change has modified how you invite users to your organization. Previously, when new users provided their GitHub username, they were automatically rerouted to your organization. Now, all new users must be invited to your organization."),Ye.createElement("div",{className:dge},Ye.createElement("p",null,Ye.createElement("strong",{className:pge},"How to add a new user:")),Ye.createElement("ol",{className:hge},Ye.createElement("li",null,"Go to ",Ye.createElement("em",{className:mge},"Invite your team")," on the side navigation."),Ye.createElement("li",null,"Type an email or copy the link they can use to join ZenHub.")),Ye.createElement("p",null,"That's it!")),Ye.createElement("p",null,"New users can no longer sign up using their GitHub account but through email or Google SSO. Once in ZenHub, anyone can connect their GitHub account and import issues as usual.")),Ye.createElement("div",{className:Ege},Ye.createElement(H5,{color:L5.ACTION,className:gge,onClick:t},"Got it"))),Ye.createElement("div",{className:fge},Ye.createElement(H5,{variant:z5.TEXT,className:_ge,onClick:t},Ye.createElement(Z5,null)),Ye.createElement(X5,{height:326,width:479,src:"https://player.vimeo.com/video/710468610?background=1"})))},bge=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)((e=>(e=>e.onboarding.invite_to_zhorg_alert_dismissed)(e))),n=(0,l3.v9)((e=>gu(e))),[s,r]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{const e=new Date("2022-03-31");new Date(n)<e&&!t&&r(!0)}),[n,t]);const i=()=>{r(!1),e(vge.setOnboardingValue({key:"invite_to_zhorg_alert_dismissed",value:!0}))};return Ye.createElement(Xre,{isOpen:s,onClose:i,turnOverlayClickOff:!0,modifiers:["size-auto"]},Ye.createElement(Ige,{onClickClose:i}))},yge=()=>(age(),Ye.createElement(Ye.Fragment,null,Ye.createElement(bge,null))),Sge="zqxDgWhblIF8UJysRILU",wge="EZgMJwmRuAa5zCSuVtqZ",Rge="XN_2l5NGiuUJUM40fTLJ",Tge="sfwsRtbim72eg5ZWyt5M",Cge="R4S9taVcx9AjMqwYe6Zh",kge=e=>{let{email:t,invalid:n,onDelete:s}=e;const r=(0,Ye.useCallback)((()=>{s(t)}),[t,s]);return Ye.createElement("div",{"data-testid":"email-node",className:(0,_I.default)(Sge,{[Tge]:n}),key:`email-node-${t}`},t,n?Ye.createElement(h7,{className:Cge}):null,Ye.createElement(H5,{variant:z5.TEXT,className:wge,onClick:r,dataTestId:"email-node-delete"},Ye.createElement(Z5,{className:Rge})))},Oge="d4Ko27LmI3rNjl0DLrMb",Nge="ukC6Ra9IK06jlOkUBocz",Pge="MWNN7DVRMty6UcmNPXkQ",Age="qJrhmijSVPx8fPZqrWrQ",Dge="inHp7swuBgMOoBQLRXEB",Lge="xaj1LZokztVJ1TiaPZQG",zge="SHrPjB5ohiqpxepWqV59",Mge="EJShD352KIxciAxFhF5_",xge=e=>{let{onEmailsChange:t,registeredEmails:n,onEmailAdded:s,onPasteEmails:r}=e;const i=(0,Ye.useRef)(null),[o,a]=(0,Ye.useState)([]),[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)(null),p=(0,Ye.useMemo)((()=>o.length>=15),[o]),m=(0,Ye.useCallback)((e=>{const t=e.map((e=>({email:e,invalid:!Vt.Z.isEmailValid(e)})));a([...o,...t].slice(0,15))}),[o]),h=(0,Ye.useCallback)((e=>{const t=e.split(/[ ,;\n\r]/g).filter((e=>{if(0===e.length)return!1;for(const t of o)if(e===t.email)return!1;return!0}));return m(t),t.length}),[m,o]),E=(0,Ye.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const{clipboardData:t}=e,n=t?.getData("Text")||"",s=h(n);r(s)}),[h,r]),g=(0,Ye.useCallback)((e=>{if("Backspace"===e.key&&i.current&&0===i.current.value.length){const e=[...o];e.pop(),a(e)}p?e.preventDefault():"Tab"!==e.key&&","!==e.key&&" "!==e.key&&"Enter"!==e.key||i.current&&((i.current.value.length>0||"Enter"===e.key)&&e.preventDefault(),h(i.current.value),i.current.value="",s())}),[h,s,o,p]),f=(0,Ye.useCallback)((()=>{i.current&&""!==i.current.value&&(h(i.current.value),i.current.value="")}),[h]),_=(0,Ye.useMemo)((()=>{let e=!1;const t=o.length>=15,s=[],r=[];for(const t of o)t.invalid&&(e=!0),n.indexOf(t.email)>-1&&s.push(t.email);return u(e),e&&r.push({message:Ye.createElement("p",{className:(0,_I.default)(Lge,zge),key:"invalid-email"},"Please enter a valid email address.")}),s.length>0&&r.push({message:Ye.createElement("p",{className:(0,_I.default)(Lge,Mge),"data-testid":"existing-warning",key:"existing"},Ye.createElement("strong",null,s.join(", "))," ",s.length>1?"are":"is"," already in your organization.")}),t&&r.push({message:Ye.createElement("p",{className:(0,_I.default)(Lge,Mge),key:"maximum"},"You can only invite a maximum of 15 people at a time.")}),r}),[o,n]);(0,Ye.useEffect)((()=>{const e=i.current;return e&&(e.addEventListener("keydown",g),e.addEventListener("blur",f),e.addEventListener("paste",E),e.focus()),()=>{e&&(e.removeEventListener("keydown",g),e.removeEventListener("blur",f),e.removeEventListener("paste",E))}}),[i,g,h,E,f]),(0,Ye.useEffect)((()=>{t(o.map((e=>e.email)))}),[o,t]);const v=e=>{a(o.filter((t=>t.email!==e))),i.current&&i.current.focus()};return Ye.createElement(Ye.Fragment,null,Ye.createElement("label",{className:Oge,htmlFor:"emails"},"Email"),Ye.createElement("div",{className:(0,_I.default)(Nge,{[Age]:l,[Dge]:d})},o.map((e=>Ye.createElement(kge,{key:e.email,email:e.email,invalid:e.invalid,onDelete:v}))),Ye.createElement("textarea",{"data-testid":"zh-invite-team-input-textarea",ref:i,className:Pge,id:"emails",placeholder:"name@company.com",onFocus:()=>c(!0),onBlur:()=>c(!1)})),_.length>0?_.map((e=>e.message)):Ye.createElement("p",{className:Lge},"Anyone invited will have member\u2019s access to see your organization\u2019s workspaces."))},Fge="ugstQGS1fStJWstz9xvA",Uge="JaxI_MayUwtdkxih0IWt",Bge="gthzjBD57W9LpU0RKVSL",qge="keHHjhVqahlmI4g2wIQd",Hge="oF4sV3py7yV1fgQVZKGw",Wge="fmR9_qntr9IZLcRbi2aX",jge="C1fX1ZPIKqoDzGAYEDxc",Gge={},Kge=bb.Ps`
  mutation CreateZenhubOrganizationInvite(
    $zenhubOrganizationId: ID!
    $expireInDays: Int!
  ) {
    createZenhubOrganizationInvite(
      input: { zenhubOrganizationId: $zenhubOrganizationId, expireInDays: $expireInDays }
    ) {
      token
    }
  }
`;function Vge(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const $ge=e=>{let{shouldGenerateToken:t,expireInDays:n,onSuccess:s}=e;const r=(0,l3.v9)(xV),i=(0,Ye.useRef)(null),[o,a]=(0,Ye.useState)(!1),[l]=function(e){const t={...Gge,...e};return vK.D(Kge,t)}({variables:{zenhubOrganizationId:r,expireInDays:n}});return(0,Ye.useEffect)((()=>{const e=function(){var e,t=(e=function*(){a(!0);const e=yield l();e?.errors&&oe("Error generating invite token",...e.errors.map((e=>e.message?e.message:e))),e?.data?.createZenhubOrganizationInvite&&(i.current=e.data.createZenhubOrganizationInvite.token,a(!1),s?.(i.current))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Vge(i,s,r,o,a,"next",e)}function a(e){Vge(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();!t||i.current||o||e()}),[l,o,t]),{inviteToken:i.current,isGeneratingToken:o}},Zge=(e,t)=>((e=>{if(!e)return"";const t=Vt.Z.parseQueryString(e);delete t.invite;const n=Vt.Z.stringifyQueryParams(t);n.length})(e),Vt.Z.updateQueryString(e,"invite",t)),{webappURL:Yge}=L.Z,Jge=(e,t)=>{const n=e.startsWith("/workspaces")?e:"";return Zge(`${Yge}${n}`,t)},{invites:Xge}=LG,Qge=e=>{let{setCopied:t,token:n,setToken:s}=e;const r=(0,l3.I0)(),i=(0,Ye.useRef)(null),[o,a]=(0,Ye.useState)(!1),l=(0,$8.TH)(),c=e=>{if(e){const n=Jge(l.pathname,e);r(Xge.trackLinkCopied({copiedUrl:n})),navigator.clipboard.writeText(n).then((()=>{i.current=setTimeout((()=>{t(!1),i.current=null}),5e3),t(!0)}),(e=>{throw e}))}},{inviteToken:d,isGeneratingToken:u}=$ge({shouldGenerateToken:o,expireInDays:2,onSuccess:c});(0,Ye.useEffect)((()=>()=>{i.current&&(clearTimeout(i.current),i.current=null)}),[]),(0,Ye.useEffect)((()=>{d&&s(d)}),[d,u,s]);return{onCopyClicked:()=>{n?c(n):a(!0)},isGeneratingToken:u}},efe=e=>{let{copied:t,setCopied:n,token:s,setToken:r,inviteTo:i}=e;const{onCopyClicked:o,isGeneratingToken:a}=Qge({setCopied:n,token:s,setToken:r});return Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.OUTLINED,className:jge,onClick:o},a?Ye.createElement(U5,{className:Wge,modifiers:["no-outline","no-padding","no-color-change","button-spinner"]}):Ye.createElement(tme,{className:Wge}),t?"Copied!":(e=>"workspace"===e?"Copy link to workspace":"org"===e?"Copy link to organization":"Copy link")(i))},{invites:tfe}=LG,nfe=e=>{const t=e.length,n=1===t?e[0]:`${t} team members`;return 1===t?`${n} has been invited to this workspace`:`${n} have been invited to this workspace`},sfe=e=>{let{token:t,setToken:n,emails:s,closeModal:r}=e;const i=(0,l3.I0)(),o=(0,$8.TH)(),a=(0,l3.v9)(FV),l=(0,l3.v9)(_u),[c,d]=(0,Ye.useState)(!1),u=s.filter((e=>Vt.Z.isEmailValid(e))),p=e=>{if(!e)return;const t=Jge(o.pathname,e);X2({emails:u,inviteUrl:t,organization:a,userNameOfInviter:l}),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:nfe(u),expirationDelay:4e3}),ame({"Team Members Invited":u.length}),i(tfe.trackInvitesSent({emails:u})),r()},{inviteToken:m,isGeneratingToken:h}=$ge({shouldGenerateToken:c,expireInDays:365,onSuccess:p});return(0,Ye.useEffect)((()=>{m&&n(m)}),[m,h,n]),Ye.createElement(H5,{width:D5.WIDE,disabled:!u.length,onClick:()=>{t?p(t):d(!0)},color:L5.ACTION},"Send")},{invites:rfe}=LG,ife=e=>{let{inviteTo:t="workspace"}=e;const n=(0,l3.v9)(zde),s=(0,l3.I0)(),[r,i]=(0,Ye.useState)([]),[o,a]=(0,Ye.useState)(!1),[l,c]=(0,Ye.useState)(null),d=()=>{s(rfe.closeInviteModal())},u=(0,Ye.useCallback)((e=>{s(rfe.trackUserPasteEmailAdded({numEmails:e}))}),[s]),p=(0,Ye.useCallback)((()=>{s(rfe.trackUserTypedEmailAdded())}),[s]);return Ye.createElement(Xre,{modifiers:["invite"],isOpen:n,onClose:d,className:Fge,closeOnEsc:!0},Ye.createElement("div",{className:Uge},Ye.createElement(Zre,{modalTitle:"org"===t?"Invite to organization":"Invite your team",onClose:d}),Ye.createElement("div",{className:Bge},Ye.createElement(xge,{onEmailsChange:i,registeredEmails:[],onPasteEmails:u,onEmailAdded:p}),Ye.createElement("div",{className:qge},Ye.createElement(efe,{copied:o,setCopied:a,token:l,setToken:c,inviteTo:t}),Ye.createElement(sfe,{token:l,setToken:c,emails:r,closeModal:d}))),o?Ye.createElement("div",{className:Hge,"data-testid":"expiry-banner"},"This link will expire in ",Ye.createElement("strong",null,"2 days")," to protect your data."):null))};function ofe(){return ofe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ofe.apply(this,arguments)}const afe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--repo-rounded",t].filter(Boolean).join(" "),"aria-label":"repo-rounded",role:"img",...n};return Ye.createElement("svg",ofe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M11.972 3.066H5.354c-.615 0-1.288.417-1.288 1.033v8.177c0 .615.673 1.246 1.288 1.246h.83v1.397L7.316 13.8l1.25 1.119v-1.397h3.406c.614 0 .962-.631.962-1.246V4.1c0-.616-.347-1.033-.962-1.033zM12.14 4.1v6.379H5.522V3.86h6.45c.205 0 .168.034.168.239zm-.168 8.629H8.566v-.794H6.184v.794h-.83c-.205 0-.494-.247-.494-.452v-1.004h7.28v1.004c0 .205.037.452-.168.452z",fill:"currentColor"}),Ye.createElement("path",{d:"M11.972 3.066H5.354c-.615 0-1.288.417-1.288 1.033v8.177c0 .615.673 1.246 1.288 1.246h.83v1.397L7.316 13.8l1.25 1.119v-1.397h3.406c.614 0 .962-.631.962-1.246V4.1c0-.616-.347-1.033-.962-1.033zM12.14 4.1v6.379H5.522V3.86h6.45c.205 0 .168.034.168.239zm-.168 8.629H8.566v-.794H6.184v.794h-.83c-.205 0-.494-.247-.494-.452v-1.004h7.28v1.004c0 .205.037.452-.168.452z"}),Ye.createElement("path",{d:"M6.912 4.654a.067.067 0 00-.066-.066h-.53a.067.067 0 00-.066.066v.53c0 .036.03.066.066.066h.53c.036 0 .066-.03.066-.066v-.53zm0 1.456a.067.067 0 00-.066-.066h-.53a.067.067 0 00-.066.066v.53c0 .036.03.066.066.066h.53c.036 0 .066-.03.066-.066v-.53zm0 1.456a.067.067 0 00-.066-.066h-.53a.067.067 0 00-.066.066v.53c0 .036.03.066.066.066h.53c.036 0 .066-.03.066-.066v-.53zm0 1.456a.067.067 0 00-.066-.066h-.53a.067.067 0 00-.066.066v.53c0 .036.03.066.066.066h.53c.036 0 .066-.03.066-.067v-.529z",fill:"currentColor"})))},lfe="#CCCCCC",cfe="#FFF";function dfe(){return dfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dfe.apply(this,arguments)}const{webappURL:ufe}=L.Z,pfe=e=>t=>{t.preventDefault(),t.stopPropagation(),e(t)};class mfe extends Ye.PureComponent{constructor(){super(...arguments),this.renderLoading=()=>Ye.createElement("div",{className:"zhc-workspace-switcher-item__loading"},Ye.createElement(U5,{modifiers:["no-outline","no-padding"],radius:7.5,stroke:2})),this.renderControls=()=>{const{isFavorite:e,hasName:t,onClickEdit:n,onClickFavorite:s,showFavoriteButton:r,showEditButton:i}=this.props,o=t?null:"Rename this workspace to favorite it";return Ye.createElement("div",{className:"zhc-workspace-switcher-item__controls"},i?Ye.createElement(Ope,{text:"Edit","data-cy":"edit",modifiers:["tight","show-on-hover"],onClick:pfe(n)}):null,r?Ye.createElement(YI,{content:o},Ye.createElement(Fse,{disabled:!t,isFavorite:e,"data-cy":"favorite",onClick:pfe(s),showOnHover:!e})):null)}}render(){const{href:e,title:t,subtitle:n,onClick:s,footer:r,isLoading:i,isCurrentWorkspace:o,isUntitled:a,orgName:l}=this.props,c=PI&&e?.includes(ufe),d=c?Ye.createElement(YI,{content:"This workspace can only be opened in the webapp"},Ye.createElement("span",{className:"zhc-workspace-switcher-item__workspace-tag"},Ye.createElement(Xpe,{content:"Not in GitHub",type:"outline"}))):null,u=o?Ye.createElement("span",{className:"zhc-workspace-switcher-item__workspace-tag"},Ye.createElement(Xpe,{content:"Current workspace",type:"outline"})):null,p=a?Ye.createElement("span",{className:"zhc-workspace-switcher-item__workspace-tag"},Ye.createElement(uue,{className:"zhc-workspace-switcher-item__workspace-labelItem",name:"Untitled",color:lfe,fontColor:cfe})):null;return Zne(e,Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhc-workspace-switcher-item__row"},Ye.createElement("div",{className:"zhc-workspace-switcher-item__header"},l&&Ye.createElement("div",{className:"zhc-workspace-switcher-item__supertitle"},l),Ye.createElement("div",{className:"zhc-workspace-switcher-item__title","data-cy":"item-title"},t,Ye.createElement("div",{className:"zhc-workspace-switcher-item__tags"},d,u,p)),n&&Ye.createElement("div",{className:"zhc-workspace-switcher-item__subtitle"},n)),i?this.renderLoading():this.renderControls()),r&&Ye.createElement("div",{className:"zhc-workspace-switcher-item__footer","data-cy":"workspace-switcher-footer"},r)),{forWebapp:!1,forExt:Boolean(c)},{className:"zhc-workspace-switcher-item",onClick:s})}}mfe.propTypes={title:SI().node.isRequired,onClickFavorite:SI().func.isRequired,footer:SI().node,hasName:SI().bool,href:SI().string,isCurrentWorkspace:SI().bool,isFavorite:SI().bool,isLoading:SI().bool,isUntitled:SI().bool,orgName:SI().string,showEditButton:SI().bool,showFavoriteButton:SI().bool,subtitle:SI().node,onClick:SI().func,onClickEdit:SI().func},mfe.defaultProps={hasName:!0,isFavorite:!1,isCurrentWorkspace:!1,isUntitled:!1,isLoading:!1,footer:null,subtitle:null,showFavoriteButton:!0,showEditButton:!1,onClick:_t.ZT,onClickEdit:_t.ZT,href:null,orgName:null};class hfe extends Ye.PureComponent{constructor(){super(...arguments),this.renderTitle=()=>{const{name:e,ownerName:t}=this.props;return Ye.createElement(Ye.Fragment,null,Ye.createElement(afe,null),t&&Ye.createElement("span",{className:"zhu-blankspace-right"},t," /"),Ye.createElement("span",null,e))}}render(){return Ye.createElement(mfe,dfe({title:this.renderTitle()},this.props))}}hfe.propTypes={name:SI().string.isRequired,ownerName:SI().string},hfe.defaultProps={ownerName:null};class Efe extends Ye.PureComponent{constructor(){super(...arguments),this.renderFooter=()=>{const{matchedRepos:e,matchReason:t,searchTerm:n}=this.props;return ee.kKJ(t)?null:"REPOSITORY"!==t||ee.kKJ(e)?Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,"Related to "),Ye.createElement("span",{className:"zhc-workspace-switcher-item__search-terms"},n)):Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,"Workspace with "),Ye.createElement("span",{className:"zhc-workspace-switcher-item__search-terms"},e.map((e=>`${e.organization}/${e.repository}`)).join(", ")))}}render(){return Ye.createElement(mfe,dfe({footer:this.renderFooter(),showEditButton:!0},this.props))}}Efe.propTypes={matchReason:SI().string.isRequired,searchTerm:SI().string.isRequired,matchedRepos:SI().arrayOf(SI().shape({}))},Efe.defaultProps={matchedRepos:null};const gfe="cubic-bezier(.25, .1, .24, 1)",ffe=e=>{const{entered:t=!1,header:n,children:s,onTransitionEnterFinish:r,isOpen:i,transitionDuration:o}=e;(0,Ye.useEffect)((()=>{r()}),[r,i]);const a=`transform 300ms ${gfe}`,l={entered:{transform:"translateX(0)"},entering:{},exiting:{},exited:{},unmounted:{}};return Ye.createElement(Kre.ZP,{in:t,timeout:{enter:0,exit:300},onEnter:()=>setTimeout(r,o)},(e=>Ye.createElement("div",{className:"zhc-workspace-switcher","data-cy":"workspace-switcher",style:{transition:a,transform:"translateX(-598px)",...l[e]}},n,Ye.createElement("div",{className:"zhc-workspace-switcher__content","data-cy":"workspace-switcher-content"},s))))},_fe=(SI().shape({isActive:SI().bool,isUser:SI().bool,ownerAvatar:SI().string}),SI().shape({description:SI().string,has_issues:SI().bool,owner:SI().shape({avatar_url:SI().string,events_url:SI().string,followers_url:SI().string,following_url:SI().string,gists_url:SI().string,gravatar_id:SI().string,html_utl:SI().string,id:SI().number,login:SI().string,organizations_url:SI().string,recieved_events_url:SI().string,site_admin:SI().bool,starred_url:SI().string,subscriptions_url:SI().string,type:SI().string,url:SI().string}),permissions:SI().shape({admin:SI().bool,pull:SI().bool,push:SI().bool}),private:SI().bool,repo_id:SI().number,repository:SI().string}),e=>{const{isOpen:t,onClose:n}=e;return Ye.createElement(Xre,{isOpen:t,onClose:n,modifiers:["workspace-switcher"],transitionDuration:400,transitionTiming:gfe},Ye.createElement(ffe,e))}),vfe="PR1UYm51GyAYnlGPOYNl",Ife="rZ3CWxABzlKTAl5QPu0H",bfe=e=>{let{className:t,isCompact:n=!1}=e;const s=(0,_I.default)(vfe,t,{[Ife]:n});return Ye.createElement("span",{className:s},"Untitled")},yfe=bfe;class Sfe extends Ye.PureComponent{render(){const{disableFavoriteButton:e,onClickFavorite:t,onClickEdit:n,isFavorite:s,workspaceDescription:r,workspaceName:i,workspaceNeedsRename:o}=this.props,a=Ye.createElement("div",{className:"zhc-current-workspace__name"},i),l=o?Ye.createElement(yfe,null):null,c=(0,_t.KN)(r)?null:Ye.createElement("div",{className:"zhc-current-workspace__description"},r),d=e?"Rename this Workspace to favorite it":null,u=Ye.createElement("div",{className:"zhc-current-workspace__controls"},Ye.createElement(Ope,{text:"Edit",modifiers:["tight"],onClick:n}),Ye.createElement(YI,{content:d},Ye.createElement(Fse,{isFavorite:s,disabled:e,onClick:t}))),p=Ye.createElement(bie,{modifiers:["center-text"]},Ye.createElement("span",{className:"zhc-current-workspace__cta",onClick:n},"Rename this workspace")," ","to better identifiy this set of Repos");return Ye.createElement("div",{className:"zhc-current-workspace"},Ye.createElement("div",{className:"zhc-current-workspace__top"},Ye.createElement("div",{className:"zhc-current-workspace__text-section"},Ye.createElement("div",{className:"zhc-current-workspace__header"},a,l),c),Ye.createElement("div",{className:"zhc-current-workspace__control-section"},u)),o&&p)}}Sfe.defaultProps={disableFavoriteButton:!1,onClickFavorite:_t.ZT,isFavorite:!1,workspaceDescription:null,workspaceName:null,workspaceNeedsRename:!1},Sfe.propTypes={onClickEdit:SI().func.isRequired,disableFavoriteButton:SI().bool,isFavorite:SI().bool,workspaceDescription:SI().string,workspaceName:SI().string,workspaceNeedsRename:SI().bool,onClickFavorite:SI().func};const wfe=e=>{let{children:t=null,title:n,onShowMore:s}=e;return(0,_t.KN)(t)||t.every(_t.KN)?null:Ye.createElement("div",{className:"zhc-workspace-switcher-section","data-cy":"workspace-switcher-section","data-testid":"workspace-switcher-section"},Ye.createElement("div",{className:"zhc-workspace-switcher-section__title","data-cy":"section-title","data-testid":"section-title"},n),Ye.createElement("div",null,t),s?Ye.createElement(Ope,{modifiers:["text","text-primary"],text:"Show More",onClick:s}):null)};class Rfe extends Ye.PureComponent{render(){const{href:e,children:t,target:n,...s}=this.props,r="_blank"===n;return Zne(`${OI.githubURL}${e}`,t,Vne(r,r),s)}}Rfe.defaultProps={target:null};const Tfe=n.p+"../../img/built/generic-blackhole.svg",Cfe=e=>{let{body:t=null,title:n="There is nothing here"}=e;return Ye.createElement("div",{className:"zhc-workspace-switcher-empty"},Ye.createElement(t7,{src:Tfe}),Ye.createElement("h3",{className:"zhc-workspace-switcher-empty__title"},n),t?Ye.createElement("p",{className:"zhc-workspace-switcher-empty__body"},t):Ye.createElement("p",{className:"zhc-workspace-switcher-empty__body"},"Switch to another organization or"," ",Ye.createElement(Rfe,{href:"/new",target:"_blank"},"create a new repo in GitHub"),"."))},kfe=(0,Ye.memo)(Cfe);function Ofe(){return Ofe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ofe.apply(this,arguments)}const Nfe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--repo",t].filter(Boolean).join(" "),"aria-label":"repo",role:"img",...n};return Ye.createElement("svg",Ofe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M5.213 9.438V8.5h.937v.938h-.937zm0-2.813v.938h.937v-.938h-.937zm0-1.875v.938h.937V4.75h-.937zm0-1.875v.938h.937v-.938h-.937zm8.437 10.313a.944.944 0 01-.937.937H8.025V15l-1.406-1.406L5.213 15v-.875H3.338a.944.944 0 01-.938-.938V1.938c0-.512.425-.937.938-.937h9.375c.512 0 .937.425.937.938v11.25zM3.338 11.312v1.876h1.875l-.02-1.28h2.813l.019 1.28h4.688v-1.876H3.338zm.937-9.374v8.437h8.438V1.937H4.275z",fill:"currentColor"})))};var Pfe=n(28186),Afe=n.n(Pfe);function Dfe(e,t,n){const s=ee.kKJ(e)?[]:ee.hXT(ee.vgT("selected"),e),r=ee.UID((e=>e.negated?`not:${e[t]}`:e[t]),s);return ee.xbD(r)?n:ee.v_p("\n",r)}function Lfe(e,t,n){const s=ee.HkC(ee.OH4("selected",!0),ee.CyQ(ee.vgT("disabled"))),r=ee.kKJ(e)?[]:ee.hXT(s,e);if(ee.xbD(r))return{buttonName:n,tooltipContent:n};const i=ee.jge(t,r),o=i.reduce(((e,t)=>[e,", ",t])),a=ee.xHg([o]),l=i.reduce(((e,t)=>[e,"\n",t]));return{buttonName:a,tooltipContent:Afe()(l)}}const zfe=(e,t)=>{let n;return n=(0,_t.KN)(t)?"":` (${e}/${t.length})`,`Repos${n}`};function Mfe(){return Mfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mfe.apply(this,arguments)}class xfe extends Ye.PureComponent{constructor(e){super(e),this.onToggleOpen=()=>{const{isActiveRepoDropdown:e}=this.state,{onDropdownToggle:t}=this.props;this.setState({isActiveRepoDropdown:!e}),t(!e)},this.resetSearch=()=>{const{clearSearch:e}=this.props;this.lastSearch="",e()},this.handleKey=e=>{const{searchTerm:t}=this.props;if("Escape"===e.key){if(""===t)return;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.resetSearch()}},this.debounceSearch=e=>{const{executeSearch:t,onSearchTermChange:n}=this.props,s=e.target.value;n(s),this.sendSearchTimeout&&clearInterval(this.sendSearchTimeout),this.sendSearchTimeout=setTimeout((()=>{clearInterval(this.sendSearchTimeout),this.inputHasChanged(s)&&(this.lastSearch=s,t(s))}),500)},this.lastSearch="",this.inputRef=Ye.createRef(),this.state={isActiveRepoDropdown:!1}}componentDidMount(){this.inputRef.current.focus()}componentDidUpdate(e){const{activeView:t,ownerName:n}=this.props;t===e.activeView&&n===e.ownerName||this.resetSearch()}inputHasChanged(e){return this.lastSearch.trim()!==e.trim()}render(){const{placeholder:e,repoList:t,onSelectRepo:n,isDropdownLoading:s,onDeselectRepo:r,searchTerm:i}=this.props,{isActiveRepoDropdown:o}=this.state,a=Lfe([],"title"),l=t&&t.map((e=>Ye.createElement(CEe,{key:e.repo_id,repo_id:e.repo_id,repo:e.repository,filterKey:e.repo_id,select:()=>{n(e)},deselect:()=>{r(e)},selected:e.selected})));return Ye.createElement("div",{className:"zhc-workspace-switcher-search"},Ye.createElement("div",{className:"zhc-workspace-switcher-search__container"},Ye.createElement("input",{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off","data-cy":"search",className:"zhc-workspace-switcher-search__input",name:"WorkspaceSwitcherSearch",type:"search",placeholder:e,ref:this.inputRef,spellCheck:"false",onChange:this.debounceSearch,onKeyDown:this.handleKey,value:i}),Ye.createElement("div",{className:"zhc-workspace-switcher-search__icon"},Ye.createElement(Woe,null))),Ye.createElement("div",{className:"zhc-workspace-switcher-search__repo-filter-dropdown","data-cy":"search-repo-filter"},Ye.createElement(kme,Mfe({},a,{allowNegatedSearch:!1,buttonIconComponent:Ye.createElement(Nfe,null),buttonName:"Filter by repos",emptyStateText:"No repos found",filterableChildProp:"repo",filterDefaultText:"Search repos",listTitle:"Filter workspaces by repos",isActive:o,toggleOpen:this.onToggleOpen,isLoading:s}),l)))}}xfe.defaultProps={placeholder:"Search for a workspace or repo"},xfe.propTypes={activeView:SI().string.isRequired,clearSearch:SI().func.isRequired,executeSearch:SI().func.isRequired,ownerName:SI().string.isRequired,searchTerm:SI().string.isRequired,onDeselectRepo:SI().func.isRequired,onDropdownToggle:SI().func.isRequired,onSearchTermChange:SI().func.isRequired,onSelectRepo:SI().func.isRequired,isDropdownLoading:SI().bool,placeholder:SI().string,repoList:SI().arrayOf(SI().shape({}))},xfe.defaultProps={repoList:null,isDropdownLoading:!1};const Ffe=xfe;class Ufe extends Ye.PureComponent{constructor(e){super(e),this.state={isDisplayed:0===e.delay},this.displayLoader=this.displayLoader.bind(this)}componentDidMount(){const{delay:e}=this.props,{isDisplayed:t}=this.state;t||(this.timeoutID=setTimeout(this.displayLoader,e))}componentWillUnmount(){clearTimeout(this.timeoutID)}displayLoader(){this.setState({isDisplayed:!0})}render(){const{children:e}=this.props,{isDisplayed:t}=this.state;return t?e:null}}Ufe.propTypes={children:SI().oneOfType([SI().arrayOf(SI().node),SI().node]).isRequired,delay:SI().number},Ufe.defaultProps={delay:1e3};const Bfe=Ufe,qfe=ee.qhW(ee.xbD,ee.R3I("background"));class Hfe extends Ye.PureComponent{render(){const{msg:e="",header:t="",spinnerModifiers:n=[],backgroundModifiers:s=[],spinnerRenderDelay:r=0}=this.props,i=ee.xbD(t)?null:Ye.createElement("div",{className:"zhc-loading__header"},t),o=ee.xbD(e)?null:Ye.createElement("div",{className:"zhc-loading__msg"},e),a=ee.xbD(t)&&ee.xbD(e)?null:Ye.createElement("div",{className:"zhc-loading__content"},i,o),l=qfe(s),c=(0,_t.DG)("zhc-loading",l);return Ye.createElement("div",{className:(0,_I.default)("zhc-loading",c)},Ye.createElement("div",{className:"zhc-loading__wrapper"},Ye.createElement(Bfe,{delay:r},Ye.createElement(F5,{modifiers:n})),a))}}const Wfe=Hfe;function jfe(){return jfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jfe.apply(this,arguments)}const Gfe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--person",t].filter(Boolean).join(" "),"aria-label":"person",role:"img",...n};return Ye.createElement("svg",jfe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M5.156 6.25c-.506 0-.926.396-.926.875V11.5h1.853l-.007 2.326c0 .479.42.875.927.875h1.853c.507 0 .926-.396.926-.875L9.79 11.5h1.853V7.125c0-.479-.42-.875-.927-.875h-5.56zm4.633 4.375v-1.75h-.927l-.006 4.951H7.003l.006-4.951h-.926v1.75h-.927v-3.5h5.56v3.5h-.927zM7.936 1c-1.38 0-2.499 1.057-2.499 2.36s1.12 2.36 2.499 2.36c1.38 0 2.499-1.057 2.499-2.36S9.315 1 7.935 1zM6.27 3.36c0-.873.742-1.573 1.666-1.573.924 0 1.666.7 1.666 1.573S8.86 4.933 7.936 4.933c-.924 0-1.666-.7-1.666-1.573z",fill:"currentColor"})))};function Kfe(){return Kfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kfe.apply(this,arguments)}const Vfe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--author",t].filter(Boolean).join(" "),"aria-label":"author",role:"img",...n};return Ye.createElement("svg",Kfe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.707 1.293l4 4a1 1 0 010 1.414l-10 10A1 1 0 0112 17H8a1 1 0 01-1-1v-4a1 1 0 01.293-.707l10-10a1 1 0 011.414 0zM18 15v4.3c0 .497-.203.7-.7.7H4.7c-.497 0-.7-.203-.7-.7V6.7c0-.497.203-.7.7-.7H9c.497 0 1-.503 1-1s-.503-1-1-1H4.7C2.997 4 2 5.005 2 6.7v12.6A2.7 2.7 0 004.7 22h12.6a2.7 2.7 0 002.7-2.7V15c0-.497-.503-1-1-1s-1 .503-1 1zm-9 0v-2.586l9-9L20.586 6l-9 9H9z",fill:"currentColor"}))};function $fe(){return $fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$fe.apply(this,arguments)}const Zfe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--tag",t].filter(Boolean).join(" "),"aria-label":"tag",role:"img",...n};return Ye.createElement("svg",$fe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M8.202 1.786A2.683 2.683 0 006.314 1h-2.64A2.682 2.682 0 001 3.674v2.64c0 .702.284 1.387.786 1.888l6.483 6.484a1.06 1.06 0 001.505 0l4.913-4.913a1.06 1.06 0 000-1.504L8.203 1.785zM2.471 7.517a1.641 1.641 0 01-.502-1.203v-2.64c0-.936.769-1.705 1.705-1.705h2.64c.452 0 .886.167 1.203.502l6.568 6.55-5.064 5.064-6.55-6.568zm.668-4.378h2.139v2.139H3.139V3.139z",fill:"currentColor"})))};function Yfe(){return Yfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yfe.apply(this,arguments)}const Jfe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--warning-outline-black",t].filter(Boolean).join(" "),"aria-label":"warning-outline-black",role:"img",...n};return Ye.createElement("svg",Yfe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M7 6.043h2v4H7zm0 5h2v2H7z",fill:"currentColor"}),Ye.createElement("path",{d:"M8.262 1.136a.3.3 0 00-.533-.001L.783 14.46a.3.3 0 00.266.439H14.86a.3.3 0 00.267-.437L8.262 1.136z",stroke:"currentColor",strokeWidth:1.4})))},Xfe="ASSIGNEE",Qfe="AUTHOR",e_e="LABEL",t_e="ESTIMATE",n_e="MILESTONE",s_e="EPIC",r_e="PROJECT",i_e="RELEASE",o_e="DEPENDENCY",a_e="REPO",l_e="SPRINT",c_e={[Xfe]:Ye.createElement(Gfe,null),[Qfe]:Ye.createElement(Vfe,null),[e_e]:Ye.createElement(Zfe,null),[t_e]:Ye.createElement(xoe,null),[n_e]:Ye.createElement(Zee,null),[s_e]:Ye.createElement(ere,null),[r_e]:Ye.createElement(Vee,null),[i_e]:Ye.createElement(nre,null),[o_e]:Ye.createElement(Jfe,null),[a_e]:Ye.createElement(Nfe,null),[l_e]:Ye.createElement(rre,null)},d_e=e=>{let{onClick:t,filterKey:n,negated:s=!1,type:r,text:i}=e;const o=(0,_I.default)("zhc-filter-tag__text",{"zhc-filter-tag__text--wide":"ESTIMATE"===r});return Ye.createElement("div",{className:"zhc-filter-tag",onClick:()=>{t({filterKey:n,negated:s})}},c_e[r],Ye.createElement("span",{className:o},s?Ye.createElement("b",null,"not:"):null,i),Ye.createElement(R7,null))},u_e="llPqFTo4qW7XRfh4M1UY",p_e=()=>Ye.createElement("div",null,Ye.createElement("p",{className:u_e},"This might be because the repo you are looking for is an organization with GitHub OAuth App access restrictions enabled."),Ye.createElement("p",null,"See how you can"," ",Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010369-granting-third-party-access-in-github-for-zenhub",target:"_blank",rel:"noreferrer"},"grant access to continue."))),m_e=[];class h_e extends Ye.PureComponent{constructor(){super(...arguments),this.handleWith=(e,t)=>n=>{e(t,n)},this.generateFilterTag=(e,t,n)=>Ye.createElement(d_e,{key:e,text:t,onClick:()=>n(e),filterKey:e,type:"REPO"}),this.renderQueryInfo=()=>{const{searchResultsType:e}=this.props;return Ye.createElement("div",{className:"zhc-workspace-switcher-query-info"},Ye.createElement("div",{className:"zhc-workspace-switcher-search-results__query-text","data-cy":"search-results-query"},e,this.getSearchTerm(),this.getRepoFiltersText()),this.getRepoFilters())},this.renderNoResults=()=>{const{activeView:e,filterRepos:t,onClickCreateWorkspace:n,searchResults:s}=this.props,{repos:r,workspaces:i}=s,o=Ye.createElement(Kpe,{handler:n,"data-cy":"create-new-workspace",text:"Create a new Workspace"});if(!(0,_t.KN)(r)||!(0,_t.KN)(i))return null;const a=t&&Object.keys(t),l=a&&a.length>1;return Ye.createElement("div",{className:"zhc-workspace-switcher-search-results__no-results"},Ye.createElement(t7,{className:"zhc-workspace-switcher-search-results__no-results__img",src:Tfe}),Ye.createElement("div",{className:"zhc-workspace-switcher-search-results__no-results__header","data-cy":"no-search-result"},"No matching results"),t&&a.length>0?Ye.createElement("div",{className:"zhc-workspace-switcher-search-results__no-results__description"},o," with ",l?"these":"this"," repo",l?"s":""):e===MV?Ye.createElement("div",{className:"zhc-workspace-switcher-search-results__no-results__description"},o):Ye.createElement(p_e,null))},this.renderRepoResults=()=>{const{getZenHubRepoPath:e,loadingRepo:t,searchResults:n,showFavoriteButton:s,onRepoClick:r,onFavoriteRepoClick:i,showOwner:o}=this.props;return(0,_t.KN)(n.repos)?null:n.repos.map((n=>{const a=e({organization:n.organization,repository:n.repository});return Ye.createElement(hfe,{href:a,key:n.repo_id,isLoading:n.repo_id===t,name:n.repository,ownerName:o?n.organization:null,isFavorite:n.favorite,showFavoriteButton:s,onClick:this.handleWith(r,n),onClickFavorite:i(n)})}))},this.renderWorkspaceResults=()=>{const{getZenHubWorkspacePath:e,searchResults:t,showFavoriteButton:n,onWorkspaceClick:s,onWorkspaceEditClick:r,onFavoriteWorkspaceClick:i}=this.props;return(0,_t.KN)(t.workspaces)?null:t.workspaces.map((o=>{const{workspace:a}=o,l=e(a);return Ye.createElement(Efe,{hasName:Boolean(a.name),href:l,key:a._id,title:a.displayName,subtitle:a.description,isFavorite:a.favorite,showFavoriteButton:n,matchReason:o.matchReason,matchedRepos:o.matchedRepos,searchTerm:t.searchTerm,onClick:this.handleWith(s,a),onClickEdit:this.handleWith(r,a),onClickFavorite:i(a)})}))}}componentDidUpdate(e){const{searchResults:t}=this.props;if(!ee.kKJ(t)){const n=t.searchTerm.trim();if(e.searchResults&&e.searchResults.searchTerm.trim()===n)return;m6(v6.SIDEBAR_WORKSPACE_SWITCH_SEARCH_RENDERED);const s=m_e.includes(n);m_e.includes(n)||m_e.push(t.searchTerm),E6([I6.SIDEBAR_WORKSPACE_SWITCH_SEARCH],(e=>[e.name,{Time:e.duration,isSubsequentSearch:s,searchTerm:n}]))}}getRepoFilters(){const{filterRepos:e,onFilterRepoRemoveClick:t,onClearFiltersClick:n}=this.props,s=Ye.createElement(Kpe,{handler:n,text:"Clear all filters"});if(!e||0===Object.keys(e).length)return null;const r=Object.entries(e).map((e=>this.generateFilterTag(e[0],e[1],t)));return Ye.createElement(Ye.Fragment,null," ",r," ",s)}getRepoFiltersText(){const{filterRepos:e}=this.props;return e&&0!==Object.keys(e).length?this.hasSearchTerm()?" and ":" with ":""}getSearchTerm(){const{searchResults:{searchTerm:e}}=this.props;return this.hasSearchTerm()?Ye.createElement(Ye.Fragment,null," ","with ",Ye.createElement("span",{className:"zhu-font-bold"},e)):null}hasSearchTerm(){const{searchResults:{searchTerm:e}}=this.props;return e&&e.length>0}render(){const{searchResults:e}=this.props;return ee.kKJ(e)?Ye.createElement(Wfe,{msg:"Loading ..."}):Ye.createElement(Ye.Fragment,null,this.renderQueryInfo(),Ye.createElement("div",{className:"zhc-workspace-switcher-search-results"},this.renderNoResults(),this.renderWorkspaceResults(),this.renderRepoResults()))}}const E_e=SI().shape({organization:SI().string.isRequired,repo_id:SI().number.isRequired,repository:SI().string.isRequired,favorite:SI().bool}),g_e=SI().shape({_id:SI().string.isRequired,description:SI().string,favorite:SI().bool,name:SI().string});h_e.propTypes={filterRepos:SI().shape({}).isRequired,getZenHubRepoPath:SI().func.isRequired,getZenHubWorkspacePath:SI().func.isRequired,searchResultsType:SI().string.isRequired,showFavoriteButton:SI().bool.isRequired,onClearFiltersClick:SI().func.isRequired,onClickCreateWorkspace:SI().func.isRequired,onFavoriteRepoClick:SI().func.isRequired,onFavoriteWorkspaceClick:SI().func.isRequired,onFilterRepoRemoveClick:SI().func.isRequired,onRepoClick:SI().func.isRequired,onWorkspaceClick:SI().func.isRequired,onWorkspaceEditClick:SI().func.isRequired,activeView:SI().oneOf(ee.VO0(C)),loadingRepo:SI().number,searchResults:SI().shape({searchTerm:SI().string.isRequired,repos:SI().arrayOf(E_e),workspaces:SI().arrayOf(SI().shape({matchReason:SI().string.isRequired,workspace:g_e}))}),showOwner:SI().bool},h_e.defaultProps={activeView:null,loadingRepo:null,searchResults:null,showOwner:!1};const f_e=h_e;function __e(){return __e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},__e.apply(this,arguments)}const v_e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--back-arrow",t].filter(Boolean).join(" "),"aria-label":"back-arrow",role:"img",...n};return Ye.createElement("svg",__e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("g",{fill:"currentColor",fillRule:"nonzero"},Ye.createElement("path",{d:"M5 9h8.517V7H5z"}),Ye.createElement("path",{d:"M8.364 11.485L6.95 12.9 2 7.95 6.95 3l1.414 1.414L4.828 7.95z"}))))},I_e=e=>{let{onClose:t,topLeft:n,topRight:s,children:r}=e;return Ye.createElement("div",{className:"zhc-workspace-switcher__header"},Ye.createElement("div",{className:"zhc-workspace-switcher__header__row"},Ye.createElement("div",{className:"zhc-workspace-switcher__header__top-left"},Ye.createElement("div",{className:"zhc-workspace-switcher__close","data-cy":"close",onClick:t},Ye.createElement(v_e,null)),n),s?Ye.createElement("div",{className:"zhc-workspace-switcher__header__top-right"},s):null),r)};I_e.propTypes={children:SI().node.isRequired,topLeft:SI().node.isRequired,onClose:SI().func.isRequired,topRight:SI().node},I_e.defaultProps={topRight:null};const b_e=I_e;function y_e(){return y_e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y_e.apply(this,arguments)}function S_e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{workspaceSwitcher:w_e,shared:R_e}=LG;class T_e extends Ye.PureComponent{constructor(e){var t;super(e),t=this,this.onSelectRepo=(e,t)=>{const{addRepoToSearchFilter:n}=this.props;n({repoId:e,repoName:t})},this.onDeselectRepo=e=>{const{removeRepoFromSearchFilter:t}=this.props;t(e)},this.customPlaceholder=()=>{const{activeView:e}=this.props;return e===MV?"Search for organization/repository":"Search for a workspace or repo"},this.executeSearch=e=>{const{executeSearch:t,executePrivateReposSearch:n,executePublicRepoSearch:s,ownerName:r,activeView:i,searchFilterRepos:o,clearSearch:a}=this.props;if(e.length||0!==Object.keys(o).length)switch(m6(v6.SIDEBAR_WORKSPACE_SWITCH_SEARCH_STARTED),i){case zV:n(e);break;case MV:s(e);break;default:t(r,e,Object.keys(o))}else a()},this.loadRepos=function(){var e,n=(e=function*(e){const{ownerName:n,userName:s,loadRepositories:r,reposLoaded:i,setReposLoaded:o}=t.props,{loadingRepos:a}=t.state;!e||i||a||(t.setState({loadingRepos:!0}),yield r(n,s),o(!0),t.setState({loadingRepos:!1}))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){S_e(i,s,r,o,a,"next",e)}function a(e){S_e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),this.state={loadingRepos:!1}}componentDidUpdate(e){const{searchFilterRepos:t,searchTerm:n,selectedOrganization:s,setReposLoaded:r,searchResults:i}=this.props;if(e.selectedOrganization!==s&&s)r(!1);else if(e.searchFilterRepos!==t){if(Object.keys(e.searchFilterRepos).length<Object.keys(t).length&&i&&0===i.workspaces.length)return;this.executeSearch(n)}}render(){const{repoList:e,searchTerm:t,setSearchTerm:n}=this.props,{loadingRepos:s}=this.state;return Ye.createElement(Ffe,y_e({},this.props,{placeholder:this.customPlaceholder(),executeSearch:this.executeSearch,repoList:e,onSelectRepo:e=>this.onSelectRepo(e.repo_id,e.repository),onDeselectRepo:e=>this.onDeselectRepo(e.repo_id),onDropdownToggle:this.loadRepos,isDropdownLoading:s,searchTerm:t,onSearchTermChange:n}))}}T_e.propTypes={activeView:SI().string.isRequired,addRepoToSearchFilter:SI().func.isRequired,clearSearch:SI().func.isRequired,executePrivateReposSearch:SI().func.isRequired,executePublicRepoSearch:SI().func.isRequired,executeSearch:SI().func.isRequired,loadRepositories:SI().func.isRequired,ownerName:SI().string.isRequired,removeRepoFromSearchFilter:SI().func.isRequired,reposLoaded:SI().bool.isRequired,searchFilterRepos:SI().shape({}).isRequired,searchTerm:SI().string.isRequired,setReposLoaded:SI().func.isRequired,setSearchTerm:SI().func.isRequired,userName:SI().string.isRequired,repoList:SI().arrayOf(SI().shape({})),searchResults:SI().shape({workspaces:SI().arrayOf(SI().shape({}))}),selectedOrganization:SI().shape({})},T_e.defaultProps={repoList:null,selectedOrganization:null,searchResults:null};const C_e=(0,l3.$j)((function(e){return{activeView:SV(e),ownerName:qV(e),searchFilterRepos:kV(e),searchTerm:OV(e),repoList:VV(e),reposLoaded:NV(e),userName:_u(e),selectedOrganization:yV(e),searchResults:TV(e)}}),(function(e){return{executeSearch:(t,n,s)=>{e(w_e.searchReposAndWorkspaces({ownerName:t,searchTerm:n,repoIds:s}))},addRepoToSearchFilter:t=>{e(w_e.addRepoToSearchFilter(t))},executePrivateReposSearch:t=>{e(w_e.searchPrivateRepos({searchTerm:t}))},executePublicRepoSearch:t=>{e(w_e.searchPublicRepos({searchTerm:t}))},clearSearch:()=>{e(w_e.clearSearch())},removeRepoFromSearchFilter:t=>{e(w_e.removeRepoFromSearchFilter(t))},loadRepositories:(t,n)=>e(R_e.getReposByOwner({currentUserName:n,ownerName:t})),setReposLoaded:t=>e(w_e.setReposLoaded(t)),setSearchTerm:t=>e(w_e.setSearchTerm(t))}}))(T_e),k_e=C_e,O_e=yEe((e=>{const{orgLogo:t,orgName:n,isUser:s,onOrgClick:r=_t.ZT,zhOrgId:i,showOrgLogo:o,labelClassname:a=""}=e,l=s?`@${n}`:n;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-org-dropdown-item",onClick:()=>{r(n,i)}},o?Ye.createElement(jpe,{type:mae.Org,url:t,size:32}):null,Ye.createElement("div",{className:`zhc-org-dropdown-item__label ${a}`},l))})),N_e=O_e,P_e=e=>{const{"data-cy":t,"data-testid":n,"data-zh-flyover":s,href:r,handler:i,iconComponent:o,title:a,isDefault:l,isDisabled:c,selected:d,caption:u,className:p}=e,m=l?Ye.createElement("span",{className:"zhu-tag-default"},"default"):null,h=ee.kKJ(r)?"div":"a",E=d?Ye.createElement("span",{className:"zhc-selection-list-item__selected-icon"},Ye.createElement(f5,null)):null,g=(0,_I.default)("zhc-selection-list-item zhc-selection-item",p,{"zhc-selection-item--is-disabled":c,"flex-wrap":Boolean(u)});return Ye.createElement(h,{onClick:c?e=>e.stopPropagation():i,className:g,href:r,"data-cy":t,disabled:c,"data-testid":n,"data-zh-flyover":s},o,a,m,E,u&&Ye.createElement("span",{className:"zhc-selection-list-item__caption"},Ye.createElement("div",{className:"zhc-svg-icon"})," ",u))};P_e.propTypes={title:SI().string.isRequired,caption:SI().string,className:SI().string,"data-cy":SI().string,"data-testid":SI().string,"data-zh-flyover":SI().string,handler:SI().func,href:SI().string,iconComponent:SI().node,isDefault:SI().bool,isDisabled:SI().bool,selected:SI().bool},P_e.defaultProps={"data-cy":null,caption:null,handler:null,href:null,iconComponent:null,isDefault:!1,isDisabled:!1,"data-testid":null,selected:!1,className:""};const A_e=P_e,D_e=A_e,L_e="ynp8Hw9satSwnWKSXg4D",z_e="vKgiqwcppW1lTMsPz9n3",M_e="i6ltP4Bk8sTwPjw3VL2q",x_e="LW1ggUMblgGtONMyAXg3",F_e="Vmdv74wXIrVcciBnzpkU",U_e="jizktC1wfTf7aDHTN8_w",B_e="ZmSUUDKc4MJ5viIY8O9W",q_e=e=>{let{avatarUrl:t=null,avatarSize:n=24,title:s,isAvatarOnly:r,showOrgAvatar:i,showButtonBorder:o,customButtonClass:a,isShorterButton:l,onButtonClick:c}=e;const d=(0,_I.default)(L_e,{[M_e]:o}),u=(0,_I.default)(z_e,{[B_e]:l},a);return Ye.createElement("div",{className:d},Ye.createElement(H5,{variant:z5.TEXT,className:u,onClick:c},r?Ye.createElement(jpe,{type:mae.Org,url:t,size:32}):Ye.createElement("span",{className:x_e},i?Ye.createElement(jpe,{className:U_e,type:mae.Org,url:t,size:n}):null,Ye.createElement("span",{className:F_e},s),Ye.createElement(gte,null))))},H_e="U4QJrnOEkdDNHHlelo8b",W_e=e=>{let{isPlatformUser:t,orgName:n}=e;return Ye.createElement(Ye.Fragment,null,t?null:Ye.createElement(D_e,{title:"Can't find your organization?",handler:()=>{window.open("https://help.zenhub.com/support/solutions/articles/43000010369-granting-third-party-access-in-github-for-zenhub","_blank")}}),Ye.createElement(D_e,{title:"Manage organizations",handler:()=>{window.open(`${L.Z.webappURL}/settings/o/${n||""}`,"_blank")}}))},j_e=e=>{const{className:t,customButtonClass:n,customTitle:s,footerComponent:r,isLogoOnly:i,isOrganizationView:o,isShorterButton:a,logoSize:l,onOrgClick:c,orgList:d,ownerAvatar:u,ownerName:p,position:m=kte.LEFT,showButtonBorder:h,showCloseButton:E,showManageOrgsButton:g,showOrgAvatar:f}=e,[_,v]=(0,Ye.useState)(!1),I=(0,l3.v9)(au),b=()=>{v(!_)},y=(0,Ye.useMemo)((()=>d?d.map((e=>Ye.createElement(N_e,{key:e.ownerName,onOrgClick:c,orgLogo:e.ownerAvatar,orgName:e.ownerName,isUser:e.isUser,selected:e.isActive,zhOrgId:e.zhOrgId,showOrgLogo:f}))):null),[d,c,f]),S=(0,_I.default)("zhc-dropdown",H_e,t);return Ye.createElement("div",{className:S},Ye.createElement(q_e,{onButtonClick:b,avatarSize:l,avatarUrl:u,customButtonClass:n,isShorterButton:a,showButtonBorder:h,showOrgAvatar:f&&"Choose organization"!==p,isAvatarOnly:i,title:p}),_?Ye.createElement(Qte,{elementsBelowFooterDivider:g?Ye.createElement(W_e,{isPlatformUser:I,orgName:d?.[0]?d[0].ownerName:""}):null,isActive:_,modifiers:["wide","custom"],position:m,showHeaderX:E,title:s??(o?"Organizations in ZenHub":"Organizations with access to ZenHub"),toggleOpen:b,footer:r},y):null)},G_e=j_e;function K_e(){return K_e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},K_e.apply(this,arguments)}const{workspaceSwitcher:V_e,pages:$_e}=LG,Z_e=(0,pa.P1)([Eu,_u,wu],ru),Y_e=(0,pa.P1)(Lw,qV,_u,wu,SV,HV,((e,t,n,s,r,i)=>{if(ee.kKJ(e))return null;const o=r===DV;return ee.zGw(ee.UID((e=>({ownerName:e.login,ownerAvatar:e.avatar_url,isActive:ee.pe1(ee.t$q,e.login,t)&&o}))),ee.R3I({ownerName:n,ownerAvatar:s,isActive:ee.pe1(ee.t$q,n,t)&&o&&!i,isUser:!0}))(ee.VO0(e))})),J_e=(0,pa.P1)(SV,qV,HV,((e,t,n)=>{switch(e){case MV:return"Open source repos";case zV:return"Private repos you have access to";default:return n?"Choose organization":t}})),X_e=(0,pa.P1)(SV,HV,(e=>{switch(e){case MV:case zV:return!1;default:return!0}}));class Q_e extends Ye.PureComponent{constructor(){super(...arguments),this.onOrgClick=e=>{const{clearSAMLError:t,isOrganizationView:n,ownerId:s,selectOrganization:r,currentOrgHasSAMLError:i,userAsOrg:o,userOrgs:a}=this.props;i&&t();const l=ee.VO0(a),c=ee.R3I(o,l),d=ee.sEJ((t=>ee.pe1(ee.t$q,e,t.login)),c);s===d.id&&n||r(d)}}render(){const{orgDropdownTitle:e,onPrivateReposClick:t,onOpenSourceClick:n}=this.props,s=Ye.createElement(Ye.Fragment,null,t?Ye.createElement(D_e,{title:"Private repos you have access to ",handler:t}):null,n?Ye.createElement(D_e,{title:"Open source repos",handler:n}):null);return Ye.createElement(G_e,K_e({},this.props,{onOrgClick:this.onOrgClick,ownerName:e,position:kte.LEFT,footerComponent:s,showManageOrgsButton:!0}))}}const eve=SI().shape({avatar_url:SI().string,description:SI().string,id:SI().number,isUser:SI().bool,login:SI().string,ownerId:SI().number,url:SI().string});Q_e.defaultProps={ownerId:null,userAsOrg:{},userOrgs:[],onPrivateReposClick:null,onOpenSourceClick:null},Q_e.propTypes={clearSAMLError:SI().func.isRequired,currentOrgHasSAMLError:SI().bool.isRequired,isOrganizationView:SI().bool.isRequired,isPlatformUser:SI().bool.isRequired,orgDropdownTitle:SI().string.isRequired,selectOrganization:SI().func.isRequired,ownerId:SI().number,userAsOrg:eve,userOrgs:SI().objectOf(eve),onOpenSourceClick:SI().func,onPrivateReposClick:SI().func};const tve=(0,l3.$j)((function(e){return{currentOrgHasSAMLError:el(e),orgDropdownTitle:J_e(e),ownerId:BV(e),ownerName:qV(e),ownerAvatar:WV(e),orgList:Y_e(e),userOrgs:Lw(e),userAsOrg:Z_e(e),showOrgAvatar:X_e(e),isOrganizationView:GV(e),isPlatformUser:au(e)}}),(function(e){const t=(0,mr.DE)({selectOrganization:V_e.selectOrganization,clearSAMLError:$_e.clearError},e);return ee.TSy(t,{onOpenSourceClick:()=>{e(V_e.setActiveView(MV))},onPrivateReposClick:()=>{e(V_e.setActiveView(zV))}})}))(Q_e),nve=tve,sve=(0,pa.P1)(SV,(e=>{switch(e){case MV:case zV:return"Repositories";default:return"Workspaces"}})),rve=(0,pa.P1)(SV,(e=>{switch(e){case MV:case zV:return!0;default:return!1}}));const ive=(0,l3.$j)((function(e){return{loadingRepo:wV(e),showFavoriteButton:GV(e),showOwner:rve(e),searchResults:TV(e),searchResultsType:sve(e),userName:_u(e),filterRepos:kV(e)}}),(function(e,t){return{onRepoClick:(e,n)=>{t.trackSearchedItem({itemType:"Repo",workspaceId:null,repoId:e.repo_id}),t.onRepoClick(e.repo_id,e.repository)(n)},onWorkspaceClick:(e,n)=>{t.trackSearchedItem({itemType:"Workspace",workspaceId:e._id,repoId:null}),t.onWorkspaceClick(e)(n)},onWorkspaceEditClick:e=>{t.onWorkspaceEditClick(e)()}}}))(f_e),ove=ive;var ave=n(76902);const lve=(0,ave.B)(fy,{options:{variables:{count:10}},name:"recentWorkspacesData"}),cve={},dve=bb.Ps`
  query getFavoriteWorkspaces {
    viewer {
      id
      workspaceFavorites {
        nodes {
          id
          workspace {
            ...CurrentWorkspace
          }
        }
      }
    }
  }
  ${py}
`;const uve=(0,ave.B)(dve,{name:"favoriteWorkspacesData"}),{pages:pve,shared:mve,workspaceSwitcher:hve,onboarding:Eve}=LG,gve=ee.HK3(ee.vgT("id")),fve=ee.HCG([ee.Ck5(ee.vgT("favoritedAt")),ee.zU3(ee.vgT("name"))]),_ve=ee.zGw(ee.TSy,ee.VO0,fve),vve=ee.WAo(((e,t)=>ee.YjB(ee.o5F("id",t),e))),Ive=(0,pa.P1)(PV,AV,((e,t)=>[e,t].every(ee.CyQ(ee.kKJ))));function bve(e,t){if(ee.kKJ(e)||ee.kKJ(t))return null;const n=ee.jge("repo_id",e),s=ee.gxm(ee.jCC(ee.r3W(ee.__,n),"repo_id"),ee.yGi("favorite",!0));return ee.UID(s,t)}let yve=!0;const Sve=e=>{let t=e.zenhubOrganization?.name;if(!t){const n=e.repos.find((t=>t.repo_id===e.defaultRepoId));t=n.organization||""}return t};class wve extends Ye.PureComponent{constructor(e){var t;super(e),t=this,this.onClose=()=>{const{onClose:e,selectedOwnerDifferentFromActive:t}=this.props;this.favWorkspaceData={},e(t)},this.onRepoClick=(e,t)=>n=>{const{navigateToWorkspaceFromRepo:s,shouldRedirectToGH:r,userName:i}=this.props;n.stopPropagation();Dne(n)||(n.preventDefault(),s({repoId:e,repoName:t,userName:i,shouldRedirectToGH:r}))},this.onFrequentlyVisitedWorkspaceClick=e=>t=>{const{trackFrequentlyVisitedItem:n}=this.props;n({itemType:"Workspace",repoId:null,workspaceId:e}),this.onWorkspaceClick()(t)},this.onRecentRepoClick=(e,t)=>n=>{const{trackRecentRepoItem:s}=this.props;s({repoId:e}),this.onRepoClick(e,t)(n)},this.onWorkspaceClick=()=>e=>{Dne(e)||this.onClose()},this.onCurrentWorkspaceClick=e=>{const{currentWorkspaceId:t,trackFrequentlyVisitedItem:n}=this.props;n({type:"Workspace",workspaceId:t,repoId:null}),e.preventDefault(),this.onClose()},this.onWorkspaceEditClick=e=>()=>{const t=e._id,{openWorkspaceEditor:n}=this.props;n({workspaceId:t})},this.onFavoriteWorkspaceClick=e=>()=>{const{currentWorkspaceId:t,updateCurrentWorkspace:n,deleteFavoriteWorkspace:s,addFavoriteWorkspace:r}=this.props;e.favorite?s({activeWorkspaceId:t,workspace:e}):r({activeWorkspaceId:t,workspace:e}),t===e._id&&n({favorite:!e.favorite})},this.onClearFilterRepos=()=>{const{clearRepoSearchFilter:e,clearSearch:t}=this.props;e(),t()},this.onClickCreateWorkspace=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{dismissCreateWorkspaceAlert:n,openWorkspaceCreator:s,trackCreateNewWorkspaceButton:r}=t.props;n(),r(),s(e)},this.onClickCreateWorkspaceWithRepos=()=>{const{filterRepos:e}=this.props;this.onClickCreateWorkspace(Object.keys(e))},this.onFavoriteRepoClick=e=>()=>{const{addFavoriteRepo:t,currentWorkspace:n,deleteFavoriteRepo:s,ownerId:r}=this.props,i=n?n.repos[0].repo_id:null;e.favorite?(this.removeRecentRepoId(e.repo_id),s({repo:e,ownerId:r,activeRepoId:i})):(this.addRecentRepoId(e.repo_id),t({repo:e,ownerId:r,activeRepoId:i}))},this.getZenHubRepoPath=e=>{const{shouldRedirectToGH:t}=this.props;return F?ma.getZenHubTabPath(e):t?(e=>`${OI.githubURL}${ma.DANGEROUSLYGetZenHubTabPathWithTokens(e)}`)(e):ma.getRepoPath(e)},this.getZenHubWorkspacePath=e=>{const{shouldRedirectToGH:t}=this.props;return F?ma.getWorkspacePathWithRepo(e):t?(e=>`${OI.githubURL}${ma.DANGEROUSLYGetWorkspacePathWithRepoWithTokens(e)}`)(e):ma.getWorkspacePath(e)},this.getPrivateOrOpenRepoItem=e=>{const{isOrganizationView:t,loadingRepo:n}=this.props,s=this.getZenHubRepoPath({organization:e.organization,repository:e.repository});return Ye.createElement(hfe,{key:e.repo_id,href:s,isLoading:e.repo_id===n,name:e.repository,ownerName:e.organization,isFavorite:e.favorite,onClick:this.onRecentRepoClick(e.repo_id,e.repository),onClickFavorite:this.onFavoriteRepoClick(e),showFavoriteButton:t})},this.getWorkspaceItem=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=t.getZenHubWorkspacePath(e),r=Sve(e);return Ye.createElement(mfe,{href:s,key:e._id,title:e.displayName,subtitle:e.description,isFavorite:e.favorite,hasName:Boolean(e.name),onClick:t.onFrequentlyVisitedWorkspaceClick(e._id),onClickEdit:t.onWorkspaceEditClick(e),onClickFavorite:t.onFavoriteWorkspaceClick(e),showEditButton:!0,orgName:n?r:void 0})},this.getCurrentWorkspaceItem=()=>{const{currentWorkspace:e,currentWorkspaceNeedsRename:t}=this.props;if(ee.kKJ(e))return null;const n=this.getZenHubWorkspacePath(e),s=Sve(e);return Ye.createElement(mfe,{href:n,key:e._id,title:e.displayName,subtitle:e.description,isFavorite:e.favorite,hasName:Boolean(e.name),onClick:this.onCurrentWorkspaceClick,onClickFavorite:this.onFavoriteWorkspaceClick(e),onClickEdit:this.onWorkspaceEditClick(e),isUntitled:t,isCurrentWorkspace:!0,showEditButton:!0,orgName:s})},this.getRecentRepoItem=e=>{const{loadingRepo:t}=this.props,n=this.getZenHubRepoPath({organization:e.ownerName,repository:e.name});return Ye.createElement(hfe,{href:n,isLoading:e.repo_id===t,key:e.repo_id,name:e.name,isFavorite:e.favorite,onClick:this.onRecentRepoClick(e.repo_id,e.name),onClickFavorite:this.onFavoriteRepoClick(e)})},this.addRecentRepoId=e=>{this.recentlyFavoritedRepos={...this.recentlyFavoritedRepos,[e]:!0}},this.removeRecentRepoId=e=>{this.recentlyFavoritedRepos=Object.keys(this.recentlyFavoritedRepos).reduce(((t,n)=>n===e?t:{...t,[n]:!0}),{})},this.combineFavoriteData=(e,t)=>{const{ownerId:n}=this.props,s=ee.UID(ee.yGi("favorite",!1),this.favWorkspaceData),r=e&&e.filter((e=>!this.recentlyFavoritedRepos[e.repo_id]||s[e.repo_id])),i=ee.UID((e=>ee.TSy(e,{id:e.repo_id,name:e.cached_repo_name,isRepo:!0,favorite:!0,favoritedAt:ee.Uth(e.created_at,"favoritedAt",s[e.repo_id]),orgId:e.gh_org_id})),r||[]),o=ee.UID((e=>ee.TSy(e,{id:e.id,isWorkspace:!0,favorite:!0,orgId:e.orgId||n,zenhubOrganization:e.zenhubOrganization,favoritedAt:ee.Uth(e.favoritedAt,"favoritedAt",s[e.id])})),t||[]),a=gve(ee.zoF(i,o)),l=ee.XPQ(a),c=ee.eiS(l,a),d=ee.zGw(_ve,ee.hXT(ee.OH4("orgId",n)),ee.d1t(ee.jCC(Vt.Z.isNilOrEmpty,"name")))(s,c);return this.favWorkspaceData=gve(d),d},this.fetchData=()=>{const{dispatch:e,userName:t,ownerId:n,ownerName:s,favoriteWorkspacesData:r}=this.props;!function(e,t,n,s,r){e(mve.getUserOrgs()),e(hve.loadRecentRepos({userName:t,ownerName:s})),e(hve.loadFavoriteRepos({org_id:n})),e(mve.loadPrivateRepos()),e(mve.loadUserRecentRepos(t)),e(hve.loadFavoriteWorkspaces(n)),r?.refetch?.()}(e,t,n,s,r)},this.isCurrentRepoFavorite=()=>{const{currentWorkspace:e,isFavoriteRepo:t}=this.props;return e?ha.dy(e)?t:e.favorite:null},this.filterCurrentWorkspace=e=>{const{currentWorkspace:t}=this.props;return ee.kKJ(t)?e:e.filter((e=>e._id!==t._id))},this.renderDefaultChildren=()=>{const{areRecentsAndFavoritesReady:e,currentWorkspace:t,favoriteRepoList:n,favoriteWorkspacesData:s,recentRepos:r,recentWorkspacesData:i,selectedOwnerDifferentFromActive:o,isPlatformUser:a}=this.props,l=(s.viewer?.workspaceFavorites?.nodes||[]).map((e=>(0,ha.DS)(e.workspace))),c=this.combineFavoriteData(n,l,r,[]),d=(i?.recentlyViewedWorkspaces?.nodes||[]).map((e=>(0,ha.DS)(e)));if((!e||s?.loading||i?.loading)&&!a)return Ye.createElement(Wfe,{msg:"Loading ..."});if([c,...r,...d].every(ee.xbD))return Ye.createElement(kfe,null);const u=t&&!o,p=ee.HK3(ee.vgT("_id"),l);return Ye.createElement("div",null,Ye.createElement(wfe,{title:"Frequently visited"},u?this.getCurrentWorkspaceItem():null,this.filterCurrentWorkspace(l).map((e=>this.getWorkspaceItem(e,!0))),this.filterCurrentWorkspace(d).map((e=>p[e._id]?null:this.getWorkspaceItem(e,!0)))),Ye.createElement(wfe,{title:"Recent repos"},r.map(this.getRecentRepoItem)))},this.renderOpenSourceChildren=()=>{const{recentPublicRepos:e}=this.props;return 0===e.length?Ye.createElement(kfe,{title:"Explore public repos",body:"Search by public repo or organization name"}):Ye.createElement("div",null,Ye.createElement(wfe,{title:"Recently viewed repos"},ee.UID(this.getPrivateOrOpenRepoItem,e)))},this.renderPrivateReposChildren=()=>{const{privateRepos:e,recentPrivateRepos:t}=this.props;let n=[];return e&&t&&(n=ee.zGw(ee.d1t(vve(t)),ee.zoF(t),ee.qnb(5))(e)),0===n.length?Ye.createElement(kfe,null):Ye.createElement(wfe,{title:"Recently viewed repos"},ee.UID(this.getPrivateOrOpenRepoItem,n))},this.renderView=()=>{const{activeView:e,onFilterRepoRemoveClick:t,searchIsActive:n,trackSearchedItem:s}=this.props;let r=null;if(n)return Ye.createElement(ove,{activeView:e,getZenHubRepoPath:this.getZenHubRepoPath,getZenHubWorkspacePath:this.getZenHubWorkspacePath,onFavoriteWorkspaceClick:this.onFavoriteWorkspaceClick,onFavoriteRepoClick:this.onFavoriteRepoClick,onRepoClick:this.onRepoClick,onWorkspaceClick:this.onWorkspaceClick,onWorkspaceEditClick:this.onWorkspaceEditClick,onFilterRepoRemoveClick:t,onClearFiltersClick:this.onClearFilterRepos,createWorkspace:()=>this.onClickCreateWorkspace(),onClickCreateWorkspace:this.onClickCreateWorkspaceWithRepos,trackSearchedItem:s});switch(e){case MV:r=this.renderOpenSourceChildren();break;case zV:r=this.renderPrivateReposChildren();break;default:r=this.renderDefaultChildren()}return r},this.renderHeader=()=>Ye.createElement(b_e,{onClose:this.onClose,topLeft:Ye.createElement(nve,null),topRight:this.renderTopRightElm()},Ye.createElement(k_e,null)),this.renderTopRightElm=()=>{const{activeView:e}=this.props;switch(e){case MV:case zV:return null;default:return Ye.createElement(Ope,{className:"zhc-workspace-switcher__create-workspace",text:"Create new workspace","data-cy":"create-workspace",modifiers:["action"],onClick:()=>this.onClickCreateWorkspace()})}},this.favWorkspaceData={},this.recentlyFavoritedRepos={},this.performanceEndMarked=!1}componentDidMount(){m6(v6.SIDEBAR_WORKSPACE_SWITCH_OPENED)}componentDidUpdate(e){const{ownerName:t,isOpen:n,isOrganizationView:s,areRecentsAndFavoritesReady:r,currentOrgHasSAMLError:i}=this.props;!e.currentOrgHasSAMLError&&i&&this.onClose(),(e.ownerName!==t||!e.isOrganizationView&&s)&&this.fetchData(),n||(this.recentlyFavoritedRepos={}),r&&!this.performanceEndMarked&&(m6(v6.SIDEBAR_WORKSPACE_SWITCH_INITIAL_LOADED),E6([I6.SIDEBAR_WORKSPACE_SWITCH_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!yve}])),this.performanceEndMarked=!0)}componentWillUnmount(){yve=!1}render(){const{activeView:e,isOpen:t}=this.props;return Ye.createElement(_fe,{activeView:e,isOpen:t,onClose:this.onClose,header:this.renderHeader(),onTransitionEnterFinish:this.fetchData},this.renderView())}}wve.defaultProps={currentWorkspace:null,currentWorkspaceId:null,currentWorkspaceNeedsRename:!1,favoriteRepoList:[],favoriteWorkspacesData:{},isFavoriteRepo:!1,isOpen:!1,loadingRepo:null,privateRepos:[],recentRepos:[],recentPrivateRepos:[],recentPublicRepos:[],recentWorkspacesData:null,selectedOwnerDifferentFromActive:!1,shouldRedirectToGH:!1},wve.propTypes={activeView:SI().oneOf(ee.VO0(C)).isRequired,addFavoriteRepo:SI().func.isRequired,addFavoriteWorkspace:SI().func.isRequired,areRecentsAndFavoritesReady:SI().bool.isRequired,clearRepoSearchFilter:SI().func.isRequired,clearSearch:SI().func.isRequired,currentOrgHasSAMLError:SI().bool.isRequired,deleteFavoriteRepo:SI().func.isRequired,deleteFavoriteWorkspace:SI().func.isRequired,dismissCreateWorkspaceAlert:SI().func.isRequired,dispatch:SI().func.isRequired,filterRepos:SI().shape({}).isRequired,isOrganizationView:SI().bool.isRequired,isPlatformUser:SI().bool.isRequired,navigateToWorkspaceFromRepo:SI().func.isRequired,openWorkspaceCreator:SI().func.isRequired,openWorkspaceEditor:SI().func.isRequired,ownerId:SI().number.isRequired,ownerName:SI().string.isRequired,searchIsActive:SI().bool.isRequired,trackCreateNewWorkspaceButton:SI().func.isRequired,trackFrequentlyVisitedItem:SI().func.isRequired,trackRecentRepoItem:SI().func.isRequired,trackSearchedItem:SI().func.isRequired,updateCurrentWorkspace:SI().func.isRequired,userName:SI().string.isRequired,onClose:SI().func.isRequired,onFilterRepoRemoveClick:SI().func.isRequired,currentWorkspace:SI().shape({_id:SI().string,description:SI().string,displayName:SI().string,favorite:SI().bool,name:SI().string,repos:SI().arrayOf(SI().shape({repo_id:SI().number})),zenhubOrganization:SI().shape({id:SI().string,name:SI().string})}),currentWorkspaceId:SI().string,currentWorkspaceNeedsRename:SI().bool,favoriteRepoList:SI().arrayOf(SI().shape({cached_repo_name:SI().string,repo_id:SI().number})),favoriteWorkspacesData:SI().shape({loading:SI().bool,refetch:SI().func,viewer:SI().shape({workspaceFavorites:SI().shape({nodes:SI().arrayOf(SI().shape({workspace:SI().shape({id:SI().string,name:SI().string})}))})})}),isFavoriteRepo:SI().bool,isOpen:SI().bool,loadingRepo:SI().number,privateRepos:SI().arrayOf(SI().shape({})),recentPrivateRepos:SI().arrayOf(SI().shape({})),recentPublicRepos:SI().arrayOf(SI().shape({})),recentRepos:SI().arrayOf(SI().shape({access_at:SI().string,isPrivate:SI().bool,name:SI().string,ownerName:SI().string,repo_id:SI().number})),recentWorkspacesData:SI().shape({loading:SI().bool,recentlyViewedWorkspaces:SI().shape({nodes:SI().arrayOf(SI().shape({id:SI().string,name:SI().string,zenhubOrganization:SI().shape({id:SI().string,name:SI().string})}))})}),selectedOwnerDifferentFromActive:SI().bool,shouldRedirectToGH:SI().bool};const Rve=(0,l3.$j)((function(e){const t=AV(e),n=PV(e),s=(0,pa.P1)([Ga,Da],((e,t)=>e&&t&&!(1===t.length))),r=Pa(e),i=ka(e),o=(0,pa.P1)([s],(e=>!i&&e));return{currentOrgHasSAMLError:el(e),currentWorkspace:Na(e),currentWorkspaceDescription:Ma(e),currentWorkspaceId:r,currentWorkspaceNeedsRename:s(e),disableFavoriteCurrentWorkspace:o(e),selectedOwnerDifferentFromActive:Qa(e)!==qV(e),areRecentsAndFavoritesReady:Ive(e),ownerName:qV(e),userOrgs:Lw(e),filterRepos:kV(e),favoriteRepoList:n,isFavoriteRepo:Ca(e),isFavoriteWorkspace:i,isOpen:bV(e),loadingRepo:wV(e),ownerId:BV(e),recentRepos:bve(n,t)||void 0,isOrganizationView:GV(e),isPlatformUser:au(e),userName:_u(e),activeView:SV(e),searchIsActive:RV(e),shouldRedirectToGH:Ta(e),privateRepos:Qw(e),recentPrivateRepos:nR(e),recentPublicRepos:sR(e),seeMoreFavoriteWorkspaces:CV(e)}}),(function(e){const t=(0,mr.DE)({addFavoriteRepo:hve.addFavoriteRepo,deleteFavoriteRepo:hve.deleteFavoriteRepo,navigateToWorkspaceFromRepo:hve.navigateToWorkspaceFromRepo,onClose:hve.close,openWorkspaceEditor:oZ.openFromWorkspaceId,openWorkspaceCreator:oZ.openWorkspaceCreator,setActiveView:hve.setActiveView,setSeeMoreFavoriteWorkspaces:hve.setSeeMoreFavoriteWorkspaces,addRepoToSearchFilter:hve.addRepoToSearchFilter,startSearch:hve.startSearch,onFilterRepoRemoveClick:hve.removeRepoFromSearchFilter,clearRepoSearchFilter:hve.clearRepoSearchFilter,clearSearch:hve.clearSearch,setSearchTerm:hve.setSearchTerm,trackFrequentlyVisitedItem:hve.trackFrequentlyVisitedItem,trackRecentRepoItem:hve.trackRecentRepoItem,trackSearchedItem:hve.trackSearchedItem,trackCreateNewWorkspaceButton:hve.trackCreateNewWorkspaceButton,updateCurrentWorkspace:pve.updateCurrentWorkspace,deleteFavoriteWorkspace:hve.deleteFavoriteWorkspace,addFavoriteWorkspace:hve.addFavoriteWorkspace},e);return ee.TSy(t,{dismissCreateWorkspaceAlert(){const t={key:"workspaces_create_workspace_alert_dismissed",value:!0};e(Eve.setOnboardingValue(t))},openDefaultView:()=>{e(hve.setActiveView(DV))},openSearchView:()=>{e(hve.setActiveView(LV))},dispatch:e})})),Tve=(0,mr.qC)(Rve,lve,uve)(((e,t)=>n=>e(n)?Ye.createElement(t,n):null)(ee.vgT("isOpen"),wve)),Cve={},kve=bb.Ps`
  query getWorkspacesOnZHOrg($zhOrgID: ID!) {
    node(id: $zhOrgID) {
      ... on ZenhubOrganization {
        id
        workspaces {
          nodes {
            ...CurrentWorkspace
            ...RepositoriesConnection
          }
        }
      }
    }
  }
  ${py}
  ${uy}
`;const Ove={},Nve=bb.Ps`
  query getZHUserOrganizations {
    viewer {
      id
      zenhubOrganizations {
        nodes {
          id
          name
        }
      }
    }
  }
`;const{workspaceSwitcher:Pve,onboarding:Ave}=LG,Dve=(e,t)=>{const n=(e?.name||"").toLowerCase(),s=(t?.name||"").toLowerCase();return n<s?-1:n>s?1:0},Lve=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(bV),n=(0,l3.v9)(xV),s=(0,l3.v9)(W$.isOpen),r=(0,l3.v9)(W$.workspaceFormType)===h$,i=(0,l3.v9)(Na),o=(0,Ye.useMemo)((()=>({...i,id:i?._id,isFavorite:i?.favorite})),[i]),[a,l]=(0,Ye.useState)(""),[c,d]=(0,Ye.useState)(n);(0,Ye.useEffect)((()=>{d(n)}),[n]);const{data:u,loading:p,refetch:m}=function(e){const t={...Ove,...e};return cy.a(Nve,t)}({skip:!t}),h=(0,Ye.useMemo)((()=>{const e=u?.viewer?.zenhubOrganizations?.nodes||[];return e.length||m(),e}),[u,m]),E=(0,Ye.useMemo)((()=>h.find((e=>{let{id:t}=e;return t===c}))||{id:c,name:""}),[c,h]),{data:g,loading:f,refetch:_}=function(e){const t={...Cve,...e};return cy.a(kve,t)}({variables:{zhOrgID:c},skip:!c||!t}),{data:v,loading:I}=function(e){const t={...gy,...e};return cy.a(fy,t)}({variables:{count:10}}),b=(0,Ye.useMemo)((()=>v?.recentlyViewedWorkspaces.nodes||[]),[v]);(0,Ye.useEffect)((()=>{!s&&t&&c&&_()}),[c,r,s,t,_]);const y=(0,Ye.useMemo)((()=>{if("ZenhubOrganization"===g?.node?.__typename){const e=[...g?.node?.workspaces.nodes||[]];return e.sort(Dve),e}return[]}),[g?.node]),S=(0,Ye.useMemo)((()=>a&&g?y.filter((e=>{let{name:t}=e;return t?.toLowerCase().includes(a.toLowerCase())})):[]),[y,g,a]),w=(0,Ye.useMemo)((()=>!!b&&b.some(((e,t)=>{const n=e?.zenhubOrganization?.id,s=b[t-1]?.zenhubOrganization?.id;return n!==c||t&&n!==s}))),[c,b]);return{currentWorkspace:o,currentWorkspaces:y,currentOrgWithoutWorkspaceInfo:E,handleClose:()=>e(Pve.close()),handleCreateWorkspace:()=>{const t={key:"workspaces_create_workspace_alert_dismissed",value:!0};e(Ave.setOnboardingValue(t)),e(Pve.trackCreateNewWorkspaceButton()),e(oZ.setCreateWorkspace()),e(oZ.open())},handleEditWorkspace:t=>()=>{e(oZ.setWorkspaceId(t)),e(oZ.setEditWorkspace()),e(oZ.open())},handleOpenWorkspace:()=>{},handleOrgChange:e=>d(e),isOpen:t,isLoading:p||f||I,recentWorkspaces:b,searchResults:S,searchTerm:a,setSearchTerm:l,showRecentWorkspaceOrgs:w,zhOrgDataWithoutWorkspaceInfo:h}},zve="wG1lrYEI2O4BDhFJangc",Mve="WEAq88zJI5PL3i_AWJOW",xve="U_n9dJNAeWOBe9gDB5da",Fve="GuARrHCX9bWW3rq5wCxx",Uve="_UiXOTXduBATHdixT2Mn",Bve="u5ngmStm0lIE0uLqj5YS",qve="gICci_dSpMCiaNC7Uxow",Hve="BVOhqoee2LAR4DY4dJ_k",Wve=Ye.forwardRef(((e,t)=>{let{autoComplete:n,autoFocus:s,className:r,containerClassname:i,dataTestId:o,disableIconClick:a,iconComponent:l,id:c,isDisabled:d,isInvalid:u=!1,isReadOnly:p=!1,maxLength:m,onChange:h,onClick:E,onBlur:g,placeholder:f,type:_,value:v=""}=e;const I=(0,_I.default)(Fve,i),b=(0,_I.default)(Uve,r,!l&&qve,u&&Bve,p&&Hve);return Ye.createElement("div",{className:I},l&&Ye.createElement("span",{className:(0,_I.default)(zve,a?xve:Mve),onClick:a?_t.ZT:E},l),Ye.createElement("input",{autoComplete:n,autoFocus:s,className:b,"data-testid":o,disabled:d,id:c,maxLength:m,onBlur:g,onChange:h,placeholder:f,readOnly:p,ref:t,type:_,value:v}))})),jve=Wve,Gve="kT6PkhXF1O5yeNl3Xhnx",Kve=e=>{let{searchTerm:t,setSearchTerm:n}=e;return Ye.createElement("div",{className:Gve},Ye.createElement(jve,{value:t,onChange:e=>n(e?.target?.value||""),placeholder:"Search for a workspace",iconComponent:Ye.createElement(Woe,null),type:"search",autoFocus:!0}))},Vve="c6dgrUWidDBtMABeIN5A",$ve="WoTRzR7lEj3IJNTiIKhj",Zve=()=>Ye.createElement("div",{className:Vve},Ye.createElement(U5,null),Ye.createElement("span",{className:$ve},"Loading workspaces ...")),Yve="_Nr1HK7kK9MaCxfW7Rjk",Jve="psGAf8JHfHh00AJ5sMcg",Xve="p62RrGVx7fMi0adkQYix",Qve=e=>{let{onCreateWorkspace:t}=e;return Ye.createElement("div",{className:Yve},Ye.createElement(t7,{src:Tfe,alt:"generic-blackhole"}),Ye.createElement("h3",{className:Jve},"There is nothing here"),Ye.createElement(H5,{onClick:t,height:A5.SHORT,variant:z5.TEXT,padding:M5.NONE},Ye.createElement("div",{className:Xve},"Create a new workspace")))},eIe="QXPlMbeEHRNyhOIVtJv7",tIe="dpeZ0oqTffRGJEhfIvBQ",nIe="DqAGdYAh0FNTJszp8qho",sIe="KPO_DwB0OaAhYCMD711e",rIe="AkN81iolaaOebqewSy5y",iIe=e=>{let{searchTerm:t}=e;return Ye.createElement("div",{className:eIe},Ye.createElement("div",{className:tIe},Ye.createElement("div",null,"Workspaces with"),Ye.createElement("div",{className:nIe},t)),Ye.createElement("div",{className:sIe},Ye.createElement(t7,{src:Tfe,alt:"generic-blackhole"}),Ye.createElement("h3",{className:rIe},"No matching results")))},oIe=e=>{let{currentWorkspaceId:t,handleEditWorkspace:n,handleOpenWorkspace:s,showOrgName:r,workspace:i,onClickFavorite:o}=e;const a=i?.id,l=(0,Ye.useCallback)((()=>{o&&o(i)}),[o,i]);return Ye.createElement(mfe,{href:(0,ma.getWorkspacePath)({_id:a,name:i?.name}),isFavorite:i?.isFavorite,onClick:()=>s(a),onClickEdit:n(a),onClickFavorite:l,title:i?.name,showEditButton:i?.isEditable,subtitle:i?.description,showFavoriteButton:!0,isCurrentWorkspace:t&&a===t,orgName:r?i?.zenhubOrganization?.name:null})},aIe=e=>{let{searchResults:t,searchTerm:n,onEditWorkspace:s,onOpenWorkspace:r}=e;return t.length?Ye.createElement(wfe,{title:`Workspaces with ${n}`},t.map((e=>Ye.createElement(oIe,{key:e.id,workspace:e,handleEditWorkspace:s,handleOpenWorkspace:r})))):Ye.createElement(iIe,{searchTerm:n})},lIe="U8FglAKoBD0zcNxvpa7M",cIe="fyM8bIGHA4JLF0s_RnmH",dIe="ik7BqTGQ0xQuWyYTz9g6",uIe="wJhDnx2aPHz3BgWcvtBi",pIe="v4V2nnCyEjlKpyLN9nfL",mIe=e=>{let{charCount:t=5}=e;return Ye.createElement("span",{className:"zhc-skeleton-text",style:{"--character-count":t}})},hIe=e=>{let{size:t,type:n,marginSize:s,roundedCorners:r=!1,animate:i=!0,className:o}=e;const a=(0,_I.default)("zhc-skeleton-row",{[`zhc-skeleton-row--size-${t}`]:t,[`zhc-skeleton-row--type-${n}`]:n,[`zhc-skeleton-row--margin-size-${s}`]:s,"zhc-skeleton-row--rounded-corners":r,"zhc-skeleton-row--static":!i},o);return Ye.createElement("div",{className:a})},EIe=e=>{let{className:t,withBorder:n=!1,children:s,marginSize:r}=e;const i=(0,_I.default)("zhc-skeleton-paragraph",t,{"zhc-skeleton-paragraph--with-border":n,[`zhc-skeleton-paragraph--margin-size-${r}`]:r});return Ye.createElement("div",{className:i},s)},gIe=e=>{let{marginSize:t="lg"}=e;const n=(0,_I.default)("zhc-skeleton-title",{[`zhc-skeleton-title--margin-size-${t}`]:t});return Ye.createElement("div",{className:n})},fIe=e=>{let{className:t,size:n="m",animate:s=!0}=e;const r=(0,_I.default)("zhc-skeleton-avatar",t,{[`zhc-skeleton-avatar--size-${n}`]:n,"zhc-skeleton-avatar--static":!s});return Ye.createElement("div",{className:r})},_Ie=e=>{let{animate:t=!0}=e;const n=(0,_I.default)("zhc-skeleton-estimate",{"zhc-skeleton-estimate--static":!t});return Ye.createElement("div",{className:n})},vIe=e=>{let{className:t,withBorder:n=!1,marginSize:s}=e;const r=(0,_I.default)("zhc-skeleton-avatar-description-container",t,{"zhc-skeleton-avatar-description-container--with-border":n});return Ye.createElement("div",{className:r},Ye.createElement(fIe,null),Ye.createElement(EIe,{marginSize:s},Ye.createElement(hIe,{size:"xs",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"s",type:"epic-issue-item"})))},IIe=e=>{let{withBorder:t=!1,className:n}=e;return Ye.createElement(EIe,{className:n,withBorder:t},Ye.createElement("div",{className:"zhc-skeleton-epic-issue-item"},Ye.createElement(hIe,{size:"s",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"xs",type:"epic-issue-item"})))},bIe=e=>{let{className:t,children:n,marginSize:s,withBorder:r=!1}=e;const i=(0,_I.default)("zhc-skeleton-content-box",t,{[`zhc-skeleton-content-box--margin-size-${s}`]:s,"zhc-skeleton-content-box--with-border":r});return Ye.createElement("div",{className:i},n)},yIe=e=>{let{withBorder:t=!1,firstRowSize:n,secondRowSize:s}=e;return Ye.createElement(EIe,{withBorder:t},Ye.createElement("div",{className:"zhc-skeleton-workspace-list-item"},Ye.createElement(hIe,{size:n,type:"workspace-list-item"}),Ye.createElement(hIe,{size:s,type:"workspace-list-item"})))},SIe=()=>Ye.createElement("div",{className:lIe}),wIe=()=>Ye.createElement("div",{className:cIe},Ye.createElement(SIe,null),Ye.createElement(SIe,null),Ye.createElement(SIe,null),Ye.createElement(SIe,null),Ye.createElement(SIe,null),Ye.createElement(SIe,null)),RIe=e=>{let{className:t,contentClassName:n,marginSize:s}=e;const r=(0,_I.default)("zhc-skeleton-board-issue-item",t);return Ye.createElement("div",{className:r},Ye.createElement(bIe,{className:n},Ye.createElement("div",{className:"zhc-skeleton-board-issue-item__title"},Ye.createElement(fIe,{size:"s"}),Ye.createElement(EIe,{marginSize:s},Ye.createElement(hIe,{size:"l",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"xxl",type:"epic-issue-item"}))),Ye.createElement("div",{className:"zhc-skeleton-board-issue-item__labels"},Ye.createElement(_Ie,null),Ye.createElement(hIe,{roundedCorners:!0,size:"s"}),Ye.createElement(hIe,{roundedCorners:!0,size:"xs"}))))},TIe=()=>Ye.createElement("div",{className:"zhc-skeleton-connected-issue-item"},Ye.createElement("div",{className:"zhc-skeleton-connected-issue-item__icon"}),Ye.createElement(EIe,{marginSize:"xxs"},Ye.createElement(hIe,{size:"s",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"xs",type:"epic-issue-item"}))),CIe=e=>{let{size:t="xxs",withMeta:n=!1,withPR:s=!1}=e;const r=Ye.createElement(bIe,null,Ye.createElement(bIe,{className:uIe,withBorder:!0},Ye.createElement(fIe,{size:"s",animate:!1}),Ye.createElement(EIe,{marginSize:t},Ye.createElement("div",null)," ")),Ye.createElement("div",{className:pIe}));return Ye.createElement("div",{className:"zhc-skeleton-board-issue-item"},Ye.createElement(bIe,null,Ye.createElement(fIe,{size:"s",animate:!1}),Ye.createElement(EIe,{marginSize:t},Ye.createElement("div",null)," ")),(n||s)&&Ye.createElement("div",{className:dIe}),s&&r)},kIe=()=>Ye.createElement("div",{className:"zhc-skeleton-org-selector"});function OIe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function NIe(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){OIe(i,s,r,o,a,"next",e)}function a(e){OIe(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{pages:PIe}=LG,AIe=()=>{const e=(0,l3.I0)(),[t]=function(e){const t={...yK,...e};return vK.D(SK,t)}(),[n]=function(e){const t={...IK,...e};return vK.D(bK,t)}(),s=(0,l3.v9)(Na),{data:r,loading:i}=function(e){const t={...cve,...e};return cy.a(dve,t)}(),o=e=>{H.Z.createToast(W.Z.TEXT_EXPIRING,{text:e})},a=t=>{e(PIe.updateCurrentWorkspace({favorite:t})),e(PIe.setIsFavoriteWorkspace(t))},l=function(){var e=NIe((function*(e){return t({variables:{input:{workspaceId:e}}}).then((()=>{e===s._id&&a(!1)})).catch((()=>{o("There was a problem removing this workspace from your favorites. Please try again later")}))}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=NIe((function*(e){return n({variables:{input:{workspaceId:e}}}).then((()=>{e===s._id&&a(!0)})).catch((()=>{o("There was a problem adding this workspace to your favorites. Please try again later")}))}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=NIe((function*(e){const t=e?.id;return t?e.isFavorite?l(t):c(t):null}));return function(t){return e.apply(this,arguments)}}();return{deleteWorkspaceFavorite:l,setWorkspaceFavorite:c,toggleWorkspaceFavorite:d,favoriteWorkspacesData:r,loading:i}};function DIe(){return DIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DIe.apply(this,arguments)}const LIe=e=>{let{children:t,isActive:n,listTitle:s,listDescription:r,modifiers:i,onClickClose:o,closeOnEsc:a,...l}=e;return n?Ye.createElement(Xre,{isOpen:!0,onClose:o,modifiers:["selection-list-fullscreen-deprecated"],closeOnEsc:a},Ye.createElement($te,DIe({},l,{modifiers:[Ote.FULL_SCREEN,...i],description:r,styleType:Ote.ITEMS_UNDERLINED,title:s,toggleOpen:o,closeOnEsc:a}),t)):null};LIe.propTypes={children:SI().node,closeOnEsc:SI().bool,isActive:SI().bool,listDescription:SI().node,listTitle:SI().string,modifiers:SI().arrayOf(SI().string),onClickClose:SI().func},LIe.defaultProps={modifiers:[]};const zIe=LIe;function MIe(){return MIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},MIe.apply(this,arguments)}class xIe extends Ye.PureComponent{render(){const{"data-cy":e,selectedOrganization:t,orgItems:n,onClickClose:s,onOrgClick:r,onClickAdd:i,onClickFindItem:o,selectedRepos:a,isAddRepoToWorkspaceLoading:l}=this.props,c=Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,className:"zhc-org-dropdown__search-item",onClick:o},Ye.createElement(Woe,null),"Find another repo"),d=ee.kKJ(t)?null:Ye.createElement(G_e,{customButtonClass:"merge-repo-selector",ownerName:t.login,ownerAvatar:t.avatar_url,orgList:n,onOrgClick:r,"data-cy":e,position:kte.TOP,showOrgAvatar:!0,showButtonBorder:!0,footerComponent:c,isShorterButton:!0});return Ye.createElement("div",{className:"zhc-multi-action-footer"},d,Ye.createElement("div",{className:"zhc-multi-action-footer__control"},Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:s},"Cancel"),Ye.createElement(kpe,{disabled:0===a.length||l,text:l?"Adding...":"Add","data-cy":"add",modifiers:["action","wide"],onClick:i})))}}xIe.defaultProps={"data-cy":null,orgItems:null,selectedOrganization:null,isAddRepoToWorkspaceLoading:!1},xIe.propTypes={selectedRepos:SI().arrayOf(SI().shape({})).isRequired,onClickAdd:SI().func.isRequired,onClickClose:SI().func.isRequired,onClickFindItem:SI().func.isRequired,onOrgClick:SI().func.isRequired,"data-cy":SI().string,isAddRepoToWorkspaceLoading:SI().bool,orgItems:SI().arrayOf(SI().shape({})),selectedOrganization:SI().shape({avatar_url:SI().string,login:SI().string})};class FIe extends Ye.PureComponent{constructor(){super(...arguments),this.getEmptyStateText=()=>{const{onClickFindItem:e,repoItems:t}=this.props,n=100*bS-200;return t&&t.length>n?Ye.createElement("div",null,"Can't find the repo you're looking for? Due to performance issues, you may need to"," ",Ye.createElement("span",{className:"zhu-cursor-pointer zhu-color-brand",onClick:e},"manually add the repo"),"."):"No repos found"}}renderTitleText(){const{selectedRepos:e,maxSelectedRepos:t}=this.props;return 0===e.length?Ye.createElement("span",{className:"zhu-font-bold"},"Select up to ",t," repos at a time"):Ye.createElement("span",{className:"zhu-font-bold"},e.length,"/",t," selected")}render(){const{selectedOrganization:e,repoItems:t,onClickAdd:n,onClickClose:s}=this.props,r=e?`${OI.githubURL}/${e.login}`:OI.githubURL,i=(0,_t.KN)(t)?Ye.createElement("div",{className:"zhc-multi-action-placeholder"},"There are no more available repos in this organization to add to this Workspace. Create a new one in"," ",Ye.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},"GitHub")):function(e,t){const{selectItem:n,deselectItem:s}=t;return ee.UID((e=>Ye.createElement(CEe,{key:e.repo_id,repo_id:e.repo_id,repo:e.repository,filterKey:e.repo_id,select:n,deselect:s,selected:e.selected,isDisabled:!e.permissions.push})),e)}(t,this.props),o=Ye.createElement(xIe,MIe({},this.props,{onClickClose:s,onClickAdd:n}));return Ye.createElement(zIe,MIe({},this.props,{allowNegatedSearch:!1,emptyStateText:this.getEmptyStateText(),filterableChildProp:"repo",filterDefaultText:"Search repos",footer:o,listDescription:"You can only add in batches of 5 repos at a time. You can add more repos to this workspace after.",titleJsx:this.renderTitleText(),onClickClose:s}),null===t?Ye.createElement(Fte,{text:"Loading..."}):i)}}const UIe=FIe;function BIe(){return BIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BIe.apply(this,arguments)}function qIe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function HIe(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){qIe(i,s,r,o,a,"next",e)}function a(e){qIe(i,s,r,o,a,"throw",e)}o(void 0)}))}}FIe.defaultProps={defaultRepo:null,repoItems:null,orgItems:null,selectedOrganization:null,selectedRepos:[]},FIe.propTypes={maxSelectedRepos:SI().number.isRequired,onClickAdd:SI().func.isRequired,onClickClose:SI().func.isRequired,onClickFindItem:SI().func.isRequired,onOrgClick:SI().func.isRequired,defaultRepo:SI().PropTypes.shape({}),orgItems:SI().arrayOf(SI().shape({id:SI().number.isRequired,isActive:SI().bool.isRequired,isUser:SI().bool.isRequired,ownerAvatar:SI().string.isRequired,ownerName:SI().string.isRequired})),repoItems:SI().arrayOf(SI().shape({})),selectedOrganization:SI().shape({avatar_url:SI().string,login:SI().string}),selectedRepos:SI().arrayOf(SI().shape({}))};const{shared:WIe}=LG,jIe=ee.CyQ(ee.kKJ);const GIe=(0,pa.P1)(W$.selectedOrganization,W$.orgList,(function(e,t){return ee.kKJ(e)||ee.kKJ(t)?null:ee.UID((t=>({ownerName:t.login,ownerAvatar:t.avatar_url,id:t.id,isActive:ee.t$q(e.login)===ee.t$q(t.login),isUser:t.isUser})))(t)})),KIe=(0,pa.P1)(Mw,W$.selectedRepos,(function(e,t){return jIe(e)&&jIe(t)}));class VIe extends Ye.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClickAdd=HIe((function*(){const{selectedRepos:t,onPrepRepos:n,workspaceId:s,onAddReposToWorkspace:r,isPlatformUser:i}=e.props;(0,_t.KN)(s)?n(t,s):r(t,s,i)})),this.onOrgClick=e=>{const{changeOrganization:t,orgList:n}=this.props;t(ee.sEJ((t=>ee.t$q(t.login)===ee.t$q(e)),n))},this.actionSelectedKey=(e,t)=>{const{repoList:n}=this.props;t(ee.sEJ(ee.OH4("repo_id",e),n))},this.selectItem=e=>{const{selectItem:t,selectedRepos:n,maxSelectedRepos:s,isLoadingRepo:r}=this.props;r||n.length>=s||this.actionSelectedKey(e.filterKey,t)},this.deselectItem=e=>{const{deselectItem:t}=this.props;this.actionSelectedKey(e.filterKey,t)}}UNSAFE_componentWillReceiveProps(e){const{selectedOrganization:t,currentOrgHasSAMLError:n}=this.props,{loadRepositories:s,selectedOrganization:r,userName:i,onClickClose:o}=e;!n&&e.currentOrgHasSAMLError&&o(),t!==r&&r&&s(r.login,i)}render(){const{orgListFormatted:e,repoList:t}=this.props;return Ye.createElement(UIe,BIe({},this.props,{onOrgClick:this.onOrgClick,orgItems:e,onClickAdd:this.onClickAdd,selectItem:this.selectItem,deselectItem:this.deselectItem,repoItems:t}))}}VIe.defaultProps={defaultRepo:null,onClickAdd:()=>{},orgList:null,orgListFormatted:null,repoList:null,selectedOrganization:null,selectedRepos:[],workspaceId:null},VIe.propTypes={changeOrganization:SI().func.isRequired,clearItems:SI().func.isRequired,currentOrgHasSAMLError:SI().bool.isRequired,deselectItem:SI().func.isRequired,isAddRepoToWorkspaceLoading:SI().bool.isRequired,isLoadingRepo:SI().bool.isRequired,isPlatformUser:SI().bool.isRequired,loadRepositories:SI().func.isRequired,maxSelectedRepos:SI().number.isRequired,selectItem:SI().func.isRequired,userName:SI().string.isRequired,onAddReposToWorkspace:SI().func.isRequired,onClickClose:SI().func.isRequired,onPrepRepos:SI().func.isRequired,defaultRepo:SI().shape({}),orgList:SI().arrayOf(SI().shape({})),orgListFormatted:SI().arrayOf(SI().shape({})),repoList:SI().arrayOf(SI().shape({})),selectedOrganization:SI().shape({login:SI().string}),selectedRepos:SI().arrayOf(SI().PropTypes.shape({})),workspaceId:SI().string,onClickAdd:SI().func};const $Ie=(0,l3.$j)((function(e){return{activeSelection:KIe(e),currentOrgHasSAMLError:el(e),defaultRepo:W$.defaultRepo(e),isActive:!0,maxSelectedRepos:W$.maxSelectedRepos(e),selectedRepos:W$.selectedRepos(e),selectedOrganization:W$.selectedOrganization(e),orgList:W$.orgList(e),orgListFormatted:GIe(e),repoList:W$.repoListSelector(e),userName:pu(e),isLoadingRepo:W$.isLoadingRepo(e),workspaceId:W$.workspaceId(e),isAddRepoToWorkspaceLoading:W$.isAddRepoToWorkspaceLoading(e),isPlatformUser:au(e)}}),(function(e){return{changeOrganization(t){e(oZ.selectMergeOrganization(t))},selectItem(t){e(oZ.selectMergeRepo({repository:t,organization:t.owner.login}))},deselectItem(t){e(oZ.deselectMergeRepo(t))},clearItems(){e(oZ.clearMergeRepos())},loadRepositories(t,n){e(WIe.getReposByOwner({currentUserName:n,ownerName:t}))},onClickClose(){e(oZ.clearMergeRepos()),e(oZ.setMergeRepoStep(fV))},onPrepRepos(t,n){e(oZ.prepSelectedRepos({selectedRepos:t,workspaceId:n}))},onClickFindItem(){e(oZ.setMergeRepoStep(mV))},onAddReposToWorkspace(t,n,s){e(oZ.addSelectedReposToWorkspace({selectedRepos:t,workspaceId:n,isPlatformUser:s}))}}}))(VIe),ZIe=()=>(0,l3.v9)((e=>({activeOwner:jV(e),bottomSuccessMsg:W$.bottomSuccessMsg(e)??null,connectedRepos:W$.sortedRepos(e),currentlyOpenedWorkspace:Na(e)??null,defaultRepoId:W$.defaultRepoId(e)??null,ghProjectRepoId:W$.ghProjectRepoId(e)??null,hasLockedRepo:W$.hasLockedRepo(e),isConnectedReposInfoAlertDismissed:rw(e),isCreateWorkspace:W$.isCreateWorkspace(e),isCreatingWorkspace:W$.isCreatingWorkspace(e),isDeletable:W$.isDeletable(e),isOpen:W$.isOpen(e),isUpdatingWorkspace:W$.isUpdatingWorkspace(e),isWorkspaceEditable:W$.isWorkspaceEditable(e)??!1,isWorkspaceLoading:W$.isWorkspaceLoading(e),isWorkspaceOutdated:W$.isWorkspaceOutdated(e),isWorkspaceSwitcherOpen:bV(e),mergeStep:W$.mergeRepoStep(e),ownerName:qV(e),reposToAdd:W$.reposToAdd(e)??[],newlyAddedRepos:W$.newlyAddedRepos(e)??[],userName:_u(e),selectedProject:W$.importTarget(e),shouldRedirectToExt:Ta(e)??!1,workspace:W$.workspace(e)??null,workspaceFormType:W$.workspaceFormType(e),workspaceId:W$.workspaceId(e)??null,hasModifiedListOfRepos:W$.hasModifiedListOfRepos(e)??!1})),l3.wU);class YIe extends Ye.PureComponent{constructor(e){super(e),this.state={value:"",disconnectInProgress:!1},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleChange(e){this.setState({value:e.target.value})}handleSubmit(){const{onClickFinish:e}=this.props;this.setState({disconnectInProgress:!0}),e()}render(){const{onClickClose:e,onClickSplit:t,connectionParams:n,isPlatformUser:s}=this.props,{value:r,disconnectInProgress:i}=this.state,{repoToDisconnect:o,workspace:a}=n;return Ye.createElement("div",{className:"zhc-confirm-dialog","data-cy":"disconnect-confirm-dialog"},Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title zhc-modal__header__title--danger"},"Remove Repo"),Ye.createElement("span",{className:"zhc-modal__header__close","data-cy":"close",onClick:e},Ye.createElement(R7,null)),Ye.createElement("span",{className:"zhc-confirm-dialog__subtitle"},"Are you sure you want to remove"," ",Ye.createElement("strong",{className:"zhu-color-text"},o)," repo from"," ",Ye.createElement("strong",{className:"zhu-color-text"},a.displayName)," workspace?"," ",Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000490533",target:"_blank","data-cy":"learn-more",rel:"noopener noreferrer"},"Learn more"))),Ye.createElement(bie,null,Ye.createElement("strong",null,"Data will be lost. These changes are irreversible. All team members will be affected."),Ye.createElement("ul",null,Ye.createElement("li",null,"Issues will be permanently affected: epic relationships, connected PRs, dependencies, and pipeline placements will be lost in this workspace."),Ye.createElement("li",null,"Reports in the ",Ye.createElement("strong",null,a.displayName)," workspace will be impacted"))),Ye.createElement("div",{className:"zhc-confirm-dialog__body"},Ye.createElement("div",{className:"zhc-confirm-dialog__info"},Ye.createElement("label",null,Ye.createElement("b",null,"Please type in the name of the repo you are disconnecting to confirm")),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.sm-1}},(e=>Ye.createElement("input",{autoFocus:!0,className:"zhc-input","data-cy":"repo-input",type:"text",placeholder:e?"Name of the repo you are disconnecting":"Type the name of the repo you are disconnecting - it's case-sensitive",value:r,onChange:this.handleChange})))),Ye.createElement("div",{className:"zhc-confirm-dialog__actions"},Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:e},"Cancel"),Ye.createElement(H5,{disabled:o!==r||i,color:L5.DANGER,variant:z5.OUTLINED,onClick:this.handleSubmit,"data-cy":"disconnect-repo"},i?"Disconnecting...":"I understand, disconnect this repo"))),!s&&Ye.createElement("div",{className:"zhc-confirm-dialog__footer"},Ye.createElement("div",{className:"zhc-repo-disconnect__footer"},"I want to split this repo into its own Workspace instead."," ",Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.TEXT,"data-cy":"split-repo",onClick:t},"Split repo >"))))}}YIe.defaultProps={connectionParams:{}},YIe.propTypes={isPlatformUser:SI().bool.isRequired,onClickClose:SI().func.isRequired,onClickFinish:SI().func.isRequired,onClickSplit:SI().func.isRequired,connectionParams:SI().shape({repoIdToDisconnect:SI().number.isRequired,repoToDisconnect:SI().string.isRequired,workspace:SI().shape({displayName:SI().string}).isRequired})};const JIe=e=>{const{onClickClose:t}=e;return Ye.createElement(Xre,{isOpen:!0,modifiers:["size-auto"],onClose:t},Ye.createElement(YIe,e))};JIe.propTypes={onClickClose:SI().func.isRequired};const XIe=JIe;function QIe(){return QIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},QIe.apply(this,arguments)}function ebe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function tbe(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){ebe(i,s,r,o,a,"next",e)}function a(e){ebe(i,s,r,o,a,"throw",e)}o(void 0)}))}}class nbe extends Ye.PureComponent{constructor(){var e;super(...arguments),e=this,this.onClickFinish=tbe((function*(){const{connectionParams:t,isWorkspaceEditorOpen:n,onClickFinish:s}=e.props;s({...t,isWorkspaceEditorOpen:n})})),this.onClickSplit=()=>{const{connectionParams:e,onClickSplit:t}=this.props;t(e)}}render(){return Ye.createElement(XIe,QIe({},this.props,{onClickFinish:this.onClickFinish,onClickSplit:this.onClickSplit}))}}nbe.defaultProps={},nbe.propTypes={connectionParams:SI().shape({}).isRequired,isPlatformUser:SI().bool.isRequired,isWorkspaceEditorOpen:SI().bool.isRequired,onClickFinish:SI().func.isRequired,onClickSplit:SI().func.isRequired};const sbe=(0,l3.$j)((function(e){return{connectionParams:W$.connectionParams(e),isWorkspaceEditorOpen:W$.isOpen(e),isPlatformUser:au(e)}}),(function(e){return{onClickClose:()=>{e(oZ.setMergeRepoStep(fV))},onClickFinish:t=>{e(oZ.disconnectRepoFromWorkspace(t))},onClickSplit:t=>{e(oZ.workspaceOnSplitWorkspace(t))}}}))(nbe),rbe=e=>{let{autoFocus:t=!1,"data-cy":n,errorMsg:s,errorMsgLink:r,isValid:i=!0,label:o,onChange:a=_t.ZT,placeholder:l,value:c}=e;const d=(0,_I.default)("zhc-merge-repo-finder-input__text-input",{"zhc-merge-repo-finder-input__input-error":!i});return Ye.createElement("div",null,Ye.createElement("div",{className:"zhc-merge-repo-finder-input__label"},Ye.createElement("label",{className:"zhu-font-bold"},o)),Ye.createElement("div",{className:"zhc-merge-repo-finder-input__container"},Ye.createElement("input",{className:d,type:"text",value:c,"data-cy":n,onChange:a,placeholder:l,autoFocus:t})),Ye.createElement("div",{className:"zhc-merge-repo-finder-input__error-message","data-cy":"error-message"},s&&(e=>e?.toLowerCase().includes("organization")&&Boolean(r)?Ye.createElement("span",null,s," ",r):s)(o)))},ibe=e=>{let{activeSelection:t=!1,onClickBack:n,onClickAdd:s}=e;return Ye.createElement("div",{className:"zhc-multi-action-footer zhc-merge-repo-finder__footer"},Ye.createElement("div",{className:"zhc-multi-action-footer__control"},Ye.createElement(kpe,{text:"Back","data-cy":"back",modifiers:["text"],onClick:n,iconComponent:Ye.createElement(v_e,null)}),Ye.createElement(kpe,{disabled:!t,text:"Add repo","data-cy":"add-repo",modifiers:["action"],onClick:s})))},obe=e=>{let{clearError:t=_t.ZT,connectedRepos:n=[],repoInputErrorMsg:s=null,orgInputErrorMsg:r=null,orgInputErrorMsgLink:i,onClickAdd:o,onClickBack:a,onClickClose:l,onChange:c}=e;const[d,u]=(0,Ye.useState)(""),[p,m]=(0,Ye.useState)(""),h=e=>n=>{c(),e(n.target.value),(s||r)&&t()},E=n.some((e=>e.repository.toLowerCase()===p.toLowerCase()&&e.organization.toLowerCase()===d.toLowerCase())),g=E?"Looks like this repo is already part of the current Workspace.":s,f=d.length>0&&p.length>0&&!s&&!r&&!E;return Ye.createElement("div",{className:"zhc-merge-repo-finder"},Ye.createElement("div",{className:"zhc-merge-repo-finder__container"},Ye.createElement("div",{className:"zhc-merge-repo-finder__header"},Ye.createElement("span",{className:"zhc-merge-repo-finder__header__text"},"Find another repo"),Ye.createElement("button",{className:"zhc-merge-repo-finder__cancel","data-cy":"close",onClick:l,type:"button"},Ye.createElement(n5,null))),Ye.createElement("div",{className:"zhc-merge-repo-finder__content"},Ye.createElement("div",{className:"zhc-merge-repo-finder__description"},"Only those with repo permissions and ZenHub access enabled can be added."),Ye.createElement(rbe,{label:"Organization",placeholder:"Ex: ZenHub",value:d,isValid:!r,errorMsg:r,errorMsgLink:i,"data-cy":"organization-name",onChange:h(u),autoFocus:!0}),Ye.createElement(rbe,{label:"Repository",placeholder:"Ex: zenhub-api",value:p,"data-cy":"repo-name",isValid:!s&&!E,onChange:h(m),errorMsg:g})),Ye.createElement(ibe,{activeSelection:f,onClickBack:a,onClickAdd:()=>{f&&o({owner:{login:d},repository:p})}})))};function abe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const lbe=()=>{const e=(0,l3.I0)(),[t,n]=(0,Ye.useState)(null),[s,r]=(0,Ye.useState)(null),i=(0,l3.v9)(au),{connectedRepos:o,workspaceId:a}=(0,l3.v9)((e=>({connectedRepos:W$.connectedRepos(e),workspaceId:W$.workspaceId(e)}))),l=Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010369-granting-third-party-access-in-github-for-zenhub",target:"_blank",rel:"noreferrer"},"Grant access to continue."),c=()=>e(oZ.setMergeRepoStep(fV)),d=function(){var t,s=(t=function*(t){const s={msg:"You don't have permissions to add this repo"};try{const n=yield((t,n)=>e(oZ.selectMergeRepo({organization:n,repository:t})))(t.repository,t.owner.login);if(!n.permissions.push)throw s;a?((t,n,s)=>{e(oZ.addSelectedReposToWorkspace({selectedRepos:t,workspaceId:n,isPlatformUser:s}))})([n],a,i):((t,n)=>{e(oZ.prepSelectedRepos({selectedRepos:t,workspaceId:n}))})([n],a)}catch(e){e===s?n(e.msg):e.error?.message.includes("Although you appear to have the correct authorization credentials,")?r("This organization has GitHub OAuth App access restrictions enabled."):n("Repository not found")}},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){abe(i,s,r,o,a,"next",e)}function a(e){abe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return s.apply(this,arguments)}}();return Ye.createElement(Xre,{isOpen:!0,onClose:c,modifiers:["selection-list-fullscreen-deprecated"]},Ye.createElement(obe,{connectedRepos:o,clearError:()=>e(oZ.setMergeRepoError()),onClickBack:()=>e(oZ.setMergeRepoStep(pV)),onClickAdd:d,repoInputErrorMsg:t,orgInputErrorMsg:s,orgInputErrorMsgLink:s?l:null,onChange:()=>{n(null),r(null)},onClickClose:c}))},cbe="zhc-selection-list__footer",dbe=e=>{let{left:t=null,right:n=null}=e;return Ye.createElement("div",{className:cbe},t&&Ye.createElement("div",{className:`${cbe}__left`},t),n&&Ye.createElement("div",{className:`${cbe}__right`},n))},ube=Ye.memo(dbe),pbe=e=>{let{text:t}=e;return Ye.createElement("div",{className:"zhc-selection-list__subheader"},t)};const mbe=function(e,t){const[n,s]=(0,Ye.useState)("");return{setSearchTerm:s,filteredItems:(0,Ye.useMemo)((()=>t?e(t,n):null),[e,t,n])}};function hbe(){return hbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hbe.apply(this,arguments)}const Ebe=e=>{let{disabledItemMap:t={},emptyState:n,filterFn:s,filterInputPlaceholder:r,hasItemBorder:i=!1,hasVariableHeight:o=!0,height:a,initialSelectedIds:l,itemRenderer:c,items:d=null,onClose:u,onSelectionChange:p,title:m,width:h,subHeading:E,leftFooterElement:g,rightFooterElement:f}=e;const{setSearchTerm:_,filteredItems:v}=mbe(s,d),{isItemSelected:I,toggleItem:b}=Ule({onSelectionChange:p,initialSelectedIds:l}),y=Ye.useRef(null),{currentlyHighlightedIndex:S,resetHighlightAndScrollTop:w,setHighlightIndex:R,onKeyDownHighlight:T}=Sre(v,y,(e=>b(e.id)),t),C=E&&"zhc-selection-list__search-bar--with-subheading",k=Boolean(g||f);return Ye.createElement(Ere,{height:a,hasVariableHeight:o,width:h,onClose:u,onKeyDown:T},Ye.createElement(mre,{title:m,onClose:u}),Ye.createElement(Voe,{className:C,placeholder:r,onChange:e=>{let{term:t}=e;_(t),w()}}),E&&Ye.createElement(pbe,{text:E}),Ye.createElement(qoe,{items:v,emptyState:n},(()=>Ye.createElement(_re,{parentHasVariableHeight:o,ref:y,items:v||[],rowRenderer:e=>{const{index:n}=e,s=v[n];return Ye.createElement(yre,hbe({},e,{hasItemBorder:i,isDisabled:!!t&&t[s.id],key:s.id,onClick:()=>b(s.id),setHighlightIndex:()=>R(n),isHighlighted:S===n,isSelected:I(s.id)}),c(s,n))}}))),k&&Ye.createElement(ube,{left:g,right:f}))},gbe="RlkFV_ynsSCI_KmOARKN",fbe="aFqcGuJUlRLcN4AZnLjD",_be="THlZQ7PcR4luDPZ0JdQg",vbe={repoList:[{id:"12312",repo_id:123,description:"dummy item",has_issues:!1,repository:"New Repo",owner:{login:"melchua"},permissions:{admin:!1,pull:!0,push:!0},private:!1},{id:"123212",repo_id:1234,description:"dummy item 2",has_issues:!1,repository:"JoeOrg Repo",owner:{login:"joewilliams"},permissions:{admin:!1,pull:!0,push:!0},private:!1},{id:"12314",repo_id:231,description:"dummy item",has_issues:!1,repository:"Alone",owner:{login:"joewilliams"},permissions:{admin:!1,pull:!0,push:!0},private:!1}],selectedOrganization:{id:1234,login:"melchua",avatar_url:"https://avatars3.githubusercontent.com/u/19957795?v=3&size=64",description:"description",isUser:!1},formattedOrgList:[{ownerName:"Dummy org",isUser:!1,isActive:!0}],organizationList:[{id:1234,login:"melchua",avatar_url:"https://avatars3.githubusercontent.com/u/19957795?v=3&size=64",description:"description",type:"User",zhOrgId:"12312"},{id:1235,login:"joewilliams",avatar_url:"https://avatars3.githubusercontent.com/u/19957795?v=3&size=64",description:"description",type:"Organization",zhOrgId:"12312"},{id:1236,login:"swannatsoi",avatar_url:"https://avatars3.githubusercontent.com/u/19957795?v=3&size=64",description:"description",type:"Organization",zhOrgId:"12312"}]},Ibe=()=>vbe.organizationList;let bbe=[];const ybe=()=>{const e=(0,l3.I0)(),[t,n]=(0,Ye.useState)(""),s=Ibe(),r=(e=>e[0]?.login)(s);(0,Ye.useEffect)((()=>{e(i1([])),r&&n(r)}),[]);const i=()=>s.find((e=>e?.login===t)),o=((e,t)=>{if((0,_t.KN)(e)||(0,_t.KN)(t))return null;const n=t.map((t=>{const{login:n,avatar_url:s,id:r,type:i,zhOrgId:o}=t;return{ownerName:n,ownerAvatar:s,id:r,isUser:"User"===i,isActive:e?.login?.toLowerCase()===n?.toLowerCase(),zhOrgId:o}}));return n})(i(),Ibe());return{handleClickAdd:()=>{e(i1(bbe)),e(oZ.setMergeRepoStep(fV))},handleSelectOrg:e=>{n(e.toLowerCase())},handleClickClose:()=>{e(oZ.clearMergeRepos()),e(oZ.setMergeRepoStep(fV))},handleSelectionChange:e=>{let{changedToSelected:t}=e;bbe=t},getSelectedOrganization:i,formattedOrgList:o}},{selectedOrganization:Sbe,repoList:wbe}=vbe,Rbe=Sbe?`${OI.githubURL}/${Sbe.login}`:OI.githubURL,Tbe=Ye.createElement("div",{className:"zhc-multi-action-placeholder"},"There are no more available repos in this organization to add to this Workspace. Create a new one in"," ",Ye.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Rbe},"GitHub")),Cbe=(e,t)=>{const n=t.trim().toLowerCase();return""===n?e:e.filter((e=>e.searchableContent.includes(n)))},kbe=wbe?.reduce(((e,t)=>(t.permissions.push||(e[t.repo_id]=!0),e)),{}),Obe=(e=>e.map((e=>{const{repo_id:t}=e;return{...e,id:t.toString(),searchableContent:e.repository?.toLowerCase()||""}})))(wbe),Nbe=e=>Ye.createElement("div",{key:e.id,className:gbe},Ye.createElement(Nfe,{className:fbe}),Ye.createElement("span",{className:_be},e.repository)),Pbe=()=>{const{getSelectedOrganization:e,handleClickAdd:t,handleSelectOrg:n,handleClickClose:s,handleSelectionChange:r,formattedOrgList:i}=ybe(),o=e(),a=Ye.createElement("div",null,Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:s},"Cancel"),Ye.createElement(H5,{color:L5.ACTION,onClick:t,disabled:!1,width:D5.WIDE},"Add")),l=o&&Ye.createElement(G_e,{ownerName:o.login,ownerAvatar:o.avatar_url,orgList:i,onOrgClick:n,"data-cy":"workspace-repo-selector-org-dropdown",position:kte.TOP,isShorterButton:!0,showOrgAvatar:!0,showButtonBorder:!0});return Ye.createElement(Xre,{isOpen:!0,onClose:s,modifiers:["selection-list-fullscreen-deprecated"]},Ye.createElement(Ebe,{disabledItemMap:kbe,emptyState:Tbe,hasVariableHeight:!1,filterFn:Cbe,height:"600px",width:"460px",filterInputPlaceholder:"Search repos",onClose:s,title:"Select up to 5 repos at a time",initialSelectedIds:[],itemRenderer:Nbe,items:Obe,onSelectionChange:r,subHeading:"You can only add in batches of 5 repos at a time. You can add more repos to this workspace after.",leftFooterElement:l,rightFooterElement:a}))},Abe=()=>{const{currentWorkspace:e,currentWorkspaces:t,currentOrgWithoutWorkspaceInfo:n,handleClose:s,handleCreateWorkspace:r,handleOrgChange:i,isOpen:o,recentWorkspaces:a,showRecentWorkspaceOrgs:l,searchResults:c,searchTerm:d,setSearchTerm:u,zhOrgDataWithoutWorkspaceInfo:p,isLoading:m,handleEditWorkspace:h,handleOpenWorkspace:E}=Lve(),{toggleWorkspaceFavorite:g,favoriteWorkspacesData:f,loading:_}=AIe(),v=(0,Ye.useMemo)((()=>{const t=(f?.viewer?.workspaceFavorites?.nodes||[]).map((e=>e.workspace)).filter((t=>t.id!==e?.id)),n=a.filter((n=>n.id!==e?.id&&!t.find((e=>e.id===n.id))));return[...e?.id?[e]:[],...t,...n]}),[f,a,e]),{mergeStep:I}=ZIe(),b=!m&&0===t.length&&0===a.length&&!d,y=(0,Ye.useMemo)((()=>p.map((e=>({ownerName:e.name||"",isUser:!1,isActive:e.name===n?.name,zhOrgId:e.id})))),[p,n]);return Ye.createElement(Ye.Fragment,null,o?Ye.createElement(_fe,{isOpen:o,onClose:s,onTransitionEnterFinish:()=>{},header:Ye.createElement(b_e,{onClose:s,topLeft:m?Ye.createElement(kIe,null):Ye.createElement(G_e,{orgList:y,ownerName:n?.name||"",onOrgClick:(e,t)=>{t&&i(t)},showOrgAvatar:!1,showCloseButton:!0,showManageOrgsButton:!0,isOrganizationView:!0}),topRight:Ye.createElement(H5,{onClick:r,color:L5.ACTION},"Create new workspace")},Ye.createElement(Kve,{searchTerm:d,setSearchTerm:u}))},m||_?Ye.createElement(Zve,null):d?Ye.createElement(aIe,{searchTerm:d,searchResults:c,onEditWorkspace:h,onOpenWorkspace:E}):Ye.createElement("div",null,Ye.createElement(wfe,{title:"Recently viewed"},v.map((t=>Ye.createElement(oIe,{key:t.id,workspace:t,handleEditWorkspace:h,showOrgName:l,currentWorkspaceId:e?.id,handleOpenWorkspace:E,onClickFavorite:g})))),Ye.createElement(wfe,{title:`${n?.name||"All"} workspaces`},t.map((e=>Ye.createElement(oIe,{key:e.id,workspace:e,handleEditWorkspace:h,handleOpenWorkspace:E,onClickFavorite:g}))))),b?Ye.createElement(Qve,{onCreateWorkspace:r}):null):null,(e=>{switch(e){case pV:return Ye.createElement($Ie,null);case mV:return Ye.createElement(lbe,null);case hV:return Ye.createElement(sbe,null);case IV:return Ye.createElement(Pbe,null);default:return null}})(I))};function Dbe(){return Dbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dbe.apply(this,arguments)}const Lbe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--xgrey",t].filter(Boolean).join(" "),"aria-label":"xgrey",role:"img",...n};return Ye.createElement("svg",Dbe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"}))};class zbe extends Ye.PureComponent{constructor(){super(...arguments),this.renderCloseIcon=()=>{const{hideCloseIcon:e,onClose:t}=this.props;return e?null:Ye.createElement(H5,{ariaLabel:"Close workspace creator form","data-cy":"close",className:"zhc-workspace-switcher__x",onClick:t},Ye.createElement(Lbe,null))}}render(){const{children:e,isOpen:t,onClose:n}=this.props;return Ye.createElement(Xre,{closeOnEsc:!0,isOpen:t,modifiers:["full-screen"],onClose:n},Ye.createElement("div",{className:"zhc-workspace-form","data-cy":"workspace-form"},this.renderCloseIcon(),Ye.createElement("div",{className:"zhc-workspace-form__content"},e)))}}zbe.propTypes={children:SI().node.isRequired,isOpen:SI().bool.isRequired,onClose:SI().func.isRequired,hideCloseIcon:SI().bool},zbe.defaultProps={hideCloseIcon:!1};const Mbe=e=>{let{message:t}=e;return Ye.createElement("div",{className:"zhc-workspace-form__subtext"},t,Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000497224","data-cy":"learn-more",target:"_blank",rel:"noopener noreferrer"},"Learn more"))},xbe=e=>{let{onClose:t,title:n,isPlatformUser:s,className:r}=e;return Ye.createElement("div",{className:(0,_I.default)("zhc-workspace-form__header",r),"data-cy":"workspace-form-header"},Ye.createElement(H5,{variant:z5.TEXT,className:"zhc-workspace-form__close","data-cy":"go-back",onClick:t},Ye.createElement(v_e,{className:"zhc-workspace-form__arrow"}),"Go back"),Ye.createElement("h2",null,n),Ye.createElement(Mbe,{message:s?"A workspace is where your team organizes work and collaborates across multiple GitHub repositories. ":"A workspace is how you keep issues in GitHub organized using ZenHub. You can always add or remove more repos later. "}))},Fbe="kG2pw2ytUvv3JNOAyNrK",Ube="ErOXKOb3jQSJf_Cb49yZ",Bbe="SzeOc1vbBe3ABgLJuZXQ",qbe="dx3iA723BifXZ_fDj1Vj",Hbe="nYEGCVEMhrn7rT9tBhBC",Wbe="N9tAehOVqPDD0u_IcIvo",jbe="mySIIkAyKrIYOvRkktye";function Gbe(){return Gbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gbe.apply(this,arguments)}const Kbe=e=>{let{label:t,subLabel:n,id:s,maxLength:r,value:i,errorMsg:o,...a}=e;const l=r&&void 0!==i;return Ye.createElement("div",{className:Fbe},Ye.createElement("div",{className:Bbe},Ye.createElement("label",{htmlFor:s,className:Ube},t),n&&Ye.createElement("label",{className:qbe},n),l&&Ye.createElement("span",{className:Hbe},(0,_t.ZU)(i.length,r))),Ye.createElement(jve,Gbe({className:jbe,id:s,maxLength:r,value:i},a,{isInvalid:Boolean(o)})),o&&Ye.createElement("div",{className:Wbe},o))},Vbe="G7qsH1ftI7i2QTa7f5ff",$be="HBwZUriXZz8eOTrSJy_c",Zbe="Ve0s_NOYoropjtkILNIh",Ybe="ClQJzqw4kEB1rmA2LMWh",Jbe="sDwQVMicXfM6TELzA2ra",Xbe={},Qbe=bb.Ps`
  mutation deleteWorkspace($input: DeleteWorkspaceInput!) {
    deleteWorkspace(input: $input) {
      workspaceId
    }
  }
`;function eye(e){const t={...Xbe,...e};return vK.D(Qbe,t)}const tye={},nye=bb.Ps`
  query getWorkspaceIsDeletable($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      isDeletable
    }
  }
`;function sye(e){const t={...tye,...e};return cy.a(nye,t)}function rye(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function iye(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){rye(i,s,r,o,a,"next",e)}function a(e){rye(i,s,r,o,a,"throw",e)}o(void 0)}))}}const oye=e=>{window.location.href=e},aye=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oye;const[n,s]=(0,Ye.useState)(!1),[r]=eye(),{data:i}=sye({variables:{workspaceId:e??""},skip:!e});return{isConfirmingDelete:n,isWorkspaceDeletable:i?.workspace?.isDeletable,handleConfirmDelete:function(){var n=iye((function*(){if(e){try{yield r({variables:{input:{workspaceId:e}}})}catch(e){H.Z.createToastIfUniqueByType(W.Z.ERROR_PERMISSIONS,{showWarning:!0,text:"Unable to delete this workspace. Please try again"})}if(F){const{pathname:e}=new URL(window.location.href),{organization:n,repository:s}=ma.parseRepoPath(e);t(ma.getRepoPath({organization:n,repository:s}))}else t("/landing")}}));return function(){return n.apply(this,arguments)}}(),handleInitDelete:()=>s(!0),handleCancelDelete:()=>s(!1)}},lye=bb.Ps`
  query validateWorkspaceName($name: String!, $zenhubOrganizationId: ID!) {
    validateWorkspaceName(name: $name, zenhubOrganizationId: $zenhubOrganizationId)
  }
`;const cye={},dye=bb.Ps`
  mutation createZenhubWorkspace($CreateWorkspaceInput: CreateWorkspaceInput!) {
    createWorkspace(input: $CreateWorkspaceInput) {
      workspace {
        ...CurrentWorkspace
      }
    }
  }
  ${py}
`;const uye=e=>e?.includes("Name has already been taken")?"This name has already been taken by another workspace":e?.includes("Name can't be blank")?"A workspace name is required":"An error occurred while saving your workspace. Please try again.",pye=e=>{let{setSubmitError:t,onSuccess:n}=e;const s=(0,$8.k6)(),r=(0,l3.v9)(xV),[i,{loading:o}]=function(e){const t={...cye,...e};return vK.D(dye,t)}({onError:e=>{H.Z.removeByType(W.Z.SAVING_UPDATE),t?.(uye(e.message))},onCompleted:e=>{const t=e.createWorkspace?.workspace;if(t){const{id:s,name:r}=t;r6("ZH Workspace created",{"ZHWorkspace Name":r,"ZHWorkspace ID":s}),H.Z.removeByType(W.Z.SAVING_UPDATE);const i=e.createWorkspace?.workspace;i&&(e=>{const t=ly(),{cache:n}=t,s=jG(n)?.recentlyViewedWorkspaces.nodes||[],r=e.filter((e=>!s.find((t=>t.id===e.id))));GG([...r,...s],n)})([i]),vb(s),n?.()}const r=(0,ma.getWorkspacePath)({_id:t?.id,name:t?.name});s.push(r)}});return{createNewWorkspace:e=>{let{name:t,description:n,zhOrgId:s,repositoryGhIds:o,defaultRepositoryGhId:a}=e;H.Z.createToast(W.Z.SAVING_UPDATE,{message:"Building your workspace..."});i({variables:{CreateWorkspaceInput:{name:t,description:n,zenhubOrganizationId:s||r,repositoryGhIds:0===o?.length?void 0:o,defaultRepositoryGhId:a}}})},loading:o}},mye={},hye=bb.Ps`
  mutation updateWorkspace($UpdateWorkspaceInput: UpdateWorkspaceInput!) {
    updateWorkspace(input: $UpdateWorkspaceInput) {
      workspace {
        id
        description
        name
        defaultRepository {
          ghId
        }
        ...RepositoriesConnection
        zenhubOrganization {
          id
          name
        }
      }
    }
  }
  ${uy}
`;const Eye=e=>{let{setSubmitError:t,onSuccess:n}=e;const s=(0,l3.I0)(),r=(0,$8.k6)(),i=(0,$8.TH)(),o=(0,l3.v9)(Na),[a,{loading:l}]=function(e){const t={...mye,...e};return vK.D(hye,t)}({onError:e=>{H.Z.removeByType(W.Z.SAVING_UPDATE),t?.(uye(e.message))},onCompleted:e=>{const t=e.updateWorkspace?.workspace;if(t){const{id:e,name:a,description:l,defaultRepository:c}=t;r6("ZH Workspace updated",{"ZHWorkspace Name":a,"ZHWorkspace ID":e});o?._id===e&&(r.replace({pathname:(0,ma.replaceWorkspaceName)(i.pathname,{_id:e,name:a}),search:i.search,state:i.state}),s({type:Us.UPDATE_CURRENT_WORKSPACE,payload:{_id:e,description:l,displayName:a,name:a,defaultRepoId:c?.ghId}})),H.Z.removeByType(W.Z.SAVING_UPDATE),n?.()}}});return{updateWorkspace:e=>{let{workspaceId:t,name:n,description:s,defaultRepositoryGhId:r}=e;H.Z.createToast(W.Z.SAVING_UPDATE,{message:"Updating your workspace..."}),a({variables:{UpdateWorkspaceInput:{workspaceId:t,name:n,description:s,defaultRepositoryGhId:r}}})},loading:l}},gye=bb.Ps`
  query workspaceLabels($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      labelFilters {
        nodes {
          id
          labelName
        }
      }
      defaultRepository {
        id
        labels {
          nodes {
            id
            color
            name
          }
        }
      }
    }
  }
`;const fye=bb.Ps`
  mutation addWorkspaceLabelFilters($input: AddWorkspaceLabelFiltersInput!) {
    addWorkspaceLabelFilters(input: $input) {
      workspace {
        id
        labelFilters {
          nodes {
            id
            labelName
          }
        }
      }
    }
  }
`,_ye=bb.Ps`
  mutation removeWorkspaceLabelFilters($input: RemoveWorkspaceLabelFiltersInput!) {
    removeWorkspaceLabelFilters(input: $input) {
      workspaceLabelFilters {
        id
        labelName
        workspace {
          id
          name
        }
      }
    }
  }
`;function vye(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Iye=e=>{const t=(()=>{const[e]=(0,vK.D)(fye);return(t,n)=>e({variables:{input:{workspaceId:t,labelNames:n}}})})(),n=(()=>{const[e]=(0,vK.D)(_ye);return t=>e({variables:{input:{workspaceLabelFiltersIds:t.map((e=>e.id))}},update:e=>{t.map((t=>e.evict({id:e.identify(t)})))}})})(),s=function(e){return(0,cy.a)(gye,{skip:!e,variables:{workspaceId:e}})}(e),r=(0,Ye.useMemo)((()=>{return(e=s).data?.workspace?.defaultRepository?[...e.data.workspace.defaultRepository.labels.nodes].sort(((e,t)=>e.name.toUpperCase()<t.name.toUpperCase()?-1:1)):[];var e}),[s]),i=s.data?.workspace.labelFilters.nodes,o=i?.length?i:null,a=function(){var s,r=(s=function*(s){s?.length&&!o?.length?(r6("Workspace Filter Enabled"),yield t(e,s.map((e=>e.labelName)))):!s?.length&&o?.length?(r6("Workspace Filter Disabled"),yield n(o)):s?.length&&o?.length&&(yield n(o),yield t(e,s.map((e=>e.labelName))))},function(){var e=this,t=arguments;return new Promise((function(n,r){var i=s.apply(e,t);function o(e){vye(i,n,r,o,a,"next",e)}function a(e){vye(i,n,r,o,a,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}();return{areLabelsLoading:s.loading,initialLabelFilters:o,labelOptions:r,saveLabelFilterChanges:a}};function bye(e){const t=(0,Ye.useRef)();return(0,Ye.useEffect)((()=>{t.current=e}),[e]),t.current}function yye(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{workspaceSwitcher:Sye,onboarding:wye}=LG,Rye=()=>{const e=(0,l3.I0)(),t=(0,Dae.x)(),{isWorkspaceOutdated:n,isWorkspaceLoading:s,isOpen:r,workspaceFormType:i}=ZIe(),[o,a]=(0,Ye.useState)(void 0),l=(0,l3.v9)((e=>e.workspaceForm.workspaceId)),c=(0,l3.v9)(xV),d=(0,l3.v9)((e=>e.workspaceForm.newlyAddedRepos)),u=(0,l3.v9)((e=>e.workspaceForm.reposToAdd)),p=(0,l3.v9)((e=>e.workspaceForm.connectionParams)),m=i===E$,{data:h,loading:E,refetch:g}=function(e){const t={...my,...e};return cy.a(hy,t)}({variables:{workspaceId:l},skip:!r||!m||!l}),f=h?.workspace&&i$(h.workspace),_=!E&&f?f?.repos.sort(((e,t)=>e.repository.localeCompare(t.repository))):null,{defaultRepoId:v,isEditable:I}=f||{},b=(0,Ye.useMemo)((()=>f?.name||""),[f?.name]),y=(0,Ye.useMemo)((()=>f?.description||""),[f?.description]),[S,w]=(0,Ye.useState)(""),[R,T]=(0,Ye.useState)(""),[C,k]=(0,Ye.useState)(""),[O,N]=(0,Ye.useState)(""),[P,A]=(0,Ye.useState)(null),[D,L]=(0,Ye.useState)([]),[z,M]=(0,Ye.useState)(null),[x,F]=(0,Ye.useState)(!1),U=bye({isOpen:r,isWorkspaceOutdated:n,isWorkspaceLoading:s,connectedRepos:P,reposToAdd:D});(0,Ye.useEffect)((()=>{L(m?[...d]:[...u])}),[d,u]);const B=()=>e(Sye.close()),q=()=>{e(oZ.close()),e(oZ.setWorkspaceId("")),k(""),N(""),A(null),L([]),w(""),T("")},H=()=>{const e=C?.trim(),t=O?.trim();(m?e!==b||t!==y:e||t)?Doe("Are you sure you want to exit?","Your changes will not be saved").then(q).catch((()=>{})):q()};(0,Ye.useEffect)((()=>{m&&(k(b),N(y),A(_))}),[m,b,y]);const W=function(){var e,n=(e=function*(e){const n=e.target.value?.trim(),s=f?.name;if(n){const e=m?f?.zhOrgId:c,{data:{validateWorkspaceName:r}}=yield t.query({query:lye,variables:{name:n,zenhubOrganizationId:e}});r||s===n||w("This name has already been taken by another workspace")}else w("A workspace name is required")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){yye(i,s,r,o,a,"next",e)}function a(e){yye(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),j=m?"Edit workspace":"Create a new workspace",{areLabelsLoading:G,initialLabelFilters:K,labelOptions:V,saveLabelFilterChanges:$}=Iye(l),Z=(0,Ye.useMemo)((()=>{const e=C?.trim(),t=O?.trim(),n=null===K&&(null===z||!z.length)||Array.isArray(K)&&Array.isArray(z)&&!z.length||Boolean(K&&z&&K.length===z.length&&K[0].labelName===z[0].name);return Boolean(S)||!e||m&&e===f?.name&&t===(f?.description||"")&&!x&&n}),[O,m,C,f?.description,f?.name,x,z,S]),Y=m?"Update":"Create workspace",{createNewWorkspace:J,loading:X}=pye({setSubmitError:w,onSuccess:q}),{updateWorkspace:Q,loading:ee}=Eye({setSubmitError:w,onSuccess:q});return(0,Ye.useEffect)((()=>{if(!U)return;(P&&U.connectedRepos&&P.length!==U.connectedRepos.length||D.length!==U.reposToAdd.length)&&F(!0);const t=!U.isWorkspaceOutdated&&n;if(r&&t&&f){const t=(P||[]).filter((e=>e.repo_id!==p.repoIdToDisconnect)),n=D.filter((e=>e.repo_id!==p.repoIdToDisconnect));A(t),L(n),v!==p.repoIdToDisconnect&&v||g({workspaceId:l}),e(oZ.setWorkspaceOutdated(!1))}r&&!U.isOpen&&(a(void 0),F(!1)),U.isWorkspaceLoading&&!s&&e(oZ.getWorkspaceIsDeletable({workspaceId:l}))}),[a,s,U,f,n,F,P,D]),{connectedRepos:P||[],defaultRepoId:v,description:O,disableSubmit:Z,formTitle:j,handleClose:()=>{B(),H()},handleCloseModal:H,handleDescriptionChange:e=>{N(e.target.value)},handleNameChange:e=>{const t=e.target.value;k(t),S&&w(""),m&&!t&&w("A workspace name is required")},handleLabelsChange:e=>{M(e),R&&T("")},handleNameBlur:W,handleSubmit:t=>{if(t.preventDefault(),m){if(!l)return;if(Array.isArray(z)&&!z.length)return void T("A label is required to filter the workspace");const t=Array.isArray(z)?z.map((e=>({id:"",labelName:e.name}))):null;$(t),Q({name:C.trim(),description:O.trim(),workspaceId:l,defaultRepositoryGhId:o||v}),e(nK(!0))}else J({name:C.trim(),description:O.trim(),zhOrgId:c,repositoryGhIds:D.map((e=>e.repo_id)),defaultRepositoryGhId:o||v});B()},initialLabelFilters:K,isEditMode:m,isOpen:r,isWorkspaceEditable:I||!1,isWorkspaceFormLoading:E||G,labelFilterError:R,labelOptions:V,name:C,selectedLabels:z,submitError:S,submitLabel:Y,reposToAdd:D,workspace:f,workspaceId:l,defaultRepoIdState:o,setDefaultRepo:e=>{a(e),F(!0)},disconnectRepo:t=>{e(oZ.workspaceOnDisconnect(t))},openMergeRepoSelector:()=>{e(oZ.initMergeRepoSelector(void 0,P))},openWorkspaceRepoSelector:()=>{e(oZ.initWorkspaceRepoSelector())},removeRepoToBeAdded:e=>{const t=D.filter((t=>t.repo_id!==e));L(t)},loading:ee||X||G,dismissConnectedReposInfoAlert:()=>{const t={key:"connected_repos_info_alert_dismissed",value:!0};e(wye.setOnboardingValue(t))}}};function Tye(){return Tye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tye.apply(this,arguments)}const Cye=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--github",t].filter(Boolean).join(" "),"aria-label":"github",role:"img",...n};return Ye.createElement("svg",Tye({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M8 0a8 8 0 00-2.53 15.59c.4.075.546-.172.546-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.889-1.17-.889-1.17-.726-.496.055-.486.055-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.329.665.073-.517.28-.87.508-1.07-1.777-.201-3.644-.888-3.644-3.953 0-.873.311-1.588.823-2.147-.082-.202-.357-1.016.079-2.117 0 0 .671-.215 2.2.82A7.662 7.662 0 018 3.868a7.67 7.67 0 012.003.27c1.527-1.035 2.198-.82 2.198-.82.436 1.101.162 1.915.08 2.117.513.559.822 1.274.822 2.147 0 3.073-1.87 3.75-3.652 3.947.286.247.542.736.542 1.482 0 1.07-.01 1.932-.01 2.194 0 .215.145.463.55.385A8 8 0 008 0",fill:"currentColor",fillRule:"evenodd"}))},kye=n.p+"../../img/built/google-logo.png",Oye="JlnI8CeecJCGRJj0GGzm",Nye="KMhwXQJNOmqMfr6DC9WI",Pye="quhtJG91eM2JNUOFlwVD",Aye="k0FcLX9FUAjbgbwGMgVQ",Dye="PwVj4ldQPoGFIXG8PjmR",Lye="_joP3PZWWqlabcYl7lI0",zye="Q3mpNGERY_awfuw5yOwT",Mye="gMNaZmmKPzfcFq7pWRcP";var xye=n(18847);const Fye={},Uye=bb.Ps`
  query getConnectedAccounts {
    viewer {
      id
      loginIdentifier
      githubUser {
        login
      }
    }
  }
`;function Bye(e){const t={...Fye,...e};return cy.a(Uye,t)}const qye=()=>{const{data:e}=Bye(),t=(0,$8.TH)();return()=>{if(va("ZH_LOGIN_REDIRECT_TO",t),!e?.viewer?.loginIdentifier)throw new Error("Login identifier doesn't exist");{const t=`${L.Z.loginURL}/webapp?agent=webapp&redirect=${L.Z.webappURL}&startOption=webapp&loginIdentifier=${encodeURIComponent(e?.viewer?.loginIdentifier)}`;window.location.href=t}}},Hye="Google",Wye="GitHub",jye=e=>{let{account:t}=e;const{currentUserIdentityProvider:n,userEmail:s}=(0,l3.v9)((e=>({currentUserIdentityProvider:Iu(e),userEmail:vu(e)}))),r=qye(),[i,{data:o}]=function(e){const t={...Fye,...e};return xye.t(Uye,t)}();(0,Ye.useEffect)((()=>{t===Wye&&i()}),[t,i]);const a={[Hye]:{title:"Log in with Google SSO",description:"",logo:Ye.createElement(t7,{src:kye,className:Nye}),connectAccount:()=>{},isConnected:"google-oauth2"===n,login:s},[Wye]:{title:"Connect your GitHub account",description:"Link issues, pull requests, and commits",logo:Ye.createElement(Cye,{className:Nye}),connectAccount:r,isConnected:Boolean(o?.viewer.githubUser?.login),login:o?.viewer.githubUser?.login}},{title:l,description:c,logo:d,connectAccount:u,isConnected:p,login:m}=a[t];return t!==Hye||p?Ye.createElement("div",{className:`zhu-panel ${Oye}`},d,p?Ye.createElement("div",null,Ye.createElement("span",{className:zye},t," account:")," ",Ye.createElement("span",{className:Mye},m)):Ye.createElement("div",null,Ye.createElement("span",{className:Pye},l),Ye.createElement("span",{className:Aye},c)),p?Ye.createElement("div",{className:Dye},"Connected"):Ye.createElement(H5,{color:L5.SECONDARY,className:Lye,onClick:u},"Connect")):null},Gye=e=>e.columns?.nodes.map((e=>e.name)).join(", "),Kye=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=e.length>t;return s?n?`${e.substring(0,t-3)}...`:`${e.substring(0,t)}`:e},Vye=e=>{let{children:t,title:n=null,sectionName:s=null}=e;if(null==t)return null;const r=s?`zhc-workspace-form-section--${s}`:"";return Ye.createElement("div",{className:`zhc-workspace-form-section ${r}`,"data-cy":"form-section","data-testid":"form-section"},n?Ye.createElement("div",{className:"zhc-workspace-form-section__title","data-testid":"form-section-title"},n):null,Ye.createElement("div",{className:"zhc-workspace-form-section__body","data-cy":"form-section-body","data-testid":"form-section-body"},t))};var $ye=n(74499);function Zye(){return Zye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zye.apply(this,arguments)}class Yye extends Ye.PureComponent{constructor(e){super(e),this.generateSchema=()=>{let e=$ye.Z_();const{required:t,maxLength:n,validate:s}=this.props;t&&(e=e.required()),n&&(e=e.max(n)),s&&(e=e.test({name:"validate",test:function(e){return Promise.resolve(s(e,this.options.context.values)).then((e=>!e||this.createError({path:this.path,message:e})))}})),this.schema=e},this.validate=(e,t)=>this.schema.validate(e,{abortEarly:!1,context:{values:t}}).then((()=>{})).catch((e=>e.message));const t=["maxLength","required","validate"];this.shouldGenerateSchema=(e,n)=>!ee.pe1(ee.zXx(t),e,n),this.generateSchema()}componentDidUpdate(e){this.shouldGenerateSchema(this.props,e)&&this.generateSchema()}render(){return Ye.createElement(hie.gN,Zye({},this.props,{validate:this.validate}))}}function Jye(){return Jye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jye.apply(this,arguments)}Yye.propTypes={maxLength:SI().number,required:SI().bool,validate:SI().func},Yye.defaultProps={maxLength:null,required:!1,validate:null};class Xye extends Ye.PureComponent{constructor(){super(...arguments),this.remainingCharacters=e=>{const{maxLength:t}=this.props,n=Math.max(t-ee.Uth(0,"length",e),0);return`${n} ${(0,_t.fB)("character","characters",n)} left`},this.shouldShowError=(e,t)=>{const{active:n,touched:s,dirty:r,invalid:i}=e,{name:o,value:a}=t,l=ee.fyY(a),c=r&&!n&&"name"===o&&ee.xbD(l);return(s||n)&&i||c},this.shouldShowValidIcon=e=>{let{dirty:t,touched:n,valid:s}=e;const{showValidIcon:r,validating:i}=this.props;return!(!r||i)&&!(!t&&!n||!s)}}render(){const{disabled:e,label:t,subLabel:n,placeholder:s}=this.props,r=ee.CEd(["label","subLabel","showValidIcon","validating"],this.props);return Ye.createElement(Yye,r,(r=>{let{input:i,meta:o,...a}=r;return Ye.createElement(Vye,null,Ye.createElement("div",{className:"zhc-workspace-form-input__title"},Ye.createElement("div",null,Ye.createElement("span",{className:"zhu-font-bold"},t)," ",Ye.createElement("span",{className:"zhu-text-secondary-dark"},n)),Ye.createElement("div",{"data-cy":"character-count",className:"zhc-workspace-form-input__character-count"},this.remainingCharacters(i.value))),Ye.createElement(Qye,Jye({},i,a,{placeholder:s,showError:this.shouldShowError(o,i),showLockedIcon:e,showValidIcon:this.shouldShowValidIcon(o)&&""!==i.value})),this.shouldShowError(o,i)&&Ye.createElement("div",{"data-cy":"error-message",className:"zhc-workspace-form-input__error-message"},o.error||"A Workspace name is required"))}))}}Xye.propTypes={label:SI().string.isRequired,maxLength:SI().number.isRequired,disabled:SI().bool,placeholder:SI().string,showValidIcon:SI().bool,subLabel:SI().string,validating:SI().bool},Xye.defaultProps={disabled:!1,placeholder:"",showValidIcon:!0,subLabel:null,validating:!1};class Qye extends Ye.PureComponent{constructor(){super(...arguments),this.renderValidIcon=()=>Ye.createElement("div",{className:"zhc-workspace-form-input__icon-right zhc-workspace-form-input__icon-right--check"},Ye.createElement(f5,null)),this.renderLockedIcon=()=>Ye.createElement("div",{className:"zhc-workspace-form-input__icon-right zhc-workspace-form-input__icon-right--lock"},Ye.createElement(YI,{content:"You don't have permissions to edit this"},Ye.createElement(Xse,null)))}render(){const{showError:e,showLockedIcon:t,showValidIcon:n,...s}=this.props;return Ye.createElement("div",{className:"zhc-workspace-form-input__container"},Ye.createElement("input",Jye({},s,{type:"text",className:(0,_I.default)("zhc-workspace-form-input__text-input",{"zhc-workspace-form-input__input-error":e,"zhc-workspace-form-input__text-input--icon-right":n||t})})),t&&this.renderLockedIcon(),n&&this.renderValidIcon())}}Qye.propTypes={showError:SI().bool.isRequired,showLockedIcon:SI().bool.isRequired,showValidIcon:SI().bool.isRequired};class eSe extends Ye.PureComponent{constructor(){super(...arguments),this.renderBottomBanner=()=>{const{bottomSuccessMsg:e,isDisconnectBanner:t}=this.props;return e?Ye.createElement(bie,{modifiers:["center-text",t?"neutral":"success"],"data-cy":"banner"},e):null},this.renderDeleteWorkspace=()=>{const{canDelete:e,onDelete:t}=this.props,n="Delete this workspace";return e?Ye.createElement(H5,{"data-cy":"delete-workspace",onClick:t,color:L5.DANGER,variant:z5.OUTLINED},n):Ye.createElement(Ye.Fragment,null,Ye.createElement(YI,{content:"You don't have permission to delete this workspace"},Ye.createElement(H5,{disabled:!0,variant:z5.OUTLINED},n)),Ye.createElement("span",{className:"zhu-flex zhu-cursor-pointer zhc-workspace-form__footer-learn"},Ye.createElement(YI,{content:"Learn about deleting a workspace"},Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000490533",target:"_blank",rel:"noopener noreferrer",className:"zhc-workspace-form__footer__actions-learn-link"},Ye.createElement(T9,null)))))}}render(){const{disabledSubmit:e,hasScrollbar:t,submitText:n,onClose:s,showDeleteWorkspaceButton:r}=this.props,i=(0,_I.default)("zhc-workspace-form__footer",{"zhc-workspace-form__footer--has-scrollbar":t});return Ye.createElement("div",{className:i},Ye.createElement("div",{className:"zhc-workspace-form__footer__actions"},this.renderBottomBanner(),Ye.createElement("div",{className:"zhc-workspace-form__footer__actions__container"},r?this.renderDeleteWorkspace():null,Ye.createElement("div",{className:"zhc-workspace-form__footer__save_actions"},Ye.createElement(H5,{"data-cy":"cancel",onClick:s,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{"data-cy":"submit",disabled:e,color:L5.ACTION,type:x5.SUBMIT,width:D5.WIDE},n)))))}}function tSe(){return tSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tSe.apply(this,arguments)}eSe.propTypes={disabledSubmit:SI().bool.isRequired,submitText:SI().string.isRequired,onClose:SI().func.isRequired,onDelete:SI().func.isRequired,bottomSuccessMsg:SI().string,canDelete:SI().bool,hasScrollbar:SI().bool,isDisconnectBanner:SI().bool,showDeleteWorkspaceButton:SI().bool},eSe.defaultProps={bottomSuccessMsg:null,hasScrollbar:!1,isDisconnectBanner:!1,showDeleteWorkspaceButton:!1,canDelete:!1};const nSe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--label-soft",t].filter(Boolean).join(" "),"aria-label":"label-soft",role:"img",...n};return Ye.createElement("svg",tSe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M8.202 1.786A2.683 2.683 0 006.314 1h-2.64A2.682 2.682 0 001 3.674v2.64c0 .702.284 1.387.786 1.888l6.483 6.484a1.06 1.06 0 001.505 0l4.913-4.913a1.06 1.06 0 000-1.504L8.203 1.785l-.001.001zM2.471 7.517a1.641 1.641 0 01-.502-1.203v-2.64c0-.936.769-1.705 1.705-1.705h2.64c.452 0 .886.167 1.203.502l6.568 6.55-5.064 5.064-6.55-6.568zm.668-4.378h2.139v2.139H3.139V3.139z",fill:"currentColor",fillRule:"nonzero"})))};function sSe(){return sSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sSe.apply(this,arguments)}const rSe=e=>{let{button:t,className:n,disabledItemMap:s,dropdownHeight:r="390px",dropdownWidth:i="300px",emptyState:o=null,filterFn:a=(e=>e),filterInputPlaceholder:l="",hasItemBorder:c=!1,headerText:d,initialSelectedIds:u,items:p,itemRenderer:m,onSelectionChange:h,forcedPositions:E,popoverDepth:g}=e;const{anchorRef:f,closePopover:_,isOpen:v,togglePopover:I}=ene(!1),b=(0,Ye.useCallback)((e=>{"ESC"!==e.key&&"Escape"!==e.key&&"Tab"!==e.key||v&&(e.stopPropagation(),_())}),[_,v]);return(0,Ye.useEffect)((()=>{const e=f?.current;return e&&e.addEventListener("keydown",b),()=>{e&&e.removeEventListener("keydown",b)}}),[b,f]),Ye.createElement("span",{className:n},Ye.createElement(t.type,sSe({},t.props,{ref:f,onClick:e=>{t.props.onClick&&t.props.onClick(e),I(),e.currentTarget.focus()}})),v&&Ye.createElement(Ene,{className:"zhc-dropdown-filter-popover",close:_,anchorRef:f,forcedPositions:E,popoverDepth:g},Ye.createElement(Ebe,{disabledItemMap:s,emptyState:o,filterFn:a,filterInputPlaceholder:l,hasItemBorder:c,height:r,initialSelectedIds:u,itemRenderer:m,items:p,onClose:_,onSelectionChange:h,title:d,width:i})))},iSe=e=>{let{name:t,color:n}=e;return Ye.createElement("div",{className:"zhc-selection-list__item__label"},n?Ye.createElement("div",{className:"zhc-label-item__color",style:{backgroundColor:iue(n)}}):null,Ye.createElement("div",{className:"zhc-selection-list__item__label__name","data-cy":"label-name"},t))},oSe=Ye.memo(iSe),aSe=e=>Ye.createElement(oSe,{name:e.name,color:e.color}),lSe=(e,t)=>e.filter((e=>e.id.toLowerCase().includes(t.toLowerCase()))),cSe=e=>{let{label:t,onClickRemove:n}=e;return Ye.createElement(pue,{className:"zhc-workspace-filter-label-picker__remove-labelItem",key:t.name,name:t.name,color:t.color},Ye.createElement("button",{"aria-label":"Remove label",className:"zhc-workspace-filter-label-picker__remove-label",type:"button",onClick:()=>n(t.name)},Ye.createElement(R7,null)))},dSe=e=>{let{isEditable:t=!0,labelOptions:n,onSelectionChange:s,selectedLabels:r}=e;const i=(0,Ye.useMemo)((()=>n.map((e=>({...e,id:e.name})))),[n]),o=e=>{let{changedToSelected:t,changedToUnselected:i}=e;const o=t.map((e=>n.find((t=>t.name===e)))).filter((e=>null!=e));let a=r?[...r]:[];i.length&&(a=a.filter((e=>!i.includes(e.name)))),t.length&&(a=[...a,...o]),s(a)},a=e=>{o({changedToSelected:[],changedToUnselected:[e]})},l=(0,_I.default)("zhc-workspace-form-label-filter__controls__labels",{"zhc-workspace-form-label-filter__controls__labels--disabled":!t});return Ye.createElement("div",{className:"zhc-workspace-filter-label-picker"},Ye.createElement(rSe,{button:Ye.createElement(H5,{ariaLabel:"Select labels",className:"zhc-workspace-filter-label-picker__button",color:r?.length?L5.PRIMARY:L5.DEFAULT,disabled:!t,variant:r?.length?z5.OUTLINED:z5.CONTAINED,width:D5.FULL},r?.length?Ye.createElement("span",{className:"zhc-workspace-filter-label-picker__button__label"},Ye.createElement(nSe,null),r?.length," label",1===r?.length?"":"s"," ","selected"):Ye.createElement("span",{className:"zhc-workspace-filter-label-picker__button__label"},Ye.createElement(nSe,null),"Select labels"),Ye.createElement(gte,null)),dropdownHeight:"390px",dropdownWidth:"320px",emptyState:Ye.createElement("div",null,"No Labels found"),filterFn:lSe,filterInputPlaceholder:"Filter by labels",hasItemBorder:!0,headerText:"Filter workspace by label",initialSelectedIds:(r||[]).map((e=>e.name)),items:i,itemRenderer:aSe,onSelectionChange:o}),Ye.createElement("div",{className:l},(r||[]).map((e=>Ye.createElement(cSe,{key:e.name,label:e,onClickRemove:a})))))},uSe=e=>({id:"",labelName:e.name}),pSe=e=>{let{isEditable:t,labelFilters:n,labelOptions:s}=e;const r=(0,hie.U$)("labelFilters",{subscription:{submitError:!0,dirtySinceLastSubmit:!0}}),[i,o]=(0,Ye.useState)((()=>((e,t)=>(e??[]).map((e=>t.find((t=>t.name===e.labelName)))).filter((e=>null!=e)))(n,s))),[a,l]=(0,Ye.useState)(Boolean(n?.length)),c=(0,_I.default)("zhc-workspace-form-label-filter",{"zhc-workspace-form-label-filter--disabled":!t||!a,"zhc-workspace-form-label-filter--edits-locked":!t}),d=r.meta.error||r.meta.submitError;return Ye.createElement("div",{className:c},Ye.createElement("h3",null,"Filter workspace by label(s)"),Ye.createElement("p",{className:"zhc-workspace-form-label-filter__subtitle"},"Accelerate the board by only loading issues and pull requests that relate to your team."),Ye.createElement("div",{className:"zhc-workspace-form-label-filter__controls"},Ye.createElement(pse,{isActive:a,disabled:!t,label:"Only show issues and PRs that match all of these labels",onChange:e=>{t&&(l(e),e?e&&!i.length?r.input.onChange([]):r.input.onChange(i.map(uSe)):r.input.onChange(null))}}),Ye.createElement("div",null,Ye.createElement(dSe,{isEditable:t&&a,labelOptions:s,onSelectionChange:e=>{o(e),r.input.onChange(e.map(uSe))},selectedLabels:i}),d&&!r.meta.dirtySinceLastSubmit?Ye.createElement("p",{className:"zhc-workspace-form-label-filter__error"},d):null)))};function mSe(){return mSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mSe.apply(this,arguments)}const hSe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--plus",t].filter(Boolean).join(" "),"aria-label":"plus",role:"img",...n};return Ye.createElement("svg",mSe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M7.5 3v10a.7.7 0 001.4 0V3a.7.7 0 00-1.4 0z",fill:"currentColor",fillRule:"nonzero"}),Ye.createElement("path",{d:"M13 7.3H3a.7.7 0 000 1.4h10a.7.7 0 000-1.4z",fill:"currentColor",fillRule:"nonzero"})))},ESe=e=>{let{onToggleAlert:t,numOfRepos:n}=e;return n<13?Ye.createElement("span",{className:"zhc-workspace-form__load-warning zhc-workspace-form__load-warning--moderate"},"Load time: Moderate",Ye.createElement("span",{className:"zhu-flex zhu-cursor-pointer","data-testid":"Toggle Alert",onClick:t},Ye.createElement(T9,null))):Ye.createElement("span",{className:"zhc-workspace-form__load-warning zhc-workspace-form__load-warning--slow"},"Load time: Slow",Ye.createElement("span",{className:"zhu-flex zhu-cursor-pointer","data-testid":"Toggle Alert",onClick:t},Ye.createElement(T9,null)))};ESe.displayName="WorkspaceFormLoadTimeWarning",ESe.propTypes={numOfRepos:SI().number.isRequired,onToggleAlert:SI().func.isRequired};const gSe=ESe;function fSe(){return fSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fSe.apply(this,arguments)}const _Se=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--dots-vertical",t].filter(Boolean).join(" "),"aria-label":"dots-vertical",role:"img",...n};return Ye.createElement("svg",fSe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2 10"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M-7-3H9v16H-7z"}),Ye.createElement("g",{fill:"currentColor",transform:"rotate(90 1 1)"},Ye.createElement("rect",{width:2,height:2,rx:1}),Ye.createElement("rect",{width:2,height:2,x:4,rx:1}),Ye.createElement("rect",{width:2,height:2,x:8,rx:1}))))},vSe="ljgoffBwMxFVA8pWSmhw",ISe="rzoq4pEsvSWfFwJ6M1yp",bSe="AAqKUoYwYQAcsVGDrE84",ySe="VpztbjvBs9kDXLieMoLI",SSe="tjE3zP5KIxyfafPXQxPb";const wSe=Ye.forwardRef(((e,t)=>(0,Ye.useMemo)((()=>{const{"data-cy":n,alertTag:s,ariaLabel:r,buttonColor:i,buttonHeight:o,buttonPadding:a,buttonVariant:l,className:c,customButtonClass:d,dataZhFlyover:u,disabled:p=!1,hoverableIcon:m,inactiveIcon:h,inactiveText:E,isActive:g=!1,primaryIcon:f,primaryText:_,secondaryIcon:v,tabIndex:I,toggleOff:b,toggleOn:y,tooltipContent:S,tooltipProps:w={}}=e,R=_&&g?_:E||_,T=(0,_I.default)(SSe,{[`${d}`]:d,[`${d}--is-active`]:d&&g},c),C=g?f:h||f,k=C&&!m?C:null,O=v||null,N=m?Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:bSe},C),Ye.createElement("div",{className:ySe},m)):null,P=Ye.createElement(H5,{ariaLabel:r,className:T,"data-cy":n,disabled:p,onClick:g?b:y,tabIndex:I,color:i,height:o,variant:l,padding:a,ref:t,dataZhFlyover:u},Ye.createElement("div",{className:ISe},O,k||N,R&&Ye.createElement("span",null,R),s&&Ye.createElement(vne,{text:s})));return S?function(e,t){return Ye.createElement(YI,e,t)}({content:S,...w},P):P}),[e,t]))),RSe=Ye.memo(wSe);function TSe(){return TSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TSe.apply(this,arguments)}class CSe extends Ye.Component{constructor(e){super(e),this.adjustCoordinates=this.adjustCoordinates.bind(this),this.state={},this.rafId=null}componentDidMount(){const{isActive:e}=this.props;e&&(this.rafId=requestAnimationFrame(this.adjustCoordinates))}componentDidUpdate(e){const{isActive:t}=this.props;!e.isActive&&t&&(this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame(this.adjustCoordinates))}componentWillUnmount(){this.rafId&&cancelAnimationFrame(this.rafId)}adjustCoordinates(){const{isActive:e,position:t}=this.props;if(!e||!this.button||!this.list)return;const n=(0,vte.findDOMNode)(this.button),s=(0,vte.findDOMNode)(this.list);if(!n||!s)return;const r=n.getBoundingClientRect(),i=s.offsetHeight,o=s.offsetWidth,a={};r.bottom+i<window.innerHeight?a.top=r.bottom:r.top-i>0&&(a.top=r.top-i),r.left+o<window.innerWidth?a.top?a.left=r.left:a.left=r.right:r.right-o>0&&(a.top?a.left=r.right-o:a.left=r.left-o),a.top||(a.top=r.top+r.height/2-i/2),t===kte.RIGHT&&(a.left=r.right-o),this.setState(a)}render(){const{buttonAriaLabel:e,buttonClassname:t,buttonColor:n,buttonHeight:s,buttonPadding:r,buttonText:i,buttonVariant:o,children:a,className:l,customButtonClass:c,dataZhFlyover:d,footer:u,footerStyle:p,hoverableIcon:m,iconModifiers:h,inactiveIcon:E,isActive:g,isDisabled:f,items:_,modifiers:v,position:I,primaryIcon:b,secondaryIcon:y,showHeaderX:S,styleType:w,tabIndex:R,title:T,toggleOpen:C,tooltipContent:k,tooltipProps:O}=this.props,{top:N,left:P}=this.state;return Ye.createElement("div",{className:(0,_I.default)("zhc-dropdown zhc-dropdown--simple",l)},Ye.createElement(RSe,{className:t,ariaLabel:e,customButtonClass:c,"data-cy":"toggle-dropdown",disabled:f,hoverableIcon:m,iconModifiers:h,inactiveIcon:E,isActive:g,primaryIcon:b,ref:e=>{this.button=e},toggleOff:C,toggleOn:C,tooltipContent:k,tooltipProps:O,secondaryIcon:y,primaryText:i,tabIndex:R,buttonColor:n,buttonVariant:o,buttonPadding:r,buttonHeight:s,dataZhFlyover:d}),g?Ye.createElement(ine,null,Ye.createElement(Qte,{coords:{top:N,left:P},modifiers:v,footer:u,footerStyle:p,isActive:g,position:I,ref:e=>{e&&(this.list=e)},showHeaderX:S,styleType:w,title:T,toggleOpen:C},ee.kKJ(_)?a:_.map((e=>Ye.createElement(A_e,{key:e.title,href:e.href,handler:e.handler,iconComponent:e.iconComponent,title:e.title,isDefault:e.isDefault,selected:e.selected}))))):null)}}class kSe extends Ye.PureComponent{constructor(e){super(e),this.setRefs=e=>{if(!e)return;const t=e.button?(0,vte.findDOMNode)(e.button):null,n=e.list?(0,vte.findDOMNode)(e.list):null;this.refs={button:{current:t},list:{current:n}}};const{isActive:t}=e;this.state={isActive:t},this.toggleState=this.toggleState.bind(this)}close(){this.setState({isActive:!1})}toggleState(e){const{isActive:t}=this.state,{onToggleOpenOnly:n,onToggleOpenAndClosed:s}=this.props;e&&e.stopPropagation&&e.stopPropagation(),this.setState((e=>({isActive:!e.isActive}))),t||n(),s(!t)}render(){const{children:e,items:t}=this.props,{isActive:n}=this.state;return ee.$6P(_t.KN,[e,t])?null:Ye.createElement(CSe,TSe({},this.props,{ref:this.setRefs,toggleOpen:this.toggleState,isActive:n}))}}kSe.defaultProps={buttonClassname:"",buttonAriaLabel:null,buttonHeight:null,buttonPadding:null,buttonVariant:null,children:null,className:"",footer:null,inactiveIcon:null,isActive:!1,isDisabled:!1,items:null,position:null,primaryIcon:Ye.createElement(gte,null),onToggleOpenOnly:_t.ZT,onToggleOpenAndClosed:_t.ZT,secondaryIcon:null,tabIndex:"0",title:null,tooltipContent:"",tooltipProps:{}},kSe.propTypes={buttonAriaLabel:SI().node,buttonClassname:SI().string,buttonHeight:SI().oneOf(Object.values(A5)),buttonPadding:SI().oneOf(Object.values(M5)),buttonVariant:SI().oneOf(Object.values(z5)),children:SI().node,className:SI().string,footer:SI().node,inactiveIcon:SI().element,isActive:SI().bool,isDisabled:SI().bool,items:SI().arrayOf(SI().shape({handler:SI().func,href:SI().string,iconComponent:SI().node,isDefault:SI().bool,selected:SI().bool,title:SI().string})),position:SI().string,primaryIcon:SI().element,secondaryIcon:SI().element,tabIndex:SI().string,title:SI().string,tooltipContent:SI().string,tooltipProps:SI().shape({}),onToggleOpenAndClosed:SI().func,onToggleOpenOnly:SI().func},CSe.propTypes=kSe.propTypes;const OSe=kSe,NSe=OSe,PSe=e=>{let{isDefaultRepo:t,onClickDefault:n,onDisconnect:s,onSplit:r,canDisconnect:i}=e;if(!r&&!s)return null;const o=Ye.createElement(Ye.Fragment,null,!t&&Ye.createElement(YI,{content:"This setting will only impact you. Team members will not be affected",wrapperClassName:"zhc-workspace-form-repo-item__option"},Ye.createElement(D_e,{handler:n,title:"Make default","data-cy":"make-default"})),r&&i&&Ye.createElement(D_e,{handler:r,title:"Split repo into own workspace","data-cy":"split-repo-to-workspace"}),s&&i&&Ye.createElement(D_e,{handler:s,title:"Remove repo","data-cy":"remove-repo"}));return Ye.createElement(NSe,{modifiers:["pipeline-options"],primaryIcon:Ye.createElement(_Se,null),buttonVariant:z5.TEXT,buttonPadding:M5.EXTRA_TIGHT,tooltipContent:"Repo options"},o)};PSe.propTypes={isDefaultRepo:SI().bool.isRequired,canDisconnect:SI().bool,onClickDefault:SI().func,onDisconnect:SI().func,onSplit:SI().func},PSe.defaultProps={canDisconnect:!1,onClickDefault:null,onDisconnect:null,onSplit:null};const ASe=()=>Ye.createElement(YI,{wrapperClassName:"zhc-workspace-form-repo-item__tooltip-wrapper",content:"You do not have permissions to edit this repo"},Ye.createElement(Oae,{content:"Read only",type:"outline"})),DSe=e=>{let{ownerName:t,name:n,isDefaultRepo:s}=e;return Ye.createElement("div",{className:"zhc-workspace-form-repo-item__name zhc-workspace-form-repo-item__name--repo","data-cy":"repo-item"},Ye.createElement(Nfe,null),Ye.createElement("span",{className:"zhu-color-text-secondary-dark zhu-text-ellipsis"},t),"/",Ye.createElement("span",{className:"zhu-font-bold zhu-color-text zhu-text-ellipsis"},n),s&&Ye.createElement("span",{className:vSe},Ye.createElement(Oae,{content:"Default",type:"primary"})))};DSe.propTypes={isDefaultRepo:SI().bool.isRequired,name:SI().string.isRequired,ownerName:SI().string.isRequired};const LSe=e=>{let{canDisconnect:t,description:n,name:s,ownerName:r,onDisconnect:i,onSplit:o,isDefaultRepo:a,isLocked:l,onClickDefault:c}=e;return Ye.createElement("div",{className:"zhc-workspace-form-repo-item"},Ye.createElement("div",{className:"zhc-workspace-form-repo-item__contents"},Ye.createElement("div",{className:"zhc-workspace-form-repo-item__header"},Ye.createElement(DSe,{ownerName:r,name:s,isDefaultRepo:a}),n&&Ye.createElement("div",{className:"zhc-workspace-form-repo-item__description","data-cy":"repo-item-description"},n)),Ye.createElement("div",{className:"zhc-workspace-form-repo-item__controls"},l&&Ye.createElement(ASe,null),PSe({isDefaultRepo:a,onClickDefault:c,onDisconnect:i,onSplit:o,canDisconnect:t}))))};LSe.defaultProps={canDisconnect:!1,description:null,isDefaultRepo:!1,isLocked:!1,name:null,ownerName:null,onClickDefault:_t.ZT,onDisconnect:null,onSplit:null},LSe.propTypes={canDisconnect:SI().bool,description:SI().node,isDefaultRepo:SI().bool,isLocked:SI().bool,name:SI().string,ownerName:SI().string,onClickDefault:SI().func,onDisconnect:SI().func,onSplit:SI().func};const zSe=LSe,MSe=e=>{let{children:t,className:n,hideBulbIcon:s=!1,isDismissed:r=!1,linkHandler:i,linkHref:o,linkText:a,pointerOffset:l="50%",pointerPosition:c="NONE",verticalLayout:d=!1,onClose:u}=e;const[p,m]=(0,Ye.useState)(!1),h=()=>{m(!0),u&&u()},E=()=>{i&&i(),h()};if(r&&!p)return null;const g=(0,_I.default)("zhc-info-alert",n,{"zhc-info-alert--vertical":d,"zhc-info-alert--pointer":"NONE"!==c,"zhc-info-alert--pointer--left":"LEFT"===c,"zhc-info-alert--pointer--right":"RIGHT"===c,"zhc-info-alert--pointer--top":"TOP"===c,"zhc-info-alert--pointer--bottom":"BOTTOM"===c});let f;f=a?o?Ye.createElement("a",{href:o,onClick:h,target:"_blank",rel:"noopener noreferrer"},a):Ye.createElement("a",{className:"zhu-cursor-pointer",onClick:E},"See related workspaces"):null;const _={"--pointer-offset":l};return Ye.createElement("div",{className:g,"data-cy":"alert",style:_},s?null:Ye.createElement("div",{className:"zhc-info-alert__icon"},Ye.createElement(b7,null)),Ye.createElement("div",{className:"zhc-info-alert__content"},Ye.createElement("span",null,t," ",f)),u?Ye.createElement("div",{className:"zhc-info-alert__close",onClick:u},Ye.createElement(n5,null)):null)},xSe=(0,Ye.memo)(MSe),FSe=xSe,USe=n.p+"../../img/built/generic-planet.svg";class BSe extends Ye.PureComponent{constructor(e){super(e),this.onClickMakeDefaultRepo=e=>()=>{const{updateWorkspaceDefaultRepo:t}=this.props;t(e)},this.getDisconnectParams=(e,t)=>{const{repo_id:n,repository:s}=e;return{repoIdToDisconnect:n,repoToDisconnect:s,workspace:t}},this.handleOnDisconnect=(e,t)=>{const{defaultRepoId:n,onDisconnect:s,removeRepoToBeAdded:r,updateWorkspaceDefaultRepo:i}=this.props,{repo_id:o,isToBeAdded:a}=e,l=a?()=>r(o):()=>s(this.getDisconnectParams(e,t));return function(){o===n&&i(null),l()}},this.handleOnSplit=(e,t)=>{const{onSplit:n}=this.props;return()=>{n(this.getDisconnectParams(e,t))}},this.toggleLoadInfoAlert=()=>{const{isWarningAlertOpen:e}=this.state;return e?this.closeLoadInfoAlert():this.openLoadInfoAlert()},this.openLoadInfoAlert=()=>{this.setState({isWarningAlertOpen:!0},(()=>{this.infoContainerRef&&this.infoContainerRef.current&&"function"==typeof this.infoContainerRef.current.scrollIntoView&&this.infoContainerRef.current.scrollIntoView()}))},this.closeLoadInfoAlert=()=>{this.setState({isWarningAlertOpen:!1})},this.renderLoadInfoAlert=()=>{const{isWarningAlertOpen:e}=this.state;return e&&Ye.createElement("div",{className:"zhc-workspace-form__load-info__container",ref:this.infoContainerRef},Ye.createElement("div",{className:"zhc-workspace-form__load-info"},Ye.createElement("span",null,Ye.createElement("span",{className:"zhu-text-important"},"Optimize your workspace setup! "),Ye.createElement("span",{className:"zhu-text-secondary-dark"},"Connecting too many repos to a workspace might result in slower load times. Check out our guides about best practices on organizing work to optimize load times."," "),Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000455864",target:"_blank",rel:"noopener noreferrer"},"Learn more")),Ye.createElement("span",{className:"zhu-cursor-pointer",onClick:this.closeLoadInfoAlert},Ye.createElement(R7,null))))},this.state={isWarningAlertOpen:e.connectedRepos.length>=7},this.infoContainerRef=Ye.createRef()}render(){const{dismissConnectedReposInfoAlert:e,isConnectedReposInfoAlertDismissed:t,openMergeRepoSelector:n,reposToAdd:s,connectedRepos:r,defaultRepoId:i,isEditable:o,isGitHubProjectsImporterShown:a,allowNoRepos:l,disableSplitting:c}=this.props,d=[...r,...s].length;if(ee.xbD(r)&&ee.xbD(s))return Ye.createElement(Vye,{title:"Connect repositories",sectionName:"connected-repos"},Ye.createElement("div",{className:"zhc-workspace-form__section--empty"},!a&&Ye.createElement(t7,{src:USe}),Ye.createElement("div",null,Ye.createElement("div",{className:"zhc-workspace-form__empty-subtext"},"Start adding your GitHub repositories to build out your workspace."),Ye.createElement("div",{className:"zhc-workspace-form-repo-item"},Ye.createElement(H5,{"data-cy":"add-repos",onClick:n,color:L5.PRIMARY,variant:z5.OUTLINED},Ye.createElement(hSe,null)," \xa0Add repositories")))));const u=Ye.createElement("span",null,"This is your default repo when creating new issues."),p=d$(ee.zoF(r,s),(e=>e.repo_id)),m=ee.xHg(ee.uKc(ee.OH4("repo_id",i),p));return Ye.createElement(Vye,{title:"Connected repositories",sectionName:"connected-repos"},m.map((e=>{const{workspace:t}=this.props,n=ee.OH4("repo_id",i,e),s=ee.uF6(["permissions","push"],!0,e),o=s&&(l||r.length>1||e.isToBeAdded),a=o?this.handleOnDisconnect(e,t):null,d=!c&&s&&r.length>1&&!e.isToBeAdded?this.handleOnSplit(e,t):null;return Ye.createElement(zSe,{key:e.repo_id,isDefaultRepo:n,isLocked:!e.permissions.push,description:n?u:null,name:e.repository,ownerName:e.organization,onDisconnect:a,onSplit:d,onClickDefault:this.onClickMakeDefaultRepo(e.repo_id),canDisconnect:o})})),o&&Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhc-workspace-form-repo-item__add"},Ye.createElement(H5,{"data-cy":"add-repos",onClick:n,color:L5.PRIMARY,variant:z5.OUTLINED},Ye.createElement(hSe,null)," \xa0Add repos"),d>=7?Ye.createElement(gSe,{numOfRepos:d,onToggleAlert:this.toggleLoadInfoAlert}):null),Ye.createElement(FSe,{isDismissed:t,onClose:e,pointerPosition:"TOP",pointerOffset:"40px"},"Add repos from another organization. A workspace can contain repos from any of your GitHub organizations that have ZenHub enabled."),this.renderLoadInfoAlert()))}}BSe.propTypes={connectedRepos:SI().arrayOf(SI().shape({access_at:SI().string,isPrivate:SI().bool,name:SI().string,ownerName:SI().string,permissions:SI().shape({admin:SI().bool,pull:SI().bool,push:SI().bool}),repo_id:SI().number})).isRequired,dismissConnectedReposInfoAlert:SI().func.isRequired,isConnectedReposInfoAlertDismissed:SI().bool.isRequired,isGitHubProjectsImporterShown:SI().bool.isRequired,openMergeRepoSelector:SI().func.isRequired,removeRepoToBeAdded:SI().func.isRequired,reposToAdd:SI().arrayOf(SI().shape({})).isRequired,updateWorkspaceDefaultRepo:SI().func.isRequired,onDisconnect:SI().func.isRequired,onSplit:SI().func.isRequired,allowNoRepos:SI().bool,defaultRepoId:SI().number,disableSplitting:SI().bool,isEditable:SI().bool,workspace:SI().shape({_id:SI().string})},BSe.defaultProps={allowNoRepos:!1,disableSplitting:!1,isEditable:!1,defaultRepoId:null,workspace:null};const qSe=e=>{let{isSubmissionLoading:t}=e;const n=Ye.createElement("div",{className:"zhc-workspace-form-loading__message"},Ye.createElement("div",{className:"zhc-workspace-form-loading__header"}),Ye.createElement("div",{className:"zhc-workspace-form-loading__subtext"},"This may take a couple of minutes")),s=(0,_I.default)("zhc-workspace-form-loading",{"zhc-workspace-form-loading--submission":t});return Ye.createElement("div",{className:s},t&&n,Ye.createElement(F5,null))};qSe.propTypes={isSubmissionLoading:SI().bool},qSe.defaultProps={isSubmissionLoading:!1};const HSe=qSe;function WSe(){return WSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WSe.apply(this,arguments)}const jSe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--import",t].filter(Boolean).join(" "),"aria-label":"import",role:"img",...n};return Ye.createElement("svg",WSe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.293 11.293a1 1 0 011.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414L11 14.586V3a1 1 0 112 0v11.586l3.293-3.293zM2 19v-3a1 1 0 112 0v3a1 1 0 001 1h14a1 1 0 001-1v-3a1 1 0 112 0v3a3 3 0 01-3 3H5a3 3 0 01-3-3z",fill:"currentColor"}))};function GSe(){return GSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GSe.apply(this,arguments)}const KSe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--github-projects",t].filter(Boolean).join(" "),"aria-label":"github-projects",role:"img",...n};return Ye.createElement("svg",GSe({viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.406 0A2.406 2.406 0 000 2.406v17.188A2.406 2.406 0 002.406 22h17.188A2.406 2.406 0 0022 19.594V2.406A2.406 2.406 0 0019.594 0H2.406zm-.344 2.406c0-.19.154-.344.344-.344h17.188c.19 0 .343.154.343.344v17.188c0 .19-.153.343-.343.343H2.406a.344.344 0 01-.344-.343V2.406zm14.094 1.719a1.03 1.03 0 00-1.031 1.031V15.47a1.031 1.031 0 002.063 0V5.156c0-.57-.462-1.031-1.032-1.031zM4.813 5.156a1.031 1.031 0 012.062 0v7.563a1.031 1.031 0 01-2.063 0V5.156zM11 4.125a1.03 1.03 0 00-1.031 1.031V9.97a1.031 1.031 0 002.062 0V5.156A1.03 1.03 0 0011 4.125z",fill:"currentColor"}))},VSe="ek9ZuMXh8T1JH3rm4s1I",$Se="jgNiw2JO3PbGQbdAg5Bn",ZSe="ARfn3NjmDCtsjCV9unO6",YSe="UJLuu9Zgh11LPZVnCE0B",JSe="TBqSwHUZT7Bnj5aF592A",XSe="ySZvoxzxHzrxsB73nQtb",QSe="WDyAtw0Mae82cUzIILkw",ewe="uxmT_Uo6yO1mg8UOH638",twe="o20VXePq_vpyMwKddSw0",nwe=e=>{let{onRemove:t}=e;const n=Ye.createElement(D_e,{handler:t,title:"Remove this project","data-cy":"remove-this-project"});return Ye.createElement(NSe,{modifiers:["pipeline-options"],buttonClassname:twe,position:kte.RIGHT,primaryIcon:Ye.createElement(_Se,{className:ewe}),buttonVariant:z5.TEXT,buttonPadding:M5.EXTRA_TIGHT,showHeaderX:!0,tooltipContent:"Project options"},n)},swe=e=>{let{project:t,onRemove:n}=e;const s=Gye(t);return Ye.createElement("div",{className:VSe},Ye.createElement("div",{className:$Se},Ye.createElement("div",{className:ZSe,"data-cy":"project-item"},Ye.createElement(KSe,{className:YSe}),Ye.createElement("span",{className:JSe},t.name)),Ye.createElement("div",{className:XSe,"data-cy":"project-item-pipeline-list"},Ye.createElement("span",null,s))),Ye.createElement("div",{className:QSe},Ye.createElement(nwe,{onRemove:n})))},rwe=e=>{const{openGHProjectImporter:t,onRemove:n,selectedProject:s}=e;return s?Ye.createElement(Vye,{title:"Import issues",sectionName:"import-projects"},Ye.createElement(swe,{onRemove:n,project:s})):Ye.createElement(Vye,{title:"Import issues",sectionName:"import-projects"},Ye.createElement("div",{className:"zhc-workspace-form__section--empty"},Ye.createElement("div",null,Ye.createElement("div",{className:"zhc-workspace-form__empty-subtext"},"Import your GitHub Projects board to continue with your current setup."),Ye.createElement("div",{className:"zhc-workspace-form-repo-item"},Ye.createElement(H5,{"data-cy":"import-project",onClick:t,color:L5.PRIMARY,variant:z5.OUTLINED},Ye.createElement(jSe,null)," \xa0 Import GitHub projects")))))};var iwe=n(47504),owe=n.n(iwe);function awe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function lwe(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){awe(i,s,r,o,a,"next",e)}function a(e){awe(i,s,r,o,a,"throw",e)}o(void 0)}))}}const cwe="This name has already been taken by another workspace",dwe="A workspace name is required to save a description",uwe="A workspace name is required";class pwe{constructor(e){var t=this;let{checkIsNameValid:n,owner:s,workspace:r=null,labelFilters:i=null}=e;this.setParams=e=>{let{owner:t,workspace:n}=e;this.workspace=n,this.owner=t},this.validateForm=e=>{let{name:t,description:n}=e;const{workspace:s}=this,r=s&&s.name,i={};return!t&&n&&(i.name=dwe),!t&&r&&(i.name=uwe),i},this.resetDebouncedIsNameValid=()=>{this.debouncedIsNameValid=owe()(this.isNameValid,500)},this.validateName=function(){var e=lwe((function*(e){if(!e)return uwe;return(yield t.debouncedIsNameValid(e))?void 0:cwe}));return function(t){return e.apply(this,arguments)}}(),this.isNameValid=lwe((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=t.workspace&&t.workspace.name;if(e.trim()===n)return!0;const s=yield t.checkIsNameValid(e,t.owner);return s})),this.checkIsNameValid=n,this.resetDebouncedIsNameValid(),this.setParams({labelFilters:i,owner:s,workspace:r})}}function mwe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const hwe=e=>{let{activeOwner:t,bottomSuccessMsg:n,canDeleteWorkspace:s,checkIsNameValid:r,connectedRepos:i,defaultRepoId:o,dismissConnectedReposInfoAlert:a,hasLockedRepo:l,isConnectedReposInfoAlertDismissed:c,isCreateWorkspace:d,isCreatingWorkspace:u,isLoading:p,isUpdatingWorkspace:m,isWorkspaceEditable:h,labelFilters:E,labelOptions:g,onClickX:f,onClose:_,onDelete:v,onDisconnect:I,onSubmit:b,onSplit:y,openMergeRepoSelector:S,openGHProjectsImporterSelector:w,ownerName:R,removeProjectToBeImported:T,removeRepoToBeAdded:C,reposToAdd:k,selectedProject:O,showDisconnectBanner:N,title:P,updateWorkspaceDefaultRepo:A,userName:D,workspace:L}=e;const[z,M]=(0,Ye.useState)(!1),[x,F]=(0,Ye.useState)(!1),[U,B]=(0,Ye.useState)({name:"",description:""}),q=(0,Ye.useRef)(null),H=(0,Ye.useRef)(new pwe({checkIsNameValid:r,owner:t,workspace:L})),W=(0,l3.I0)(),j=(0,l3.v9)(kre),G=(0,l3.v9)(Ore),K=d&&(j||G);(0,Ye.useEffect)((()=>{if(M(!1),q?.current){const{clientHeight:e,scrollHeight:t}=q?.current??{clientHeight:0,scrollHeight:0};F(e<t)}H.current.setParams({owner:t,workspace:L,labelFilters:E}),H.current.resetDebouncedIsNameValid()}),[t,L,M,E]),(0,Ye.useEffect)((()=>{!U.name&&O?.name&&B({name:Kye(O.name,ha.kR,!1),description:U.description})}),[O]);const V=()=>{z||!(0,_t.KN)(k)||U.name?Doe("Are you sure you want to exit?","Changes made to this workspace will not be saved.").then((()=>_())).catch(_t.ZT):_()},$=()=>{V(),f()},Z=function(){var e,t=(e=function*(e){let{description:t="",labelFilters:n,name:s}=e;const r=L?.name,i=L?._id;if(s||r||!ee.xbD(k)){if(Array.isArray(n)&&!n.length)return{labelFilters:"A label is required to filter the workspace"};W(O?oZ.setIsImportingProjects(!0):oZ.setIsImportingProjects(!1)),W(jX(!1)),b({description:t,labelFilters:n,name:s,ownerName:R,userName:D,workspaceId:i,...O&&{selectedProjectId:O.id}})}else V()},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){mwe(i,s,r,o,a,"next",e)}function a(e){mwe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(m||u)return Ye.createElement(zbe,{isOpen:!0,onClose:$,hideCloseIcon:!0},Ye.createElement(HSe,{isSubmissionLoading:!0}));if(p)return Ye.createElement(zbe,{isOpen:!0,onClose:$},Ye.createElement(xbe,{onClose:V,title:P}),Ye.createElement(HSe,null));const Y=d&&l,J=d&&!l||h,X=Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000455791-workspace-cannot-be-created-lacking-permissions",target:"_blank",rel:"noopener noreferrer"},"Learn more"),Q=(0,_I.default)("zhc-workspace-form__action-container",{"zhc-workspace-form__action-container--column":o||O});return Ye.createElement(zbe,{isOpen:!0,onClose:$},Ye.createElement(hie.l0,{onSubmit:Z,initialValues:{name:L?.name||U.name||"",description:L?.description||U.description||"",labelFilters:E},subscription:{submitError:!0,validating:!0,invalid:!0,submitFailed:!0,dirtySinceLastSubmit:!0,submitting:!0,values:!0}},(e=>{let{handleSubmit:t,submitError:r,validating:l,invalid:u,submitFailed:p,dirtySinceLastSubmit:m,submitting:f,values:_}=e;return Ye.createElement("form",{className:"zhc-workspace-form__form",onSubmit:t},Ye.createElement("div",{className:"zhc-workspace-form__scrollable-section",ref:q},Ye.createElement(xbe,{onClose:V,title:P}),Y&&Ye.createElement("div",{className:"zhc-workspace-form-permission-banner"},Ye.createElement(bie,{modifiers:["center-text"]},Ye.createElement("strong",null,"You need to have write permissions for all connected repos")," to create this workspace."," ",X)),Ye.createElement(hie.lP,{subscription:{dirty:!0,values:!0},onChange:e=>{let{dirty:t,values:n}=e;t&&(M(t),n&&B({name:n.name,description:n.description}))}}),r&&Ye.createElement(Vye,null,Ye.createElement("div",{className:"zhc-workspace-form-input__error-message"},r)),Ye.createElement(Xye,{name:"name","data-cy":"workspace-name",label:"Workspace name",maxLength:ha.kR,autoFocus:!0,autoComplete:"off",validate:z||U.name?H.current.validateName:()=>{},validateFields:[],validating:l,disabled:!J,placeholder:"e.g. Engineering, Product, Design"}),Ye.createElement(Xye,{name:"description","data-cy":"description",label:"Description",subLabel:"(optional)",maxLength:ha.ui,autoComplete:"off",showValidIcon:!1,validateFields:[],disabled:!J,placeholder:"Give your workspace a description"}),Ye.createElement("div",{className:Q},(()=>{const e=[Ye.createElement(BSe,{key:"WorkspaceFormRepos",dismissConnectedReposInfoAlert:a,isConnectedReposInfoAlertDismissed:c,updateWorkspaceDefaultRepo:A,isEditable:J,openMergeRepoSelector:S,removeRepoToBeAdded:C,onDisconnect:I,onSplit:y,reposToAdd:k,defaultRepoId:o,connectedRepos:i,workspace:L,isGitHubProjectsImporterShown:K})];return K&&e.push(Ye.createElement(rwe,{key:"WorkspaceFormGHProjectImporter",openGHProjectImporter:w,onRemove:T,selectedProject:O})),!d&&i.length>0&&e.push(Ye.createElement(pSe,{key:"WorkspaceFormLabelFilter",isEditable:h,labelOptions:g,labelFilters:E})),e})())),Ye.createElement(eSe,{bottomSuccessMsg:n,disabledSubmit:u&&!(p&&m)||l||f||!_.name||!J||0===i.length&&0===k.length,hasScrollbar:x,isDisconnectBanner:N,isConnectedReposInfoAlertDismissed:c,onClose:V,submitText:d?"Create workspace":"Update workspace",showDeleteWorkspaceButton:!d,canDelete:s,onDelete:v}))})))},Ewe=hwe,gwe="sF0b60DmHmvbs3SflmSU",fwe="wo3LfmemnX_Hk7e_JXfy",_we="maA60UPfTCujl_cUXPtU",vwe="D515hxJl0PP6eyu1_8qf",Iwe="d4H83BJIOBLHN3uYcJTV",bwe=e=>{let{isEditable:t,labelFilters:n,labelOptions:s,onLabelChange:r,selectedLabels:i,errorMsg:o}=e;(0,Ye.useEffect)((()=>(n&&r(((e,t)=>(e??[]).map((e=>t.find((t=>t.name===e.labelName)))).filter((e=>null!=e)))(n,s)),()=>{r(null)})),[n,s]);const[a,l]=(0,Ye.useState)(Boolean(n?.length));return Ye.createElement("div",{className:gwe},Ye.createElement("h3",{className:fwe},"Filter workspace by label(s)"),Ye.createElement("p",{className:_we},"Accelerate the board by only loading issues and pull requests that relate to your team."),Ye.createElement("div",{className:vwe},Ye.createElement(pse,{isActive:a,disabled:!t,label:"Only show issues and PRs that match all of these labels",onChange:e=>{t&&(l(e),r(e?e&&!i?.length?[]:i:null))}}),Ye.createElement("div",null,Ye.createElement(dSe,{isEditable:t&&a,labelOptions:s,onSelectionChange:r,selectedLabels:i}),o?Ye.createElement("p",{className:Iwe},o):null)))};class ywe extends Ye.PureComponent{constructor(e){super(e),this.state={value:"",deleteInProgress:!1},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleChange(e){this.setState({value:e.target.value})}handleSubmit(){const{onClickFinish:e}=this.props;this.setState({deleteInProgress:!0}),e()}render(){const{onClickClose:e,workspace:t}=this.props,{value:n,deleteInProgress:s}=this.state,r="repos"in t&&t.repos?.length,i="displayName"in t?t.displayName:t.name;return Ye.createElement("div",{className:"zhc-confirm-dialog","data-cy":"delete-confirm-dialog"},Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title zhc-modal__header__title--danger"},"Delete workspace"),Ye.createElement("span",{className:"zhc-modal__header__close","data-cy":"close",onClick:e},Ye.createElement(R7,null)),Ye.createElement("span",{className:"zhc-confirm-dialog__subtitle"},"Are you sure you want to delete"," ",Ye.createElement("b",{className:"zhu-color-text"},i),"?")),Ye.createElement(bie,null,Ye.createElement("ul",null,Ye.createElement("li",null,"This action cannot be reverted"),Ye.createElement("li",null,r?"Workflows, Releases and Projects may be affected":"Projects in the roadmap will be deleted"),Ye.createElement("li",null,"All team members will be affected"))),Ye.createElement("div",{className:"zhc-confirm-dialog__body"},Ye.createElement("div",{className:"zhc-confirm-dialog__info"},Ye.createElement("label",null,"Please type ",Ye.createElement("b",null,i)," to confirm you want to remove it."),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.sm-1}},(e=>Ye.createElement("input",{autoFocus:!0,className:"zhc-input",type:"text","data-cy":"workspace-name",placeholder:e?"Name of the workspace you are deleting":"Type in the name of the workspace you're deleting- it's case-sensitive",value:n,onChange:this.handleChange})))),Ye.createElement("div",{className:"zhc-confirm-dialog__actions"},Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:e},"Cancel"),Ye.createElement(H5,{disabled:i!==n||s,color:L5.DANGER,variant:z5.OUTLINED,"data-cy":"delete-workspace",onClick:this.handleSubmit},s?"Deleting...":"I understand, delete this workspace"))))}}const Swe=e=>{let{workspace:t,onClickClose:n,onClickFinish:s}=e;return Ye.createElement(Xre,{isOpen:!0,modifiers:["size-auto"],onClose:n},Ye.createElement(ywe,{workspace:t,onClickClose:n,onClickFinish:s}))},wwe="rb9FRgYHCh_o23I7gPmk",Rwe="NZdyR_0mxRQeEQqU14S6",Twe="jJAD0D4lcXQ_bqR6UguI",Cwe=e=>{let{isWorkspaceDeletable:t,onDelete:n}=e;return null==t?Ye.createElement(H5,{disabled:!0,variant:z5.OUTLINED},"Delete this workspace"):t?Ye.createElement(H5,{"data-cy":"delete-workspace",onClick:n,color:L5.DANGER,variant:z5.OUTLINED},"Delete this workspace"):Ye.createElement("div",{className:wwe},Ye.createElement(YI,{content:"You don't have permission to delete this workspace"},Ye.createElement(H5,{disabled:!0,variant:z5.OUTLINED},"Delete this workspace")),Ye.createElement(YI,{content:"Learn about deleting a workspace"},Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000490533",target:"_blank",rel:"noopener noreferrer",className:Rwe},Ye.createElement(T9,{className:Twe}))))},kwe=()=>{const{connectedRepos:e,defaultRepoId:t,description:n,disableSubmit:s,formTitle:r,handleClose:i,handleCloseModal:o,handleDescriptionChange:a,handleNameChange:l,handleLabelsChange:c,handleNameBlur:d,handleSubmit:u,initialLabelFilters:p,isEditMode:m,isOpen:h,isWorkspaceEditable:E,isWorkspaceFormLoading:g,labelFilterError:f,labelOptions:_,name:v,selectedLabels:I,submitError:b,submitLabel:y,workspace:S,defaultRepoIdState:w,setDefaultRepo:R,openMergeRepoSelector:T,disconnectRepo:C,removeRepoToBeAdded:k,reposToAdd:O,loading:N,dismissConnectedReposInfoAlert:P}=Rye(),{isWorkspaceDeletable:A,handleCancelDelete:D,handleConfirmDelete:L,handleInitDelete:z,isConfirmingDelete:M}=aye(S?._id),{data:x,loading:F}=Bye(),U=!x?.viewer.loginIdentifier,{bottomSuccessMsg:B,isWorkspaceLoading:q,isUpdatingWorkspace:H,isCreatingWorkspace:W,isConnectedReposInfoAlertDismissed:j}=ZIe();return q||H||W||g?Ye.createElement(zbe,{isOpen:h,onClose:i},Ye.createElement("div",{className:Vbe,"data-testid":"modal-contents"},Ye.createElement(xbe,{className:$be,onClose:o,title:r,isPlatformUser:!0}),Ye.createElement(HSe,null))):Ye.createElement(zbe,{isOpen:h,onClose:i},Ye.createElement("form",{className:Vbe,"data-testid":"modal-contents",onSubmit:u},Ye.createElement(xbe,{className:$be,onClose:o,title:r,isPlatformUser:!0}),Ye.createElement("div",null,Ye.createElement(Kbe,{autoComplete:"off",autoFocus:!m,dataTestId:"workspace-name",label:"Workspace name",maxLength:ha.kR,onChange:l,onBlur:d,placeholder:"e.g. Engineering, Product, Design",value:v,errorMsg:b}),Ye.createElement(Kbe,{dataTestId:"description",label:"Description",maxLength:ha.ui,onChange:a,placeholder:"Give your workspace a description",subLabel:"(optional)",value:n})),!F&&!U&&Ye.createElement("div",{className:Jbe},Ye.createElement(jye,{account:"GitHub"})),!F&&U&&Ye.createElement("div",null,Ye.createElement(BSe,{allowNoRepos:!0,dismissConnectedReposInfoAlert:P,isConnectedReposInfoAlertDismissed:j,updateWorkspaceDefaultRepo:R,isEditable:!0,openMergeRepoSelector:T,removeRepoToBeAdded:k,onDisconnect:C,reposToAdd:O,defaultRepoId:w||t,connectedRepos:e,workspace:S,isGitHubProjectsImporterShown:!1,disableSplitting:!0,onSplit:_t.ZT})),U&&e&&e.length>0&&Ye.createElement(bwe,{isEditable:E,labelOptions:_,labelFilters:p,errorMsg:f,selectedLabels:I,onLabelChange:c}),B?Ye.createElement(bie,{modifiers:["center-text","success"],"data-cy":"banner"},B):null,Ye.createElement("div",{className:Zbe},m?Ye.createElement(Cwe,{isWorkspaceDeletable:A,onDelete:z}):null,Ye.createElement("div",{className:Ybe}),Ye.createElement(H5,{dataTestId:"cancel-button",onClick:o,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{color:L5.ACTION,dataTestId:"submit-button",disabled:s||N,variant:z5.CONTAINED,type:x5.SUBMIT},N?"Loading...":y))),M?Ye.createElement(Swe,{workspace:{name:S?.name||""},onClickClose:D,onClickFinish:L}):null)};function Owe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Nwe=()=>{const{workspace:e,workspaceId:t,ownerName:n}=ZIe(),s=(0,l3.I0)(),r=function(){var r,i=(r=function*(){yield s(oZ.deleteWorkspace({workspaceId:t,workspaceName:e.name,ownerName:n}))},function(){var e=this,t=arguments;return new Promise((function(n,s){var i=r.apply(e,t);function o(e){Owe(i,n,s,o,a,"next",e)}function a(e){Owe(i,n,s,o,a,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();return Ye.createElement(Swe,{workspace:e,onClickFinish:r,onClickClose:()=>s(oZ.setMergeRepoStep(fV))})};class Pwe extends Ye.PureComponent{constructor(e){super(e),this.state={value:"",disconnectInProgress:!1},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleChange(e){this.setState({value:e.target.value})}handleSubmit(){const{onClickFinish:e}=this.props;this.setState({disconnectInProgress:!0}),e()}render(){const{onClickClose:e,connectionParams:t}=this.props,{value:n,disconnectInProgress:s}=this.state,{repoToDisconnect:r,workspace:i}=t;return Ye.createElement("div",{className:"zhc-confirm-dialog","data-cy":"split-confirm-dialog"},Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title"},"Split repo into its own Workspace"),Ye.createElement("span",{className:"zhc-modal__header__close","data-cy":"close",onClick:e},Ye.createElement(R7,null)),Ye.createElement("span",{className:"zhc-confirm-dialog__subtitle"},"Are you sure you want to remove"," ",Ye.createElement("strong",{className:"zhu-color-text"},r)," repo from"," ",Ye.createElement("strong",{className:"zhu-color-text"},i.displayName)," Workspace?"," ",Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000490533",target:"_blank","data-cy":"learn-more",rel:"noopener noreferrer"},"Learn more"))),Ye.createElement(bie,null,Ye.createElement("strong",null,"Data will be lost. These changes are irreversible. All team members will be affected."),Ye.createElement("ul",null,Ye.createElement("li",null,"Issues will be permanently affected: Epic relationships, connected PRs, dependencies, and Pipeline placements will be lost in this Workspace."),Ye.createElement("li",null,"Reports in the ",Ye.createElement("strong",null,i.displayName)," Workspace will be impacted"))),Ye.createElement("div",{className:"zhc-confirm-dialog__body"},Ye.createElement("div",{className:"zhc-confirm-dialog__info"},Ye.createElement("label",null,Ye.createElement("b",null,"Please type in the name of the repo you are splitting into a new Workspace to confirm")),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.sm-1}},(e=>Ye.createElement("input",{autoFocus:!0,className:"zhc-input","data-cy":"repo-input",type:"text",placeholder:e?"Name of the repo you are disconnecting":"Type the name of the repo to split - it's case-sensitive",value:n,onChange:this.handleChange})))),Ye.createElement("div",{className:"zhc-confirm-dialog__actions"},Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:e},"Cancel"),Ye.createElement(Ope,{disabled:r!==n||s,modifiers:["danger-bordered"],onClick:this.handleSubmit,"data-cy":"split-repo",text:s?"Splitting...":"I understand, split this repo"}))))}}Pwe.defaultProps={connectionParams:{}},Pwe.propTypes={onClickClose:SI().func.isRequired,onClickFinish:SI().func.isRequired,connectionParams:SI().shape({repoIdToDisconnect:SI().number.isRequired,repoToDisconnect:SI().string.isRequired,workspace:SI().shape({displayName:SI().string}).isRequired})};const Awe=e=>{const{onClickClose:t}=e;return Ye.createElement(Xre,{isOpen:!0,modifiers:["size-auto"],onClose:t},Ye.createElement(Pwe,e))};Awe.propTypes={onClickClose:SI().func.isRequired};const Dwe=Awe;function Lwe(){return Lwe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lwe.apply(this,arguments)}class zwe extends Ye.PureComponent{constructor(){super(...arguments),this.onClickFinish=()=>{const{connectionParams:e,onClickFinish:t}=this.props;t(e)}}render(){return Ye.createElement(Dwe,Lwe({},this.props,{onClickFinish:this.onClickFinish}))}}zwe.defaultProps={},zwe.propTypes={connectionParams:SI().shape({}).isRequired,onClickFinish:SI().func.isRequired};const Mwe=(0,l3.$j)((function(e){return{connectionParams:W$.connectionParams(e)}}),(function(e){return{onClickClose:()=>{e(oZ.setMergeRepoStep(fV))},onClickFinish:t=>{e(oZ.splitRepoFromWorkspace(t))}}}))(zwe);function xwe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}class Fwe extends Ye.PureComponent{constructor(e){var t;super(e),t=this,this.onSubmit=function(){var e,n=(e=function*(e){let{description:n="",name:s}=e;const{onSubmit:r,owner:i,repoIdToDisconnect:o,workspace:a}=t.props;t.setState({isSaving:!0}),yield r({workspaceId:a._id,name:s,description:n,owner:i,repoIdToDisconnect:o}),t.setState({isSaving:!1})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xwe(i,s,r,o,a,"next",e)}function a(e){xwe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),this.getInitialFormValues=()=>{const{workspace:e}=this.props;return{name:e.name||"",description:e.description||""}},this.renderForm=()=>{const{isSaving:e}=this.state,t=e?"Saving...":"Save";return Ye.createElement(hie.l0,{onSubmit:this.onSubmit,validate:this.formValidator.validateForm,initialValues:this.getInitialFormValues(),subscription:{validating:!0,invalid:!0,submitFailed:!0,dirtySinceLastSubmit:!0,submitting:!0,values:!0}},(e=>{let{handleSubmit:n,validating:s,invalid:r,submitFailed:i,dirtySinceLastSubmit:o,submitting:a,values:l}=e;return Ye.createElement("form",{className:"zhc-workspace-form__form",onSubmit:n,style:{zIndex:1}},Ye.createElement(hie.lP,{subscription:{dirty:!0},onChange:e=>{let{dirty:t}=e;this.isDirty=t}}),Ye.createElement(Xye,{name:"name",label:"Workspace name","data-cy":"workspace-name",maxLength:ha.kR,autoFocus:!0,autoComplete:"off",validate:this.formValidator.validateName,validateFields:[],validating:s,disabled:!1}),Ye.createElement(Xye,{name:"description",label:"Description","data-cy":"description",subLabel:"(optional)",maxLength:ha.ui,autoComplete:"off",showValidIcon:!1,validateFields:[],disabled:!1}),Ye.createElement("div",{className:"zhc-edit-workspace-modal-mini__actions zhc-workspace-form-section"},Ye.createElement(Ope,{modifiers:["action","wide"],text:t,"data-cy":"save",type:"submit",disabled:r&&!(i&&o)||s||a||!l.name})))}))};const{owner:n,workspace:s}=this.props;this.isDirty=!1,this.formValidator=new pwe({checkIsNameValid:e.checkIsNameValid,owner:n,workspace:s}),this.state={isSaving:!1}}componentDidUpdate(){this.isDirty=!1;const{owner:e,workspace:t}=this.props;this.formValidator.setParams({owner:e,workspace:t}),this.formValidator.resetDebouncedIsNameValid()}render(){return Ye.createElement("div",{className:"zhc-edit-workspace-modal-mini zhc-confirm-dialog"},Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title"},"Edit workspace"),Ye.createElement("span",{className:"zhc-confirm-dialog__subtitle"},Ye.createElement(Mbe,null))),Ye.createElement("div",{className:"zhc-confirm-dialog__body"},this.renderForm()))}}Fwe.propTypes={checkIsNameValid:SI().func.isRequired,owner:SI().shape({ghId:SI().number.isRequired,type:SI().string.isRequired}).isRequired,workspace:SI().shape({_id:SI().string,description:SI().string,name:SI().string}).isRequired,onSubmit:SI().func.isRequired,repoIdToDisconnect:SI().oneOfType([SI().number,SI().string])};const Uwe=e=>{const{onClickClose:t}=e;return Ye.createElement(Xre,{isOpen:!0,turnOverlayClickOff:!0,modifiers:["size-auto"],onClose:t},Ye.createElement(Fwe,e))};Uwe.propTypes={onClickClose:SI().func.isRequired};const Bwe=Uwe;function qwe(){return qwe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qwe.apply(this,arguments)}class Hwe extends Ye.PureComponent{constructor(){super(...arguments),this.onClickClose=()=>{const{repoIdToDisconnect:e,onClickClose:t}=this.props;t(e)}}render(){return Ye.createElement(Bwe,qwe({},this.props,{onClickClose:this.onClickClose}))}}Hwe.defaultProps={},Hwe.propTypes={repoIdToDisconnect:SI().number.isRequired,onClickClose:SI().func.isRequired,connectionParams:SI().shape({})};const Wwe=(0,l3.$j)((function(e){const t=W$.connectionParams(e);return{repoIdToDisconnect:t.repoIdToDisconnect,workspace:t.splitWorkspace,owner:t.repoOwnerToDisconnect}}),(function(e){return{checkIsNameValid:(t,n)=>e(oZ.isNameValid({name:t,owner:n})),onClickClose:t=>{e(oZ.afterRepoDisconnection(t)),e(oZ.setMergeRepoStep(fV))},onSubmit:t=>e(oZ.saveWorkspaceModalMini(t))}}))(Hwe),{shared:jwe}=LG,Gwe=(e,t)=>{if((0,_t.KN)(e)||(0,_t.KN)(t))return null;const n=t.map((t=>{const{login:n,avatar_url:s,id:r,isUser:i}=t;return{ownerName:n,ownerAvatar:s,id:r,isUser:i,isActive:e?.login?.toLowerCase()===n?.toLowerCase()}}));return n},Kwe=(e,t,n)=>{e(jwe.getReposByOwner({currentUserName:n,ownerName:t}))},Vwe=()=>{const e=(0,l3.v9)(W$.orgList),t=(0,l3.v9)(W$.selectedOrganization),n=(0,l3.v9)(W$.repoList),s=(0,l3.v9)(Fw),r=(0,l3.v9)(_u),i=(0,l3.v9)(W$.selectedRepos()),o=(0,l3.v9)(W$.workspaceId()),a=(0,l3.I0)();return{formattedOrgList:Gwe(t,e),selectedOrganization:t,loadRepositories:Kwe,changeOrganization:t=>{const n=e.find((e=>e.login.toLowerCase()===t.toLowerCase()));a(oZ.selectMergeOrganization(n)),Kwe(a,t,r)},prepReposForImport:()=>{a(oZ.prepSelectedRepos({selectedRepos:i,workspaceId:o}))},repoList:n,isLoadingRepos:s&&0===n.length,selectRepo:e=>{a(oZ.clearMergeRepos()),a(oZ.selectMergeRepo({repository:e.repository,organization:e.owner.login}))},selectImportTarget:e=>{a(oZ.selectImportTarget(e))},setGhImportRepoId:e=>{a(oZ.setGhProjectRepoId(e))}}},$we="jTwKdBsgKw7EvnEDHHBI",Zwe="srFnt4T2wbiI38IwYiN0",Ywe=e=>{let{text:t,onClick:n,icons:s=null,isHoverable:r=!1,hasBorder:i=!1,leftIcon:o=null}=e;const a=(0,_I.default)("zhc-selection-list-action-modifier",{"zhc-selection-list-action-modifier--is-hoverable":r,"zhc-selection-list-action-modifier--has-border":i,"zhc-selection-list-action-modifier--has-left-icon":Boolean(o)});return Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,className:a,onClick:n},Ye.createElement("span",{className:$we},Ye.createElement("span",{className:Zwe},o),t),s)},Jwe="hxPoEID9g9cLpUaM9hKV";function Xwe(){return Xwe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xwe.apply(this,arguments)}const Qwe="600px",eRe="460px",tRe="Placeholder",nRe=e=>{let{filterFn:t=(()=>[]),width:n=eRe,height:s=Qwe,title:r=tRe,subHeading:i,filterInputPlaceholder:o,hasItemBorder:a=!0,selectedId:l,stepIndex:c,onClose:d,steps:u}=e;const p=u[c],{setSearchTerm:m,filteredItems:h}=mbe(t,p.items),E=Ye.useRef(null),g=p.isFilterable?h:p.items;(0,Ye.useEffect)((()=>{m("")}),[c,m]);const{currentlyHighlightedIndex:f,onKeyDownHighlight:_,resetHighlightAndScrollTop:v,setHighlightIndex:I}=Sre(g,E,(e=>{p.onClickHandler(e.id)})),b=p.emptyStateComponent||null,y=i&&"zhc-selection-list__search-bar--with-subheading";return Ye.createElement(Ere,{onKeyDown:_,hasVariableHeight:!1,height:s,width:n,onClose:d},Ye.createElement(mre,{title:r,onClose:d}),p.isFilterable&&Ye.createElement(Voe,{placeholder:o,className:y,onChange:e=>{let{term:t}=e;m(t),v()}}),i&&Ye.createElement(pbe,{text:i}),Ye.createElement("div",{className:Jwe},p.actionItemText&&Ye.createElement(Ywe,{leftIcon:Ye.createElement(v_e,null),text:p.actionItemText,hasBorder:!0,onClick:p.actionItemOnClick||(()=>{})})),Ye.createElement(qoe,{isLoading:Boolean(p.isLoading),items:g,emptyState:b},(()=>Ye.createElement(_re,{ref:E,items:g||[],rowRenderer:e=>{const{index:t}=e,n=g[t];return Ye.createElement(yre,Xwe({},e,{key:n.id,onClick:()=>p.onClickHandler(n.id),setHighlightIndex:()=>I(t),hasItemBorder:a,isDisabled:!!p.disabledItemMap&&p.disabledItemMap[n.id],isHighlighted:f===t,isSelected:l?.includes(n.id)}),p.itemRenderer(n,t))}}))),Ye.createElement(ube,{left:p.leftFooterElement,right:p.rightFooterElement}))},sRe="k5XiD5iAOmTgOzs3ATVo",rRe="FqVTn3j0RdGD52sdCdG4",iRe="KLBd8RNXVZ5StHtFQkxn",oRe="kO1X63lCGGljjweKSJeg",aRe="ZfR4H2nY76y2JSAL7RSa",lRe="xdG6OkYC6JuvygQwgyTw",cRe="LccKhr3EQonaTkTZDS89",dRe="TqpWwICH0AzvOkmtbi8y",uRe="TMPyOFCNA1mqJAe9VPnW";function pRe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const mRe=Ye.createElement("div",null,Ye.createElement("p",{className:aRe},"No repos found")),hRe=e=>{let{onClose:t,updateWorkspaceDefaultRepo:n}=e;const[s,r]=(0,Ye.useState)(""),[i,o]=(0,Ye.useState)(null),[a,l]=(0,Ye.useState)(null),[c,d]=(0,Ye.useState)(null),[u,p]=(0,Ye.useState)(0),{formattedOrgList:m,selectedOrganization:h,changeOrganization:E,repoList:g,isLoadingRepos:f,selectRepo:_,selectImportTarget:v,setGhImportRepoId:I,prepReposForImport:b}=Vwe();(0,Ye.useEffect)((()=>{const e=function(){var e,t=(e=function*(){const e=yield(e=>{let{ids:t,after:n,search:s}=e;return rT(lT(),{ids:t,after:n,search:s})})({ids:c});o(e)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){pRe(i,s,r,o,a,"next",e)}function a(e){pRe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();c&&e()}),[c]);const y=g&&(e=>e.map((e=>{const{repo_id:t}=e;return{...e,id:t.toString(),searchableContent:e.repository?.toLowerCase()||""}})))(g),S=(i?.nodes??[]).map((e=>({...e,searchableContent:e.name||""})));const w=g?.reduce(((e,t)=>(t.permissions.push||(e[t.repo_id]=!0),e)),{}),R=()=>{p(u-1),r(""),o(null),d(null)},T=Ye.createElement("div",{className:sRe},Ye.createElement("div",{className:aRe},"No projects found"),Ye.createElement("div",{className:lRe},"This repo doesn\u2019t have open projects available to import."),Ye.createElement("a",{onClick:R},"Select another repo to continue")),C=h&&Ye.createElement(G_e,{ownerName:h.login,ownerAvatar:h.avatar_url,orgList:m,onOrgClick:e=>E(e),"data-cy":"gh-importer-org-dropdown",position:kte.TOP,isShorterButton:!0,showOrgAvatar:!0,showButtonBorder:!0}),k=Ye.createElement(H5,{color:L5.ACTION,onClick:()=>{r6("Import GH Project",{Location:"GH Projects Importer",Action:"Import Project"});const e=i?.nodes.find((e=>{let{id:t}=e;return t===s}));I(a),n(a),v(e),b()},disabled:!s,width:D5.WIDE},"Add");return Ye.createElement(Xre,{isOpen:!0,onClose:t,modifiers:["selection-list-fullscreen-deprecated"]},Ye.createElement(nRe,{height:"600px",width:"460px",stepIndex:u,selectedId:s,filterFn:(e,t)=>{const n=t.trim().toLowerCase();return""===n?e:e.filter((e=>e.searchableContent.includes(n)))},onClose:t,filterInputPlaceholder:"Search repos",title:"Select a repo to import open Github projects",subHeading:"You can only import one project per workspace.",steps:[{itemRenderer:e=>(e=>void 0!==e.repo_id)(e)?Ye.createElement("div",{key:e.id,className:rRe},Ye.createElement(Nfe,{className:iRe}),Ye.createElement("span",{className:aRe},e.repository),w[e.id]?Ye.createElement("span",{className:`${cRe} ${uRe}`},Ye.createElement(YI,{content:"You have read-only permissions to this repo",position:jI.TOP},Ye.createElement(Xse,null))):Ye.createElement(kue,{className:`${cRe} ${dRe}`})):null,items:y,disabledItemMap:w,onClickHandler:e=>{const t=g.find((t=>t.repo_id===parseInt(e,10)));_(t),l(t.repo_id),d(t.node_id),p(u+1)},leftFooterElement:C,emptyStateComponent:mRe,isFilterable:!0,isLoading:f},{itemRenderer:e=>{const t=Gye(e);return Ye.createElement("div",{key:e.id,className:rRe},Ye.createElement(KSe,{className:iRe}),Ye.createElement("div",{className:oRe},Ye.createElement("span",{className:aRe},e.name),Ye.createElement("p",{className:lRe},t)))},items:S,onClickHandler:e=>{r(e)},rightFooterElement:k,actionItemText:"Go back",actionItemOnClick:R,isFilterable:!1,emptyStateComponent:T,isLoading:null===i}]}))},{workspaceSwitcher:ERe,onboarding:gRe}=LG,fRe=e=>{let{onClose:t}=e;const n=(0,l3.I0)(),[s,r]=(0,Ye.useState)(null),[i,o]=(0,Ye.useState)(!1),{activeOwner:a,bottomSuccessMsg:l,connectedRepos:c,currentlyOpenedWorkspace:d,defaultRepoId:u,ghProjectRepoId:p,hasLockedRepo:m,isConnectedReposInfoAlertDismissed:h,isCreateWorkspace:E,isCreatingWorkspace:g,isDeletable:f,isOpen:_,isUpdatingWorkspace:v,isWorkspaceEditable:I,isWorkspaceLoading:b,isWorkspaceOutdated:y,isWorkspaceSwitcherOpen:S,mergeStep:w,ownerName:R,reposToAdd:T,userName:C,selectedProject:k,shouldRedirectToExt:O,workspace:N,workspaceFormType:P,workspaceId:A,hasModifiedListOfRepos:D,newlyAddedRepos:L}=ZIe(),z=bye({isOpen:_,isWorkspaceOutdated:y,isWorkspaceLoading:b});(0,Ye.useEffect)((()=>{if(!z)return;const e=!z.isWorkspaceOutdated&&y;_&&e&&n(oZ.refreshWorkspace({workspaceId:A})),_&&!z.isOpen&&r(null),z.isWorkspaceLoading&&!b&&n(oZ.getWorkspaceIsDeletable({workspaceId:N._id}))}),[r,b,z,A]);const{areLabelsLoading:M,initialLabelFilters:x,labelOptions:F,saveLabelFilterChanges:U}=Iye(A),B=()=>{oZ.loadUpdatedWorkspace({currentlyOpenedWorkspace:d,workspace:N,dispatch:n,shouldRedirectToExt:O,newlyAddedRepos:L})},q=()=>{n(oZ.setMergeRepoStep(fV))},H=()=>{n(oZ.clearImportTarget()),n(oZ.clearGhProjectRepoId())};return Ye.createElement("div",null,_?Ye.createElement(Ewe,{activeOwner:a,bottomSuccessMsg:l,checkIsNameValid:(e,t)=>n(oZ.isNameValid({name:e,owner:t})),canDeleteWorkspace:f,connectedRepos:c,defaultRepoId:s||u,dismissConnectedReposInfoAlert:()=>{const e={key:"connected_repos_info_alert_dismissed",value:!0};n(gRe.setOnboardingValue(e))},hasLockedRepo:m,isCreateWorkspace:E,isCreatingWorkspace:g,isConnectedReposInfoAlertDismissed:h,isLoading:b||M,isUpdatingWorkspace:v,isWorkspaceEditable:I,labelFilters:x,labelOptions:F,onClickX:e=>{n(ERe.close(e)),D&&B()},onClose:()=>{!S&&n(ERe.clearOrganization()),n(oZ.close()),t?.(),D&&B()},onDelete:()=>n(oZ.openDeleteWorkspace()),onDisconnect:e=>n(oZ.workspaceOnDisconnect(e)),onSplit:e=>n(oZ.workspaceOnSplitWorkspace(e)),onSubmit:e=>{const{name:t,description:r,labelFilters:i,userName:o,ownerName:l,selectedProjectId:c}=e,p={workspace:N,name:t,description:r,userName:o,ownerName:l,currentlyOpenedWorkspace:d,owner:a,selectedReposToAdd:T,defaultRepoId:s||u,selectedProjectId:c};U(i).then((()=>{const e=function(e){return e.map((e=>function(e,t,n){return[{_id:e.toString(),name:n,isAllIssues:!0,repoName:n,repoId:t}]}(e.repo_id,e.repo_id,e.repository)))}(T),t={...p,pipelineMapping:e,shouldRedirectToExt:O,repoPipelines:{}};n(oZ.saveWorkspace(t))}))},openMergeRepoSelector:()=>{o(!1),n(oZ.initMergeRepoSelector())},openGHProjectsImporterSelector:()=>{r6("Import GH Project",{Location:"GH Projects Importer",Action:"Enter Import Flow"}),n(oZ.initGHProjectsImporterSelector())},ownerName:R,removeProjectToBeImported:H,removeRepoToBeAdded:e=>{n(oZ.removeSelectedRepo(e)),e===p&&H()},reposToAdd:T,selectedProject:k,showDisconnectBanner:i,title:(W=P,W===E$?"Edit workspace":"Create a new ZenHub workspace"),updateWorkspaceDefaultRepo:e=>r(e),userName:C,workspace:N}):null,(e=>{switch(e){case pV:return Ye.createElement($Ie,null);case vV:return Ye.createElement(hRe,{onClose:q,updateWorkspaceDefaultRepo:e=>r(e)});case IV:return Ye.createElement(Pbe,null);case mV:return Ye.createElement(lbe,null);case _V:return Ye.createElement(Nwe,null);case hV:return Ye.createElement(sbe,null);case EV:return Ye.createElement(Mwe,null);case gV:return Ye.createElement(Wwe,null);default:return null}})(w));var W},_Re=()=>(0,l3.v9)(au)?Ye.createElement(Ye.Fragment,null,Ye.createElement(Abe,null),Ye.createElement(kwe,null)):Ye.createElement(Ye.Fragment,null,Ye.createElement(Tve,null),Ye.createElement(fRe,null)),vRe=function(){let{skip:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{skip:!1};const t=(0,l3.v9)(gv),n=(0,l3.v9)(Ev);if(e)return{};const s=Object.values(n).reduce(((e,t)=>t.connections?.length?e+1:e),0),r=t.slice(1),i=r.some((e=>e.issues.length>0)),o={};t.forEach((e=>{o[e.name]=e.issues.length}));const a=t.map((e=>e._id)),[l,...c]=a;return{firstPipelineId:l,hasMappedIssues:i,pipelineIssueCounts:o,tailPipelineIds:c,totalConnectedPRs:s}},IRe=()=>{const[e,t]=(0,Ye.useState)(!0),n=(0,l3.v9)((e=>e.pipelineMapping.shouldShowToast),l3.wU),s=(0,l3.v9)(Na),r=s?._id,i=(0,l3.I0)(),o=(0,l3.v9)(Cv),{hasMappedIssues:a}=vRe();return(0,Ye.useEffect)((()=>{if(!r||!o)return;if(!a)return void t(!1);const e=()=>{i(jX(!0)),t(!0),wa(r)},n=_a(Ia);if(r===n)e();else if(F){(new Date).getTime()-new Date(s.createdAt).getTime()<12e4&&!(e=>_a(ba)===e)(r)?e():t(!1)}else t(!1)}),[i,r,o,a]),{isCheckingPipelineMapping:e,isPipelineMappingVisible:n,markPipelineMappingAsSeen:wa}};let bRe;!function(e){e.WorkspaceCreator="Create WS",e.PipelineMapping="PipelineMap"}(bRe||(bRe={}));let yRe;!function(e){e.EpicBuilder="Epic Builder",e.Insights="Insights",e.PlanningPoker="Planning Poker",e.Roadmap="Roadmap",e.EpicPage="Platform Epic Page"}(yRe||(yRe={}));const SRe=e=>(t,n)=>{r6(`${e}`,{...n,Action:t})},wRe=e=>(t,n)=>{r6(`${e}: ${t}`,n)};bb.Ps`
  mutation RevertPipelineMapping($input: MoveAllPipelineIssuesInput!) {
    moveAllPipelineIssues(input: $input) {
      workspace {
        id
      }
    }
  }
`;const RRe=()=>{const e=ase();return()=>{Object.values(ab).forEach((t=>{e(t,!0)}))}},TRe=()=>{const e=RRe(),t=(0,l3.v9)(Na),n=(0,l3.v9)(ZS),{markPipelineMappingAsSeen:s}=IRe(),r=(0,l3.v9)(Nre),i=(0,l3.v9)(W$.isImportingProjects),o=(0,l3.I0)();return(0,Ye.useEffect)((()=>{t&&i&&(o(jX(!1)),s(t?._id))}),[o,i,jX,s,t]),t&&!n&&r&&(Ib(),e()),null},CRe={createCallbacks:new Map,editCallbacks:new Map,registerCreateCallback:(e,t)=>{CRe.createCallbacks.set(e,t)},unregisterCreateCallback:e=>{CRe.createCallbacks.delete(e)},registerEditCallback:(e,t)=>{CRe.editCallbacks.set(e,t)},unregisterEditCallback:e=>{CRe.editCallbacks.delete(e)}},kRe=(0,Ye.createContext)(CRe),ORe=e=>{let{children:t}=e;return Ye.createElement(kRe.Provider,{value:CRe},t)},NRe=e=>{let{children:t}=e;return Ye.createElement(ORe,null,Ye.createElement(rie,null,t))},PRe={openExtensionIssueFlyover:()=>{}},ARe=(0,Ye.createContext)(PRe);ARe.displayName="ExtensionIssueFlyoverContext";const DRe=()=>(0,Ye.useContext)(ARe),LRe=e=>{let{children:t,openExtensionIssueFlyover:n}=e;return Ye.createElement(ARe.Provider,{value:{openExtensionIssueFlyover:n}},t)};class zRe extends Ye.PureComponent{render(){const{children:e}=this.props;return Ye.createElement("div",{className:"zhc-repo-overlay"},e)}}zRe.propTypes={children:SI().node};const MRe=zRe,xRe=n.p+"../../img/built/checkmark.svg",FRe="rq20a_rI2R5zvsQTXAEp",URe="yv6qfEBZtvAl7CHnv34T",BRe="Ksl0u4THnKN8swm7jugQ",qRe="X_QjJHK3NjwXreplSPCj",HRe="ryHZDf7rtM6jC1nSzeyx",WRe="U6Xes_HSw4c3JOeLJUEd",jRe="YrHHR9IfxxycnI6HO5F7",GRe="eEUDvmD2AfailncaUkda",KRe="STbWXTejb2hGXnMHnHLP",VRe="n8rUHSh1PStTSoQrzSGS",$Re="sC4RKAcPZ3OkdbEd6RB2",ZRe="HAlkHV5rA4AhNDYMKxDa",YRe="wybvGf0ABxv5ywK2KkLa",JRe=()=>Ye.createElement("div",{className:qRe},Ye.createElement("h1",{className:HRe},"Hmm... Looks like there isn't an admin on this account"),Ye.createElement("div",{className:WRe},"Email support to get this fixed")),XRe=()=>Ye.createElement("div",{className:URe},Ye.createElement(t7,{src:Dee,className:BRe})),QRe=()=>Ye.createElement("div",{className:URe},Ye.createElement(t7,{src:xRe,className:BRe})),eTe=()=>Ye.createElement("div",{className:qRe},Ye.createElement("h1",{className:HRe},"You have not been assigned a license"),Ye.createElement("div",{className:WRe},"Contact an admin to request access")),tTe=()=>Ye.createElement("div",{className:qRe},Ye.createElement("h1",{className:HRe},"Your admin has been notified"),Ye.createElement("div",{className:WRe},"We'll email you when your license is ready to go")),nTe=e=>{let{onClickRequestLicense:t}=e;return Ye.createElement("div",{className:jRe},Ye.createElement(H5,{onClick:t,color:L5.ACTION},"Request license"))};nTe.propTypes={onClickRequestLicense:SI().func.isRequired};const sTe=e=>{let{href:t}=e;return Ye.createElement("div",{className:jRe},Ye.createElement(H5,{openInNewTab:!0,href:t,color:L5.ACTION},"Email support"))};sTe.propTypes={href:SI().string.isRequired};const rTe=e=>{let{adminList:t}=e;return Ye.createElement("div",{className:GRe},Ye.createElement("div",{className:KRe},"Your organization's admin"),Ye.createElement("div",{className:VRe},Ye.createElement("div",{className:$Re},t.map((e=>Ye.createElement("div",{className:ZRe,key:e.login},Ye.createElement(jpe,{url:e.avatar_url}),Ye.createElement("a",{className:YRe,href:e.html_url,target:"_blank",rel:"noopener noreferrer"},e.login)))))))};rTe.propTypes={adminList:SI().arrayOf(SI().shape({})).isRequired};const iTe=e=>{const{onClickRequestLicense:t=_t.ZT,adminList:n=[],requestSent:s=!1,emailSupportHref:r="",onInitialLoad:i=_t.ZT}=e;(0,Ye.useEffect)((()=>{i()}),[]);const o=(0,_t.KN)(n);let a=Ye.createElement(eTe,null),l=Ye.createElement(XRe,null);s?(a=Ye.createElement(tTe,null),l=Ye.createElement(QRe,null)):o&&(a=Ye.createElement(JRe,null));const c=o?Ye.createElement(sTe,{href:r}):Ye.createElement(nTe,{onClickRequestLicense:t});return Ye.createElement(MRe,null,Ye.createElement("div",{className:FRe},l,a,o?null:Ye.createElement(rTe,{adminList:n}),s?null:c))},{paywall:oTe}=LG,aTe=(0,pa.P1)([iee,Q8],((e,t)=>e||t)),lTe=(0,pa.P1)([ree],ee.UID((e=>({html_url:e.html_url,avatar_url:e.avatar_url,login:e.login}))));const cTe=l3.$j((function(e){return{orgId:tee(e),orgName:nee(e),requestSent:aTe(e),adminList:lTe(e),emailSupportHref:"mailto:support@zenhub.com"}}),(function(e){return{onInitialLoad(t){e(oTe.requestLicenseDisplayed(t))},onClickRequestLicense(t){e(oTe.requestLicense(t))}}}),(function(e,t,n){const{orgId:s,orgName:r,requestSent:i}=e,o={org_id:s,orgName:r},a=ee.TSy(t,{onInitialLoad:t.onInitialLoad.bind(this,ee.TSy(o,{requestSent:i})),onClickRequestLicense:t.onClickRequestLicense.bind(this,o)});return ee.Jnq([e,n,a])}))(iTe),dTe=e=>{let{buyLicenseUrl:t,onBuyLicensesClick:n=_t.ZT,onInitialLoad:s=_t.ZT}=e;return(0,Ye.useEffect)((()=>{s()}),[]),Ye.createElement(MRe,null,Ye.createElement("div",{className:FRe},Ye.createElement("div",{className:URe},Ye.createElement(t7,{src:Dee,className:BRe})),Ye.createElement("div",{className:qRe},Ye.createElement("h1",{className:HRe},"Your organization has outgrown the free tier."),Ye.createElement("div",{className:WRe},"Upgrade your team's plan to continue using ZenHub")),Ye.createElement("div",{className:jRe},Ye.createElement(H5,{href:t,openInNewTab:!0,color:L5.ACTION,onClick:n},"Upgrade your plan"))))},{paywall:uTe}=LG;const pTe=l3.$j((function(e){return{orgId:tee(e),orgName:nee(e),buyLicenseUrl:oee(e)}}),(function(e){return{onInitialLoad(t){e(uTe.buyMoreLicensesDisplayed(t))},onBuyLicensesClick(t){e(uTe.buyMoreLicenses(t))}}}),(function(e,t,n){const s={org_id:e.orgId,orgName:e.orgName},r=ee.TSy(t,{onInitialLoad:t.onInitialLoad.bind(this,s),onBuyLicensesClick:t.onBuyLicensesClick.bind(this,s)});return ee.Jnq([e,n,r])}))(dTe),mTe={minimum:1,price:{MONTH:1e3,ANNUAL:9500/12},savings:{ROUNDED_ANNUAL:20}};function hTe(){return hTe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hTe.apply(this,arguments)}const ETe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--check-white",t].filter(Boolean).join(" "),"aria-label":"check-white",role:"img",...n};return Ye.createElement("svg",hTe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"check-white_svg__a",d:"M3.805 7.724a.667.667 0 10-.943.943L6 11.805c.26.26.682.26.943 0l6-6A.667.667 0 1012 4.862L6.471 10.39z"}),Ye.createElement("mask",{id:"check-white_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#check-white_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",xlinkHref:"#check-white_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#check-white_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))},gTe={subject:"Question about end of trial"},fTe=e=>{let{text:t}=e;return Ye.createElement("div",{className:"zhc-upgrade-to-growth__list-item"},Ye.createElement("div",{className:"zhc-upgrade-to-growth__checkmark"},Ye.createElement(ETe,null)),Ye.createElement("div",null,t))},_Te=e=>{let{manageOrgUrl:t,accountPlanAmount:n,trackCTAOnClick:s}=e;return Ye.createElement(MRe,null,Ye.createElement("div",{className:"zhc-upgrade-to-growth"},Ye.createElement("h1",null,"Looks like you got a lot done!"),Ye.createElement("div",{className:"zhc-upgrade-to-growth__subtext"},"Your free trial has expired. Subscribe to ZenHub to pick up where you left off."),Ye.createElement("div",{className:"zhc-upgrade-to-growth__monthly-pricing"},Ye.createElement("h3",{className:"zhu-blankspace-right"},"Monthly pricing:"),Ye.createElement("div",{className:"zhc-upgrade-to-growth__monthly-pricing__per-user"},Ye.createElement("div",{className:"zhc-upgrade-to-growth__monthly-pricing__price"},"$",n),Ye.createElement("div",{className:"zhc-upgrade-to-growth__monthly-pricing__user"},"/user"))),Ye.createElement("div",{className:"zhc-upgrade-to-growth__list"},Ye.createElement("div",{className:"zhc-upgrade-to-growth__list__column"},Ye.createElement(fTe,{text:"Unlimited Workspaces"}),Ye.createElement(fTe,{text:"Multiple Boards per Repo"}),Ye.createElement(fTe,{text:"Cross-Org Roadmaps"}),Ye.createElement(fTe,{text:"Epics"}),Ye.createElement(fTe,{text:"Estimates"}),Ye.createElement(fTe,{text:"Issue PR Linking"}),Ye.createElement(fTe,{text:"API Access"}),Ye.createElement(fTe,{text:"Dependencies"})),Ye.createElement("div",{className:"zhc-upgrade-to-growth__list__column"},Ye.createElement(fTe,{text:"Sprint Planning"}),Ye.createElement(fTe,{text:"Slack Integration"}),Ye.createElement(fTe,{text:"Burndown Chart"}),Ye.createElement(fTe,{text:"Velocity Report"}),Ye.createElement(fTe,{text:"Release Report"}),Ye.createElement(fTe,{text:"Cumulative Flow"}),Ye.createElement(fTe,{text:"Control Chart"}),Ye.createElement(fTe,{text:"Issue Priority"}))),Ye.createElement(H5,{href:t,onClick:s,openInNewTab:!0,color:L5.ACTION},"Continue using ZenHub"),Ye.createElement("div",{className:"zhc-upgrade-to-growth__footer"},Ye.createElement("span",{className:"zhu-blankspace-right"},"Have some questions?"),Ye.createElement(Cee,{headers:gTe},"Chat with us"))))},vTe=(0,Ye.memo)(_Te);function ITe(){return ITe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ITe.apply(this,arguments)}const{paywall:bTe}=LG;class yTe extends Ye.PureComponent{componentDidMount(){const{trackPageView:e}=this.props;e(ee.eiS(["orgId","orgName","orgUserCount"],this.props))}render(){const{trackCTAClick:e}=this.props,t=ee.eiS(["orgId","orgName","orgUserCount"],this.props);return Ye.createElement(vTe,ITe({},this.props,{trackCTAOnClick:()=>{e(t)}}))}}yTe.propTypes={trackCTAClick:SI().func.isRequired,trackPageView:SI().func.isRequired};const STe=l3.$j((function(e){return{accountPlanAmount:mTe.price.MONTH/100,manageOrgUrl:oee(e),orgId:tee(e),orgName:nee(e),orgUserCount:see(e)}}),(function(e){const t=(0,mr.DE)({trackPageView:bTe.trackUpgradeToGrowthViewed,trackCTAClick:bTe.trackUpgradeToGrowthClicked},e);return ee.TSy(t,{dispatch:e})}))(yTe);class wTe extends Ye.PureComponent{render(){const{activePopup:e}=this.props;return function(e){switch(e){case i_:return Ye.createElement(cTe,null);case s_:return Ye.createElement(pTe,null);case r_:return Ye.createElement(STe,null);default:return null}}(e)}}wTe.propTypes={activePopup:SI().node};const RTe=l3.$j((function(e){return{activePopup:dee(e)}}))(wTe),TTe={isBoardV2Active:!1,hasOptOut:!1,setIsBoardV2Active:e=>{},setHasOptOut:e=>{}},CTe=(0,Ye.createContext)(TTe);CTe.displayName="BoardV2.UIContext";const kTe=e=>{let{children:t}=e;const n=T7({name:"workspaces-board-v2-exclusive"}),[s,r]=(0,Ye.useState)(EI()||n),i=(0,Ye.useCallback)((e=>{r(n||e)}),[n]),[o,a]=(0,Ye.useState)(!1),l=(0,Ye.useCallback)((()=>{const e=EI();i(e)}),[i]),c=e=>{var t;(t=e)||Object.keys(localStorage).filter((e=>e.startsWith(tI)&&e.includes(hI))).forEach((e=>sI(e))),nI("zhSettings_showBoardV2",t,!0),i(e),$e("isBoardV2Active",e)};(0,Ye.useEffect)((()=>(l(),window.addEventListener("storage",l),$e("isBoardV2Active",s),()=>{window.removeEventListener("storage",l),a(!1)})),[n,l]);const d=(0,Ye.useMemo)((()=>({isBoardV2Active:s,setIsBoardV2Active:c,hasOptOut:o,setHasOptOut:a})),[o,s]);return Ye.createElement(CTe.Provider,{value:d},t)},OTe=()=>(0,Ye.useContext)(CTe);function NTe(){return NTe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NTe.apply(this,arguments)}const PTe=e=>{let{render:t,fallbackRender:n,...s}=e;const{isBoardV2Active:r}=OTe();return Ye.createElement($8.AW,NTe({},s,{render:r?t:n}))},ATe="Other",DTe="PREVIOUS_TOOL",LTe="TEAM_SIZE",zTe="ORG_SIZE",MTe="ROLE",xTe="PROJECT_TYPE",FTe=["Business","Personal","School","Open Source"],UTe=["Designer","Engineer","Product Manager","Project Manager","QA","Scrum Master","Student","Technical Lead",ATe],BTe=["Just me","2 - 5","6 - 10","11 - 20","21 - 50","51 +"],qTe=["1 - 20","21 - 100","101 - 500","501 - 1,000","1,001 +"],HTe=["None","Asana","GitHub Projects","Jira","Monday","Notion","Spreadsheets",ATe],WTe="Pav85O2kKhTds6vQRkGw",jTe="p_nPFxJGloA99yJASWmq",GTe="uAfB7p9zUdJu11UEv6q5",KTe="PP2MHkRi4GAyed824ZQk",VTe="I95GDVLVIJSnlCbQGFnq",$Te="nch4xl6r_BBP5b8X_oeK",ZTe="MJBlxN3hckXnHWIptYqH",YTe="Rk4uP8j6m4I8qgrta8Gl",JTe="Q2FgK1iQYuWObMckWD9e",XTe="GZ_qGaseN_z566PqKnqX",QTe="axEbujVrXjFEKWuTknzT",eCe="W4Zis6DXtmAzyxj0tmuZ",tCe="ZoxUjOUKW9KYda3rpZYA",nCe="l2d8mWAbhmLbDUG9NkAX",sCe="PctEv5yjB6Ysd0E4j4BA",rCe=["Persona Form Viewed","Persona Form Completed","Zorg Creation"];function iCe(){const e=(0,l3.v9)(xV),t=(0,l3.v9)(ZS),n=(0,l3.v9)(YS);return s=>{((e,t)=>!t.hasCompletedOnboarding&&!(t.zhOrgId&&rCe.includes(e)||t.hasCompletedPersonaForm&&"Persona Form Viewed"===e))(s,{hasCompletedPersonaForm:t,hasCompletedOnboarding:n,zhOrgId:e})&&o6("Signup Process Stage Changed",{"Signup Process Stage":s})}}const oCe="Z80_M2M0vD2DVl8h5KKk",aCe=e=>{let{stepNumber:t}=e;return Ye.createElement("span",{className:oCe},t)},lCe=(e,t,n)=>{switch(t){case DTe:return(0,_I.default)(XTe,{[QTe]:n===e});case LTe:return(0,_I.default)(XTe,{[QTe]:n===e});case zTe:return(0,_I.default)(XTe,{[QTe]:n===e});case MTe:return(0,_I.default)(XTe,{[QTe]:n===e});case xTe:return(0,_I.default)(XTe,{[QTe]:n===e});default:return(0,_I.default)(XTe)}},cCe=e=>{let{options:t,section:n,onClick:s,selectedOption:r,updateOtherInputText:i,otherInputText:o}=e;const[a,l]=(0,Ye.useState)(!1),[c,d]=(0,Ye.useState)(!1);return Ye.createElement(Ye.Fragment,null,t.map((e=>(e=>{let{btnText:t,onClick:n,section:s,selectedOption:r}=e;return Ye.createElement(Ye.Fragment,{key:`${s}-${t}`},Ye.createElement("input",{type:"radio",id:`${s}-${t}`,value:t,name:s,onClick:n,className:sCe}),Ye.createElement("label",{htmlFor:`${s}-${t}`,className:lCe(t,s,r)},t))})({btnText:e,onClick:()=>((e,t,n)=>{l(r!==ATe&&t===ATe),s(e,t,n)})(n,e,o),section:n,selectedOption:r}))),a&&Ye.createElement("input",{autoFocus:!0,className:eCe,onChange:e=>{const t=e.currentTarget.value;if(t?.length<=255)d(!1),i?.(e.currentTarget.value);else{const e=t.slice(0,255);d(!0),i?.(e)}},value:o}),a&&c&&Ye.createElement("span",{className:tCe},"Cannot exceed ",255," characters"))},dCe={},uCe=bb.Ps`
  mutation updateUserPersona($UpdatePersonaInput: UpdatePersonaInput!) {
    updateUserPersona(input: $UpdatePersonaInput) {
      zenhubUser {
        personaData {
          projectManagementTool
          role
          teamSize
          organizationSize
          newsletterConsent
          projectType
        }
      }
    }
  }
`;const pCe=Ye.forwardRef(((e,t)=>{let{id:n,onClick:s,dataTestId:r="",checked:i=!1,autoFocus:o=!1,inputClassName:a}=e;return Ye.createElement("span",{onClick:s,className:"zhc-checkbox-custom"},Ye.createElement("input",{className:a,"data-testid":r,id:n,ref:t,readOnly:!0,autoFocus:o,checked:i,type:"checkbox",value:"true"}))})),mCe=pCe,hCe="M8pr0Fo6UE4503t1rPjz",ECe="MnR6c_Wd0grL0hEZuurC",gCe="h7nbGewQoc6Ynoj5Mnfl",fCe=e=>{let{checked:t,onToggle:n}=e;return Ye.createElement("section",{className:hCe},Ye.createElement(mCe,{onClick:n,checked:t,dataTestId:"zh-marketing-choice",id:"zh-marketing-choice"}),Ye.createElement("div",{className:ECe},Ye.createElement("label",{htmlFor:"zh-marketing-choice"},"Join 25,000+ other tech & product professionals learning with ZenHub",Ye.createElement("br",null),Ye.createElement("span",{className:gCe},"Curated emails on the latest topics in agile and project management, news, product updates, and events."))))};function _Ce(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const vCe=e=>{let{onSubmit:t,renderInModal:n=!0}=e;const[s,r]=(0,Ye.useState)(!0),[i,o]=(0,Ye.useState)(""),[a,l]=(0,Ye.useState)(""),[c,d]=(0,Ye.useState)(""),[u,p]=(0,Ye.useState)(""),[m,h]=(0,Ye.useState)(""),[E,g]=(0,Ye.useState)(""),[f,_]=(0,Ye.useState)(""),[v,I]=(0,Ye.useState)(!1),b=ase(),y=iCe();(0,Ye.useEffect)((()=>{r6("POB: Viewed Persona Form"),y("Persona Form Viewed")}),[]);const[S]=function(e){const t={...dCe,...e};return vK.D(uCe,t)}({variables:{UpdatePersonaInput:{projectType:i,role:a===ATe&&c.trim()?`${a}-${c.trim()}`:a,projectManagementTool:u===ATe&&m.trim()?`${u}-${m.trim()}`:u,teamSize:E===BTe[0]?"1":E,organizationSize:f,newsletterConsent:String(v)}}}),w=(0,l3.v9)((e=>(new Date).getTime()-new Date(gu(e)).getTime()>2592e6)),R=(0,l3.v9)((e=>(new Date).getTime()-new Date(gu(e)).getTime()>12096e5)),T=["size-auto"],C=function(){var e,n=(e=function*(){const{data:e,errors:n}=yield S();!n?.length&&e&&(i6("POB: Completed Persona Form",{...e.updateUserPersona?.zenhubUser?.personaData}),b("persona_form_completed",!0),y("Persona Form Completed"),r(!1)),t&&t()},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){_Ce(i,s,r,o,a,"next",e)}function a(e){_Ce(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),k=()=>{r6("POB: Closed Persona Form"),b("persona_form_completed",!0),r(!1)},O=(e,t,n)=>{switch(e){case DTe:p(t),n&&h(n);break;case LTe:g(t);break;case zTe:_(t);break;case MTe:l(t),n&&d(n);break;case xTe:o(t)}},N=w?!(a&&E&&f&&i):!(a&&E&&f&&u&&i),P=(0,_I.default)(WTe,{[jTe]:n||PI}),A=(0,_I.default)(GTe,{[KTe]:n||PI}),D=()=>Ye.createElement("div",{className:P},Ye.createElement("header",{className:A},!n&&Ye.createElement(aCe,{stepNumber:1}),Ye.createElement("label",{htmlFor:"persona-form"},"Tell us a bit about yourself"),R&&Ye.createElement("div",{className:VTe},Ye.createElement(H5,{ariaLabel:"Close dialog",type:x5.BUTTON,width:D5.NARROW,height:A5.SHORT,padding:M5.EXTRA_TIGHT,variant:z5.TEXT,onClick:k},Ye.createElement(Z5,{className:nCe})))),Ye.createElement("form",{className:ZTe,id:"persona-form"},Ye.createElement("fieldset",{className:YTe,name:xTe},Ye.createElement("legend",{className:JTe},"What type of project are you using ZenHub for?"),Ye.createElement(cCe,{options:FTe,section:xTe,onClick:O,selectedOption:i})),Ye.createElement("fieldset",{className:YTe,name:MTe},Ye.createElement("legend",{className:JTe},"What is your role?"),Ye.createElement(cCe,{options:UTe,section:MTe,onClick:O,selectedOption:a,updateOtherInputText:d,otherInputText:c})),Ye.createElement("fieldset",{className:YTe,name:LTe},Ye.createElement("legend",{className:JTe},"How big is the team you work with?"),Ye.createElement(cCe,{options:BTe,section:LTe,onClick:O,selectedOption:E})),Ye.createElement("fieldset",{className:YTe,name:zTe},Ye.createElement("legend",{className:JTe},"What is the size of your organization?"),Ye.createElement(cCe,{options:qTe,section:zTe,onClick:O,selectedOption:f})),!w&&Ye.createElement("fieldset",{className:YTe,name:DTe},Ye.createElement("legend",{className:JTe},"What is your previous or current project management tool?"),Ye.createElement(cCe,{options:HTe,section:DTe,onClick:O,selectedOption:u,updateOtherInputText:h,otherInputText:m}))),Ye.createElement("footer",{className:$Te},!n&&!x&&Ye.createElement(fCe,{checked:v,onToggle:()=>I(!v)}),Ye.createElement(H5,{type:x5.SUBMIT,width:D5.FULL,variant:z5.CONTAINED,color:L5.ACTION,disabled:N,onClick:C},n?"Submit":"Continue")));return n?Ye.createElement(Xre,{closeOnEsc:!1,turnOverlayClickOff:!0,isOpen:s,modifiers:T,onClose:()=>r(!1)},Ye.createElement(Gre,null),D()):D()},ICe=()=>Ye.createElement(Bfe,null,Ye.createElement("div",{className:"zhc-workspace-loading"},Ye.createElement("div",{className:"zhc-board-loading__message"},Ye.createElement("div",{className:"zhu-flex zhu-flex--column zhu-flex--align-center"},Ye.createElement("span",{className:"zhc-board-loading__text"},"We are building your workspace"),Ye.createElement(U5,null))))),bCe="https://help.zenhub.com/support/solutions/articles/43000223305",yCe=Ye.createElement("div",{className:"zhc-workspace-load-failed__links"},Ye.createElement("a",{className:"zhc-btn zhc-btn--default",href:bCe,target:"_blank",rel:"noopener noreferrer"},"Troubleshoot"),AI?Zne(ma.getSelectOrganizationPath(),"Find another workspace",void 0,{className:"zhc-btn zhc-btn--primary"}):null),SCe=()=>(0,l3.v9)(Ou)?Ye.createElement($8.l_,{to:"/select-organization"}):Ye.createElement("div",{className:"zhc-workspace-load-failed"},Ye.createElement(Iee,null,Ye.createElement(bee,{title:"This Workspace cannot be loaded"}),Ye.createElement(yee,null,Ye.createElement("p",null,"This may be because you lack permissions to the GitHub repository that connects to this Workspace or your GitHub organization has third-party restrictions enabled for ZenHub."),Ye.createElement("p",null,Ye.createElement("a",{className:"zhc-workspace-load-failed__troubleshoot-guide-link",href:bCe,target:"_blank",rel:"noopener noreferrer"},"Review our troubleshooting guide")," ","or\xa0",Ye.createElement(kee,{email:"support@zenhub.com",headers:{subject:"Workspace cannot be loaded"},openInNewTab:!0},"contact support")," ","to get back on track."),yCe)));const wCe=()=>{const e=(0,l3.v9)(Qa),t=(n=e)?PI?ma.getWebappAccountSettingsPath({organization:n}):ma.getAccountSettingsPath({organization:n}):null;var n;return Ye.createElement(bie,{className:"zhc-banner-unpaid",modifiers:["center-text"]},"We're having trouble billing ",Ye.createElement("strong",null,e),".",Zne(t," Please update your payment details here",{forExt:!0,forWebapp:!0})," ","or contact your payment provider. Need support?\xa0",Ye.createElement(kee,{headers:{subject:"I need help with my subscription"}},"Contact us"))},RCe=n.p+"../../img/built/circle-orbit.svg",TCe="Zro498mTd5RGD84FTKbD",CCe="zdFyMrQ8FSPQIDrhAV2H",kCe="SjxeBLWtMAH4KWRbTuXQ",OCe="a754seCTU_iyIpxgzv2a",NCe="Ba7OhRec4YHW5KXQ84Kq",{pages:PCe}=LG,ACe=e=>{let{title:t,helppageUrl:n,emailSubject:s}=e;const r=(0,Ye.useRef)(!0),i=(0,l3.I0)();return(0,Ye.useEffect)((()=>{r.current||i(PCe.clearError()),r.current=!1})),Ye.createElement("div",{className:TCe},Ye.createElement(Iee,null,Ye.createElement(t7,{className:CCe,src:RCe}),Ye.createElement(bee,{title:t}),Ye.createElement(yee,null,Ye.createElement("p",{className:kCe},"Grant access to this organization to get back on track"),Ye.createElement("div",{className:NCe},Ye.createElement(H5,{color:L5.SECONDARY,type:x5.BUTTON,width:D5.NARROW,variant:z5.CONTAINED},Ye.createElement("a",{className:OCe,href:n,target:"_blank",rel:"noreferrer"},"See how to grant access")),Ye.createElement(kee,{email:"support@zenhub.com",headers:{subject:s},openInNewTab:!0},"Contact support")))))},DCe=()=>Ye.createElement(ACe,{title:"Please try logging in again with a valid SAML session, to access this repo.",helppageUrl:"https://help.zenhub.com/support/solutions/articles/43000636925-re-authenticating-zenhub-if-your-team-is-using-saml",emailSubject:"Workspace cannot be loaded due to SAML permissions"}),LCe=e=>{const t=(0,ha.T9)(e,(e=>e?.import?.openIssues));return Math.max(5,t)},zCe=e=>Boolean(e?.import?.openIssues?.completedAt),MCe=()=>Ye.createElement("span",{className:"zhc-workspace-import__valid-icon"},Ye.createElement(f5,null)),xCe=()=>Ye.createElement(F5,{modifiers:["no-outline","no-padding"],radius:7.5,stroke:2}),FCe=e=>{let{repository:t}=e;return Ye.createElement("div",{className:"zhc-workspace-import__row"},Ye.createElement("div",{className:"zhc-workspace-import__repository-item"},Ye.createElement("div",{className:"zhc-workspace-import__repository-item__icon"},Ye.createElement(Nfe,null)),Ye.createElement("span",{className:"zhu-color-text-secondary-dark zhu-text-ellipsis"},t.owner.login),"/",Ye.createElement("span",{className:"zhu-font-bold zhu-text-ellipsis"},t.name)),zCe(t)?Ye.createElement(MCe,null):Ye.createElement(xCe,null))},UCe=e=>{let{repositories:t}=e;return Ye.createElement("div",{className:"zhc-workspace-import__row zhc-workspace-import__more-repos"},Ye.createElement(YI,{content:t.map((e=>`${e.owner.login}/${e.name}`)).join("\n"),position:jI.TOP},Ye.createElement("span",{className:"zhu-color-text-secondary"},"and ",t.length," more repos")),t.every(zCe)?Ye.createElement(MCe,null):Ye.createElement(xCe,null))},BCe=e=>{let{repositories:t}=e;const n=t.every(zCe)?"Repository import complete! Applying the finishing touches.":"Importing Issues onto the Board - It'll take a couple of minutes";return Ye.createElement("div",{"data-testid":"zh-workspace-import-header",className:"zhc-workspace-import__header"},Ye.createElement("div",{className:"zhu-font-xlarge zhu-font-bold"},"Creating link to GitHub repo",t.length>1?"s":""," for the first time..."),Ye.createElement("div",{className:"zhc-workspace-import__row zhu-font-medium zhu-text-secondary-dark"},Ye.createElement("div",null,n),100===LCe(t)?Ye.createElement(xCe,null):Ye.createElement("div",null,`${LCe(t)}%`)))},qCe=e=>{let{onImportComplete:t,workspaceId:n}=e;const{loading:s,data:r}=dde({pollInterval:3e3,variables:{workspaceId:n}}),i=r?.workspace,o=i?.repositories??[],a=i?.importState;if((0,Ye.useEffect)((()=>{"USABLE"!==a&&"COMPLETED"!==a||t(a)}),[a,t]),s)return null;const l=(0,mS.$B)(o,(e=>e?.owner?.login),(e=>e?.name)),c=l.slice(0,9),d=l.slice(9);return Ye.createElement("div",{className:"zhc-workspace-import"},Ye.createElement(BCe,{repositories:o}),Ye.createElement("div",{className:"zhc-workspace-import__main zhu-font-small"},c.map((e=>Ye.createElement(FCe,{key:e.ghId,repository:e}))),d.length>0?Ye.createElement(UCe,{repositories:d}):null))},HCe=qCe,WCe=e=>{let{organizationName:t}=e;return Ye.createElement(ACe,{title:`${t} has third-party restrictions enabled for ZenHub`,helppageUrl:"https://help.zenhub.com/support/solutions/articles/43000010369-granting-third-party-access-in-github-for-zenhub",emailSubject:"Workspace cannot be loaded due to Org Permissions"})},jCe=Ye.createElement("div",{className:"zhc-cannot-create-workspace__links"},Ye.createElement("a",{className:"zhc-btn zhc-btn--default",href:"https://help.zenhub.com/support/solutions/articles/43000455791",target:"_blank",rel:"noopener noreferrer"},"More Info"),AI?Zne(ma.getSelectOrganizationPath(),"Find another workspace",void 0,{className:"zhc-btn zhc-btn--primary"}):null),GCe=()=>Ye.createElement("div",{className:"zhc-cannot-create-workspace"},Ye.createElement(Iee,null,Ye.createElement(bee,{title:"Workspace cannot be created",description:"You do not have push/write permissions for this GitHub repository."}),Ye.createElement(yee,null,Ye.createElement("p",null,"To get write permissions check with your GitHub administrator."),jCe)));GCe.defaultProps={},GCe.propTypes={};const KCe=GCe;function VCe(){return VCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VCe.apply(this,arguments)}const $Ce=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--zenhub-logo",t].filter(Boolean).join(" "),"aria-label":"zenhub-logo",role:"img",...n};return Ye.createElement("svg",VCe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 50"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.508 19.35v.004c4.525 0 8.194 3.681 8.194 8.956 0 5.134-3.455 8.992-8.194 8.992-2.243 0-3.988-.815-5.199-2.195v1.698h-4.346V12.448h4.346v9.24c1.245-1.452 2.991-2.337 5.199-2.337zm-89.063-5.235v4.142L8.797 32.629h11.898v4.176H3.062V32.63h-.001l11.612-14.372H3.31v-4.142h17.134zm.251 14.23c0-4.957 3.705-8.992 8.62-8.992 4.88 0 8.585 3.752 8.585 8.637 0 .532-.035 1.133-.106 1.416H25.149c.428 2.373 2.245 4.072 4.88 4.072a5.81 5.81 0 004.168-1.771l2.244 2.938c-1.282 1.487-3.705 2.656-6.589 2.656-5.308 0-9.155-4.034-9.156-8.957zm4.525-1.666c.5-2.159 1.994-3.646 4.167-3.646 2.031 0 3.563 1.239 4.061 3.646h-8.228zm67.545 2.337c0 2.478-1.46 4.142-3.633 4.142-2.174 0-3.634-1.665-3.634-4.142v-9.168h-4.348v9.488c0 4.743 3.17 7.896 7.98 7.896 4.81 0 7.98-3.151 7.98-7.896v-9.488h-4.345v9.168zm16.066 4.215c-2.6 0-4.524-2.16-4.524-4.886 0-2.725 1.924-4.92 4.524-4.92 2.636 0 4.524 2.194 4.524 4.92 0 2.727-1.888 4.886-4.524 4.886zM47.929 19.329c-4.677 0-7.76 3.153-7.76 7.895v9.489h4.226v-9.17c0-2.478 1.421-4.142 3.534-4.142 2.112 0 3.533 1.664 3.533 4.142v9.17h4.227v-9.489c0-4.745-3.084-7.895-7.76-7.895zm14.875 3.811h10.864v-9.026h4.488v22.69h-4.488V27.28H62.805v9.523h-4.453v-22.69h4.453v9.026z",fill:"currentColor"}))},ZCe=Cte;function YCe(){return YCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YCe.apply(this,arguments)}const JCe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--repo-updated",t].filter(Boolean).join(" "),"aria-label":"repo-updated",role:"img",...n};return Ye.createElement("svg",YCe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 2H19a1 1 0 011 1v17a1 1 0 01-1 1h-3.5a1 1 0 110-2H18v-3H7.5a1.5 1.5 0 00-.617 2.867l-.003.008a1 1 0 01-.593 1.902l-.002.006a2.862 2.862 0 01-.05-.018.992.992 0 01-.26-.114A3.5 3.5 0 014 17.5v-12A3.5 3.5 0 017.5 2zM18 14H7.5c-.537 0-1.045.12-1.5.337V5.5A1.5 1.5 0 017.5 4H18v10zm-5 4H9v4l2-1.434L13 22v-4z",fill:"currentColor"}))},XCe=e=>{let{repo:t,selectedRepos:n,setSelectedRepos:s}=e;const r=wRe(bRe.WorkspaceCreator),i=(0,Ye.useRef)(null),{owner:o,name:a,id:l,databaseId:c}=t,d=Boolean(n.find((e=>e.databaseId===c)));return Ye.createElement("li",{className:"zhc-workspace-creator__repo-list-item",key:l},Ye.createElement("label",{className:"zhc-workspace-creator__repo-list-item__label"},Ye.createElement(JCe,null),Ye.createElement("div",{className:"zhc-workspace-creator__repo-list-item__text"},`${o.login}/`,Ye.createElement("span",{title:a.length>40?a:"",className:"zhu-font-bold"},a)),Ye.createElement(mCe,{ref:i,checked:d,onClick:()=>{if(d){const e=n.filter((e=>e.databaseId!==c));s(e)}else r("Repo selected"),s([...n,t]);i?.current?.blur()}})))},QCe=e=>{let{repos:t,selectedRepos:n,setSelectedRepos:s}=e;return Ye.createElement("ul",{"data-testid":"repo-list",className:"zhc-workspace-creator__repo-list"},t.map((e=>Ye.createElement(XCe,{key:e.id,repo:e,selectedRepos:n,setSelectedRepos:s}))))},eke=e=>{let{type:t}=e;return Ye.createElement("div",{className:"zhc-workspace-creator--empty-list"},Ye.createElement(t7,{src:Tfe}),t===hke.Top?Ye.createElement(Ye.Fragment,null,Ye.createElement("h4",null,"We couldn't find your repos"),Ye.createElement("p",null,"Create a new repo in Github and come back to continue"),Ye.createElement(H5,{color:L5.ACTION,onClick:()=>window.open("https://github.com/new")},"Create a new repo")):Ye.createElement(Ye.Fragment,null,Ye.createElement("h4",null,"There are no matching results"),Ye.createElement("p",null,"Make sure you have the right permissions"," ",Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000011150-permissions-privacy",target:"_blank",rel:"noopener noreferrer"},"here"))))},tke=e=>{let{onClick:t,loading:n}=e;return Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.TEXT,className:"zhc-workspace-creator__repo-list__load-more",onClick:t,height:A5.SHORT},n?Ye.createElement(Ye.Fragment,null,Ye.createElement(U5,{radius:10,stroke:2,modifiers:["no-outline","no-padding"]})," ","Loading..."):Ye.createElement(Ye.Fragment,null,Ye.createElement(hSe,null),Ye.createElement("span",{className:"zhc-workspace-cretor__repo-list__load-more-text"},"Show more")))},nke=(e,t)=>{const n=(0,Ye.useRef)(null),[s,r]=(0,Ye.useState)(null);return(0,Ye.useEffect)((()=>{const s=setTimeout((()=>{n.current===s&&r(e)}),t);return n.current=s,()=>{null!=n.current&&clearTimeout(n.current)}}),[e,t]),s},ske=bb.Ps`
  query repositorySearch($searchTerms: String!, $count: Int, $after: String) {
    search(type: REPOSITORY, query: $searchTerms, first: $count, after: $after) {
      nodes {
        ... on Repository {
          id
          databaseId
          name
          url
          owner {
            id
            login
          }
        }
      }
      pageInfo {
        endCursor
        hasNextPage
      }
    }
  }
`;const rke=(e,t)=>(0,Ye.useMemo)((()=>e.reduce(((e,n)=>{const s=t.findIndex((e=>e.databaseId===n.databaseId));return s>-1?e.checked[s]=n:e.unchecked.push(n),e}),{checked:[],unchecked:[]})),[e,t]),ike=e=>(t,n)=>{let{fetchMoreResult:s}=n;if(!s)return t;const r=ee.ETc(e,t),i=ee.ETc(e,s);return ee.uhR(e,{...i,nodes:[...r.nodes,...i.nodes]},s)},oke=e=>{let{isActive:t,searchTerm:n,orgNames:s,selectedRepos:r,setSelectedRepos:i}=e;const{data:o,loading:a,fetchMore:l}=function(e){const{count:t=15,orgNames:n=[],searchTerms:s}=e,r=nke(s,200),i=`user:${(0,l3.v9)(_u)}`,o=`${r} ${n.map((e=>`org:${e}`)).join(" ")} ${i}`;return(0,cy.a)(ske,{client:lT(),fetchPolicy:"cache-first",skip:!r||!s,variables:{count:t,searchTerms:o},notifyOnNetworkStatusChange:!0})}({searchTerms:n,orgNames:s}),c=o?.search?.nodes||[],d=rke(c,ee.zys(((e,t)=>e.id===t.id),r,c));return t?!o&&a?Ye.createElement(Wfe,null):o&&""!==n&&0===c.length&&!a?Ye.createElement(eke,{type:hke.Search}):Ye.createElement(Ye.Fragment,null,Ye.createElement(QCe,{selectedRepos:r,setSelectedRepos:i,repos:[...d.checked,...d.unchecked]}),o?.search.pageInfo.hasNextPage&&Ye.createElement(tke,{loading:a,onClick:()=>l({variables:{after:o?.search.pageInfo.endCursor},updateQuery:ike(["search"])})})):null},ake=bb.Ps`
  query getCurrentRepo($name: String!, $ownerName: String!) {
    repository(name: $name, owner: $ownerName) {
      id
      databaseId
      name
      url
      owner {
        id
        login
      }
    }
  }
`,lke=e=>{let{name:t,ownerName:n,skip:s}=e;return(0,cy.a)(ake,{client:lT(),skip:s,variables:{name:t,ownerName:n}})},cke=e=>{let{fetchedRepos:t,currentRepo:n,setSelectedRepos:s,skip:r}=e;const[i,o]=(0,Ye.useState)(!1),a=wRe(bRe.WorkspaceCreator),l=t.find((e=>e.databaseId===n?.id));(0,Ye.useEffect)((()=>{n?.id&&!r&&l&&!i&&(s([l]),o(!0),a("Repo selected",{wasAutoselected:!0}))}),[n?.id,t,s]);const c=lke({name:n?.name,ownerName:n?.ownerName,skip:r||Boolean(l)||!n});(0,Ye.useEffect)((()=>{const e=c.data?.repository;!i&&!r&&!l&&e?.id&&(s([e]),o(!0),a("Repo selected",{wasAutoselected:!0}))}),[c,l])},dke=bb.Ps`
  query userTopRepostories($count: Int, $after: String) {
    viewer {
      id
      topRepositories(
        orderBy: { field: UPDATED_AT, direction: DESC }
        first: $count
        after: $after
      ) {
        nodes {
          id
          databaseId
          url
          name
          owner {
            login
            id
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
  }
`;const uke=e=>{let{onTopReposLoaded:t,currentRepo:n,isActive:s,selectedRepos:r,setSelectedRepos:i}=e;const{data:o,loading:a,fetchMore:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{count:t=10,onCompleted:n}=e;return(0,cy.a)(dke,{client:lT(),fetchPolicy:"cache-first",variables:{count:t},notifyOnNetworkStatusChange:!0,onCompleted:n})}({onCompleted:t,count:6}),c=wRe(bRe.WorkspaceCreator),d=(0,Ye.useMemo)((()=>o?.viewer?.topRepositories?.nodes||[]),[o]);cke({fetchedRepos:d,currentRepo:n,setSelectedRepos:i,skip:r.length>0}),(0,Ye.useEffect)((()=>{1!==d.length||r.length||F||(i(d),c("Repo selected",{wasAutoselected:!0}))}),[d?.length]);if(!s)return null;if(!o&&a)return Ye.createElement(Wfe,null);if(0===d.length&&!a)return Ye.createElement(eke,{type:hke.Top});const u=ee.mNm(ee.ETc(["id"]),[...r,...d]);return Ye.createElement(Ye.Fragment,null,Ye.createElement(QCe,{selectedRepos:r,setSelectedRepos:i,repos:u}),o?.viewer.topRepositories.pageInfo.hasNextPage&&Ye.createElement(tke,{loading:a,onClick:()=>l({variables:{after:o?.viewer.topRepositories.pageInfo.endCursor,count:10},updateQuery:ike(["viewer","topRepositories"])})}))},pke=bb.Ps`
  query mostRecentReposForOrg($count: Int, $after: String) {
    viewer {
      id
      repositories(
        first: $count
        after: $after
        orderBy: { field: UPDATED_AT, direction: DESC }
        affiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]
        ownerAffiliations: [OWNER, ORGANIZATION_MEMBER, COLLABORATOR]
      ) {
        nodes {
          id
          databaseId
          url
          name
          owner {
            login
            id
          }
        }
        pageInfo {
          endCursor
          hasNextPage
        }
      }
    }
  }
`;const mke=e=>{let{currentRepo:t,isActive:n,selectedRepos:s,setSelectedRepos:r,topRepos:i=[],onRecentReposLoaded:o}=e;const{data:a,loading:l,fetchMore:c}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{count:t=10,onCompleted:n}=e;return(0,cy.a)(pke,{client:lT(),fetchPolicy:"cache-first",variables:{count:t},notifyOnNetworkStatusChange:!0,onCompleted:n})}({onCompleted:o,count:6}),d=(0,Ye.useMemo)((()=>a?.viewer?.repositories?.nodes||[]),[a]);cke({fetchedRepos:d,currentRepo:t,setSelectedRepos:r,skip:s.length>0}),(0,Ye.useEffect)((()=>{1!==d.length||s.length||r(d)}),[d?.length]);const u=(0,Ye.useMemo)((()=>ee.mNm(ee.ETc(["id"]),[...s,...i,...d])),[s,i,d]);return n?!a&&l?Ye.createElement(Wfe,null):0!==d.length||l?Ye.createElement(Ye.Fragment,null,Ye.createElement(QCe,{selectedRepos:s,setSelectedRepos:r,repos:u}),a?.viewer.repositories.pageInfo.hasNextPage&&Ye.createElement(tke,{loading:l,onClick:()=>c({variables:{after:a?.viewer.repositories.pageInfo.endCursor,count:10},updateQuery:ike(["viewer","repositories"])})})):Ye.createElement(eke,{type:hke.Top}):null};let hke;!function(e){e.Search="search",e.Top="top",e.Recent="recent"}(hke||(hke={}));const Eke=e=>{let{currentRepo:t,onRecentReposLoaded:n,onTopReposLoaded:s,selectedRepos:r,setSelectedRepos:i,workspaceInfo:o,setWorkspaceInfo:a,setHasDuplicateName:l,hasDuplicateName:c,isCreatingWorkspace:d,onCreateWorkspace:u}=e;const[p,m]=(0,Ye.useState)([]),h=wRe(bRe.WorkspaceCreator),E=(0,Ye.useRef)(null),[g,f]=(0,Ye.useState)(null),{orgs:_,isLoading:v}=sge(),I=!v&&_?Object.keys(_).map((e=>_[e].login)):[],{name:b}=o,y=null===g||""===g.trim(),S=ee.IHq((()=>h("Search for repo"))),w=p.length>2,R=(0,_I.default)("zhc-workspace-creator__text-input",{"zhc-workspace-creator__text-input--error":c}),T=0===r.length||""===o.name.trim()||d||c;return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhc-workspace-creator__main"},Ye.createElement("div",{className:"zhc-workspace-creator__heading-container"},Ye.createElement(aCe,{stepNumber:2}),Ye.createElement("h3",{className:"zhc-workspace-creator__heading"},"Create a team workspace from a set of repos")),Ye.createElement("div",{className:"zhc-workspace-creator__workspace-name-container"},Ye.createElement("h5",{className:"zhc-workspace-creator__subheading"},"Team workspace name"),b.length>80&&Ye.createElement("span",{className:"zhc-workspace-creator__character-count"},(0,_t.ZU)(b.length,100))),Ye.createElement("input",{"data-testid":"workspace-creator-input-name",className:R,value:b,placeholder:"eg. Engineering team, Design team, Product team",autoFocus:!0,type:"text",onChange:e=>(e=>{const t=e.target;a({...o,name:t.value}),l(!1)})(e),maxLength:100}),c&&Ye.createElement("div",{className:"zhc-workspace-creator__error-message"},"This name has already been taken by another workspace"),Ye.createElement(Ye.Fragment,null,null!==g&&Ye.createElement("div",{className:"zhc-workspace-creator__search"},Ye.createElement(ZCe,{ref:E,autoFocus:!0,defaultText:"Search repos",searchIcon:Ye.createElement(Woe,null),suggestedModifiers:[],onFilterChange:RI()((e=>{S(),f(e.filterKey)}),200),text:g}),Ye.createElement(H5,{padding:M5.NONE,height:A5.SHORT,variant:z5.TEXT,className:"zhc-workspace-creator__exit-search-button",onClick:()=>{f(null),E&&E.current?.clearSearch()}},Ye.createElement(R7,null))),Ye.createElement("div",{className:"zhc-workspace-creator-list-header"},null!==g&&""!==g.trim()?Ye.createElement("p",{className:"zhc-workspace-creator-list-header--search"},Ye.createElement("span",{className:"zhu-font-bold"},"Repos with: "),g):Ye.createElement("h5",{className:"zhc-workspace-creator__subheading"},"Repositories selected (",r.length,")"),null===g&&Ye.createElement(H5,{color:L5.PRIMARY,onClick:()=>f(""),variant:z5.TEXT,padding:M5.NONE,height:A5.SHORT,dataTestId:"search-button"},Ye.createElement(Woe,null),"Search")),Ye.createElement("div",{className:"zhc-workspace-creator__repo-list-wrapper"},Ye.createElement(uke,{currentRepo:t,isActive:y&&w,onTopReposLoaded:e=>{s(e),e?.viewer?.topRepositories?.nodes&&m(e.viewer.topRepositories.nodes)},selectedRepos:r,setSelectedRepos:i}),Ye.createElement(mke,{currentRepo:t,isActive:y&&!w,selectedRepos:r,setSelectedRepos:i,topRepos:p,onRecentReposLoaded:n}),Ye.createElement(oke,{isActive:!y,selectedRepos:r,setSelectedRepos:i,searchTerm:g??"",orgNames:I})))),Ye.createElement("footer",{className:"zhc-workspace-creator__footer"},Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000011150-permissions-privacy",onClick:()=>h("Clicked can't find repo link"),target:"_blank",rel:"noopener noreferrer",className:"zhc-workspace-creator__help-link"},"Can't find your repository?"),Ye.createElement(H5,{className:"zhc-workspace-creator__action-button",onClick:e=>{h("Set repos",{repoCount:r.length}),(e=>{e.preventDefault(),u()})(e)},disabled:T,color:L5.ACTION},"Let's go!")))},gke="klFt93u5vbZmVDjFASAd",fke="qCQ3u76ptIw7csOUffqz",_ke="gN_GUQRApkD7bOc8QGhR",vke="M9sB8Fcp48dqdzjkihbN",Ike="XAfUkr6pFsdL2gG4rhP1",bke="UQ61S1w89bn0m_VnFgRw",yke="tQs1N_HNqIVIzLs0EhSt",Ske="FE9wlljvomAIcjuTqRkU",wke="iAOQCBkc_mpyqGJ45aAu",Rke=e=>{let{workspaceInfo:t,setWorkspaceInfo:n,setHasDuplicateName:s,hasDuplicateName:r,isCreatingWorkspace:i,onCreateWorkspace:o}=e;const{name:a}=t,l=(0,_I.default)(_ke,{[vke]:r}),c=""===t.name.trim()||i||r;return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:gke},Ye.createElement("h3",{className:fke},"Create a team workspace"),Ye.createElement("div",{className:Ike},Ye.createElement("label",{htmlFor:"workspace-creator-input-name",className:bke},"Team workspace name"),a.length>80&&Ye.createElement("span",null,(0,_t.ZU)(a.length,100))),Ye.createElement("input",{"data-testid":"workspace-creator-input-name",id:"workspace-creator-input-name",className:l,value:a,placeholder:"eg. Engineering team, Design team, Product team",autoFocus:!0,type:"text",onChange:e=>(e=>{const r=e.target;n({...t,name:r.value}),s(!1)})(e),maxLength:100}),r&&Ye.createElement("div",{className:yke},"This name has already been taken by another workspace")),Ye.createElement("footer",{className:Ske},Ye.createElement(H5,{className:wke,onClick:e=>{e.preventDefault(),o()},disabled:c,color:L5.ACTION},"Let's go!")))};var Tke=n(52165),Cke=n.n(Tke),kke=n(32729),Oke=n.n(kke),Nke=n(16375),Pke=n.n(Nke);const Ake=bb.ZP`
  mutation createWorkspace($input: CreateWorkspaceInput!) {
    createWorkspace(input: $input) {
      workspace {
        ...CurrentWorkspace
      }
    }
  }
  ${Cke()}
  ${Oke()}
  ${Pke()}
`,Dke=()=>{const[e]=(0,vK.D)(Ake);return(t,n)=>{const s={name:n.name,description:n.description};return t.length&&(s.repositoryGhIds=t.map((e=>e.databaseId)),s.defaultRepositoryGhId=t[0].databaseId),e({variables:{input:s}})}};function Lke(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{router:zke}=LG,Mke=()=>{const e=Dke(),t=(0,l3.I0)(),n=(0,l3.v9)(Ta);return function(){var s,r=(s=function*(s,r){const i={error:null,data:null};H.Z.createToast(W.Z.SAVING_UPDATE,{message:"Building your workspace..."});try{const{data:o}=yield e(s,r),a=(0,ha.DS)(o?.createWorkspace.workspace);((e,t)=>{t.forEach((t=>n_(e,t.repo_id)))})(a._id,a.repos),t(LG.pages.setReloadWorkspaceOrderIgnoreSocket(!0)),t(zke.openWorkspace(a,n)),i.data=a}catch(e){i.error=e}return H.Z.removeByType(W.Z.SAVING_UPDATE),i},function(){var e=this,t=arguments;return new Promise((function(n,r){var i=s.apply(e,t);function o(e){Lke(i,n,r,o,a,"next",e)}function a(e){Lke(i,n,r,o,a,"throw",e)}o(void 0)}))});return function(e,t){return r.apply(this,arguments)}}()};function xke(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Fke=Ye.createElement(Ye.Fragment,null,"Please try again or"," ",Ye.createElement("a",{className:"zhc-workspace-creator__support-link",rel:"noreferrer",target:"_blank",href:"mailto:support@zenhub.com?subject=Problems creating a Workspace"},"contact our support team")),Uke=e=>{let{currentRepo:t,renderWorkspaceCreatorPage:n=!0,repoSelectorClasses:s}=e;const[r,i]=(0,Ye.useState)([]),[o,a]=(0,Ye.useState)(!1),[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)({name:"",description:""}),[p,m]=(0,Ye.useState)(!1),[h,E]=(0,Ye.useState)(!1),g=(0,l3.v9)(gu),f=(0,l3.v9)(au),_=wRe(bRe.WorkspaceCreator),v=(new Date).getTime()-new Date(g).getTime()<36e5;(0,Ye.useEffect)((()=>_("Begin flow",{isNewUser:v})));const I=Mke(),b=function(){var e,t=(e=function*(){m(!0),H.Z.removeByTypeAndTag(W.Z.TEXT,"onCreateErrorToast");const{data:e,error:t}=yield I(r,d);t?((e=>{(e instanceof Error?e.message:"Unknown error").includes("Name has already been taken")?E(!0):H.Z.createToast(W.Z.TEXT,{heading:"Something went wrong",text:Fke},"onCreateErrorToast")})(t),m(!1)):(e?._id&&(Sa(e._id),vb(e._id)),_("Form submitted",{hasEnteredDescription:Boolean(d.description.trim().length)}))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xke(i,s,r,o,a,"next",e)}function a(e){xke(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),y=e=>{const t=e?.viewer?.topRepositories?.nodes;!o&&t&&(a(!0),_("Top Repositories List Loaded",{numOfRepos:t.length}))},S=e=>{const t=e?.viewer?.repositories?.nodes;!l&&t&&(c(!0),_("Recent Repositories List Loaded",{numOfRepos:t.length}))},w=()=>Ye.createElement("section",{className:`zhc-workspace-creator ${s??""}`},f?Ye.createElement(Rke,{workspaceInfo:d,setWorkspaceInfo:u,hasDuplicateName:h,setHasDuplicateName:E,isCreatingWorkspace:p,onCreateWorkspace:b}):Ye.createElement(Eke,{currentRepo:t,selectedRepos:r,setSelectedRepos:i,workspaceInfo:d,setWorkspaceInfo:u,onTopReposLoaded:y,onRecentReposLoaded:S,hasDuplicateName:h,setHasDuplicateName:E,isCreatingWorkspace:p,onCreateWorkspace:b}));return f?Ye.createElement($8.l_,{to:"/landing"}):n?Ye.createElement("div",{className:"zhc-workspace-creator__wrapper"},Ye.createElement($Ce,null),w(),Ye.createElement("a",{className:"zhc-workspace-creator__need-help-link",rel:"noreferrer",target:"_blank",href:"mailto:support@zenhub.com?subject=Problems creating a Workspace"},"Need help? Contact support")):w()},Bke=e=>{let{onClose:t,children:n}=e;const s=wRe(bRe.WorkspaceCreator),r=()=>{s("Modal closed"),t()};return Ye.createElement(Xre,{closeOnEsc:!0,modifiers:["full-screen"],isOpen:!0,onClose:()=>setTimeout(r,0)},Ye.createElement("div",{"data-cy":"close",className:"zhc-workspace-switcher__x",onClick:r},Ye.createElement(Lbe,null)),Ye.createElement("div",{className:"zhc-workspace-creator-modal"},n))};function qke(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{workspaceSwitcher:Hke}=LG;function Wke(e){const t=e?.owner?.login,n=e?.id,s=e?.name,r=e?.private;return zS({repoId:n,ownerName:t,repoName:s,isPrivate:r})}function jke(e,t){return ma.isOutdatedBoardsPath(t)?ma.getBoardPath({workspace:e}):ma.isOutdatedReportsPath(t)?ma.getReportsPath({workspace:e}):ma.getWorkspacePath(e)}class Gke extends Ye.PureComponent{constructor(e){super(e),this.state={authenticationError:!1,canCreateWorkspace:null,error:!1,workspaces:null,orgHasWorkspaces:null}}componentDidMount(){var e,t=this;return(e=function*(){const{addToRecentRepos:e,openWorkspaceCreator:n,userName:s,repoId:r,organization:i}=t.props;try{const[o,a,l]=yield Promise.all([By({repo_id:r}),rS({count:1,repositoryGhIds:[r]}),oS({login:i})]),c=a[0];e(o,s);const d=o.permissions.push,u=c?[c]:[];t.setState({canCreateWorkspace:d,workspace:c,workspaces:u,orgHasWorkspaces:l});const p=!l;u.length||!d||p||n([o.id])}catch(e){oe("Error in RedirectToWorkspaceOrCreate - cannot load workspace: ",e),403===e.status?t.setState({authenticationError:!0}):t.setState({error:!0})}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){qke(i,s,r,o,a,"next",e)}function a(e){qke(i,s,r,o,a,"throw",e)}o(void 0)}))})()}render(){const{location:e,navigateToRepoHome:t,organization:n,repoId:s,repository:r}=this.props,{authenticationError:i,canCreateWorkspace:o,error:a,workspace:l,workspaces:c,orgHasWorkspaces:d}=this.state;if(i)return Ye.createElement("div",{style:{width:"100%"}},Ye.createElement(WCe,{organizationName:n}));if(a)return Ye.createElement("div",{style:{width:"100%"}},Ye.createElement(SCe,{error:a}));if(!c)return Ye.createElement("div",{className:"zh-app__wrapper"},Ye.createElement(ICe,null));if(!1===d){const e={id:s,name:r,ownerName:n};return Ye.createElement(Bke,{onClose:()=>{t(n,r)}},Ye.createElement(Uke,{currentRepo:e}))}return c.length?Ye.createElement($8.l_,{to:{hash:e.hash,pathname:jke(l,e.pathname),search:e.search,state:{workspace:l}}}):!1===o?Ye.createElement("div",{style:{width:"100%"}},Ye.createElement(KCe,null)):Ye.createElement(fRe,{onClose:()=>{t(n,r)}})}}Gke.propTypes={addToRecentRepos:SI().func.isRequired,location:SI().shape({hash:SI().string,pathname:SI().string,search:SI().string,state:SI().shape({})}).isRequired,navigateToRepoHome:SI().func.isRequired,organization:SI().string.isRequired,repoId:SI().number.isRequired,repository:SI().string.isRequired,userName:SI().string.isRequired,openWorkspaceCreator:SI().func};const Kke=(0,$8.EN)((0,l3.$j)((function(e,t){return{organization:t.organization,repository:t.repository,repoId:t.repoId,userName:_u(e)}}),(function(e){return{addToRecentRepos:(t,n)=>{e(Hke.addToRecentRepos({ownerName:t?.owner?.login,recentRepo:Wke(t),userName:n}))},navigateToRepoHome:(e,t)=>{window.location.href=ma.getRepoPath({organization:e,repository:t})},openWorkspaceCreator:t=>{e(oZ.openWorkspaceCreator(t))}}}))(Gke)),Vke=(e,t,n)=>{const[s,r]=(0,Ye.useState)(!1),i=!1===(0,l3.v9)(ew)[t],o=ase();i&&n&&!s&&((e=>{let{featureTutorial:t,onNavigate:n,onShowTutorialsList:s,renderHighlightElement:r,renderOverlayElement:i,getLocation:o}=e;H.Z.removeByType(W.Z.LARGE_CARD),H.Z.createToastIfUniqueByType(W.Z.TUTORIAL,{cards:(ob.Workflows,vue),getLocation:o,onNavigate:n,onComplete:e=>{H.Z.deleteToast(e)},onClose:e=>{H.Z.deleteToast(e)},onShowTutorialsList:s,renderHighlightElement:r,renderOverlayElement:i},t)})({featureTutorial:e}),o(t,!0),r(!0))},$ke=e=>{(0,Ye.useEffect)((()=>{const t=document.title;return document.title=e,()=>{document.title=t}}),[e])},Zke=(e,t)=>{const{setPipelineConnectionDetailsMap:n,pipelineSelectionCount:s,hoveredPipeline:r,selectedSourcePipeline:i}=Vde();(0,Ye.useEffect)((()=>{const s=e?.workspace;(0,_t.KN)(s)||n(s,t)}),[e,s,r,i?.id])},Yke=e=>{const{lines:t,deleteLine:n}=Vde(),s=new Set(e.map((e=>{let{id:t}=e;return t})));(0,Ye.useEffect)((()=>{[...t.keys()].forEach((e=>{s.has(e)||n(e)}))}),[e.length])};let Jke;!function(e){e.ADMIN="ADMIN",e.WRITE="WRITE",e.READ="READ",e.NONE="NONE"}(Jke||(Jke={}));const Xke={ADMIN:4,WRITE:3,READ:2,NONE:1},Qke=e=>Xke[e]>=Xke.WRITE,eOe=e=>{let{className:t="zhc-issue-card__select-icon"}=e;return Ye.createElement("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16"},Ye.createElement("circle",{fill:"#9b9b9b",stroke:"#fff",cx:"8",cy:"8",r:"7"}),Ye.createElement("path",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.737,8.283l2.205,2.18l4.32-4.926"}))};let tOe;!function(e){e.SOURCE="source",e.DESTINATION="destination"}(tOe||(tOe={}));const nOe="workflows-source-pipeline-icon",sOe=e=>{let{isFaded:t,pipelineAutomationIds:n,isBelow:s,neighbouringAutomationCounts:r,pipelineNamesKey:i}=e;const{pipelineSelectionCount:o,updateLine:a,selectedSourcePipelineWorkspaceId:l}=Vde(),c=(0,Ye.useRef)(null),d=s?0:16;return(0,Ye.useEffect)((()=>{const e=c.current;if((0,_t.KN)(e))return;const t=e.getBoundingClientRect(),{x:s,y:r}=t;n.forEach((e=>{a(e,[s+8,r+d],tOe.SOURCE)}))}),[o,r.source,r.destination,l,i]),Ye.createElement("div",{ref:c,"data-testid":"workflows-source-pipeline-icon",className:(0,_I.default)(nOe,{"workflows-source-pipeline-icon--faded":t})})};function rOe(){return rOe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rOe.apply(this,arguments)}const iOe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--equilateral-triangle",t].filter(Boolean).join(" "),"aria-label":"equilateral-triangle",role:"img",...n};return Ye.createElement("svg",rOe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 18"},s),Ye.createElement("path",{d:"M10 3l8 14H2z",fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeWidth:2}))},oOe="workflows-destination-pipeline-icon",aOe=e=>{let{isBelow:t,isFaded:n,pipelineAutomationIds:s,neighbouringAutomationCounts:r,pipelineNamesKey:i}=e;const{pipelineSelectionCount:o,updateLine:a,selectedSourcePipelineWorkspaceId:l}=Vde(),c=(0,Ye.useRef)(null),d=t?4:20;return(0,Ye.useEffect)((()=>{const e=c.current;if((0,_t.KN)(e))return;const t=e.getBoundingClientRect(),{x:n,y:r}=t;s.forEach((e=>{a(e,[n+12,r+d],tOe.DESTINATION)}))}),[o,s.length,r.source,r.destination,l,i]),Ye.createElement("div",{"data-testid":"workflows-destination-pipeline-icon",className:(0,_I.default)(oOe,{"workflows-destination-pipeline-icon--below":t}),ref:c},Ye.createElement(iOe,{className:(0,_I.default)("workflows-destination-pipeline-icon__triangle",{"workflows-destination-pipeline-icon__triangle--faded":n})}))};function lOe(){return lOe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lOe.apply(this,arguments)}const cOe="zhc-workflows-pipeline",dOe=e=>{let{iconDetails:t,isSelected:n,isDisabled:s,name:r,isDisabledBecauseOfFullSelection:i,pipelineNamesKey:o}=e;const a=ee.UID((e=>({...e,isFaded:!!i||e.isFaded})),t),l={below:{source:a.sourceBelow.pipelineAutomationIds.length,destination:a.destinationBelow.pipelineAutomationIds.length},above:{source:a.sourceAbove.pipelineAutomationIds.length,destination:a.destinationAbove.pipelineAutomationIds.length}};return Ye.createElement(Ye.Fragment,null,Ye.createElement(H5,{className:"zhc-workflows-pipeline__button",disabled:s},r),Ye.createElement("div",{className:"zhc-workflows-pipeline__icons-container-top"},!a.sourceBelow.isHidden&&Ye.createElement(sOe,lOe({},a.sourceBelow,{isBelow:!0,neighbouringAutomationCounts:l.below,pipelineNamesKey:o})),!a.destinationBelow.isHidden&&Ye.createElement(aOe,lOe({},a.destinationBelow,{neighbouringAutomationCounts:l.below,isBelow:!0,pipelineNamesKey:o}))),n&&Ye.createElement("div",{className:"zhc-workflows-pipeline__selected-icon"},Ye.createElement(eOe,null)),Ye.createElement("div",{className:"zhc-workflows-pipeline__icons-container-bottom"},!a.sourceAbove.isHidden&&Ye.createElement(sOe,lOe({},a.sourceAbove,{neighbouringAutomationCounts:l.above,pipelineNamesKey:o})),!a.destinationAbove.isHidden&&Ye.createElement(aOe,lOe({},a.destinationAbove,{neighbouringAutomationCounts:l.above,pipelineNamesKey:o}))))},uOe="You cannot create connections with this Workspace because you don't have the correct permissions",pOe=e=>{let{pipeline:t,onPipelineClick:n,workspaceId:s,isDisabledBecauseOfSharedWorkspace:r,setHoveredPipeline:i,iconDetails:o,isSelected:a,isConnectedToSelectedSourceWorkspace:l,hasSelectedTwoPipelines:c,isDisabledBecauseOfFullSelection:d,clearHoveredPipeline:u,workspaceName:p,hasHighlightedAutomation:m,isFocused:h,isWorkspaceReadOnly:E,isDisabledBecauseOfReadOnlyWorkspace:g,pipelineNamesKey:f}=e;const{name:_}=t,v=m||h,I=d||r||l&&!v||g,b=I||E,y=Eb([[r,"You cannot connect two pipelines from the same Workspace"],[l&&!v,"You cannot connect with two pipelines that are from the same Workspace"],[E,uOe],[c,""]]),S=(0,_I.default)(cOe,{"zhc-workflows-pipeline--highlighted":!I&&v,"zhc-workflows-pipeline--selected":a,"zhc-workflows-pipeline--disabled":I}),w=!(0,_t.KN)(y);return Ye.createElement(YI,{content:y,wrapperClassName:w?S:""},Ye.createElement("div",{onMouseEnter:()=>{b||i(t)},onMouseLeave:()=>{b||u()},onClick:e=>{e.stopPropagation(),b||n(t,s,p,!0)},className:w?"":S},Ye.createElement(dOe,{name:_,isSelected:a,isDisabled:I,iconDetails:o,isDisabledBecauseOfFullSelection:d,pipelineNamesKey:f})))},mOe=e=>{let{hasSelectedSomePipeline:t,hasSelectedTwoPipelines:n,isWorkspaceReadOnly:s}=e;const r=(0,_I.default)(cOe,{"zhc-workflows-pipeline--disabled":t,"zhc-workflows-pipeline--disabled-without-styles":!0}),i=Eb([[!0,"The Closed pipeline in every Workspace cannot be connected since all closed Issues go there"],[s,uOe],[n,""]]),o=!(0,_t.KN)(i);return Ye.createElement(YI,{content:i,wrapperClassName:o?r:""},Ye.createElement("div",{className:o?"":r},Ye.createElement(H5,{className:"zhc-workflows-pipeline__button",disabled:t},"Closed")))},hOe=e=>{let{pipeline:t,setHoveredPipeline:n,onPipelineClick:s,isSelected:r,workspaceId:i,isDisabledBecauseOfSharedWorkspace:o,isConnectedToSelectedSourceWorkspace:a,iconDetails:l,hasSelectedTwoPipelines:c,isDisabledBecauseOfFullSelection:d,clearHoveredPipeline:u,workspaceName:p,hasHighlightedAutomation:m,isFocused:h,isWorkspaceReadOnly:E,isDisabledBecauseOfReadOnlyWorkspace:g,hasOnlySelectedSourcePipeline:f,pipelineNamesKey:_}=e;const{name:v}=t,I=m||h,b=a&&!I,y=o||b||d||g,S=y||E,w=S&&!(f&&o),R=(0,_I.default)(cOe,{"zhc-workflows-pipeline--highlighted":!y&&I,"zhc-workflows-pipeline--selected":r,"zhc-workflows-pipeline--disabled":y}),T=Eb([[o,"You cannot connect two pipelines from the same Workspace"],[b,"You cannot connect with two pipelines that are from the same Workspace"],[E,uOe],[c,""]]),C=!(0,_t.KN)(T);return Ye.createElement(YI,{content:T,wrapperClassName:C?R:""},Ye.createElement("div",{onMouseEnter:()=>{S||n(t)},onMouseLeave:()=>{S||u()},onClick:e=>{e.stopPropagation(),w||s(t,i,p)},className:C?"":R},Ye.createElement(dOe,{name:v,isSelected:r,isDisabled:y,iconDetails:l,isDisabledBecauseOfFullSelection:d,pipelineNamesKey:_})))},EOe="zhc-workflows-workspace",gOe=e=>{let{workspace:t,isMain:n,automationPositions:s}=e;const r=(0,_I.default)(EOe,{"zhc-workflows-workspace--main":n}),{name:i,description:o,id:a,pipelines:l,viewerPermission:c}=t,d=t.pipelines.map((e=>{let{name:t}=e;return t})).join(),{selectedSourcePipeline:u,selectedSourcePipelineWorkspaceId:p,selectedDestinationPipeline:m,onPipelineClick:h,setHoveredPipeline:E,selectedDestinationPipelineWorkspaceId:g,hasSelectedTwoPipelines:f,hasSelectedOnePipeline:_,hasSelectedSomePipeline:v,clearHoveredPipeline:I,pipelineConnectionDetailsMap:b,hasOnlySelectedSourcePipeline:y,hasOnlySelectedDestinationPipeline:S}=Vde(),w=(e,t,n,r)=>{const i=((e,t,n,s,r,i)=>{let o=!0;if(t){const t=i.get(n?.id);[...t?.sourcePipelinesAbove||[],...t?.sourcePipelinesBelow||[]].some((t=>{let{pipelineId:n}=t;return n===e.id}))&&(o=!1)}if(s){const t=i.get(r?.id);[...t?.destinationPipelinesAbove||[],...t?.destinationPipelinesBelow||[]].some((t=>{let{pipelineId:n}=t;return n===e.id}))&&(o=!1)}return o})(e,y,u,S,m,s);i&&h(e,t,n,r)},R=b.get(t.id)||[],T=_&&R.some((e=>e.isConnectedToFocusedPipeline)),C=!Qke(c);return(0,_t.KN)(R)?null:Ye.createElement("div",{className:r,"data-testid":"zhc-workflows-workspace"},Ye.createElement(II,{modifiers:["large"],name:i}),Ye.createElement("div",{className:"zhc-workflows-workspace__workspace_details"},Ye.createElement("div",{className:"zhu-color-text zhu-font-bold"},Ye.createElement(JI,{content:i},i)),!(0,_t.KN)(o)&&Ye.createElement("div",{className:"zhu-text-secondary-dark zhu-font-small"},Ye.createElement(JI,{content:o},o))),l.map(((e,t)=>{const{id:n}=e,s=u?.id===n||m?.id===n,r=p===a&&u?.id!==n||g===a&&m?.id!==n,o=f&&!s,l=0===t,c=R[t];if((0,_t.KN)(c))return null;const{hasHighlightedAutomation:h,isFocused:v,iconDetails:b}=R[t];let S=hOe;l&&(S=pOe);const k=C&&_;return Ye.createElement(S,{key:n,pipeline:e,setHoveredPipeline:E,clearHoveredPipeline:I,onPipelineClick:w,isSelected:s,hasOnlySelectedSourcePipeline:y,workspaceId:a,workspaceName:i,isDisabledBecauseOfSharedWorkspace:r,isConnectedToSelectedSourceWorkspace:T,iconDetails:b,hasSelectedTwoPipelines:f,isDisabledBecauseOfFullSelection:o,hasHighlightedAutomation:h,isFocused:v,isWorkspaceReadOnly:C,isDisabledBecauseOfReadOnlyWorkspace:k,pipelineNamesKey:d})})),Ye.createElement(mOe,{hasSelectedSomePipeline:v,hasSelectedTwoPipelines:f,isWorkspaceReadOnly:C}))};function fOe(){return fOe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fOe.apply(this,arguments)}const _Oe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--estimate-arrow-down",t].filter(Boolean).join(" "),"aria-label":"estimate-arrow-down",role:"img",...n};return Ye.createElement("svg",fOe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10H7.446L12 17.969 16.554 10H12zm-1-7v5H4l8 14 8-14h-7V3a1 1 0 10-2 0z",fill:"currentColor"}))},vOe=bb.Ps`
  mutation ($input: DeletePipelineToPipelineAutomationInput!) {
    deletePipelineToPipelineAutomation(input: $input) {
      pipelineToPipelineAutomation {
        id
      }
    }
  }
`,IOe=e=>{let{workspaceId:t,onComplete:n}=e;const{deleteLine:s}=Vde(),[r]=(0,vK.D)(vOe,{onCompleted:e=>{s(e.deletePipelineToPipelineAutomation.pipelineToPipelineAutomation.id),n(),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{content:"Connection removed",expirationDelay:5e3}),r6("Workflows",{Action:"Disconnected"})},onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Error during connection removal.",expirationDelay:5e3})}});return e=>{r({refetchQueries:[{query:$de,variables:{workspaceId:t}}],variables:{input:{pipelineToPipelineAutomationId:e}}})}},bOe=bb.Ps`
  mutation ($input: CreatePipelineToPipelineAutomationInput!) {
    createPipelineToPipelineAutomation(input: $input) {
      pipelineToPipelineAutomation {
        id
        sourcePipeline {
          id
        }
        destinationPipeline {
          id
        }
      }
    }
  }
`,yOe=e=>{let{workspaceId:t,onComplete:n}=e;const[s]=(0,vK.D)(bOe,{onCompleted:()=>{n(),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"Connected!",expirationDelay:2e3}),r6("Workflows",{Action:"Connected"})},onError:e=>{const t=(e=>{let t=["Connection cannot be completed."];const n=e?.graphQLErrors?.[0]?.extensions;return"ValidationError"===n?.type&&(t=[],n?.messages?.forEach((e=>t.push(e)))),t})(e),n=Ye.createElement(Ye.Fragment,null,t.map((e=>Ye.createElement("div",{key:e},e))));H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:n,expirationDelay:2e3})}});return function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s({refetchQueries:[{query:$de,variables:{workspaceId:t}}],variables:{input:{sourcePipelineId:e,destinationPipelineId:n,applyRetroactively:r}}})}},SOe="zhc-workflows-connection-bar",wOe=e=>{let{workspaceId:t,existingPipelineToPipelineConnection:n}=e;const{clearSelections:s,selectedSourcePipeline:r,selectedDestinationPipeline:i,hasSelectedSourcePipeline:o,hasSelectedDestinationPipeline:a,hasSelectedTwoPipelines:l,swapPipelinesSelections:c,selectedDestinationPipelineWorkspaceName:d,selectedSourcePipelineWorkspaceName:u,isSelectedSourceFirstPipeline:p,hasSelectedSomePipeline:m}=Vde(),h=yOe({workspaceId:t,onComplete:s}),E=IOe({workspaceId:t,onComplete:s}),[g,f]=(0,Ye.useState)(!0),_=l&&(0,_t.KN)(n),v=l&&!_,I=(0,l3.v9)(Eee),b=!(0,l3.v9)(Lde),y=!(0,l3.v9)(bV),S=(o||a)&&(b&&y);(0,Ye.useEffect)((()=>{S||s()}),[S]),(0,Ye.useEffect)((()=>{p&&f(!1)}),[p,m]),(0,Ye.useEffect)((()=>{m||f(!0)}),[m]);const w=(0,_I.default)(`${SOe}__bottom`,{[`${SOe}__bottom--is-visible`]:_});return Ye.createElement("div",{className:(0,_I.default)(SOe,{[`${SOe}--is-visible`]:S,[`${SOe}--with-sidebar`]:!I,[`${SOe}--ready-to-connect`]:_}),"data-testid":"zhc-workflows-connection-bar",onClick:e=>{e.stopPropagation()}},Ye.createElement("div",{className:`${SOe}__top`},Ye.createElement("div",{className:`${SOe}__close-button`},Ye.createElement(H5,{color:L5.SECONDARY,onClick:s,ariaLabel:"clear_selections"},Ye.createElement(Z5,null))),Ye.createElement("div",{className:`${SOe}__source`},Ye.createElement("span",{className:"zhu-text-secondary-dark zhu-font-semi zhu-font-small"},"When Issues move to"),o?Ye.createElement(JI,{content:r?.name||"",contentClassName:`${SOe}__pipeline-name zhu-color-brand zhu-font-bold zhu-font-large`},r?.name||""):Ye.createElement("span",{className:"zhu-color-grey"},"Select another pipeline")),Ye.createElement("div",{className:`${SOe}__destination-arrow`},Ye.createElement(_Oe,null)),Ye.createElement("div",{className:`${SOe}__destination ${a?"":`${SOe}__destination--empty`}`},Ye.createElement("div",{className:"zhu-flex zhu-text-secondary-dark zhu-font-semi zhu-font-small"},a?Ye.createElement(Ye.Fragment,null,Ye.createElement(JI,{content:d||"",contentClassName:`${SOe}__workspace-name`},`Move the same Issues in ${d||""}`),Ye.createElement("span",null,"\xa0to")):Ye.createElement("span",null,"Move the same Issues in another Workspace to")),a?Ye.createElement(JI,{content:i?.name||"",contentClassName:`${SOe}__pipeline-name zhu-color-brand zhu-font-bold zhu-font-large`},i?.name||""):Ye.createElement("span",{className:"zhu-color-grey"},"Select a pipeline from another Workspace")),Ye.createElement("div",{className:`${SOe}__actions`},_&&Ye.createElement(YI,{content:"Swap pipelines"},Ye.createElement(H5,{color:L5.SECONDARY,variant:z5.CONTAINED,onClick:c,disabled:!l,ariaLabel:"swap pipelines"},Ye.createElement(qie,null))),!v&&Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.OUTLINED,onClick:()=>{h(r.id,i.id,g)},disabled:!l},"Connect"),v&&Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.OUTLINED,onClick:()=>{E(n.id)},disabled:!l},"Remove connection"))),Ye.createElement("div",{className:`${w} zhu-font-small`},Ye.createElement(mCe,{checked:g,onClick:()=>{f((e=>!e))}}),Ye.createElement("div",{className:`${SOe}__bottom__text`},Ye.createElement("span",{className:"zhu-text-secondary-dark"},"\xa0Also move issues currently in\xa0"),Ye.createElement("span",{className:"zhu-font-bold"},r?.name),Ye.createElement("span",{className:"zhu-text-secondary-dark "},"\xa0in\xa0"),Ye.createElement("span",{className:"zhu-font-bold"},u))))},ROe=e=>{const{setSelectedSourcePipeline:t,setSelectedDestinationPipeline:n}=Vde(),s=Loe(),{selectedSourcePipelineId:r,selectedDestinationPipelineId:i}=s;(0,Ye.useEffect)((()=>{if(!(0,_t.KN)(r)&&!(0,_t.KN)(i)){let s=null,o=null;e.forEach((e=>{e.pipelines.forEach((t=>{t.id===r&&(s={pipeline:t,workspaceId:e.id,workspaceName:e.name}),t.id===i&&(o={pipeline:t,workspaceId:e.id,workspaceName:e.name}),t.id===i&&(o={pipeline:t,workspaceId:e.id,workspaceName:e.name})}))})),(0,_t.KN)(s)||(0,_t.KN)(o)||(t(s),n(o))}}),[e.length,r,i])};var TOe=n(62196);const COe="automation-line",kOe=e=>{let{source:t,target:n,isFaded:s,isPending:r,automationId:i,lineBuilder:o}=e;const a=(0,_I.default)(COe,{"automation-line--faded":s,"automation-line--pending":r}),[l,c]=t,[d,u]=n,p=c<u?-16:16,m=o([[l,c],[l,u+p],[d,u+p],[d,u]]);return Ye.createElement("path",{"data-testid":"automation-line",className:a,d:m,fill:"none",stroke:"currentColor",strokeWidth:"2px",key:i})};function OOe(){return OOe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OOe.apply(this,arguments)}const NOe=(0,TOe.Z)(),POe=e=>{let{focusedAutomationIds:t,contentHeight:n,contentWidth:s}=e;const r=(0,Ye.useRef)(null),[i,o]=(0,Ye.useState)(null),{lines:a,pipelineSelectionCount:l,isSomePipelineFocused:c,selectedSourcePipelineWorkspaceId:d,selectedDestinationPipelineWorkspaceId:u}=Vde();(0,Ye.useEffect)((()=>{const e=r.current;if(e){const t=e.getBoundingClientRect(),{x:n,y:s}=t;o({x:n,y:s})}}),[l,d,u]);let p=[];i&&(p=[...a.entries()].filter((e=>{let[,t]=e;return 2===t.source?.length&&2===t.destination?.length})).map((e=>{let[n,s]=e;const{source:r=[0,0],destination:o=[0,0]}=s,[a,l]=r,[c,d]=o;return{source:[a-i.x,l-i.y],target:[c-i.x,d-i.y],isFaded:!t.includes(n),isPending:"pending"===n,automationId:n}})));const[m,h]=p.reduce(((e,n)=>(c&&t.includes(n.automationId)?e[0].push(n):e[1].push(n),e)),[[],[]]);return Ye.createElement("div",{className:"workflows-lines-container",ref:r},Ye.createElement("div",{className:"workflows-lines-container__lines"},Ye.createElement("svg",{width:s,height:n},h.map((e=>Ye.createElement(kOe,OOe({},e,{key:e.automationId,lineBuilder:NOe})))))),Ye.createElement("div",{className:"workflows-lines-container__lines workflows-lines-container__lines--highlighted"},Ye.createElement("svg",{width:s,height:n},m.map((e=>Ye.createElement(kOe,OOe({},e,{key:e.automationId,lineBuilder:NOe})))))))},AOe=n.p+"../../img/built/workflows-empty.svg",DOe="workflows-empty",LOe=()=>Ye.createElement("div",{className:DOe,"data-testid":"workflows-empty"},Ye.createElement(t7,{src:AOe}),Ye.createElement("div",{className:"zhu-color-text-secondary-dark zhu-font-bold"},"There are no Workspaces that share repos with the current Workspace"),Ye.createElement("div",{className:"zhu-text-secondary"},"Create Workflow Automation across multiple teams and functions using Workspaces with shared repos."),Ye.createElement("div",{className:"workflows-empty workflows-empty__cta"},Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000584210-workflows-in-zenhub-beta-users-only",target:"_blank",rel:"noopener noreferrer"},Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.OUTLINED,onClick:()=>({})},"Learn how to use Workflow Automation")))),zOe="workflows-skeleton-workspace",MOe=e=>{let{pipelineCount:t}=e;return Ye.createElement("div",{className:zOe},Ye.createElement("div",{className:"workflows-skeleton-workspace__workspace-info"},Ye.createElement(yIe,{firstRowSize:"m",secondRowSize:"xl"})),(n=0,s=t,n>s?[]:Array(s-n).fill(n).map(((e,t)=>e+t))).map((e=>Ye.createElement("div",{className:"workflows-skeleton-workspace__pipeline",key:e},Ye.createElement(hIe,{size:"xl"})))));var n,s},xOe="workflows-loading",FOe=()=>Ye.createElement("div",{className:xOe},Ye.createElement("h4",null,"Automate issue workflow"),Ye.createElement("div",{className:"workflows-loading__instructions"},Ye.createElement("div",{className:"zhu-color-text-secondary-dark zhu-font-medium"},"Select a trigger pipeline and a destination pipeline. Your issue will move automatically to the destination pipeline when placed in the trigger pipeline")),Ye.createElement("div",{className:"workflows-loading__section-heading"},"Current Workspace"),Ye.createElement(MOe,{pipelineCount:7}),Ye.createElement("div",{className:"workflows-loading__section-heading"},"Related Workspaces"),Ye.createElement(MOe,{pipelineCount:5})),UOe="tY6ZepoPFXESj772sagW",BOe="cNN53MjcyxnKJLesZ52h",qOe="HyDaWziNNpFPQanWFUo1",HOe="gVsiTpc00u_7KbT6uMoS",WOe="Xaz8DGxs2Isd6QYv8Rru",jOe="KdR7jH_hEDV6jEAEVZJ7",GOe="Workflows",KOe=e=>{let{workspaceId:t,workspaceName:n}=e;const{loading:s,data:r}=Zde(t),{clearSelections:i,selectedSourcePipeline:o,selectedDestinationPipeline:a,hasSelectedTwoPipelines:l,hoveredPipeline:c,workflowsState:d}=Vde(),u=d===xde.EMPTY,p=u||d===xde.LOADING,m=o?.id||"",h=a?.id||"",E=(0,Ye.useMemo)((()=>l?((e,t,n)=>e.find((e=>{let{sourcePipeline:s,destinationPipeline:r}=e;return s.id===t&&r.id===n||s.id===n&&r.id===t}))||null)(db(r?.workspace),m,h):null),[l,m,h,db(r?.workspace)]),g=(0,Ye.useRef)(null),f=g.current;let _=0,v=0;(0,_t.KN)(f)||(_=f.clientHeight,v=f.clientWidth);const I=r?.workspace||null,b=l&&(0,_t.KN)(E)?{__typename:"PipelineToPipelineAutomation",id:"pending",sourcePipeline:o,destinationPipeline:a}:null,y=(0,_t.KN)(I)?new Map:((e,t)=>{const n=new Map,s=new Map,r=new Map;[e,...e?.relatedWorkspaces?.nodes??[]].forEach(((e,t)=>{s.set(e.id,t),e.pipelines.forEach((t=>{n.set(t.id,e.id),r.set(t.id,{destinationPipelinesBelow:[],destinationPipelinesAbove:[],sourcePipelinesBelow:[],sourcePipelinesAbove:[]})}))}));const i=db(e);return(0,_t.KN)(t)||i.push(t),i.forEach((e=>{const{id:t}=e,i=e.sourcePipeline.id,o=n.get(i),a=s.get(o),l=e.destinationPipeline.id,c=n.get(l);a<s.get(c)?(r.get(i)?.destinationPipelinesBelow.push({pipelineId:l,pipelineAutomationId:t}),r.get(l)?.sourcePipelinesAbove.push({pipelineId:i,pipelineAutomationId:t})):(r.get(i)?.destinationPipelinesAbove.push({pipelineId:l,pipelineAutomationId:t}),r.get(l)?.sourcePipelinesBelow.push({pipelineId:i,pipelineAutomationId:t}))})),r})(I,b),S=db(I);(0,_t.KN)(b)||S.push(b);const w=((e,t,n,s)=>{const r=hb(n,e,t).filter((e=>!(0,_t.KN)(e))).map((e=>e?.id));return s.filter((e=>r.every((t=>e.sourcePipeline.id===t||e.destinationPipeline.id===t)))).map((e=>e.id))})(o,a,c,S),R=I?.relatedWorkspaces?.nodes??[];return Zke(r,y),Yke(S.concat(b||[])),$ke(`Workflows \xb7 ${n}`),Vke(ob.Workflows,"workflows_tutorial_viewed",!p),(0,Ye.useEffect)((()=>{r6("Page Viewed",{"Page Name":GOe})}),[]),(0,Ye.useEffect)((()=>fb),[]),ROe(R.concat(I||[])),s?Ye.createElement(FOe,null):(0,_t.KN)(I)?null:Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:UOe,"data-testid":"zhc-workflows",onClick:i},Ye.createElement(POe,{focusedAutomationIds:w,contentHeight:_,contentWidth:v}),Ye.createElement("div",{className:BOe,ref:g},Ye.createElement("div",{className:qOe},Ye.createElement("h4",null,"Automate issue workflow"),Ye.createElement(Iie,{href:"https://portal.productboard.com/zenhub/1-zenhub-s-roadmap/c/93-workflows-between-workspaces",pageName:GOe,text:"Give feedback"})),Ye.createElement("div",{className:HOe},Ye.createElement("div",{className:WOe},"Select a trigger pipeline and a destination pipeline. Your issue will move automatically to the destination pipeline when placed in the trigger pipeline")),Ye.createElement("div",{className:jOe},"Current Workspace"),Ye.createElement(gOe,{workspace:I,automationPositions:y,isMain:!0}),Ye.createElement("div",{className:jOe},"Related Workspaces"),!u&&R.map((e=>Ye.createElement(gOe,{workspace:e,automationPositions:y,key:e.id}))),Ye.createElement(wOe,{workspaceId:t,existingPipelineToPipelineConnection:E})),u&&Ye.createElement(LOe,null)))},VOe=e=>Ye.createElement(Kde,null,Ye.createElement(KOe,e)),$Oe=()=>Ye.createElement("h3",null,"Error rendering Workflows"),ZOe="zh-app--fixed-layout",YOe=()=>{(0,Ye.useLayoutEffect)((()=>{const{classList:e}=document.querySelector("html");return e.add(ZOe),()=>{e.remove(ZOe)}}),[])},JOe=e=>{let{setContainerHeight:t}=e;YOe(),(0,Ye.useEffect)((()=>(qI(),t(),()=>{HI()})),[t]);const{_id:n,displayName:s}=(0,l3.v9)((e=>Na(e)));return Ye.createElement(ehe,{errorRender:$Oe},Ye.createElement(VOe,{workspaceId:n,workspaceName:s}))};function XOe(){return XOe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},XOe.apply(this,arguments)}const QOe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--slash",t].filter(Boolean).join(" "),"aria-label":"slash",role:"img",...n};return Ye.createElement("svg",XOe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{d:"M9.428 4.324l-4 6.666a.667.667 0 101.144.686l4-6.666a.667.667 0 00-1.144-.686z",id:"slash_svg__a"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("mask",{id:"slash_svg__b",fill:"currentColor"},Ye.createElement("use",{xlinkHref:"#slash_svg__a"})),Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#slash_svg__a"}),Ye.createElement("g",{mask:"url(#slash_svg__b)",fill:"currentColor"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function eNe(){return eNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eNe.apply(this,arguments)}const tNe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--export",t].filter(Boolean).join(" "),"aria-label":"export",role:"img",...n};return Ye.createElement("svg",eNe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.293 8.707a1 1 0 1 0 1.414-1.414l-5-5a1 1 0 0 0-1.414 0l-5 5a1 1 0 0 0 1.414 1.414L11 5.414V17a1 1 0 1 0 2 0V5.414l3.293 3.293zM2 16v3a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-3a1 1 0 1 0-2 0v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 1 0-2 0z",fill:"currentColor"}))};function nNe(){return nNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nNe.apply(this,arguments)}const sNe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--share",t].filter(Boolean).join(" "),"aria-label":"share",role:"img",...n};return Ye.createElement("svg",nNe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.216 8.228a1.013 1.013 0 0 1-1.432 0L13.025 5.47v10.293a1.012 1.012 0 1 1-2.025 0V5.444L8.216 8.228a1.013 1.013 0 0 1-1.432-1.431l4.5-4.5c.2-.2.463-.3.726-.297h.002c.328 0 .62.156.805.397l4.399 4.4a1.013 1.013 0 0 1 0 1.431zM5.5 11a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h13a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-2a1 1 0 1 0 0 2h2v7h-13v-7h2a1 1 0 1 0 0-2h-2z",fill:"currentColor"}))},{updateQueryString:rNe}=Vt.Z;let iNe;!function(e){e.ROADMAP="roadmap",e.BURNDOWN_CHART_SPRINTS="burndown?entity=sprints",e.BURNDOWN_CHART_MILESTONES="burndown?entity=milestones",e.CUMULATIVE_CHART="cumulative",e.VELOCITY_CHART="velocity",e.RELEASE_REPORT="release",e.CONTROL_CHART="control"}(iNe||(iNe={}));const{webappURL:oNe}=L.Z,aNe=e=>{let{title:t,page:n,entityId:s}=e;const r=(0,l3.v9)(Na);let i=oNe;switch(n){case iNe.ROADMAP:i+=ma.getRoadmapPath({workspace:r});break;case iNe.RELEASE_REPORT:{const e=s?`?release=${s}`:null;i+=ma.getReportsPath({workspace:r,type:n})+e;break}case iNe.BURNDOWN_CHART_SPRINTS:case iNe.BURNDOWN_CHART_MILESTONES:{const e=s?`&milestoneId=${s}`:null;i+=ma.getReportsPath({workspace:r,type:n})+e;break}default:i+=ma.getReportsPath({workspace:r,type:n})}i=rNe(i,"invite","true");return Ye.createElement(D_e,{title:t,iconComponent:Ye.createElement(tme,null),handler:()=>{navigator.clipboard.writeText(i).then((()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"Link copied!",expirationDelay:2e3})}),(()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})}))},"data-testid":"share-button"})},lNe="uaXiyzaRd8E2kB9FRQT2",cNe="RkHEHNDnxUwDiGedAnqK",dNe=e=>{let{children:t,copyLinkText:n,copyLinkToPage:s,entityId:r,isDisabled:i}=e;return Ye.createElement(NSe,{position:kte.LEFT,isDisabled:i,buttonText:"Share",primaryIcon:Ye.createElement(sNe,{className:lNe}),secondaryIcon:Ye.createElement(gte,{className:cNe})},n&&s&&Ye.createElement(aNe,{page:s,title:n,entityId:r}),t)},uNe="dQ9G9vrAd9TgB1dU3hK4",pNe="oGRonlNJlSUEMvLsvKus",mNe="OieDIZw40vSCEbh2jLaB",hNe="RZuZzyozUj7kQRQ_WVir",ENe="F6taXx03pRusJchL4EW6",gNe=45,fNe=2,_Ne=e=>{let{onSubmit:t,submitTitle:n,onClose:s}=e;const[r,i]=(0,Ye.useState)(null),[o,a]=(0,Ye.useState)(null),l=(0,Ye.useCallback)((e=>{let{startDate:t,endDate:n}=e;i(t),a(n)}),[]),c=(0,Ye.useCallback)((()=>t(r,o,"months")),[t,o,r]);return Ye.createElement(Xre,{closeOnEsc:!0,isOpen:!0},Ye.createElement("div",{className:uNe},Ye.createElement("div",{className:pNe},Ye.createElement(Zre,{modalTitle:"Export Roadmap",onClose:s}),Ye.createElement("div",{className:mNe},Ye.createElement(Eoe,{startDate:null,endDate:null,daySize:gNe,alwaysOpen:!0,customInputIcon:Ye.createElement(uoe,null),onDatesChange:l,numberOfMonths:fNe,enableOutsideDays:!0,renderDayContents:e=>{const t=Ye.createElement("div",{className:"zh-CalendarDay"},e.date()),n=(0,_I.default)("zh-CalendarDay_container",{"zh-CalendarDay_container__selected--start":(0,coe.default)(e,fp(null)),"zh-CalendarDay_container__selected--end":(0,coe.default)(e,fp(null))});return"zh-CalendarDay_container"===n?t:Ye.createElement("div",{className:n},t)}})),Ye.createElement("div",{className:hNe},Ye.createElement(H5,{color:L5.INACTIVE,variant:z5.TEXT,onClick:s},"Cancel"),Ye.createElement(H5,{color:L5.PRIMARY,className:ENe,disabled:!r||!o,onClick:c},n)))))},vNe=["hsl(261, 46%, 75%)","hsl(231, 44%, 85%)","hsl(199, 92%, 75%)","hsl(187, 72%, 75%)","hsl(174, 42%, 75%)"],INe=1440,bNe=50,yNe=350,SNe="dont-overlap-sidebar",wNe="sidebar-contents",RNe=e=>{let{svgHeight:t,svgWidth:n}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement("style",null,"\n        text {\n          font-family: system-ui, sans-serif;\n          fill: #000;\n        }\n        .bg {\n          fill: #fff;\n        }\n        .icon {\n          fill: #000;\n          opacity: 0.8;\n        }\n\n        /* header/sidebar styles */\n        .header {\n          fill: #f8f8f8;\n        }\n        .headerDate {\n          font-size: 14px;\n          font-weight: bold;\n        }\n        .logoIcon {\n          fill: #4660F9;\n        }\n        .tick {\n          fill: #666;\n          font-weight: bold;\n        }\n        .tickLine {\n          stroke: #666;\n        }\n        .sidebarDivider {\n          stroke: #ddd;\n        }\n\n        /* track styles */\n        .boxText {\n          opacity: 0.7;\n        }\n        .date {\n          fill: #999;\n          font-size: 12px;\n        }\n        .progressOuter {\n          fill: rgba(255,255,255,0.3);\n        }\n        .progressInner {\n          fill: rgba(0,0,0,0.5);\n        }\n        .closedGroup > text, .closedGroup > use {\n          fill: #999;\n        }\n        .subtext {\n          opacity: 0.7;\n        }\n\n        /* nested track styles */\n        .nestedBox {\n          opacity: 0.6;\n        }\n        .nestedBg {\n          fill: #f8f8f8;\n        }\n      "),Ye.createElement("defs",null,Ye.createElement("filter",{id:"shadow"},Ye.createElement("feDropShadow",{dx:"0",dy:"1",stdDeviation:"1",floodColor:"#ccc"})),Ye.createElement("clipPath",{id:SNe},Ye.createElement("rect",{x:yNe,y:"0",width:n-yNe,height:t})),Ye.createElement("clipPath",{id:wNe},Ye.createElement("rect",{x:"0",y:"0",width:yNe,height:t})),Ye.createElement("linearGradient",{id:"sidebarShadow",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},Ye.createElement("stop",{offset:"0%",style:{stopColor:"rgb(100, 100, 100)",stopOpacity:.15}}),Ye.createElement("stop",{offset:"100%",style:{stopColor:"rgb(100, 100, 100)",stopOpacity:0}})),Ye.createElement("path",{id:"projectIcon",d:"M4 4v2h8V4zm0-2h8a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2zm4 9v2h12v-2zm0-2h12a2 2 0 012 2v2a2 2 0 01-2 2H8a2 2 0 01-2-2v-2a2 2 0 012-2zm-4 9v2h3v-2zm0-2h3a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 012-2z",transform:"scale(0.7)"}),Ye.createElement("path",{id:"epicIcon",d:"M4.667 2A.667.667 0 004 2.667v11.231l3.12-2.738a1.333 1.333 0 011.76 0L12 13.898V2.667A.667.667 0 0011.333 2zM11.333.667a2 2 0 012 2v11.231a1.333 1.333 0 01-2.212 1.003L8 12.163 4.88 14.9a1.333 1.333 0 01-2.213-1.003V2.667a2 2 0 012-2zM9.667 3.333H6v6h4V8H7.333V7h2V5.667h-2v-1h2.334z"}),Ye.createElement("path",{id:"epicIconClosed",d:"M12 8.04a.667.667 0 111.333 0v5.778a1.333 1.333 0 01-2.234.983L8 11.96 4.901 14.8a1.333 1.333 0 01-2.234-.982V2.667a2 2 0 012-2h3.349a.667.667 0 110 1.333h-3.35A.667.667 0 004 2.667v11.15l3.099-2.84a1.333 1.333 0 011.802 0L12 13.817zM9.805 3.529l.862.862 2.862-2.862a.667.667 0 11.942.942l-3.333 3.334a.667.667 0 01-.943 0L8.862 4.47a.667.667 0 11.943-.942z"}),Ye.createElement("path",{id:"zhLogo",d:"M11.228 3.727V1.076H.327v2.651h7.229L.168 12.928v2.674h11.22v-2.674h-7.57zm5.644.702c-3.127 0-5.484 2.583-5.484 5.756 0 3.152 2.449 5.735 5.826 5.735 1.835 0 3.376-.748 4.192-1.7l-1.428-1.882a3.686 3.686 0 01-2.651 1.134c-1.678 0-2.833-1.088-3.106-2.607h8.046c.045-.18.068-.566.068-.906 0-3.127-2.358-5.53-5.463-5.53zm-2.605 4.69c.318-1.382 1.269-2.334 2.652-2.334 1.292 0 2.266.793 2.583 2.334h-5.235zm42.975 1.497c0 1.586-.929 2.651-2.312 2.651-1.383 0-2.312-1.065-2.312-2.651v-5.87h-2.766v6.074c0 3.037 2.017 5.055 5.077 5.055s5.078-2.017 5.078-5.055V4.746h-2.765v5.87zM67.894 4.43v-.002c-1.405 0-2.516.566-3.308 1.496V.008H61.82v15.594h2.765v-1.087c.77.884 1.88 1.405 3.308 1.405 3.015 0 5.213-2.47 5.213-5.757 0-3.377-2.334-5.734-5.213-5.734zm-.43 8.884c-1.654 0-2.878-1.383-2.878-3.128s1.224-3.15 2.878-3.15c1.677 0 2.878 1.405 2.878 3.15 0 1.746-1.2 3.128-2.878 3.128zm-38.749-8.9c-2.976 0-4.938 2.018-4.938 5.054v6.075h2.69v-5.87c0-1.587.904-2.652 2.248-2.652 1.344 0 2.247 1.065 2.247 2.651v5.871h2.69V9.468c0-3.037-1.962-5.054-4.937-5.054zm16.376 2.44H38.18v-5.78h-2.834v14.527h2.834V9.505h6.912V15.6h2.855V1.075h-2.855z"})))},TNe=31536e6,CNe=e=>"issue"in e,kNe=e=>CNe(e)?"CLOSED"===e.issue?.state:"CLOSED"===e.state,ONe=(e,t)=>kNe(e)?"rgb(233, 233, 233)":t,NNe="url(#dont-overlap-sidebar)",PNe=e=>CNe(e)?kNe(e)?"#epicIconClosed":"#epicIcon":"#projectIcon",ANe=e=>{let{color:t,isChildItem:n,item:s,svgWidth:r,xStart:i,xEnd:o,y:a}=e;const l=(CNe(s)?s?.issue?.title:s.name)??"-",c=o-i,d=a+bNe+8,u=n?40:20,p=i>yNe;return Ye.createElement("g",{className:"track"},Ye.createElement("title",null,l),n?Ye.createElement("rect",{x:"0",y:a-8,width:r,height:66,className:"nestedBg"}):null,Ye.createElement("g",{className:kNe(s)?"closedGroup":"",clipPath:"url(#sidebar-contents)"},Ye.createElement("use",{href:PNe(s),x:u,y:a+10,className:"icon"}),Ye.createElement("text",{x:u+20,y:a+22},(h=38,(m=l).length<h?m:`${m.slice(0,h-1)}\u2026`)),Ye.createElement("text",{x:u,y:a+40,className:"date"},sm(s.startOn,s.endOn)||"No date set yet"),Ye.createElement("line",{x1:0,x2:r,y1:d,y2:d,stroke:"#e7e7e7"})),Ye.createElement("rect",{x:i,y:a,width:c,height:bNe,rx:"2",className:n?"nestedBox":void 0,style:{filter:"url(#shadow)",fill:ONe(s,t)},clipPath:NNe}),Ye.createElement("g",{className:kNe(s)?"closedGroup":""},p?Ye.createElement("use",{href:PNe(s),x:i+10,y:a+15,className:"icon"}):null,Ye.createElement("text",{x:i+30,y:a+28,className:"boxText",clipPath:NNe},l,Ye.createElement("tspan",{className:"subtext"},(e=>kNe(e)?"\u2013 Closed":e.issueCountProgress?` (${e.issueCountProgress.closed}/${e.issueCountProgress.total})`:CNe(e)?"":"\u2013 No Epics yet")(s)))),s.issueCountProgress?Ye.createElement("rect",{x:i,y:a+bNe-6,width:c,height:6,clipPath:NNe,className:"progressOuter"}):null,s.issueCountProgress?.closed?Ye.createElement("rect",{x:i,y:a+bNe-6,width:c*(s.issueCountProgress.closed/s.issueCountProgress.total),height:6,clipPath:NNe,className:"progressInner"}):null);var m,h},DNe=e=>{let{roadmapItems:t,timeDomainStart:n,timeDomainEnd:s}=e;const r=new Date(n).getTime(),i=new Date(s).getTime()-r,o=t.flatMap(((e,t)=>{const n=vNe[t%(vNe.length-1)],s={...e,color:n},r=(CNe(e)?[]:e.epics?.nodes||[]).map((e=>({...e,isNested:!0,color:n})));return r.length?[s,...r]:[s]})),a=70+66*o.length,l=e=>yNe+(e-r)/i*940,c=((e,t)=>{let n=new Date(e.setDate(1));const s=[n];for(;n<t;){const e=new Date(n),t=new Date(e.setMonth(n.getMonth()+1));s.push(t),n=t}return s})(n,s),d=((e,t)=>{const n=t.getTime()-e.getTime(),s=n>2*TNe,r=!s&&n<15768e6;return e=>{const t=0===e.getMonth();return r?{month:"long",year:"numeric"}:s?t?{year:"numeric"}:null:t?{year:"numeric"}:{month:"short"}}})(n,s),u=`0 0 1440 ${a}`;return Ye.createElement("svg",{width:INe,height:a,viewBox:u,xmlns:"http://www.w3.org/2000/svg"},Ye.createElement(RNe,{svgHeight:a,svgWidth:INe}),Ye.createElement("rect",{x:"0",y:"0",width:INe,height:a,className:"bg"}),o.map(((e,t)=>{const n=new Date(e.startOn).getTime(),s=new Date(e.endOn).getTime();return Ye.createElement(ANe,{color:e.color,isChildItem:e.isNested,item:e,key:e.id,svgWidth:INe,xEnd:l(s),xStart:l(n),y:66*(t+1)})})),Ye.createElement("g",null,Ye.createElement("rect",{x:0,y:0,width:INe,height:62,style:{filter:"url(#shadow)"},className:"header"}),Ye.createElement("a",{href:"https://www.zenhub.com"},Ye.createElement("use",{href:"#zhLogo",x:20,y:12,className:"logoIcon"})),Ye.createElement("text",{x:20,y:45,className:"headerDate"},(p=new Date,Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(p)))),Ye.createElement("g",{clipPath:"url(#dont-overlap-sidebar)"},c.map((e=>{const t=l(e.getTime());return Ye.createElement("text",{key:t,x:t,y:30,className:"tick"},((e,t)=>{if(null===t)return"";try{return Intl.DateTimeFormat("en-US",t).format(e)}catch(e){return""}})(e,d(e)))})),";"),Ye.createElement("rect",{x:yNe,y:0,width:20,height:a,fill:"url(#sidebarShadow)"}),Ye.createElement("line",{x1:yNe,x2:yNe,y1:bNe,y2:a,className:"sidebarDivider"}));var p},LNe="Export Roadmap",zNe=e=>{let{roadmapItems:t,workspaceName:n,isDisabled:s}=e;const r=Ye.useRef(null),[i,o]=(0,Ye.useState)(!1),[[a,l],c]=(0,Ye.useState)([null,null]),d=(t??[]).filter((e=>!a||!l||e.endOn>a.toISOString()&&e.startOn<l.toISOString()));Ye.useEffect((()=>{if(!a||!l)return;if(!d.length)return void alert("No roadmap items fall in that date range");if(!r?.current)return;const e=(new Date).toISOString().split("T")[0];((e,t)=>{const n=document.createElement("a");n.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(t)}`),n.setAttribute("download",e),n.style.display="none",n.click()})(`${n} Roadmap ${e}.svg`,r.current.innerHTML),r6(LNe,{Action:"Download",Location:"Roadmap"}),o(!1)}),[a,l]);const u=(0,Ye.useCallback)((e=>{r6(LNe,{Action:"Open Export",Location:"Roadmap"}),e.preventDefault(),o(!0)}),[]),p=(0,Ye.useCallback)((()=>{r6(LNe,{Action:"Cancel Export",Location:"Roadmap"}),o(!1)}),[o]);return Ye.createElement(Ye.Fragment,null,Ye.createElement(dNe,{copyLinkText:"Copy link to roadmap",copyLinkToPage:iNe.ROADMAP,isDisabled:s},Ye.createElement(D_e,{title:"Export image",iconComponent:Ye.createElement(tNe,null),handler:u,disabled:!d?.length})),i&&Ye.createElement(Ye.Fragment,null,Ye.createElement(_Ne,{onClose:p,onSubmit:(e,t)=>{c([e,t])},submitTitle:"Download"}),Ye.createElement("div",{ref:r,style:{height:0,width:0,overflow:"hidden"}},a&&l?Ye.createElement(DNe,{roadmapItems:d??[],timeDomainStart:a,timeDomainEnd:l}):null)))},MNe="Project",xNe="Epic",FNe="ZenhubEpic",UNe="Issue",BNe="years",qNe=3,HNe=yp((WNe=12,_p().subtract(WNe,"month").toDate()));var WNe;const jNe="UpdateProjectPayload",GNe="UpdateIssuePayload",KNe={WEEKS:{key:"WEEKS",name:"weeks",todayOffset:{units:"weeks",count:4},segmentPixelSize:10,progressiveLoad:8,granularity:"days",dateStripBlock:"isoWeek",dateStripUnit:"weeks",dateStripUnitLength:7},MONTHS:{key:"MONTHS",name:"months",segmentPixelSize:6,progressiveLoad:3,todayOffset:{units:"months",count:2},granularity:"days",dateStripBlock:"isoWeek",dateStripUnit:"weeks",dateStripUnitLength:7},QUARTERS:{key:"QUARTERS",name:"quarters",segmentPixelSize:3,todayOffset:{units:"months",count:2},progressiveLoad:2,granularity:"days",dateStripBlock:"quarters",dateStripUnit:"quarters",dateStripUnitLength:null}},VNe={ISSUE_PERCENT:{key:"ISSUE_PERCENT",name:"of issues completed",unit:"issue",icon:"percentage"},ISSUE_COUNT:{key:"ISSUE_COUNT",name:"of issues completed",unit:"issue",icon:"number"},STORY_POINT_PERCENT:{key:"STORY_POINT_PERCENT",name:"of story points completed",unit:"story point",icon:"percentage"},STORY_POINT_COUNT:{key:"STORY_POINT_COUNT",name:"of story points completed",unit:"story point",icon:"number"}},$Ne={LEFT:"left",RIGHT:"right"},ZNe="organization",YNe="workspace",JNe="Epic options",XNe="Project options",QNe="on-time",ePe="at-risk",tPe="running-late",nPe="manual",sPe="start_on",rPe="end_on",iPe="ROADMAP_DRAG_DISABLED";n(21857);const oPe=e=>"Epic"===e.__typename||"ZenhubEpic"===e.__typename,aPe=e=>"ZenhubEpic"===e.__typename?Qke(e.viewerPermission):Qke(e.issue.viewerPermission),lPe=e=>"ZenhubEpic"===e.__typename?e.title:e.issue.title,cPe=e=>{if(!e.issue)return{};const{issue:t}=e;return{organization:t.repository.owner.login,repository:t.repository.name,issueNumber:t.number,issueId:t.id,repoId:t.repository.ghId,title:t.title,htmlUrl:t.htmlUrl}},dPe=e=>({...e,childIssues:{nodes:[]},issueCountProgress:null,issueEstimateProgress:null}),uPe=function(e){let{isFirstSubItem:t,isLastSubItem:n,isSubItem:s}=e;const r=[];return t&&r.push("first-sub-item"),n&&r.push("last-sub-item"),s&&r.push("is-sub-item"),t&&n?["only-sub-item"]:r};const pPe=e=>e.__typename!==FNe&&(e.__typename===xNe?"CLOSED"===e.issue.state:"CLOSED"===e.state),mPe=e=>e.__typename===MNe?e.name:lPe(e),hPe=(e,t,n)=>{const{issueCountProgress:s,issueEstimateProgress:r,startOn:i,endOn:o}=e,a=t===VNe.ISSUE_COUNT.key||t===VNe.ISSUE_PERCENT.key,l=a?s:r;if(!(a?Boolean(s):Boolean(r)))return QNe;if(!(0,_t.KN)(n)&&Tp(o,n)<=3)return QNe;const{closed:c,total:d}=l,u=(0,_t.DU)(c,d),p=_p(),m=Tp(i,p),h=Tp(i,o),E=Math.min((0,_t.DU)(m,h),100)-u;return E<=0?QNe:E<=20?ePe:tPe},EPe=(e,t)=>{const{issueCountProgress:n,issueEstimateProgress:s,startOn:r}=e,i=t===VNe.ISSUE_COUNT.key||t===VNe.ISSUE_PERCENT.key,o=i?n:s;if(!(i?Boolean(n):Boolean(s)))return null;const{closed:a,total:l}=o,c=(0,_t.DU)(a,l),d=_p(),u=c/Tp(r,d),p=Math.floor(100/u);return Yp(r,"days",p)},gPe="empty-roadmap-item-id",fPe="new-item-id",_Pe="new-epic-in-project-id",vPe=(e,t)=>{if(Boolean(e.parentId))return t(e.item.id)?132:54;if("Project"===e.item.__typename||oPe(e.item))return t(e.item.id)?132:65;if(e.item.id===_Pe||e.item.id===fPe)return 132;if(e.item.id===gPe)return 380;throw new Error("Unknown item height")},IPe=(e,t,n,s,r)=>"Project"===e.__typename&&(!(t(e.id)||!(n||"CLOSED"===e.state||e.epics.nodes.length<1))||((r?e.zenhubEpics.nodes.length<1:e.epics.nodes.length<1)||s(e.id))),bPe=(e,t,n,s,r,i,o,a,l)=>{const c=((e,t)=>e.map((e=>"Project"===e.__typename?{...e,issueCountProgress:t?e.zenhubIssueCountProgress:e.issueCountProgress,issueEstimateProgress:t?e.zenhubIssueEstimateProgress:e.issueEstimateProgress}:{...e,issueCountProgress:"ZenhubEpic"===e.__typename?e.zenhubIssueCountProgress:e.issueCountProgress,issueEstimateProgress:"ZenhubEpic"===e.__typename?e.zenhubIssueEstimateProgress:e.issueEstimateProgress})))(e.map((e=>({...e,isCollapsed:IPe(e,r,o,n,l),isCreatingEpic:s(e.id)}))),l),d=((e,t,n)=>e.reduce(((e,s,r)=>{const i=EPe(s,t),o=hPe(s,t,i),a={item:s,colorIndex:r,isCollapsed:s.isCollapsed,progressStatus:o,predictedEndDate:i};if("Project"===s.__typename){const i=n?s.zenhubEpics.nodes:s.epics.nodes,o=i.map(((e,n)=>{const o=EPe(e,t),a=hPe(e,t,o);return{item:e,colorIndex:r,parentProject:s,parentId:s.id,parentTitle:s.name,isFirstSubItem:0===n,isLastSubItem:n===i.length-1,isCollapsed:s.isCollapsed,progressStatus:a,predictedEndDate:o}}));return[...e,a,...o]}return[...e,a]}),[]))(c,a,l),u=((e,t)=>t.length>0?e:[...e,{item:{id:gPe}}])(d,e),p=((e,t)=>{if(!t)return e;const n={item:{id:fPe,typeToCreate:t.typeToCreate}};return ee.$Tr(0,n,e)})(u,i),m=(e=>{const t=e.findIndex((e=>e.item.isCreatingEpic));if(-1===t)return e;const n=e[t].item;return n?ee.$Tr(t+1,{item:{id:_Pe},isOnlyRow:0===n.epics.nodes,projectId:n.id},e):e})(p),h=(e=>e.filter((e=>e.item.id===_Pe||!(oPe(e.item)&&e.isCollapsed))))(m),E=(e=>{const t={},n=[];return e.forEach((e=>{const{id:s}=e.item;t[s]?oe("Roadmap has a duplicate row ",e.item):(t[s]=!0,n.push(e))})),n})(h);return E.map((e=>({...e,height:vPe(e,t)})))},yPe=(e,t,n)=>Cp(t,n,e.granularity)*e.segmentPixelSize,SPe=e=>e.reduce(((e,t)=>{const n=Op(t.endOn),s=Boolean(e)&&!Lp(t.endOn,e.endOn);return!e||n&&s?t:e}),null),wPe=(e,t)=>e.findIndex((e=>e.item.id===t)),RPe=(e,t)=>e.findIndex((e=>e.item.id===t)),TPe=(e,t)=>{let n=e.find((e=>"Epic"===e.__typename&&e.id===t)),s=null;if(!n){const r=e.filter((e=>"Project"===e.__typename));for(const e of r){if(n=e.epics.nodes.find((e=>e.id===t)),s=e.id,n)return{foundItem:n,foundItemProjectId:s};n=null,s=null}}return{foundItem:n,foundItemProjectId:s}},CPe=ee.mNm(ee.vgT("id"));function kPe(e,t,n){const s=Ye.createElement("span",null,"Looks like ",Ye.createElement("b",null,e)," is not part of this roadmap yet"),r={text:"Add to roadmap",onClick:()=>{n(t),H.Z.deleteToast(i)}},i=H.Z.createToastIfUniqueByType(W.Z.ACTION_BUTTON_UPDATE,{content:s,actionButton:r,hasBoldText:!0,expirationDelay:4e3})}const OPe=e=>{let{children:t,component:n="div",className:s,...r}=e;return Ye.createElement(n,{className:`zhc-button-group ${s}`},Ye.Children.map(t,(e=>Ye.isValidElement(e)?Ye.cloneElement(e,{...r}):null)))},NPe=e=>{if(e){const{progressFormat:t}=e;return Object.keys(VNe).find((e=>VNe[e].key===t))?t:null}return null},PPe=(e,t,n)=>{const s=uI(Le),r=uI(De);return e?s?.[n]?.collapsedProjects||{}:r?.[t]?.collapsedProjects||{}},APe=(e,t,n,s,r)=>{const i=uI(e)||{};i[t]={timescaleKey:n,collapsedProjects:s,sortOrder:r},dI(e,i)},DPe=(e,t,n)=>{const s=uI(Le),r=uI(De);return e?s?.[t]?.timescaleKey||KNe.QUARTERS.key:r?.[n]?.timescaleKey||KNe.WEEKS.key},LPe=(e,t)=>{const n=uI(De);return e?nPe:n?.[t]?.sortOrder||nPe},zPe=(e,t,n,s,r,i)=>{(0,Ye.useEffect)((()=>{e?APe(Le,n,s,r):APe(De,t,s,r,i)}),[e,t,n,s,r,i])},MPe=(e,t,n,s,r)=>{(0,Ye.useEffect)((()=>{dI(Ae,{isOrgView:e,progressFormat:t,isPredictedEndDateActive:n,statusColorsEnabled:s,sortOrder:r})}),[e,t,n,s,r])},xPe={orgName:null,workspaceId:null,hasSetCollapsedProjects:!1,collapsedProjects:{},isPredictedEndDateActive:!0,itemsBeingEdited:{},progressFormat:VNe.ISSUE_COUNT.key,projectsCreatingEpics:{},isOrgView:!1,timescaleKey:KNe.WEEKS.key,statusColorsEnabled:!1,sortOrder:nPe},FPe=ee.eiS(["hasSetCollapsedProjects","itemsBeingEdited","projectsCreatingEpics"],xPe),UPe={...xPe,isItemBeingEdited:()=>!1,isProjectCollapsed:()=>!1,isProjectCreatingEpic:()=>!1,hasUserManuallySetCollapsedState:()=>{},setActiveTab:()=>{},setTimescale:()=>{},setProjectCreatingEpic:()=>{},setProgressFormat:()=>{},setCollapseStateForRows:()=>{},setStatusColorsEnabled:()=>{},setSortOrder:()=>{},toggleIsPredictedEndDateActive:()=>{}},BPe=(0,Ye.createContext)(UPe);BPe.displayName="Roadmap.UIContext";const qPe=e=>{let{children:t,...n}=e;const s=uI(Ae),r=s?.isOrgView,i={isOrgView:r||xPe.isOrgView,progressFormat:NPe(s)||xPe.progressFormat,timescaleKey:DPe(r,n.orgName,n.workspaceId),isPredictedEndDateActive:ee.kKJ(s?.isPredictedEndDateActive)?xPe.isPredictedEndDateActive:s.isPredictedEndDateActive,collapsedProjects:PPe(r,n.workspaceId,n.orgName)||xPe.collapsedProjects,statusColorsEnabled:s?.statusColorsEnabled||!1,sortOrder:LPe(r,n.workspaceId)},[o,a]=(0,Ye.useState)({...xPe,...i,...n}),{collapsedProjects:l,isOrgView:c}=o;MPe(c,o.progressFormat,o.isPredictedEndDateActive,o.statusColorsEnabled,o.sortOrder),zPe(o.isOrgView,o.workspaceId,o.orgName,o.timescaleKey,l,o.sortOrder);const d={isProjectCollapsed:(e,t)=>((e,t,n,s)=>Object.prototype.hasOwnProperty.call(s,[e])?Boolean(s[e]):!(!n&&!t))(e,t,o.isOrgView,o.collapsedProjects),isProjectCreatingEpic:e=>Boolean(o.projectsCreatingEpics[e]),isItemBeingEdited:e=>Boolean(o.itemsBeingEdited[e]),setProjectCreatingEpic:(e,t)=>{const{projectsCreatingEpics:n}=o,s=((e,t,n)=>e?ee.yGi(t,!0,n):ee.anz(t,n))(e,t,n),r=ee.yGi(t,!1,l);a({...o,projectsCreatingEpics:s,collapsedProjects:r})},setProjectCollapse:(e,t)=>{const n=ee.yGi(e,t,l);a({...o,collapsedProjects:n})},setCollapseStateForRows:(e,t)=>{const n=((e,t)=>t.reduce(((t,n)=>("Project"!==n.item.__typename||(t[n.item.id]=e),t)),{}))(e,t);a({...o,collapsedProjects:n})},setProgressFormat:e=>{a({...o,progressFormat:e})},setTimescale:e=>{a({...o,timescaleKey:e})},toggleIsPredictedEndDateActive:()=>{a({...o,isPredictedEndDateActive:!o.isPredictedEndDateActive})},setActiveTab:e=>{const t=e===ZNe;a({...o,...FPe,isOrgView:t,collapsedProjects:PPe(t,o.workspaceId,o.orgName),timescaleKey:DPe(t,o.orgName,o.workspaceId)})},setItemBeingEdited:(e,t)=>{const{itemsBeingEdited:n}=o;let s=null;s=t?ee.yGi(e,!0,n):ee.anz(e,n),a({...o,itemsBeingEdited:s})},hasUserManuallySetCollapsedState:e=>Object.prototype.hasOwnProperty.call(l,[e]),setStatusColorsEnabled:e=>a({...o,statusColorsEnabled:e}),setSortOrder:e=>a({...o,sortOrder:e})},u={...d,...o};return Ye.createElement(BPe.Provider,{value:u},t)},HPe=()=>(0,Ye.useContext)(BPe),WPe=()=>{const{timescaleKey:e,setTimescale:t}=HPe(),n=KNe[e];return Ye.createElement(OPe,{ariaLabel:"timescale-selector"},Ye.createElement(H5,{ariaLabel:"weekly-scale-button",color:n.name===KNe.WEEKS.name?L5.DEFAULT:L5.INACTIVE,onClick:()=>t(KNe.WEEKS.key)},"Weeks"),Ye.createElement(H5,{ariaLabel:"monthly-scale-button",color:n.name===KNe.MONTHS.name?L5.DEFAULT:L5.INACTIVE,onClick:()=>t(KNe.MONTHS.key)},"Months"),Ye.createElement(H5,{ariaLabel:"quarterly-scale-button",color:n.name===KNe.QUARTERS.name?L5.DEFAULT:L5.INACTIVE,onClick:()=>t(KNe.QUARTERS.key)},"Quarters"))};function jPe(){return Ye.createElement(bie,null,Ye.createElement("strong",null,"This roadmap is read only"),". Please check your permissions if you wish to make any changes."," ",Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000037261-github-permissions-and-access-in-zenhub",rel:"noopener noreferrer",target:"_blank"},"Learn more"))}const GPe="Xu5NY0bf3OgZDxWUztsy",KPe=e=>{let{onClickToday:t}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement(H5,{className:GPe,ariaLabel:"current-date-button",onClick:t},"Today"))},VPe="GVaDNNVTvFZAH5R2wlvV",$Pe="Tu0Ya2ZK4VnV0rR_DDQI",ZPe="oBRH1CikM5taiBLjDtzq",YPe="ZoMpjdN5GefjN0rLaagI",JPe=e=>{let{cta:t,description:n,imgSrc:s,onButtonClick:r,title:i,showButton:o=!0}=e;return Ye.createElement("section",{className:VPe},Ye.createElement(t7,{src:s}),Ye.createElement("h4",{className:$Pe},i),Ye.createElement("span",{className:ZPe},n),o&&Ye.createElement(H5,{ariaLabel:t,className:YPe,color:L5.PRIMARY,onClick:r,variant:z5.OUTLINED},t))},XPe={EPIC:"Epic",PROJECT:"Project"},QPe=n.p+"../../img/built/emptybody-epics.svg",eAe=n.p+"../../img/built/emptybody-projects.svg",tAe="_iLQ3EKaGWnjG0yilybk",nAe="gibf067yxtShXwWa_tV_",sAe=e=>{let{setNewItem:t,onMount:n,showPlatformRestrictedView:s}=e;return n(),Ye.createElement("div",{className:tAe,"data-cy":"roadmap-body-empty"},Ye.createElement(JPe,{cta:"Create a new project",showButton:!s,description:"Create projects on the roadmap to visualize your team\u2019s long-term initiatives",imgSrc:eAe,onButtonClick:()=>t({typeToCreate:XPe.PROJECT}),title:"Plan with projects"}),!s&&Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:nAe}),Ye.createElement(JPe,{cta:"Add epics",description:"Add epics to a project or directly onto the roadmap to see work progress",imgSrc:QPe,onButtonClick:()=>t({typeToCreate:XPe.EPIC}),title:"Visualize work with epics"})))},rAe=e=>{let{error:t}=e;const n=(0,$8.k6)();(0,Ye.useEffect)((()=>se(t)),[t]);return Ye.createElement(Iee,null,Ye.createElement(bee,{description:"The roadmap you're looking for cannot be loaded",title:"Something went wrong"}),Ye.createElement(yee,null,Ye.createElement("p",{className:"zhc-roadmap-loadingError__p"},"Check your GitHub permissions. If you're still experiencing issues please contact support for more information."),Ye.createElement("div",{className:"zhc-roadmap-loadingError__actions"},Ye.createElement(H5,{ariaLabel:"More Info",className:"zhc-roadmap-loadingError__actions__moreInfo",color:L5.DEFAULT,href:"https://help.zenhub.com/support/discussions"},"More info"),Ye.createElement(H5,{ariaLabel:"Go Back",color:L5.PRIMARY,onClick:()=>n.goBack()},"Go back"))))};rAe.propTypes={error:SI().instanceOf(Error).isRequired};const iAe=rAe;function oAe(){return oAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oAe.apply(this,arguments)}const aAe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--clock",t].filter(Boolean).join(" "),"aria-label":"clock",role:"img",...n};return Ye.createElement("svg",oAe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"clock_svg__a",d:"M8 .667a7.333 7.333 0 110 14.666A7.333 7.333 0 018 .667zM8 2a6 6 0 100 12A6 6 0 008 2zm0 1.333c.368 0 .667.299.667.667v3.724l1.804 1.805a.667.667 0 01-.942.942l-2-2A.667.667 0 017.333 8V4c0-.368.299-.667.667-.667z"}),Ye.createElement("mask",{id:"clock_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#clock_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#clock_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#clock_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function lAe(){return lAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lAe.apply(this,arguments)}const cAe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--percentage",t].filter(Boolean).join(" "),"aria-label":"percentage",role:"img",...n};return Ye.createElement("svg",lAe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.894 13.835a.667.667 0 0 1-.063-.94l9.334-10.667a.667.667 0 0 1 1.003.878L3.835 13.772a.667.667 0 0 1-.941.063Zm-.227-9.502a2.333 2.333 0 0 1 4.666 0v1.334a2.333 2.333 0 0 1-4.667 0V4.333Zm2.333-1a1 1 0 0 0-1 1v1.334a1 1 0 1 0 2 0V4.333a1 1 0 0 0-1-1Zm3.666 7a2.333 2.333 0 0 1 4.667 0v1.334a2.333 2.333 0 0 1-4.667 0v-1.334Zm2.334-1a1 1 0 0 0-1 1v1.334a1 1 0 0 0 2 0v-1.334a1 1 0 0 0-1-1Z",fill:"currentColor"}))};function dAe(){return dAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dAe.apply(this,arguments)}const uAe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--number",t].filter(Boolean).join(" "),"aria-label":"number",role:"img",...n};return Ye.createElement("svg",dAe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.709 6.333H3.344a.667.667 0 0 1 0-1.333h9.365a.667.667 0 1 1 0 1.333Zm.667 4a.667.667 0 0 1-.667.667H3.344a.667.667 0 0 1 0-1.333h9.365c.368 0 .667.298.667.666Z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.771 2.014a.667.667 0 0 1 .58.744l-1.34 10.703a.667.667 0 0 1-1.323-.166L6.027 2.593a.667.667 0 0 1 .744-.579Zm4.014 0a.667.667 0 0 1 .579.744l-1.338 10.703a.667.667 0 1 1-1.323-.166l1.338-10.702a.667.667 0 0 1 .744-.579Z",fill:"currentColor"}))},pAe=cse,mAe="Bx46pTYcTdva_64c4S0h",hAe="Z0AEY1hfqQzTCAXV2XRA",EAe="Nr95_G8LMMA1b7fytN6Y",gAe="wTLgof0hI815zguz74ap",fAe="IoOxSNFZHS1hPrbEuaAo",_Ae="EVVt_mnVxM_4eDoesCWV",vAe=pAe((e=>{let{isActive:t,label:n,Icon:s,description:r}=e;return Ye.createElement("div",{className:mAe},Ye.createElement("div",{className:hAe,"data-cy":"settings-item"},Ye.createElement("div",{className:gAe},Ye.createElement(s,null)),Ye.createElement("div",{className:fAe,"data-cy":"item-label"},n),Ye.createElement("div",{className:_Ae,"data-cy":"item-checkbox"},Ye.createElement(use,{isActive:t}))),Ye.createElement("div",{className:EAe,"data-cy":"item-description","data-testid":"dropdown-switch"},r))})),IAe=e=>{const{dataCy:t,dataTestId:n,handler:s,title:r,isDisabled:i,isSelected:o,additionalContent:a,Icon:l}=e,c=(0,_I.default)("zhc-selection-list-item zhc-selection-list-item--with-custom-content zhc-selection-item ",{"zhc-selection-item--is-disabled":i});return Ye.createElement("div",{onClick:i?e=>e.stopPropagation():s,className:c,"data-cy":t,"data-testid":n},Ye.createElement("div",{className:"zhc-selection-list-item__main-content"},!(0,_t.KN)(l)&&l,r,o&&Ye.createElement(f5,null)),!(0,_t.KN)(a)&&Ye.createElement("div",{className:"zhc-selection-list-item__additional-content"},a))},bAe="P7vEtFaE_qrJG4iOdnpM",yAe=e=>{let{title:t}=e;return Ye.createElement("div",{className:bAe},t)},SAe=Ye.createElement("div",{className:"color-indicator-content color-indicator-content--project"},Ye.createElement("div",{className:"color-indicator-content__details"},ee.w6H(0,5).map((e=>Ye.createElement("div",{className:`color-indicator-content__color color-indicator-content__color--color-${e+1}`,key:`color-${e+1}`}))))),wAe=Ye.createElement("div",{className:"color-indicator-content color-indicator-content--status"},Ye.createElement("div",{className:"color-indicator-content__details"},Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement("div",{className:"color-indicator-content__color color-indicator-content__color--running-late"}),Ye.createElement("span",{className:"color-indicator-content-label__color"},"Late delivery")),Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement("div",{className:"color-indicator-content__color color-indicator-content__color--at-risk"}),Ye.createElement("span",{className:"color-indicator-content-label__color"},"At risk to be late")),Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement("div",{className:"color-indicator-content__color color-indicator-content__color--on-time"}),Ye.createElement("span",{className:"color-indicator-content-label__color"},"On time")),Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement("div",{className:"color-indicator-content__color color-indicator-content__color--complete"}),Ye.createElement("span",{className:"color-indicator-content-label__color"},"Closed")))),RAe="HQFo11EMkXshrosIM72X",TAe="x1qA36R65LcbcLkpIFHN",CAe="xhPjfH38mPRx_dsT2Hcv",kAe="eEiPrsQLsHv72B73Fvck",OAe="zhc-roadmap-options-selector",NAe=e=>{e&&(e.stopPropagation(),e.preventDefault())},PAe=e=>{let{children:t}=e;return Ye.createElement("div",{className:RAe},t)},AAe=()=>{const{isPredictedEndDateActive:e,toggleIsPredictedEndDateActive:t}=HPe();return Ye.createElement("div",{onClick:NAe},Ye.createElement(vAe,{isActive:e,onChange:t,label:"Predicted epic end date",Icon:aAe,description:"Based on the progress of the epic, up to today."}))},DAe=e=>{let{isDisabled:t=!1}=e;const{progressFormat:n,setProgressFormat:s,statusColorsEnabled:r,setStatusColorsEnabled:i}=HPe(),o=(0,_I.default)(`${TAe}`,`${CAe} : ${t}`);return Ye.createElement("div",{className:o},Ye.createElement(NSe,{buttonAriaLabel:"Roadmap Settings Selector Dropdown",buttonText:"Settings",modifiers:["shadow","selector-options__list","roadmap-settings"],position:kte.LEFT,primaryIcon:Ye.createElement(_te,{className:kAe}),showHeaderX:!0,title:"Roadmap Settings",isDisabled:t,tooltipContent:"Roadmap Settings"},Ye.createElement(PAe,null,Object.keys(VNe).map((e=>Ye.createElement(D_e,{iconComponent:"percentage"===VNe[e].icon?Ye.createElement(cAe,null):Ye.createElement(uAe,null),key:e,handler:()=>(e=>{r6("Roadmap completion type",{Action:VNe[e].name}),s(e)})(VNe[e].key),title:VNe[e].name,selected:n===VNe[e].key,"data-testid":`${OAe}_${e}`})))),Ye.createElement(PAe,null,Ye.createElement(yAe,{title:"View"}),Ye.createElement(AAe,null)),Ye.createElement(PAe,null,Ye.createElement(yAe,{title:"Set color by"}),Ye.createElement(IAe,{handler:()=>i(!1),title:"Project group",isSelected:!r,dataTestId:`${OAe}_status-colors-off`,additionalContent:SAe}),Ye.createElement(IAe,{handler:()=>i(!0),title:"Project status",isSelected:r,dataTestId:`${OAe}_status-colors-on`,additionalContent:wAe}))))};var LAe=n(90938);const zAe="Ixdrt9s5lj2_bnr1QTr3",MAe="qcIZML5zxzehoNV5B0B7",xAe="bL2tIuOmolwOzYDzAZkd",FAe={PRIMARY:"primary",SECONDARY:"secondary"},UAe={MEDIUM:"medium",LARGE:"large"},BAe=e=>{const t=t=>{let{size:n,color:s,...r}=t;const i=(0,_I.default)(zAe,{[MAe]:s===FAe.SECONDARY,[xAe]:n===UAe.LARGE});return Ye.createElement("div",{className:i,"data-testid":"zhc-roadmap__title"},Ye.createElement(e,r))};return t.propTypes={color:SI().oneOf(Object.values(FAe)),size:SI().oneOf(Object.values(UAe))},t.defaultProps={color:FAe.PRIMARY,size:UAe.MEDIUM},t};function qAe(){return qAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qAe.apply(this,arguments)}const HAe=e=>{let{children:t,index:n,positionMap:s,width:r,offset:i=0,dndProvided:o,isDraggingOverInvalidTarget:a=!1}=e;const l=i+s[n],{style:c={},...d}=o?.draggableProps??{};return Ye.createElement("div",qAe({ref:o?.innerRef,style:{position:"absolute",top:`${l}px`,left:0,width:r,pointerEvents:a?"none":"auto",...c}},d),t())},WAe="object"==typeof performance&&"function"==typeof performance.now?()=>performance.now():()=>Date.now();function jAe(e){cancelAnimationFrame(e.id)}class GAe extends Ye.PureComponent{constructor(e){var t;super(e),t=this,this.scrollTo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=ee.kKJ(e)?null:Math.max(0,e),{outerRef:r}=t.props;t.setState((e=>ee.kKJ(s)||e.scrollOffset===s?(null!==n&&(r.current.scrollLeft=n),null):{scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,horizontalOffset:n,scrollUpdateWasRequested:!0}),t.resetIsScrollingDebounced)},this.scrollToIndex=(e,t)=>{const{marginTop:n,rows:s}=this.props,r=Math.max(0,Math.min(e,s.length-1)),i=this.positionMap[r]-n;this.scrollTo(i,t)},this.getPositionMap=(e,t)=>{let n=t;const s=[];return e.forEach((e=>{s.push(n),n+=e.height})),s},this.getStartIndex=(e,t)=>{let n=e.length-1;for(let s=0;s<e.length;s+=1)if(e[s]>t){n=s;break}return Math.max(0,Math.min(e.length-1,n-1))},this.getStopIndex=(e,t,n,s)=>{let r=e.length-1;const i=t+n;for(let t=s;t<e.length;t+=1)if(e[t]>i){r=t;break}return Math.max(0,Math.min(e.length-1,r))},this.onScroll=e=>{const{clientHeight:t,isDisabled:n,scrollHeight:s,scrollTop:r}=e.currentTarget;this.setState((e=>{if(n||e.scrollOffset===r)return e.scrollUpdateWasRequested?{scrollUpdateWasRequested:!1}:null;const i=Math.max(0,Math.min(r,s-t));return{isScrolling:!0,horizontalOffset:null,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),this.resetIsScrollingDebounced)},this.resetIsScrollingDebounced=()=>{null!==this.resetIsScrollingTimeoutId&&jAe(this.resetIsScrollingTimeoutId),this.resetIsScrollingTimeoutId=function(e,t){const n=WAe(),s={id:requestAnimationFrame((function r(){WAe()-n>=t?e.call(null):s.id=requestAnimationFrame(r)}))};return s}(this.resetIsScrolling,150)},this.resetIsScrolling=()=>{this.resetIsScrollingTimeoutId=null,this.setState({isScrolling:!1})},this.resetIsScrollingTimeoutId=null;const{initialScrollOffset:n}=e;this.state={isScrolling:!1,horizontalOffset:null,scrollDirection:"forward",scrollOffset:"number"==typeof n?n:0,scrollUpdateWasRequested:!1}}componentDidMount(){const{initialScrollOffset:e,outerRef:t}=this.props,{horizontalOffset:n}=this.state;"number"==typeof e&&t&&(t.current.scrollTop=e,null!==n&&(t.current.scrollLeft=n))}componentDidUpdate(){const{outerRef:e}=this.props,{horizontalOffset:t,scrollOffset:n,scrollUpdateWasRequested:s}=this.state;s&&e&&(e.current.scrollTop=n,null!==t&&(e.current.scrollLeft=t))}componentWillUnmount(){null!==this.resetIsScrollingTimeoutId&&jAe(this.resetIsScrollingTimeoutId)}render(){const{bodyWidth:e,children:t,className:n,height:s,isHorizontalScrollLocked:r,outerRef:i}=this.props,{isScrolling:o}=this.state,[a,l,c,d]=this.getPositionData();return(0,Ye.createElement)("div",{onScroll:this.onScroll,ref:i,style:{position:"relative",height:s,width:r?e+18:"100%",overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform"}},(0,Ye.createElement)("div",{className:n,style:{height:`${d}px`,pointerEvents:o?"none":void 0,width:e}},t({isScrolling:o,positionMap:a,startIndex:l,stopIndex:c})))}getPositionData(){const{height:e,isDisabled:t,marginTop:n,overscanCount:s,rows:r}=this.props,{isScrolling:i,scrollDirection:o,scrollOffset:a}=this.state;if(0===r.length)return[[],0,0,0];const l=this.getPositionMap(r,n);this.positionMap=l;const c=l[r.length-1]+r[r.length-1].height;if(t)return[l,0,r.length-1,c];const d=this.getStartIndex(l,a),u=this.getStopIndex(l,a,e,d),p=i&&"backward"!==o?1:Math.max(1,s),m=i&&"forward"!==o?1:Math.max(1,s);return[l,Math.max(0,d-p),Math.max(0,Math.min(r.length-1,u+m)),c]}}function KAe(){return KAe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KAe.apply(this,arguments)}GAe.propTypes={bodyWidth:SI().number.isRequired,children:SI().func.isRequired,className:SI().string.isRequired,height:SI().number.isRequired,isHorizontalScrollLocked:SI().bool.isRequired,outerRef:SI().oneOfType([SI().func,SI().shape({current:SI().instanceOf(Element)})]).isRequired,overscanCount:SI().number.isRequired,rows:SI().arrayOf(SI().shape({height:SI().number.isRequired})).isRequired,initialScrollOffset:SI().number,isDisabled:SI().bool,marginTop:SI().number},GAe.defaultProps={isDisabled:!1,initialScrollOffset:0,marginTop:0};const VAe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--roadmap-project",t].filter(Boolean).join(" "),"aria-label":"roadmap-project",role:"img",...n};return Ye.createElement("svg",KAe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"roadmap-project_svg__a",d:"M4 4v2h8V4zm0-2h8a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2zm4 9v2h12v-2zm0-2h12a2 2 0 012 2v2a2 2 0 01-2 2H8a2 2 0 01-2-2v-2a2 2 0 012-2zm-4 9v2h3v-2zm0-2h3a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 012-2z"}),Ye.createElement("mask",{id:"roadmap-project_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#roadmap-project_svg__a"}))),Ye.createElement("g",{fill:"currentColor",fillRule:"evenodd"},Ye.createElement("use",{fillRule:"nonzero",xlinkHref:"#roadmap-project_svg__a"}),Ye.createElement("g",{mask:"url(#roadmap-project_svg__b)"},Ye.createElement("path",{d:"M0 0h24v24H0z"}))))};function $Ae(){return $Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$Ae.apply(this,arguments)}const ZAe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--roadmap-epic",t].filter(Boolean).join(" "),"aria-label":"roadmap-epic",role:"img",...n};return Ye.createElement("svg",$Ae({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"roadmap-epic_svg__a",d:"M4.667 2A.667.667 0 004 2.667v11.231l3.12-2.738a1.333 1.333 0 011.76 0L12 13.898V2.667A.667.667 0 0011.333 2zM11.333.667a2 2 0 012 2v11.231a1.333 1.333 0 01-2.212 1.003L8 12.163 4.88 14.9a1.333 1.333 0 01-2.213-1.003V2.667a2 2 0 012-2zM9.667 3.333H6v6h4V8H7.333V7h2V5.667h-2v-1h2.334z"}),Ye.createElement("mask",{id:"roadmap-epic_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#roadmap-epic_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#roadmap-epic_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#roadmap-epic_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))},{confettiAnnouncements:YAe}=pr,JAe=(0,hS.Z)(YAe.UPDATE_ANNOUNCEMENT),XAe=(e,t)=>n=>{n(Tj.setOnboardingValue({key:t,value:!0})),n(JAe({key:e,value:!1}))},QAe=n.p+"../../img/built/quick-issue-sample.svg",eDe="yLI355afHBXAIcd56bBB",tDe=Ye.createElement(t7,{src:QAe}),nDe=Ye.createElement("p",null,Ye.createElement("span",{className:"zhc-confetti-announcement__content__message__new zhu-text-important"},"Tip!\xa0"),"You can quickly perform this action on the Issue option menu.\xa0\u{1f389}\xa0"),sDe=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)((e=>e.confettiAnnouncements)),n=(0,l3.v9)((e=>e.onboarding)),s=t.quick_issue_action_in_modal_tip&&!n.quick_issue_action_in_modal_tip_dismissed;return Ye.createElement("div",{className:eDe},Ye.createElement(M7,{iconComponent:Ye.createElement(b7,null),shouldShow:s,dismissHandler:()=>{e(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dimissed"))},message:nDe,screenshot:tDe}))},rDe=n.p+"../../img/built/drag-timeline.gif",iDe=n.p+"../../img/built/add-epic.gif",oDe="V8_BaEPAteySK3zu0uDf",aDe="h3Il35F7aNqKXK_I11q4",lDe="t2OPzCW600ZgVnui_rey",cDe="_HDF9wHgTw6LvHvoQYXV",dDe="ZkYBHRJQsowSh3oHj8Vw";function uDe(e,t){const n=(0,l3.v9)((t=>t.confettiAnnouncements[e])),s=(0,l3.v9)((e=>e.onboarding[t])),r=(0,l3.I0)();return[(0,Ye.useCallback)((()=>{s||r(XAe(e,t))}),[e,r,s,t]),n,s]}function pDe(e){const t=(0,l3.I0)();return(0,Ye.useCallback)((()=>t(JAe({key:e,value:!0}))),[e,t])}const mDe="roadmap_add_epic_to_project_tip";function hDe(){const[e,t,n]=uDe(mDe,`${mDe}_dismissed`);return{dismiss:e,isDisplayed:t&&!n,onboardingFlag:n,trigger:pDe(mDe)}}const EDe="roadmap_drag_and_drop_tip";function gDe(){const[e,t,n]=uDe(EDe,`${EDe}_dismissed`);return{dismiss:e,isDisplayed:t&&!n,trigger:pDe(EDe)}}const fDe=Ye.createElement(t7,{src:rDe}),_De=Ye.createElement(t7,{src:iDe}),vDe="https://help.zenhub.com/support/solutions/articles/43000539465",IDe=()=>{const e=(0,l3.v9)(au),{dismiss:t,isDisplayed:n}=gDe(),{dismiss:s,isDisplayed:r}=hDe();return Ye.createElement("div",{className:eDe},Ye.createElement(M7,{iconComponent:Ye.createElement(b7,null),shouldShow:n,dismissHandler:t,message:Ye.createElement("p",{className:lDe},Ye.createElement("strong",{className:cDe},"Tip."),"Click and drag to set the start and end date of projects and epics. You can also click and drag to modify later.",Ye.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:vDe,className:dDe},"Learn More")),screenshot:fDe}),e?null:Ye.createElement(M7,{iconComponent:Ye.createElement(b7,null),shouldShow:r,dismissHandler:s,message:Ye.createElement("p",{className:lDe},Ye.createElement("strong",{className:cDe},"Tip."),"Add epics to a project using"," ",Ye.createElement("span",{className:oDe},Ye.createElement(hSe,{className:aDe}))," ","under a project to accurately track team progress.",Ye.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:vDe,className:dDe},"Learn More")),screenshot:_De}))},bDe=e=>{let{onDismiss:t}=e;return Ye.createElement(FSe,{className:"zhc-roadmap-sidebar-create-project-info-alert",isDismissed:!1,onClose:t,linkHref:vDe,linkText:"Learn more",pointerOffset:"16px",pointerPosition:"TOP"},Ye.createElement("span",{className:"zhu-text-important"},"Tip.")," Create projects on your roadmap to visualize your team\u2019s long-term initiatives.")};bDe.propTypes={onDismiss:SI().func.isRequired};const yDe=bDe,SDe="roadmap_create_project",wDe=e=>{const t=(0,l3.I0)(),n=(0,l3.v9)((e=>!e.onboarding.roadmap_create_project));return[!(0,l3.v9)(au)&&n&&!e,(0,Ye.useCallback)((()=>{t(LG.onboarding.dismissOnboardingNotice(SDe))}),[t])]},RDe=e=>{let{title:t,onClose:n}=e;return Ye.createElement("div",{className:"zhc-selection-list-deprecated-header zhu-font-bold"},Ye.createElement("div",{className:"zhu-text-ellipsis"},t),Ye.createElement(H5,{ariaLabel:"close",variant:z5.TEXT,padding:M5.TIGHT,height:A5.SHORT,onClick:n,className:"zhc-selection-list-deprecated__cancel"},Ye.createElement(R7,null)))};RDe.propTypes={title:SI().string.isRequired,onClose:SI().func.isRequired};const TDe=RDe,CDe=e=>{let{left:t,right:n}=e;return Ye.createElement("div",{className:"zhc-selection-list-deprecated--footer"},t&&Ye.createElement("div",{className:"zhc-selection-list-deprecated--footer__left"},t),n&&Ye.createElement("div",{className:"zhc-selection-list-deprecated--footer__right"},n))};CDe.defaultProps={left:null,right:null};const kDe=e=>{const{children:t,id:n,onClick:s}=e,[r,i]=(0,Ye.useState)(!1);return Ye.createElement("div",{"data-testid":"selection-list-item","data-cy":"roadmap-selection-item",className:(0,_I.default)("zhc-roadmap-selection-item",{"zhc-roadmap-selection-item--is-active":r}),id:n,onClick:s,onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)}},t)};kDe.propTypes={children:SI().node.isRequired,id:SI().oneOfType([SI().string,SI().number]).isRequired,onClick:SI().func.isRequired};const ODe=kDe,NDe=e=>{const{selected:t,items:n,setSelected:s,itemRenderer:r}=e;return n.map((e=>{const n=t.includes(e.id);return Ye.createElement(ODe,{onClick:()=>((e,t,n)=>{n.includes(e)?t(n.filter((t=>t!==e))):t([...n,e])})(e.id,s,t),key:e.id,id:e.id},r(e,n))}))};NDe.propTypes={itemRenderer:SI().func.isRequired,items:SI().arrayOf(SI().shape({id:SI().oneOfType([SI().string,SI().number]).isRequired})).isRequired,selected:SI().arrayOf(SI().oneOfType([SI().string,SI().number])).isRequired,setSelected:SI().func.isRequired};const PDe=NDe,ADe=e=>{let{baseClass:t,items:n,selectedProjectIds:s,setSelectedProjectIds:r}=e;return n?ee.xbD(n)?Ye.createElement("div",{className:`${t}__no-items`},"No projects found"):Ye.createElement(PDe,{items:n,selected:s,setSelected:e=>{r(e)},itemRenderer:(e,t)=>((e,t)=>Ye.createElement("div",{className:"zhc-roadmap-add-epic-item"},Ye.createElement("div",{className:"zhc-roadmap-add-epic-item__details"},Ye.createElement("div",{className:"zhc-roadmap-add-epic-item__title","data-cy":"project-title"},e.name),Ye.createElement("div",{className:"zhc-roadmap-add-epic-item__subtitle"},sm(e.startOn,e.endOn)||"No date set yet")),t&&Ye.createElement(f5,null)))(e,t)}):Ye.createElement("div",{className:`${t}__no-items`},"Loading...")};ADe.propTypes={selectedProjectIds:SI().arrayOf(SI().string).isRequired,setSelectedProjectIds:SI().func.isRequired,baseClass:SI().string,items:SI().arrayOf(SI().shape({}))},ADe.defaultProps={baseClass:"",items:null};const DDe=ADe,LDe=bb.Ps`
  query getRoadmapOrderedItemList($workspaceId: ID!, $order: RoadmapItemOrderInput) {
    workspace(id: $workspaceId) {
      id
      roadmap {
        id
        items(order: $order) {
          nodes {
            ... on Epic {
              id
            }
            ... on ZenhubEpic {
              id
            }
            ... on Project {
              id
            }
          }
        }
      }
    }
  }
`;const zDe=bb.Ps`
  query getRootAndNestedEpics($workspaceId: ID!, $order: RoadmapItemOrderInput) {
    workspace(id: $workspaceId) {
      id
      roadmap {
        id
        items(order: $order) {
          nodes {
            ... on Epic {
              id
            }
            ... on ZenhubEpic {
              id
            }
            ... on Project {
              id
              epics {
                nodes {
                  id
                }
              }
            }
          }
        }
      }
    }
  }
`;const MDe=e=>{let{__typename:t,id:n}=e;return`${t}:${n}`},xDe=(e,t)=>{const{workspace:n}=e.readQuery({query:bb.Ps`
      query getWorkspace($workspaceId: ID!) {
        workspace(id: $workspaceId) {
          defaultRepository {
            id
            owner {
              id
            }
          }
        }
      }
    `,variables:{workspaceId:t}}),{owner:s}=n.defaultRepository;return{ownerId:s.id,ownerTypename:s.__typename}};function FDe(e,t,n){const s=MDe({__typename:"Project",id:t}),r=e.readFragment({id:s,fragment:bb.Ps`
      fragment readProjectAfterRemoveEpic on Project {
        id
        epics {
          nodes {
            id
          }
        }
        zenhubEpics {
          nodes {
            id
          }
        }
      }
    `}),i=r.epics.nodes.filter((e=>e.id!==n)),o=r.zenhubEpics.nodes.filter((e=>e.id!==n)),a={...r,epics:{...r.epics,nodes:i},zenhubEpics:{...r.zenhubEpics,nodes:o}};e.writeFragment({id:s,fragment:bb.Ps`
      fragment updateProjectAfterRemoveEpic on Project {
        id
        epics {
          nodes {
            id
          }
        }
        zenhubEpics {
          nodes {
            id
          }
        }
      }
    `,data:a})}const UDe=(e,t,n)=>{const s=MDe({__typename:"Project",id:t}),r=e.readFragment({id:s,fragment:bb.Ps`
      fragment myProject on Project {
        id
        epics {
          nodes {
            id
          }
        }
        zenhubEpics {
          nodes {
            id
          }
        }
      }
    `}),i=r.epics.nodes,o=r.zenhubEpics.nodes,a=CPe([...n,...i]),l=CPe([...n,...o]);e.writeFragment({id:s,fragment:bb.Ps`
      fragment writeProject on Project {
        id
        epics {
          nodes {
            id
          }
        }
        zenhubEpics {
          nodes {
            id
          }
        }
      }
    `,data:{id:t,epics:{__typename:"EpicConnection",nodes:a},zenhubEpics:{__typename:"ZenhubEpicConnection",nodes:l},__typename:"Project"}})},BDe=(e,t)=>{const n=t.reduce(((e,t)=>(e[t]=!0,e)),{});return e.reduce(((e,t)=>{if(n[t.id])return e;if(!t.epics&&!t.zenhubEpics)return e.push(t),e;const s=t.epics?.nodes.filter((e=>!n[e.id])),r=t.zenhubEpics?.nodes.filter((e=>!n[e.id])),i={...t,epics:s?{...t.epics,nodes:s}:void 0,zenhubEpics:r?{...t.zenhubEpics,nodes:r}:void 0};return e.push(i),e}),[])},qDe=e=>"end_on"===e?{field:uo.EndOn,direction:Yi.Asc}:"start_on"===e?{field:uo.StartOn,direction:Yi.Asc}:void 0,HDe=(e,t)=>ee.uhR(["workspace","roadmap","items","nodes"],t,e);function WDe(e,t,n,s){const r={workspaceId:t,order:qDe(s)},i=e.readQuery({query:LDe,variables:r});if(!i?.workspace)return;const o=i.workspace.roadmap.items.nodes.filter((e=>e.id!==n));e.writeQuery({query:LDe,data:HDe(i,o),variables:r})}const jDe=(e,t,n,s)=>{const r={workspaceId:t,order:qDe(s)},i=e.readQuery({query:LDe,variables:r});if(!i?.workspace)return;const o=i.workspace.roadmap.items.nodes,a=CPe([...n,...o]);e.writeQuery({query:LDe,data:HDe(i,a),variables:r})},GDe=(e,t,n,s,r)=>{s?((e,t,n)=>{const{ownerId:s,ownerTypename:r}=xDe(e,t),i=MDe({__typename:r,id:s}),o=e.readFragment({id:i,fragment:bb.Ps`
      fragment addItemsToOwnerInCacheRead on ${r} {
        id
        roadmapItems {
          nodes {
            id
          }
        }
      }
    `}).roadmapItems.nodes,a=CPe([...n,...o]);e.writeFragment({id:i,fragment:bb.Ps`
      fragment addItemsToOwnerInCacheWrite on ${r} {
        id
        roadmapItems {
          nodes {
            id
          }
        }
      }
    `,data:{id:s,roadmapItems:{__typename:"RoadmapConnection",nodes:a},__typename:r}})})(e,t,n):jDe(e,t,n,r)},KDe=(e,t,n,s,r)=>{s?function(e,t,n){const{ownerId:s,ownerTypename:r}=xDe(e,t),i=MDe({__typename:r,id:s}),o=e.readFragment({id:i,fragment:bb.Ps`
      fragment removeItemFromOwnerInCacheRead on ${r} {
        id
        roadmapItems {
          nodes {
            id
          }
        }
      }
    `}).roadmapItems.nodes.filter((e=>e.id!==n));e.writeFragment({id:i,fragment:bb.Ps`
      fragment removeItemFromOwnerInCacheWrite on ${r} {
        id
        roadmapItems {
          nodes {
            id
          }
        }
      }
    `,data:{id:s,roadmapItems:{__typename:"RoadmapConnection",nodes:o},__typename:r}})}(e,t,n):WDe(e,t,n,r)},VDe=(e,t,n,s,r)=>{s?((e,t,n)=>{const{ownerId:s,ownerTypename:r}=xDe(e,t),i=MDe({__typename:r,id:s}),o=e.readFragment({id:i,fragment:bb.Ps`
      fragment removeRootAndNestedEpicsFromOwnerRead on ${r} {
        roadmapItems {
          nodes {
            ... on Epic {
              id
            }
            ... on ZenhubEpic {
              id
            }
            ... on Project {
              id
              epics {
                nodes {
                  id
                }
              }
            }
          }
        }
      }
    `}),a=BDe(o.roadmapItems.nodes,n);e.writeFragment({id:i,fragment:bb.Ps`
      fragment removeRootAndNestedEpicsFromOwnerWrite on ${r} {
        roadmapItems {
          nodes {
            ... on Epic {
              id
            }
            ... on ZenhubEpic {
              id
            }
            ... on Project {
              id
              epics {
                nodes {
                  id
                }
              }
            }
          }
        }
      }
    `,data:{__typename:r,roadmapItems:{__typename:"RoadmapConnection",nodes:a}}})})(e,t,n):((e,t,n,s)=>{const r={workspaceId:t,order:qDe(s)},i=e.readQuery({query:zDe,variables:r});if(!i?.workspace)return;const o=BDe(i.workspace.roadmap.items.nodes,n);e.writeQuery({query:zDe,variables:r,data:HDe(i,o)})})(e,t,n,r)},$De=bb.Ps`
  fragment epicItem on Epic {
    id
    startOn
    endOn
    issueCountProgress {
      closed
      open
      total
    }
    issueEstimateProgress {
      closed
      open
      total
    }
    issue {
      id
      htmlUrl
      number
      title
      state
      repository {
        id
        ghId
        name
        owner {
          id
          login
        }
      }
      assignees {
        totalCount
        nodes {
          avatarUrl
          login
          name
          id
        }
      }
      viewerPermission
    }
  }
`,ZDe=bb.Ps`
  fragment zhEpicItem on ZenhubEpic {
    id
    body
    title
    startOn
    endOn
    viewerPermission
    zenhubIssueCountProgress {
      closed
      open
      total
    }
    zenhubIssueEstimateProgress {
      closed
      open
      total
    }
  }
`,YDe=bb.Ps`
  fragment projectItem on Project {
    id
    startOn
    endOn
    issueCountProgress {
      closed
      open
      total
    }
    issueEstimateProgress {
      closed
      open
      total
    }
    zenhubIssueCountProgress {
      closed
      open
      total
    }
    zenhubIssueEstimateProgress {
      closed
      open
      total
    }
    name
    description
    viewerAbilities {
      closeAllEpics
      scaleDates
      shiftDates
    }
    viewerPermission
    state
    epics {
      nodes {
        ...epicItem
      }
    }
    zenhubEpics {
      nodes {
        ...zhEpicItem
      }
    }
  }
  ${$De}
  ${ZDe}
`,JDe=bb.Ps`
  mutation addProjectsToRoadmap($input: AddProjectsToRoadmapInput!) {
    addProjectsToRoadmap(input: $input) {
      projects {
        ...projectItem
      }
    }
  }
  ${YDe}
`;const XDe={},QDe=bb.Ps`
  query getProjectsForGitHubOwner($repositoryGhId: Int!) {
    repositoryByGhId(ghId: $repositoryGhId) {
      id
      owner {
        id
        projects {
          nodes {
            name
            id
            startOn
            endOn
            viewerPermission
          }
        }
      }
    }
  }
`;const eLe={},tLe=bb.Ps`
  query getProjectsFromAllWorkspaces($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      zenhubOrganization {
        id
        workspaces {
          nodes {
            roadmap {
              id
              items {
                nodes {
                  ... on Project {
                    id
                    name
                    startOn
                    endOn
                    viewerPermission
                  }
                }
              }
            }
          }
        }
      }
    }
  }
`;const nLe=e=>{let{defaultRepoId:t,workspaceId:n}=e;const s=(0,l3.v9)(Ou)||!t,{data:r}=function(e){const t={...XDe,...e};return cy.a(QDe,t)}({variables:{repositoryGhId:t},skip:s}),{data:i}=function(e){const t={...eLe,...e};return cy.a(tLe,t)}({variables:{workspaceId:n??""},skip:!s||!n});return(s?i?.workspace?.zenhubOrganization?.workspaces.nodes.flatMap((e=>e.roadmap.items.nodes)):r?.repositoryByGhId.owner.projects.nodes)??null};function sLe(e,t){const n=(s=t,r=e=>e,ee.HK3(r,s));var s,r;return e.filter((e=>!n[e.id]))}function rLe(e,t,n){const s=function(e){return e.filter((e=>Qke(e.viewerPermission)))}(e),r=function(e,t){if(null===t)return e;const n=t.toLowerCase();return e.filter((e=>e.name.toLowerCase().includes(n)))}(s,n);return sLe(r,t)}const iLe="zhc-roadmap-add-epics-dropdown",oLe=e=>{let{anchor:t,className:n,close:s,defaultRepoId:r,projectIdsAlreadyAdded:i,roadmapId:o,title:a}=e;const[l,c]=(0,Ye.useState)([]),[d,u]=(0,Ye.useState)(null),{workspaceId:p}=HPe(),m=function(e,t,n){const{sortOrder:s}=HPe(),[r]=(0,vK.D)(JDe,{update(t,n){let{data:{addProjectsToRoadmap:{projects:r}}}=n;const i=r.reduce(((e,t)=>[...e,...t.epics.nodes.map((e=>e.id))]),[]);VDe(t,e,i,!1,s),jDe(t,e,r,s)},onError:e=>oe("Error Adding Projects to Roadmap",e),onCompleted:()=>{n()}}),i=(0,Ye.useCallback)((e=>{let{projectIds:n}=e;r({variables:{input:{roadmapId:t,projectIds:n}}})}),[r,t]);return i}(p,o,s),h=nLe({defaultRepoId:r,workspaceId:p}),E=h?rLe(h,i,d):null;return Ye.createElement(Ene,{close:s,className:n,anchorRef:t,modifiers:[pne,mne]},Ye.createElement(TDe,{title:a,onClose:s}),Ye.createElement("div",{className:iLe},Ye.createElement(ZCe,{defaultText:"Filter project",suggestedModifiers:[],onFilterChange:e=>{const t=null==e.filterKey?null:e.filterKey;u(t)},onSubmit:()=>{}}),Ye.createElement("div",{className:"zhc-roadmap-add-epics-dropdown__list"},Ye.createElement(DDe,{items:E,selectedProjectIds:l,setSelectedProjectIds:c,baseClass:iLe})),Ye.createElement("div",{className:"zhc-roadmap-add-epics-dropdown__footer"},Ye.createElement(H5,{variant:z5.TEXT,onClick:s},"Cancel"),Ye.createElement(H5,{ariaLabel:"Add Project to Roadmap",color:L5.ACTION,onClick:()=>{m({roadmapId:o,projectIds:l}),s()},disabled:0===l.length},"Add"))))};function aLe(){return aLe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aLe.apply(this,arguments)}const lLe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--plus-black",t].filter(Boolean).join(" "),"aria-label":"plus-black",role:"img",...n};return Ye.createElement("svg",aLe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M7.5 3v10a.7.7 0 001.4 0V3a.7.7 0 00-1.4 0z",fill:"currentColor",fillRule:"nonzero"}),Ye.createElement("path",{d:"M13 7.3H3a.7.7 0 000 1.4h10a.7.7 0 000-1.4z",fill:"currentColor",fillRule:"nonzero"})))};function cLe(e,t){return Ye.createElement("div",{className:"zhc-roadmap-add-epic-item"},Ye.createElement("div",{className:"zhc-roadmap-add-epic-item__details"},Ye.createElement("div",{className:"zhc-roadmap-add-epic-item__title"},e.title??e.issue.title),e.issue?Ye.createElement("div",{className:"zhc-roadmap-add-epic-item__subtitle"},e.issue.repository.owner.login,"/",e.issue.repository.name):null),t&&Ye.createElement(Ire,null))}function dLe(e){let{className:t,items:n,selectedEpicIds:s,setSelectedEpicIds:r}=e;return n?ee.xbD(n)?Ye.createElement("div",{className:`${t}__no-items`},"No epics found"):Ye.createElement(PDe,{items:n,selected:s,setSelected:r,itemRenderer:cLe}):Ye.createElement("div",{className:`${t}__no-items`},"Loading...")}dLe.propTypes={className:SI().string.isRequired,items:SI().arrayOf(SI().shape({})),selectedEpicIds:SI().arrayOf(SI().string),setSelectedEpicIds:SI().func};const uLe=dLe;function pLe(e,t,n){const s=function(e){return e.filter((e=>Qke(e.viewerPermission??e.issue.viewerPermission)))}(e),r=function(e,t){if(null===t)return e;const n=t.toLowerCase();return e.filter((e=>(e.title??e.issue?.title).toLowerCase().includes(n)))}(s,n);return function(e,t){const n=ee.HK3((e=>e),t);return e.filter((e=>!n[e.id]))}(r,t)}const mLe=bb.Ps`
  fragment zenhubEpic on ZenhubEpic {
    id
    body
    createdAt
    endOn
    startOn
    title
    viewerPermission
    creator {
      id
      name
      imageUrl
    }
    zenhubIssueCountProgress {
      open
      closed
      total
    }
    zenhubIssueEstimateProgress {
      open
      closed
      total
    }
    project {
      id
      name
    }
  }
`,hLe={},ELe=bb.Ps`
  query getZenhubEpicsFromWorkspace($workspaceId: ID!, $pageSize: Int, $after: String) {
    workspace(id: $workspaceId) {
      id
      zenhubEpics(first: $pageSize, after: $after) {
        pageInfo {
          endCursor
          startCursor
          hasNextPage
        }
        nodes {
          ...zenhubEpic
        }
      }
    }
  }
  ${mLe}
`;function gLe(e){const t={...hLe,...e};return cy.a(ELe,t)}const fLe="zhc-roadmap-add-epics-dropdown";const _Le=function(e){let{epicIdsAlreadyAdded:t,onAdd:n,onClose:s,onCreate:r}=e;const[i,o]=(0,Ye.useState)([]),[a,l]=(0,Ye.useState)(null),{workspaceId:c}=HPe(),d=function(e){const t=(0,l3.v9)(Lre),n=t?gLe:cF,s=t?"workspaceId":"id",{data:r}=n({variables:{[s]:e},fetchPolicy:"network-only"});return t?r?.workspace?.zenhubEpics?.nodes:r?.workspace?.epics?.nodes}(c),u=d?pLe(d,t,a):null,p=()=>{l(null),s()};return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:fLe},Ye.createElement(ZCe,{defaultText:"Filter epics",allowNegatedSearch:!1,suggestedModifiers:[],onFilterChange:e=>{const t=(0,_t.KN)(e.filterKey)?null:e.filterKey;l(t)},onSubmit:()=>{}}),Ye.createElement("div",{className:`${fLe}__list`},Ye.createElement(ODe,{id:"create-epic",onClick:()=>{r(),p()}},Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,className:"zhc-roadmap-create-epic-button",ariaLabel:"Create Epic"},"Create new epic")),Ye.createElement(uLe,{items:u,selectedEpicIds:i,setSelectedEpicIds:o,className:fLe}))),Ye.createElement("div",{className:`${fLe}__footer`},Ye.createElement(H5,{variant:z5.TEXT,onClick:p},"Cancel"),Ye.createElement(H5,{ariaLabel:"Add",color:L5.ACTION,onClick:()=>{const e=((e,t)=>t.some((t=>{const n=e.find((e=>e.id===t));return n&&n.project&&n.project.id})))(d,i),t=i.map((e=>d?.find((t=>t.id===e))));n(t,e),o([])},disabled:0===i.length},"Add")))},vLe={page:"SanBpt1lbLftWNI0W5wv",placeholderImg:"YWc5MkzgKd3hwB5tLTcj",card:"XxLY5805NGfVQ3OGV7jb",cardTitle:"noQKRND1OgjcVePI0ebq",cardMessage:"LhFCOD0cYMlNKIO4LZbl",connectButton:"KDJvC6JfUnXUPW0f_W38",buttonIcon:"HFZclDpPRPJmjMOKG9r8",dropdown:"V212aybcOzLPy60hxX1s",dropdownTitle:"zpMPKFrnl3A2W848AmSv",dropdownBtn:"gybZlqcxhFGgk7u5KVKd",connectedCard:"LGEatUQDX_T_R5j971Hr",addMessage:"zGmzUMQBcAhWyrfvX_FZ",addButton:"CNaSFSjCSDAMM6E86EOF"},ILe=e=>{let{clickSrc:t,variant:n,className:s}=e;const r=(0,_t.Vc)(t.toLowerCase().replace("_"," - ")),i=qye(),o=(0,_I.default)([vLe.connectButton],s,{[vLe.dropdownBtn]:"dropdown"===n});return Ye.createElement(H5,{color:L5.GITHUB,className:o,onClick:()=>{r6("Clicked connect GitHub",{"Page Name":r}),i()}},Ye.createElement(Cye,{className:vLe.buttonIcon}),"Connect your GitHub account")},bLe=Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000650569-connecting-your-github-account-to-zenhub",target:"_blank",rel:"noopener noreferrer"},"Learn more"),yLe="Add repositories to this workspace",SLe="To get started customizing and using your workspace, you need to add a GitHub repository first. Once you add a repository, your GitHub issues will show up here.",wLe=e=>{let{pageType:t,title:n,message:s,connectedMessage:r=SLe,connectedTitle:i=yLe,variant:o,closePopup:a=(()=>{})}=e;const l=(0,l3.I0)(),c=(0,l3.v9)(Pu),d=(0,l3.v9)(Pa),u=(0,_I.default)({[vLe.card]:"reports_overview"!==t,[vLe.dropdown]:"dropdown"===o}),p=(0,_I.default)([vLe.cardTitle],{[vLe.dropdownTitle]:"dropdown"===o});return c?Ye.createElement("div",{className:`${u} ${vLe.connectedCard}`},Ye.createElement("h2",{className:p},i),Ye.createElement("p",{className:vLe.addMessage},r),Ye.createElement(H5,{color:L5.ACTION,height:A5.TALL,className:vLe.addButton,onClick:()=>{a(),l(oZ.setWorkspaceId(d)),l(oZ.setEditWorkspace()),l(oZ.open())}},Ye.createElement(hSe,{className:vLe.buttonIcon}),"Add repositories")):Ye.createElement("div",{className:u},Ye.createElement("h2",{className:p},n),s&&Ye.createElement("p",{className:vLe.cardMessage},s),Ye.createElement(ILe,{clickSrc:t,variant:o}),"dropdown"!==o&&Ye.createElement("p",{className:vLe.cardExtLink},"Not a GitHub admin? ",bLe))},RLe=n.p+"../../img/built/nonauth-state-board-light.svg",TLe=n.p+"../../img/built/nonauth-state-cumulativeflow-light.svg",CLe=n.p+"../../img/built/nonauth-state-controlchart-light.svg",kLe=n.p+"../../img/built/nonauth-state-velocity-light.svg",OLe=n.p+"../../img/built/nonauth-state-burndown-light.svg",NLe=n.p+"../../img/built/nonauth-state-release-light.svg",PLe=n.p+"../../img/built/nonauth-state-workflows-light.svg",ALe=n.p+"../../img/built/nonauth-state-notifications-light.svg",DLe=(n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,e=>{let{onClose:t}=e;return Ye.createElement("div",{className:"zhc-roadmap-add-epics-dropdown"},Ye.createElement(ZCe,{defaultText:"Filter epics",isDisabled:!0,onSubmit:()=>{}}),Ye.createElement(wLe,{pageType:"roadmap",title:"No epics found",message:"Connect your GitHub account to create epics under this project.",connectedTitle:"No epics found",connectedMessage:"Add GitHub repositories to create epics under this project.",variant:"dropdown",closePopup:t}))}),LLe="27",zLe="13";function MLe(e){let{onEscape:t=(()=>{}),onEnter:n=(()=>{}),target:s=null}=e;const r=(0,Ye.useCallback)((e=>{e.code!==LLe&&"Escape"!==e.key||t(),e.code!==zLe&&"Enter"!==e.key||n()}),[t,n]);(0,Ye.useEffect)((()=>{const e=s||document;return e.addEventListener("keyup",r,!1),()=>{e.removeEventListener("keyup",r,!1)}}),[r,s])}function xLe(e){return e.filter((e=>!(0,_t.KN)(e.project)&&!(0,_t.KN)(e.project.name)))}function FLe(e){return e.map((e=>e.project.name))}function ULe(e){return ee.zGw(xLe,FLe,ee.jj$)(e)}const BLe={DANGER:"danger",REGULAR:"regular"},qLe=e=>{let{title:t,subtitle:n,titleColor:s}=e;const r=(0,_I.default)("zhc-roadmap-warning-header__title",`zhc-roadmap-warning-header__title--${s}`);return Ye.createElement("div",{className:"zhc-roadmap-warning-header"},Ye.createElement("h2",{className:r},t),Ye.createElement("div",null,n))};qLe.propTypes={subtitle:SI().oneOfType([SI().string,SI().node]).isRequired,title:SI().oneOfType([SI().string,SI().node]).isRequired,titleColor:SI().oneOf(Object.values(BLe))},qLe.defaultProps={titleColor:BLe.REGULAR};const HLe=qLe,WLe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-roadmap-warning-body"},t)};WLe.propTypes={children:SI().node.isRequired};const jLe=WLe,GLe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-roadmap-warning-footer"},t)};GLe.propTypes={children:SI().node.isRequired};const KLe=GLe,VLe="bNasNawpQMlHkIQ89ZxA",$Le="AKdEMRwreGjm6qFTH8Ik",ZLe=e=>{let{isOpen:t,setIsOpen:n,children:s}=e;return Ye.createElement(Xre,{isOpen:t,turnOverlayClickOff:!0,modifiers:["roadmap-warning-modal"],onClose:()=>n(!1)},Ye.createElement("div",{className:VLe},Ye.createElement(H5,{onClick:()=>n(!1),ariaLabel:"close modal",variant:z5.TEXT,className:$Le,height:A5.SHORT,padding:M5.EXTRA_TIGHT},Ye.createElement(R7,null)),s))};ZLe.propTypes={children:SI().node.isRequired,isOpen:SI().bool.isRequired,setIsOpen:SI().func.isRequired};const YLe=ZLe,JLe=(0,_t.fB)("Epic","Epics"),XLe=(0,_t.fB)("its","their"),QLe=(0,_t.fB)("Project","Projects"),eze=(0,_t.fB)("this","these");function tze(e){let{epics:t}=e;const n=xLe(t),s=1!==n.length?"are":"is";let r=n.map(lPe).join(", ");const i=ULe(n).join(", ");if(n.length>3){const[e,t,s,...i]=n;r=`${lPe(e)}, ${lPe(t)}, ${lPe(s)} and ${i.length} ${1===i.length?"other":"others"}`}const o=Ye.createElement("span",{className:"zhu-font-bold"},r),a=Ye.createElement("span",{className:"zhu-font-bold"},i);return Ye.createElement(Ye.Fragment,null,"Heads up \u2014 ",o," ",`${s} already part of `,a)}tze.propTypes={epics:SI().arrayOf(SI().shape({})).isRequired};const nze=e=>{let{epics:t,addEpics:n,isOpen:s,setIsOpen:r,onCancel:i}=e;const o=xLe(t),a=ULe(t),l=JLe(o.length),c=XLe(o.length),d=eze(o.length),u=QLe(a.length),p=()=>{n(t)};return MLe({onEnter:p}),Ye.createElement(YLe,{isOpen:s,setIsOpen:r},Ye.createElement(HLe,{title:`Move ${l} to different Project`,subtitle:Ye.createElement(tze,{epics:t})}),Ye.createElement(jLe,null,Ye.createElement("ul",null,Ye.createElement("li",null,`The ${l} will be removed from ${c} current ${u}`),Ye.createElement("li",null,"The affected Project may have new start and end dates"),Ye.createElement("li",{className:"zhu-font-bold zhc-roadmap-warning-body__warning"},`The ${l} will be removed for all team members`))),Ye.createElement(KLe,null,Ye.createElement(H5,{onClick:()=>{r(!1),i()},variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{ariaLabel:"Confirm Epic Move",color:L5.PRIMARY,onClick:p},"I understand, move ",d," ",l)))};nze.propTypes={addEpics:SI().func.isRequired,epics:SI().arrayOf(SI().shape({issue:SI().shape({title:SI().string.isRequired})})).isRequired,isOpen:SI().bool.isRequired,setIsOpen:SI().func.isRequired,onCancel:SI().func},nze.defaultProps={onCancel:()=>{}};const sze=(0,Ye.memo)(nze),rze=e=>{let{epicIdsAlreadyAdded:t,onAdd:n,onCreate:s,defaultActive:r,showPlatformRestrictedView:i}=e;const[o,a]=(0,Ye.useState)(r),[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)([]),p=(0,Ye.useRef)(),m=(0,Ye.useCallback)((e=>{c(!1),a(!1),n(ee.jge("id",e))}),[n]),h=(0,Ye.useCallback)(((e,t)=>{t?(c(!0),a(!1),u(e)):m(e)}),[m]);return Ye.createElement(Ye.Fragment,null,Ye.createElement(YI,{content:"Add epics",removeTooltipOnClick:!0},Ye.createElement(H5,{ariaLabel:"Add to Project...",padding:M5.EXTRA_TIGHT,height:A5.SHORT,className:"zhc-add-epics-toggle",ref:p,onClick:()=>a(!0),dataZhFlyover:"close"},Ye.createElement(lLe,null)),o&&Ye.createElement(Ene,{close:()=>a(!1),anchorRef:p,modifiers:[pne,mne]},Ye.createElement(TDe,{title:"Add epic(s) to project",onClose:()=>a(!1)}),i?Ye.createElement(DLe,{onClose:()=>a(!1)}):Ye.createElement(_Le,{epicIdsAlreadyAdded:t,onAdd:h,onCreate:s,onClose:()=>{a(!1)}}))),d&&l&&Ye.createElement(sze,{epics:d,addEpics:m,isOpen:l,setIsOpen:c}))};rze.propTypes={epicIdsAlreadyAdded:SI().arrayOf(SI().string).isRequired,showPlatformRestrictedView:SI().bool.isRequired,onAdd:SI().func.isRequired,onCreate:SI().func.isRequired,defaultActive:SI().bool},rze.defaultProps={defaultActive:!1};const ize=rze;function oze(e){const{epicIdsAlreadyAdded:t,title:n,anchor:s,className:r,onAdd:i,onCreate:o,onClose:a}=e,[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)([]),p=(0,Ye.useCallback)((e=>{i(e.map((e=>e.id)))}),[i]),m=(0,Ye.useCallback)(((e,t)=>{t?(c(!0),u(e)):p(e)}),[p]);return d&&l?Ye.createElement(sze,{epics:d,addEpics:p,isOpen:l,setIsOpen:c,onCancel:a}):Ye.createElement(Ene,{className:r,anchorRef:s,close:a,modifiers:[pne,mne]},Ye.createElement(TDe,{title:n,onClose:a}),Ye.createElement(_Le,{epicIdsAlreadyAdded:t,onAdd:m,onCreate:o,onClose:a}))}oze.propTypes={anchor:SI().shape({current:SI().instanceOf(Element)}).isRequired,epicIdsAlreadyAdded:SI().arrayOf(SI().string).isRequired,title:SI().string.isRequired,onAdd:SI().func.isRequired,onClose:SI().func.isRequired,onCreate:SI().func.isRequired,className:SI().string},oze.defaultProps={className:null};const aze=oze,lze=e=>{let{addEpicMode:t,addProjectMode:n,children:s,defaultRepoId:r,dropdownRef:i,handleAddEpic:o,handleCloseEpic:a,handleCloseProject:l,handleCreateEpic:c,isDisabled:d,isEmpty:u,roadmapId:p,roadmapItems:m,title:h}=e;const[E,g]=wDe(u),{isOrgView:f}=HPe(),_=m.filter((e=>"Epic"===e.__typename)),v=m.filter((e=>"Project"===e.__typename)),I=(0,Ye.useCallback)((e=>{r6("Create menu - Roadmap",{Action:e?"Open":"Close",Module:"Engaged"}),e&&g()}),[g]),b=i?.current?.refs?.button;return Ye.createElement(Ye.Fragment,null,Ye.createElement(NSe,{buttonAriaLabel:"Open add panel",customButtonClass:"zhc-add-panel zhc-onboarding-highlight-add-roadmap",modifiers:["add-list","wide"],onToggleOpenAndClosed:I,position:kte.LEFT,primaryIcon:Ye.createElement(hSe,null),buttonHeight:A5.SHORT,buttonColor:L5.ACTION,showHeaderX:!0,ref:i,title:h,isDisabled:d,dataZhFlyover:"close"},s),E&&Ye.createElement(yDe,{onDismiss:g}),t&&b&&Ye.createElement(aze,{onAdd:o,onCreate:c,epicIdsAlreadyAdded:_.map((e=>e.id)),title:f?"Add epic to organization timeline":"Add epic to workspace timeline",anchor:i.current.refs.button,onClose:a}),n&&b&&Ye.createElement(oLe,{anchor:i.current.refs.button,close:l,defaultRepoId:r,projectIdsAlreadyAdded:v.map((e=>e.id)),roadmapId:p,title:"Add project to roadmap"}))};lze.propTypes={addEpicMode:SI().bool.isRequired,addProjectMode:SI().bool.isRequired,dropdownRef:SI().shape({current:SI().instanceOf(NSe)}).isRequired,handleAddEpic:SI().func.isRequired,handleCloseEpic:SI().func.isRequired,handleCloseProject:SI().func.isRequired,handleCreateEpic:SI().func.isRequired,roadmapId:SI().string.isRequired,roadmapItems:SI().arrayOf(SI().shape({__typename:SI().string.isRequired,id:SI().string.isRequired}).isRequired).isRequired,children:SI().oneOfType([SI().arrayOf(SI().node),SI().node]),defaultRepoId:SI().number,isDisabled:SI().bool,isEmpty:SI().bool,title:SI().string},lze.defaultProps={children:null,isDisabled:!1,isEmpty:!1,title:null},lze.Divider=()=>Ye.createElement("div",{className:"zhc-add-panel__divider"});const cze=lze,dze={},uze=bb.Ps`
  mutation addEpicsToRoadmap($input: AddEpicsToRoadmapInput!) {
    addEpicsToRoadmap(input: $input) {
      epics {
        ...epicItem
      }
    }
  }
  ${$De}
`;function pze(e){const t={...dze,...e};return vK.D(uze,t)}const mze={},hze=bb.Ps`
  mutation addZenhubEpicsToRoadmap($input: AddZenhubEpicsToRoadmapInput!) {
    addZenhubEpicsToRoadmap(input: $input) {
      zenhubEpics {
        id
        title
        startOn
        endOn
        project {
          id
          startOn
          endOn
        }
      }
    }
  }
`;function Eze(e,t,n){const s=(0,l3.v9)(Lre),{sortOrder:r}=HPe(),i=e=>console.error("Error Adding Epics to Roadmap",e),[o]=pze({update(t,s){let{data:i}=s;const o=i?.addEpicsToRoadmap?.epics??[],a=o.map((e=>e.id));VDe(t,e,a,n,r),GDe(t,e,o,n,r)},onError:i}),[a]=function(e){const t={...mze,...e};return vK.D(hze,t)}({update(t,s){let{data:i}=s;const o=i?.addZenhubEpicsToRoadmap?.zenhubEpics??[],a=o.map((e=>e.id));VDe(t,e,a,n,r),GDe(t,e,o,n,r)},onError:i});return(0,Ye.useCallback)((e=>s?a({variables:{input:{roadmapId:t,zenhubEpicIds:e}}}):o({variables:{input:{roadmapId:t,epicIds:e}}})),[o,a,t])}const gze=e=>{let{isDisabled:t,onExpand:n,onCollapse:s,hasExpandedProjects:r=!1,showPlatformRestrictedView:i}=e;const o=(0,_I.default)("zhc-sidebar-expand-toggle",{"zhc-sidebar-expand-toggle--collapsed":!r,"zhc-sidebar-expand-toggle--enabled":!t}),a=Ye.createElement("button",{"aria-label":"collapseExpandButton",className:o,"data-testid":"zhc-sidebar-expand-toggle",onClick:()=>r?s():n(),type:"button"},!t&&Ye.createElement("div",{className:"zhc-sidebar-expand-toggle__state-indicator"},Ye.createElement(gte,null)),Ye.createElement("div",{className:"zhc-sidebar-expand-toggle__title"},i?"Projects":"Projects and Epics"));if(t)return a;const l=r?"Collapse all projects":"Expand all projects";return Ye.createElement(YI,{content:l},a)},fze="Mmj0La3jCgbPMC3q_lX_",_ze="M3babDF41nBo3vSKJlty",vze="pMP1Mklzb876wDQKEsJW",Ize="c7TEfHGWkNRdpQcp1xcP",bze="sHp39jl0GKMSA5cXBHjC",yze="zhJpZCJlCCSMvRPUgt1R",Sze="Sz8VtWkzarRYR3TKKCwG",wze="Create menu - Roadmap",Rze=e=>{let{title:t,iconComponent:n,onClick:s,caption:r}=e;return Ye.createElement(D_e,{key:t,title:t,iconComponent:n,handler:s,caption:r})},Tze=BAe((e=>{let{arePlatformEpicsEnabled:t,canWriteRoadmap:n,defaultRepoId:s,flatRoadmapRows:r,isDisabled:i,isEmpty:o,isOrgView:a,roadmapId:l,roadmapItems:c,setCollapseStateForRows:d,setNewItem:u,showPlatformRestrictedView:p,workspaceId:m}=e;const[h,E]=(0,Ye.useState)(!1),[g,f]=(0,Ye.useState)(!1),_=(0,Ye.useRef)(null),v=Eze(m,l,a),I=(0,Ye.useCallback)((()=>{_?.current?.close?.()}),[]),b=(0,Ye.useMemo)((()=>[{title:"New project",caption:"A group of epics for long-term planning",iconComponent:Ye.createElement(VAe,null),onClick:e=>{e.stopPropagation(),r6(wze,{Action:"Create Project",Module:"Engaged"}),u({typeToCreate:XPe.PROJECT}),I()}}]),[u,I]),y=(0,Ye.useMemo)((()=>[{title:"Add projects from other workspaces",onClick:e=>{e.stopPropagation(),E(!0),r6(wze,{Action:"Add Projects from other Workspaces",Module:"Engaged"}),I()}}]),[I]),S=(0,Ye.useCallback)((()=>{u({typeToCreate:XPe.EPIC}),f(!1)}),[u]),w=(0,Ye.useMemo)((()=>[{title:"New epic",caption:"A group of issues",iconComponent:Ye.createElement(ZAe,null),onClick:e=>{e.stopPropagation(),r6(wze,{Action:"Create Epic clicked",Module:"Engaged"}),S(),I()}}]),[S,I]),R=(0,Ye.useMemo)((()=>[{title:t?"Add epics from the organization":"Add epics from the board",onClick:e=>{e.stopPropagation(),f(!0),r6(wze,{Action:"Add Epics",Module:"Engaged"}),I()}}]),[I]),T=(0,Ye.useCallback)((e=>{v(e),f(!1)}),[v]),C=(0,Ye.useCallback)((()=>f(!1)),[]),k=(0,Ye.useCallback)((()=>E(!1)),[]),O=c.filter((e=>"Project"===e.__typename&&e.epics.nodes.length>0)),N=O.length>0,P=r.filter((e=>"Project"===e.item.__typename)).some((e=>!e.item.isCollapsed));return Ye.createElement("div",{className:_ze},Ye.createElement(gze,{isDisabled:!N,onExpand:()=>d(!1,r),onCollapse:()=>d(!0,r),hasExpandedProjects:P,roadmapProjectsWithEpics:O,showPlatformRestrictedView:p}),n&&Ye.createElement(cze,{addProjectMode:h,isEmpty:o,title:a?"Create in organization roadmap":"Create in roadmap",roadmapId:l,defaultRepoId:s,addEpicMode:g,handleAddEpic:T,handleCreateEpic:S,handleCloseEpic:C,handleCloseProject:k,roadmapItems:c,isDisabled:i,dropdownRef:_},b.map(Rze),!p&&w.map(Rze),Ye.createElement(cze.Divider,null),!a&&y.map(Rze),!p&&R.map(Rze)))})),Cze="CB1_wzDUCnCtdDUPDbQQ",kze="HPsxxP3a8oiPCWRc02FY",Oze="JZNg4teAB3QGQOg1i3Sv",Nze="wlJfEw2y6t7bHGBplvpC",Pze="zODHhMdYMb0NBckoNz0x",Aze=e=>{let{short:t=!1}=e;const n=(0,_I.default)(Oze,{[Nze]:t});return Ye.createElement("div",{className:Cze},Ye.createElement("div",{className:kze}),Ye.createElement("div",{className:n}),Ye.createElement("div",{className:Pze}))};function Dze(){return Dze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dze.apply(this,arguments)}const Lze=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--drag-roadmap-sidebar",t].filter(Boolean).join(" "),"aria-label":"drag-roadmap-sidebar",role:"img",...n};return Ye.createElement("svg",Dze({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M3.5.5h3v3h-3zm0 6h3v3h-3zm0 6h3v3h-3zm6-12h3v3h-3zm0 6h3v3h-3zm0 6h3v3h-3z"}))},zze="qNlZ9otlUyel0a4EpVrK",Mze="izxNPTAfDSIH8P5AX5Nt",xze="gRCM7Du8IVx0vMnPtbNR";function Fze(){return Fze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fze.apply(this,arguments)}const Uze=e=>{let{dragHandleProps:t,isDraggingInSidebar:n,isHoveringOnCard:s,isSubItem:r,showIcon:i}=e;const o=s&&!n&&!r;return Ye.createElement("div",Fze({className:(0,_I.default)(zze,{[Mze]:!i})},t),o?i?Ye.createElement(Lze,{"data-testid":"dragHandle"}):Ye.createElement("div",{className:xze}):null)},Bze="oqkkm5tGOvm2kkYef2LI",qze=e=>{let{dragHandleProps:t}=e;return Ye.createElement("div",{className:Bze},Ye.createElement(Aze,null),Ye.createElement(Aze,{short:!0}),Ye.createElement(Aze,null),Ye.createElement(Aze,{short:!0}),Ye.createElement(Aze,null),Ye.createElement(Uze,{isDraggingInSidebar:!1,dragHandleProps:t,isHoveringOnCard:!1,isSubItem:!1,showIcon:!0}))};function Hze(){return Hze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hze.apply(this,arguments)}const Wze="zhc-roadmap-date-strip";const jze=e=>{let{date:t,timescaleKey:n,...s}=e;const r=n===KNe.QUARTERS.key,i=(e=>{const t=cc()(e),n=t.format("Q"),s=t.month()+1,r=t.format("MMM"),i=t.format("MMMM");return{...t.toObject(),quarter:n,monthShort:r,monthLong:i,month:s}})(t),o=1===i.month?` ${i.years}`:"",a=r?`Q${i.quarter}`:`${i.monthLong}${o}`,l=r?`${i.monthShort}${o}`:`${i.date}`,c=r?"":`${Wze}__unit-${i.month}`;return Ye.createElement("div",Hze({className:`${Wze}__unit ${c}`},s),Ye.createElement("div",{className:`${Wze}__unit-top zhu-font-bold`},a),Ye.createElement("div",{className:`${Wze}__unit-bottom`},l))},Gze=e=>{let{timescaleKey:t,start:n,end:s}=e;const r=KNe[t],i=(Cp(n,s,r.granularity),o=n,a=r.dateStripBlock,l=r.granularity,(Ip(o).endOf(a).diff(o,l)+1)%(r.dateStripUnitLength??0));var o,a,l;const c=((e,t,n)=>Ip(e).diff(Ip(e).startOf(t),n))(s,r.dateStripBlock,r.granularity),d=((e,t,n)=>Yp(e,n,t))(n,i,r.granularity),u=((e,t,n)=>Yp(e,n,-1*t))(s,c,r.granularity),p=Cp(d,u,r.dateStripUnit);return Ye.createElement("div",{className:Wze,style:{"--size":r.segmentPixelSize},"data-testid":"zhc-roadmap-date-strip"},!1,Boolean(i)&&Ye.createElement("div",{className:`${Wze}__unit`,style:{"--length":i}}),Array.from({length:p},((e,t)=>{let n=r.dateStripUnitLength;const s=Yp(d,r.dateStripUnit,t);return"quarters"===r.dateStripUnit&&(n=function(e,t){const n=Yp(e,t.dateStripUnit,-1);return Cp(n,e,t.granularity)}(s,r)),Ye.createElement(jze,{style:{"--length":n},key:`date-strip-unit-${t}`,date:s,timescaleKey:r.key})})),Boolean(c)&&Ye.createElement(jze,{style:{"--length":c},date:u,timescaleKey:r.key}))},Kze=Ye.memo(Gze),Vze="JTZJUvElaALMsMNaDZoP",$ze="TkR3Lo6CULS1lpWMx9tX",Zze="fdFlfJROqogkRNUjdXzZ",Yze=e=>{let{todayIndicatorPosition:t,disableOverlayLine:n=!1,roadmapBodyHeight:s}=e;const r=(0,_I.default)(Vze,{[Zze]:n});return Ye.createElement("div",{className:r,"data-testid":"zhc-roadmap-today-indicator",style:{left:t,height:s-34+"px"}},Ye.createElement("div",{className:$ze},"Today"))},Jze="Vjxk2lvLON1Mh4JSGaUs",Xze=e=>{let{disableOverlayLine:t,todayIndicatorPosition:n,timescaleKey:s,start:r,end:i,roadmapBodyHeight:o}=e;return Ye.createElement("div",{className:Jze},Ye.createElement(Kze,{timescaleKey:s,start:r,end:i}),Ye.createElement(Yze,{todayIndicatorPosition:n,disableOverlayLine:t,roadmapBodyHeight:o}))},Qze={},eMe=bb.Ps`
  mutation removeZenhubEpicFromProject($input: RemoveZenhubEpicFromProjectInput!) {
    removeZenhubEpicFromProject(input: $input) {
      project {
        id
      }
      zenhubEpic {
        id
        project {
          id
          name
        }
      }
    }
  }
`;function tMe(e){const t={...Qze,...e};return vK.D(eMe,t)}const nMe={},sMe=bb.Ps`
  mutation removeEpicFromProject($input: RemoveEpicFromProjectInput!) {
    removeEpicFromProject(input: $input) {
      project {
        id
        issueCountProgress {
          closed
          open
          total
        }
        issueEstimateProgress {
          closed
          open
          total
        }
      }
      epic {
        id
      }
    }
  }
`;function rMe(){const e=(0,l3.v9)(Lre),t=(0,l3.v9)(Pa),{sortOrder:n}=HPe(),[s]=function(e){const t={...nMe,...e};return vK.D(sMe,t)}({update(e,t){let{data:n}=t;const s=n?.removeEpicFromProject?.epic.id,r=n?.removeEpicFromProject?.project.id;FDe(e,r,s)}}),[r]=tMe({update(e,s){let{data:r}=s;const i=r?.removeZenhubEpicFromProject?.zenhubEpic,o=r?.removeZenhubEpicFromProject?.project.id;FDe(e,o,i?.id),GDe(e,t,[i],!1,n)}}),i=(0,Ye.useCallback)((e=>{let{id:t,parentId:n}=e;s({variables:{input:{projectId:n,epicId:t}}})}),[s]),o=(0,Ye.useCallback)((e=>{let{id:t,parentId:n}=e;r({variables:{input:{projectId:n,zenhubEpicId:t}}})}),[r]);return e?o:i}const iMe={},oMe=bb.Ps`
  mutation removeZenhubEpicFromRoadmap($input: RemoveZenhubEpicFromRoadmapInput!) {
    removeZenhubEpicFromRoadmap(input: $input) {
      zenhubEpic {
        id
      }
    }
  }
`;const aMe=bb.Ps`
  mutation removeEpicFromRoadmap($input: RemoveEpicFromRoadmapInput!) {
    removeEpicFromRoadmap(input: $input) {
      epic {
        id
      }
      roadmap {
        id
      }
    }
  }
`;function lMe(e){const{sortOrder:t}=HPe(),[n]=function(e){const t={...iMe,...e};return vK.D(oMe,t)}({update:(n,s)=>{let{data:r}=s;const i=r?.removeZenhubEpicFromRoadmap?.zenhubEpic?.id;i&&WDe(n,e,i,t)}}),[s]=(0,vK.D)(aMe,{update(n,s){let{data:{removeEpicFromRoadmap:r}}=s;const{epic:i}=r;WDe(n,e,i.id,t)}}),r=(0,Ye.useCallback)((e=>{let{id:t,__typename:r,parentId:i}=e;"ZenhubEpic"===r?n({variables:{input:{zenhubEpicId:t,roadmapId:i,force:!0}}}):s({variables:{input:{epicId:t,roadmapId:i}}})}),[s]);return r}const cMe=bb.Ps`
  mutation createProjectOnRoadmap($input: CreateProjectOnRoadmapInput!) {
    createProjectOnRoadmap(input: $input) {
      project {
        ...projectItem
      }
    }
  }
  ${YDe}
`;const dMe={},uMe=bb.Ps`
  mutation createZenHubEpic($input: CreateZenhubEpicOnRoadmapInput!) {
    createZenhubEpicOnRoadmap(input: $input) {
      roadmap {
        id
      }
      zenhubEpic {
        ...zenhubEpic
      }
    }
  }
  ${mLe}
`;function pMe(e){const t={...dMe,...e};return vK.D(uMe,t)}const mMe=bb.Ps`
  mutation createEpicOnRoadmap($input: CreateEpicOnRoadmapInput!) {
    createEpicOnRoadmap(input: $input) {
      epic {
        ...epicItem
      }
    }
  }
  ${$De}
`;const hMe={},EMe=bb.Ps`
  mutation moveRoadmapItem($input: MoveRoadmapItemRelativeToInput!) {
    moveRoadmapItemRelativeTo(input: $input) {
      item {
        __typename
        ... on Project {
          id
          name
        }
        ... on Epic {
          id
          issue {
            title
          }
        }
        ... on ZenhubEpic {
          id
          title
        }
      }
    }
  }
`;const gMe=(e,t)=>{const n=(0,Dae.x)(),{cache:s}=n,[r,i]=(0,Ye.useState)([]),{sortOrder:o,setSortOrder:a}=HPe(),[l]=function(e){const t={...hMe,...e};return vK.D(EMe,t)}({onError:()=>{oe("Error reordering roadmap items"),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:3e3}),e&&((e,t,n,s)=>{const r={workspaceId:t,order:qDe(s)},i=e.readQuery({query:LDe,variables:r});if(!i)return;const o=HDe(i,n);e.writeQuery({query:LDe,data:o,variables:r})})(s,e,r,o)},fetchPolicy:"no-cache"});return(n,r,c,d)=>{if(!e||!t)return;if("manual"!==o)return void(e=>{let t;t=H.Z.createToastIfUniqueByType(W.Z.ACTION_BUTTON_UPDATE_NO_EXPIRY,{icon:Ye.createElement(uie,null),content:"Drag and drop disabled",description:"It's not possible to drag and drop while sorting items. Please clear sorting to reorder manually.",actionButton:{text:"Clear sorting",onClick:()=>{e("manual"),H.Z.deleteToast(t)}}},iPe)})(a);const u=r[c].parentId??r[c].item.id;if(d===c||u===n)return;if(r[d>c||c===r.length-1?c:c+1].parentId&&c!==r.length-1){const e="Project"===r.find((e=>e.item.id===n))?.item.__typename?"Projects cannot be added to other projects or epics.":"Cannot drop epic into a project. Use the '+' button to add epics to a project.";H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:e,expirationDelay:4e3})}else{const r=d>c?"beforeItemId":"afterItemId",a=function(e,t,n,s,r,i){const o={workspaceId:t,order:qDe(n)},a=e.readQuery({query:LDe,variables:o});if(!a?.workspace)return null;const{items:l}=a.workspace.roadmap,c=l.nodes.find((e=>e.id===s));if(!c)return l.nodes;const d=l.nodes.filter((e=>e.id!==s)),u=d.findIndex((e=>e.id===r)),p="beforeItemId"===i?u:u+1,m=[...d.slice(0,p),c,...d.slice(p)],h=HDe(a,m);return e.writeQuery({query:LDe,data:h,variables:o}),l.nodes}(s,e,o,n,u,r);a&&i(a);l({variables:{input:{itemId:n,roadmapId:t,[r]:u}}})}}};var fMe=n(54335),_Me=n.n(fMe);const{router:vMe}=LG,IMe=(e,t)=>{const n=(0,l3.I0)(),{openExtensionIssueFlyover:s}=DRe(),{issueId:r,issueNumber:i,repository:o,organization:a,title:l,repoId:c,htmlUrl:d}=e,u=(0,l3.v9)(Na),p=(0,l3.v9)(Pre),m={workspace:u,organization:e.organization,repository:e.repository,issue_number:e.issueNumber};return e=>{const u=Dne(e);t||!p||u?vMe.openIssueInNewTab(m):F?s({id:r,issue_number:i,repo_name:o,organization:a,title:l,repo_id:c,html_url:d,pull_request:!1},u):n(vMe.openIssue(m))}},{router:bMe}=LG,yMe=e=>{const t=(0,l3.I0)(),{openExtensionIssueFlyover:n}=DRe(),s=(0,l3.v9)(Na);return(r,i)=>{const o={workspace:s,epic_id:r},a=!!i&&Dne(i);e||a?bMe.openPlatformEpicInNewTab(o):F?n({isPlatformEpic:!0,id:r},a):t(bMe.openPlatformEpicFlyover(o))}};let SMe,wMe;!function(e){e.CLOSED="CLOSED",e.OPEN="OPEN"}(SMe||(SMe={})),function(e){e.START="START",e.END="END"}(wMe||(wMe={}));const RMe=bb.Ps`
  mutation updateIssue($input: UpdateIssueInput!) {
    updateIssue(input: $input) {
      issue {
        id
        state
      }
    }
  }
`,TMe=bb.Ps`
  mutation updateIssue($input: UpdateIssueInput!) {
    updateIssue(input: $input) {
      issue {
        state
      }
    }
  }
`;function CMe(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=n?TMe:RMe,[r]=(0,vK.D)(s,t),i=(0,Ye.useCallback)((t=>{r({variables:{input:{issueId:e,state:t}}})}),[e,r]);return i}function kMe(){return kMe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kMe.apply(this,arguments)}const OMe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--epic",t].filter(Boolean).join(" "),"aria-label":"epic",role:"img",...n};return Ye.createElement("svg",kMe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{clipRule:"evenodd",d:"M4.667.667h6.666a2 2 0 0 1 2 2v11.231a1.333 1.333 0 0 1-2.212 1.002L8 12.163 4.878 14.9a1.333 1.333 0 0 1-2.212-1.002V2.667a2 2 0 0 1 2-2zm0 1.333A.667.667 0 0 0 4 2.667v11.231l3.12-2.738a1.333 1.333 0 0 1 1.76 0L12 13.898V2.667A.667.667 0 0 0 11.333 2zM6 3.333h3.667v1.334H7.333v1h2V7h-2v1H10v1.333H6V4.667z",fill:"currentColor",fillRule:"evenodd"}))},NMe={},PMe=bb.Ps`
  mutation updateZenhubEpicDates($input: UpdateZenhubEpicDatesInput!) {
    updateZenhubEpicDates(input: $input) {
      zenhubEpic {
        id
        title
        startOn
        endOn
        project {
          id
          startOn
          endOn
        }
      }
    }
  }
`;const AMe=bb.Ps`
  mutation updateEpicDates($input: UpdateEpicDatesInput!) {
    updateEpicDates(input: $input) {
      epic {
        id
        startOn
        endOn
        issue {
          id
          title
        }
        project {
          id
          startOn
          endOn
        }
      }
    }
  }
`,DMe={onError:()=>{}};function LMe(e,t){let{id:n,__typename:s}=e;const r=t?.onError??DMe.onError,i=e=>{const t=lPe(e.updateEpicDates??e.updateZenhubEpicDates?.zenhubEpic);H.Z.removeByTypeAndTag(W.Z.ACTION_BUTTON_UPDATE,n),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(OMe,null),content:Ye.createElement("span",null,Ye.createElement("b",null,t)," has been updated"),hasBoldText:!0,expirationDelay:5e3},n)},[o]=function(e){const t={...NMe,...e};return vK.D(PMe,t)}({onError:r,onCompleted:i}),[a]=(0,vK.D)(AMe,{onError:r,onCompleted:i});return(0,Ye.useCallback)(((e,t,r)=>{"ZenhubEpic"===s?o({variables:{input:{zenhubEpicId:n,startOn:e,endOn:t}}}):a({variables:{input:{epicId:n,startOn:e,endOn:t,roadmapId:r}}})}),[n,a])}const zMe=Ye.forwardRef(((e,t)=>{let{children:n,color:s="primary",dataZhFlyover:r,isSelected:i=!1,modifiers:o=[],size:a="medium",testId:l="zhc-roadmap-row",variant:c}=e;const d=(0,_t.DG)("zhc-roadmap-row",o.map((e=>`modifier-${e}`))),u=(0,_I.default)("zhc-roadmap-row",`zhc-roadmap-row--color-${s}`,`zhc-roadmap-row--size-${a}`,{"zhc-roadmap-row--selected":i,[`zhc-roadmap-row--variant-${c}`]:c},d);return Ye.createElement("div",{className:u,"data-cy":"roadmap-row","data-testid":l,"data-zh-flyover":r,ref:t},Ye.createElement(ehe,null,n))})),MMe=zMe,xMe=()=>{const e=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{e?.current&&e.current.focus()}),[]),e},FMe=e=>{let{ariaLabel:t,charLimit:n,component:s="div",errorMessage:r,title:i=null,hasError:o,setHasError:a,setTitle:l,placeholderText:c=null}=e;const d=n-10,u=i&&i.length>=d,p=xMe(),m=(0,_I.default)("zhc-sidebar-input__input",{"zhc-sidebar-input--error":o});return Ye.createElement(s,{className:"zhc-sidebar-input"},Ye.createElement("input",{"data-testid":"input",className:m,type:"text",value:i||"",onChange:e=>{const t=e.target.value,s=t.length<=n?t:t.substring(0,n+1);l(s);const r=0===s.length;a(r)},placeholder:c||"","aria-label":t,maxLength:n,ref:p}),o&&Ye.createElement("div",{"data-testid":"error-message",className:"zhc-sidebar-input__error-message"},r),u&&Ye.createElement("div",{"data-testid":"char-count",className:"zhc-sidebar-input__char-count"},`${Math.max(n-i.length,0)} characters left`))},UMe=e=>{const{defaultValue:t,onCancelHandler:n,onUpdateHandler:s,title:r,updateButtonLabel:i,errorMessage:o}=e,[a,l]=(0,Ye.useState)(t),[c,d]=(0,Ye.useState)(!1);return Ye.createElement("form",{onSubmit:e=>{e.preventDefault();const t=ee.kKJ(a)?null:a.trim();if((0,_t.KN)(t))return d(!0),void l(null);s(t)},className:"zhc-sidebar-item-edit"},Ye.createElement("div",{className:"zhc-sidebar-item-edit__title zhu-font-semi"},r),Ye.createElement(FMe,{hasError:c,setHasError:d,ariaLabel:"Update Title",charLimit:100,errorMessage:o,title:a,setTitle:l}),Ye.createElement("div",{className:"zhc-sidebar-item-edit__actions"},Ye.createElement(H5,{variant:z5.TEXT,onClick:n},"Cancel"),Ye.createElement(H5,{color:L5.ACTION,ariaLabel:i,type:"submit",disabled:c},i)))};UMe.propTypes={errorMessage:SI().string.isRequired,title:SI().string.isRequired,defaultValue:SI().string,updateButtonLabel:SI().string,onCancelHandler:SI().func,onUpdateHandler:SI().func},UMe.defaultProps={defaultValue:null,updateButtonLabel:"Update",onCancelHandler:()=>{},onUpdateHandler:()=>{}};const BMe=UMe;function qMe(){return qMe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qMe.apply(this,arguments)}const HMe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--remove-epic",t].filter(Boolean).join(" "),"aria-label":"remove-epic",role:"img",...n};return Ye.createElement("svg",qMe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"remove-epic_svg__a",d:"M12.667 2.367l1.5-1.5a.684.684 0 11.966.966l-1.5 1.5 1.5 1.5a.684.684 0 11-.966.967l-1.5-1.5-1.5 1.5a.684.684 0 01-.967-.967l1.5-1.5-1.5-1.5a.684.684 0 01.967-.966zM12 8.04a.667.667 0 111.333 0v5.778a1.333 1.333 0 01-2.234.983L8 11.96 4.901 14.8a1.333 1.333 0 01-2.234-.982V2.667a2 2 0 012-2h3.349a.667.667 0 110 1.333h-3.35A.667.667 0 004 2.667v11.15l3.099-2.84a1.333 1.333 0 011.802 0L12 13.817z"}),Ye.createElement("mask",{id:"remove-epic_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#remove-epic_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#remove-epic_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#remove-epic_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function WMe(){return WMe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},WMe.apply(this,arguments)}const jMe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--calendar-blank",t].filter(Boolean).join(" "),"aria-label":"calendar-blank",role:"img",...n};return Ye.createElement("svg",WMe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"calendar-blank_svg__a",d:"M13.333 5.374V4a.667.667 0 00-.666-.667h-1.334V4A.667.667 0 1110 4v-.667H6V4a.667.667 0 01-1.333 0v-.667H3.333A.667.667 0 002.667 4v1.374zm0 1.3H2.667v6.66c0 .368.298.666.666.666h9.334a.667.667 0 00.666-.667zM6 2h4v-.667a.667.667 0 111.333 0V2h1.334a2 2 0 012 2v9.333a2 2 0 01-2 2H3.333a2 2 0 01-2-2V4a2 2 0 012-2h1.334v-.667a.667.667 0 111.333 0z"}),Ye.createElement("mask",{id:"calendar-blank_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#calendar-blank_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#calendar-blank_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#calendar-blank_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function GMe(){return GMe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GMe.apply(this,arguments)}const KMe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pencil",t].filter(Boolean).join(" "),"aria-label":"pencil",role:"img",...n};return Ye.createElement("svg",GMe({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 14 16"},s),Ye.createElement("path",{d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 011.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}))};function VMe(){return VMe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VMe.apply(this,arguments)}const $Me=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--reopen",t].filter(Boolean).join(" "),"aria-label":"reopen",role:"img",...n};return Ye.createElement("svg",VMe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"reopen_svg__a",d:"M8 1.333a.667.667 0 010 1.334 5.333 5.333 0 103.334 1.17v2.83c0 .384-.253.666-.637.666A.697.697 0 0110 6.637v-3.94c0-.385.312-.697.697-.697h3.94c.384 0 .696.312.696.697 0 .384-.312.632-.696.632l-1.878.001A6.667 6.667 0 118 1.333z"}),Ye.createElement("mask",{id:"reopen_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#reopen_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#reopen_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#reopen_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function ZMe(){return ZMe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZMe.apply(this,arguments)}const YMe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--epic-completed",t].filter(Boolean).join(" "),"aria-label":"epic-completed",role:"img",...n};return Ye.createElement("svg",ZMe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"epic-completed_svg__a",d:"M12 8.04a.667.667 0 111.333 0v5.778a1.333 1.333 0 01-2.234.983L8 11.96 4.901 14.8a1.333 1.333 0 01-2.234-.982V2.667a2 2 0 012-2h3.349a.667.667 0 110 1.333h-3.35A.667.667 0 004 2.667v11.15l3.099-2.84a1.333 1.333 0 011.802 0L12 13.817zM9.805 3.529l.862.862 2.862-2.862a.667.667 0 11.942.942l-3.333 3.334a.667.667 0 01-.943 0L8.862 4.47a.667.667 0 11.943-.942z"}),Ye.createElement("mask",{id:"epic-completed_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#epic-completed_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#epic-completed_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#epic-completed_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};n(31850);function JMe(e,t,n){return!!(n&&n.startOn&&n.endOn)&&(Lp(n.startOn,e)||((e,t)=>!Lp(e,t)&&!cc()(e).isSame(t,"day"))(n.endOn,t))}const XMe=e=>null==e?"A timeline":/[aeiou]/i.test(e[0])?`An ${e} timeline`:`A ${e} timeline`,QMe=e=>{let{anchor:t,close:n,disallowedRange:s,errorText:r,title:i,type:o,onCalendarDateSet:a,initialStartDate:l,initialEndDate:c,className:d,forcedPositions:u,isDateRangeClearable:p}=e;const[m,h]=(0,Ye.useState)(l),[E,g]=(0,Ye.useState)(c),f=((e,t,n,s,r)=>{if(Boolean(e)&&null==t)return`${XMe(n)} cannot be a start date only. Please set a start and end date`;if(Boolean(t)&&null==e)return`${XMe(n)} cannot be an end date only. Please set a start and end date`;if(JMe(e,t,s))return r})(m,E,o,s,r),_=Boolean(f),v=Boolean(m)&&Boolean(E),I=Boolean(l)&&Boolean(c),b=_||!function(e,t,n,s){return n!==e||s!==t}(m,E,l,c)||((e,t)=>Boolean(e)&&null==t||Boolean(t)&&null==e)(m,E)||!p&&null==m&&null==E,y=(0,_I.default)("zhc-calendar",d);return Ye.createElement(Ene,{close:n,className:y,anchorRef:t,modifiers:[pne,mne],forcedPositions:u},Ye.createElement(Gre,null),Ye.createElement(TDe,{title:i,onClose:n}),Ye.createElement("div",{className:"zhc-calendar__calendar-picker","data-testid":"zhc-calendar"},Ye.createElement(Eoe,{startDate:m,endDate:E,alwaysOpen:!0,onDatesChange:e=>{let{startDate:t,endDate:n}=e;h(t),g(n)}}),_&&Ye.createElement("div",{className:"zhc-calendar__error"},f)),Ye.createElement("div",{className:"zhc-calendar__footer"},p&&I&&v&&Ye.createElement(H5,{className:"zhc-calendar__footer--remove-dates",ariaLabel:"Cancel",color:L5.SECONDARY,onClick:()=>{a(null,null,eo.Scale),n()}},"Remove dates"),Ye.createElement(H5,{variant:z5.TEXT,onClick:n},"Cancel"),Ye.createElement(H5,{ariaLabel:"Set timeline",color:L5.ACTION,onClick:()=>{a(m,E,eo.Scale),n()},disabled:b},"Set timeline")))},exe={iconWrapper:"G6GNkO4_gF49emcZG02t",roadmapTitle:"ddNyGNBC41TqvqEXs2mg",roadmapTitleContainer:"dZ9uPPSEtDgIrJX0h_0k",colorDefault:"ESUxJAFfFOSAwRbfzqHM",colorSecondary:"lS2C4XGPirNL4YiWY6_p",colorTertiary:"YIsbPCc_axey7G5YCExi",colorInherit:"YfpHRC1vkejCMF6L2Y92",toolTip:"yZfh5tCH6GOa3MfnFnAF",textEllipsis:"ba1IV9_LmcNpvZFouiov",textEpic:"TqD0PGvt0n0B6ZW13712",textBold:"EJWDpDmRk4lS7MBC9Ofw",textSemi:"vsEfkLv_ToPaEAFjtVXw"};let txe,nxe;!function(e){e.REGULAR="regular",e.BOLD="bold",e.SEMI="semi"}(txe||(txe={})),function(e){e.DEFAULT="Default",e.TERTIARY="Tertiary",e.SECONDARY="Secondary",e.INHERIT="Inherit"}(nxe||(nxe={}));const sxe=e=>{let{title:t,tooltipContent:n,color:s=nxe.DEFAULT,fontWeight:r=txe.BOLD,iconComponent:i=null,clickDisabled:o,onClick:a}=e;const[l,c]=(0,Ye.useState)(!1),d=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{const e=(0,_t.Co)(d.current);c(e)}),[]);const u=`color${s}`,p=(0,_I.default)(exe.textEllipsis,exe[u],{[exe.textSemi]:r===txe.SEMI,[exe.textBold]:r===txe.BOLD,[exe.textEpic]:!o}),m=(0,_I.default)(exe.iconWrapper,exe[u]),h=l?n:"",E=e=>{o||function(e){return 2===e.button}(e)||a(e)};return Ye.createElement("div",{className:exe.roadmapTitleContainer},Ye.createElement("span",{className:m},i),Ye.createElement(H5,{className:exe.roadmapTitle,dataZhFlyover:"interactive",height:A5.FILL,noCursor:o,onAuxClick:E,onClick:E,padding:M5.NONE,variant:z5.TEXT},Ye.createElement(YI,{content:h,wrapperClassName:exe.toolTip},Ye.createElement("div",{className:p,"data-cy":"title","data-testid":"title-text",ref:d},t))))},rxe=sxe,ixe=e=>{let{startDate:t=null,endDate:n=null}=e;return Ye.createElement("div",{className:"zhc-sidebar-item-date","data-cy":"sidebar-item-date"},sm(t,n)||"No date set yet")},oxe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-options-panel__actions-section"},t)},axe=Ye.forwardRef(((e,t)=>{let{title:n=null,children:s,setIsHovering:r=_t.ZT}=e;return Ye.createElement(NSe,{buttonHeight:A5.SHORT,buttonAriaLabel:"Open option panel",customButtonClass:"zhc-options-panel",modifiers:["options__list"],onToggleOpenAndClosed:e=>{(e=>{r6(XNe,{Action:e?"Open":"Close",Location:"Roadmap"})})(e),r(e)},primaryIcon:Ye.createElement(_Se,null),ref:t,showHeaderX:!0,title:n,dataZhFlyover:"close"},s)})),lxe=()=>Ye.createElement(YI,{content:"This is a read only Epic. You must have write access to the issue's Repo"},Ye.createElement(Oae,{content:"Read only",type:"outline"})),cxe=e=>Ye.createElement(D_e,{key:e.title,title:e.title,handler:e.onClick,iconComponent:e.iconComponent}),dxe=e=>{r6(JNe,{Action:e,Location:"Roadmap"})},uxe=e=>{let{canWriteEpic:t,canWriteRoadmap:n,closeEpic:s,end:r,isSubItem:i=!1,isClosed:o=!1,onTitleClick:a,title:l,parentTitle:c,setIsEditing:d=_t.ZT,handleDateChange:u,start:p,removeEpic:m,reopenEpic:h,dragHandleProps:E,isDraggingInSidebar:g,isHoveringOnCard:f}=e;const[_,v]=(0,Ye.useState)(!1),[I,b]=(0,Ye.useState)(!1),y=(0,Ye.useRef)(null),{isOrgView:S,sortOrder:w}=HPe(),R=(0,_I.default)("zhc-sidebar-epic-display__content",{"zhc-sidebar-epic-display__content--indent":i}),T=(0,_I.default)("zhc-sidebar-epic-display",{"zhc-sidebar-epic-display--is-sub-item":i}),C=((e,t)=>{let n=e?nxe.SECONDARY:nxe.DEFAULT;return n=t?nxe.TERTIARY:n,n})(i,o),k=n&&(!S||S&&i)?[{title:`Remove ${l} from ${c}`,onClick:m,iconComponent:Ye.createElement(HMe,null)}]:[],O=[{title:"Set start and end date",iconComponent:Ye.createElement(jMe,null),onClick:e=>{e.stopPropagation(),dxe("Set Start & End Date"),b(!0),y.current?.close()}},{title:"Rename epic",iconComponent:Ye.createElement(KMe,null),onClick:()=>d(!0)}];o?O.push({title:"Reopen epic",iconComponent:$Me?Ye.createElement($Me,null):null,onClick:e=>{e.stopPropagation(),dxe("Reopen Epic"),h(),y.current?.close()}}):s&&O.push({title:"Close epic",iconComponent:Ye.createElement(YMe,null),onClick:e=>{e.stopPropagation(),dxe("Close Epic"),s(),y.current?.close()}});const N=n&&t&&(_||I),P=I&&n&&t,A=n&&!t;return Ye.createElement("div",{className:T,"data-testid":"zhc-sidebar-epic-display",onMouseLeave:()=>v(!1),onMouseOver:()=>{_||v(!0)}},Ye.createElement("div",{className:"zhc-sidebar-epic-display__drag-handle"},S?null:Ye.createElement(Uze,{dragHandleProps:E,isDraggingInSidebar:g,isHoveringOnCard:f,isSubItem:i,showIcon:"manual"===w})),Ye.createElement("div",{className:R,"data-cy":"epic-content"},Ye.createElement(rxe,{onClick:a,iconComponent:o?Ye.createElement(YMe,null):Ye.createElement(OMe,null),title:l,fontWeight:i?txe.REGULAR:txe.BOLD,color:C,tooltipContent:l}),Ye.createElement("div",{className:"zhc-sidebar-epic-display__subtitle"},Ye.createElement(ixe,{startDate:p,endDate:r}))),N&&Ye.createElement(axe,{setIsHovering:v,ref:y,title:JNe},k.map(cxe),k.length>0?Ye.createElement(oxe,null,O.map(cxe)):O.map(cxe)),P&&Ye.createElement(QMe,{anchor:y.current?.refs.button,close:()=>b(!1),title:`Set epic timeline for ${l}`,type:"Epic",onCalendarDateSet:u,initialStartDate:p,initialEndDate:r,isDateRangeClearable:!0}),A&&Ye.createElement("div",{className:"zhc-sidebar-epic-display__read-only-tag"},Ye.createElement(lxe,null)))},pxe={},mxe=bb.Ps`
  mutation renameZenhubEpic($input: UpdateZenhubEpicInput!) {
    updateZenhubEpic(input: $input) {
      zenhubEpic {
        id
        title
      }
    }
  }
`;const hxe=bb.Ps`
  mutation updateIssue($input: UpdateIssueInput!) {
    updateIssue(input: $input) {
      issue {
        id
        title
      }
    }
  }
`;function Exe(e){const[t]=(0,vK.D)(hxe),[n]=function(e){const t={...pxe,...e};return vK.D(mxe,t)}();return(0,Ye.useCallback)((s=>{"ZenhubEpic"===e.__typename?n({variables:{input:{zenhubEpicId:e.id,title:s}}}):t({variables:{input:{issueId:e.issue.id,title:s}},optimisticResponse:{__typename:"Mutation",updateIssue:{__typename:GNe,issue:{__typename:UNe,id:e.issue.id,title:s}}}})}),[e,t,n])}const gxe=e=>{let{canWriteRoadmap:t,dragHandleProps:n,epic:s,isDraggingInSidebar:r,isFirstSubItem:i=!1,isHoveringOnCard:o,isLastSubItem:a=!1,isSubItem:l=!1,parentId:c,parentTitle:d,removeEpic:u,roadmapId:p}=e;const{id:m,startOn:h,endOn:E}=s,g="Epic"===s.__typename?s.issue:null,f=cPe(s),{isItemBeingEdited:_,isOrgView:v,setItemBeingEdited:I}=HPe(),b=_(m),y=LMe(s),S=Exe(s),w=CMe(g?.id??""),R=pPe(s),T=(0,l3.v9)(Lre),C=(0,l3.v9)((e=>e.pages.modal.currentFlyoverEntityId)),k=(0,l3.v9)((e=>e.issue?.id)),O=T?C===m:k===g?.id,N=IMe(f,v),P=yMe(v),A=uPe({isFirstSubItem:i,isLastSubItem:a,isSubItem:l}),D=lPe(s);return Ye.createElement(MMe,{color:l?"primary":"default",dataZhFlyover:F?"interactive":"close",isSelected:O,modifiers:A,size:b?"large":"medium",testId:`zhc-roadmap-item-${m}--sidebar`},b?Ye.createElement(BMe,{title:"Rename this Epic",updateButtonLabel:"Save",errorMessage:"Epic title is required",defaultValue:D,onCancelHandler:()=>I(m,!1),onUpdateHandler:e=>{S(e),I(m,!1)}}):Ye.createElement(uxe,{isSubItem:l,title:D,isClosed:R,handleDateChange:(e,t)=>y(e,t),onTitleClick:e=>T?P(m,e):N(e),start:h,end:E,parentTitle:d||"roadmap",setIsEditing:e=>I(m,e),removeEpic:()=>{u?.({...s,parentId:l?c:p})},closeEpic:T?null:()=>{w(SMe.CLOSED)},reopenEpic:()=>{w(SMe.OPEN)},canWriteEpic:aPe(s),canWriteRoadmap:t,dragHandleProps:n,isDraggingInSidebar:r,isHoveringOnCard:o}))},fxe=Ye.memo(gxe,_Me());function _xe(){return _xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_xe.apply(this,arguments)}const vxe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--remove-view",t].filter(Boolean).join(" "),"aria-label":"remove-view",role:"img",...n};return Ye.createElement("svg",_xe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{d:"M2.45 1.525L14.475 13.55a.654.654 0 11-.925.925L1.525 2.45a.654.654 0 11.925-.925zM2.354 4.61l.942.943A12.342 12.342 0 001.426 8a12.342 12.342 0 001.643 2.21c1.448 1.545 3.1 2.457 4.931 2.457.7 0 1.375-.134 2.021-.385l1.017 1.014A6.944 6.944 0 018 14c-2.253 0-4.226-1.088-5.903-2.877a13.661 13.661 0 01-1.5-1.928 9.934 9.934 0 01-.527-.897.667.667 0 010-.596c.094-.188.27-.5.526-.897a13.661 13.661 0 011.758-2.194zM8 2c2.253 0 4.226 1.088 5.903 2.877a13.596 13.596 0 012.027 2.825.667.667 0 010 .596c-.094.188-.27.5-.526.897a13.661 13.661 0 01-1.501 1.928l-.258.264-.942-.941A12.342 12.342 0 0014.573 8a12.342 12.342 0 00-1.643-2.21C11.483 4.244 9.83 3.332 8 3.332c-.7 0-1.376.134-2.023.386L4.962 2.704A6.944 6.944 0 018 2zM5.36 7.62l3.02 3.02a2.667 2.667 0 01-3.02-3.02zM8 5.332a2.667 2.667 0 012.64 3.049L7.618 5.36A2.69 2.69 0 018 5.333z",id:"remove-view_svg__a"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("mask",{id:"remove-view_svg__b",fill:"currentColor"},Ye.createElement("use",{xlinkHref:"#remove-view_svg__a"})),Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#remove-view_svg__a"}),Ye.createElement("g",{mask:"url(#remove-view_svg__b)",fill:"currentColor"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function Ixe(){return Ixe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ixe.apply(this,arguments)}const bxe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--delete",t].filter(Boolean).join(" "),"aria-label":"delete",role:"img",...n};return Ye.createElement("svg",Ixe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"delete_svg__a",d:"M11.333 3.333H14a.667.667 0 010 1.334h-.667v8.666a2 2 0 01-2 2H4.667a2 2 0 01-2-2V4.667H2a.667.667 0 010-1.334h2.667v-.666a2 2 0 012-2h2.666a2 2 0 012 2zm-1.333 0v-.666A.667.667 0 009.333 2H6.667A.667.667 0 006 2.667v.666zm2 1.334H4v8.666c0 .369.298.667.667.667h6.666a.667.667 0 00.667-.667z"}),Ye.createElement("mask",{id:"delete_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#delete_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#delete_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#delete_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))};function yxe(){return yxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yxe.apply(this,arguments)}const Sxe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--roadmap-sidebar-project-completed",t].filter(Boolean).join(" "),"aria-label":"roadmap-sidebar-project-completed",role:"img",...n};return Ye.createElement("svg",yxe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"roadmap-sidebar-project-completed_svg__a",d:"M2.667 2.667V4H8V2.667zm0-1.334H8c.736 0 1.333.597 1.333 1.334V4c0 .736-.597 1.333-1.333 1.333H2.667A1.333 1.333 0 011.333 4V2.667c0-.737.597-1.334 1.334-1.334zm2.666 6v1.334h8V7.333zm0-1.333h8c.737 0 1.334.597 1.334 1.333v1.334c0 .736-.597 1.333-1.334 1.333h-8A1.333 1.333 0 014 8.667V7.333C4 6.597 4.597 6 5.333 6zm-2.666 6v1.333h2V12zm0-1.333h2C5.403 10.667 6 11.264 6 12v1.333c0 .737-.597 1.334-1.333 1.334h-2a1.333 1.333 0 01-1.334-1.334V12c0-.736.597-1.333 1.334-1.333zm8.471-8.472l.862.862L14.862.195a.667.667 0 01.943.943L12.47 4.471a.667.667 0 01-.942 0l-1.334-1.333a.667.667 0 01.943-.943z"}),Ye.createElement("mask",{id:"roadmap-sidebar-project-completed_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#roadmap-sidebar-project-completed_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#roadmap-sidebar-project-completed_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#roadmap-sidebar-project-completed_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))},{router:wxe}=LG,Rxe=(e,t)=>{const n=(0,l3.I0)(),{id:s}=e,r={workspace:(0,l3.v9)(Na),project_id:s};return e=>{const s=Dne(e);t||s||F||n(wxe.openProjectFlyover(r))}},Txe=e=>{let{isCollapsed:t,onClick:n,className:s,label:r}=e;const i=(0,_I.default)("zhc-sub-item-button",s,{"zhc-sub-item-button--collapsed":t});return Ye.createElement(H5,{ariaLabel:r,className:i,onClick:n,dataZhFlyover:"interactive"},Ye.createElement(gte,null))},Cxe=bb.Ps`
  mutation removeProjectFromRoadmap($input: RemoveProjectFromRoadmapInput!) {
    removeProjectFromRoadmap(input: $input) {
      project {
        id
      }
      roadmap {
        id
      }
    }
  }
`;const kxe=()=>Ye.createElement(YI,{content:"This is a read only Project. You must have write access to its destination Workspace to write"},Ye.createElement(Oae,{content:"Read only",type:"outline"})),Oxe=e=>{let{title:t,iconComponent:n,onClick:s}=e;return Ye.createElement(D_e,{key:t,title:t,iconComponent:n,handler:s,"data-testid":`project-action-${t}`})},Nxe=e=>{r6(XNe,{Action:e,Location:"Roadmap"})},Pxe=e=>{const{canWriteProject:t,canWriteRoadmap:n,className:s,hasChildren:r,id:i,isClosed:o,start:a,end:l,isCollapsed:c,openDeleteProjectModal:d,epics:u,setIsEditing:p,title:m,roadmapId:h,handleCloseProject:E,handleDateChange:g,handleAddEpic:f,handleCreateEpic:_,handleReopenProject:v,isProjectsFlyoverEnabled:I,dragHandleProps:b,isDraggingInSidebar:y,isHoveringOnCard:S,showPlatformRestrictedView:w}=e,{isOrgView:R,setProjectCollapse:T,workspaceId:C,sortOrder:k}=HPe(),O=Rxe({id:i},!I),N=(0,Ye.useRef)(null),[P,A]=(0,Ye.useState)(!1),[D,L]=(0,Ye.useState)(!1),z=function(e){const{sortOrder:t}=HPe(),[n]=(0,vK.D)(Cxe,{update(n,s){let{data:{removeProjectFromRoadmap:r}}=s;const{project:i}=r;WDe(n,e,i.id,t)}}),s=(0,Ye.useCallback)(((e,t)=>{n({variables:{input:{projectId:e,roadmapId:t}}})}),[n]);return s}(C),M=(0,_I.default)("zhc-sidebar-project-display__toggle",{"zhc-sidebar-project-display__toggle--is-visible":r}),x=c?"Expand Project":"Collapse Project",U=ee.jge("id",u),B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={startOn:null,endOn:null};if((0,_t.KN)(e))return t;const n=e.filter((e=>e.startOn&&e.endOn));return(0,_t.KN)(n)?t:e.reduce(((e,t)=>({startOn:!e.startOn||Lp(t.startOn,e.startOn)?t.startOn:e.startOn,endOn:!e.endOn||Lp(e.endOn,t.endOn)?t.endOn:e.endOn})))}(u),q=(0,Ye.useCallback)((()=>A(!1)),[]),H=R?[]:[{title:`Remove ${m} from roadmap`,iconComponent:Ye.createElement(vxe,null),onClick:e=>{e.stopPropagation(),Nxe("Remove Project from Workspace"),z(i,h)}}],W=[{title:"Set start and end date",iconComponent:Ye.createElement(jMe,null),onClick:e=>{e.stopPropagation(),Nxe("Set Start & End Date"),A(!0),N.current.close()}},{title:"Rename project",iconComponent:Ye.createElement(KMe,null),onClick:e=>{e.stopPropagation(),Nxe("Rename Project"),p(!0)}},{title:"Delete project",iconComponent:Ye.createElement(bxe,null),onClick:e=>{e.stopPropagation(),Nxe("Delete Project"),d(!0),N.current.close()}}];o?W.push({title:"Reopen project",iconComponent:$Me?Ye.createElement($Me,null):null,onClick:e=>{e.stopPropagation(),v(),Nxe("Reopen Project"),N.current.close()}}):W.push({title:"Mark as complete",iconComponent:Ye.createElement(f5,null),onClick:e=>{e.stopPropagation(),Nxe("Close Project"),E(),N.current.close()}});const j=n&&!t,G=n&&t&&(D||P),K=n&&t&&P;return Ye.createElement("div",{className:s||"zhc-sidebar-project-display",onMouseLeave:()=>L(!1),onMouseOver:()=>{D||L(!0)},onFocus:()=>L(!0)},Ye.createElement("div",{className:"zhc-sidebar-project-display__left-buttons-container"},Ye.createElement(Txe,{className:M,label:x,isCollapsed:c,onClick:()=>T(i,!c)}),Ye.createElement("div",{className:"zhc-sidebar-project-display__drag-handle-container"},R?null:Ye.createElement(Uze,{dragHandleProps:b,isDraggingInSidebar:y,isHoveringOnCard:S,showIcon:"manual"===k}))),Ye.createElement("div",{className:"zhc-sidebar-project-display__content","data-cy":"project-content"},Ye.createElement(rxe,{iconComponent:o?Ye.createElement(Sxe,null):Ye.createElement(VAe,null),title:m||"",fontWeight:txe.BOLD,color:o?nxe.TERTIARY:nxe.DEFAULT,tooltipContent:m,clickDisabled:!I||F,onClick:e=>I&&O(e)}),Ye.createElement("div",{className:"zhc-sidebar-project-display__subtitle"},Ye.createElement(ixe,{startDate:a,endDate:l}))),G&&Ye.createElement(OPe,null,Ye.createElement(axe,{ref:N,title:XNe},H.map(Oxe),H.length>0?Ye.createElement(oxe,null,W.map(Oxe)):W.map(Oxe)),Ye.createElement(ize,{epicIdsAlreadyAdded:U,onCreate:_,onAdd:f,showPlatformRestrictedView:w})),K&&Ye.createElement(QMe,{anchor:N.current.refs.button,close:q,title:`Set project timeline for ${m}`,type:"Project",onCalendarDateSet:(e,t)=>{g(e,t,eo.Scale)},initialStartDate:a,initialEndDate:l,disallowedRange:B,errorText:"A project timeline cannot be less than the timeline of the connected epics"}),j&&Ye.createElement("div",{className:"zhc-sidebar-project-display__read-only-tag"},Ye.createElement(kxe,null)))};Pxe.propTypes={canWriteProject:SI().bool.isRequired,canWriteRoadmap:SI().bool.isRequired,epics:SI().arrayOf(SI().shape({})).isRequired,handleAddEpic:SI().func.isRequired,handleCloseProject:SI().func.isRequired,handleCreateEpic:SI().func.isRequired,handleDateChange:SI().func.isRequired,handleReopenProject:SI().func.isRequired,hasChildren:SI().bool.isRequired,id:SI().oneOfType([SI().string,SI().number]).isRequired,isClosed:SI().bool.isRequired,isCollapsed:SI().bool.isRequired,isDraggingInSidebar:SI().bool.isRequired,isHoveringOnCard:SI().bool.isRequired,isProjectsFlyoverEnabled:SI().bool.isRequired,openDeleteProjectModal:SI().func.isRequired,roadmapId:SI().string.isRequired,setIsEditing:SI().func.isRequired,showPlatformRestrictedView:SI().bool.isRequired,title:SI().string.isRequired,className:SI().string,dragHandleProps:SI().shape({}),end:SI().oneOfType([SI().string,SI().instanceOf(Date)]),start:SI().oneOfType([SI().string,SI().instanceOf(Date)])},Pxe.defaultProps={className:null,end:null,start:null};const Axe=Pxe,Dxe=SI().shape({width:SI().number.isRequired}),Lxe=SI().oneOf(["zenhubepic","epic","project","top-level-epic"]),zxe=SI().shape({closed:SI().number.isRequired,open:SI().number.isRequired,total:SI().number.isRequired}),Mxe=SI().shape({closed:SI().number.isRequired,open:SI().number.isRequired,total:SI().number.isRequired}),xxe=SI().shape({number:SI().number.isRequired,repository:SI().shape({name:SI().string.isRequired,owner:SI().shape({login:SI().string.isRequired})})}),Fxe=SI().shape({closeAllEpics:SI().bool.isRequired,scaleDates:SI().bool.isRequired,shiftDates:SI().bool.isRequired}),Uxe=SI().shape({id:SI().string.isRequired,issue:xxe.isRequired,endOn:SI().string,startOn:SI().string}),Bxe=SI().shape({id:SI().string.isRequired,name:SI().string.isRequired,viewerAbilities:Fxe.isRequired,viewerPermission:SI().string.isRequired,endOn:SI().string,epics:SI().shape({nodes:SI().arrayOf(Uxe).isRequired}),startOn:SI().string}),qxe=e=>{let{isOpen:t,setIsOpen:n,title:s,deleteProject:r}=e;if(!t)return null;return Ye.createElement(YLe,{isOpen:t,setIsOpen:n},Ye.createElement(HLe,{title:"Delete Project",titleColor:BLe.DANGER,subtitle:Ye.createElement("div",null,"Heads up \u2014 Are you sure you want to delete"," ",Ye.createElement("span",{className:"zhu-font-bold"},s))}),Ye.createElement(jLe,null,Ye.createElement("ul",null,Ye.createElement("li",null,"All deletions are org-wide and cannot be undone."),Ye.createElement("li",null,"Epics connected to this project will be disconnected."),Ye.createElement("li",null,"Start and end dates from the connected Epics will remain on the Epics."),Ye.createElement("li",{className:"zhu-font-bold zhc-roadmap-warning-body__warning"},"The project will be deleted for all team members."))),Ye.createElement(KLe,null,Ye.createElement(H5,{variant:z5.TEXT,onClick:()=>n(!1)},"Cancel"),Ye.createElement(H5,{ariaLabel:"Confirm Project Delete",color:L5.DANGER,onClick:r,variant:z5.OUTLINED},"I understand, delete this Project")))};qxe.propTypes={deleteProject:SI().func.isRequired,isOpen:SI().bool.isRequired,setIsOpen:SI().func.isRequired,title:SI().string.isRequired};const Hxe=(0,Ye.memo)(qxe);function Wxe(){return Wxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wxe.apply(this,arguments)}const jxe=e=>{let{isOpen:t,setIsOpen:n,closeProject:s,canCloseAllEpics:r}=e;if(!t)return null;const i={ariaLabel:"Close all epics inside this project",children:"Close all epics inside this project",color:L5.PRIMARY,onClick:()=>s(!0),variant:z5.OUTLINED};let o;return o=r?Ye.createElement(H5,i):Ye.createElement(YI,{content:"You don't have permissions for some of the epics in this project",removeTooltipOnClick:!0},Ye.createElement(H5,Wxe({},i,{disabled:!0}))),Ye.createElement(YLe,{isOpen:t,setIsOpen:n},Ye.createElement(HLe,{title:"Mark project as complete",subtitle:"Heads up -- there are some epics not closed yet"}),Ye.createElement(jLe,null,Ye.createElement("ul",null,Ye.createElement("li",null,"Completed projects will be collapsed by default"),Ye.createElement("li",null,"Completed projects are still accessible on the roadmap"))),Ye.createElement(KLe,null,Ye.createElement(H5,{onClick:()=>n(!1),variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{ariaLabel:"Only mark project as complete",color:L5.SECONDARY,onClick:()=>s(!1)},"Only mark project as complete"),o))},Gxe=(0,Ye.memo)(jxe),Kxe=bb.Ps`
  mutation deleteProject($input: DeleteProjectInput!) {
    deleteProject(input: $input) {
      projectId
    }
  }
`;const Vxe=bb.Ps`
  mutation updateProjectState($input: UpdateProjectStateInput!) {
    updateProjectState(input: $input) {
      project {
        id
        state
        epics {
          nodes {
            id
            issue {
              id
              state
            }
          }
        }
      }
    }
  }
`;const $xe=bb.Ps`
  mutation updateProject($input: UpdateProjectInput!) {
    updateProject(input: $input) {
      project {
        id
        name
        description
      }
    }
  }
`;const Zxe=bb.Ps`
  mutation addEpicsToProject($input: AddEpicsToProjectInput!) {
    addEpicsToProject(input: $input) {
      previousProjects {
        id
        epics {
          nodes {
            id
          }
        }
      }
      project {
        id
        startOn
        endOn
        issueCountProgress {
          closed
          open
          total
        }
        issueEstimateProgress {
          closed
          open
          total
        }
        zenhubIssueCountProgress {
          closed
          open
          total
        }
        zenhubIssueEstimateProgress {
          closed
          open
          total
        }
      }
      epics {
        ...epicItem
      }
    }
  }
  ${$De}
`;const Yxe={},Jxe=bb.Ps`
  mutation addZenhubEpicsToProject($input: AddZenhubEpicsToProjectInput!) {
    addZenhubEpicsToProject(input: $input) {
      zenhubEpics {
        id
        project {
          id
          name
        }
      }
      project {
        id
        startOn
        endOn
      }
    }
  }
`;function Xxe(e){const t={...Yxe,...e};return vK.D(Jxe,t)}const Qxe={},eFe=bb.Ps`
  mutation updateProjectDate($input: UpdateProjectDatesInput!) {
    updateProjectDates(input: $input) {
      project {
        id
        startOn
        endOn
        name
        zenhubEpics {
          nodes {
            id
            startOn
            endOn
          }
        }
      }
    }
  }
`;const tFe=bb.Ps`
  mutation updateProjectDate($input: UpdateProjectDatesInput!) {
    updateProjectDates(input: $input) {
      project {
        id
        startOn
        endOn
        name
        epics {
          nodes {
            id
            startOn
            endOn
          }
        }
      }
    }
  }
`,nFe={onError:()=>{}};function sFe(e,t){const n=(0,l3.v9)(Lre),{onError:s}={...nFe,...t},r=t=>{const{name:n}=t.updateProjectDates.project;H.Z.removeByTypeAndTag(W.Z.ACTION_BUTTON_UPDATE,e),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(Vee,null),content:Ye.createElement("span",null,Ye.createElement("b",null,n)," has been updated"),hasBoldText:!0,expirationDelay:5e3},e)},[i]=(0,vK.D)(tFe,{onError:s,onCompleted:r}),[o]=function(e){const t={...Qxe,...e};return vK.D(eFe,t)}({onCompleted:r,onError:s}),a=n?o:i,{trigger:l,onboardingFlag:c}=hDe();return(0,Ye.useCallback)(((t,n,s)=>{a({variables:{input:{projectId:e,startOn:t,endOn:n,action:s}}}),c||l()}),[c,e,l,a])}const rFe=e=>{const{canWriteRoadmap:t,className:n,project:s,roadmapId:r,isHoveringOnCard:i,isProjectsFlyoverEnabled:o,dragHandleProps:a,isDraggingInSidebar:l,showPlatformRestrictedView:c,platformEpicsEnabled:d}=e,[u,p]=(0,Ye.useState)(!1),[m,h]=(0,Ye.useState)(!1),{isItemBeingEdited:E,isOrgView:g,isProjectCollapsed:f,setProjectCollapse:_,setItemBeingEdited:v,setProjectCreatingEpic:I,workspaceId:b}=HPe(),{id:y,name:S,description:w,startOn:R,endOn:T,epics:C,zenhubEpics:k,viewerAbilities:O,viewerPermission:N}=s,P=E(y),A=function(e){const[t]=(0,vK.D)(Vxe),n=(0,Ye.useCallback)(((n,s)=>{let{applyToEpics:r=!1}=s;t({variables:{input:{projectId:e,state:n,applyToEpics:r}}})}),[e,t]);return n}(y),D=function(e,t,n){const s=(0,l3.v9)(Lre),{dismiss:r,onboardingFlag:i}=hDe(),{sortOrder:o}=HPe(),[a]=(0,vK.D)(Zxe,{update(s,r){let{data:{addEpicsToProject:{epics:i}}}=r;const a=i.map((e=>e.id));VDe(s,e,a,n,o),UDe(s,t,i)},onError:e=>oe("Error Adding Epics to Project",e)}),[l]=Xxe({update(s,r){let{data:i}=r;const a=i?.addZenhubEpicsToProject?.zenhubEpics,l=a?.map((e=>e.id))||[];VDe(s,e,l,n,o),UDe(s,t,a)},onError:e=>oe("Error Adding Epics to Project",e)}),c=(0,Ye.useCallback)((e=>{a({variables:{input:{projectId:t,epicIds:e}}}),i||r()}),[a,r,i,t]),d=(0,Ye.useCallback)((e=>{l({variables:{input:{projectId:t,zenhubEpicIds:e}}}),i||r()}),[l,r,i,t]);return s?d:c}(b,y,g),L=sFe(y),z=function(e,t){const{sortOrder:n}=HPe(),[s]=(0,vK.D)(Kxe,{update(s,r){let{data:{deleteProject:i}}=r;const{projectId:o}=i;KDe(s,e,o,t,n)}}),r=(0,Ye.useCallback)((e=>{s({variables:{input:{projectId:e}}})}),[s]);return r}(b,g),M=function(e){const[t]=(0,vK.D)($xe);return(0,Ye.useCallback)(((n,s)=>{t({variables:{input:{projectId:e,name:n,description:s}},optimisticResponse:{__typename:"Mutation",updateProject:{__typename:jNe,project:{__typename:MNe,name:n,description:s,id:e}}}})}),[e,t])}(y),x=pPe(s),F=f(y,x),U=d?k.nodes:C.nodes,B=(0,l3.v9)((e=>e.pages.modal.currentFlyoverEntityId)),q=(0,Ye.useCallback)((e=>{M(e,w),v(y,!1)}),[M,v,y]),H=d?Boolean(k.nodes.length):Boolean(C.nodes.find((e=>e.issue?.state===String(SMe.OPEN)))),W=d?s.zenhubEpics?.nodes.length:s.epics?.nodes.length,j=(0,Ye.useCallback)((()=>{p(!1),z(y)}),[z,y]),G=(0,Ye.useCallback)((e=>{F&&_(y,!F),D(e)}),[D,y,_,F]),K=(0,Ye.useCallback)((()=>I(!0,y)),[y,I]),V=(0,Ye.useCallback)((e=>{h(!1),A(SMe.CLOSED,{applyToEpics:e}),F||_(y,!F)}),[y,F,_,A]),$=(0,Ye.useCallback)((()=>{A(SMe.OPEN,!1),F&&_(y,!F)}),[y,F,_,A]),Z=(0,Ye.useCallback)((()=>h(!0)),[]),Y=!d&&(H||!O.closeAllEpics)?Z:V,J=uPe({}),[X,Q]=(0,Ye.useState)(!1);return(0,Ye.useEffect)((()=>(setTimeout((()=>Q(y===B)),100),()=>{Q(!1)})),[B,y]),Ye.createElement(Ye.Fragment,null,Ye.createElement(Hxe,{deleteProject:j,isOpen:u,setIsOpen:p,title:S}),Ye.createElement(Gxe,{closeProject:V,isOpen:m,setIsOpen:h,canCloseAllEpics:O.closeAllEpics}),Ye.createElement(MMe,{color:"default",dataZhFlyover:"close",modifiers:J,size:P?"large":"medium",testId:`zhc-roadmap-item-${y}--sidebar`,isSelected:X},P?Ye.createElement(BMe,{title:"Rename this project",updateButtonLabel:"Save",errorMessage:"Project title is required",defaultValue:S,onCancelHandler:()=>v(y,!1),onUpdateHandler:q}):Ye.createElement(Axe,{hasChildren:Boolean(W),isClosed:x,title:S,start:R,end:T,isCollapsed:F,className:n,setIsEditing:e=>v(y,e),onCancelHandler:()=>v(y,!1),openDeleteProjectModal:p,id:y,epics:U||[],roadmapId:r,handleCloseProject:Y,handleDateChange:L,handleAddEpic:G,handleCreateEpic:K,handleReopenProject:$,canWriteProject:Qke(N),canWriteRoadmap:t,isProjectsFlyoverEnabled:o,dragHandleProps:a,isDraggingInSidebar:l,isHoveringOnCard:i,showPlatformRestrictedView:c})))};rFe.displayName="ProjectItem",rFe.propTypes={isDraggingInSidebar:SI().bool.isRequired,isHoveringOnCard:SI().bool.isRequired,isProjectsFlyoverEnabled:SI().bool.isRequired,platformEpicsEnabled:SI().bool.isRequired,project:Bxe.isRequired,roadmapId:SI().string.isRequired,showPlatformRestrictedView:SI().bool.isRequired,canWriteRoadmap:SI().bool,className:SI().string,dragHandleProps:SI().shape({})},rFe.defaultProps={canWriteRoadmap:!0,className:null};const iFe=Ye.memo(rFe,_Me()),oFe="hcq8Yjd00i5dDZlg_6HV",aFe="pLNXSjhjEIErve7apTJK";function lFe(){return lFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lFe.apply(this,arguments)}const cFe=()=>{},dFe=e=>{let{draggableProvided:t,isDroppable:n,row:s,showPlatformRestrictedView:r,roadmapId:i}=e;const o=(0,_I.default)(oFe,{[aFe]:!n});return Ye.createElement("div",lFe({},t.draggableProps,{ref:t.innerRef,className:o}),oPe(s.item)&&Ye.createElement(fxe,{canWriteRoadmap:!1,epic:s.item,isFirstSubItem:s.isFirstSubItem,isLastSubItem:s.isLastSubItem,isSubItem:!1,parentId:s.parentId,parentTitle:s.parentTitle,roadmapId:i,removeEpic:cFe,dragHandleProps:t.dragHandleProps,isDraggingInSidebar:!1,isHoveringOnCard:!0}),s.item.__typename===MNe&&Ye.createElement(iFe,{canWriteRoadmap:!1,isCollapsed:!0,isProjectsFlyoverEnabled:!1,project:s.item,roadmapId:i,dragHandleProps:t.dragHandleProps,isDraggingInSidebar:!1,isHoveringOnCard:!0,showPlatformRestrictedView:r}))},uFe=e=>{let{children:t}=e;const[n,s]=(0,Ye.useState)(!1);return Ye.createElement("div",{onMouseLeave:()=>s(!1),onMouseOver:()=>{n||s(!0)},onFocus:()=>s(!0)},t(n))};function pFe(){return pFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pFe.apply(this,arguments)}const mFe=e=>{let{canWriteRoadmap:t,defaultRepoId:n,isEmpty:s,platformEpicsEnabled:r,isProjectsFlyoverEnabled:i,roadmapId:o,roadmapItems:a=[],setNewItem:l,workspaceId:c,isDisabled:d,flatRoadmapRows:u=[],onSetHorizontalScrollLock:p,virtualizerState:m,showPlatformRestrictedView:h=!1}=e;const[E,g]=(0,Ye.useState)(!1),[f,_]=(0,Ye.useState)(!1),{positionMap:v,startIndex:I,stopIndex:b}=m,{setCollapseStateForRows:y,isProjectCollapsed:S,isOrgView:w}=HPe(),R=T7({name:"workspaces-roadmap-dnd"}),T=gMe(c,o),C=!R||w||!t,k=SRe(yRe.Roadmap),O=(0,_I.default)(vze,{[Ize]:s,[bze]:E,[yze]:f}),N=rMe(),P=lMe(c),A=function(e,t,n,s){const{sortOrder:r}=HPe(),{trigger:i}=gDe(),[o]=(0,vK.D)(cMe,{onError:e=>oe("Error Creating Project",e),onCompleted:()=>{n(null)},update(t,n){let{data:{createProjectOnRoadmap:{project:i}}}=n;GDe(t,e,[i],s,r)}});return(0,Ye.useCallback)((e=>(i(),o({variables:{input:{roadmapId:t,project:{name:e}}}}))),[o,t,i])}(c,o,l,w),D=function(e,t,n,s,r){const i=(0,l3.v9)(Lre),o=(0,l3.v9)(rF),{sortOrder:a}=HPe(),l=e=>(s(null),e?.message?.toLowerCase().includes("issues are disabled for this repo")?H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"GitHub Error - issues are disabled for this repo.",expirationDelay:5e3}):e?.message?.toLowerCase().includes("you have exceeded a secondary rate limit")?H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"GitHub Error - you have exceeded your rate limit, please try again later.",expirationDelay:5e3}):H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong during Epic creation.",expirationDelay:2e3})),c=()=>s(null),[d]=(0,vK.D)(mMe,{onError:l,onCompleted:c,update(t,n){let{data:{createEpicOnRoadmap:{epic:s}}}=n;GDe(t,e,[s],r,a)}}),[u]=pMe({onCompleted:c,onError:l,update(t,n){let{data:s}=n;const r=s?.createZenhubEpicOnRoadmap?.zenhubEpic;GDe(t,e,[r],!1,a)}}),p=(0,Ye.useCallback)((e=>(r6("Create Epic",{Location:"Roadmap"}),d({variables:{input:{roadmapId:t,epic:{issue:{labels:o,title:e,repositoryGhId:n,body:""}}}}}))),[d,n,t,o]),m=(0,Ye.useCallback)((e=>(r6("Create Epic",{Location:"Roadmap",IsPlatformEpic:!0}),u({variables:{input:{roadmapId:t??"",zenhubEpic:{title:e,body:""}}}}))),[u,t]);return i?m:p}(c,o,n,l,w);return Ye.createElement(LAe.Z5,{onBeforeCapture:()=>{p(!0),g(!0)},onDragUpdate:e=>{const t=e.destination?.index;if(null==t)return;const n=(e.source.index<t?1:0)+t;u[n]?.parentId?_(!0):f&&_(!1)},onDragEnd:e=>{p(!1),g(!1),_(!1),k("Sidebar drag ended"),null!=e.destination?.index&&o&&T(e.draggableId,u,e.destination.index,e.source.index)}},Ye.createElement("div",{className:fze,"data-cy":"roadmap-sidebar"},Ye.createElement(Tze,{arePlatformEpicsEnabled:r,canWriteRoadmap:t,color:FAe.PRIMARY,defaultRepoId:n,flatRoadmapRows:u,isDisabled:d,isEmpty:s,isOrgView:w,roadmapId:o,roadmapItems:a,setCollapseStateForRows:y,setNewItem:l,size:UAe.MEDIUM,workspaceId:c,showPlatformRestrictedView:h}),Ye.createElement(LAe.bK,{droppableId:"droppable",mode:"virtual",renderClone:(e,t,n)=>{const s=u[n.source.index];return Ye.createElement(dFe,{draggableProvided:e,isDroppable:!f,row:s,roadmapId:o,showPlatformRestrictedView:h})}},(e=>Ye.createElement("div",pFe({className:O,ref:e.innerRef},e.droppableProps),Ye.createElement("div",{className:Sze},u.map(((e,a)=>{if(a<I||a>b)return null;const{item:d,parentId:u}=e,p=Boolean(u),m=d.id===fPe;return Ye.createElement(LAe._l,{draggableId:e.item.id,isDragDisabled:C||p||m,index:a,key:d.id},(u=>Ye.createElement(HAe,{offset:-73,positionMap:v,index:a,width:"100%",dndProvided:u,isDraggingOverInvalidTarget:f},(()=>{if(d.__typename===MNe)return Ye.createElement(uFe,null,(e=>Ye.createElement(iFe,{canWriteRoadmap:t,project:d,roadmapId:o,workspaceId:c,isProjectsFlyoverEnabled:i,dragHandleProps:u.dragHandleProps,isCollapsed:S(d.id,pPe(d)),isDraggingInSidebar:E,isHoveringOnCard:!C&&e,showPlatformRestrictedView:h,platformEpicsEnabled:r})));if(oPe(d))return Ye.createElement(uFe,null,(n=>Ye.createElement(fxe,{canWriteRoadmap:t,epic:d,isFirstSubItem:e.isFirstSubItem,isLastSubItem:e.isLastSubItem,isSubItem:p,parentId:e.parentId,parentTitle:e.parentTitle,removeEpic:p?N:P,roadmapId:o,dragHandleProps:u.dragHandleProps,isDraggingInSidebar:E,isHoveringOnCard:!C&&n})));if(d.id===_Pe&&e.projectId)return Ye.createElement(SFe,{defaultRepoId:n,isOnlyRow:e.isOnlyRow,key:d.id,projectId:e.projectId,platformEpicsEnabled:r});if(m){const{typeToCreate:e}=d;return Ye.createElement(gFe,{defaultRepoId:n,errorMessage:`${e} title is required`,isEmpty:s,roadmapId:o,setNewItem:l,title:h?null:`${e} title`,typeName:e,updateButtonLabel:h?"Submit":"Save",onCancel:()=>l(null),onSave:e===MNe?A:D})}if(d.id===gPe)return Ye.createElement(qze,{dragHandleProps:u.dragHandleProps});throw new Error("Roadmap sidebar received unknown element")}))))}))))))))};function hFe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const EFe=e=>{let{errorMessage:t,onCancel:n,title:s,updateButtonLabel:r,onSave:i}=e;const[o,a]=(0,Ye.useState)(null),[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)(!1),p=function(){var e,t=(e=function*(e){if(e.preventDefault(),d)return;const t=ee.kKJ(o)?null:o.trim();if((0,_t.KN)(t))return c(!0),void a(null);u(!0),yield i(t)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){hFe(i,s,r,o,a,"next",e)}function a(e){hFe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),m=l||d;return Ye.createElement("form",{onSubmit:p,className:"zhc-sidebar-item-add","data-testid":"zhc-sidebar-item-add"},Ye.createElement("div",{className:"zhc-sidebar-item-add__title zhu-font-semi"},s),Ye.createElement(FMe,{hasError:l,setHasError:c,ariaLabel:"Set Title",charLimit:100,errorMessage:t,title:o,setTitle:a}),Ye.createElement("div",{className:"zhc-sidebar-item-add__actions"},Ye.createElement(H5,{onClick:n,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{ariaLabel:r,color:L5.ACTION,disabled:m,type:"submit"},r)))};EFe.propTypes={errorMessage:SI().string.isRequired,onCancel:SI().func.isRequired,onSave:SI().func.isRequired,title:SI().string,updateButtonLabel:SI().string},EFe.defaultProps={updateButtonLabel:"Save project",title:""};const gFe=EFe,fFe={},_Fe=bb.Ps`
  mutation createZenHubEpicOnProject($input: CreateZenhubEpicOnProjectInput!) {
    createZenhubEpicOnProject(input: $input) {
      project {
        id
      }
      zenhubEpic {
        ...zenhubEpic
      }
    }
  }
  ${mLe}
`;function vFe(e){const t={...fFe,...e};return vK.D(_Fe,t)}const IFe=bb.Ps`
  mutation createEpicOnProject($input: CreateEpicOnProjectInput!) {
    createEpicOnProject(input: $input) {
      epic {
        ...epicItem
      }
    }
  }
  ${$De}
`;function bFe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const yFe=(e,t)=>{const{dismiss:n,onboardingFlag:s}=hDe(),[r]=vFe({update(t,n){let{data:s}=n;const r=s?.createZenhubEpicOnProject?.zenhubEpic;UDe(t,e,[r])},onCompleted:()=>{t(e),r6("Create Epic",{Location:"Roadmap",IsPlatformEpic:!0}),s||n()}});return function(){var t,n=(t=function*(t){const{data:n,errors:s}=yield r({variables:{input:{projectId:e,zenhubEpic:{title:t.title,body:t?.description}}}});return s?(oe("Error Adding Epics to Project",s),H.Z.createToast(W.Z.TEXT,{text:"Something went wrong"}),null):n?.createZenhubEpicOnProject?.zenhubEpic},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){bFe(i,s,r,o,a,"next",e)}function a(e){bFe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}()},SFe=e=>{let{projectId:t,defaultRepoId:n,isOnlyRow:s,platformEpicsEnabled:r}=e;const[i,o]=(0,Ye.useState)(null),[a,l]=(0,Ye.useState)(!1),{setProjectCreatingEpic:c}=HPe(),d=function(e,t){const n=(0,l3.v9)(rF),s=(0,l3.v9)(Lre),{dismiss:r,onboardingFlag:i}=hDe(),o=e=>{oe("Error Adding Epics to Project",e),H.Z.createToast(W.Z.TEXT,{text:"Something went wrong"})},a=()=>{t(e),i||r()},[l]=(0,vK.D)(IFe,{update(t,n){let{data:{createEpicOnProject:{epic:s}}}=n;UDe(t,e,[s])},onError:o,onCompleted:a}),[c]=vFe({update(t,n){let{data:s}=n;const r=s?.createZenhubEpicOnProject?.zenhubEpic;UDe(t,e,[r])},onError:o,onCompleted:a}),d=(0,Ye.useCallback)((t=>{let{title:s,repositoryGhId:r}=t;r6("Create Epic",{Location:"Roadmap"}),l({variables:{input:{projectId:e,epic:{issue:{labels:n,title:s,repositoryGhId:r,body:""}}}}})}),[l,e,n]),u=(0,Ye.useCallback)((t=>{let{title:n}=t;c({variables:{input:{projectId:e,zenhubEpic:{title:n,body:""}}}})}),[e,c]);return s?u:d}(t,(()=>c(!1,t))),u=yFe(t,(()=>c(!1,t))),p=r?u:d,[m,h]=(0,Ye.useState)(!1),E=(0,_I.default)("zhc-sidebar-item-add-to-project",{"zhc-sidebar-item-add-to-project--is-only-row":s}),g=a||m;return Ye.createElement("form",{onSubmit:e=>{if(e.preventDefault(),m)return;const t=i?.trim();(0,_t.KN)(t)?(l(!0),o(null)):(h(!0),p({title:t,repositoryGhId:r?void 0:n}))},className:E,"data-testid":"add-epic-to-project-view"},Ye.createElement("div",{className:"zhc-sidebar-item-add-to-project__title zhu-font-semi"},"Epic title"),Ye.createElement(FMe,{hasError:a,setHasError:l,ariaLabel:"Set Title",charLimit:100,errorMessage:"Epic title is required",title:i,setTitle:o}),Ye.createElement("div",{className:"zhc-sidebar-item-add-to-project__actions"},Ye.createElement(H5,{variant:z5.TEXT,onClick:()=>c(!1,t),height:A5.SHORT},"Cancel"),Ye.createElement(H5,{color:g?L5.SECONDARY:L5.ACTION,ariaLabel:"Create Epic",type:x5.SUBMIT,disabled:g},"Create epic")))};function wFe(){return wFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wFe.apply(this,arguments)}const RFe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--sort-new",t].filter(Boolean).join(" "),"aria-label":"sort-new",role:"img",...n};return Ye.createElement("svg",wFe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 17"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.333 3.167v9.057l-1.528-1.529a.667.667 0 1 0-.943.943l2.667 2.667c.26.26.682.26.942 0l2.667-2.667a.667.667 0 1 0-.943-.943l-1.528 1.529V3.167a.667.667 0 0 0-1.334 0ZM14.667 4.5H9.333a.667.667 0 0 0 0 1.333h5.334a.667.667 0 1 0 0-1.333ZM9.333 7.833h4a.667.667 0 0 1 0 1.334h-4a.667.667 0 0 1 0-1.334ZM12 11.167H9.333a.667.667 0 1 0 0 1.333H12a.667.667 0 0 0 0-1.333Z",fill:"currentColor"}))},TFe="lwgnWQQo1aQ8fSICSkor",CFe="ZNsMnf1BHcmSgHkomAOJ",kFe="yTX7yByIQDjgpmQuuMOd",OFe="cuW4bZm4px84pQOcNrOz",NFe=e=>{switch(e){case sPe:return"Start date";case rPe:return"End date";default:return"Sort by"}},PFe=[{id:nPe,component:Ye.createElement("div",{className:OFe},"Manual ",Ye.createElement(Xpe,{content:"Default",type:"outline"}))},{id:sPe,component:Ye.createElement("div",{className:OFe},"Start date")},{id:rPe,component:Ye.createElement("div",{className:OFe},"End date")}],AFe=e=>{let{sortOrder:t,setSortOrder:n}=e;const s=t===sPe||t===rPe;return Ye.createElement(Cre,{button:Ye.createElement(H5,{color:s?L5.PRIMARY:L5.DEFAULT,variant:s?z5.OUTLINED:z5.CONTAINED,className:TFe},Ye.createElement(RFe,{className:CFe})," ",NFe(t),Ye.createElement(gte,{className:kFe})),items:PFe,headerText:"Sort by",selectedId:t,onSelectItem:e=>n(e)})};var DFe=n(34123);function LFe(){return LFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LFe.apply(this,arguments)}const zFe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--project-closed",t].filter(Boolean).join(" "),"aria-label":"project-closed",role:"img",...n};return Ye.createElement("svg",LFe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"project-closed_svg__a",d:"M2.667 2.667V4H8V2.667zm0-1.334H8c.736 0 1.333.597 1.333 1.334V4c0 .736-.597 1.333-1.333 1.333H2.667A1.333 1.333 0 011.333 4V2.667c0-.737.597-1.334 1.334-1.334zm2.666 6v1.334h8V7.333zm0-1.333h8c.737 0 1.334.597 1.334 1.333v1.334c0 .736-.597 1.333-1.334 1.333h-8A1.333 1.333 0 014 8.667V7.333C4 6.597 4.597 6 5.333 6zm-2.666 6v1.333h2V12zm0-1.333h2C5.403 10.667 6 11.264 6 12v1.333c0 .737-.597 1.334-1.333 1.334h-2a1.333 1.333 0 01-1.334-1.334V12c0-.736.597-1.333 1.334-1.333zm8.471-8.472l.862.862L14.862.195a.667.667 0 01.943.943L12.47 4.471a.667.667 0 01-.942 0l-1.334-1.333a.667.667 0 01.943-.943z"}),Ye.createElement("mask",{id:"project-closed_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#project-closed_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#project-closed_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#project-closed_svg__b)"},Ye.createElement("path",{d:"M0 0h16v16H0z"}))))},MFe=e=>{const{canShift:t,colorIndex:n,isSubItem:s,isClosed:r,hasProgress:i,children:o,isFrozen:a}=e,{statusColorsEnabled:l}=HPe(),c=l?{[`zhc-body__roadmap-item--status-${e.progressStatus}`]:l}:(0,_t.DG)("zhc-body__roadmap-item",(e=>{const t={};for(let n=1;n<=5;n+=1)t[`color-${n}`]=e===n||(e-n)%5==0;return t})(n)),d=(0,_I.default)("zhc-body__roadmap-item",{"zhc-body__roadmap-item--is-sub":s,"zhc-body__roadmap-item--has-progress":i,"zhc-body__roadmap-item--complete":r&&!s,"zhc-body__roadmap-item--complete-sub":r&&s,"zhc-body__roadmap-item--frozen":a,"zhc-body__roadmap-item--can-shift":t},c),u=(0,_I.default)("zhc-body__roadmap-item__content",{"zhc-body__roadmap-item__content--is-sub":s});return Ye.createElement("div",{"data-testid":"container",className:d},Ye.createElement("div",{className:u},o))};MFe.propTypes={children:SI().node.isRequired,colorIndex:SI().number.isRequired,progressStatus:SI().string.isRequired,canShift:SI().bool,hasProgress:SI().bool,isClosed:SI().bool,isFrozen:SI().bool,isSubItem:SI().bool},MFe.defaultProps={canShift:!0,isFrozen:!1,isSubItem:!1,isClosed:!1,hasProgress:!1};const xFe="zhc-roadmap-progress-number",FFe=`${xFe}__faded-section`,UFe=e=>{let{progressFormat:t,closed:n,total:s,isInline:r,showDash:i}=e;const o=(0,_I.default)(xFe,{[`${xFe}--inline`]:r}),a=(0,_t.DU)(n,s),l=(VNe[t]?.unit||VNe.ISSUE_COUNT.unit).toLowerCase(),c=(0,_t.fB)(`${l}`,`${l}s`);return Ye.createElement("div",{"data-testid":"progressNumber",className:o},Ye.createElement("span",{onMouseDown:e=>e.stopPropagation(),className:"zhc-roadmap-progress-number__tooltip"},Ye.createElement(YI,{dataTestId:"zh-tooltip-percentage-text",content:`${a}% - ${n} of ${s} ${c(s)} completed`},i&&Ye.createElement(Ye.Fragment,null,"\xa0-\xa0"),((e,t,n,s)=>{switch(s){case VNe.ISSUE_COUNT.key:return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,t),Ye.createElement("span",{className:FFe},"/",e));case VNe.STORY_POINT_COUNT.key:return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,t),Ye.createElement("span",{className:FFe},"/",e," SP"));case VNe.ISSUE_PERCENT.key:return Ye.createElement("span",null,n,"%");case VNe.STORY_POINT_PERCENT.key:return Ye.createElement("span",null,n,"% SP");default:return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,t),Ye.createElement("span",{className:FFe},"/",e))}})(s,n,a,t))))};UFe.propTypes={closed:SI().number.isRequired,progressFormat:SI().string.isRequired,showDash:SI().bool.isRequired,total:SI().number.isRequired,isInline:SI().bool},UFe.defaultProps={isInline:!1};const BFe=e=>{let{afterContent:t,children:n,icon:s,type:r,assignees:i}=e;const o=(0,_I.default)("zhc-roadmap-item-title__text",`zhc-roadmap-item-title__text--${r}`);return Ye.createElement("div",{className:"zhc-roadmap-item-title"},s,i,Ye.createElement("div",{className:o},n),t)};BFe.propTypes={children:SI().node.isRequired,type:Lxe.isRequired,afterContent:SI().node,assignees:SI().node,icon:SI().node},BFe.defaultProps={afterContent:null,icon:null};const qFe=e=>{let{issueCountProgress:t,issueEstimateProgress:n}=e;const{progressFormat:s}=HPe(),r=s===VNe.ISSUE_COUNT.key||s===VNe.ISSUE_PERCENT.key?t:n;return Ye.createElement("div",{className:"zhc-roadmap-progress",style:{"--progress-percentage":`${Math.round(r.closed/r.total*100)}%`},"data-testid":"progress"},Ye.createElement("div",{className:"zhc-roadmap-progress__bar"},Ye.createElement("div",{className:"zhc-roadmap-progress__bar__progress"})))};qFe.propTypes={issueCountProgress:zxe,issueEstimateProgress:Mxe};const HFe=e=>{let{itemRenderer:t,items:n,threshold:s}=e;const r=n.length>s+1?n.slice(0,s):n,i=n.length-r.length;return Ye.createElement("div",{className:"tooltip-items"},r.map(((e,n)=>Ye.createElement("p",{className:"tooltip-items__item",key:`trunc-item-${e.id}`},t(e,n)))),i?Ye.createElement("p",{className:"tooltip-items__truncation-text"},"and ",i," more..."):null)},WFe="iTT7DwETh4NE6WXo8Q6Y",jFe="olsuqFovfn5vpPnKMCVX",GFe="ipKGAl_jYCD1OsVBF21V",KFe="lJGiCV2_DwLckXfoP1I7",VFe="OQ6kTj6QcDvVHLTJgRfV",$Fe="oQ1Mez5dRtoemH1MnDVA",ZFe=e=>{let{isOverflow:t=!1,assignees:n,children:s}=e;const r=(0,_I.default)(VFe,{[$Fe]:t});return Ye.createElement(YI,{wrapperClassName:r,dataTestId:"zh-roadmap-assignees-tooltip",content:Ye.createElement(HFe,{items:n,itemRenderer:e=>e?.login,threshold:10}),position:jI.BOTTOM},s)},YFe=e=>{let{assignees:t}=e;return Ye.createElement(ZFe,{isOverflow:!0,assignees:t},Ye.createElement("div",{className:KFe},`+${t.length}`))},JFe=e=>{let{assignee:t}=e;const n=t.avatarUrl?Ye.createElement("img",{draggable:!1,"data-testid":"zh-reviewer-avatar",className:GFe,src:t.avatarUrl,alt:`Assigned to ${t.name||t.login}`}):Ye.createElement(jpe,{className:GFe,url:null,size:20});return Ye.createElement(ZFe,{assignees:[t]},Ye.createElement("div",{className:jFe},n))},XFe=e=>{let{assignees:t=[]}=e;const n=d$(t,(e=>e.id));return n.length<=3?Ye.createElement("div",{className:WFe},n.map((e=>Ye.createElement(JFe,{key:e.id,assignee:e})))):Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:WFe},n.slice(0,3).map((e=>Ye.createElement(JFe,{key:e.login,assignee:e})))),Ye.createElement(YFe,{assignees:t.slice(3,t.length)}))},QFe=e=>{let{isSubItem:t,width:n,predictedEndDate:s,setIsResizeHandleHoverDisabled:r}=e;const i=n,o=(0,_I.default)("zhc-roadmap-item-predicted-end-date",{"zhc-roadmap-item-predicted-end-date--item":!t,"zhc-roadmap-item-predicted-end-date--subitem":t});return Ye.createElement("div",{className:o,style:{width:`${i}px`},"data-testid":"predicted-end-date-box"},Ye.createElement("span",{className:"zhc-roadmap-predicted-end-date-clock-icon__wrapper",onMouseDown:e=>e.stopPropagation(),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),"data-testid":"predicted-end-date-box-tooltip"},Ye.createElement(YI,{content:`Predicted end date: ${qp(s)}`,position:jI.TOP},Ye.createElement(aAe,{className:"zhc-roadmap-predicted-end-date-clock-icon"}))))};function eUe(e,t,n){const s=KNe[n],r=Cp(e,t,s.granularity)*s.segmentPixelSize;return Number.isNaN(r)?0:r}function tUe(e,t,n){const s=KNe[t],r=((e,t,n)=>{const s=cc().utc(e).startOf("day").format();return cc().utc(s).add(n,t)})(Qp(n),s.granularity,e/s.segmentPixelSize);return yp(r.toDate())}function nUe(e,t,n,s){return{start:eUe(s,e,n),end:eUe(s,t,n)}}function sUe(e,t,n){return eUe(e,t,n)}function rUe(e,t,n,s){if(0===e.epics.nodes.length)return null;const r=function(e,t,n){return e.filter((e=>e.startOn&&e.endOn)).reduce(((e,s)=>{const{start:r,end:i}=nUe(s.startOn,s.endOn,t,n);return{start:null===e.start||r<e.start?r:e.start,end:null===e.end||i>e.end?i:e.end}}),{start:null,end:null})}(e.epics.nodes,t,s);if(!r.start&&!r.end)return null;const i=nUe(e.startOn,e.endOn,t,s);if(i.start>r.start&&i.end<r.end)return r.end-r.start;switch(n){case $Ne.LEFT:return i.end-r.start;case $Ne.RIGHT:return r.end-i.start;default:return r.end-r.start}}const iUe=(e,t)=>Math.round(e/t)*t,oUe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=e-(t?.getBoundingClientRect()?.left||0);const r=iUe(s,n),i=0;return s=0===i||Math.abs(r-s)<=i?r:s,s};function aUe(){return aUe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aUe.apply(this,arguments)}const lUe=e=>{let{colorIndex:t,isFrozen:n,issue:s,isSubItem:r,issueCountProgress:i,issueEstimateProgress:o,position:a,title:l,setIsResizeHandleHoverDisabled:c,startOn:d,endOn:u,progressStatus:p,predictedEndDate:m,showAvatars:h=!0}=e;const{progressFormat:E,timescaleKey:g,isPredictedEndDateActive:f}=HPe(),{width:_}=a,v=_<150,I=E===VNe.ISSUE_COUNT.key||E===VNe.ISSUE_PERCENT.key,b=I?Boolean(i):Boolean(o),y=I?i:o,S=Boolean(s?.assignees?.totalCount),w=Boolean(b&&y.closed>0&&y.closed/y.total<1&&Tp(u,m)>3),R=b?sUe(d,m,g):null,T="CLOSED"===s?.state,C=f&&!T&&b&&w,k=!T&&b?Ye.createElement(UFe,aUe({progressFormat:E,isInline:!0,showDash:v},y)):null,O=S?Ye.createElement(XFe,{assignees:s.assignees.nodes}):Ye.createElement(jpe,{className:"zhc-roadmap-item-title__avatar-icon",draggable:!1,dataTestId:"zh-empty-avatar-icon",size:20,url:null}),N=!T&&b;return Ye.createElement(MFe,{canShift:!n,colorIndex:t,isClosed:T,isFrozen:n,isSubItem:r,position:a,progressStatus:p},Ye.createElement(BFe,{afterContent:k,type:r?"epic":"top-level-epic",assignees:h?O:null},l," ",T&&"- Closed"),N&&Ye.createElement(qFe,{issueCountProgress:i,issueEstimateProgress:o}),C&&Ye.createElement(QFe,{isSubItem:r,width:R,predictedEndDate:m,setIsResizeHandleHoverDisabled:c}))};lUe.propTypes={colorIndex:SI().number.isRequired,isFrozen:SI().bool.isRequired,position:Dxe.isRequired,progressStatus:SI().string.isRequired,setIsResizeHandleHoverDisabled:SI().func.isRequired,title:SI().string.isRequired,viewerPermission:SI().string.isRequired,endOn:SI().string,isSubItem:SI().bool,issue:SI().shape({state:SI().string.isRequired,assignees:SI().shape({nodes:SI().arrayOf(SI().shape({avatarUrl:SI().string.isRequired,login:SI().string.isRequired,name:SI().string})),totalCount:SI().number})}),issueCountProgress:zxe,issueEstimateProgress:Mxe,predictedEndDate:SI().instanceOf(Date),showAvatars:SI().bool,startOn:SI().string},lUe.defaultProps={endOn:SI().string,issueEstimateProgress:null,isSubItem:!1,issueCountProgress:null,predictedEndDate:null,startOn:null};const cUe=e=>{let{colorIndex:t,isFrozen:n,issueCountProgress:s,issueEstimateProgress:r,name:i,position:o,state:a,viewerAbilities:l,progressStatus:c,progressMessage:d}=e;const{progressFormat:u}=HPe(),{width:p}=o,m=p<=150,h=u===VNe.ISSUE_COUNT.key||u===VNe.ISSUE_PERCENT.key,E=h?Boolean(s):Boolean(r),g=h?s:r,f="CLOSED"===a,_=Boolean(l.shiftDates),v=!f,I=v?Ye.createElement(Ye.Fragment,null,d?Ye.createElement("span",{className:"zhc-roadmap-item-title__no-epics-string"},d):null,E?Ye.createElement(UFe,aUe({progressFormat:u,isInline:!0},g,{showDash:m})):null):null,b=_?null:Ye.createElement(YI,{modifiers:["text-center","size-small"],content:"You don\u2019t have permissions for some of the Epics in this Project."},Ye.createElement(Xse,{className:"zhc-roadmap-item-title__after-content-icon"})),y=Ye.createElement("div",{className:"zhc-roadmap-item-title__after_content"},I,Ye.createElement("div",{className:"zhc-roadmap-item-title__after_content--align-right"},b));let S=_?Ye.createElement(Vee,null):Ye.createElement(Xse,null);f&&(S=Ye.createElement(zFe,null));const w=E&&v;return Ye.createElement(MFe,{canShift:_,colorIndex:t,isClosed:f,isEpic:!1,isFrozen:n,position:o,progressStatus:c,type:"project"},Ye.createElement(BFe,{afterContent:y,icon:S,type:"project"},i," ",f&&"- Completed"),w&&Ye.createElement(qFe,{issueCountProgress:s,issueEstimateProgress:r}))};function dUe(){return dUe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dUe.apply(this,arguments)}cUe.propTypes={colorIndex:SI().number.isRequired,isFrozen:SI().bool.isRequired,name:SI().string.isRequired,position:Dxe.isRequired,progressStatus:SI().string.isRequired,state:SI().string.isRequired,viewerAbilities:SI().shape({shiftDates:SI().bool.isRequired}).isRequired,endOn:SI().string,issueCountProgress:zxe,issueEstimateProgress:Mxe,progressMessage:SI().string,startOn:SI().string},cUe.defaultProps={issueCountProgress:null,issueEstimateProgress:null,endOn:null,startOn:null};const uUe=[{component:cUe,condition:e=>{let{type:t}=e;return"project"===t}},{component:lUe,condition:e=>{let{type:t}=e;return"epic"===t||"zenhubepic"===t}}];const pUe=e=>{let{type:t,viewerPermission:n=Jke.WRITE,...s}=e;const r=(i={type:t,viewerPermission:n},uUe.find((e=>e.condition(i)))?.component);var i;return Ye.createElement(r,dUe({type:t,viewerPermission:n},s))},mUe=Ye.forwardRef(((e,t)=>{let{handleMouseMove:n,handleMouseUp:s,width:r,start:i,isSubItem:o}=e;(0,Ye.useEffect)((()=>(window.addEventListener("mousemove",n),window.addEventListener("mouseleave",s),window.addEventListener("mouseup",s),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseleave",s),window.removeEventListener("mouseup",s)})),[n,s]);const a=(0,_I.default)("zhc-roadmap-temp-project__item",{"zhc-roadmap-temp-project__item--is-sub-item":o});return Ye.createElement("div",{"data-testid":"temp-roadmap-item",ref:t,style:{width:`${r}px`,left:i},className:a})}));mUe.propTypes={handleMouseMove:SI().func.isRequired,handleMouseUp:SI().func.isRequired,isSubItem:SI().bool.isRequired,start:SI().number.isRequired,width:SI().number.isRequired};const hUe=mUe,EUe=e=>{let{start:t,end:n,position:s}=e;const r=t===n?Hp(t):`${Hp(t)} - ${Hp(n)}`;return Ye.createElement("div",{className:"zhc-date-preview",style:{left:s},"date-testid":"date-preview"},r)};EUe.propTypes={end:SI().oneOfType([SI().string,SI().instanceOf(Date)]).isRequired,position:SI().number.isRequired,start:SI().oneOfType([SI().string,SI().instanceOf(Date)]).isRequired};const gUe=function(e,t){const n={start:t.startOn,end:t.endOn,position:0,isVisible:!1},[s,r]=(0,Ye.useReducer)((function(t,n){const{start:s,end:r,position:i,isVisible:o}=n.payload;return e.current.style.zIndex=o?1:0,"update"===n.type?{...t,isVisible:o,start:s,end:r,position:i}:t}),n);return[e=>{r({type:"update",payload:e})},s.isVisible?Ye.createElement(EUe,{start:s.start,end:s.end,position:s.position}):null]},fUe=gUe;const _Ue=60,vUe=25,IUe=e=>{let{id:t,type:n,title:s,timescaleKey:r,snapToSize:i,startOfScale:o,isFrozen:a,isSubItem:l}=e;const c=sFe(t),d=LMe({id:t,__typename:n}),u=n===MNe?c:(e,t)=>d(e,t),{start:p,width:m,isEditing:h,handleMouseUp:E,handleMouseDown:g,handleMouseMove:f,tempItemRef:_,wrapperRef:v,previewComponent:I}=((e,t,n,s)=>{const[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)(0),[l,c]=(0,Ye.useState)(0),d=(0,Ye.useRef)(null),u=(0,Ye.useRef)(null),[p,m]=fUe(u,{}),{dismiss:h,isDisplayed:E}=gDe();return{start:l,width:o,isEditing:r,handleMouseUp:r=>{const o=oUe(r.pageX,d.current,e),a=tUe(l,t,n),c=tUe(l+o,t,n),u=a<=c?c:a;a!==u&&s(a,u,eo.Scale),E&&h(),i(!1)},handleMouseDown:e=>{if(2===e.button)return;const s=e.clientX-(u.current.getBoundingClientRect().x||0),r=tUe(s,t,n);i(!0),p({start:r,end:r,position:s-vUe,isVisible:!0}),c(s)},handleMouseMove:s=>{const r=oUe(s.pageX,d.current,e),i=tUe(l,t,n),o=tUe(l+r,t,n);i<=o&&p({start:i,end:o,position:l+r-(i===o?vUe:_Ue),isVisible:!0}),a(r)},tempItemRef:d,wrapperRef:u,previewComponent:m}})(i,r,o,u),[b,y]=(0,Ye.useState)(!1),S=(0,Ye.useRef)();if(a)return null;const w=(0,_I.default)("zhc-roadmap-temp-project-overlay",{"zhc-roadmap-temp-project-overlay--is-sub-item":l});return Ye.createElement("div",{ref:v,className:"zhc-roadmap-temp-project","data-testid":"roadmap-track-wrapper",onMouseDown:e=>{b||e.target===S.current||g(e)}},h?Ye.createElement(Ye.Fragment,null,Ye.createElement(hUe,{handleMouseUp:E,handleMouseMove:f,start:p,ref:_,width:m,isSubItem:l}),I):Ye.createElement("div",{"data-testid":"roadmap-track-overlay",className:w},"Click and drag to set start and end date or"," ",Ye.createElement(H5,{ariaLabel:"Select dates from calendar",ref:S,variant:z5.TEXT,color:L5.PRIMARY,onClick:()=>y(!0),className:"zhc-roadmap-temp-project-overlay__calendar-button"},"select dates from calendar")),b&&Ye.createElement(QMe,{anchor:S,close:()=>y(!1),title:`Set ${n} timeline for ${s}`,type:n,onCalendarDateSet:u}))};IUe.defaultProps={isFrozen:!1};const bUe=IUe,yUe=e=>{let{direction:t,resizeDirection:n,disabled:s}=e;return Ye.createElement("div",{className:(0,_I.default)("zhc-roadmap-track__drag-handle",{"zhc-roadmap-track__drag-handle--left":t===$Ne.LEFT,"zhc-roadmap-track__drag-handle--right":t===$Ne.RIGHT,"zhc-roadmap-track__drag-handle--has-background":n===t,"zhc-roadmap-track__drag-handle__disabled":s})},t===$Ne.LEFT?Ye.createElement(gte,{style:{transform:"rotate(90deg)"}}):Ye.createElement(gte,{style:{transform:"rotate(-90deg)"}}))};yUe.propTypes={direction:SI().oneOf(Object.values($Ne)).isRequired,disabled:SI().bool,resizeDirection:SI().oneOf(Object.values($Ne))},yUe.defaultProps={disabled:!1,resizeDirection:null};const SUe=yUe,wUe=e=>{let{children:t,style:n,isSubItem:s}=e;const r={position:"relative",height:s?38:52,...n};return Ye.createElement("div",{style:r},t)};wUe.propTypes={children:SI().node.isRequired,isSubItem:SI().bool.isRequired,style:SI().object},wUe.defaultProps={style:{}};const RUe=wUe;function TUe(e,t,n){const[s,r]=(0,Ye.useState)(null);return{setResizeDirection:r,minimumWidth:(0,Ye.useMemo)((()=>function(e,t,n,s){let r=null;return e.__typename===MNe&&(r=rUe(e,t,n,s)),null===r?KNe[t].segmentPixelSize:r}(e,t,s,n)),[e,t,s,n]),resizeDirection:s}}function CUe(){return CUe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},CUe.apply(this,arguments)}const kUe=e=>{let{canResize:t,canShift:n,children:s,handleClick:r,handleUpdate:i,isResizeHandleHoverDisabled:o,isScrolling:a,isSubItem:l,minimumWidth:c,position:d,resizeDirection:u,setPosition:p,setResizeDirection:m,setWidth:h,startOfScale:E,timescale:g,timescaleKey:f,updatePreview:_,width:v}=e;const I=function(){const e={isResizing:!1,isDragging:!1,previewWidth:0},[t,n]=(0,Ye.useReducer)((function(t,n){let{type:s,...r}=n;switch(s){case"setPreviewWidth":return{...t,previewWidth:r.previewWidth};case"isDragging":return{...t,isDragging:!0,previewWidth:r.previewWidth};case"isResizing":return{...t,isResizing:!0,previewWidth:r.previewWidth};case"resetState":return{...e};default:throw new Error}}),e);return{...t,resetState:()=>n({type:"resetState"}),setPreviewWidth:e=>n({type:"setPreviewWidth",previewWidth:e}),setIsResizing:e=>n({type:"isResizing",previewWidth:e}),setIsDragging:e=>n({type:"isDragging",previewWidth:e})}}(),[b,y]=(0,Ye.useState)(!0),[S,w]=(0,Ye.useState)(!1),R=v<=52,T=(0,_I.default)("zhc-roadmap-track",{"zhc-roadmap-track--expandable":R&&!I.isResizing,"zhc-roadmap-track--wide-handles":I.previewWidth<=32&&(I.isResizing||I.isDragging),"zhc-roadmap-track--is-resizing":I.isResizing,"zhc-roadmap-track--locked":!t,"zhc-roadmap-track--is-sub-item":l});return(0,Ye.useEffect)((()=>{b&&!a&&y(!1)}),[b,a]),b?Ye.createElement("div",{style:{position:"absolute",left:d.x,top:d.y,width:v}},s):Ye.createElement(DFe.s,{className:T,"data-zh-flyover":"interactive",disableDragging:!n,dragAxis:"x",bounds:"parent",enableResizing:{top:!1,right:t,bottom:!1,left:t,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},size:{width:v,height:l?38:52},position:d,dragGrid:[g.segmentPixelSize,1],resizeGrid:[g.segmentPixelSize,1],onDragStart:()=>{I.setIsDragging(v)},onDrag:(e,t)=>{if(w(!0),t.lastX===t.x)return;const n=tUe(t.x,f,E),s=tUe(t.x+t.node.offsetWidth,f,E),r=t.node.getBoundingClientRect().left;_({start:n,end:s,position:e.clientX-r-60,isVisible:!0})},onMouseDown:e=>{1===e.button&&r(e)},onDragStop:(e,t)=>{S||r(e),w(!1),0!==t.deltaX&&(I.resetState(),p(t),i(t,v,eo.Shift),_({isVisible:!1}))},minWidth:c,onResizeStart:()=>{I.setPreviewWidth(v)},onResize:(e,t,n,s,r)=>{if(I.previewWidth===n.offsetWidth)return;const i=t===$Ne.LEFT?-40:n.offsetWidth-60;m(t);let{offsetWidth:o}=n;if(R&&t===$Ne.LEFT){const e=d.x-r.x;o=v+e}const a=tUe(r.x,f,E),l=tUe(r.x+o,f,E);I.setIsResizing(r.x+n.offsetWidth-r.x),_({start:a,end:l,position:i,isVisible:!0})},onResizeStop:(e,t,n,s,r)=>{if(I.resetState(),0!==s.width){t===$Ne.LEFT&&R||h(n.offsetWidth),p(r);let e=n.offsetWidth;if(R&&t===$Ne.LEFT){const t=d.x-r.x;e=v+t}i(r,e,eo.Scale),m(null)}_({isVisible:!1})},resizeHandleStyles:{right:{cursor:"e-resize"},left:{cursor:"w-resize"}},resizeHandleComponent:{left:Ye.createElement(SUe,{direction:$Ne.LEFT,resizeDirection:u,disabled:o}),right:Ye.createElement(SUe,{direction:$Ne.RIGHT,disabled:o,resizeDirection:u})}},s)};kUe.defaultProps={resizeDirection:null};const OUe=function(e){let{canWriteRoadmap:t,colorIndex:n,isFirstSubItem:s,isLastSubItem:r,isOrgView:i,isScrolling:o,isSubItem:a,item:l,predictedEndDate:c,progressStatus:d,startOfScale:u,timescaleKey:p}=e;const m=l.__typename===MNe,h=KNe[p],[E,g]=(0,Ye.useState)(!1),f=(0,Ye.useRef)(null),_=(0,l3.v9)(Lre),[v,I]=fUe(f,l),{width:b,setWidth:y,position:S,setPosition:w}=function(e,t,n){const[s,r]=(0,Ye.useState)(0),[i,o]=(0,Ye.useState)({x:0,y:0}),{startOn:a,endOn:l,id:c}=e;return(0,Ye.useEffect)((()=>{const{start:e}=nUe(a,l,t,n);o({x:e,y:0})}),[t,c,a,l,n]),(0,Ye.useEffect)((()=>{r(sUe(a,l,t))}),[t,c,a,l]),{width:s,setWidth:r,position:i,setPosition:o}}(l,p,u),{minimumWidth:R,resizeDirection:T,setResizeDirection:C}=TUe({...l,epics:_?l.zenhubEpics:l.epics},p,u),k=(0,Ye.useCallback)((()=>{const e=eUe(u,l.startOn,p);w({x:e,y:0}),y(sUe(l.startOn,l.endOn,p))}),[u,l,p,w,y]),O=sFe(l.id,{onError:k}),N=LMe(l,{onError:k}),P=uPe({isFirstSubItem:s,isLastSubItem:r,isSubItem:a});pPe(l)&&!a&&P.push("striped");const A=m?l.epics.nodes:[],D=((e,t)=>!!t&&(oPe(e)?aPe(e):e.viewerAbilities.scaleDates))(l,t),L=((e,t)=>!!t&&(oPe(e)?aPe(e):e.viewerAbilities.shiftDates))(l,t),z=!D&&!L,M=m?{}:cPe(l),x=IMe(M,i),F=yMe(),U=(0,l3.v9)(Dre),B=(0,l3.v9)(Ou),q=!m||B||A.length?"":" \u2013 No epics yet",H=Rxe({id:l.id},!U);return Ye.createElement(MMe,{color:a?"primary":"default",modifiers:P,variant:"body",testId:`zhc-roadmap-item-${l.id}--track`,size:l.isEditMode?"large":"medium",ref:f},l.endOn||l.startOn?Ye.createElement(RUe,{isSubItem:a,style:{"--min-item-size":"52px"}},Ye.createElement(kUe,{handleUpdate:(e,t,n)=>{const s=tUe(e.x,p,u),r=tUe(e.x+t,p,u);em(l.startOn,Qp(s))&&em(l.endOn,Qp(r))||(m?O(s,r,n):N(s,r))},handleClick:e=>{m?H(e):_?F(l.id,e):x(e)},canResize:D,canShift:L,isResizeHandleHoverDisabled:E,isScrolling:o,isSubItem:a,minimumWidth:R,position:S,resizeDirection:T,setPosition:w,setResizeDirection:C,setWidth:y,startOfScale:u,timescale:h,timescaleKey:p,updatePreview:v,width:b},I,Ye.createElement(pUe,CUe({},l,{canWriteRoadmap:t,colorIndex:n,epics:A,isFrozen:z,isSubItem:a,position:{width:b},title:mPe(l),type:l.__typename.toLowerCase(),setIsResizeHandleHoverDisabled:g,showAvatars:!_,progressMessage:q,progressStatus:d,predictedEndDate:c})))):Ye.createElement(bUe,{title:mPe(l),id:l.id,timescaleKey:p,snapToSize:h.segmentPixelSize,type:l.__typename,startOfScale:u,isFrozen:z,isSubItem:a}))};OUe.defaultProps={isFirstSubItem:!1,isLastSubItem:!1,predictedEndDate:null};const NUe=Ye.memo(OUe,((e,t)=>{const n=e.isScrolling&&!t.isScrolling;return _Me()(ee.anz("isScrolling",e),ee.anz("isScrolling",t))&&!n}));class PUe extends Ye.PureComponent{render(){const{breakpoint:e,spinnerModifiers:t,backgroundModifiers:n}=this.props;return Ye.createElement(Y8.Z,{query:{maxWidth:e-1}},(e=>e?Ye.createElement(Wfe,{backgroundModifiers:n}):Ye.createElement(Wfe,{spinnerModifiers:t,backgroundModifiers:n})))}}PUe.propTypes={backgroundModifiers:SI().arrayOf(SI().string),breakpoint:SI().number,spinnerModifiers:SI().arrayOf(SI().string)},PUe.defaultProps={breakpoint:bme.mediaBreakpoints.md,spinnerModifiers:["large"]};const AUe=PUe,DUe="BPYAkvBp97YgtGrjhzI0",LUe="QbYj9yaZ8JstABEOLESQ",zUe="BaNNa_deikYdW8VHd5T6",MUe="kfQEicHrSmONUo9hjHns",xUe="hj3MBPP4tllVKQQiMB5U",FUe="ZpNA5EAdsov1PLODu0Sb",UUe=()=>Ye.createElement("div",{className:`${MUe} ${xUe}`}),BUe=()=>Ye.createElement("div",{className:`${MUe} ${FUe}`}),qUe=()=>Ye.createElement(Ye.Fragment,null,Ye.createElement(UUe,null),Ye.createElement(BUe,null),Ye.createElement(UUe,null),Ye.createElement(BUe,null),Ye.createElement(UUe,null)),HUe=()=>Ye.createElement("div",{className:DUe},Ye.createElement("div",{className:LUe},Ye.createElement(qUe,null)),Ye.createElement("div",{className:zUe},Ye.createElement(AUe,null)));const WUe=bb.Ps`
  fragment roadmapItem on RoadmapItem {
    ... on Epic {
      id
      ...epicItem
    }
    ... on Project {
      ...projectItem
    }
    ... on ZenhubEpic {
      ...zhEpicItem
    }
  }
  ${$De}
  ${YDe}
  ${ZDe}
`,jUe=bb.Ps`
  query getOrgRoadmap($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      defaultRepository {
        id
        ghId
        owner {
          id
          login
          roadmapItems {
            nodes {
              ...roadmapItem
            }
          }
        }
      }
      roadmap {
        id
        viewerPermission
      }
    }
  }
  ${WUe}
`;const GUe=bb.Ps`
  query getRoadmapForWorkspace($workspaceId: ID!, $order: RoadmapItemOrderInput) {
    workspace(id: $workspaceId) {
      id
      defaultRepository {
        id
        ghId
        owner {
          id
          login
        }
      }
      roadmap {
        id
        viewerPermission
        items(order: $order) {
          nodes {
            ...roadmapItem
          }
        }
      }
    }
  }
  ${WUe}
`;bb.Ps`
  query getSingleRoadmapItem($projectId: ID!) {
    node(id: $projectId) {
      ... on Project {
        id
        closedAt
        createdAt
        creator {
          id
          name
          githubUser {
            login
          }
        }
        ...roadmapItem
      }
    }
  }
  ${WUe}
`;const KUe=(e,t)=>t?e?.workspace?.defaultRepository?.owner?.roadmapItems?.nodes||[]:e?.workspace?.roadmap?.items?.nodes||[],VUe=(e,t)=>t?ee.ghH(["workspace","defaultRepository","owner","roadmapItems"],e):ee.ghH(["workspace","roadmap","items"],e),$Ue=e=>{const t=bye(e),n={fetchPolicy:"network-only",nextFetchPolicy:"cache-first"};return t&&t!==e&&(n.nextFetchPolicy="network-only"),n};function ZUe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const s=(0,l3.v9)(Lre),r=$Ue(t),i=t?jUe:GUe,o=!t&&n,a=o?qDe(n):void 0,{data:l,loading:c,error:d}=(0,cy.a)(i,{variables:{workspaceId:e,order:a},...r});let u=null;if(!c&&!d){const e=e=>s?"Epic"!==e.__typename:"ZenhubEpic"!==e.__typename;u={roadmapItems:KUe(l,t).filter(e).map((t=>"ZenhubEpic"===t.__typename?dPe(t):"Project"!==t.__typename?t:{...t,epics:{nodes:t.epics?.nodes?.filter(e)}}))??[],metaInfo:VUe(l,t)}}return{roadmapData:u,loading:c,error:d}}function YUe(e,t,n){if(t){return yp(Yp(_p(),n.todayOffset.units,-1*n.todayOffset.count))}let s=null;const r=e.find((e=>Boolean(e.startOn)));var i;return s=r&&(i=r.startOn,Lp(i,HNe))?r.startOn:HNe,s}function JUe(e,t,n){const[s,r]=(0,Ye.useState)(HNe),i=bye(t);return(0,Ye.useEffect)((()=>{i!==t&&r(YUe(e,t,n))}),[e]),s}const XUe=(e,t)=>{(0,Ye.useEffect)((()=>{t&&e&&e.current&&(e.current.scrollTop=0)}),[t,e])};const QUe=e=>{let{scrollContainerRef:t}=e;const[n,s]=(0,Ye.useState)(!1),[r,i]=(0,Ye.useState)(0);(0,Ye.useEffect)((()=>{!n&&t.current&&(t.current.scrollLeft=r)}),[n]);const o=n&&t.current?{left:-1*t.current.scrollLeft+"px"}:{};return{handleHorizontalScrollLock:e=>{e&&t.current&&i(t.current.scrollLeft),s(e)},isHorizontalScrollLocked:n,scrollLockingStyles:o}},eBe=()=>{const e=(0,$8.k6)();(0,Ye.useEffect)((()=>{r6("Roadmap Viewed",{Origin:"PUSH"===e.action?"Sidebar click":"URL"})}),[e.action])};function tBe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function nBe(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){tBe(i,s,r,o,a,"next",e)}function a(e){tBe(i,s,r,o,a,"throw",e)}o(void 0)}))}}const sBe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;const[a,l]=(0,Ye.useState)(!1),{setProjectCollapse:c}=HPe(),d=(d,u)=>{const p=TPe(t,d),{foundItem:m,foundItemProjectId:h}=p;if(h&&!a&&(c(h,!1),l(!0)),!m&&!i)return kPe(u,d,function(){var t=nBe((function*(t){const n=yield r(t),i=e(n.data.addEpicsToRoadmap.epics[0].startOn);s.current.scrollToIndex(0,i)}));return function(e){return t.apply(this,arguments)}}()),void o(!0);const E=m?RPe(n,m.id):-1,g=m?.startOn,f=e(g);s.current.scrollToIndex(E,f)};return d},rBe="lfYMHkEahTg6UsIrvVHH",iBe="HYbfL3uATr59sao9OzIr",oBe="FSBortwnibSAvIc3yYeM",aBe="hxqHdASFuhbwDngFn8Ch",lBe="xGevUrjcqqNfbDLyKR2Q",cBe="VhQ3ZclSd9_O5xGPh3jq",dBe="vqqdyUQ9FXO7hUwHT44n",uBe="n8JROkJuB4CsWzUbIFqO",pBe="lZphDihDcjumT2mejwFY",mBe="NSQAEKPDWa9YhDHeta_f",hBe=e=>{let{className:t,orgName:n="",workspaceId:s,workspaceName:r}=e;const[i,o]=(0,Ye.useState)(!1),{isItemBeingEdited:a,isOrgView:l,isProjectCollapsed:c,isProjectCreatingEpic:d,timescaleKey:u,setActiveTab:p,hasUserManuallySetCollapsedState:m,progressFormat:h,sortOrder:E,setSortOrder:g}=HPe(),f=(0,l3.v9)(au),_=(0,l3.v9)(Ou),v=(0,l3.v9)(Dre),I=(0,l3.v9)(Lre),b=Loe(),y=b?.epicId,S=b?.epicTitle,w=KNe[u],[R,T]=(0,Ye.useState)(null),{roadmapData:C,loading:k,error:O}=ZUe(s,l,E),N=SRe(yRe.Roadmap),{roadmapItems:P,metaInfo:A}=C??{roadmapItems:[]},D=A?.workspace?.roadmap?.id,L=A?.workspace?.defaultRepository?.ghId,z=A?.workspace?.roadmap?.viewerPermission,M=Eze(s,D,l),x=(0,Ye.useRef)(null),F=(0,Ye.useRef)(null),U=(0,Ye.useRef)(null),B=(0,Ye.useRef)(null),q=bPe(P,a,c,d,m,R,l,h,I),j=f&&!L&&!I,G=P&&P.length>0;(0,Ye.useEffect)((()=>{f&&!k&&!G&&T({typeToCreate:XPe.PROJECT})}),[G,f,k]),eBe(),function(e,t){(0,Ye.useEffect)((()=>{const n=e.current,s=t.current,r=e=>{(0,_t.qD)(e,n,s)};return s&&n&&s.addEventListener("wheel",r),function(){s&&s.removeEventListener("wheel",r)}}),[t.current,e.current])}(B,U);const{bodyWidth:K,jumpToToday:V,start:$,end:Z,todayIndicatorPos:Y,todayItem:J,getLeftOffsetFromDate:X}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const r=JUe(e,arguments.length>2?arguments[2]:void 0,n),i=_p().toISOString(),o=Yp(i,BNe,qNe),a=Xp(o,n.dateStripBlock).toISOString(!0),l=r?Jp(r,n.dateStripBlock).toISOString(!0):null,c=(0,Ye.useMemo)((()=>ee.WAo(yPe)(n)),[n]),d=(0,Ye.useMemo)((()=>c(l,a)),[l,a,c]),u=(0,Ye.useMemo)((()=>c(l,i)),[c,l,i]),p=SPe(e),m=p?wPe(t,p.id):-1,h=Yp(l,n.todayOffset.units,n.todayOffset.count),E=(0,Ye.useMemo)((()=>ee.WAo(yPe)(n,h)),[n]),g=E(i),f=(0,Ye.useCallback)((function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s.current.scrollTo(null,g):-1!==m&&s.current.scrollToIndex(m,g)}),[l,n.todayOffset.units,n.todayOffset.count,c,m,i,s]);return(0,Ye.useEffect)((()=>f(!1)),[r]),{bodyWidth:d,end:a,jumpToToday:f,today:i,start:l,todayItem:p,todayIndicatorPos:u,getLeftOffsetFromDate:E}}(P,q,!G,w,F),Q=sBe(X,P,q,F,M,i,o);!function(e,t,n,s){const[r,i]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{!e&&!t||r||(n(!1),i(!0))}),[r,n,t,e]),(0,Ye.useEffect)((()=>{e&&n(!0)}),[s.key])}(J,!G,V,w),XUe(B,R),function(e,t,n,s){const[r,i]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e&&n&&(s(e,t),i(!0))}),[r,n,e,t])}(y,S,G,Q);const{isHorizontalScrollLocked:te,handleHorizontalScrollLock:ne,scrollLockingStyles:se}=QUe({scrollContainerRef:B});$ke(`Roadmap \xb7 ${l?n:r}`);const re=(0,Ye.useCallback)((e=>{e!==E&&N("Change sort order",{order:e}),g(e),"manual"===e&&H.Z.removeByTypeAndTag(W.Z.ACTION_BUTTON_UPDATE_NO_EXPIRY,iPe)}),[g]),ie=!_&&n;if(O)return Ye.createElement(iAe,{error:O});const oe=(0,_I.default)(dBe,{[mBe]:!G}),ae={overflow:G?void 0:"hidden",width:G?`${K}px`:"auto",...se},le=Qke(z),ce=k?Ye.createElement(HUe,null):Ye.createElement(sAe,{setNewItem:T,onMount:()=>{!i&&S&&y&&(kPe(S,y,M),o(!0))},showPlatformRestrictedView:j}),de=B.current?.clientHeight??0,ue=(0,_I.default)(iBe,{[oBe]:f});return Ye.createElement("div",{className:(0,_I.default)(rBe,t),ref:x},!le&&!k&&Ye.createElement("div",{className:pBe},Ye.createElement(jPe,null)),Ye.createElement("div",{className:ue,"data-cy":"roadmap-header"},ie&&Ye.createElement(Hme,{className:lBe,onSelect:p,selectedTabId:l?ZNe:YNe,type:"large"},Ye.createElement(Gme,null,Ye.createElement(Vme,{tabId:ZNe},n),Ye.createElement(QOe,{className:cBe}),Ye.createElement(Vme,{tabId:YNe},r))),Ye.createElement("div",{className:aBe},Ye.createElement(Iie,{href:"https://portal.productboard.com/zenhub/1-zenhub-s-roadmap/tabs/1-launched/submit-idea",pageName:"Roadmap",text:"Give feedback"}),Ye.createElement(k7,{name:"workspaces-share-roadmap"},Ye.createElement(zNe,{roadmapItems:P,workspaceName:r,isDisabled:!G})),Ye.createElement(k7,{name:"workspaces-roadmap-dnd"},l?null:Ye.createElement(AFe,{sortOrder:E,setSortOrder:re})),Ye.createElement(DAe,{isDisabled:!G}),Ye.createElement(KPe,{onClickNext:()=>{},onClickPrev:()=>{},onClickToday:()=>V(!1)}),Ye.createElement(WPe,null))),Ye.createElement("div",{style:{flex:"1 0 auto",width:te?"100%":void 0,overflowX:te?"hidden":void 0}},Ye.createElement(gre.qj,{disableWidth:!0},(e=>{let{height:t}=e;return Ye.createElement(GAe,{bodyWidth:K,className:oe,height:t,isHorizontalScrollLocked:te,marginTop:73,overscanCount:10,outerRef:B,ref:F,rows:q},(e=>{const{isScrolling:t,positionMap:n,startIndex:r,stopIndex:i}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement(mFe,{canWriteRoadmap:le,defaultRepoId:L,isDisabled:k,isEmpty:!G,isProjectsFlyoverEnabled:v,platformEpicsEnabled:I,roadmapId:D,setNewItem:T,roadmapItems:P,workspaceId:s,flatRoadmapRows:q,onSetHorizontalScrollLock:ne,virtualizerState:e,showPlatformRestrictedView:j}),Ye.createElement("div",{className:uBe,ref:U,style:ae},Ye.createElement(Xze,{todayIndicatorPosition:Y,timescaleKey:u,disableOverlayLine:!G,start:$,end:Z,roadmapBodyHeight:de}),G?Ye.createElement(Ye.Fragment,null,q.map(((e,s)=>{if(s<r||s>i)return null;const{item:o,progressStatus:a,predictedEndDate:c}=e;return Ye.createElement(HAe,{key:o.id,index:s,positionMap:n,width:"100%"},(()=>{if(o.id===_Pe||o.id===fPe)return Ye.createElement(MMe,{size:"large"});const n=Boolean(e.parentId);return Ye.createElement(NUe,{canWriteRoadmap:le,colorIndex:e.colorIndex,isFirstSubItem:e.isFirstSubItem,isLastSubItem:e.isLastSubItem,isScrolling:t,isSubItem:n,item:o,parentId:e.parentId,timescaleKey:u,startOfScale:$,progressStatus:a,predictedEndDate:c,isOrgView:l})}))}))):ce))}))}))))},EBe="CuZxuDfxdsiC18UdSOny",gBe=()=>{const e=(0,l3.v9)((e=>Na(e))),t=(0,l3.v9)((e=>Qa(e)));return Ye.createElement(Ye.Fragment,null,Ye.createElement(IDe,null),Ye.createElement(qPe,{workspaceId:e._id,orgName:t},Ye.createElement(hBe,{className:EBe,workspaceId:e._id,workspaceName:e.displayName,orgName:t})))},fBe=e=>{let{setContainerHeight:t}=e;return YOe(),(0,Ye.useEffect)(t,[t]),(0,Ye.useEffect)((()=>(qI(),()=>{HI()})),[]),Ye.createElement(gBe,null)};function _Be(e,t){const n=e||t;var s,r;return(s=n,r=yh,ee.zGw(ee.zPY,ee.e$l(s))(r))?n:yh.HOME}class vBe extends Ye.PureComponent{render(){const{location:e,workspace:t}=this.props,n=(s=t._id,cI(`zhReports_${s}_report`));var s;const r=_Be(Vt.Z.parseQueryString(decodeURIComponent(e.search)).report,n);return Ye.createElement($8.l_,{to:ma.getReportsPath({type:r,workspace:t})})}}vBe.propTypes={location:SI().shape({search:SI().string}).isRequired,workspace:SI().shape({_id:SI().string}).isRequired};const IBe=(0,$8.EN)((0,l3.$j)((e=>({workspace:Na(e)})))(vBe)),bBe=ee.WAo(((e,t)=>{const n=yh[e];if(!n){const t=Object.keys(yh).join(", ");le(`${e} is not a valid report page, pick one of ${t}`)}class s extends Ye.PureComponent{componentDidMount(){const{workspaceId:e}=this.props;((e,t)=>{nI(`zhReports_${e}_report`,t)})(e,n)}render(){return Ye.createElement(t,this.props)}}s.propTypes={workspaceId:SI().string.isRequired};return(0,l3.$j)((e=>({workspaceId:Pa(e)})))(s)})),yBe=e=>{let{pageName:t}=e;const{workspace:n}=(0,l3.v9)((e=>({workspace:Na(e)})));return $ke(`${t} \xb7 ${n.displayName}`),null};class SBe extends Ye.PureComponent{handleSelectionListEnterKey(){const{select:e}=this.props;e()}render(){const{repo:e,select:t,showDescription:n}=this.props,{organization:s,repository:r,description:i}=e,o=n?Ye.createElement("div",{className:"zhc-repo-item__description"},i):null;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-repo-item--simple",onClick:t},Ye.createElement("div",{className:"zhc-repo-item__name"},Ye.createElement("span",{className:"zhc-repo-item__organization"},s)," /\xa0",Ye.createElement("span",{className:"zhc-repo-item__repository"},r)),o)}}const wBe=SI().shape({organization:SI().string.isRequired,repository:SI().string.isRequired,description:SI().string});SBe.propTypes={repo:wBe.isRequired,select:SI().func.isRequired,showDescription:SI().bool},SBe.defaultProps={showDescription:!1};Dte(SBe);const RBe=CEe;class TBe extends Ye.PureComponent{render(){const{boardPath:e,boardLinkText:t,imageSrc:n,h1Text:s,h2Text:r,descriptionText:i,showBoardLinkInline:o,ctaButton:a,modifiers:l}=this.props,c=(0,_I.default)("zhc-report--empty-state",...(e=>(0,_t.KN)(e)?[]:e.map((e=>`zhc-report--empty-state__${e}`)))(l)),d=n?Ye.createElement(t7,{src:n}):null,u=s?Ye.createElement("h1",null,s):null,p=r?Ye.createElement("h2",null,r):null,m=e?Zne(e,t||"Select issues from board..."):null,h=o?null:m,E=o?m:null,g=i?Ye.createElement("div",{className:"zhc-report--empty-state--description"},i," ",E):null;return Ye.createElement("div",{className:c},Ye.createElement("div",{className:"zhc-report--empty-state__content"},d,u,p,g,h,a))}}TBe.propTypes={boardLinkText:SI().string,boardPath:SI().string,ctaButton:SI().shape({}),descriptionText:SI().string,h1Text:SI().string,h2Text:SI().string,imageSrc:SI().string,modifiers:SI().arrayOf(SI().string),showBoardLinkInline:SI().bool},TBe.defaultProps={boardPath:null,boardLinkText:"Select issues from board",ctaButton:null,descriptionText:null,h1Text:null,h2Text:null,imageSrc:"",modifiers:null,showBoardLinkInline:!1};const CBe=TBe;function kBe(){return kBe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kBe.apply(this,arguments)}const OBe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--sprint-closed",t].filter(Boolean).join(" "),"aria-label":"sprint-closed",role:"img",...n};return Ye.createElement("svg",kBe({fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("g",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd"},Ye.createElement("path",{d:"M4.002 15.003h6.867l-.86 6.876c-.123.991 1.122 1.531 1.761.764l9-12a1 1 0 00-.768-1.64h-6.867l.86-6.876c.123-.99-1.122-1.531-1.761-.764l-9 12a1 1 0 00.768 1.64zm8-2H6.137l5.45-7.74-.577 4.616a1 1 0 00.992 1.124h5.865l-5.45 7.74.577-4.616a1 1 0 00-.992-1.124z"}),Ye.createElement("path",{d:"M19.17 7.392l4.5-4.5a1.125 1.125 0 00-1.59-1.59l-3.706 3.705-1.455-1.455a1.124 1.124 0 10-1.59 1.59l2.25 2.25a1.125 1.125 0 001.59 0z"})))};function NBe(){return NBe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},NBe.apply(this,arguments)}const PBe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--sprints",t].filter(Boolean).join(" "),"aria-label":"sprints",role:"img",...n};return Ye.createElement("svg",NBe({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{clipRule:"evenodd",d:"m2.66794 10.0022h4.57815l-.573 4.584c-.08257.6606.7475 1.0209 1.17367.5095l6.00004-8c.3618-.43422.053-1.09346-.5122-1.09346h-4.57814l.573-4.58398c.08257-.660553-.7475-1.020878-1.17367-.509476l-6 7.999996c-.36185.43422-.05307 1.09342.51215 1.09342zm5.33333-1.33329h-3.90997l3.63308-5.1597-.38463 3.07701c-.04974.3979.26052.74935.66152.74935h3.90993l-3.63304 5.15973.38463-3.07704c.04974-.3979-.26052-.74935-.66152-.74935z",fill:"currentColor",fillRule:"evenodd"}))};function ABe(){return ABe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ABe.apply(this,arguments)}const DBe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--milestone-closed",t].filter(Boolean).join(" "),"aria-label":"milestone-closed",role:"img",...n};return Ye.createElement("svg",ABe({fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("g",{clipRule:"evenodd",fill:"currentColor",fillRule:"evenodd"},Ye.createElement("path",{d:"M10.3 0c.3 0 .6.1.8.3s.3.5.3.8v3.4h5.5c.6 0 1.2.2 1.7.6l3.1 2.6c.6.5.9 1.2.9 2s-.3 1.5-.9 2l-3.1 2.6c-.5.4-1.1.6-1.7.6h-5.5v7.9c0 .4-.2.8-.6 1-.3.2-.8.2-1.1 0s-.6-.6-.6-1V15H2.7A2.732 2.732 0 010 12.3V7.1c0-1.4 1.2-2.6 2.6-2.6h6.6V1.1c0-.3.1-.6.3-.8s.5-.3.8-.3zm0 12.8h6.6c.1 0 .2 0 .2-.1l3.1-2.7c.1-.1.1-.2.1-.3s0-.2-.1-.3l-3.1-2.6c-.1-.1-.2-.1-.2-.1H2.8c-.1 0-.2 0-.3.1s-.1.2-.1.3v5.2c0 .2.2.4.4.4z"}),Ye.createElement("path",{d:"M18.4 23.4l4.5-4.5c.3-.3.4-.7.3-1.1s-.4-.7-.8-.8-.8 0-1.1.3L17.6 21l-1.5-1.5c-.2-.2-.5-.3-.8-.3s-.6.1-.8.3c-.2.3-.3.5-.3.8s.1.6.3.8l2.2 2.2c.2.2.5.3.8.3.4.1.7 0 .9-.2z"})))};function LBe(e,t,n){return t?`${e} ${t(n)}`:e}function zBe(e,t){return Ye.createElement("th",{className:"zhc-item-table__column-title",key:t},e.icon??null,Ye.createElement("span",null,e.title))}function MBe(e,t){return(n,s)=>{const r=LBe("zhc-item-table__row",t,n),i=(0,_I.default)(r,{"zhc-item-table__row--disabled":!n.selected});return Ye.createElement("tr",{className:i,key:s,"data-cy":"table-row"},e.map(function(e){return(t,n)=>{const s=LBe("zhc-item-table__cell",t.getClassName,e);return Ye.createElement("td",{className:s,key:n},function(e,t){return e.render?e.render(t):t[e.attr]||""}(t,e))}}(n)))}}const xBe=e=>{let{columns:t=[],getRowClassState:n,items:s=[],type:r}=e,i=s.map(MBe(t,n));const o=(0,_I.default)("zhc-item-table",{[`zhc-item-table--${r}`]:r});return(0,_t.KN)(s)&&(i=Ye.createElement("tr",{className:"zhc-item-table__row"},Ye.createElement("td",{className:"zhc-item-table__cell"},"No issues to show based on your filters."),Ye.createElement("td",null))),Ye.createElement("table",{className:o},Ye.createElement("thead",{className:"zhc-item-table__header"},Ye.createElement("tr",null,t.map(zBe))),Ye.createElement("tbody",{className:"zhc-item-table__body"},i))};xBe.propTypes={columns:SI().arrayOf(SI().shape({})),getRowClassState:SI().func,items:SI().arrayOf(SI().shape({})),type:SI().string};const FBe=xBe;function UBe(e,t){return vp(e)&&vp(t)&&Lp(e,t)}const BBe=ee.OH4("state","closed"),qBe=(ee.CyQ(BBe),e=>"string"==typeof e?.id);function HBe(){return HBe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HBe.apply(this,arguments)}class WBe extends Ye.PureComponent{constructor(e){super(e);const{autoFocus:t}=this.props;this.onDateChange=this.onDateChange.bind(this),this.onFocusChange=this.onFocusChange.bind(this),this.state={focused:t}}onDateChange(e){const{onDayClick:t}=this.props;t(bp(e))}onFocusChange(e){let{focused:t}=e;const{onOutsideClick:n}=this.props;t?this.setState({focused:t}):n()}render(){const{focused:e}=this.state,{initialDate:t}=this.props,n=ee.CEd(["autoFocus","initialDate","onDayClick"],this.props),s=ee.kKJ(t)?null:Ip(t);return Ye.createElement("div",{className:"zhc-date-selector"},Ye.createElement(poe.DayPickerSingleDateController,HBe({},n,{focused:e,date:vp(s)?s:null,onDateChange:this.onDateChange,onFocusChange:this.onFocusChange})))}}const jBe={autoFocus:SI().bool,initialDate:SI().oneOfType([SI().object,SI().string]),...ee.CEd(["date","onDateChange","focused","onFocusChange","id"],poe.SingleDatePickerShape)},GBe={autoFocus:!1,initialDate:null,orientation:moe.HORIZONTAL_ORIENTATION,initialVisibleMonth:null,numberOfMonths:1,keepOpenOnDateSelect:!1};WBe.propTypes=jBe,WBe.defaultProps=GBe;const KBe=WBe;class VBe extends Ye.PureComponent{constructor(e){super(e),this.state={isActive:!1},this.handleToggle=this.handleToggle.bind(this),this.handleSelectDate=this.handleSelectDate.bind(this),this.toggleDateSelector=this.toggleDateSelector.bind(this)}handleToggle(e){e.preventDefault(),this.toggleDateSelector()}handleSelectDate(e){const{startDate:t,updateDueDate:n}=this.props;if(!function(e,t){return!!(0,_t.KN)(e)||Lp(e,t)}(t,e))return void window.alert("The due date must be after the start date");n(ee.kKJ(e)?null:yp(e)),this.setState({isActive:!1})}toggleDateSelector(){this.setState((e=>({isActive:!e.isActive})))}renderSelector(){const{isActive:e}=this.state,{dueDate:t}=this.props;return Ye.createElement(KBe,{autoFocus:e,initialDate:t,onDayClick:this.handleSelectDate,onOutsideClick:this.toggleDateSelector})}render(){const{dueDate:e,isClosed:t,isReadOnly:n,showEditLink:s}=this.props,{isActive:r}=this.state,i=r?this.renderSelector():null,o=(0,_I.default)("zhc-due-date",{"zhc-due-date--show-edit":!s||r});let a;return Np(e)?a=Ye.createElement("span",null," - Due today"):Op(e)&&(a=Ye.createElement("span",null," ","-\xa0",Ye.createElement("span",{className:"zhc-due-date--past-due"},"Past due by ",Ap(e)))),Ye.createElement("span",{className:o},Ye.createElement("span",{className:"zhc-due-date__date"},ee.kKJ(e)?"No due date":Bp(e),t?null:a),n||!s?null:Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,"data-cy":"due-date-edit",className:"zhc-due-date__edit",onClick:this.handleToggle},"Change"),i)}}VBe.propTypes={dueDate:SI().oneOfType([SI().instanceOf(Date),SI().string]),isClosed:SI().bool,isReadOnly:SI().bool,showEditLink:SI().bool,startDate:SI().oneOfType([SI().instanceOf(Date),SI().string]),updateDueDate:SI().func},VBe.defaultProps={dueDate:null,isClosed:!1,isReadOnly:!1,showEditLink:!1,startDate:null,updateDueDate:_t.ZT};const $Be=VBe;let ZBe;!function(e){e.ESTIMATE_CLOSED="ESTIMATE_CLOSED",e.ESTIMATE_AVERAGE="ESTIMATE_AVERAGE",e.ISSUE_COUNT="ISSUE_COUNT",e.EPIC_POINTS="EPIC_POINTS"}(ZBe||(ZBe={}));const YBe="UokDNhuLNwDqynInvS6J",JBe="ZX4GfvwgkVNv89ZQKZKg",XBe="cPbgC0L6RI26ODofZkni",QBe="p_kpwU_2vrau9GCPLTe5",eqe="xY6B6__M4qVWmDUPqaxf",tqe="iSFuahiJdrff59iK4CYg",nqe=e=>{let{className:t,label:n,postFix:s,type:r,value:i}=e;if(null==i)return null;let o=(0,_t.Jd)(i);s&&(o+=s);const a=(0,_I.default)(YBe,t,{[JBe]:r===ZBe.ESTIMATE_AVERAGE,[XBe]:r===ZBe.ESTIMATE_CLOSED,[QBe]:r===ZBe.ISSUE_COUNT,[eqe]:r===ZBe.EPIC_POINTS});return Ye.createElement("span",{"data-testid":"zh-badge",className:a},Ye.createElement("span",{className:(0,_I.default)({[tqe]:r===ZBe.EPIC_POINTS})},o),n?` ${n}`:null)},sqe=Ye.memo(nqe),rqe=e=>`zhc-item-table__row--${e.state}`,iqe=cse((e=>{let{isActive:t}=e;return Ye.createElement("input",{type:"checkbox",checked:t,readOnly:!0})}));function oqe(e,t){return e&&t?((e,t)=>{const n=Sp(e),s=wp(t);return cc().duration(s.diff(n)).humanize()})(e,t):"--"}function aqe(e){const{isMilestonesEnabled:t,repository:n,organization:s,onSelectMilestone:r}=e;return[{title:t?"Sprints and milestones":"Sprints",render(e){const{selected:t}=e,i=e.start_date,o=i?Bp(i):"No start date",a=e.duplicates||[],l=ee.jge("repository",a),c=ee.zoF([n],l),d=ee.v_p(", ",c),u=Ye.createElement("div",null,Ye.createElement("div",{className:"zhu-font-bold"},"Repos with estimates:"),Ye.createElement("div",null,`${d}`)),p=Ye.createElement("span",{className:"zh-milestone-multi-repo"},"\xa0\xb7\xa0",Ye.createElement(ZI,{content:u},Ye.createElement("span",{className:"zh-milestone-multi-repo__tooltip"},`${a.length+1} repos`))),m=BBe(e),h=qBe(e),E=((e,t)=>t?e?Ye.createElement(OBe,{className:"zhu-svg-icon--closed"}):Ye.createElement(PBe,{className:"zhu-svg-icon--open"}):e?Ye.createElement(DBe,{className:"zhu-svg-icon--closed"}):Ye.createElement(Zee,{className:"zhu-svg-icon--open"}))(m,h),g=`/${s}/${n}/milestone/${e.number}`,f=m?Ye.createElement(iqe,{onChange:t=>r(ee.yGi("selected",t,e)),isActive:t}):null,_=PI&&!h?Ye.createElement("a",{href:g,className:"zhc-item-table__item-title"},e.title):Ye.createElement("span",{className:"zhc-item-table__item-title","data-cy":"milestone-title"},e.title);return Ye.createElement("span",null,f,E,_,ee.xbD(a)?null:p,Ye.createElement("div",{className:"zhc-item-table__meta"},Ye.createElement("div",{className:"zhc-item-table__meta-item"},Ye.createElement("span",{className:"zhc-item-table__meta-title"},"Start"),Ye.createElement("span",{className:"zhc-item-table__meta-content"},o)),Ye.createElement("div",{className:"zhc-item-table__meta-item"},Ye.createElement("span",{className:"zhc-item-table__meta-title"},"Due by"),Ye.createElement("span",{className:"zhc-item-table__meta-content"},Ye.createElement($Be,{startDate:e.start_date,dueDate:e.due_on,isClosed:BBe(e)}))),Ye.createElement("div",{className:"zhc-item-table__meta-item"},Ye.createElement("span",{className:"zhc-item-table__meta-title"},"Duration:"),Ye.createElement("span",{className:"zhc-item-table__meta-content"},oqe(e.start_date,e.due_on)))))},getClassName:()=>"zhc-item-table__cell--milestone"},{title:"Story points",render(e){if(!e.total_story_points)return Ye.createElement("span",{className:"zhc-item-table__cell--story-points--no-estimate"},"No estimates yet");const t=(0,_t.rK)(e.completed_story_points),n=(0,_t.rK)(e.total_story_points);return Ye.createElement("span",{"data-cy":"story-point"},Ye.createElement(sqe,{value:t,type:ZBe.ESTIMATE_CLOSED})," /"," ",Ye.createElement(sqe,{value:n}))},getClassName:()=>"zhc-item-table__cell--story-points"}]}const lqe=e=>{const{milestonesSortedByPriority:t}=e;return Ye.createElement("div",{className:"zhc-chart-velocity__milestones","data-cy":"velocity-milestones"},Ye.createElement(FBe,{columns:aqe(e),getRowClassState:rqe,items:t,type:"velocity"}))};lqe.propTypes={milestonesSortedByPriority:SI().arrayOf(SI().shape({}))};const cqe=Ye.memo(lqe);var dqe=n(29401),uqe=n(82539),pqe=n(49951);class mqe extends Ye.PureComponent{render(){const{children:e,width:t,height:n,style:s,classNames:r}=this.props;return Ye.createElement("svg",{className:`zhc-chart-svg ${r}`,"data-cy":"chart-svg",width:t,height:n,style:s},e)}}mqe.defaultProps={width:200,height:100,style:{},classNames:""},mqe.propTypes={children:SI().node,classNames:SI().string,height:SI().number,style:SI().shape({}),width:SI().number};const hqe=mqe;class Eqe extends Ye.PureComponent{render(){const{children:e,marginLeft:t,marginTop:n,classNames:s}=this.props;return Ye.createElement("g",{className:`zhc-chart-svg-group ${s}`,transform:`translate(${t},${n})`},e)}}Eqe.defaultProps={marginLeft:0,marginTop:0,classNames:""},Eqe.propTypes={children:SI().node,classNames:SI().string,marginLeft:SI().number,marginTop:SI().number};const gqe=Eqe,fqe="YvlwnHDRflghr3hRQchm";class _qe extends Ye.PureComponent{render(){const{xScale:e,yScale:t,x:n,y:s,data:r,curveGenerator:i,style:o}=this.props,a=ee.MRu(n,r),l=ee.qCK(e,n),c=ee.qCK(t,s),d=(0,pqe.Z)(t.range()),u=(0,dqe.Z)().x(l).y1(c).y0(d).curve(i);return Ye.createElement(gqe,{classNames:"zhc-chart-areachart"},Ye.createElement("path",{className:fqe,d:u(a),style:o}))}}_qe.defaultProps={curveGenerator:uqe.cD,style:{}},_qe.propTypes={curveGenerator:SI().func,data:SI().arrayOf(SI().shape({})),style:SI().shape({}),x:SI().func,xScale:SI().func,y:SI().func,yScale:SI().func};const vqe=_qe,Iqe=(e,t,n,s)=>{if(!t)return e;let r=e;const i=((e,t,n)=>e+t-n)(e,t,n),o=function(e,t){let n=e-t;return arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(n-=15),n}(e,t,s);return o<0&&(r-=o),i>0&&!s&&(r-=i),r},bqe=ee.WAo(((e,t)=>{class n extends Ye.Component{constructor(e){super(e),this.checkTooltipWidth=()=>{const{current:e}=this.tooltipContainer,{toolyipWidthHalf:t}=this.state;e&&!t&&this.setState({tooltipWidthHalf:e.offsetWidth/2})},this.state={isOpen:!1,x:0,y:0,tooltipWidthHalf:null},this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.tooltipContainer=Ye.createRef()}onMouseEnter(){this.setState({isOpen:!0},this.checkTooltipWidth)}onMouseLeave(){this.setState({isOpen:!1})}onMouseMove(e){this.setState({x:e.pageX,y:e.pageY})}render(){const{isOpen:n,x:s,y:r,tooltipWidthHalf:i}=this.state,{tooltipData:o,...a}=this.props,l=`translate3d(${Iqe(s,i,window.innerWidth)}px, ${r}px, 0px)`;return Ye.createElement("g",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},n&&Ye.createElement(ine,null,Ye.createElement("div",{className:"zhc-chart-tooltip-container",style:{transform:l},ref:this.tooltipContainer},Ye.createElement(e,{tooltipData:o||{}}))),Ye.createElement(t,a))}}return n.propTypes={tooltipData:SI().shape({})},n.defaultProps={tooltipData:{}},n}));function yqe(){return yqe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yqe.apply(this,arguments)}const Sqe=ee.h0F(ee.UID);class wqe extends Ye.PureComponent{render(){const{item:e,barClassNames:t,barMinHeight:n,barWidth:s,innerHeight:r,xCoord:i,yCoord:o,labels:a}=this.props,l=Math.min(o(e),r-n);return Ye.createElement("rect",{className:`zhc-chart-barchart__bar ${t(e,a)}`,x:i(e),y:l,width:s,height:r-l})}}wqe.propTypes={barClassNames:SI().func,barMinHeight:SI().number,barWidth:SI().number,innerHeight:SI().number,item:SI().shape({}),labels:SI().arrayOf(SI().oneOfType([SI().shape({}),SI().string])),xCoord:SI().func,yCoord:SI().func};class Rqe extends Ye.PureComponent{render(){const{xScale:e,yScale:t,x:n,y:s,data:r,tooltipElement:i,getTooltipData:o,labels:a}=this.props,l=ee.qCK(e,n),c=ee.qCK(t,s),d=e.bandwidth(),u=t.range(),p=Math.abs(u[0]-u[1]),m=bqe(i,wqe),h=Sqe(((e,t)=>{const n=o(e);return Ye.createElement(m,yqe({key:t},this.props,{item:e,labels:a,barWidth:d,xCoord:l,yCoord:c,innerHeight:p,tooltipData:n}))}),r);return Ye.createElement(gqe,{classNames:"zhc-chart-barchart"},h)}}Rqe.propTypes={barClassNames:SI().func,barMinHeight:SI().number,data:SI().arrayOf(SI().shape({})),getTooltipData:SI().func,labels:SI().arrayOf(SI().oneOfType([SI().shape({}),SI().string])),tooltipElement:SI().func,x:SI().func,xScale:SI().func,y:SI().func,yScale:SI().func},Rqe.defaultProps={barClassNames:ee.Bxt(""),barMinHeight:4,getTooltipData:ee.yRu(),tooltipElement:ee.yRu()};const Tqe=Rqe;class Cqe extends Ye.PureComponent{constructor(){super(...arguments),this.isLineItem=e=>"line"===e,this.isDashedLineItem=e=>"dashed"===e,this.isCfrStyle=e=>"cfr"===e,this.isSquareStyle=e=>"square"===e,this.isCircleStyle=e=>"circle"===e,this.isRoundedStyle=e=>"rounded"===e,this.defaultStyle=(e,t,n)=>n?{}:{backgroundColor:e,opacity:t},this.dashedStyle=(e,t)=>this.isDashedLineItem(e)?{borderColor:t,backgroundColor:"none"}:{},this.squareStyle=(e,t)=>this.isSquareStyle(e)?{backgroundColor:t}:{},this.circleStyle=(e,t,n)=>this.isCircleStyle(e)?{borderColor:t,backgroundColor:n}:{},this.cfrStyle=(e,t,n)=>{if(!this.isCfrStyle(e)||n)return{};let s;if("rgb"===t.substr(0,3))r=.5,s=t.replace(/\)/i,`, ${r})`).replace(/rgb/i,"rgba");else{const{r:e,g:n,b:r,a:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{...oue(e),a:t}}(t,.7);s=`rgba(${e}, ${n}, ${r}, ${i})`}var r;return{borderColor:t,backgroundColor:s}}}render(){const{color:e,backgroundColor:t,opacity:n,type:s,disabled:r,hasCheck:i}=this.props,o=(0,_I.default)("zhc-chart-legend-icon",{"zhc-chart-legend-icon--line":this.isLineItem(s),"zhc-chart-legend-icon--square":this.isSquareStyle(s),"zhc-chart-legend-icon--circle":this.isCircleStyle(s),"zhc-chart-legend-icon--dashed":this.isDashedLineItem(s),"zhc-chart-legend-icon--cfr":this.isCfrStyle(s),"zhc-chart-legend-icon--rounded":this.isRoundedStyle(s),"zhc-chart-legend-icon--check":i,"zhc-chart-legend-icon--disabled":r}),a={...this.defaultStyle(e,n,r),...this.dashedStyle(s,e),...this.squareStyle(s,e),...this.cfrStyle(s,e,r),...this.circleStyle(s,e,t)};return Ye.createElement("div",{className:o,"data-cy":"legend-icon",style:a})}}Cqe.propTypes={color:SI().string.isRequired,backgroundColor:SI().string,disabled:SI().bool,hasCheck:SI().bool,opacity:SI().number,type:SI().string},Cqe.defaultProps={backgroundColor:"",disabled:!1,hasCheck:!1,opacity:1,type:null};const kqe=Cqe,Oqe=()=>Ye.createElement("div",{className:"zhc-chart-legend__labels-label zhc-chart-legend__labels-x"},Ye.createElement(R7,null));class Nqe extends Ye.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{label:e,checkbox:t,color:n,isDefault:s,onCheckboxChange:r,onClick:i,selected:o}=this.props;i({label:e,color:n,isDefault:s}),t&&r(e,!o)}}render(){const{color:e,backgroundColor:t,opacity:n,type:s,isDefault:r,label:i,checkbox:o,selected:a}=this.props,l=o&&!a,c=(0,_I.default)("zhc-chart-legend__labels",{"zhc-chart-legend__labels--checkable":o,"zhc-chart-legend__labels--notselected":l,"zhc-chart-legend__labels--isDefault":r}),d=(0,_I.default)(c,{"zhc-chart-legend__labels-label-item":!r});return Ye.createElement("div",{className:d,onClick:this.handleClick,"data-testid":"legend-item"},o&&Ye.createElement("input",{type:"checkbox",defaultChecked:a}),Ye.createElement(kqe,{disabled:l,type:s,color:e,backgroundColor:t,opacity:n,hasCheck:o&&a}),Ye.createElement("div",{className:"zhc-chart-legend__labels-label","data-cy":"legend-label"},i),!r&&Ye.createElement(Oqe,null))}}Nqe.propTypes={color:SI().string.isRequired,label:SI().string.isRequired,backgroundColor:SI().string,checkbox:SI().bool,isDefault:SI().bool,opacity:SI().number,selected:SI().bool,type:SI().string,onCheckboxChange:SI().func,onClick:SI().func},Nqe.defaultProps={backgroundColor:"",checkbox:!1,onCheckboxChange:()=>{},onClick:()=>{},opacity:1,selected:!0,isDefault:!0,type:null};const Pqe=Nqe;function Aqe(){return Aqe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Aqe.apply(this,arguments)}const Dqe=e=>{let{onClearAll:t}=e;return Ye.createElement("div",{className:"zhc-chart-legend__labels zhc-chart-legend__labels-clear"},Ye.createElement(Kpe,{handler:t,text:"Clear all labels"}))};Dqe.propTypes={onClearAll:SI().func.isRequired};class Lqe extends Ye.PureComponent{render(){const{labelItems:e,items:t,onClick:n,onClearAll:s,labelFilterComponent:r,onItemChange:i,toggle:o}=this.props,a=ee.wEe(ee.xbD,ee.kKJ)(e)?t:e;return Ye.createElement("div",{className:"zhc-chart-legend","data-cy":"chart-legend"},r,a.map(((e,t)=>Ye.createElement(Pqe,Aqe({},e,(e=>o?{checkbox:!0,selected:e.selected,onCheckboxChange:i,type:"cfr"}:{})(e),{key:e.label,onClick:n})))),!(0,_t.KN)(e)&&Ye.createElement(Dqe,{onClearAll:s}))}}Lqe.propTypes={items:SI().arrayOf(SI().object),labelFilterComponent:SI().element,labelItems:SI().arrayOf(SI().shape({color:SI().string.isRequired,label:SI().string.isRequired})),toggle:SI().bool,onClearAll:SI().func,onClick:SI().func,onItemChange:SI().func},Lqe.defaultProps={labelFilterComponent:null,labelItems:[],items:[],onClick:_t.ZT,onClearAll:_t.ZT,onItemChange:_t.ZT,toggle:!1};const zqe=Lqe;class Mqe extends Ye.PureComponent{render(){const{x:e,y:t,radius:n,style:s}=this.props;return Ye.createElement("circle",{className:"zhc-chart-circle",cx:e,cy:t,r:n,style:s})}}Mqe.propTypes={radius:SI().number,style:SI().shape({}),x:SI().number,y:SI().number},Mqe.defaultProps={radius:4,style:{},x:0,y:0};const xqe=Mqe;class Fqe extends Ye.PureComponent{render(){const{borderColor:e,color:t,direction:n,size:s}=this.props,r=s,i=r/2,o=19/12*s,a=s/12*7,l="down"===n?180:0;return Ye.createElement("g",{className:"zhc-chart-arrow",transform:`translate(-${i} -${a}) rotate(${l} ${i} ${a})`},Ye.createElement("svg",{viewBox:"0 0 12 19",width:r,height:o},Ye.createElement("g",null,Ye.createElement("polygon",{stroke:e,strokeWidth:"2",fill:t,points:"6 2.23606798 1.61803399 11 10.381966 11"}),Ye.createElement("rect",{fill:e,x:"5",y:"11",width:"2",height:"8",rx:"1"}))))}}Fqe.propTypes={borderColor:SI().string,color:SI().string,direction:SI().string,size:SI().number},Fqe.defaultProps={borderColor:"#000",color:"#fff",direction:"up",size:12};const Uqe=Fqe;var Bqe=n(22428);class qqe extends Ye.PureComponent{render(){const{xScale:e,yScale:t,data:n,x:s,y:r,curve:i,style:o}=this.props;if(ee.kE(n)<2)return null;const a=ee.MRu(s,n),l=ee.qCK(e,s),c=ee.qCK(t,r),d=(0,TOe.Z)().x(l).y(c).curve(i);return Ye.createElement("path",{className:"zhc-chart-linechart__path",style:o,d:d(a)})}}qqe.defaultProps={curve:Bqe.Z,style:{}},qqe.propTypes={curve:SI().func,data:SI().oneOfType([SI().object,SI().array]),style:SI().shape({}),x:SI().func,xScale:SI().func,y:SI().func,yScale:SI().func};const Hqe=qqe,Wqe=Hqe;class jqe extends Ye.PureComponent{render(){const{x:e,y:t,radius:n,style:s}=this.props;return Ye.createElement("circle",{className:"zhc-chart-scatterchart-plot",cx:e,cy:t,r:n,style:s})}}jqe.propTypes={radius:SI().number.isRequired,x:SI().number.isRequired,y:SI().number.isRequired,style:SI().shape({})};class Gqe extends Ye.PureComponent{render(){const{x:e,y:t,tooltipToAttach:n,tooltipData:s}=this.props,r=n(jqe);return Ye.createElement(r,{tooltipData:s,x:e,y:t,radius:9,style:{opacity:0}})}}Gqe.propTypes={x:SI().number.isRequired,y:SI().number.isRequired,tooltipData:SI().shape({}),tooltipToAttach:SI().func};class Kqe extends Ye.PureComponent{render(){const{xScale:e,yScale:t,x:n,y:s,data:r,radius:i,tooltipToAttach:o,tooltipData:a,style:l}=this.props,c=ee.qCK(e,n),d=ee.qCK(t,s),u=(0,_t.rS)(((e,t)=>{const n=ee.kKJ(o)?null:Ye.createElement(Gqe,{key:t,x:c(e),y:d(e),tooltipToAttach:o,tooltipData:a(e)});return Ye.createElement(gqe,{key:t},Ye.createElement(jqe,{radius:i,x:c(e),y:d(e),style:l}),n)}),r);return Ye.createElement(gqe,{classNames:"zhc-chart-scatterchart"},u)}}Kqe.propTypes={data:SI().arrayOf(SI().shape({})),radius:SI().number,style:SI().shape({}),tooltipData:SI().func,tooltipToAttach:SI().func,x:SI().func,xScale:SI().func,y:SI().func,yScale:SI().func},Kqe.defaultProps={radius:4,style:{},tooltipData:ee.yRu};const Vqe=Kqe;class $qe extends Ye.PureComponent{constructor(){super(...arguments),this.mapperDataToProps=(e,t)=>Object.keys(e).reduce(((n,s)=>({...n,[s]:e[s](t)})),{})}render(){const{xScale:e,yScale:t,x:n,y:s,data:r,marker:i,radius:o,style:a,mapper:l,markerKey:c,modifiers:d,hoverTarget:u}=this.props;if(!r.length)return null;const p=i||Ye.createElement(xqe,{radius:o,style:a}),m=t=>e(n(t)),h=e=>t(s(e)),E=(0,_t.DG)("zhc-chart-scatterchart",d),g=r.map((e=>Ye.createElement(gqe,{key:c(e),marginLeft:m(e),marginTop:h(e),classNames:(0,_I.default)("zhc-chart-scatterchart",E)},Ye.cloneElement(p,{data:e,...this.mapperDataToProps(l,e)}),u&&Ye.cloneElement(u,{data:e,...this.mapperDataToProps(l,e)}))));return Ye.createElement(gqe,null,g)}}$qe.propTypes={data:SI().arrayOf(SI().shape({})).isRequired,markerKey:SI().func.isRequired,x:SI().func.isRequired,xScale:SI().func.isRequired,y:SI().func.isRequired,yScale:SI().func.isRequired,hoverTarget:SI().node,mapper:SI().shape({}),marker:SI().node,modifiers:SI().arrayOf(SI().string),radius:SI().number,style:SI().shape({})},$qe.defaultProps={mapper:{},marker:null,modifiers:[],radius:4,style:{},hoverTarget:null};const Zqe=$qe;var Yqe=n(67786),Jqe=n(89884);const Xqe=SI().arrayOf(SI().number);class Qqe extends Ye.PureComponent{render(){const{color:e,data:t,x:n,xScale:s,yScale:r}=this.props,i=ee.qCK(s,n,ee.vgT("data")),o=ee.qCK(r,ee.hL$(0)),a=ee.qCK(r,ee.hL$(1)),l=(0,dqe.Z)().x(i).y0(o).y1(a);return Ye.createElement("path",{className:"zhc-chart-stacked-area__layer",d:l(t),fill:e})}}Qqe.propTypes={color:SI().string.isRequired,data:SI().arrayOf(Xqe).isRequired,x:SI().func.isRequired,xScale:SI().func.isRequired,yScale:SI().func.isRequired};class eHe extends Ye.PureComponent{render(){const{data:e,layerColor:t,layerKeys:n,layerValue:s,order:r,x:i,xScale:o,y:a,yScale:l}=this.props,c=ee.qCK(a,s),d=(0,Yqe.Z)().keys(n).value(c).order(r)(e),u=(0,_t.rS)(((e,n)=>Ye.createElement(Qqe,{color:t(n),data:e,key:n,x:i,xScale:o,yScale:l})),d);return Ye.createElement(gqe,{classNames:"zhc-chart-stacked-area"},u)}}eHe.propTypes={data:SI().arrayOf(SI().object).isRequired,layerColor:SI().func.isRequired,layerKeys:SI().arrayOf(SI().string).isRequired,layerValue:SI().func.isRequired,x:SI().func.isRequired,xScale:SI().func.isRequired,y:SI().func.isRequired,yScale:SI().func.isRequired,order:SI().func},eHe.defaultProps={order:Jqe.Z};function tHe(){return tHe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tHe.apply(this,arguments)}class nHe extends Ye.PureComponent{render(){const{width:e,height:t,x:n,y:s,fill:r}=this.props;return Ye.createElement("rect",{width:e,height:t,x:n,y:s,fill:r,fillOpacity:.8})}}nHe.propTypes={fill:SI().string,height:SI().number,width:SI().number,x:SI().number,y:SI().number};class sHe extends Ye.PureComponent{render(){const{xScale:e,yScale:t,x:n,data:s,layerColor:r,tooltipElement:i,getTooltipData:o}=this.props,a=e.bandwidth(),l=ee.qCK(e,n,ee.vgT("data")),c=ee.qCK(t,ee.hL$(1)),d=ee.qCK(t,ee.hL$(0)),u=bqe(i,nHe),p=(0,_t.rS)(((e,t)=>{const n=Math.abs(d(e)-c(e)),i=o(s,e.data);return Ye.createElement(u,{key:t,width:a,height:n,x:l(e),y:c(e),fill:r,fillOpacity:.8,tooltipData:i})}),s);return Ye.createElement(gqe,{classNames:"zhc-chart-stacked-barchart__layer"},p)}}sHe.propTypes={data:SI().arrayOf(SI().arrayOf(SI().oneOfType([SI().number,SI().shape({})]))),getTooltipData:SI().func,layerColor:SI().string,tooltipElement:SI().func,x:SI().func,xScale:SI().func,yScale:SI().func};class rHe extends Ye.PureComponent{render(){const{data:e,layerKeys:t,layerValue:n,layerColor:s,xScale:r,yScale:i,x:o,y:a,tooltipElement:l,getTooltipData:c}=this.props;if((0,_t.KN)(e))return null;const d=ee.qCK(a,n),u=(0,Yqe.Z)().keys(t).value(d)(e),p=(0,_t.rS)(((e,t)=>Ye.createElement(sHe,tHe({},this.props,{key:t,data:e,xScale:r,yScale:i,layerColor:s(t),x:o,tooltipElement:l,getTooltipData:c}))),u);return Ye.createElement(gqe,{classNames:"zhc-chart-stacked-barchart"},p)}}rHe.propTypes={data:SI().arrayOf(SI().shape({})),getTooltipData:SI().func,layerColor:SI().func,layerKeys:SI().arrayOf(SI().string),layerValue:SI().func,tooltipElement:SI().func,x:SI().func,xScale:SI().func,y:SI().func,yScale:SI().func},rHe.defaultProps={tooltipElement:ee.yRu()};const iHe=rHe;var oHe=n(94335),aHe=n(45665),lHe=n(59245);class cHe extends Ye.PureComponent{render(){const{label:e,x:t,y:n}=this.props;return(0,_t.KN)(e)?null:Ye.createElement("text",{className:"zhc-chart-axis--label",transform:`translate(${t},${n})rotate(-90)`,dy:"1em"},e)}}cHe.propTypes={label:SI().string,x:SI().number,y:SI().number},cHe.defaultProps={x:0,y:0};class dHe extends Ye.PureComponent{componentDidMount(){this.updateAxis()}componentDidUpdate(){this.updateAxis()}updateAxis(){const{yScale:e,width:t,showGridLine:n}=this.props;let s=(0,aHe.y4)(e);n&&(s=s.tickSize(-t,0,0)),(0,lHe.Z)(this.ref).call(s)}render(){const{marginLeft:e,marginTop:t,label:n,yScale:s,showGridLine:r}=this.props,i=(0,oHe.Z)(s.range()),o=(0,_I.default)("zhc-chart-axis zhc-chart-axis--left",{"zhc-chart-axis--domain-hidden":r});return Ye.createElement(gqe,{marginLeft:e,marginTop:t},Ye.createElement("g",{className:o,ref:e=>{this.ref=e}},Ye.createElement(cHe,{label:n,x:-e,y:i})))}}dHe.defaultProps={marginLeft:0,marginTop:0,label:"",showGridLine:!1,width:0},dHe.propTypes={label:SI().string,marginLeft:SI().number,marginTop:SI().number,showGridLine:SI().bool,width:SI().number,yScale:SI().func};const uHe=dHe;class pHe extends Ye.PureComponent{render(){const{label:e,x:t,y:n}=this.props;return(0,_t.KN)(e)?null:Ye.createElement("text",{className:"zhc-chart-axis--label",transform:`translate(${t},${n})`,dy:"3.5em"},e)}}pHe.propTypes={label:SI().string,x:SI().number,y:SI().number},pHe.defaultProps={label:null,x:0,y:0};class mHe extends Ye.Component{componentDidMount(){this.updateAxis()}componentDidUpdate(){this.updateAxis()}updateAxis(){const{xScale:e,rotateAngle:t,tickFormat:n}=this.props,s=(0,aHe.LL)(e);n&&s.tickFormat(n);const r=(0,lHe.Z)(this.ref);r.call(s),t&&(r.selectAll(".tick text").call((e=>((e,t,n,s)=>{s.style("text-anchor","end").attr("transform",`translate(${e},${t})rotate(${n})`)})(0,0,t,e))),r.selectAll(".zhc-chart-axis--label").attr("dy","70px"))}render(){const{label:e,marginLeft:t,marginTop:n,modifiers:s,xScale:r}=this.props,i=(0,oHe.Z)(r.range()),o=(0,_t.DG)("zhc-chart-axis--bottom",s),a=(0,_I.default)("zhc-chart-axis","zhc-chart-axis--bottom",o);return Ye.createElement(gqe,{classNames:a,marginLeft:t,marginTop:n},Ye.createElement("g",{ref:e=>{this.ref=e}},Ye.createElement(pHe,{label:e,x:i})))}}mHe.propTypes={xScale:SI().func.isRequired,label:SI().string,marginLeft:SI().number,marginTop:SI().number,modifiers:SI().arrayOf(SI().string),rotateAngle:SI().number,tickFormat:SI().func},mHe.defaultProps={label:null,marginLeft:0,marginTop:0,modifiers:[],tickFormat:null,rotateAngle:0};const hHe=mHe,EHe=ee.WAo(((e,t)=>class extends Ye.Component{constructor(e){super(e),this.onMouseEnter=e=>{const{currentTarget:t}=e;if(!t)return;const n=(e=>{const{scrollX:t,scrollY:n}=window,{left:s,width:r,top:i}=e.getBoundingClientRect();return{left:Math.round(s+r/2+t),top:Math.round(i+n)}})(t);this.setState({isOpen:!0,...n},this.checkTooltipDimensions)},this.onMouseLeave=()=>{this.setState({isOpen:!1})},this.checkTooltipDimensions=()=>{const{current:e}=this.tooltipContainer,{tooltipHeight:t,tooltipWidthHalf:n}=this.state;!e||n&&t||this.setState({tooltipWidthHalf:e.offsetWidth/2,tooltipHeight:e.offsetHeight})},this.state={isOpen:!1,left:0,top:0},this.tooltipContainer=Ye.createRef()}render(){const{left:n,top:s,isOpen:r,tooltipWidthHalf:i,tooltipHeight:o}=this.state,a=`translate3d(${Iqe(n,i,window.innerWidth,!1)}px, ${Iqe(s,o,window.innerHeight,!0)}px, 0px)`;return Ye.createElement("g",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},r&&Ye.createElement(ine,null,Ye.createElement("div",{className:"zhc-svg-tooltip-container",style:{transform:a},ref:this.tooltipContainer},Ye.createElement(e,this.props))),Ye.createElement(t,this.props))}})),gHe=EHe;function fHe(){return fHe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fHe.apply(this,arguments)}class _He extends Ye.PureComponent{render(){const{modifiers:e,children:t,baseClass:n,style:s}=this.props,r=(0,_t.DG)(n,e),i=(0,_I.default)(n,r);return Ye.createElement("div",{className:i,style:s},t)}}_He.propTypes={baseClass:SI().string.isRequired,children:SI().node.isRequired,modifiers:SI().arrayOf(SI().string),style:SI().shape({})},_He.defaultProps={modifiers:[],style:{}};class vHe extends Ye.PureComponent{render(){const{modifiers:e,children:t,style:n,title:s}=this.props,r=s?Ye.createElement("div",{className:"zhc-svg-tooltip__title"},s):null;return Ye.createElement(_He,{baseClass:"zhc-svg-tooltip__section",modifiers:e,style:n},r,t)}}vHe.propTypes={children:SI().node,modifiers:SI().arrayOf(SI().string),style:SI().shape({}),title:SI().string},vHe.defaultProps={children:null,modifiers:[],style:{},title:null};const IHe=e=>Ye.createElement(_He,fHe({},e,{baseClass:"zhc-svg-tooltip"}));var bHe=n(93603);const yHe=e=>{const{classNames:t,xScale:n,yScale:s,date:r,legend:i,style:o,textVerticalOffset:a}=e,l=(0,_I.default)("zhc-chart-date-marker","zhc-chart-date-marker--visible",t),c=s.range(),[d,u]=n.range(),p=n(r),m=[{x:r,y:(0,pqe.Z)(c)},{x:r,y:(0,bHe.Z)(c)-15}],h=p<.25*(u-d)?"start":"end";return Ye.createElement(gqe,{classNames:l},Ye.createElement("text",{x:p,y:a,textAnchor:h},i),Ye.createElement(Wqe,{xScale:n,yScale:e=>e,x:e=>e.x,y:e=>e.y,data:m,style:o}))};yHe.propTypes={classNames:SI().arrayOf(SI().string),date:SI().instanceOf(Date),legend:SI().string,style:SI().shape({}),textVerticalOffset:SI().number,xScale:SI().func,yScale:SI().func},yHe.defaultProps={classNames:[],legend:"Date",textVerticalOffset:0,xScale:()=>{},yScale:()=>{},style:{}};const SHe=yHe,wHe=e=>{const{xScale:t,yScale:n,date:s,tooltipToAttach:r,tooltipText:i,tooltipShowTimeLeft:o}=e,a=n.range(),l=[{x:s,y:(0,pqe.Z)(a)},{x:s,y:(0,bHe.Z)(a)-15}],c=r(Wqe),d={date:s,tooltipText:i,tooltipShowTimeLeft:o};return Ye.createElement(gqe,{classNames:"zhc-chart-date-marker"},Ye.createElement(c,{tooltipData:d,xScale:t,yScale:e=>e,x:e=>e.x,y:e=>e.y,data:l,style:{strokeWidth:14,strokeOpacity:0}}))};wHe.defaultProps={tooltipShowTimeLeft:!0},wHe.propTypes={tooltipText:SI().string.isRequired,tooltipToAttach:SI().func.isRequired,xScale:SI().func.isRequired,yScale:SI().func.isRequired,date:SI().instanceOf(Date),tooltipShowTimeLeft:SI().bool};const RHe=wHe;function THe(){return THe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},THe.apply(this,arguments)}const CHe=e=>{const{date:t,xScale:n}=e,[s,r]=n.domain();return t<s||t>r?null:Ye.createElement(SHe,THe({classNames:["zhc-release-report-chart__today"],legend:"Today",textVerticalOffset:-15},e))};CHe.propTypes={xScale:SI().func.isRequired,date:SI().instanceOf(Date)};const kHe=CHe;var OHe=n(50228),NHe=n(81829);function PHe(){return PHe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},PHe.apply(this,arguments)}const AHe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--tag-white",t].filter(Boolean).join(" "),"aria-label":"tag-white",role:"img",...n};return Ye.createElement("svg",PHe({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 14 16"},s),Ye.createElement("path",{d:"M6.73 2.73C6.26 2.26 5.62 2 4.96 2H2.5C1.13 2 0 3.13 0 4.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 000-1.41L6.73 2.73zM1.38 8.09c-.31-.3-.47-.7-.47-1.13V4.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM2.01 4h2v2H2V4z"}))},DHe=ee.OH4("state","closed"),LHe=e=>ee.qCK(parseFloat,ee.Uth(0,e)),zHe=LHe("completed_story_points"),MHe=LHe("total_story_points"),xHe=ee.KJl(DHe,zHe,MHe),FHe=ee.Uth(0,"completed_issues"),UHe=ee.Uth(0,"total_issues"),BHe=ee.qCK(_t.rK,zHe),qHe=ee.qCK(_t.rK,MHe),HHe=(ee.qCK(ee.BBt,FHe),ee.qCK(ee.BBt,UHe),ee.vgT("name")),WHe=ee.vgT("color"),jHe=ee.vgT("title"),GHe=ee.hXT(DHe),KHe=ee.qCK(ee.kE,GHe),VHe=ee.hXT(DHe),$He=ee.qCK(ee.UID(zHe),VHe),ZHe=ee.qCK(ee.Smz,$He),YHe=ee.qCK(oHe.Z,$He);const JHe=ee.qCK(ee.lt(18),ee.kE),XHe=ee.qCK(ee.v_p(""),ee.R3I("..."),ee.qnb(18)),QHe=ee.gxm(JHe,XHe),eWe=(ee.qCK(QHe,jHe),ee.OH4("selected",!0)),tWe=eWe,nWe=eWe;const sWe={completed_story_points:0,total_story_points:0,completed_issues:0,total_issues:0},rWe=ee.WAo(((e,t)=>{const n=e.key,s=ee.qCK(ee.VO0,ee.pMU({},["stats_by_label"]))(t),r=ee.HK3(HHe,s),i=ee.Uth(sWe,n,r),o=ee.jge("data",e),a=VHe(o),l=ee.UID(ee.ETc(["stats_by_label",n,"completed_story_points"]))(a),c=ee.UID(ee.yAE(0)),d=ee.qCK(ee.J69,c),u=l.length>0?d(l):0;return ee.Jnq([t,i,{avgCompletedByLabel:u}])})),iWe=ee.WAo(((e,t)=>{const n=ee.Uth({},"stats_by_label",e);return ee.Uth(sWe,t,n)})),oWe=ee.WAo(((e,t)=>{const n=ee.hL$(t,e);return iue(WHe(n))})),aWe=SI().shape({avgCompletedByLabel:SI().number,avgCompletedPoints:SI().number,closedMilestones:SI().number,completedPoints:SI().number}),lWe=e=>Ye.createElement("span",{className:"zhc-chart-tooltip__bold"},e),cWe=e=>Ye.createElement("span",{className:"zhc-chart-tooltip__section--title"},e),dWe=e=>{const t=BHe(e),n=qHe(e);return Ye.createElement("div",{className:"zhc-chart-tooltip__story-points"},lWe(t)," of ",lWe(n)," story points completed")},uWe=e=>Ye.createElement("div",{className:"zhc-chart-tooltip__section--lead"},Ye.createElement("div",{className:"zhc-chart-tooltip__section__column"},Ye.createElement("div",null,lWe(function(e){const t=e.start_date;return(0,_t.KN)(t)?"No start date":Bp(t)}(e))),Ye.createElement("div",null,"Start Date")),Ye.createElement("div",{className:"zhc-chart-tooltip__section__column"},Ye.createElement("div",null,lWe(function(e){const t=e.due_on;return(0,_t.KN)(t)?"No due date":Bp(t)}(e))),Ye.createElement("div",null,"End Date")));class pWe extends Ye.PureComponent{render(){const{tooltipData:e}=this.props,{avgCompletedPoints:t,closedMilestones:n,completedPoints:s}=e;return Ye.createElement("div",{className:"zhc-chart-tooltip zhc-chart-tooltip--velocity"},Ye.createElement("div",{className:"zhc-chart-tooltip__section--divided"},cWe("Average Velocity"),Ye.createElement("div",{className:"zhc-chart-tooltip__story-points"},lWe((0,_t.rK)(t))," average velocity over closed sprints")),Ye.createElement("div",{className:"zhc-chart-tooltip__section--lead"},Ye.createElement("div",{className:"zhc-chart-tooltip__section__column"},Ye.createElement("div",null," ",lWe(n)," "),Ye.createElement("div",null,"Closed")),Ye.createElement("div",{className:"zhc-chart-tooltip__section__column"},Ye.createElement("div",null," ",lWe(s)," "),Ye.createElement("div",null,"Story Points"))))}}pWe.propTypes={tooltipData:aWe},pWe.defaultProps={tooltipData:{}};class mWe extends Ye.PureComponent{render(){const{tooltipData:e}=this.props;return Ye.createElement("div",{className:"zhc-chart-tooltip zhc-chart-tooltip--velocity"},Ye.createElement("div",{className:"zhc-chart-tooltip__section--divided"},cWe(jHe(e)),dWe(e)),uWe(e))}}mWe.propTypes={tooltipData:aWe},mWe.defaultProps={tooltipData:{}};class hWe extends Ye.PureComponent{render(){const{tooltipData:e}=this.props,t=(0,_I.default)("zhc-chart-tooltip zhc-chart-tooltip--velocity zhc-chart-tooltip--velocity_label");return Ye.createElement("div",{className:t},Ye.createElement("div",{className:"zhc-chart-tooltip__section--divided"},cWe(jHe(e)),Ye.createElement("div",{className:"zhc-chart-tooltip__section--label"},Ye.createElement(AHe,null),Ye.createElement("span",{className:"zhc-chart-tooltip__section--label_value"},HHe(e)))),Ye.createElement("div",{className:"zhc-chart-tooltip__section--divided"},dWe(e)),Ye.createElement("div",{className:"zhc-chart-tooltip__section--divided"},uWe(e)),Ye.createElement("div",{className:"zhc-chart-tooltip__story-points"},lWe((0,_t.rK)(e.avgCompletedByLabel))," average velocity over closed sprints"))}}hWe.propTypes={tooltipData:aWe},hWe.defaultProps={tooltipData:{}};const EWe=(0,EQ.Z)(),gWe=ee.vgT("x"),fWe=ee.vgT("y"),_We=bqe(pWe,Hqe);class vWe extends Ye.PureComponent{render(){const{xScale:e,yScale:t,data:n}=this.props;if(ee.kE(n)<2)return null;const s=t(YHe(n)),r=e.range(),i=[{x:(0,bHe.Z)(r),y:s},{x:(0,pqe.Z)(r),y:s}],o={avgCompletedPoints:YHe(n),closedMilestones:KHe(n),completedPoints:ZHe(n)},a=Ye.createElement(_We,{tooltipData:o,xScale:EWe,yScale:EWe,x:gWe,y:fWe,data:i,style:{strokeWidth:14,strokeOpacity:0}});return Ye.createElement(gqe,{classNames:"zhc-chart-average-line"},Ye.createElement(Hqe,{xScale:EWe,yScale:EWe,x:gWe,y:fWe,data:i,style:{strokeWidth:2}}),a)}}vWe.propTypes={data:SI().arrayOf(SI().shape({})),xScale:SI().func,yScale:SI().func};const IWe=vWe,bWe=[{color:"var(--zh-theme-color-velocity-chart-closed)",isDefault:!0,label:"Closed"},{color:"var(--zh-theme-color-green-primary)",isDefault:!0,label:"Open"},{color:"var(--zh-theme-color-chart-average-line)",isDefault:!0,label:"Average story points",type:"line"}],yWe=(e,t)=>{const n=DHe(e)||t.length;return(0,_I.default)("zhc-chart-barchart__bar",{"zhc-chart-barchart__bar--open":!n,"zhc-chart-barchart__bar--closed":n})},SWe=e=>e.length<20?e:`${e.substr(0,16)}...`;class wWe extends Ye.PureComponent{render(){const{width:e,height:t,x:n,y:s,marginTop:r,marginBottom:i,marginLeft:o,marginRight:a,barPadding:l,data:c,labels:d}=this.props;if((0,_t.KN)(c))return null;const u=t-r-i,p=e-o-a,m=d.map(HHe),h=c.map(n),E=c.map((e=>(0,OHe.Z)(m.map((t=>s(iWe(e,t))))))),g=(0,pqe.Z)(c,s),f=(0,pqe.Z)(E),_=(0,pqe.Z)([g,f]),v=(0,EQ.Z)().domain([0,_]).rangeRound([u,0]),I=(0,NHe.Z)().domain(h).padding(l).rangeRound([0,p]),b=(p-11*l)/10,y=c.length*(b+l)+l,S=(0,NHe.Z)().domain(h).padding(l).rangeRound([0,y]),w=Ye.createElement(hHe,{xScale:S,marginTop:u,rotateAngle:-45,tickFormat:SWe}),R=Ye.createElement(uHe,{yScale:v,showGridLine:!0,width:p,marginLeft:o,marginTop:r}),T=Ye.createElement(Tqe,{xScale:S,yScale:v,x:n,y:s,data:c,barClassNames:yWe,labels:d,tooltipElement:mWe}),C=Ye.createElement(iHe,{data:c,layerKeys:m,layerColor:oWe(d),layerValue:iWe,xScale:S,yScale:v,x:n,y:s,tooltipElement:hWe,getTooltipData:rWe}),k=0===d.length?Ye.createElement(IWe,{xScale:I,yScale:v,x:n,y:s,data:c}):null;return Ye.createElement("div",{className:"zhc-chart-velocity","data-cy":"chart-velocity"},Ye.createElement("div",{className:"zhc-chart-velocity__left-axis"},Ye.createElement(hqe,{height:t-r,width:50},R)),Ye.createElement("div",{className:"zhc-chart-velocity__chart"},Ye.createElement(hqe,{height:t+r,width:e-50},Ye.createElement(gqe,{marginLeft:10,marginTop:r},w,T,C,k))))}}wWe.propTypes={data:SI().arrayOf(SI().object).isRequired,x:SI().func.isRequired,y:SI().func.isRequired,barPadding:SI().number,height:SI().number,labels:SI().arrayOf(SI().object),marginBottom:SI().number,marginLeft:SI().number,marginRight:SI().number,marginTop:SI().number,width:SI().number},wWe.defaultProps={width:1060,height:400,marginTop:15,marginBottom:40,marginLeft:40,marginRight:40,barPadding:.1,labels:[]};const RWe=wWe,TWe=e=>{let{buttonUrl:t,buttonText:n,onClickClose:s,title:r,content:i,isOpen:o=!1}=e;const a=(0,_I.default)("zhc-chart-info",{"zhc-chart-info--hidden":!o}),l=null==t||null==n?null:Ye.createElement("div",{className:"zhc-chart-info__cta"},Ye.createElement("a",{className:"zhc-btn zhc-btn--default","data-cy":"learn-more",href:t,rel:"noopener noreferrer",target:"_blank"},n));return Ye.createElement("div",{className:a},Ye.createElement("div",{className:"zhc-chart-info__wrapper"},Ye.createElement("div",{className:"zhc-chart-info__header"},Ye.createElement("h3",{className:"zhc-chart-info__title"},r),Ye.createElement("span",{className:"zhc-chart-info__close","data-cy":"close",onClick:s},Ye.createElement(R7,{className:"zhc-chart-info__close",onClick:s}))),Ye.createElement("div",{className:"zhc-chart-info__body"},Ye.createElement("p",{className:"zhc-chart-info__content"},i),l)))},CWe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-chart-container"},t)};CWe.propTypes={children:SI().node.isRequired};const kWe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-chart-container__header"},t)};kWe.propTypes={children:SI().node.isRequired};const OWe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-chart-container__footer"},t)};OWe.propTypes={children:SI().node.isRequired};const NWe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-chart-stats"},t)};NWe.propTypes={children:SI().node.isRequired};const PWe=e=>{let{children:t}=e;return Ye.createElement("h2",{className:"zhc-chart-container__header-title"},t)};PWe.propTypes={children:SI().node.isRequired};SI().string.isRequired,SI().oneOfType([SI().string.isRequired,SI().number.isRequired]);var AWe=n(15724);class DWe extends Ye.PureComponent{render(){const{csvData:e,fileName:t,modifiers:n,title:s,onClick:r}=this.props,i=(0,_t.KN)(e),o=(0,_t.DG)("zhc-export-to-csv",n),a=(0,_I.default)("zhc-export-to-csv",o,{"zhc-export-to-csv--disabled":i});return Ye.createElement(AWe.CSVLink,{onClick:r,className:a,data:e,filename:t},Ye.createElement(D_e,{title:s,iconComponent:Ye.createElement(tNe,null),isDisabled:i,"data-cy":"export"}))}}DWe.propTypes={csvData:SI().oneOfType([SI().arrayOf(SI().object),SI().arrayOf(SI().array)]),fileName:SI().string,modifiers:SI().arrayOf(SI().string),title:SI().string,onClick:SI().func},DWe.defaultProps={csvData:[{}],fileName:"download.csv",modifiers:[],title:"Export to CSV",onClick:()=>{}};const LWe=DWe,zWe=()=>{},MWe=["Repo","Milestone","Start Date","Due Date","Estimated","Completed","Completed Percentage","Status"];class xWe extends Ye.PureComponent{render(){const{onInfoToggle:e,isInfoOpen:t,onInfoClose:n,milestones:s,labels:r,onRemoveLabel:i,onClearAll:o,labelFilterComponent:a,repository:l,onExportReport:c}=this.props,d=ee.hXT(nWe,s),u=ee.hXT(tWe,r),p=ee.UID((e=>({color:iue(e.color),isDefault:!1,label:e.name,type:"rounded"})))(u),m=Ye.createElement("span",{className:"zhc-toggle-chart-info-icon zhu-cursor-pointer",onClick:e},Ye.createElement(T9,null)),h=u.length>1?Ye.createElement("div",{className:"zhc-chart-annotation"},"If a single issue has more than one label assigned, the story points will be counted multiple times on the velocity chart."):null,E=((e,t)=>t.map((t=>{const{title:n,start_date:s,closed_at:r,due_on:i,total_story_points:o,completed_story_points:a}=t;return[e,n,s&&s.substring(0,10),i&&i.substring(0,10),o,a,a/o*100,r?"Closed":"Open"]})))(l,s);return Ye.createElement(CWe,null,Ye.createElement(kWe,{className:"zhc-velocity-chart__header"},Ye.createElement("h2",{className:"zhc-chart-container__header-title"},"Velocity tracking"),Ye.createElement(dNe,{copyLinkText:"Copy link to report",copyLinkToPage:iNe.VELOCITY_CHART},Ye.createElement(LWe,{csvData:[MWe,...E],fileName:`VelocityReport-${l}-${Wp()}.csv`,onClick:c})),m),Ye.createElement(TWe,{buttonText:"Learn more",buttonUrl:"https://help.zenhub.com/support/solutions/articles/43000010358",content:"Velocity tracking helps teams make more accurate goals sprint-by-sprint. Using sprints and estimates, the velocity report displays the total estimation of all issues within a given time period. Using these learnings, teams get more predictability for better sprint planning.",isOpen:t,title:"How to track velocity",onClickClose:n}),Ye.createElement(zqe,{labelFilterComponent:a,labelItems:p,items:bWe,onClick:i,onClearAll:o}),h,Ye.createElement(RWe,{y:xHe,x:jHe,data:d,labels:u,height:440,marginBottom:80}))}}xWe.propTypes={repository:SI().string.isRequired,onInfoClose:SI().func.isRequired,onInfoToggle:SI().func.isRequired,isInfoOpen:SI().bool,labelFilterComponent:SI().element,labels:SI().arrayOf(SI().shape({})),milestones:SI().arrayOf(SI().object),onClearAll:SI().func,onExportReport:SI().func,onRemoveLabel:SI().func},xWe.defaultProps={milestones:[],labels:[],isInfoOpen:!1,onRemoveLabel:zWe,onClearAll:zWe,labelFilterComponent:null,onExportReport:zWe};const FWe=xWe,UWe="UQVZm8_jnyuB0Gd5jbvf",BWe=yEe((e=>{let{name:t,color:n,negated:s=!1,isSpecialFilter:r=!1}=e;const i=(0,_I.default)("zhc-label-item__name",{[UWe]:r});return Ye.createElement("div",{className:"zhc-selection-list-item zhc-label-item","data-testid":"zh-label-item"},n?Ye.createElement("div",{className:"zhc-label-item__color",style:{backgroundColor:iue(n)}}):null,s&&Ye.createElement("div",{className:"zhc-label-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{"data-cy":"label-name",className:i},t))}));function qWe(e,t){(0,Ye.useEffect)((()=>(e&&m8(e,(()=>{t()}),null,!0),()=>{e&&h8(e)})),[t,e])}function HWe(){return HWe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HWe.apply(this,arguments)}const WWe=e=>{let{activeFilter:t,allowNegatedSearch:n,buttonName:s="Labels",clearFilter:r,deselectItem:i,isActive:o,labels:a,listTitle:l="Filter issues by label",onShortcutsUsed:c=(()=>{}),shortcuts:d,selectItem:u,toggleOpen:p}=e;qWe(d,c);const{buttonName:m,tooltipContent:h}=Lfe(a,"name","Labels");return Ye.createElement(kme,{activeFilter:t,allowNegatedSearch:n,buttonIconComponent:Ye.createElement(Zfe,null),buttonName:s||m,clearFilter:r,emptyStateText:"No labels found",filterableChildProp:"name",filterDefaultText:"Filter labels",isActive:o,listTitle:l||"Filter issues by label",toggleOpen:p,tooltipContent:h},a.map((e=>Ye.createElement(BWe,HWe({},e,{key:e.name,filterKey:e.filterKey,select:u,deselect:i})))))};class jWe extends Ye.PureComponent{render(){const{title:e,message:t,modifiers:n,children:s}=this.props,r=(0,_t.DG)("zhc-report-loading",n);return Ye.createElement("div",{className:(0,_I.default)("zhc-report-loading",r)},Ye.createElement("h1",{className:"zhc-report-loading__title"},e),Ye.createElement("div",{className:"zhc-report-loading__msg"},t),Ye.createElement("div",{className:"zhc-report-loading__img"},Ye.createElement(AUe,null),s))}}jWe.propTypes={message:SI().string.isRequired,title:SI().string.isRequired,children:SI().node,modifiers:SI().arrayOf(SI().string)},jWe.defaultProps={children:null,modifiers:[]};const GWe=jWe,KWe={main:"ynDrmpDlSJ3CAl0BjDA7",tag:"tfXDIK6AMlsggrqVHJey",strongText:"pey2CY82WkM3WePoNsTd",inlineButton:"qhhcSlQgTs8MX_dVIwsi",closeButton:"IW8Re_NRBrW1oc8HLtys",contactSection:"eIVP0D8VJHeA4vxuZqpn"},{onboarding:VWe}=LG,$We="mailto:support@zenhub.com?subject=Milestones Change",ZWe="https://help.zenhub.com/support/solutions/articles/43000611544-an-introduction-to-zenhub-sprints",YWe=e=>{let{openModal:t}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:KWe.strongText}," ","We plan to deprecate Milestone support in the future.")," ",Ye.createElement("button",{onClick:t,className:KWe.inlineButton,type:"button"},"Set up your automated sprints")," ","for a seamless experience or find out more from our"," ",Ye.createElement("a",{href:ZWe,target:"_blank",rel:"noreferrer"},"help centre")," ","or"," ",Ye.createElement("a",{href:$We,target:"_blank",rel:"noreferrer"},"support team."))},JWe=e=>{let{openModal:t}=e;return Ye.createElement(Ye.Fragment,null,"We\u2019ve made running sprints seamless with ZenHub Automated Sprints."," ",Ye.createElement("button",{onClick:t,className:KWe.inlineButton,type:"button"},"Set up your sprints")," ","today or"," ",Ye.createElement("a",{href:ZWe,target:"_blank",rel:"noreferrer"},"learn more"),"."," ",Ye.createElement("span",{className:KWe.strongText},"We plan to deprecate Milestone support in the future."),Ye.createElement("br",null),Ye.createElement("div",{className:KWe.contactSection},"Feel free to"," ",Ye.createElement("a",{href:$We,target:"_blank",rel:"noreferrer"},"contact")," ","our support team with any questions or feedback!"))},XWe=e=>{let{showCloseButton:t=!1,isSmallBanner:n=!1}=e;const s=(0,l3.I0)(),r=(0,l3.v9)((e=>(e=>e?.onboarding?.milestones_deprecation_banner_dismissed)(e))),i=(0,l3.v9)(Are),{openModal:o}=iie();return r?null:i?Ye.createElement(bie,{className:KWe.main},Ye.createElement("div",{className:KWe.content},Ye.createElement("div",{className:KWe.tag},Ye.createElement(Xpe,{type:"primary",content:"Change is coming"})),n?Ye.createElement(YWe,{openModal:o}):Ye.createElement(JWe,{openModal:o})),t&&Ye.createElement(H5,{className:KWe.closeButton,color:L5.SECONDARY,height:A5.SHORT,onClick:()=>{s(VWe.setOnboardingValue({key:"milestones_deprecation_banner_dismissed",value:!0}))},padding:M5.EXTRA_TIGHT,variant:z5.TEXT},Ye.createElement(Z5,null))):null},QWe=n.p+"../../img/built/illustration-velocity.svg",eje=e=>{let{className:t}=e;return Ye.createElement("svg",{width:"750",height:"350",viewBox:"0 0 750 350",className:t,xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("path",{d:"M0 116.157h121.084V350H0zm157.229-27.685h121.084V350H157.229zM314.458 0h121.084v350H314.458zm157.229 41.806h121.084V350H471.687zM628.916 0H750v350H628.916z",fill:"currentColor",fillRule:"evenodd",opacity:"0.7"}))},tje=ee.YjB((function(e){return DHe(e)&&zHe(e)>0})),nje=Ye.createElement(CBe,{imageSrc:QWe,h1Text:"This repository has no valid sprints",descriptionText:"To begin tracking velocity, sprints must be closed and contain closed issues with story point estimates."}),sje=e=>{let{isLoading:t,reportHasOpenMilestones:n}=e;return!t&&n?Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(XWe,null)):null};class rje extends Ye.Component{constructor(e){super(e),this.toggleRepoDropdown=()=>{const{isRepoDropdownActive:e}=this.state;this.setState({isRepoDropdownActive:!e})},this.selectRepo=e=>{const{selectRepo:t}=this.props;t(e.filterKey),this.setState({isRepoDropdownActive:!1})},this.renderRepoDropdown=()=>{const{repo_id:e,repository:t,workspace:n,isLoading:s,milestonesSortedByState:r}=this.props,{isRepoDropdownActive:i}=this.state,o=ee.vgT("organization"),a=ee.vgT("repository"),l=ee.OH4("repo_id",n.defaultRepoId),c=(0,mS.Rv)(n.repos,o,a,l);return Ye.createElement("div",{className:"zhc-velocity__repo-dropdown","data-cy":"velocity-repo"},Ye.createElement(sje,{isLoading:s,reportHasOpenMilestones:(d=r,d.some((e=>!qBe(e)&&"open"===e.state)))}),Ye.createElement(Ome,{isActive:i,buttonName:t,listTitle:"Show velocity tracking by repo",toggleOpen:this.toggleRepoDropdown,emptyStateText:"No repos found",filterableChildProp:"repo",filterDefaultText:"Search repos",allowNegatedSearch:!1,buttonIconComponent:Ye.createElement(Nfe,null)},c.map((t=>Ye.createElement(RBe,{repo:t.repository,organization:t.organization,repo_id:t.repo_id,filterKey:t.repo_id,key:t.repo_id,select:this.selectRepo,selected:t.repo_id===e,isDefaultRepo:t.repo_id===n.defaultRepoId,showDefaultTag:!0})))));var d},this.state={isInfoOpen:e.isInfoOpen,isRepoDropdownActive:!1},this.onClickOpen=this.onClickOpen.bind(this),this.onClickClose=this.onClickClose.bind(this),this.onClickToggle=this.onClickToggle.bind(this)}onClickOpen(){this.setState({isInfoOpen:!0})}onClickClose(){this.setState({isInfoOpen:!1})}onClickToggle(){this.setState((e=>({isInfoOpen:!e.isInfoOpen})))}renderContent(){const{milestonesSortedByPriority:e,milestonesSortedByState:t,isLoading:n,isMilestonesEnabled:s}=this.props,{isInfoOpen:r}=this.state,{labels:i,labelFilterShortcuts:o,isLabelDropdownActive:a,isLabelFilterActive:l,onAddLabel:c,onRemoveLabel:d,onClearLabels:u,onToggleLabelDropdown:p,onShortcutsUsed:m,repository:h,onExportReport:E}=this.props,g=ee.UID((e=>ee.TSy({key:e.name,filterKey:ee.t$q(e.name)},e)),i),f={allowNegatedSearch:!1,activeFilter:l,clearFilter:u,isActive:a,labels:g,deselectItem:d,selectItem:c,toggleOpen:p,listTitle:"Track velocity by labels",shortcuts:o,onShortcutsUsed:m},_=(0,_t.KN)(i)?null:Ye.createElement(WWe,f);if(n)return Ye.createElement(GWe,{title:s?"Comparing sprints and milestones\u2026":"Comparing sprints\u2026",message:"Loading data\u2026"},Ye.createElement(eje,{className:"zhc-report-loading__svg-image"}));if(ee.xbD(e))return nje;if(!tje(e))return Ye.createElement("div",null,nje,Ye.createElement(cqe,this.props));return Ye.createElement("div",null,Ye.createElement(FWe,{onInfoToggle:this.onClickToggle,onInfoClose:this.onClickClose,isInfoOpen:r,milestones:t,labels:i,onRemoveLabel:e=>{let{label:t,isDefault:n}=e;n||d({filterKey:ee.t$q(t)})},onClearAll:u,labelFilterComponent:_,repository:h,onExportReport:E}),Ye.createElement(cqe,this.props))}render(){return Ye.createElement("div",null,this.renderRepoDropdown(),this.renderContent())}}sje.propTypes={isLoading:SI().bool.isRequired,reportHasOpenMilestones:SI().bool.isRequired},rje.propTypes={isLoading:SI().bool.isRequired,repo_id:SI().number.isRequired,repository:SI().string.isRequired,selectRepo:SI().func.isRequired,workspace:SI().shape({defaultRepoId:SI().number,repos:SI().arrayOf(SI().shape({}))}).isRequired,onRemoveLabel:SI().func.isRequired,isInfoOpen:SI().bool,isLabelDropdownActive:SI().bool,isLabelFilterActive:SI().bool,isMilestonesEnabled:SI().bool,labelFilterShortcuts:SI().string,labels:SI().arrayOf(SI().shape({})),milestonesSortedByPriority:SI().arrayOf(SI().shape({})),milestonesSortedByState:SI().arrayOf(SI().shape({})),onAddLabel:SI().func,onClearLabels:SI().func,onExportReport:SI().func,onShortcutsUsed:SI().func,onToggleLabelDropdown:SI().func},rje.defaultProps={isInfoOpen:!1,labels:[],onExportReport:()=>{}};const ije=rje;function oje(e){r6("Report Export",{"Report Type":e})}function aje(){return aje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},aje.apply(this,arguments)}const{shortcuts:lje,velocity:cje}=LG,{sortMilestones:dje}=o,uje={byStateThenChronological:!0},pje=cje.toggleDropdown.bind(void 0,dl),mje=lje.trackShortcutsUsed.bind(null,E8.REPORTS_FILTER_LABELS.name),hje=yl.hasActiveFilterVelocity("labels"),Eje=(0,pa.P1)(Ph,Na,Ba,((e,t,n)=>{const s=e||n;return ee.sEJ(ee.OH4("repo_id",s),t.repos)}));let gje=!0;class fje extends Ye.PureComponent{constructor(e){super(e),this.onRemoveLabel=e=>{let{filterKey:t}=e;const{onRemoveLabel:n}=this.props;n({filterKey:ee.t$q(t),negated:!1})},this.performanceEndMarked=!1}componentDidMount(){const{onInitialLoadSprintData:e,onInitialLoadCombinedVelocityData:t,repo_id:n,workspace:s,isMilestonesEnabled:r}=this.props;r?t(n,s._id):e(s._id),m6(v6.VELOCITY_REPORT_OPENED),r6("Velocity Chart",{Action:"Velocity Chart Viewed",Module:"Power"}),Q3({"Velocity Chart Views":1})}componentDidUpdate(e){const{isLoading:t,onInitialLoadSprintData:n,onInitialLoadCombinedVelocityData:s,repo_id:r,workspace:i,isMilestonesEnabled:o}=this.props;e.repo_id!==r&&(o?s(r,i._id):n(i._id)),!e.isLoading||t||this.performanceEndMarked||(m6(v6.VELOCITY_REPORT_RENDERED),E6([I6.VELOCITY_REPORT_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!gje}])),this.performanceEndMarked=!0)}componentWillUnmount(){const{clear:e}=this.props;gje=!1,e()}render(){return Ye.createElement("div",null,Ye.createElement(yBe,{pageName:"Velocity Tracking"}),Ye.createElement(ije,aje({},this.props,{onRemoveLabel:this.onRemoveLabel,onExportReport:()=>oje("Velocity")})))}}fje.propTypes={clear:SI().func.isRequired,isLoading:SI().bool.isRequired,isMilestonesEnabled:SI().bool.isRequired,repo_id:SI().number.isRequired,repository:SI().string.isRequired,selectRepo:SI().func.isRequired,workspace:SI().shape({_id:SI().string}).isRequired,onInitialLoadCombinedVelocityData:SI().func.isRequired,onInitialLoadSprintData:SI().func.isRequired,onRemoveLabel:SI().func.isRequired};const _je=l3.$j((function(e){const t=Uh(e)||[],n=Eje(e);return{isMilestonesEnabled:Are(e),repo_id:n.repo_id,organization:n.organization,repository:n.repository,milestonesSortedByPriority:dje(t),milestonesSortedByState:dje(t,uje),isLoading:Lh(e),labels:Zh(e),isLabelDropdownActive:Jh(e),isLabelFilterActive:hje(e),labelFilterShortcuts:E8.REPORTS_FILTER_LABELS.shortcuts,workspace:Na(e)}}),(function(e){const t=(0,mr.DE)({clear:cje.clear,selectRepo:cje.setSelectedRepoId,onInitialLoadSprintData:cje.loadSprintVelocityData,onInitialLoadCombinedVelocityData:cje.loadCombinedVelocityData,updateMilestoneStartDate:cje.updateMilestoneStartDate,onSelectMilestone:cje.toggleMilestone,onAddLabel:cje.toggleLabel,onRemoveLabel:cje.toggleLabel,onToggleLabelDropdown:pje,onClearLabels:cje.clearLabelFilter},e);return ee.TSy(t,{onShortcutsUsed(){e(pje()),e(mje())},dispatch:e})}))(fje);function vje(e,t){if(zx.isUrlAsync)return;const n=Zf(e.getState()),s=Ix(t.location.search),r=yx(n);s!==r&&t.replace({pathname:t.location.pathname,hash:t.location.hash,search:`?${r}`})}function Ije(){_x()}const{reports:bje}=LG;const yje=function(e){class t extends Ye.Component{constructor(e){super(e);const{dispatch:t,location:n,workspaceId:s}=e;this.unbindReportsSettings=null,t(bje.initializeDataFromUrl(n,s))}componentDidMount(){const{history:e}=this.props,{store:t}=this.context;this.unbindReportsSettings&&this.unbindReportsSettings(),this.unbindReportsSettings=lI(t),function(e,t){vje(e,t),vx(e,(()=>{vje(e,t)}))}(t,e)}componentWillUnmount(){Ije&&Ije(),this.unbindReportsSettings&&this.unbindReportsSettings()}render(){const{urlDataIsInitialized:t}=this.props;return t?Ye.createElement(e,null):null}}return t.propTypes={dispatch:SI().func.isRequired,history:SI().shape({}).isRequired,location:SI().shape({}).isRequired,urlDataIsInitialized:SI().bool.isRequired,workspaceId:SI().string.isRequired},ee.zGw($8.EN,(e=>(e.WrappedComponent.contextType=l3.ET,e)),(0,l3.$j)((function(e){return{urlDataIsInitialized:Ch(e),workspaceId:Pa(e)}}),(function(e){return{dispatch:e}})))(t)},Sje=ee.zGw(yje,bBe("VELOCITY_CHART"))(_je);function wje(){return wje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wje.apply(this,arguments)}function Rje(e){return t=>{const n=(0,Ye.useRef)(null),s=function(e){const[t,n]=(0,Ye.useState)(null);return(0,Ye.useEffect)((()=>{function t(){requestAnimationFrame((()=>{if(!e||!e.current)return;const t=e.current.clientWidth-2;n(t)}))}return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t}(n);return Ye.createElement("div",{ref:n},Ye.createElement(e,wje({},t,{clientWidth:s})))}}const Tje=e=>{let{isOpen:t,children:n}=e;return t?Ye.createElement(ine,null,n):n},Cje=e=>{let{buttonIcon:t,buttonType:n="selection",children:s,handleToggle:r=_t.ZT,hideToggleButton:i=!1,isMenuOpen:o,menuTitle:a,title:l}=e;const[c,d]=(0,Ye.useState)(o||!1),u=(0,Ye.useRef)(!1);(0,Ye.useEffect)((()=>{null!=o&&d(o);if(c!==o)return c&&!u.current?(xI(),u.current=!0):u.current&&(FI(),u.current=!1),()=>{u.current&&(FI(),u.current=!1)}}),[o]);const p=()=>{d(!c),r(!c)},m=(0,_I.default)("zhc-menu-container__modal",{"zhc-menu-container__modal--is-open":c}),h="selection"===n?Ye.createElement(rae,{name:l,isActive:!1,toggleOpen:p}):Ye.createElement(H5,{ariaLabel:"Toggle",height:A5.SHORT,color:L5.SECONDARY,onClick:p},l,t),E=(0,_t.KN)(a)?l:a;return Ye.createElement("div",{className:"zhc-menu-container"},i?null:Ye.createElement("div",{className:"zhc-menu-container__toggle"},h),Ye.createElement(Tje,{isOpen:c},Ye.createElement("div",{className:m},Ye.createElement("div",{className:"zhc-menu-container__modal-overlay",onClick:p}),Ye.createElement("div",{className:"zhc-menu-container__modal-wrapper"},Ye.createElement("div",{className:"zhc-menu-container__header zhc-selection-list-deprecated__header"},Ye.createElement("span",{className:"zhc-selection-list-deprecated__header__text"},E),Ye.createElement(H5,{ariaLabel:"close",className:"zhc-selection-list-deprecated__cancel zhu-cursor-pointer",variant:z5.TEXT,padding:M5.TIGHT,height:A5.SHORT,onClick:p},Ye.createElement(R7,null))),Ye.createElement("div",{className:"zhc-menu-container__modal-content"},1===Ye.Children.count(s)?s:s[0])))),Ye.createElement("div",{className:"zhc-menu-container__secondary","data-cy":"menu-secondary"},Ye.Children.count(s)>1&&Ye.Children.map(s,((e,t)=>t<1?null:e))))},kje=(0,Ye.memo)(Cje),Oje=e=>{let{children:t,modifiers:n=[]}=e;const s=n.map((e=>`zhc-menu-bar--${e}`)).join(" ");return Ye.createElement("div",{className:`zhc-menu-bar ${s}`,"data-cy":"menu-bar","data-testid":"menu-bar"},t)},Nje=e=>{let{children:t,type:n="",classNames:s=""}=e;const r=(0,_I.default)(s,"zhc-menu-bar-item",{[`zhc-menu-bar-item--${n}`]:n});return Ye.createElement("div",{className:r,"data-cy":"menu-bar-item","data-testid":"menu-bar-item"},t)};function Pje(){return Pje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pje.apply(this,arguments)}class Aje extends Ye.PureComponent{constructor(e){super(e),this.renderRepoFilterFooter=()=>{const{onClickEditWorkspace:e}=this.props;return Ye.createElement("div",{className:"zhc-repo-filter__footer"},Ye.createElement(kpe,{modifiers:["text","text-primary","text-tight"],onClick:e,"data-cy":"edit-workspace",text:"Edit workspace"}),Ye.createElement(kpe,{modifiers:["primary-bordered"],onClick:this.handleMergeRepoClick,"data-cy":"add-repos",text:"Add repos"}))},this.handleMergeRepoClick=this.handleMergeRepoClick.bind(this)}componentDidMount(){const{onShortcutsUsed:e,shortcuts:t}=this.props;ee.kKJ(t)||m8(t,e,null,!0)}componentWillUnmount(){const{shortcuts:e}=this.props;ee.kKJ(e)||h8(e)}handleMergeRepoClick(){const{onClickMergeRepos:e,repos:t}=this.props;e(t)}render(){const{defaultRepoId:e,deselectItem:t,hideAddRepo:n,isActive:s,isLocked:r,repos:i,selectItem:o,showAllRepos:a,showCurrentRepo:l,toggleOpen:c}=this.props,d=ee.kKJ(i)||ee.xbD(i)||1===ee.kE(i),u=i.filter(ee.vgT("selected")).length,p=!d&&u<ee.kE(i),m=Dfe(i,"repo","Repos"),h=i.length>1,E=t=>t?.repo_id===e,g=(0,mS.Rv)(i,(e=>e?.organization),(e=>e?.repo),E).map((e=>Ye.createElement(CEe,Pje({},e,{showDefaultTag:!0,key:e.repo_id,filterKey:e.repo_id,allowDisconnect:h&&ee.pMU(!0,["permissions","push"],e),select:o,deselect:t,selected:e.selected,isDefaultRepo:E(e)})))),f=Lfe(g,"title","Repos"),_=p?a:l,v=p?"Show all repos":"Show default repo",I=!r&&!n&&this.renderRepoFilterFooter();return Ye.createElement("div",{className:"zhc-repo-filter__container","data-cy":"repo-filter-container"},Ye.createElement(kme,Pje({},f,{allowNegatedSearch:!1,buttonIcon:null,buttonName:zfe(u,i),clearFilter:_,clearFilterAlwaysOn:!0,clearFilterName:v,emptyStateText:"No repos found",filterableChildProp:"repo",filterDefaultText:"Search repos",footer:I,listTitle:"Filter issues by repo",isActive:s,tooltipContent:m,toggleOpen:c}),g))}}const Dje=SI().shape({organization:SI().string.isRequired,repo:SI().string.isRequired,repo_id:SI().number.isRequired,permissions:SI().shape({push:SI().bool.isRequired}),selected:SI().bool});Aje.propTypes={repos:SI().arrayOf(Dje).isRequired,showAllRepos:SI().func.isRequired,showCurrentRepo:SI().func.isRequired,defaultRepoId:SI().number,deselectItem:SI().func,hideAddRepo:SI().bool,isActive:SI().bool,isLocked:SI().bool,selectItem:SI().func,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),toggleOpen:SI().func,onClickEditWorkspace:SI().func,onClickMergeRepos:SI().func,onShortcutsUsed:SI().func};const Lje=ee.Bxt();Aje.defaultProps={defaultRepoId:null,deselectItem:Lje,hideAddRepo:!1,isActive:!1,isLocked:!1,selectItem:Lje,shortcuts:null,toggleOpen:Lje,onClickEditWorkspace:Lje,onClickMergeRepos:Lje,onShortcutsUsed:Lje};const zje=Rme(Aje),Mje="r9PHTsFmwI4eGSZLSB1s",xje="EWUolrjedSNA4nnLsIRy",Fje=e=>{let{isActive:t,toggleOff:n,toggleOn:s}=e;const r=(0,_I.default)(Mje,{[xje]:t});return Ye.createElement(H5,{className:r,"data-cy":"show-hide-pr",onClick:t?n:s},Ye.createElement(m9,null),Ye.createElement("span",{className:"zhc-burndown-report__toggle-pr__text"},"Show pull requests"))};function Uje(){return Uje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uje.apply(this,arguments)}const Bje=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--flame",t].filter(Boolean).join(" "),"aria-label":"flame",role:"img",...n};return Ye.createElement("svg",Uje({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 12 16"},s),Ye.createElement("path",{d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))};function qje(){return qje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qje.apply(this,arguments)}const Hje=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--issue-closed-red",t].filter(Boolean).join(" "),"aria-label":"issue-closed-red",role:"img",...n};return Ye.createElement("svg",qje({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{clipRule:"evenodd",d:"M3.264 3.547A6.5 6.5 0 001.5 7.999a6.5 6.5 0 0012.757 1.767.75.75 0 111.444.407 8 8 0 11-2.592-8.33.75.75 0 01-.959 1.153 6.5 6.5 0 00-8.886.55zm5.602 7.952a1 1 0 11-1.732-1 1 1 0 011.732 1zM8 3.999a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5a.75.75 0 01.75-.75zm7.78 1.28l-3 3a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 111.06-1.06l.97.97 2.47-2.47a.75.75 0 011.06 1.06z",fill:"currentColor",fillRule:"evenodd"}))},Wje=yEe((e=>{let{name:t,isClosed:n=!1}=e;const s=n?Ye.createElement(Hje,null):null;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-pipeline-item","data-cy":"pipeline-item","data-testid":"pipeline-item"},s,t)}));function jje(){return jje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jje.apply(this,arguments)}const Gje=ee.qCK(ee.wEe(ee.kKJ,ee.fS0(!0)),ee.vgT("isSelectable")),Kje=ee.CyQ(ee.OH4("disabled",!0)),Vje=ee.HkC(Gje,Kje);const $je=e=>{const{pipelines:t}=e,n=Lfe(t,"name","Burn pipelines");return Ye.createElement(kme,jje({},e,n,{allowNegatedSearch:!1,buttonIconComponent:Ye.createElement(Bje,null),filterableChildProp:"name",filterDefaultText:"Filter pipelines",listTitle:"Select burn pipeline",listDescription:"Issues in the selected burn pipelines will be shown as 'completed' in the burndown"}),function(e){return e.pipelines.map((t=>Ye.createElement(Wje,{name:t.name,key:t._id,select:e.selectItem,deselect:e.deselectItem,filterKey:t._id,selected:t.selected,isDisabled:t.disabled,isSelectable:Vje(t)})))}(e))},Zje=SI().shape({_id:SI().string.isRequired,name:SI().string.isRequired});$je.propTypes={activeFilter:SI().bool.isRequired,clearFilter:SI().func.isRequired,deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,pipelines:SI().arrayOf(Zje).isRequired,selectItem:SI().func.isRequired,toggleOpen:SI().func.isRequired};const Yje=$je;function Jje(){return Jje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jje.apply(this,arguments)}const Xje=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--checked-square",t].filter(Boolean).join(" "),"aria-label":"checked-square",role:"img",...n};return Ye.createElement("svg",Jje({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},Ye.createElement("rect",{width:14,height:14,rx:2}),Ye.createElement("rect",{stroke:"currentColor",x:.5,y:.5,width:13,height:13,rx:2}),Ye.createElement("path",{stroke:"currentColor",strokeWidth:1.4,d:"M10.464 5L5.809 9.655 3.7 7.327"})))},{board:Qje}=pr,eGe=ee.WAo(((e,t,n)=>{if(!ee.kKJ(ee.vgT(n,e)))return null;const s=rI(t,n);return ee.kKJ(localStorage[s])?null:("notFullScreen"===n&&(n="isFullScreen"),tG(e,n))}));let tGe=!1;function nGe(e,t){let n=[];n=n.concat(function(){const e=Yk,t=oO(e),n=localStorage[t];if(ee.kKJ(n))return[];const s={pipelineId:e,width:Vt.Z.parseInt10(n)};return[eG(Qje.SET_PIPELINE_COLUMNS,s)]}()),n=n.concat(function(e,t){const n=Qf(t),s=!tGe||!n?.length;return e?.repos&&s?[]:(tGe=!0,(n||[]).map((e=>eG(Qje.ADD_REPO_FILTER,{filterKey:e}))))}(e,t._id,t.defaultRepoId)),n=n.concat(function(e,t){const n=eGe(e,t);return ee.u4g(((e,t)=>{const s=n(t);return ee.kKJ(s)||e.push(s),e}),[],["notFullScreen","showClosed","showPRs","showLabels","showEstimates","showMilestones","showEpics","showReleases","showInsights","showReviewers","showDependencies","showPipelineDescriptions"])}(e,t._id));const s=function(e){return ee.xbD(e)?[]:ee.zGw(Xj,(e=>ee.UID(tG(e),ee.XPQ(e))),ee.xHg,ee.d1t(ee.kKJ))(e)}(e);return n.concat(s)}const sGe=(e,t,n)=>{const s=nGe(e,t);oG(n,s)},rGe="closed-issues-pipeline";function iGe(e){return`${e.repo_id}/${e.issue_number||e.number}`}function oGe(e){return e._id&&e._id===rGe}function aGe(e){return e.reduce(((e,t)=>{const n=e;return n[iGe(t)]=t,n}),{})}function lGe(e){return{_id:e||rGe,name:"Closed",issues:[]}}function cGe(e){const t=ee.d9v(e);return ee.sEJ(oGe,t.pipelines)||t.pipelines.push(lGe()),t}const dGe=ee.zGw(ee.vgT("pipelines"),ee.jge("issues"),ee.xHg);function uGe(e,t){const n=[];return e.forEach(((e,s)=>{const r=iGe(e),i=t[r];let o=null;o=i?ee.TSy(e,i):null,o=o?ee.TSy(o,{position:s}):null,n.push(o)})),ee.d1t(ee.kKJ,n)}const pGe=(e,t)=>{e(EL(t))},mGe=(e,t,n)=>{const s=(e=>Vt.Z.parseQueryString(e.search||""))(e);return sGe(s,t,n),s},hGe=e=>{let{workspace:t,defaultRepo:n,location:s,dispatch:r,getState:i,afterLoad:o=(()=>{})}=e;const a=i();if(kv(a))return null;pGe(r,T_);const l=mGe(s,t,r),c=((e,t)=>{const n=t?.repos?.split(",").map(Number);return n&&n.length?n:Qf(e)})(Pa(a),l),d=Yv(a);return YD.connect(r,t,c,d,n).then((()=>{pGe(r,C_),o()})).catch((e=>{e&&""!==e&&((0,ha.rv)("Failed to connect the board"),oe("BoardConnector.connect failed ",e)),pGe(r,k_)}))},EGe={updateBoard:function(e,t){if(ee.xbD(t))return e;const n=cGe(e),s=aGe(t),r=ee.d1t(oGe,n.pipelines),i=ee.sEJ(oGe,n.pipelines);let o;r.forEach((e=>{const t=e;o=uGe(t.issues,s),t.issues=ee.hXT(Zt,o)})),i.issues=ee.hXT(Yt,t);const a=aGe(dGe(n)),l=ee.d1t((e=>{const t=iGe(e);return a[t]}),t);return r[0].issues=ee.zoF(r[0].issues,l),n},issuePath:iGe,issueAssignees:function(e){const{assignee:t}=e;let n=ee.qhW(ee.is(Array),ee.Bxt([]))(e.assignees);return ee.xbD(n)&&!ee.kKJ(t)&&(n=[t]),n},isClosedPipeline:oGe,closedPipelineId:rGe,maxAmountSelectedIssues:100,mapByRepoPath:aGe,createClosedPipeline:lGe,cloneBoard:cGe,mergeIssuesData:uGe,connectAndLoadBoard:hGe};function gGe(){return gGe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gGe.apply(this,arguments)}const{maxAmountSelectedIssues:fGe}=EGe,_Ge=(e,t)=>t.filter((t=>t.type===e)),vGe=(0,_t.fB)("Point","Points"),IGe=(0,_t.fB)("Issue","Issues"),bGe=e=>{let{clearAll:t,hasSelectedFilter:n=!1,hideStats:s=!1,isSearchActive:r=!1,issueCount:i=0,selectAll:o,tags:a=[],visibleIssues:l=[]}=e;const c=Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,className:"zhc-click-text-button",onClick:t},Ye.createElement(R7,null),"Clear all");if(0===a.length&&!r)return Ye.createElement("div",{className:"zhc-filter-tags"},n?Ye.createElement("div",{className:"zhc-filter-tags__options"},c):null);const d=(e=>{if(!e?.length)return 0;const t=e.reduce(((e,t)=>e+(t.estimate||0)),0);return(0,_t.rK)(t)})(l),u=[_Ge(o_e,a),_Ge(Xfe,a),_Ge(Qfe,a),_Ge(s_e,a),_Ge(n_e,a),_Ge(e_e,a),_Ge(t_e,a),_Ge(i_e,a),_Ge(l_e,a)],p=ee.zGw(ee.UID(ee.MRu(ee.zGw(ee.vgT("text"),ee.t$q))),ee.xHg,ee.hXT(ee.yRu),ee.UID((e=>Ye.createElement(d_e,gGe({key:`${e.type}-${e.filterKey}`},e)))))(u),m=Ye.createElement("span",{"data-zh-flyover":"close"},Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,className:"zhc-click-text-button",onClick:o},Ye.createElement(Xje,null),"Select all")),h=i>fGe?Ye.createElement(YI,{content:`You can only use select all when there are ${fGe} issues or less`},m):m,E=o&&i>0&&i<=100;return Ye.createElement("div",{className:"zhc-filter-tags"},p,Ye.createElement("div",{className:"zhc-filter-tags__options"},!s&&Ye.createElement("div",{className:"zhc-filter-tags__stat"},Ye.createElement("span",{className:"zhc-filter-tags__issue-count"},`${i} ${IGe(i)}`),` - ${d} Story ${vGe(d)}`),Ye.createElement("span",{className:"zhc-filter-tags__emdash"},"\xa0\u2014\xa0"),E&&h,c))},yGe=(0,Ye.memo)(bGe),SGe={ACTIONS:"actions",ASSIGNEE_FILTER:"assignee-filter",AUTHOR_FILTER:"author-filter",BOARD_SETTINGS:"board-settings",DONE:"done",EPIC_FILTER:"epic-filter",FILTER_TAGS:"filter-tags",LABEL_FILTER:"label-filter",ESTIMATE_FILTER:"estimate-filter",MILESTONE_FILTER:"milestone-filter",RELEASE_FILTER:"release-filter",REPO_FILTER:"repo-filter",SEARCH_BAR:"search-bar",SPRINT_FILTER:"sprint-filter",TOGGLE_PRS:"toggle-prs"};class wGe extends Ye.PureComponent{render(){const{activeBurnPipelinesFilter:e,activeLabelsFilter:t,addRepoFilter:n,clearBurnPipelines:s,clearLabelFilter:r,clearLabelFilterTags:i,defaultRepoId:o,deselectBurnPipelinesItem:a,isBurnPipelinesActive:l,isLabelFilterActive:c,isRepoFilterActive:d,isTogglePRsActive:u,labelFilterTags:p,labelFilterShortcuts:m,labels:h,pipelines:E,removeLabelFilter:g,removeRepoFilter:f,repositories:_,selectBurnPipelinesItem:v,selectLabelItem:I,showAllRepos:b,showOneRepo:y,toggleBurnPipelines:S,toggleLabelFilter:w,togglePRsOff:R,togglePRsOn:T,toggleRepoFilter:C,onShortcutsUsed:k}=this.props;return Ye.createElement("div",{className:"zhc-burndown-report-menu-bar"},Ye.createElement(kje,{title:"Filters"},Ye.createElement(Oje,null,_.length<=1?null:Ye.createElement(Nje,{type:SGe.REPO_FILTER},Ye.createElement(zje,{defaultRepoId:o,deselectItem:f,hideAddRepo:!0,isActive:d,repos:_,selectItem:n,showAllRepos:b,showCurrentRepo:y,toggleOpen:C})),Ye.createElement(Nje,{type:SGe.LABEL_FILTER},Ye.createElement(WWe,{activeFilter:t,clearFilter:r,deselectItem:g,isActive:c,labels:h,selectItem:I,toggleOpen:w,shortcuts:m,onShortcutsUsed:k})),Ye.createElement(Nje,{type:SGe.TOGGLE_PRS},Ye.createElement(Fje,{inactiveText:"Show pull requests",isActive:u,primaryText:"Hide pull requests",toggleOff:R,toggleOn:T}))),Ye.createElement(Yje,{activeFilter:e,clearFilter:s,deselectItem:a,isActive:l,pipelines:E,position:kte.RIGHT,selectItem:v,toggleOpen:S})),Ye.createElement(yGe,{clearAll:i,hideStats:t,tags:p}))}}wGe.propTypes={activeBurnPipelinesFilter:SI().bool.isRequired,activeLabelsFilter:SI().bool.isRequired,clearBurnPipelines:SI().func.isRequired,clearLabelFilter:SI().func.isRequired,clearLabelFilterTags:SI().func.isRequired,deselectBurnPipelinesItem:SI().func.isRequired,isBurnPipelinesActive:SI().bool.isRequired,isLabelFilterActive:SI().bool.isRequired,isTogglePRsActive:SI().bool.isRequired,labelFilterTags:SI().arrayOf(SI().oneOfType([SI().string,SI().shape()])).isRequired,labels:SI().arrayOf(SI().shape()).isRequired,pipelines:SI().arrayOf(SI().shape()).isRequired,removeLabelFilter:SI().func.isRequired,removeRepoFilter:SI().func.isRequired,selectBurnPipelinesItem:SI().func.isRequired,selectLabelItem:SI().func.isRequired,toggleBurnPipelines:SI().func.isRequired,toggleLabelFilter:SI().func.isRequired,togglePRsOff:SI().func.isRequired,togglePRsOn:SI().func.isRequired,addRepoFilter:SI().func,defaultRepoId:SI().number,isRepoFilterActive:SI().bool,labelFilterShortcuts:SI().string,repositories:SI().arrayOf(SI().shape()),showAllRepos:SI().func,showOneRepo:SI().func,toggleRepoFilter:SI().func,onShortcutsUsed:SI().func};const RGe=wGe,TGe="var(--zh-theme-color-chart-overlay)",CGe="var(--zh-theme-color-text-tertiary)",kGe="var(--zh-theme-color-brand-blue-primary)",OGe=[{label:"Weekends",color:TGe,isDefault:!0},{label:"Ideal",color:CGe,type:"line",isDefault:!0},{label:"Completed",color:kGe,type:"line",isDefault:!0}],NGe={WeekendsBarChart:{fill:TGe},RemainingStoryPointsAreaChart:{opacity:.2},ReferenceLineChart:{stroke:CGe,strokeWidth:2,strokeDasharray:"5, 5"},RemainingStoryPointsLineChart:{stroke:"var(--zh-theme-color-brand-blue-primary)",strokeWidth:2},CompletedPointsScatterChart:{fill:kGe,stroke:"var(--zh-theme-color-bg-light)",strokeWidth:1.5}},PGe={title:"How to use a burndown chart",url:"https://help.zenhub.com/support/solutions/articles/43000010356",content:"Burndown charts help teams meet deadlines more predictably. Using GitHub milestones with estimated issues, teams get a visual representation of the speed at which work needs to be closed or completed, in order to complete all issues included in the milestone."},AGe={NO_START_DATE:"This milestone has no start date",NO_DUE_DATE:"This milestone has no due date",INVALID_DATES:"This milestone has invalid dates",NO_VALID_ISSUES:"Add estimated issues to the milestone to generate the burndown chart"};const DGe=e=>null==e,LGe=e=>{let{total:t,completed:n,type:s,showPRs:r,isClosed:i,testId:o,entityName:a}=e;const l=DGe(t)<0,c=DGe(n)||n<0||n>t;if(l||c)return null;const d=`Issues ${r?"and pull requests ":""}that were not closed within the ${a} period will not be counted`;return Ye.createElement("div",{"data-testid":o,className:"zhc-burndown-chart__stats","data-cy":"burndown-chart-stats"},Ye.createElement(mde,{type:s,total:t,completed:n}),Ye.createElement("div",{className:"zhc-burndown-chart__stats__total-label"},function(e,t,n,s){const r=(s/t*100).toFixed(0);if(e===pde.ISSUES){const e=n?" and pull requests":"";return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,`Issues${e}`),Ye.createElement("span",null,`${r}%`))}return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null,"Story Points"),Ye.createElement("span",null,`${r}%`))}(s,t,r,n)),Ye.createElement("div",{className:"zhc-burndown-chart__stats__detail"},Ye.createElement("div",{className:"zhc-burndown-chart__stats__detail-completed"},"Completed",Ye.createElement("strong",null,n)),Ye.createElement("div",{className:"zhc-burndown-chart__stats__detail-remaining","data-testid":"incompleteStat"},i?Ye.createElement("span",null,"Incomplete",Ye.createElement(YI,{content:d,modifiers:["text-center"],position:jI.TOP},Ye.createElement(T9,{className:"zhc-burndown-chart__stats__detail__help-icon"}))):"Remaining",Ye.createElement("strong",null,(0,_t.rK)(t-n))),Ye.createElement("div",{className:"zhc-burndown-chart__stats__detail-total"},"Total",Ye.createElement("strong",null,t))))};LGe.propTypes={isClosed:SI().bool.isRequired,completed:SI().number,entityName:SI().oneOf(["milestone","sprint"]),showPRs:SI().bool,testId:SI().string,total:SI().number,type:SI().string},LGe.defaultProps={testId:""};const zGe=e=>{let{message:t}=e;return Ye.createElement("div",{className:"zhc-burndown-chart__stats"},Ye.createElement(mde,{type:pde.ISSUES,total:0,completed:0}),Ye.createElement("div",{className:"zhc-burndown-chart__stats__total-label"},t))};zGe.propTypes={message:SI().string};const MGe=Ye.createElement(NWe,null,Ye.createElement(zGe,{message:"Loading story points\u2026"}),Ye.createElement(zGe,{message:"Loading issues and pull requests\u2026"})),xGe=e=>{let{totalIssues:t,completedIssues:n,completedStoryPoints:s,totalStoryPoints:r,showPRs:i,isLoadingIssues:o,isEntityClosed:a,entityName:l}=e;return o?MGe:Ye.createElement(NWe,null,Ye.createElement(LGe,{type:pde.STORY_POINTS,total:(0,_t.rK)(r),completed:(0,_t.rK)(s),isClosed:a,showPRs:i,testId:"pointStats",entityName:l}),Ye.createElement(LGe,{type:pde.ISSUES,total:t.length,completed:n.length,showPRs:i,isClosed:a,testId:"issueStats",entityName:l}))};xGe.propTypes={isEntityClosed:SI().bool.isRequired,completedIssues:SI().arrayOf(SI().shape({})),completedStoryPoints:SI().number,entityName:SI().oneOf(["milestone","sprint"]),isLoadingIssues:SI().bool,showPRs:SI().bool,totalIssues:SI().arrayOf(SI().shape({})),totalStoryPoints:SI().number};const FGe=xGe;var UGe=n(66643);const BGe=e=>{let{className:t}=e;return Ye.createElement("svg",{width:"750",height:"350",viewBox:"0 0 750 350",className:t,xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("path",{d:"M0 0h76.048v33.572h184.099v126.449H483.51v96.706h186.217v38.718H750V350H0z",fill:"currentColor",fillRule:"evenodd"}))},qGe=e=>{let{message:t,isLoading:n}=e;const s=t?Ye.createElement("div",{className:"zhc-burndown-chart__placeholder"},Ye.createElement("p",{className:"zhc-burndown-chart__placeholder__message"},t)):null,r=n?Ye.createElement("div",{className:"zhc-report-loading__img"},Ye.createElement(BGe,{className:"zhc-report-loading__svg-image"}),Ye.createElement(AUe,null)):null;return Ye.createElement("div",{className:"zhc-burndown-chart"},s,r)};qGe.defaultProps={message:"",isLoading:!1},qGe.propTypes={isLoading:SI().bool,message:SI().string};const HGe=qGe,WGe=(0,_t.fB)("Point","Points");class jGe extends Ye.PureComponent{constructor(){super(...arguments),this.getIssueSection=e=>{const t=ee.kKJ(e.estimate)?null:Ye.createElement("div",null,function(e){return`Completed ${e} Story ${WGe(e)}`}(e.estimate));return Ye.createElement("div",{key:e.number,className:"zhc-chart-tooltip__content"},`#${e.number}`," ",Ye.createElement("span",{className:"zhu-font-bold"},e.title),t)}}render(){const{tooltipData:e}=this.props,{date:t,issues:n}=e;return Ye.createElement("div",{className:"zhc-chart-tooltip zhc-chart-tooltip--burndown"},Ye.createElement("div",{className:"zhc-chart-tooltip__section--title"},Vp(t)),ee.UID(this.getIssueSection,n))}}jGe.propTypes={tooltipData:SI().shape({date:SI().instanceOf(Date),issues:SI().arrayOf(SI().shape({}))})};const GGe=jGe,KGe=ee.vgT("event_date"),VGe=ee.Uth(0,"estimate"),$Ge=ee.zGw(ee.UID(VGe),ee.Smz),ZGe=ee.yTy(Number,"estimate");function YGe(e,t){const n=e+t.totalEstimates;return[n,ee.yGi("totalEstimatesToDate",n,t)]}const JGe=ee.zGw(KGe,Sp);function XGe(e,t){const n=$Ge(e);return{date:bp(t),issues:e,totalEstimates:n}}function QGe(e,t){return t.number?e?`${e},${t.number}`:t.number:e}function eKe(e,t,n,s,r){const i=$Ge(s),o=ee.vMG((e=>KGe(e)?Kp(KGe(e)):null),r),a=Tp(e,t),l=function(e,t){return zp(e,t).reduce(((e,t)=>[...e,Kp(t.start),Kp(t.end)]),[])}(e,t),c=a-l.length,d=i/c;let u=0,p=0;const m=function(e,t,n){const s=Tp(e,t),r=[];for(let t=0;t<=s;t+=1){const s=Kp(Yp(e,"days",t));r.push(n(s,t))}return r}(e,t,((e,t)=>{const s=!l.includes(e),r=Lp(e,n);p+=s&&t>0?d:0;const a=o[e]||[];return u+=$Ge(a),[e,i,r?i-u:null,r?u:null,p.toFixed(2),a.reduce(QGe,"")]}));return[["Date","Total","Remaining","Completed","Ideal","Issues Completed"],...m]}const tKe=ee.Uth(null,"date"),nKe=ee.qCK(ee.xbD,ee.vgT("issues"));class sKe extends Ye.Component{render(){const{width:e,height:t,marginTop:n,marginBottom:s,marginLeft:r,marginRight:i,startDate:o,dueDate:a,completedIssues:l,isLoadingIssues:c,totalStoryPoints:d}=this.props;if(c)return Ye.createElement(HGe,{isLoading:!0});const u=t-n-s,p=e-r-i,m=(0,UGe.Z)().domain([o,a]).rangeRound([0,p]),h=(0,EQ.Z)().domain([0,d]).rangeRound([u,0]),E=ee.qCK(ee.$XF(d),ee.vgT("totalEstimatesToDate")),g=ee.qhW(ee.qCK(ee.fS0(o),tKe,ee.YMb),ee.Ce7({date:o,issues:[],totalEstimates:0})),f=bp(Sp(new Date));const _=ee.qCK(ee.hL$(1),ee.zJu(YGe,0),(function(e){return a>f?e:ee.qhW(ee.qCK(ee.fS0(a),tKe,ee.Z$Q),ee.R3I({date:a,issues:[],totalEstimates:0}))(e)}),g,ee.MRu(tKe),(function(e){return o>f||a<f?e:ee.R3I({date:f,issues:[],totalEstimates:0})(e)}),ee.VO0,ee.IDH(XGe),(0,_t.vM)(JGe)),v=_(l),I=zp(o,a);function b(e){const t=bp(e.start),n=bp(e.end);return[{x:t,y:0},{x:t,y:d},{x:n,y:d},{x:n,y:0}]}const y=function(e){return e.map((e=>kp(e.start,e.end,"hours")>24?2:1)).reduce(((e,t)=>e+t),0)}(I),S=((e,t)=>cc()(e).subtract(t,"days").toDate())(a,y),w=d/m(S);const R=ee.xHg([{x:o,y:d},{x:a,y:0},I.map((function(e,t,n){const s=bp(e.start),r=bp(e.end),i=n.map((e=>{const t=bp(e.start),n=bp(e.end);return Lp(s,n)&&m(n)-m(t)})).reduce(((e,t)=>e+t),0),o=m(a)-m(s)-i;return[{x:r,y:w*o},{x:s,y:w*o}]}))]),T=ee.d1t(nKe,v);return Ye.createElement(hqe,{width:e,height:t},Ye.createElement(gqe,{marginLeft:r,marginTop:n},Ye.createElement(hHe,{xScale:m,marginTop:u}),Ye.createElement(uHe,{yScale:h,showGridLine:!0,width:p}),ee.UID((e=>Ye.createElement(vqe,{key:e.start,x:ee.vgT("x"),y:ee.vgT("y"),data:b(e),xScale:m,yScale:h,style:NGe.WeekendsBarChart})),I),Ye.createElement(vqe,{x:tKe,y:E,data:v,xScale:m,yScale:h,curveGenerator:uqe.cD,style:NGe.RemainingStoryPointsAreaChart}),Ye.createElement(Wqe,{x:ee.vgT("x"),y:ee.vgT("y"),data:R,xScale:m,yScale:h,style:NGe.ReferenceLineChart}),Ye.createElement(Wqe,{x:tKe,y:E,data:v,xScale:m,yScale:h,curve:uqe.cD,style:NGe.RemainingStoryPointsLineChart}),Ye.createElement(kHe,{date:f,xScale:m,yScale:h}),Ye.createElement(Vqe,{x:tKe,y:E,data:T,xScale:m,yScale:h,tooltipToAttach:bqe(GGe),tooltipData:ee.eiS(["date","issues"]),style:NGe.CompletedPointsScatterChart})))}}sKe.defaultProps={width:1080,height:400,marginLeft:50,marginRight:40,marginTop:30,marginBottom:40},sKe.propTypes={completedIssues:SI().arrayOf(SI().shape({})),dueDate:SI().instanceOf(Date),height:SI().number,isLoadingIssues:SI().bool,marginBottom:SI().number,marginLeft:SI().number,marginRight:SI().number,marginTop:SI().number,startDate:SI().instanceOf(Date),totalStoryPoints:SI().number,width:SI().number};const rKe=sKe,iKe=n.p+"../../img/built/illustration-no-start-date.svg",oKe=n.p+"../../img/built/illustration-burndown.svg",aKe=n.p+"../../img/built/illustration-set-estimate.svg";function lKe(){return lKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lKe.apply(this,arguments)}const cKe=ee.OH4("selected",!0);class dKe extends Ye.Component{constructor(e){super(e),this.ref=Ye.createRef();const{isInfoOpen:t}=e;this.state={isInfoOpen:t},this.onClickClose=this.onClickClose.bind(this),this.onClickToggle=this.onClickToggle.bind(this)}onClickClose(){this.setState({isInfoOpen:!1})}onClickToggle(){this.setState((e=>({isInfoOpen:!e.isInfoOpen})))}render(){const{isInfoOpen:e}=this.state,{activeBurnPipelinesFilter:t,activeLabelsFilter:n,addRepoFilter:s,boardPath:r,clearBurnPipelines:i,clearLabelFilter:o,clearLabelFilterTags:a,clientWidth:l,completedIssues:c,completedStoryPoints:d,defaultRepoId:u,deselectBurnPipelinesItem:p,dueDate:m,isBurnPipelinesActive:h,isLabelFilterActive:E,isLoadingIssues:g,isRepoFilterActive:f,isTogglePRsActive:_,labelFilterTags:v,labelFilterShortcuts:I,labels:b,organization:y,pipelines:S,removeLabelFilter:w,removeRepoFilter:R,repository:T,repositories:C,selectBurnPipelinesItem:k,selectLabelItem:O,showAllRepos:N,showOneRepo:P,startDate:A,title:D,toggleBurnPipelines:L,toggleLabelFilter:z,togglePRsOff:M,togglePRsOn:x,toggleRepoFilter:F,totalIssues:U,totalStoryPoints:B,onShortcutsUsed:q,onExportReport:H,emptyStateCopyMap:W,noIssuesImg:j,noEstimatesImg:G,burndownOnboardingCopy:K,entityName:V,entityId:$}=this.props,Z=K||PGe,Y=W||AGe;if(!vp(A)||!vp(m)||!UBe(A,m))return J=Y.INVALID_DATES,Ye.createElement(CBe,{imageSrc:iKe,h2Text:J,modifiers:["invalid-milestone"]});var J;const X=(0,_t.KN)(U),Q=ee.YPD(ZGe,U),te=ee.$6P(cKe,C),ne=n||!_||!te,se=Ye.createElement(RGe,{activeBurnPipelinesFilter:t,activeLabelsFilter:n,addRepoFilter:s,clearBurnPipelines:i,clearLabelFilter:o,clearLabelFilterTags:a,defaultRepoId:u,deselectBurnPipelinesItem:p,isBurnPipelinesActive:h,isLabelFilterActive:E,isRepoFilterActive:f,isTogglePRsActive:_,labelFilterTags:v,labels:b,pipelines:S,removeLabelFilter:w,removeRepoFilter:R,repositories:C,selectBurnPipelinesItem:k,selectLabelItem:O,showAllRepos:N,showOneRepo:P,toggleBurnPipelines:L,toggleLabelFilter:z,togglePRsOff:M,togglePRsOn:x,toggleRepoFilter:F,labelFilterShortcuts:I,onShortcutsUsed:q});if(!g&&(X||Q)){const e=X?j||oKe:G||aKe;return Ye.createElement(Ye.Fragment,null,ne?se:null,Ye.createElement(CBe,{imageSrc:e,descriptionText:Y.NO_VALID_ISSUES,modifiers:["invalid-milestone"],boardPath:r,organization:y,repository:T}))}const re=ee.eiS(["totalIssues","completedIssues","completedStoryPoints","totalStoryPoints","incompleteIssues","incompleteStoryPoints","isEntityClosed","showPRs","isLoadingIssues"],this.props);return Ye.createElement(Ye.Fragment,null,se,Ye.createElement(CWe,null,Ye.createElement(kWe,{className:"zhc-chart-burndown--header"},Ye.createElement("h2",{className:"zhc-chart-container__header-title"},"Burndown report"),Ye.createElement(dNe,{isDisabled:g,copyLinkText:"Copy link to report",copyLinkToPage:"sprint"===V?iNe.BURNDOWN_CHART_SPRINTS:iNe.BURNDOWN_CHART_MILESTONES,entityId:$},Ye.createElement(LWe,{csvData:eKe(A,m,new Date,U,c),onClick:H,fileName:`Burndown Report - ${T} - ${D} - ${Wp()}.csv`})),Ye.createElement("span",{className:"zhc-chart-container__info-toggle zhu-cursor-pointer",onClick:this.onClickToggle},Ye.createElement(T9,null))),Ye.createElement(TWe,{buttonText:"Learn more",buttonUrl:Z.url,content:Z.content,isOpen:e,title:Z.title,onClickClose:this.onClickClose}),Ye.createElement(zqe,{items:OGe}),l<=0?null:Ye.createElement(rKe,{width:l,startDate:A,dueDate:m,totalIssues:U,completedIssues:c,isLoadingIssues:g,totalStoryPoints:B,completedStoryPoints:d}),Ye.createElement(OWe,null,Ye.createElement(FGe,lKe({},re,{entityName:V})))))}}dKe.propTypes={boardPath:SI().string.isRequired,onExportReport:SI().func.isRequired,activeBurnPipelinesFilter:SI().bool,activeLabelsFilter:SI().bool,addRepoFilter:SI().func,burndownOnboardingCopy:SI().shape({content:SI().string,title:SI().string,url:SI().string}),clearBurnPipelines:SI().func,clearLabelFilter:SI().func,clearLabelFilterTags:SI().func,clientWidth:SI().number,completedIssues:SI().arrayOf(SI().shape({})),completedStoryPoints:SI().number,defaultRepoId:SI().number,deselectBurnPipelinesItem:SI().func,dueDate:SI().instanceOf(Date),emptyStateCopyMap:SI().shape({}),entityId:SI().string,entityName:SI().oneOf(["milestone","sprint"]),isBurnPipelinesActive:SI().bool,isInfoOpen:SI().bool,isLabelFilterActive:SI().bool,isLoadingIssues:SI().bool,isRepoFilterActive:SI().bool,isTogglePRsActive:SI().bool,labelFilterShortcuts:SI().string,labelFilterTags:SI().arrayOf(SI().oneOfType([SI().string,SI().shape()])),labels:SI().arrayOf(SI().shape({})),noEntitiesState:SI().node,noEstimatesImg:SI().node,noIssuesImg:SI().node,organization:SI().string,pipelines:SI().arrayOf(SI().shape({})),removeLabelFilter:SI().func,removeRepoFilter:SI().func,repositories:SI().arrayOf(SI().shape({})),repository:SI().string,selectBurnPipelinesItem:SI().func,selectLabelItem:SI().func,showAllRepos:SI().func,showOneRepo:SI().func,startDate:SI().instanceOf(Date),title:SI().string,toggleBurnPipelines:SI().func,toggleLabelFilter:SI().func,togglePRsOff:SI().func,togglePRsOn:SI().func,toggleRepoFilter:SI().func,totalIssues:SI().arrayOf(SI().shape({})),totalStoryPoints:SI().number,onShortcutsUsed:SI().func},dKe.defaultProps={emptyStateCopyMap:null,clientWidth:0,noEntitiesState:null,noEstimatesImg:null,noIssuesImg:null};const uKe=Rje(dKe);function pKe(){return pKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pKe.apply(this,arguments)}const mKe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--issue-closed",t].filter(Boolean).join(" "),"aria-label":"issue-closed",role:"img",...n};return Ye.createElement("svg",pKe({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.485 20.485a12 12 0 10-16.97-16.97 12 12 0 0016.97 16.97zm-1.59-1.59a9.75 9.75 0 10-13.79-13.79 9.75 9.75 0 0013.79 13.79zm-1.673-9.512c.005.292-.103.574-.302.787l-5.25 5.25a1.125 1.125 0 01-1.59 0l-3-3a1.125 1.125 0 011.59-1.59l2.205 2.205L15.33 8.58a1.125 1.125 0 011.892.803z",fill:"currentColor"}))};function hKe(){return hKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hKe.apply(this,arguments)}const EKe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--board",t].filter(Boolean).join(" "),"aria-label":"board",role:"img",...n};return Ye.createElement("svg",hKe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.333 2H2C1.264 2 .667 2.597.667 3.333v9.334C.667 13.403 1.264 14 2 14h1.333c.737 0 1.334-.597 1.334-1.333V3.333C4.667 2.597 4.07 2 3.333 2zM2 12.667V3.333h1.333v9.334H2zm5.333-9.334v9.334h1.334V3.333H7.333zM8.667 2H7.333C6.597 2 6 2.597 6 3.333v9.334C6 13.403 6.597 14 7.333 14h1.334C9.403 14 10 13.403 10 12.667V3.333C10 2.597 9.403 2 8.667 2zm4 1.333v9.334H14V3.333h-1.333zM14 2h-1.333c-.737 0-1.334.597-1.334 1.333v9.334c0 .736.597 1.333 1.334 1.333H14c.736 0 1.333-.597 1.333-1.333V3.333C15.333 2.597 14.736 2 14 2z",fill:"currentColor"}))};function gKe(){return gKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gKe.apply(this,arguments)}const fKe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pin-red",t].filter(Boolean).join(" "),"aria-label":"pin-red",role:"img",...n};return Ye.createElement("svg",gKe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15"},s),Ye.createElement("path",{d:"M5.487 11.066L2.4 14.153c-.628.628-1.571-.314-.943-.943l3.087-3.087-2.357-2.357a.667.667 0 01.095-1.021C3.79 5.712 5.068 5.284 6.39 5.42l1.557-1.558c-.017-1.109.342-2.048 1.277-3.13A.667.667 0 0110.2.694l4.714 4.714a.667.667 0 01-.057.994c-1.257.997-2.07 1.34-3.125 1.274l-1.528 1.528c.224 1.465-.248 2.889-1.389 4.187a.667.667 0 01-.972.031l-2.357-2.357zm3.348-1.932a.667.667 0 01.177-.622l2.001-2.001a.667.667 0 01.56-.19c.664.09 1.119-.01 1.855-.513L9.794 2.174c-.432.646-.554 1.203-.501 1.901a.667.667 0 01-.194.522l-2 2a.667.667 0 01-.588.185c-.88-.156-1.741.028-2.792.63l4.534 4.535c.62-.917.805-1.852.582-2.813z",fill:"currentColor"}))},_Ke=SI().shape({issue_number:SI().number,repo_id:SI().number}),vKe=SI().shape({averageEstimate:SI().number,estimate:SI().number,is_epic:SI().bool,issue_number:SI().number,parent_epics:SI().arrayOf(_Ke),priorityRank:SI().number,pull_request:SI().bool,repo_id:SI().number,state:SI().string,useAverageEstimate:SI().bool}),IKe=e=>FP(e)?null:ZBe.ESTIMATE_CLOSED,bKe=e=>qP(e)?(e=>FP(e)?Ye.createElement(m9,{className:"zhc-issues-list-item__pull_request_open"}):Ye.createElement(m9,{className:"zhc-issues-list-item__pull_request_closed"}))(e):BP(e)?(e=>FP(e)?Ye.createElement(ere,null):Ye.createElement(YMe,null))(e):(e=>FP(e)?Ye.createElement(E9,null):Ye.createElement(mKe,null))(e),yKe=e=>{let{issue:t}=e;return Ye.createElement("div",{className:"zhc-issues-list-item__issue-icon"},bKe(t))};yKe.propTypes={issue:vKe.isRequired};const SKe=e=>{let{issue:t}=e;return HP(t)?Ye.createElement(sqe,{value:t.estimate,type:IKe(t)}):Ye.createElement(wKe,{issue:t})};SKe.propTypes={issue:vKe.isRequired};const wKe=e=>{let{issue:t}=e;const{averageEstimate:n,useAverageEstimate:s,is_epic:r}=t,i=!ee.kKJ(n);let o="Not estimated",a=null;return i&&(r?a="Epics without estimates do not get assigned an average estimate.":(o="Not estimated - avg ",a="Average estimates are automatically added to issues without estimates.")),Ye.createElement(ZI,{content:a,wrapperClassName:(0,_I.default)({"zhc-issues-list__tooltip-wrapper":i})},Ye.createElement("span",{className:"zhc-issues-list__not-estimated"},o),s&&i&&Ye.createElement(sqe,{value:(0,_t.rK)(n),type:ZBe.ESTIMATE_AVERAGE}))};wKe.propTypes={issue:vKe.isRequired,averageEstimate:SI().number},wKe.defaultProps={averageEstimate:null};const RKe=e=>{let{name:t}=e;return(0,_t.KN)(t)?null:Ye.createElement("div",{"data-cy":"issue-item-pipeline","data-testid":"zhc-issues-list-item-pipeline",className:"zhc-issues-list-item__pipeline zhc-issues-list-item--fixed"},Ye.createElement(EKe,null),"\xa0",t)};RKe.propTypes={name:SI().string},RKe.defaultProps={name:null};const TKe=e=>{const t=ee.ETc(["milestone","title"],e);return ee.kKJ(t)?null:Ye.createElement("div",{className:"zhc-issues-list-item__milestone zhc-issues-list-item--truncate","data-cy":"issue-item-milestone"},Ye.createElement(Zee,null),t)},CKe=e=>{let{epics:t}=e;return(0,_t.KN)(t)?null:Ye.createElement("div",{className:'zhc-issues-list-item__epics" data-cy="issue-item-epic'},Ye.createElement(ZI,{content:Ye.createElement("div",{className:"zhc-issues-list-item__epics_tooltip"},Ye.createElement("strong",null,"Epics this Issue belongs to:"),Ye.createElement("ul",null,t.map((e=>Ye.createElement("li",{key:LP(e)},e.title))))),wrapperClassName:"zhc-issues-list__tooltip-wrapper"},Ye.createElement(ere,null),ee.zGw(ee.jge("title"),ee.gxm((e=>{let{length:t}=e;return t>3}),ee.zGw(ee.qnb(2),ee.R3I(`and ${t.length-2} more`))),ee.UID((0,_t.$G)(15)),ee.v_p(", "))(t)))};CKe.propTypes={epics:SI().arrayOf(_Ke)},CKe.defaultProps={epics:[]};const kKe=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-issues-list-item__row","data-cy":"item-row"},t)};kKe.propTypes={children:SI().node.isRequired};const OKe=e=>{let{classes:t,children:n,"data-cy":s,isFixed:r,isTruncated:i}=e;if(ee.kKJ(n))return null;const o=(0,_I.default)("zhc-issues-list-item__row__cell",t,{"zhc-issues-list-item--fixed":r,"zhc-issues-list-item--truncate":i});return Ye.createElement("div",{className:o,"data-cy":s},n)};OKe.propTypes={children:SI().node,classes:SI().arrayOf(SI().string),"data-cy":SI().string,isFixed:SI().bool,isTruncated:SI().bool},OKe.defaultProps={children:null,classes:[],"data-cy":null,isFixed:!1,isTruncated:!1};const NKe=e=>{let{getActionLink:t,hasPermissions:n,issue:s}=e;const r=(0,_t.rS)(((e,t)=>Ye.createElement(uue,{key:t,name:e.name,color:e.color})),s?.labels||[]),i=s.repo_name||s.cached_repo_name,o=s.issue_number||s.number,a=n&&!s.isReadOnly,l=Vne(!0,!1),c=s.priority,d=s.added_on,u={issue_number:o,repository:i,organization:AP(s.html_url)},p=s.closed_at?"Closed":s?.pipeline?.name,m=c?{"--priority-color":s.closed_at?"var(--zh-theme-color-text-tertiary":c.color}:{},h=(0,_I.default)("zhc-issues-list-item__column","zhc-issues-list-item__title_container"),E=(0,_I.default)("zhc-issues-list-item__column","zhc-issues-list-item__meta_container");return Ye.createElement("div",{style:m,className:"zhc-issues-list-item__description"},Ye.createElement(kKe,null,Ye.createElement("div",{className:h},c?Ye.createElement("div",{className:"zhc-issues-list-item__pin-icon"},Ye.createElement(fKe,null)):null,Ye.createElement(OKe,{isTruncated:!0,classes:["zhc-issues-list-item__title"],"data-cy":"issue-item-title"},Yne(u,s.title,l)),r),Ye.createElement(OKe,{classes:["zhc-issues-list-item__estimate"],"data-cy":"issue-item-estimate"},Ye.createElement(SKe,{issue:s}))),Ye.createElement(kKe,null,Ye.createElement("div",{className:E},Ye.createElement(OKe,{isFixed:!0,classes:["zhc-issues-list-item__repo_name"],"data-cy":"issue-item-repo-name"},i),Ye.createElement(OKe,{isFixed:!0,classes:["zhc-issues-list-item__issue_number"],"data-cy":"issue-item-number"},`#${o}`),Boolean(d)&&Ye.createElement(OKe,{isFixed:!0,classes:["zhc-issues-list-item__added_on"],"data-cy":"issue-added-on-date"},`added ${Tp(d,new Date)} days ago`),p&&Ye.createElement(OKe,{isFixed:!0},Ye.createElement(RKe,{name:p})),s.milestone&&Ye.createElement(OKe,{isTruncated:!0},Ye.createElement(TKe,{milestone:s.milestone})),Ye.createElement(OKe,null,Ye.createElement(CKe,{epics:s.parent_epics}))),Ye.createElement(OKe,{classes:["zhc-issues-list-item__action-link"],"data-cy":"action-link"},a?t(s):null)))};NKe.propTypes={getActionLink:SI().func.isRequired,hasPermissions:SI().bool.isRequired,issue:vKe.isRequired};const PKe=e=>Ye.createElement("div",{className:"zhc-issues-list-item","data-cy":"list-item"},Ye.createElement(yKe,{issue:e.issue}),Ye.createElement(NKe,e));PKe.propTypes=NKe.propTypes;const AKe=e=>{let{title:t,issues:n,modifiers:s,hasPermissions:r,getActionLink:i,testId:o}=e;const a=(0,Ye.useMemo)((()=>new gre.t1({fixedWidth:!0,minHeight:57})),[]),l=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{a.clearAll(),l.current&&l.current.forceUpdateGrid()}));const c=e=>{let{parent:t,index:s,key:o,style:l}=e;return Ye.createElement(gre.Z8,{cache:a,columnIndex:0,key:o,parent:t,rowIndex:s},(e=>{let{registerChild:t}=e;return Ye.createElement("div",{ref:t,className:"zhc-issues-list-item__wrapper",style:l,key:o},Ye.createElement(PKe,{issue:n[s],hasPermissions:r,getActionLink:i}))}))};if((0,_t.KN)(n))return null;const d=(0,_t.DG)(["zhc-issues-list"],s);return Ye.createElement("div",{className:(0,_I.default)("zhc-issues-list",d),"data-testid":o,"data-cy":"issue-list"},Ye.createElement("div",{className:"zhc-issues-list__header"},Ye.createElement("span",{className:"zhc-issues-list__header__title","data-cy":"issue-list-header"},t),Ye.createElement("span",{className:"zhc-issues-list__header__points"},"Story points")),Ye.createElement("div",{className:"zhc-issues-list__body"},Ye.createElement(gre._K,null,(e=>{let{height:t,isScrolling:s,scrollTop:r,registerChild:i}=e;return Ye.createElement("div",{ref:e=>i(e)},Ye.createElement(gre.qj,{disableHeight:!0,onResize:()=>{a.clearAll()}},(e=>{let{width:i,onRowsRendered:o}=e;return Ye.createElement(gre.aV,{autoHeight:!0,className:"zhc-issues-list__wrapper",deferredMeasurementCache:a,estimatedRowSize:60,height:t||800,isScrolling:s,ref:l,rowCount:n.length,overscanRowCount:10,rowHeight:a.rowHeight,rowRenderer:c,scrollTop:r,width:i||800,tabIndex:-1,onRowsRendered:o})})))}))))};AKe.propTypes={issues:SI().arrayOf(vKe).isRequired,title:SI().string.isRequired,getActionLink:NKe.propTypes.getActionLink,hasPermissions:NKe.propTypes.hasPermissions,modifiers:SI().arrayOf(SI().string),testId:SI().string},AKe.defaultProps={getActionLink:ee.Bxt(null),hasPermissions:!0,modifiers:[],testId:""};const DKe=AKe,LKe=e=>{let{showPRs:t=!0,openIssues:n=[],completedWithinScopeIssues:s=[],completedBeforeStartDateIssues:r=[],incompleteIssues:i=[],completedOutOfScopeIssues:o=[],entityName:a,isClosed:l=!1}=e;const c=t?" and pull requests":"",d=()=>Ye.createElement(DKe,{title:`Issues${c} completed prior to the ${a} start date`,issues:r,testId:"completedIssuesBeforeStartDate"});return Ye.createElement("div",{className:"zhc-burndown-issues","data-cy":"burndown-issues"},l?Ye.createElement(Ye.Fragment,null,Ye.createElement(DKe,{title:`Completed issues${c}`,issues:s,testId:"completedIssuesList"}),Ye.createElement(DKe,{title:`Incomplete issues${c} that were not completed by the end of the ${a}`,issues:i,testId:"incompleteIssuesList"}),d()):Ye.createElement(Ye.Fragment,null,Ye.createElement(DKe,{title:`Remaining issues${c}`,issues:n,testId:"remainingIssuesList"}),Ye.createElement(DKe,{title:`Completed issues${c}`,issues:s,testId:"completedIssuesList"}),Ye.createElement(DKe,{title:`Incomplete issues${c} that were not completed by the end of the ${a}`,issues:o,testId:"completedIssuesOutOfScopeList"}),d()))},zKe=ee.qCK(ee.v_p(", "),ee.qnb(3),(e=>e.map((e=>`${e.organization}/${e.repository}`)))),MKe=ee.qCK(ee.v_p("\n"),(e=>e.map((e=>`${e.organization}/${e.repository}`)))),xKe=e=>{let{repos:t}=e;if((0,_t.KN)(t))return null;const n=t.length-3,s=n>0?Ye.createElement(ZI,{content:MKe(t),position:jI.RIGHT},Ye.createElement("strong",null,`(${n} more ${n>1?"repos":"repo"})`)):null;return Ye.createElement("div",{className:"zhc-milestone-item__repos"},`${zKe(t)} `,s)};xKe.propTypes={repos:SI().arrayOf(SI().shape({}))};const FKe=xKe;function UKe(){return UKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},UKe.apply(this,arguments)}const BKe=e=>"open"===e.state;function qKe(e){return BKe(e)?$p(e.due_on):(t=e.closed_at,Np(t)?"closed today":`closed ${Pp(t)}`);var t}const HKe={buttonTitle:"Milestones",listTitle:"Select a milestone",emptyState:"No milestones found",filterDefault:"Filter milestones"},WKe={buttonTitle:"Sprints",listTitle:"Select a sprint",emptyState:"No sprints found",filterDefault:"Filter sprints"},jKe=e=>{let{entity:t}=e;const n=qKe(t),s=BKe(t)?null:Ye.createElement(DBe,null),r=Ye.createElement(FKe,{repos:t.repos});return Ye.createElement("div",{className:"zhc-selection-list-item zhc-milestone-selector__item"},Ye.createElement("div",{className:"zhc-milestone-selector__item-title"},s," ",t.title),Ye.createElement("div",{className:"zhc-milestone-selector__item-due-date"},n),r)};jKe.propTypes={entity:SI().shape({id:SI().string,repos:SI().arrayOf(SI().shape({})),title:SI().string})};const GKe=e=>{let{entity:t}=e;const n=qKe(t),s=BKe(t)?null:Ye.createElement(OBe,null);return Ye.createElement("div",{className:"zhc-selection-list-item zhc-milestone-selector__item","data-testid":`${t.id}-item`},Ye.createElement("div",{className:"zhc-milestone-selector__item-title","data-cy":"sprint-item-title"},s," ",t.title),Ye.createElement("div",{className:"zhc-milestone-selector__item-due-date","data-cy":"sprint-item-due-date"},n))};GKe.propTypes={entity:SI().shape({id:SI().string,title:SI().string})};const KKe=yEe(jKe),VKe=yEe(GKe),$Ke=e=>{let{entities:t,entityType:n,selectEntity:s,...r}=e,i=HKe,o=KKe,a=Ye.createElement(Zee,null);"sprint"===n&&(o=VKe,i=WKe,a=Ye.createElement(rre,null));const l={...Lfe(t,"title",i.buttonTitle),buttonModifiers:["content-width"]};return Ye.createElement(kme,UKe({},r,l,{buttonIconComponent:a,allowNegatedSearch:!1,listTitle:i.listTitle,emptyStateText:i.emptyState,filterableChildProp:"title",filterDefaultText:i.filterDefault,position:kte.LEFT}),t.map((e=>Ye.createElement(o,{key:e.id,filterKey:e.id,select:s,entity:e,title:e.title,selected:e.selected}))))};$Ke.defaultProps={entityType:"milestone",selectEntity:_t.ZT},$Ke.propTypes={entities:SI().arrayOf(SI().shape({})),entityType:SI().oneOf(["sprint","milestone"]),selectEntity:SI().func};const ZKe=$Ke;class YKe extends Ye.PureComponent{constructor(e){super(e),this.openEditModal=this.openEditModal.bind(this)}openEditModal(){const{title:e,description:t,startDate:n,dueDate:s,allRepos:r,onClick:i}=this.props;i({draft:{title:e,description:t,startDate:n,dueDate:s},milestones:r})}render(){const{isReadOnly:e}=this.props;return e?null:Ye.createElement(kpe,{className:"zhc-edit-milestone-button","data-cy":"edit-milestone",onClick:this.openEditModal,text:"Edit milestone"})}}YKe.propTypes={allRepos:SI().arrayOf(SI().shape({})),description:SI().string,dueDate:SI().instanceOf(Date),isReadOnly:SI().bool,startDate:SI().instanceOf(Date),title:SI().string,onClick:SI().func};const JKe=YKe,XKe="pGU1rESIbvSs9kjvahAm",QKe="MScZ40ylA0ED3eAnwYCb",eVe="uOmona6ZOCZsDUr9JkEU",tVe=e=>{let{children:t,description:n,entity:s,state:r="open",title:i}=e;if(!i)return Ye.createElement("div",null,"Loading...");let o=null;return"closed"===r&&(o="milestone"===s?Ye.createElement(DBe,{className:QKe}):Ye.createElement(OBe,{className:QKe})),Ye.createElement("div",null,Ye.createElement("h1",{className:XKe},o," ",i),n?Ye.createElement(che,{className:eVe,content:n}):null,t)};function nVe(){return nVe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nVe.apply(this,arguments)}const sVe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--warning",t].filter(Boolean).join(" "),"aria-label":"warning",role:"img",...n};return Ye.createElement("svg",nVe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12"},s),Ye.createElement("path",{d:"M6.019 1.602c.541-.96 1.42-.96 1.961 0l4.884 8.66c.542.96.083 1.738-1.01 1.738h-9.71c-1.099 0-1.551-.778-1.01-1.739L6.02 1.602zM6.2 3.504V8.36h1.597V3.504H6.201zm0 5.517v1.765h1.597V9.021H6.201z",fill:"currentColor",fillRule:"evenodd"}))};class rVe extends Ye.Component{constructor(e){super(e);const{isActive:t}=e;this.state={isActive:t},this.handleToggle=this.handleToggle.bind(this),this.handleSelectDate=this.handleSelectDate.bind(this),this.renderSelector=this.renderSelector.bind(this),this.toggleDateSelector=this.toggleDateSelector.bind(this)}handleToggle(e){e.preventDefault(),this.setState((e=>({isActive:!e.isActive})))}handleSelectDate(e){const{dueDate:t,updateMilestoneStartDate:n,repository:s,organization:r,number:i,otherConnectedRepos:o}=this.props;if(!function(e,t){return!!(0,_t.KN)(t)||Lp(e,t)}(e,t))return void window.alert("The start date must be before the due date");const a=yp(e);(0,_t.KN)(o)||ee.UID((function(e){n(e.repository,e.organization,e.milestone,a)}),o),n(s,r,i,a),this.setState({isActive:!1})}toggleDateSelector(){this.setState((e=>({isActive:!e.isActive})))}renderSelector(){const{isActive:e}=this.state,{startDate:t}=this.props;return Ye.createElement(KBe,{autoFocus:e,initialDate:t,onDayClick:this.handleSelectDate,onOutsideClick:this.toggleDateSelector})}render(){const{startDate:e,isReadOnly:t,showEditOnHover:n,clickToEdit:s}=this.props,{isActive:r}=this.state,i=e?Bp(e):"No start date",o=r?this.renderSelector():null,a=(0,_I.default)("zhc-milestone-start-date",{"zhc-milestone-start-date--show-edit":!n||r});return Ye.createElement("span",{className:a},t||!s?i:Ye.createElement(H5,{variant:z5.TEXT,height:A5.SHORT,padding:M5.NONE,"data-cy":"start-date",className:"zhc-milestone-start-date__date",onClick:this.handleToggle},i),t||s?null:Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,"data-cy":"start-date-edit",className:"zhc-milestone-start-date__edit",onClick:this.handleToggle},"Change"),o)}}rVe.defaultProps={clickToEdit:!1,isActive:!1,showEditOnHover:!1,startDate:null,updateMilestoneStartDate:_t.ZT},rVe.propTypes={clickToEdit:SI().bool,dueDate:SI().oneOfType([SI().object,SI().string]),isActive:SI().bool,isReadOnly:SI().bool,number:SI().number,organization:SI().string,otherConnectedRepos:SI().arrayOf(SI().shape({})),repository:SI().string,showEditOnHover:SI().bool,startDate:SI().oneOfType([SI().instanceOf(Date),SI().string]),updateMilestoneStartDate:SI().func};const iVe=rVe;function oVe(){return oVe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oVe.apply(this,arguments)}const aVe=e=>{let t,n,{startDate:s,dueDate:r,state:i,...o}=e;return vp(s)?vp(r)?UBe(s,r)||(n=!0,t="The start date must be before the due date to generate the burndown chart"):(n=!0,t="Please set the milestone due date to generate the burndown chart"):(n=!0,t="Please set the milestone start date to generate the burndown chart"),Ye.createElement("div",null,Ye.createElement("div",{className:"zhc-burndown-chart__milestone-dates"},Ye.createElement("div",{className:"zhc-burndown-chart__milestone-date"},Ye.createElement("span",null,"Start"),Ye.createElement("span",{className:"zhc-burndown-chart__milestone-date__value"},Ye.createElement(iVe,oVe({},o,{startDate:s,dueDate:r})))),Ye.createElement("div",{className:"zhc-burndown-chart__milestone-date"},Ye.createElement("span",null,"Due by"),Ye.createElement("span",{className:"zhc-burndown-chart__milestone-date__value"},Ye.createElement($Be,oVe({},o,{startDate:s,dueDate:r,showEditLink:!0,isClosed:BBe({state:i})}))))),n?Ye.createElement("div",{className:"zhc-burndown-chart__milestone-dates__subtext"},Ye.createElement(sVe,null),t):null)};aVe.propTypes={state:SI().string.isRequired,dueDate:SI().instanceOf(Date),startDate:SI().instanceOf(Date)};const lVe=aVe;class cVe extends Ye.PureComponent{constructor(){super(),this.toggleRepoDropdown=()=>{const{isRepoDropdownActive:e}=this.state;this.setState({isRepoDropdownActive:!e})},this.selectRepo=e=>{const{selectRepo:t}=this.props;t(e.filterKey)},this.state={isRepoDropdownActive:!1}}render(){const{allRepos:e,description:t,dueDate:n,isMilestoneSelectorActive:s,isReadOnly:r,milestones:i,number:o,onClickCreateNewMilestone:a,onClickEditMilestone:l,organization:c,otherConnectedRepos:d,repoId:u,repository:p,selectMilestoneItem:m,startDate:h,state:E,title:g,toggleMilestoneSelector:f,updateDueDate:_,updateMilestoneStartDate:v,workspace:I,closeMilestone:b}=this.props,{isRepoDropdownActive:y}=this.state,S=ee.sEJ(ee.OH4("repo_id",u),I.repos),w=ee.vgT("organization"),R=ee.vgT("repository"),T=ee.OH4("repo_id",I.defaultRepoId),C=(0,mS.Rv)(I.repos,w,R,T);return Ye.createElement("div",{className:"zhc-burndown-report-header","data-cy":"burndown-header"},Ye.createElement("div",{className:"zhc-burndown-report-header__actions"},Ye.createElement(Ome,{isActive:y,buttonName:S.repository,listTitle:"Show milestones by repo",toggleOpen:this.toggleRepoDropdown,emptyStateText:"No repos found",filterableChildProp:"repo",filterDefaultText:"Search repos",allowNegatedSearch:!1,buttonIconComponent:Ye.createElement(Nfe,null)},C.map((e=>Ye.createElement(RBe,{repo:e.repository,organization:e.organization,repo_id:e.repo_id,filterKey:e.repo_id,key:e.repo_id,select:this.selectRepo,selected:e.repo_id===u,isDefaultRepo:e.repo_id===I.defaultRepoId,showDefaultTag:!0})))),Ye.createElement(kue,{className:"zhc-burndown-report-header__divider-icon"}),Ye.createElement(ZKe,{isActive:s,entities:i,position:kte.RIGHT,selectEntity:m,toggleOpen:f}),!r&&Ye.createElement(Ope,{modifiers:["text","text-primary"],text:"Create new milestone","data-cy":"create-milestone",onClick:a}),Ye.createElement("div",{className:"zhc-burndown-report-header__actions-right"},r||BBe({state:E})?null:Ye.createElement(Ope,{className:"zhc-close-milestone-button","data-cy":"close-milestone",text:"Close this milestone",onClick:b}),Ye.createElement(JKe,{allRepos:e,description:t,dueDate:n,isReadOnly:r,onClick:l,startDate:h,title:g}))),Ye.createElement("div",{className:"zhc-burndown-report-header__title"},Ye.createElement(tVe,{description:t,entity:"milestone",state:E,title:g},Ye.createElement(lVe,{dueDate:n,state:E,isReadOnly:r,number:o,organization:c,otherConnectedRepos:d,repository:p,startDate:h,updateDueDate:_,updateMilestoneStartDate:v}))))}}cVe.propTypes={allRepos:SI().arrayOf(SI().shape({})).isRequired,closeMilestone:SI().func.isRequired,isMilestoneSelectorActive:SI().bool.isRequired,isReadOnly:SI().bool.isRequired,milestones:SI().arrayOf(SI().shape({})).isRequired,organization:SI().string.isRequired,repoId:SI().number.isRequired,repository:SI().string.isRequired,selectMilestoneItem:SI().func.isRequired,selectRepo:SI().func.isRequired,state:SI().string.isRequired,title:SI().string.isRequired,toggleMilestoneSelector:SI().func.isRequired,updateDueDate:SI().func.isRequired,updateMilestoneStartDate:SI().func.isRequired,workspace:SI().shape({defaultRepoId:SI().number,repos:SI().arrayOf(SI().shape({}))}).isRequired,onClickCreateNewMilestone:SI().func.isRequired,onClickEditMilestone:SI().func.isRequired,description:SI().string,dueDate:SI().instanceOf(Date),number:SI().number,otherConnectedRepos:SI().arrayOf(SI().shape({})),startDate:SI().instanceOf(Date)};const dVe=cVe,uVe=n.p+"../../img/built/illustration-sprints.svg";class pVe extends Ye.PureComponent{render(){const{isReadOnly:e,onClickCreateMilestone:t,descriptionText:n}=this.props,s=e?null:Ye.createElement(Ope,{text:"Create a milestone","data-cy":"new-milestone",modifiers:["action"],onClick:t});return Ye.createElement(CBe,{imageSrc:uVe,h1Text:"This workspace has no milestones",descriptionText:n,ctaButton:s,modifiers:["create-milestone"]})}}pVe.propTypes={descriptionText:SI().string,isReadOnly:SI().bool,onClickCreateMilestone:SI().func},pVe.defaultProps={onClickCreateMilestone:_t.ZT};const mVe=pVe;class hVe extends Ye.Component{getStartDate(){const{milestone:e}=this.props;return e&&e.start_date?ee.qCK(bp,Sp,ee.vgT("start_date"))(e):null}render(){const{addRepoFilter:e,activeBurnPipelinesFilter:t,activeLabelsFilter:n,allRepos:s,boardPath:r,clearBurnPipelines:i,clearLabelFilter:o,clearLabelFilterTags:a,completedOutOfScopeIssues:l,completedWithinScopeIssues:c,completedWithinScopeStoryPoints:d,completedBeforeStartDateIssues:u,defaultRepoId:p,description:m,deselectBurnPipelinesItem:h,dueDate:E,incompleteIssues:g,incompleteStoryPoints:f,isMilestoneClosed:_,isBurnPipelinesActive:v,isLabelFilterActive:I,isLoaded:b,isLoadingIssues:y,isMilestoneSelectorActive:S,isReadOnly:w,isRepoFilterActive:R,isTogglePRsActive:T,labelFilterTags:C,labelFilterShortcuts:k,labels:O,milestone:N,milestones:P,number:A,onClickCreateNewMilestone:D,onClickEditMilestone:L,openIssues:z,organization:M,otherConnectedRepos:x,pipelines:F,removeLabelFilter:U,removeRepoFilter:B,repositories:q,repository:H,repoId:W,selectBurnPipelinesItem:j,selectLabelItem:G,selectMilestoneItem:K,selectRepo:V,showAllRepos:$,showOneRepo:Z,showPRs:Y,state:J,title:X,toggleBurnPipelines:Q,toggleLabelFilter:te,toggleMilestoneSelector:ne,togglePRsOff:se,togglePRsOn:re,toggleRepoFilter:ie,totalIssues:oe,totalStoryPoints:ae,onShortcutsUsed:le,updateMilestoneDueDate:ce,updateMilestoneStartDate:de,workspace:ue,onExportReport:pe,closeMilestone:me}=this.props,he=this.getStartDate();return b?ee.xbD(P)?Ye.createElement(mVe,{isReadOnly:w,onClickCreateMilestone:D,descriptionText:"To track progress, create a milestone and assign estimated issues to it."}):Ye.createElement("div",{className:"zhc-burndown"},Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(XWe,null)),Ye.createElement(dVe,{allRepos:s,description:m,dueDate:E,isMilestoneSelectorActive:S,isReadOnly:w,milestones:P,number:A,onClickCreateNewMilestone:D,onClickEditMilestone:L,organization:M,otherConnectedRepos:x,repository:H,repoId:W,selectRepo:V,selectMilestoneItem:K,startDate:he,state:J,title:X,toggleMilestoneSelector:ne,updateDueDate:ce,updateMilestoneStartDate:de,workspace:ue,closeMilestone:me}),Ye.createElement(uKe,{activeBurnPipelinesFilter:t,activeLabelsFilter:n,addRepoFilter:e,boardPath:r,clearBurnPipelines:i,clearLabelFilter:o,clearLabelFilterTags:a,completedIssues:c,completedStoryPoints:d,defaultRepoId:p,deselectBurnPipelinesItem:h,dueDate:E,incompleteIssues:g,incompleteStoryPoints:f,isBurnPipelinesActive:v,isLabelFilterActive:I,isLoadingIssues:y,isRepoFilterActive:R,isTogglePRsActive:T,labelFilterTags:C,labelFilterShortcuts:k,labels:O,organization:M,pipelines:F,removeLabelFilter:U,removeRepoFilter:B,repository:H,repositories:q,selectBurnPipelinesItem:j,selectLabelItem:G,showAllRepos:$,showOneRepo:Z,showPRs:Y,startDate:he,title:X,toggleBurnPipelines:Q,toggleLabelFilter:te,togglePRsOff:se,togglePRsOn:re,toggleRepoFilter:ie,totalIssues:oe,totalStoryPoints:ae,onShortcutsUsed:le,onExportReport:pe,isEntityClosed:_,entityName:"milestone",entityId:N.id}),Ye.createElement(LKe,{completedWithinScopeIssues:c,completedOutOfScopeIssues:l,completedBeforeStartDateIssues:u,openIssues:z,incompleteIssues:g,entityName:"milestone",isClosed:_,showPRs:Y})):Ye.createElement(GWe,{title:"Analyzing milestones data\u2026",message:"Digging deep\u2026"},Ye.createElement(BGe,{className:"zhc-report-loading__svg-image"}))}}hVe.defaultProps={milestone:null,onExportReport:()=>{}},hVe.propTypes={boardPath:SI().string.isRequired,closeMilestone:SI().func.isRequired,organization:SI().string.isRequired,repoId:SI().number.isRequired,repository:SI().string.isRequired,selectRepo:SI().func.isRequired,workspace:SI().shape({}).isRequired,activeBurnPipelinesFilter:SI().bool,activeLabelsFilter:SI().bool,addRepoFilter:SI().func,allRepos:SI().arrayOf(SI().shape({})),clearBurnPipelines:SI().func,clearLabelFilter:SI().func,clearLabelFilterTags:SI().func,completedBeforeStartDateIssues:SI().arrayOf(SI().shape({})),completedOutOfScopeIssues:SI().arrayOf(SI().shape({})),completedWithinScopeIssues:SI().arrayOf(SI().shape({})),completedWithinScopeStoryPoints:SI().number,defaultRepoId:SI().number,description:SI().string,deselectBurnPipelinesItem:SI().func,dueDate:SI().instanceOf(Date),incompleteIssues:SI().arrayOf(SI().shape({})),incompleteStoryPoints:SI().number,isBurnPipelinesActive:SI().bool,isLabelFilterActive:SI().bool,isLoaded:SI().bool,isLoadingIssues:SI().bool,isMilestoneClosed:SI().bool,isMilestoneSelectorActive:SI().bool,isReadOnly:SI().bool,isRepoFilterActive:SI().bool,isTogglePRsActive:SI().bool,labelFilterShortcuts:SI().string,labelFilterTags:SI().arrayOf(SI().oneOfType([SI().string,SI().shape()])),labels:SI().arrayOf(SI().shape({})),milestone:SI().shape({id:SI().string,start_date:SI().string}),milestones:SI().arrayOf(SI().shape({})),number:SI().number,openIssues:SI().arrayOf(SI().shape({})),otherConnectedRepos:SI().arrayOf(SI().shape({})),pipelines:SI().arrayOf(SI().shape({})),removeLabelFilter:SI().func,removeRepoFilter:SI().func,repositories:SI().arrayOf(SI().shape({})),selectBurnPipelinesItem:SI().func,selectLabelItem:SI().func,selectMilestoneItem:SI().func,showAllRepos:SI().func,showOneRepo:SI().func,showPRs:SI().bool,state:SI().string,title:SI().string,toggleBurnPipelines:SI().func,toggleLabelFilter:SI().func,toggleMilestoneSelector:SI().func,togglePRsOff:SI().func,togglePRsOn:SI().func,toggleRepoFilter:SI().func,totalIssues:SI().arrayOf(SI().shape({})),totalStoryPoints:SI().number,updateMilestoneDueDate:SI().func,updateMilestoneStartDate:SI().func,onClickCreateNewMilestone:SI().func,onClickEditMilestone:SI().func,onExportReport:SI().func,onShortcutsUsed:SI().func};const EVe=hVe,gVe=ee.WAo(((e,t,n,s)=>{if(!ee.kKJ(s))return{...s,text:s[t],type:e,onClick:n}})),fVe={getMilestoneTag:gVe(n_e,"title"),getLabelTag:gVe(e_e,"name"),getEstimateTag:gVe(t_e,"value"),getAssigneeTag:gVe(Xfe,"login"),getAuthorTag:gVe(Qfe,"login"),getEpicTag:gVe(s_e,"title"),getReleaseTag:gVe(i_e,"title"),getDependencyTag:gVe(o_e,"name"),getSprintTag:gVe(l_e,"name")};function _Ve(e){if(xd(e.filterKey)){const t=function(e){switch(e){case Dd:return"Hide Epics";case Ld:return"Show all epics";case zd:return"Hide subtasks";case Md:return"Issues not in epics";default:return"A specific epic"}}(e.filterKey);return ee.yGi("title",t,e)}return e}function vVe(){return vVe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vVe.apply(this,arguments)}const{shortcuts:IVe,milestones:bVe,milestoneBuilder:yVe,burndown:SVe}=LG,{rejectNil:wVe,isNilOrEmpty:RVe}=Vt.Z,TVe=SVe.toggleDropdown.bind(void 0,ul),CVe=SVe.toggleDropdown.bind(void 0,ml),kVe=SVe.toggleDropdown.bind(void 0,dl),OVe=SVe.toggleDropdown.bind(void 0,gl),NVe=yl.hasActiveFilterBurndown("labels"),PVe=ee.qCK(ee.ffD,ee.xbD,fm),AVe=IVe.trackShortcutsUsed.bind(null,E8.REPORTS_FILTER_LABELS.name),DVe=ee.ETc(["milestone","number"]),LVe=(0,pa.P1)(Na,(e=>ma.getBoardPath({workspace:e})));let zVe=!0;class MVe extends Ye.PureComponent{constructor(e){super(e),this.loadConnectedMilestones=()=>{const{activeRepo:e,loadConnectedMilestones:t,workspace:n}=this.props;t({repo_id:e.repo_id,organization:e.organization,repo:e.repository,workspaceId:n._id})},this.loadMilestone=()=>{const{activeRepo:e,loadMilestone:t,milestones:n,workspace:s}=this.props;RVe(n)||t({repo_id:e.repo_id,repository:e.repository,milestone_number:DVe(this.props),milestones:n,workspaceId:s._id})},this.closeMilestone=()=>{const{milestone:e,closeMilestone:t}=this.props,n=e.allRepos.map((t=>{let{repo_id:n,milestone_number:s}=t;return{id:e.id,repo_id:n,milestone_number:s,title:e.title,description:e.description,due_on:e.due_on}}));t({milestones:n})},this.onCreateMilestoneComplete=e=>{const{activeRepo:t,dispatch:n,workspace:s}=this.props,r={repo:t.repository,repo_id:t.repo_id,organization:t.organization,workspaceId:s._id},i=ee.sEJ(ee.OH4("repo_id",t.repo_id),e);if(ee.kKJ(i))return;const o=tc(e);o?window.alert(o):ee.zGw(ee.yGi("filterKey",ee.BBt(i.id)),SVe.loadMilestonesAndChangeSelected,n)(r)},this.onEditMilestoneComplete=e=>{const{activeRepo:t,dispatch:n,workspace:s}=this.props,r={repo:t.repository,repo_id:t.repo_id,organization:t.organization,workspaceId:s._id},i=nc(e);i?window.alert(i):(ee.Ed_(ee.zGw(SVe.updateConnectedMilestones,n),e),n(SVe.fetchAndLoadConnectedMilestones(r)))},this.performanceEndMarked=!1}componentDidMount(){this.loadConnectedMilestones();const{registerCreateCallback:e,registerEditCallback:t}=this.context;e("Burndown",this.onCreateMilestoneComplete),t("Burndown",this.onEditMilestoneComplete),m6(v6.BURNDOWN_REPORT_OPENED),r6("Burndown Chart",{Action:"burndown chart viewed"}),Q3({"Burndown Chart Views":1})}componentDidUpdate(e){const{activeRepo:t,isLoaded:n,isLoadingIssues:s}=this.props;e.activeRepo.repo_id!==t.repo_id&&this.loadConnectedMilestones(),DVe(e)!==DVe(this.props)&&this.loadMilestone(),e.isLoaded&&!e.isLoadingIssues||!n||s||this.performanceEndMarked||(m6(v6.BURNDOWN_REPORT_RENDERED),E6([I6.BURNDOWN_REPORT_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!zVe}])),this.performanceEndMarked=!0)}componentWillUnmount(){const{clear:e}=this.props;zVe=!1;const{unregisterCreateCallback:t,unregisterEditCallback:n}=this.context;t("Burndown"),n("Burndown"),e()}render(){const{props:e}=this,{activeRepo:t,dispatch:n,milestone:s,otherConnectedRepos:r,removeLabelFilter:i,repositories:o,selectedLabels:a}=e,l=ee.zGw(ee.UID(fVe.getLabelTag(i)),ee.xHg,wVe)(a);return Ye.createElement("div",null,Ye.createElement(yBe,{pageName:"Burndown Report"}),Ye.createElement(EVe,vVe({},e,{organization:t.organization,repository:t.repository,repoId:t.repo_id,labelFilterTags:l,showAllRepos:()=>{const e=ee.jge("repo_id",o);n(SVe.showAllRepos(e))},showOneRepo:()=>{n(SVe.showOneRepo(t.repo_id))},closeMilestone:this.closeMilestone,updateMilestoneDueDate:e=>{const i={repository:t.repository,repo:t.repository,organization:t.organization,milestone_number:s.number,repo_id:t.repo_id,due_on:e},o=r||[],a=ee.UID((t=>({repository:t.repository,repo:t.repository,organization:t.organization,milestone_number:t.milestone,repo_id:t.repo_id,due_on:e})),o),l=ee.R3I(i,a);return ee.Ed_((e=>{n(SVe.updateMilestoneDueDate(e))}),l)},onExportReport:()=>oje("Burndown")})))}}MVe.defaultProps={isLoaded:!1,isLoadingIssues:!1,milestones:[]},MVe.propTypes={activeRepo:SI().shape({organization:SI().string,repo_id:SI().number,repository:SI().string}).isRequired,clear:SI().func.isRequired,closeMilestone:SI().func.isRequired,dispatch:SI().func.isRequired,loadConnectedMilestones:SI().func.isRequired,loadMilestone:SI().func.isRequired,workspace:SI().shape({_id:SI().string}).isRequired,isLoaded:SI().bool,isLoadingIssues:SI().bool,milestone:SI().shape({allRepos:SI().arrayOf(SI().shape({})),description:SI().string,due_on:SI().string,id:SI().oneOfType([SI().number,SI().string]),number:SI().number,title:SI().string}),milestones:SI().arrayOf(SI().shape({})),otherConnectedRepos:SI().arrayOf(SI().shape({})),removeLabelFilter:SI().func,repositories:SI().arrayOf(SI().shape({})),selectedLabels:SI().arrayOf(SI().shape({}))},MVe.contextType=kRe;const xVe=l3.$j((function(e){return{activeRepo:zm(e),activeBurnPipelinesFilter:PVe(e),activeLabelsFilter:NVe(e),allRepos:Xm(e),boardPath:LVe(e),defaultRepoId:qa(e),description:Km(e),dueDate:Bm(e),isBurnPipelinesActive:nh(e),isMilestoneClosed:Hm(e),completedWithinScopeIssues:gh(e),completedWithinScopeStoryPoints:Eh(e),completedOutOfScopeIssues:_h(e),completedBeforeStartDateIssues:vh(e),incompleteIssues:Ih(e),incompleteStoryPoints:bh(e),isLabelFilterActive:Am(e),isLoaded:lm(e),isLoadingIssues:dm(e),isMilestoneSelectorActive:jm(e),isReadOnly:Ua(e),isRepoFilterActive:Qm(e),isTogglePRsActive:Em(e),labels:Pm(e),milestone:Fm(e),milestones:Wm(e),number:qm(e),openIssues:mh(e),otherConnectedRepos:$m(e),pipelines:th(e),repositories:Ym(e),selectedLabels:Jm(e),showPRs:Em(e),state:Vm(e),title:Gm(e),totalIssues:uh(e),totalStoryPoints:ph(e),labelFilterShortcuts:E8.REPORTS_FILTER_LABELS.shortcuts,workspace:Na(e)}}),(function(e){const t=(0,mr.DE)({addRepoFilter:SVe.addRepoFilter,clear:SVe.clear,clearBurnPipelines:SVe.clearBurnPipelines,clearLabelFilter:SVe.clearLabelFilter,clearLabelFilterTags:SVe.clearTagFilters,deselectBurnPipelinesItem:SVe.setBurnPipeline,onClickCreateNewMilestone:yVe.openCreateMilestoneForm,removeLabelFilter:SVe.removeLabelFilter,removeRepoFilter:SVe.removeRepoFilter,selectBurnPipelinesItem:SVe.setBurnPipeline,selectLabelItem:SVe.addLabelFilter,selectMilestoneItem:SVe.selectMilestone,selectRepo:SVe.setSelectedRepoId,toggleBurnPipelines:CVe,toggleLabelFilter:kVe,toggleMilestoneSelector:TVe,togglePRsOff:SVe.hidePRs,togglePRsOn:SVe.showPRs,toggleRepoFilter:OVe,updateMilestoneStartDate:SVe.setMilestoneStartDate,closeMilestone:bVe.closeMilestone},e),n={loadMilestone:t=>{const n=ee.OH4("number",t.milestone_number),s=ee.sEJ(n,t.milestones);if(ee.kKJ(s))return;const r=s.duplicates||[],i=ee.yGi("connected_milestones",r,t);e(SVe.setLoadingMilestoneIssues(!0)),e(SVe.loadConnectedMilestoneIssues(i))},onClickEditMilestone(t){e(yVe.updateDraftProperties(t.draft)),e(yVe.loadMilestones(t.milestones)),e(yVe.openEditMilestoneForm())},loadConnectedMilestones(t){e(SVe.fetchAndLoadConnectedMilestones(t)),e(SVe.loadConnectedPipelines(t))},onShortcutsUsed(){e(kVe()),e(AVe())},dispatch:e};return ee.TSy(t,n)}))(MVe),FVe=bb.Ps`
  fragment currentWorkspaceIssueData on Issue {
    id
    number
    title
    state
    pullRequest
    htmlUrl
    user {
      id
      login
    }
    assignees {
      nodes {
        id
        login
        avatarUrl
      }
    }
    estimate {
      value
    }
    labels {
      nodes {
        id
        color
        name
      }
    }
    milestone {
      id
      title
    }
    repository {
      id
      ghId
      name
      owner {
        id
        login
        avatarUrl
      }
    }
    epic {
      id
      issueEstimateProgress {
        total
      }
      childIssues {
        totalCount
      }
    }
    closedAt
    parentEpics {
      nodes {
        issue {
          id
          title
        }
      }
    }
    pipelineIssue(workspaceId: $workspaceId) {
      id
      latestTransferTime
      pipeline {
        id
        name
      }
      priority {
        id
        name
        color
      }
    }
  }
`,UVe=bb.Ps`
  query getSprintIssues($id: ID!, $workspaceId: ID!) {
    node(id: $id) {
      ... on Sprint {
        ...sprint
        sprintIssues {
          nodes {
            createdAt
            id
            issue {
              ...currentWorkspaceIssueData
            }
          }
        }
      }
    }
  }
  ${ore}
  ${FVe}
`;class BVe extends Ye.PureComponent{render(){const{dueDate:e,isSelectorActive:t,entities:n,number:s,organization:r,otherConnectedRepos:i,selectEntity:o,startDate:a,state:l,title:c,toggleEntitySelector:d}=this.props;return Ye.createElement("div",{className:"zhc-burndown-report-header","data-cy":"burndown-header"},Ye.createElement("div",{className:"zhc-burndown-report-header__actions"},Ye.createElement(ZKe,{entityType:"sprint",isActive:t,entities:n,position:kte.RIGHT,selectEntity:o,toggleOpen:d})),Ye.createElement("div",{className:"zhc-burndown-report-header__title"},Ye.createElement(tVe,{description:"",entity:"sprint",state:l,title:c},Ye.createElement(lVe,{dueDate:e,isReadOnly:!0,state:l,number:s,organization:r,otherConnectedRepos:i,startDate:a,updateDueDate:()=>{},updateMilestoneStartDate:()=>{}}))))}}BVe.propTypes={entities:SI().arrayOf(SI().shape({})).isRequired,isSelectorActive:SI().bool.isRequired,organization:SI().string.isRequired,selectEntity:SI().func.isRequired,state:SI().string.isRequired,title:SI().string.isRequired,toggleEntitySelector:SI().func.isRequired,workspace:SI().shape({defaultRepoId:SI().number,repos:SI().arrayOf(SI().shape({}))}).isRequired,dueDate:SI().instanceOf(Date),number:SI().number,otherConnectedRepos:SI().arrayOf(SI().shape({})),startDate:SI().instanceOf(Date)};const qVe=BVe;class HVe extends Ye.Component{getStartDate(){const{entity:e}=this.props;return e&&e.start_date?ee.qCK(bp,Sp,ee.vgT("start_date"))(e):null}render(){const{addRepoFilter:e,activeBurnPipelinesFilter:t,activeLabelsFilter:n,boardPath:s,clearBurnPipelines:r,clearLabelFilter:i,clearLabelFilterTags:o,description:a,deselectBurnPipelinesItem:l,dueDate:c,incompleteIssues:d,incompleteStoryPoints:u,isEntityClosed:p,completedBeforeStartDateIssues:m,completedWithinScopeIssues:h,completedWithinScopeStoryPoints:E,completedOutOfScopeIssues:g,isBurnPipelinesActive:f,isLabelFilterActive:_,isLoaded:v,isLoadingIssues:I,isSelectorActive:b,isReadOnly:y,isRepoFilterActive:S,isTogglePRsActive:w,labelFilterTags:R,labelFilterShortcuts:T,labels:C,entity:k,entities:O,number:N,openIssues:P,organization:A,otherConnectedRepos:D,pipelines:L,removeLabelFilter:z,removeRepoFilter:M,repositories:x,repository:F,selectBurnPipelinesItem:U,selectLabelItem:B,selectEntity:q,showAllRepos:H,showOneRepo:W,showPRs:j,state:G,title:K,toggleBurnPipelines:V,toggleLabelFilter:$,toggleEntitySelector:Z,togglePRsOff:Y,togglePRsOn:J,toggleRepoFilter:X,totalIssues:Q,totalStoryPoints:te,onShortcutsUsed:ne,workspace:se,onExportReport:re,noEntitiesState:ie,emptyStateCopyMap:oe,noIssuesImg:ae,noEstimatesImg:le,burndownOnboardingCopy:ce}=this.props,de=this.getStartDate();return v?ee.xbD(O)?ie:Ye.createElement("div",{className:"zhc-burndown"},Ye.createElement(qVe,{description:a,dueDate:c,isSelectorActive:b,isReadOnly:y,entities:O,number:N,organization:A,otherConnectedRepos:D,selectEntity:q,startDate:de,state:G,title:K,toggleEntitySelector:Z,workspace:se}),Ye.createElement(uKe,{noIssuesImg:ae,noEstimatesImg:le,emptyStateCopyMap:oe,activeBurnPipelinesFilter:t,activeLabelsFilter:n,addRepoFilter:e,boardPath:s,clearBurnPipelines:r,clearLabelFilter:i,clearLabelFilterTags:o,completedIssues:h,completedStoryPoints:E,deselectBurnPipelinesItem:l,dueDate:c,incompleteIssues:d,incompleteStoryPoints:u,isBurnPipelinesActive:f,isLabelFilterActive:_,isLoadingIssues:I,isRepoFilterActive:S,isTogglePRsActive:w,labelFilterTags:R,labelFilterShortcuts:T,labels:C,organization:A,pipelines:L,removeLabelFilter:z,removeRepoFilter:M,repository:F,repositories:x,selectBurnPipelinesItem:U,selectLabelItem:B,showAllRepos:H,showOneRepo:W,showPRs:j,startDate:de,title:K,toggleBurnPipelines:V,toggleLabelFilter:$,togglePRsOff:Y,togglePRsOn:J,toggleRepoFilter:X,totalIssues:Q,totalStoryPoints:te,onShortcutsUsed:ne,onExportReport:re,burndownOnboardingCopy:ce,isEntityClosed:p,entityName:"sprint",entityId:k.id}),Ye.createElement(LKe,{completedWithinScopeIssues:h,completedOutOfScopeIssues:g,completedBeforeStartDateIssues:m,openIssues:P,showPRs:j,entityName:"sprint",incompleteIssues:d,isClosed:p})):Ye.createElement(GWe,{title:"Analyzing sprints data\u2026",message:"Digging deep\u2026"},Ye.createElement(BGe,{className:"zhc-report-loading__svg-image"}))}}HVe.defaultProps={entity:null,onExportReport:()=>{}},HVe.propTypes={boardPath:SI().string.isRequired,organization:SI().string.isRequired,repository:SI().string.isRequired,workspace:SI().shape({}).isRequired,activeBurnPipelinesFilter:SI().bool,activeLabelsFilter:SI().bool,addRepoFilter:SI().func,burndownOnboardingCopy:SI().shape({content:SI().string,title:SI().string,url:SI().string}),clearBurnPipelines:SI().func,clearLabelFilter:SI().func,clearLabelFilterTags:SI().func,completedBeforeStartDateIssues:SI().arrayOf(SI().shape({})),completedOutOfScopeIssues:SI().arrayOf(SI().shape({})),completedWithinScopeIssues:SI().arrayOf(SI().shape({})),completedWithinScopeStoryPoints:SI().number,description:SI().string,deselectBurnPipelinesItem:SI().func,dueDate:SI().instanceOf(Date),emptyStateCopyMap:SI().shape({}),entities:SI().arrayOf(SI().shape({})),entity:SI().shape({id:SI().string,start_date:SI().string}),incompleteIssues:SI().arrayOf(SI().shape({})),incompleteStoryPoints:SI().number,isBurnPipelinesActive:SI().bool,isEntityClosed:SI().bool,isLabelFilterActive:SI().bool,isLoaded:SI().bool,isLoadingIssues:SI().bool,isReadOnly:SI().bool,isRepoFilterActive:SI().bool,isSelectorActive:SI().bool,isTogglePRsActive:SI().bool,labelFilterShortcuts:SI().string,labelFilterTags:SI().arrayOf(SI().oneOfType([SI().string,SI().shape()])),labels:SI().arrayOf(SI().shape({})),noEntitiesState:SI().node,noEstimatesImg:SI().node,noIssuesImg:SI().node,number:SI().number,openIssues:SI().arrayOf(SI().shape({})),otherConnectedRepos:SI().arrayOf(SI().shape({})),pipelines:SI().arrayOf(SI().shape({})),removeLabelFilter:SI().func,removeRepoFilter:SI().func,repositories:SI().arrayOf(SI().shape({})),selectBurnPipelinesItem:SI().func,selectEntity:SI().func,selectLabelItem:SI().func,showAllRepos:SI().func,showOneRepo:SI().func,showPRs:SI().bool,state:SI().string,title:SI().string,toggleBurnPipelines:SI().func,toggleEntitySelector:SI().func,toggleLabelFilter:SI().func,togglePRsOff:SI().func,togglePRsOn:SI().func,toggleRepoFilter:SI().func,totalIssues:SI().arrayOf(SI().shape({})),totalStoryPoints:SI().number,onExportReport:SI().func,onShortcutsUsed:SI().func};const WVe=HVe;function jVe(){return jVe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jVe.apply(this,arguments)}const{shortcuts:GVe,burndown:KVe}=LG,{rejectNil:VVe}=Vt.Z,$Ve=KVe.toggleDropdown.bind(void 0,ul),ZVe=KVe.toggleDropdown.bind(void 0,ml),YVe=KVe.toggleDropdown.bind(void 0,dl),JVe=KVe.toggleDropdown.bind(void 0,gl),XVe=yl.hasActiveFilterBurndown("labels"),QVe=ee.qCK(ee.ffD,ee.xbD,fm),e$e=GVe.trackShortcutsUsed.bind(null,E8.REPORTS_FILTER_LABELS.name),t$e=ee.ETc(["entity","id"]),n$e=(0,pa.P1)(Na,(e=>ma.getBoardPath({workspace:e})));let s$e=!0;class r$e extends Ye.PureComponent{constructor(e){super(e),this.loadConnectedPipelines=()=>{const{activeRepo:e,loadConnectedPipelines:t,workspace:n}=this.props;t({repo_id:e.repo_id,organization:e.organization,repo:e.repository,workspaceId:n._id})},this.performanceEndMarked=!1}componentDidMount(){this.loadConnectedPipelines(),this.props.loadEntities().then((e=>{this.props.loadConnectedEntities(e)})),m6(v6.BURNDOWN_REPORT_OPENED),r6("Sprint Burndown Chart",{Action:"burndown chart viewed",Module:"Neutral"}),Q3({"Sprint Burndown Chart Views":1})}componentDidUpdate(e){const{isLoaded:t,isLoadingIssues:n}=this.props;t$e(e)!==t$e(this.props)&&t$e(this.props)&&this.props.loadEntityIssues(this.props.entity).then((e=>{this.props.setConnectedIssues(e)})),e.isLoaded&&!e.isLoadingIssues||!t||n||this.performanceEndMarked||(m6(v6.BURNDOWN_REPORT_RENDERED),E6([I6.BURNDOWN_REPORT_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!s$e}])),this.performanceEndMarked=!0)}componentWillUnmount(){const{clear:e}=this.props;s$e=!1,e()}render(){const{props:e}=this,{activeRepo:t,dispatch:n,removeLabelFilter:s,repositories:r,selectedLabels:i}=e,o=ee.zGw(ee.UID(fVe.getLabelTag(s)),ee.xHg,VVe)(i);return Ye.createElement("div",null,Ye.createElement(yBe,{pageName:"Sprints Burndown Report"}),Ye.createElement(WVe,jVe({},e,{organization:t.organization,repository:t.repository,repoId:t.repo_id,labelFilterTags:o,showAllRepos:()=>{const e=ee.jge("repo_id",r);n(KVe.showAllRepos(e))},showOneRepo:()=>{n(KVe.showOneRepo(t.repo_id))},onExportReport:()=>oje("Burndown")})))}}r$e.defaultProps={isLoaded:!1,isLoadingIssues:!1,entities:[]},r$e.propTypes={activeRepo:SI().shape({organization:SI().string,repo_id:SI().number,repository:SI().string}).isRequired,clear:SI().func.isRequired,dispatch:SI().func.isRequired,loadConnectedEntities:SI().func.isRequired,loadConnectedPipelines:SI().func.isRequired,loadEntities:SI().func.isRequired,loadEntityIssues:SI().func.isRequired,setConnectedIssues:SI().func.isRequired,workspace:SI().shape({_id:SI().string}).isRequired,entities:SI().arrayOf(SI().shape({})),entity:SI().shape({allRepos:SI().arrayOf(SI().shape({})),description:SI().string,due_on:SI().string,id:SI().oneOfType([SI().number,SI().string]),number:SI().number,title:SI().string}),isLoaded:SI().bool,isLoadingIssues:SI().bool,otherConnectedRepos:SI().arrayOf(SI().shape({})),removeLabelFilter:SI().func,repositories:SI().arrayOf(SI().shape({})),selectedLabels:SI().arrayOf(SI().shape({}))},r$e.contextType=kRe;const i$e=l3.$j((function(e){return{activeRepo:zm(e),activeBurnPipelinesFilter:QVe(e),activeLabelsFilter:XVe(e),boardPath:n$e(e),completedWithinScopeIssues:gh(e),completedWithinScopeStoryPoints:Eh(e),completedOutOfScopeIssues:_h(e),completedBeforeStartDateIssues:vh(e),description:Km(e),dueDate:Bm(e),isBurnPipelinesActive:nh(e),isLabelFilterActive:Am(e),isLoaded:lm(e),isLoadingIssues:dm(e),isSelectorActive:jm(e),isReadOnly:Ua(e),isRepoFilterActive:Qm(e),isTogglePRsActive:Em(e),labels:Pm(e),entity:Fm(e),entities:Wm(e),number:qm(e),isEntityClosed:Hm(e),openIssues:mh(e),incompleteIssues:Ih(e),incompleteStoryPoints:bh(e),otherConnectedRepos:$m(e),pipelines:th(e),repositories:Ym(e),selectedLabels:Jm(e),showPRs:Em(e),state:Vm(e),title:Gm(e),totalIssues:uh(e),totalStoryPoints:ph(e),labelFilterShortcuts:E8.REPORTS_FILTER_LABELS.shortcuts,workspace:Na(e)}}),(function(e){const t=(0,mr.DE)({loadConnectedEntities:KVe.loadConnectedMilestones,setConnectedIssues:KVe.setConnectedMilestonesIssues,addRepoFilter:KVe.addRepoFilter,clear:KVe.clear,clearBurnPipelines:KVe.clearBurnPipelines,clearLabelFilter:KVe.clearLabelFilter,clearLabelFilterTags:KVe.clearTagFilters,deselectBurnPipelinesItem:KVe.setBurnPipeline,removeLabelFilter:KVe.removeLabelFilter,removeRepoFilter:KVe.removeRepoFilter,selectBurnPipelinesItem:KVe.setBurnPipeline,selectLabelItem:KVe.addLabelFilter,selectEntity:KVe.selectMilestone,toggleBurnPipelines:ZVe,toggleLabelFilter:YVe,toggleEntitySelector:$Ve,togglePRsOff:KVe.hidePRs,togglePRsOn:KVe.showPRs,toggleRepoFilter:JVe,setEntity:KVe.setEntity},e),n={loadConnectedPipelines(t){e(KVe.loadConnectedPipelines(t))},onShortcutsUsed(){e(YVe()),e(e$e())},dispatch:e};return ee.TSy(t,n)}))(r$e),o$e=()=>{const e=(0,l3.v9)(Ua),{openModal:t}=iie(),n=e?null:Ye.createElement(Ope,{text:"Set up your sprints","data-cy":"new-sprint",modifiers:["action"],onClick:t});return Ye.createElement(CBe,{imageSrc:uVe,h1Text:"Sprints are not setup yet",descriptionText:"Set up sprints in your workspace to start tracking progress",ctaButton:n,modifiers:["create-milestone"]})};function a$e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function l$e(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){a$e(i,s,r,o,a,"next",e)}function a(e){a$e(i,s,r,o,a,"throw",e)}o(void 0)}))}}const c$e={NO_START_DATE:"This sprint has no start date",NO_DUE_DATE:"This sprint has no due date",INVALID_DATES:"This sprint has invalid dates",NO_VALID_ISSUES:"Add estimated issues to the sprint to generate the burndown chart"},d$e={title:"How to use a burndown chart",url:"https://help.zenhub.com/support/solutions/articles/43000010356",content:"Burndown charts help teams meet deadlines more predictably. Use sprints with estimated issues to see a visual representation of the speed at which work needs to be finished in order to complete all issues included in the sprint."};const u$e=()=>{const e=(0,l3.v9)(Pa),t=function(){var t=l$e((function*(){return(yield ly().query({query:Cle,variables:{first:100,workspaceId:e},fetchPolicy:"network-only"})).data.workspace.sprints.nodes.map((e=>({id:e.id,repo_id:null,number:null,due_on:e.endAt,closed_at:e.endAt,start_date:e.startAt,state:e.state.toLowerCase(),title:e.name,description:""})))}));return function(){return t.apply(this,arguments)}}(),n=function(){var t=l$e((function*(t){const{data:n}=yield ly().query({query:UVe,variables:{id:t.id,workspaceId:e},fetchPolicy:"network-only"}),s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{let{createdAt:t,issue:{id:n,number:s,title:r,state:i,labels:o,pipelineIssue:a,repository:l,pullRequest:c,epic:d,estimate:u,closedAt:p,htmlUrl:m}}=e;return{added_on:t,id:n,number:s,title:r,state:i.toLowerCase(),closed_at:p,labels:o.nodes,pipeline:a?{_id:a.pipeline.id,name:a.pipeline.name}:null,pipeline_name:a?a.pipeline.name:null,repo_name:l.name,repo_id:l.ghId,pull_request:c||null,transferred_on:a?.latestTransferTime??null,isEpic:null!==d,estimate:u?.value??null,html_url:m}}))}(n?.node?.sprintIssues?.nodes||[]);return s}));return function(e){return t.apply(this,arguments)}}();return Ye.createElement(i$e,{burndownOnboardingCopy:d$e,noEntitiesState:Ye.createElement(o$e,null),emptyStateCopyMap:c$e,noIssuesImg:uVe,loadEntities:t,loadEntityIssues:n})},p$e="Frf9LyVYwxUG4qOAgooK",m$e="NzFClQAejOOa04EFeMj9",{burndown:h$e}=LG;const E$e=function(){const e=(0,l3.v9)(lm),[t,n]=(()=>{const e=(0,l3.v9)(Im),t=(0,l3.I0)(),n=e=>t(h$e.setEntity(e));return(0,Ye.useEffect)((()=>{e||n("sprints")}),[]),[e,n]})();return Ye.createElement(Hme,{onSelect:n,selectedTabId:t},Ye.createElement(Gme,{className:p$e},Ye.createElement(Vme,{disabled:!e,tabId:"sprints"},Ye.createElement("span",{className:m$e},"Sprints")),Ye.createElement(Vme,{disabled:!e,tabId:"milestones"},Ye.createElement("span",{className:m$e},"Milestones"))),Ye.createElement(Xme,null,Ye.createElement(Yme,{tabId:"sprints"},Ye.createElement(u$e,null)),Ye.createElement(Yme,{tabId:"milestones"},Ye.createElement(xVe,null))))},g$e=bBe("BURNDOWN_CHART")(yje((()=>Ye.createElement(k7,{fallbackComponent:u$e,name:"workspaces-milestones-visibility"},Ye.createElement(E$e,null))))),f$e=n.p+"../../img/built/illustration-report.svg";class _$e extends Ye.PureComponent{render(){const{isReadOnly:e,openCreateReleaseForm:t}=this.props,n=e?null:Ye.createElement(Ope,{text:"Create a release","data-cy":"create-release",modifiers:["action"],onClick:()=>t()});return Ye.createElement(CBe,{imageSrc:f$e,h1Text:"This workspace has no release",descriptionText:e?"Looks like you don't have the proper permissions to create a release in this repo.":"Track scope, velocity, and predict completion dates for larger goals using the release.",ctaButton:n,modifiers:["no-release"]})}}_$e.propTypes={isReadOnly:SI().bool.isRequired,openCreateReleaseForm:SI().func.isRequired};const v$e=_$e;function I$e(){return I$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I$e.apply(this,arguments)}const b$e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--calendar-check",t].filter(Boolean).join(" "),"aria-label":"calendar-check",role:"img",...n};return Ye.createElement("svg",I$e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("g",{transform:"translate(2 2)",stroke:"currentColor",strokeWidth:1.4},Ye.createElement("rect",{x:.7,y:1.7,width:10.6,height:10.6,rx:2}),Ye.createElement("path",{strokeLinecap:"round",d:"M3 7.784l1.888 1.888L8.859 5.7M3.7 3.5v-3m5 3v-3"}))))},y$e=e=>{let{activeFilter:t,children:n,clearFilter:s,clearFilterLabel:r,clickTab:i,selectedTabId:o,banner:a}=e;const l=t?Ye.createElement(zte,{name:r,onClick:s,isActive:t}):null,c=["Open","Closed"];return Ye.createElement(Hme,{onSelect:i,selectedTabId:o,type:"dropdown"},Ye.createElement(Gme,null,c.map((e=>Ye.createElement(Vme,{key:e,tabId:e},e)))),Ye.createElement(Xme,null,c.map((e=>Ye.createElement(Yme,{key:e,tabId:e},a,l,n)))))};y$e.defaultProps={activeFilter:!1,banner:null,clearFilter:()=>{},clearFilterLabel:"",clickTab:()=>{}},y$e.propTypes={children:SI().node.isRequired,selectedTabId:SI().string.isRequired,activeFilter:SI().bool,banner:SI().node,clearFilter:SI().func,clearFilterLabel:SI().string,clickTab:SI().func};const S$e=(0,Ye.memo)(y$e);class w$e extends Ye.PureComponent{constructor(e){super(e),this.state={searchTerm:"",hoveredItemIndex:0},this.items=[],this.filterItems=this.filterItems.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.renderListItems=this.renderListItems.bind(this),this.onMouseEnterItem=this.onMouseEnterItem.bind(this)}handleKeyDown(e){const{toggleOpen:t}=this.props,{hoveredItemIndex:n}=this.state,s=ee.kE(ee.hXT(Ate,this.items));let r;switch(e.key){case"Enter":if(e.preventDefault(),(0,_t.KN)(this.items)||(0,_t.KN)(this.items[n]))break;r=this.items[n],r.handleSelectionListEnterKey();break;case"Escape":t(),e.nativeEvent.stopImmediatePropagation();break;case"ArrowUp":if(n<=0)break;this.setState({hoveredItemIndex:n-1},(()=>{const{hoveredItemIndex:e}=this.state;r=this.items[e];Wte(vte.findDOMNode(r))}));break;case"ArrowDown":if(n>=s-1)break;this.setState({hoveredItemIndex:n+1},(()=>{const{hoveredItemIndex:e}=this.state;r=this.items[e];jte(vte.findDOMNode(r))}))}}onMouseEnterItem(e){this.setState({hoveredItemIndex:e})}filterItems(e){this.setState({searchTerm:e.filterKey,hoveredItemIndex:0})}renderListItems(e){const t=this,{emptyText:n}=this.props,{searchTerm:s}=this.state;this.items=[];const r=ee.hXT((e=>ee.r3W(s.toLowerCase(),e.props.title.toLowerCase())),e);return ee.xbD(r)?Hte(n):Ye.Children.map(r,((e,n)=>ee.r3W(s.toLowerCase(),e.props.title.toLowerCase())?t.renderItem(e,n):null))}renderItem(e,t){const{hoveredItemIndex:n}=this.state;return(0,Ye.cloneElement)(e,{ref:e=>{this.items[t]=e},index:t,isActive:t===n,onMouseEnter:this.onMouseEnterItem.bind(null,t)})}render(){const{activeFilter:e,children:t,clearFilter:n,clearFilterLabel:s,clickTab:r,filterDefaultText:i,isActive:o,listTitle:a,position:l,selectedTabId:c,toggleOpen:d,banner:u}=this.props,p=ee.kKJ(t)?Bte:this.renderListItems(t);return Ye.createElement($te,{allowNegatedSearch:!1,filterDefaultText:i,isActive:o,onFilterChange:this.filterItems,position:l,styleType:Ote.ITEMS_UNDERLINED,title:a,toggleOpen:d,onKeyDownHandler:this.handleKeyDown},Ye.createElement(S$e,{clearFilter:n,activeFilter:e,clickTab:r,selectedTabId:c,clearFilterLabel:s,banner:u},p))}}w$e.propTypes={filterDefaultText:SI().string.isRequired,listTitle:SI().string.isRequired,selectedTabId:SI().string.isRequired,toggleOpen:SI().func.isRequired,activeFilter:SI().bool,banner:SI().node,children:SI().node,clearFilter:SI().func,clearFilterLabel:SI().string,clickTab:SI().func,emptyText:SI().string,isActive:SI().bool,position:SI().string},w$e.defaultProps={activeFilter:!1,banner:null,children:void 0,clearFilter:()=>{},clearFilterLabel:"Clear",clickTab:()=>{},emptyText:"Empty",isActive:!1};const R$e=w$e;function T$e(){return T$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},T$e.apply(this,arguments)}const C$e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--issue-closed-gray",t].filter(Boolean).join(" "),"aria-label":"issue-closed-gray",role:"img",...n};return Ye.createElement("svg",T$e({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{clipRule:"evenodd",d:"M3.264 3.547A6.5 6.5 0 001.5 7.999a6.5 6.5 0 0012.757 1.767.75.75 0 111.444.407 8 8 0 11-2.592-8.33.75.75 0 01-.959 1.153 6.5 6.5 0 00-8.886.55zm5.602 7.952a1 1 0 11-1.732-1 1 1 0 011.732 1zM8 3.999a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5a.75.75 0 01.75-.75zm7.78 1.28l-3 3a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 111.06-1.06l.97.97 2.47-2.47a.75.75 0 011.06 1.06z",fill:"currentColor",fillRule:"evenodd"}))},k$e=ee.OH4("state","closed");const O$e=ee.qCK($p,ee.vgT("desired_end_date")),N$e=ee.KJl(k$e,(function(e){const t=e.closed_at;return ee.kKJ(t)?"No closing date":`Closed ${Pp(t)}`}),O$e);class P$e extends Ye.PureComponent{render(){const{title:e,desired_end_date:t,negated:n,isSpecialFilter:s}=this.props,r=(0,_I.default)({"zhu-font-bold":s});return Ye.createElement("div",{className:"zhc-selection-list-item zhc-release-item"},Ye.createElement("div",{className:"zhc-release-item__title-container"},k$e(this.props)?Ye.createElement(C$e,null):null,n&&Ye.createElement("div",{className:"zhc-release-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{"data-cy":"release-name",className:r},e)),ee.kKJ(t)?null:Ye.createElement("div",{"data-cy":"release-due-date",className:"zhc-release-item__due_date"},N$e(this.props)))}}P$e.propTypes={title:SI().string.isRequired,desired_end_date:SI().string,isSpecialFilter:SI().bool,negated:SI().bool},P$e.defaultProps={desired_end_date:null,isSpecialFilter:!1,negated:!1};const A$e=yEe(P$e);function D$e(){return D$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},D$e.apply(this,arguments)}const L$e=e=>{let{buttonIconComponent:t=Ye.createElement(nre,null),buttonName:n="Releases",closeDropdown:s=_t.ZT,defaultSelectedTabId:r,isActive:i=!1,openDropdown:o=_t.ZT,releases:a,selectRelease:l=_t.ZT,tooltipContent:c="Select release"}=e;const[d,u]=(0,Ye.useState)(r),p=()=>i?s():o(),m="Open"===d?a.open:a.closed;return Ye.createElement("div",{className:"zhc-dropdown"},Ye.createElement(rae,{"data-cy":"dropdown",isActive:i,iconComponent:t,name:n,toggleOpen:p,tooltipContent:c}),i?Ye.createElement(R$e,{clickTab:u,emptyText:"No releases found",filterDefaultText:"Filter releases",isActive:i,listTitle:"Select release",selectedTabId:d,toggleOpen:p},(m||[]).map((e=>Ye.createElement(A$e,D$e({},e,{key:e.release_id,filterKey:e.release_id,select:()=>(l(e),void s()),deselect:_t.ZT}))))):null)};function z$e(){return z$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z$e.apply(this,arguments)}const M$e=e=>{let{changeSelectedKey:t,clearSelectedKey:n,showLabelsDropdown:s,openLabelsDropdown:r,closeLabelsDropdown:i,selectedLabelKey:o,labels:a,labelFilterShortcuts:l,onShortcutsUsed:c}=e;const d=!ee.kKJ(o)?Ye.createElement(Kpe,{text:"Clear label",handler:n}):null,u=Lfe(a,"name","Labels");return Ye.createElement("div",{className:"zhc-release-report__label-filter"},Ye.createElement(WWe,z$e({},u,{activeFilter:!1,allowNegatedSearch:!1,clearFilter:n,deselectItem:n,isActive:s,listTitle:"Filter release report by label",labels:a,selectItem:t,shortcuts:l,toggleOpen:s?i:r,onShortcutsUsed:c})),d)};M$e.propTypes={changeSelectedKey:SI().func,clearSelectedKey:SI().func,closeLabelsDropdown:SI().func,labelFilterShortcuts:SI().string,labels:SI().arrayOf(SI().shape({})),openLabelsDropdown:SI().func,selectedLabelColor:SI().string,selectedLabelKey:SI().string,showLabelsDropdown:SI().bool,onShortcutsUsed:SI().func};const x$e=M$e,F$e={ISSUE_ADDED:"ISSUE_ADDED",ISSUE_REMOVED:"ISSUE_REMOVED",ISSUE_COMPLETED:"ISSUE_COMPLETED",ISSUE_REOPENED:"ISSUE_REOPENED",ESTIMATE_ADDED:"ESTIMATE_ADDED",ESTIMATE_REMOVED:"ESTIMATE_REMOVED",ESTIMATE_CHANGED:"ESTIMATE_CHANGED",RELEASE_START_DATE_CHANGED:"RELEASE_START_DATE_CHANGED",RELEASE_END_DATE_CHANGED:"RELEASE_END_DATE_CHANGED",RELEASE_CLOSED:"RELEASE_CLOSED",RELEASE_REOPENED:"RELEASE_REOPENED",RELEASE_OPEN:"RELEASE_OPEN"},U$e={issue_added:F$e.ISSUE_ADDED,issue_removed:F$e.ISSUE_REMOVED,issue_estimated:"",release_closed:F$e.RELEASE_CLOSED,release_reopened:F$e.RELEASE_REOPENED},B$e=ee.qCK(ee.e$l(ee.__,U$e),ee.vgT("type")),q$e=ee.OH4("type","issue_estimated"),H$e=ee.qCK(bp,ee.vgT("date")),W$e=ee.MRu(H$e),j$e=ee.qCK(ee.GYS,W$e);function G$e(e){const t=e.data||{},n=q$e(e),s=t.previous_scope,r=t.current_scope;return n&&ee.kKJ(s)?F$e.ESTIMATE_ADDED:n&&ee.kKJ(r)?F$e.ESTIMATE_REMOVED:n?F$e.ESTIMATE_CHANGED:U$e[e.type]}const K$e=ee.qCK(j$e,ee.UID((function(e){const t=e.data||{};return{date:new Date(e.created_at),author:e.author,type:G$e(e),issue:{title:t.title||null,html_url:t.html_url||null},current_scope:ee.is(Number,t.current_scope)?t.current_scope:null,previous_scope:ee.is(Number,t.previous_scope)?t.previous_scope:null}})),ee.hXT(B$e)),V$e=ee.qCK(ee.yAE(0),ee.vgT("previous_scope")),$$e=ee.qCK(ee.yAE(0),ee.vgT("current_scope")),Z$e=ee.qCK(ee.yAE(0),ee.vgT("scopeChange"));const Y$e=ee.qCK(ee.hL$(1),ee.zJu((function(e,t){const n=e+t.scopeChange;return[n,ee.yGi("scope",n,t)]}),0)),J$e=ee.eiS(["date","scope"]),X$e=(ee.qCK(ee.UID(J$e),Y$e,ee.UID((e=>{const t=$$e(e)-V$e(e);return ee.yGi("scopeChange",t,e)})),W$e,K$e),ee.OH4("state","closed")),Q$e=ee.vgT("estimate"),eZe=ee.hXT(X$e),tZe=ee.qCK(ee.is(Number),Q$e),nZe=ee.hXT(tZe);const sZe=ee.qCK(ee.hL$(1),ee.zJu((function(e,t){const n=e+t.points;return[n,ee.yGi("completed",n,t)]}),0)),rZe=(ee.qCK(sZe,W$e,ee.UID((e=>({issue:e,date:new Date(e.closed_at),points:e.estimate}))),nZe,eZe),ee.WAo(((e,t,n)=>e<=n&&n<=t)),"byL08AHTfcPSV4O4tR20");function iZe(){return iZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iZe.apply(this,arguments)}class oZe extends Ye.Component{constructor(e){super(e),this.onClickCloseReport=this.onClickCloseReport.bind(this),this.onClickReopenReport=this.onClickReopenReport.bind(this),this.onClickOpenReleaseModal=this.onClickOpenReleaseModal.bind(this)}onClickCloseReport(){const{releaseId:e,closeRelease:t}=this.props;t({release_id:e})}onClickReopenReport(){const{releaseId:e,reopenRelease:t}=this.props;t({release_id:e})}onClickOpenReleaseModal(){const{openCreateReleaseForm:e}=this.props;e()}render(){const{title:e,hasReleasePermissions:t,openEditReleaseForm:n,releases:s,showReleasesDropdown:r,openReleasesDropdown:i,closeReleasesDropdown:o,selectRelease:a}=this.props,l="open"===this.props.releaseState;const c=!t;function d(e,t,n,s){return n?Ye.createElement(YI,{content:s},Ye.createElement(Ope,{text:e,onClick:t,disabled:n})):Ye.createElement(Ope,{text:e,"data-cy":"release-button",onClick:t,disabled:n})}const u="You only have read access for this release",p=d(l?"Close this release":"Reopen this release",l?this.onClickCloseReport:this.onClickReopenReport,c,u),m=d("Edit release",n,c,u),h={text:"Create new release",modifiers:["text","text-primary"],onClick:this.onClickOpenReleaseModal},E=c?Ye.createElement(YI,{content:u},Ye.createElement(Ope,iZe({},h,{disabled:!0}))):Ye.createElement(Ope,iZe({},h,{"data-cy":"create-release"}));return Ye.createElement("div",{className:"zhc-release-report__header-controls"},Ye.createElement(L$e,{buttonName:e,releases:s,openDropdown:i,closeDropdown:o,isActive:r,selectRelease:a,defaultSelectedTabId:l?"Open":"Closed"}),E,Ye.createElement("div",{className:"zhc-release-report__release-actions"},p,m))}}oZe.propTypes={openCreateReleaseForm:SI().func.isRequired,openEditReleaseForm:SI().func.isRequired,openReleasesDropdown:SI().func.isRequired,closeRelease:SI().func,closeReleasesDropdown:SI().func,hasReleasePermissions:SI().bool,releaseId:SI().string,releases:SI().shape({}),reopenRelease:SI().func,selectRelease:SI().func,showReleasesDropdown:SI().bool,title:SI().string};class aZe extends Ye.PureComponent{render(){const{title:e,description:t}=this.props,n="closed"===this.props.releaseState?Ye.createElement(Hje,null):null;const s=(0,_t.KN)(t)?null:Ye.createElement(che,{content:t});return Ye.createElement("div",{className:"zhc-release-report__release-description"},Ye.createElement("h1",{className:"zhc-release-report__release-title"},n,e),Ye.createElement("span",{className:"zhc-release-report__description"},s))}}aZe.propTypes={description:SI().string,title:SI().string};class lZe extends Ye.PureComponent{render(){const{startDate:e,desiredEndDate:t}=this.props;return Ye.createElement("div",{className:"zhc-release-report__release-dates"},Ye.createElement("div",{className:"zhc-release-report__date"},"Start",Ye.createElement("span",{className:"zhc-release-report__date__value"},e?Bp(e):"No start date")),Ye.createElement("div",{className:"zhc-release-report__date"},"Desired end date",Ye.createElement($Be,{dueDate:t,startDate:e})))}}lZe.propTypes={desiredEndDate:SI().instanceOf(Date),startDate:SI().instanceOf(Date)};class cZe extends Ye.PureComponent{componentDidUpdate(e){const{isPredictedEndDateAvailable:t,showPredictedEndDate:n,toggleShowPredictedEndDate:s}=this.props;t!==e.isPredictedEndDateAvailable&&n&&s()}render(){const{clearSelectedLabel:e,closeLabelsDropdown:t,description:n,desiredEndDate:s,issues:r,labels:i,labelFilterShortcuts:o,openLabelsDropdown:a,releaseState:l,selectedLabelKey:c,selectedLabelColor:d,setSelectedLabel:u,showLabelsDropdown:p,showPredictedEndDate:m,startDate:h,title:E,toggleShowPredictedEndDate:g,onShortcutsUsed:f,isPredictedEndDateAvailable:_}=this.props,v=(0,_t.KN)(r)||(0,ee.YPD)(tZe,r),I=m?"Hide predicted end date":"Show predicted end date",b=_?I:`At least 1 closed issue on ${yc} different days is needed to predict an end date`;return Ye.createElement("div",{className:"zhc-release-report__header"},Ye.createElement("div",{className:"zhc-release-report__section","data-cy":"report-header-section"},Ye.createElement(oZe,this.props)),Ye.createElement("div",{className:"zhc-release-report__section"},Ye.createElement(aZe,{title:E,releaseState:l,description:n})),Ye.createElement("div",{className:"zhc-release-report__section"},Ye.createElement(lZe,{startDate:h,desiredEndDate:s})),v?null:Ye.createElement("div",{className:"zhc-release-report__section zhu-flex","data-cy":"report-section"},Ye.createElement(x$e,{changeSelectedKey:u,clearSelectedKey:e,closeLabelsDropdown:t,labels:i,labelFilterShortcuts:o,openLabelsDropdown:a,selectedLabelColor:d,selectedLabelKey:c,showLabelsDropdown:p,onShortcutsUsed:f}),Ye.createElement("div",{className:"zhc-release-report__release-actions"},Ye.createElement(YI,{content:b},Ye.createElement(H5,{ariaLabel:b,"data-cy":"show-hide-data",onClick:g,disabled:!_},Ye.createElement(b$e,null),Ye.createElement("span",{className:rZe},I),Ye.createElement(Xpe,{content:"Beta",type:"primary",disabled:!_}))))))}}cZe.propTypes={clearSelectedLabel:SI().func,closeLabelsDropdown:SI().func,description:SI().string,desiredEndDate:SI().instanceOf(Date),isPredictedEndDateAvailable:SI().bool,issues:SI().arrayOf(SI().shape({})),labelFilterShortcuts:SI().string,labels:SI().arrayOf(SI().shape({})),openLabelsDropdown:SI().func,releaseState:SI().string,selectedLabelColor:SI().string,selectedLabelKey:SI().string,setSelectedLabel:SI().func,showLabelsDropdown:SI().bool,showPredictedEndDate:SI().bool,startDate:SI().instanceOf(Date),title:SI().string,toggleShowPredictedEndDate:SI().func,onShortcutsUsed:SI().func};const dZe=cZe;class uZe extends Ye.PureComponent{render(){const{boardPath:e,issues:t,organization:n,repoName:s}=this.props,r=ee.xbD(t),i=r?"Start tracking by adding issues to this release. Filter by milestones, epics, or labels and select issues to add to this release.":"Add estimates to issues to start tracking your release progress. The more estimated issues you have, the more useful this report will be.",o=r?f$e:aKe;return Ye.createElement(CBe,{boardPath:e,imageSrc:o,descriptionText:i,organization:n,repository:s})}}uZe.propTypes={boardPath:SI().string.isRequired,issues:SI().arrayOf(SI().shape({})),organization:SI().string,repoName:SI().string},uZe.defaultProps={issues:[]};const pZe=uZe,mZe=e=>{let{className:t}=e;return Ye.createElement("svg",{width:"750",height:"350",viewBox:"0 0 750 350",className:t,xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{fill:"currentColor",opacity:".63",d:"M556.371.946h192.787v348.108H556.371z"}),Ye.createElement("path",{fill:"currentColor",opacity:"0.63",d:"M430.976 60.54h125.421v104.5h-125.42zM0 349.47v-10.9h108.349v-17.459h93.655v-156.07h354.367v184.428"})))};function hZe(e,t){return ee.kKJ(e)?{}:{fill:iue(e),fillOpacity:t}}function EZe(e){return ee.kKJ(e)?{}:{stroke:iue(e)}}function gZe(e){return ee.kKJ(e)?{}:{fill:iue(e)}}function fZe(e,t,n,s){const r=ee.qCK(ee.egL(s),ee.eiy(t)),i=ee.qr6(r,e),o=ee.t8m(t,s,{});return ee.t8m(n,-1===i?0:ee.eiy(n,e[i]),o)}function _Ze(e,t,n,s,r){const i=fZe(e,t,n,s),o=fZe(e,t,n,r),a=ee.eiy(t),l=ee.qCK(ee.HkC(ee.GaM(s),ee.egL(r)),a),c=ee.zoF([i,o],e);return ee.MRu(a,ee.hXT(l,c))}function vZe(){return vZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vZe.apply(this,arguments)}class IZe extends Ye.PureComponent{render(){const{data:e,xLens:t,yLens:n,startDate:s,currentDate:r,color:i,areaOpacity:o,tooltipToAttach:a,tooltipData:l,xScale:c,yScale:d}=this.props,u=_Ze(e,t,n,s,r),p={x:ee.eiy(t),y:ee.eiy(n),xScale:c,yScale:d};return Ye.createElement(gqe,null,Ye.createElement(vqe,vZe({},p,{data:u,style:hZe(i,o)})),Ye.createElement(Wqe,vZe({},p,{data:u,curve:uqe.cD,style:EZe(i)})),Ye.createElement(Vqe,vZe({},p,{data:e,tooltipData:l,tooltipToAttach:a,style:gZe(i)})))}}IZe.propTypes={areaOpacity:SI().number,color:SI().string,currentDate:SI().instanceOf(Date),data:SI().arrayOf(SI().shape({})),startDate:SI().instanceOf(Date),tooltipData:SI().func,tooltipToAttach:SI().func,xLens:SI().func,xScale:SI().func,yLens:SI().func,yScale:SI().func};const bZe=IZe;function yZe(){return yZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yZe.apply(this,arguments)}class SZe extends Ye.PureComponent{render(){const{xLens:e,yLens:t,data:n,currentDate:s,endDate:r,color:i,areaOpacity:o}=this.props,a=_Ze(n,e,t,s,r);return Ye.createElement(gqe,{classNames:"zhc-release-chart-estimated-scope"},Ye.createElement(bZe,this.props),Ye.createElement(Wqe,yZe({},this.props,{x:ee.eiy(e),y:ee.eiy(t),data:a,style:EZe(i)})),Ye.createElement(vqe,yZe({},this.props,{x:ee.eiy(e),y:ee.eiy(t),data:a,style:hZe(i,o)})))}}SZe.propTypes={areaOpacity:SI().number,color:SI().string,currentDate:SI().instanceOf(Date),data:SI().arrayOf(SI().shape({})),endDate:SI().instanceOf(Date),startDate:SI().instanceOf(Date),xLens:SI().func,yLens:SI().func};const wZe=SZe;class RZe extends Ye.PureComponent{render(){return Ye.createElement(gqe,{classNames:"zhc-release-chart-completed-points"},Ye.createElement(bZe,this.props))}}const TZe=RZe;function CZe(){return CZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},CZe.apply(this,arguments)}const kZe=ee.vgT("y");function OZe(e,t){const n=e[0],s=e[1],r=t[0],i=t[1];if(i===r)return n;const o=(s-n)/(i-r),a=s-o*i;return e=>o*(e=>new Date(e).getTime())(e)+a}class NZe extends Ye.PureComponent{render(){const{startDate:e,predictedEndDate:t,velocityFunction:n,showVelocityLine:s,isPredictedEndDateInPast:r}=this.props;if(!s||r)return null;const i=OZe([e,t],ee.UID(n,[e,t])),o=(0,pqe.Z)([i(0),e]),a=[{date:o,y:n(o)},{date:t,y:n(t)}];return Ye.createElement(gqe,{classNames:"zhc-release-chart-predicted-velocity"},Ye.createElement(Wqe,CZe({},this.props,{data:a,y:kZe})),Ye.createElement(Vqe,CZe({},this.props,{data:[ee.Z$Q(a)],y:kZe,radius:4})))}}NZe.propTypes={isPredictedEndDateInPast:SI().bool,predictedEndDate:SI().instanceOf(Date),showVelocityLine:SI().bool,startDate:SI().instanceOf(Date),velocityFunction:SI().func};const PZe=NZe;function AZe(){return AZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AZe.apply(this,arguments)}const DZe=ee.vgT("y");class LZe extends Ye.PureComponent{render(){const{startDate:e,desiredEndDate:t,totalScope:n}=this.props;if((0,_t.KN)(n))return null;const s=[{date:e,y:0},{date:t,y:ee.Uth(0,"totalScopeToDate",ee.Z$Q(n))}];return Ye.createElement(gqe,{classNames:"zhc-release-chart-desired-velocity"},Ye.createElement(Wqe,AZe({},this.props,{data:s,y:DZe})),Ye.createElement(Vqe,AZe({},this.props,{data:[ee.Z$Q(s)],y:DZe,radius:4})))}}LZe.propTypes={desiredEndDate:SI().instanceOf(Date),startDate:SI().instanceOf(Date),totalScope:SI().arrayOf(SI().shape({}))};const zZe=LZe;function MZe(){return MZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},MZe.apply(this,arguments)}class xZe extends Ye.PureComponent{render(){const{xLens:e,yLens:t,data:n,currentDate:s,endDate:r,color:i,areaOpacity:o}=this.props,a=_Ze(n,e,t,s,r),l=ee.eiy(e),c=ee.eiy(t);return Ye.createElement(gqe,{classNames:"zhc-release-chart-total-scope"},Ye.createElement(bZe,this.props),Ye.createElement(Wqe,MZe({},this.props,{x:l,y:c,data:a,style:EZe(i)})),Ye.createElement(vqe,MZe({},this.props,{x:l,y:c,data:a,style:hZe(i,o)})))}}xZe.propTypes={areaOpacity:SI().number,color:SI().string,currentDate:SI().instanceOf(Date),data:SI().arrayOf(SI().shape({})),endDate:SI().instanceOf(Date),xLens:SI().func,yLens:SI().func};const FZe=xZe,UZe=Vne(!0,!0),BZe=OI.githubURL,qZe=e=>{let{modifiers:t=[],username:n="ghost",showAsLink:s=!0}=e;if(s){const e=(0,_t.DG)("zhc-username",t);return Zne(`${BZe}/${n}`,n,UZe,{className:(0,_I.default)("zhc-username",e)})}const r=(0,_t.DG)("zhc-username",t),i=(0,_I.default)("zhc-username","zhc-username--is-deleted",r);return Ye.createElement("span",{className:i},n)},HZe=qZe;class WZe extends Ye.PureComponent{render(){const{avatarUrl:e,text:t}=this.props;return Ye.createElement("div",{className:"zhc-release-event-link zhc-release-item--fixed"},Ye.createElement(HZe,{username:t,showAsLink:Boolean(e)}))}}WZe.propTypes={text:SI().string.isRequired,avatarUrl:SI().string};const jZe=WZe,GZe=SI().shape({avatarUrl:SI().string,username:SI().string});class KZe extends Ye.PureComponent{render(){const{author:e}=this.props,t=ee.kKJ(e.avatarUrl)?null:Ye.createElement(jpe,{url:e.avatarUrl,alt:e.username,size:16});return Ye.createElement("div",{className:"zhc-release-event__item zhc-release-event__item--author zhc-release-item--fixed"},t,PI?Ye.createElement(jZe,{hasAvatar:e.avatarUrl,text:e.username}):e.username)}}KZe.propTypes={author:GZe};const VZe=KZe;class $Ze extends Ye.PureComponent{render(){const{date:e,highlighted:t}=this.props;if(ee.kKJ(e))return null;const n=(0,_I.default)("zhc-release-event__item zhc-release-event__item--date zhc-release-item--fixed",{"zhc-release-event__item--date--highlighted":t});return Ye.createElement("div",{className:n},Vp(e))}}$Ze.propTypes={date:SI().instanceOf(Date),highlighted:SI().bool};const ZZe=$Ze;class YZe extends Ye.PureComponent{render(){const{issue:e}=this.props,t={issue_number:e.issue_number,repository:e.cached_repo_name,organization:AP(e.html_url)};return Ye.createElement("div",{className:"zhc-release-event__item zhc-release-event__item--issue-link"},Ye.createElement(jZe,{href:ma.getRepoIssuePath(t),text:e.title}))}}YZe.propTypes={issue:SI().shape({cached_repo_name:SI().string.isRequired,html_url:SI().string.isRequired,issue_number:SI().number.isRequired,title:SI().string.isRequired}).isRequired};const JZe=YZe;class XZe extends Ye.PureComponent{render(){const{text:e}=this.props;return Ye.createElement("div",{className:"zhc-release-event__item zhc-release-event__item--text zhc-release-item--fixed"},e)}}XZe.propTypes={text:SI().string.isRequired};const QZe=XZe;function eYe(){return eYe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},eYe.apply(this,arguments)}const tYe=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--estimate-arrow-up",t].filter(Boolean).join(" "),"aria-label":"estimate-arrow-up",role:"img",...n};return Ye.createElement("svg",eYe({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 16L12 2 4 16h7v5a1 1 0 102 0v-5h7z",fill:"currentColor"}))},nYe=ee.yAE(0);class sYe extends Ye.PureComponent{render(){const{previousScope:e,currentScope:t}=this.props,n=nYe(t)-nYe(e);if(0===n)return null;const s=n<0?ZBe.ESTIMATE_CLOSED:null,r=n<0?Ye.createElement(_Oe,null):Ye.createElement(tYe,null);return Ye.createElement("div",{className:"zhc-release-event__item zhc-release-event__item--scope-change zhc-release-item--fixed"},r,Ye.createElement(sqe,{type:s,value:Math.abs(n)}))}}sYe.propTypes={currentScope:SI().number,previousScope:SI().number};const rYe=sYe;class iYe extends Ye.PureComponent{render(){const{author:e,issue:t,date:n,currentScope:s,previousScope:r}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"added"}),Ye.createElement(JZe,{issue:t}),Ye.createElement(QZe,{text:"to the Release on"}),Ye.createElement(ZZe,{date:n}),Ye.createElement(rYe,{currentScope:s,previousScope:r}))}}iYe.propTypes={author:GZe.isRequired,date:SI().instanceOf(Date).isRequired,issue:SI().shape({}).isRequired,currentScope:SI().number,previousScope:SI().number};const oYe=iYe;class aYe extends Ye.PureComponent{render(){const{author:e,issue:t,date:n,currentScope:s,previousScope:r}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"removed"}),Ye.createElement(JZe,{issue:t}),Ye.createElement(QZe,{text:"from the Release on"}),Ye.createElement(ZZe,{date:n}),Ye.createElement(rYe,{previousScope:r,currentScope:s}))}}aYe.propTypes={author:GZe.isRequired,date:SI().instanceOf(Date).isRequired,issue:SI().shape({}).isRequired,currentScope:SI().number,previousScope:SI().number};const lYe=aYe;class cYe extends Ye.PureComponent{render(){const{issue:e,date:t}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement("div",{className:"zhc-release-event__item zhc-release-event__closed-icon"},Ye.createElement(mKe,null)),Ye.createElement(JZe,{issue:e}),Ye.createElement(QZe,{text:"was completed on"}),Ye.createElement(ZZe,{date:t}))}}cYe.propTypes={date:SI().instanceOf(Date).isRequired,issue:SI().shape({}).isRequired};const dYe=cYe;class uYe extends Ye.PureComponent{render(){const{author:e,issue:t,date:n}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"reopened on"}),Ye.createElement(JZe,{issue:t}),Ye.createElement(ZZe,{date:n}))}}uYe.propTypes={author:SI().string.isRequired,date:SI().string.isRequired,issue:SI().shape({}).isRequired};const pYe=uYe;class mYe extends Ye.PureComponent{render(){const{scope:e}=this.props;return Ye.createElement("span",{className:"zhc-release-event__item zhc-release-event__item--scope zhc-release-item--fixed"},(0,_t.rK)(e))}}mYe.propTypes={scope:SI().number.isRequired};const hYe=mYe;class EYe extends Ye.PureComponent{render(){const{author:e,issue:t,date:n,currentScope:s,previousScope:r}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"set the estimate for"}),Ye.createElement(JZe,{issue:t}),Ye.createElement(QZe,{text:"to"}),Ye.createElement(hYe,{scope:s}),Ye.createElement(QZe,{text:"on"}),Ye.createElement(ZZe,{date:n}),Ye.createElement(rYe,{currentScope:s,previousScope:r}))}}EYe.propTypes={author:GZe.isRequired,date:SI().instanceOf(Date).isRequired,issue:SI().shape({}).isRequired,currentScope:SI().number,previousScope:SI().number};const gYe=EYe;class fYe extends Ye.PureComponent{render(){const{author:e,issue:t,date:n,previousScope:s,currentScope:r}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"removed the estimate for"}),Ye.createElement(JZe,{issue:t}),Ye.createElement(QZe,{text:"on"}),Ye.createElement(ZZe,{date:n}),Ye.createElement(rYe,{currentScope:r,previousScope:s}))}}fYe.propTypes={author:GZe.isRequired,date:SI().instanceOf(Date).isRequired,issue:SI().shape({}).isRequired,currentScope:SI().number,previousScope:SI().number};const _Ye=fYe;class vYe extends Ye.PureComponent{render(){const{author:e,issue:t,date:n,previousScope:s,currentScope:r}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"changed the estimate for"}),Ye.createElement(JZe,{issue:t}),Ye.createElement(QZe,{text:"from"}),Ye.createElement(hYe,{scope:s}),Ye.createElement(QZe,{text:"to"}),Ye.createElement(hYe,{scope:r}),Ye.createElement(QZe,{text:"on"}),Ye.createElement(ZZe,{date:n}),Ye.createElement(rYe,{currentScope:r,previousScope:s}))}}vYe.propTypes={author:GZe.isRequired,currentScope:SI().number.isRequired,date:SI().instanceOf(Date).isRequired,issue:SI().shape({}).isRequired,previousScope:SI().number.isRequired};const IYe=vYe,bYe=ee.ETc(["data","from"]),yYe=ee.ETc(["data","to"]);class SYe extends Ye.PureComponent{render(){const{author:e,date:t,backendEvent:n}=this.props,s=bYe(n),r=yYe(n);return ee.pe1(Vp,s,r)?null:Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"changed the start date from"}),Ye.createElement(ZZe,{date:s,highlighted:!0}),Ye.createElement(QZe,{text:"to"}),Ye.createElement(ZZe,{date:r,highlighted:!0}),Ye.createElement(QZe,{text:"on"}),Ye.createElement(ZZe,{date:t}))}}SYe.propTypes={author:GZe.isRequired,backendEvent:SI().shape({}),date:SI().string};const wYe=SYe,RYe=ee.ETc(["data","from"]),TYe=ee.ETc(["data","to"]);class CYe extends Ye.PureComponent{render(){const{author:e,date:t,backendEvent:n}=this.props,s=RYe(n),r=TYe(n);return ee.pe1(Vp,s,r)?null:Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"changed the end date from"}),Ye.createElement(ZZe,{date:s,highlighted:!0}),Ye.createElement(QZe,{text:"to"}),Ye.createElement(ZZe,{date:r,highlighted:!0}),Ye.createElement(QZe,{text:"on"}),Ye.createElement(ZZe,{date:t}))}}CYe.propTypes={author:GZe.isRequired,backendEvent:SI().shape({}).isRequired,date:SI().string.isRequired};const kYe=CYe;class OYe extends Ye.PureComponent{render(){const{author:e,date:t}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"closed this Release on"}),Ye.createElement(ZZe,{date:t}))}}OYe.propTypes={author:GZe.isRequired,date:SI().string.isRequired};const NYe=OYe;class PYe extends Ye.PureComponent{render(){const{author:e,date:t}=this.props;return Ye.createElement("div",{className:"zhc-release-event"},Ye.createElement(VZe,{author:e}),Ye.createElement(QZe,{text:"reopened this Release on"}),Ye.createElement(ZZe,{date:t}))}}PYe.propTypes={author:GZe.isRequired,date:SI().string.isRequired};const AYe=PYe;class DYe extends Ye.PureComponent{render(){const{eventType:e,...t}=this.props;switch(e){case F$e.ISSUE_ADDED:return Ye.createElement(oYe,t);case F$e.ISSUE_REMOVED:return Ye.createElement(lYe,t);case F$e.ISSUE_COMPLETED:return Ye.createElement(dYe,t);case F$e.ISSUE_REOPENED:return Ye.createElement(pYe,t);case F$e.ESTIMATE_ADDED:return Ye.createElement(gYe,t);case F$e.ESTIMATE_REMOVED:return Ye.createElement(_Ye,t);case F$e.ESTIMATE_CHANGED:return Ye.createElement(IYe,t);case F$e.RELEASE_START_DATE_CHANGED:return Ye.createElement(wYe,t);case F$e.RELEASE_END_DATE_CHANGED:return Ye.createElement(kYe,t);case F$e.RELEASE_REOPENED:return Ye.createElement(AYe,t);case F$e.RELEASE_CLOSED:return Ye.createElement(NYe,t);default:return null}}}DYe.propTypes={eventType:SI().string.isRequired};const LYe=DYe,zYe=ee.qCK(ee.lt(4),ee.kE),MYe=ee.fS0(0),xYe=e=>1===e?"issue":"issues",FYe="TOTAL_SCOPE",UYe="ESTIMATED_SCOPE",BYe="COMPLETED_POINTS",qYe=ee.OH4("type"),HYe=qYe(F$e.ISSUE_ADDED),WYe=qYe(F$e.ISSUE_REMOVED),jYe=qYe(F$e.ESTIMATE_ADDED),GYe=qYe(F$e.ESTIMATE_REMOVED),KYe=qYe(F$e.ESTIMATE_REMOVED),VYe=ee.OH4("current_scope",null),$Ye=ee.OH4("previous_scope",null),ZYe=ee.sv4([VYe,HYe]),YYe=ee.sv4([$Ye,WYe]),JYe=ee.H50([jYe,GYe,KYe]),XYe=ee.qCK(ee.Smz,ee.UID(V$e)),QYe=ee.qCK(ee.Smz,ee.UID($$e)),eJe=ee.qCK(ee.Smz,ee.UID(Z$e));function tJe(e,t){switch(e){case FYe:return function(e){const t=ee.H50([ZYe,YYe,jYe,GYe]),n=ee.hXT(t,e),s=ee.H50([GYe,ZYe]),r=ee.H50([jYe,YYe]),i=ee.qCK(ee.kE,ee.hXT(s))(e),o=ee.qCK(ee.kE,ee.hXT(r))(e),a=MYe(i)?null:`${i} unestimated ${xYe(i)} added`,l=MYe(o)?null:`${o} unestimated ${xYe(o)} removed`,c=a&&l?" and ":null,d=ee.sv4([$Ye,ee.OH4("current_scope",0)]),u=ee.H50([ee.jCC(ee.lt(0),"scopeChange"),d]),p=ee.sv4([ee.OH4("previous_scope",0),VYe]),m=ee.H50([ee.jCC(ee.gt(0),"scopeChange"),p]),h=ee.hXT(u,e),E=h.length>0,g=ee.qCK(_t.rK,eJe)(h),f=ee.hXT(m,e),_=f.length>0,v=ee.qCK(_t.rK,eJe)(f),I=E?`${g} story points added`:null,b=_?`${Math.abs(v)} story points removed from scope`:null,y=I&&b?" and ":null,S=I||b?Ye.createElement("div",null,"Average estimates added to unestimated issues have been updated"):null,w=Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhu-font-bold zhc-chart-tooltip__scope-change--section"},I," ",y," ",b),S);if(zYe(n))return Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change"},Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change--section zhu-font-bold"},a," ",c," ",l),w);const R=ee.hXT(s,e),T=ee.hXT(r,e);function C(e,t){return ee.xbD(t)?null:Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change--section"},Ye.createElement("div",{className:"zhu-font-bold"},e),Ye.createElement("div",{className:"zhc-release--total-scope-tooltip"},t.map((e=>Ye.createElement(nJe,{key:e.issue.issue_number,event:e})))))}const k=C(a,R),O=C(l,T);return Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change"},k,O,w)}(t);case UYe:return function(e){if(zYe(e)){const t=ee.qCK(_t.rK,QYe,ee.hXT(HYe))(e),n=ee.qCK(_t.rK,XYe,ee.hXT(WYe))(e),s=ee.qCK(_t.rK,XYe,ee.hXT(JYe))(e),r=ee.qCK(_t.rK,eJe,ee.hXT(JYe))(e),i=(0,_t.rK)(s+r),o=MYe(t)?null:Ye.createElement("div",null,`Added ${t} story points to the scope`),a=MYe(n)?null:Ye.createElement("div",null,`Removed ${n} story points from the scope`),l=ee.$6P([MYe(s),MYe(i)])?null:Ye.createElement("div",null,`Changed estimates from ${s} to ${i}`);return Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change"},Ye.createElement("div",{className:"zhu-font-bold"},1===e.length?"1 issue change":`${e.length} issue changes`),o,a,l)}function t(e){const t=ee.qCK(_t.rK,$$e)(e),n=ee.qCK(_t.rK,V$e)(e);switch(e.type){case F$e.ISSUE_ADDED:return`Added ${t} story points`;case F$e.ISSUE_REMOVED:return`Removed ${n} story points`;case F$e.ESTIMATE_ADDED:return`Added an estimate of ${t}`;case F$e.ESTIMATE_REMOVED:return`Removed an estimate of ${n}`;case F$e.ESTIMATE_CHANGED:return`Changed an estimate from ${n} to ${t}`;default:return""}}return e.map((e=>Ye.createElement(nJe,{key:e.issue.issue_number,event:e,description:t(e)})))}(t);case BYe:return function(e){if(zYe(e)){const t=ee.qCK(_t.rK,ee.Smz,ee.UID(ee.ETc(["issue","estimate"])))(e);return Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change"},Ye.createElement("div",{className:"zhu-font-bold"},`${e.length} issues completed`),Ye.createElement("div",null,`Completed ${t} story points`))}return e.map((e=>Ye.createElement(nJe,{key:e.issue.issue_number,event:e,description:`Completed ${(0,_t.rK)(e.issue.estimate)} story points`})))}(t);default:return""}}class nJe extends Ye.PureComponent{render(){const{event:e,description:t}=this.props,n=t?Ye.createElement("div",{className:"zhc-chart-tooltip__issue-description"},t):null;return Ye.createElement("div",{className:"zhc-chart-tooltip__scope-change zhc-chart-tooltip__issue-list"},`#${e.issue.issue_number} `,Ye.createElement("span",{className:"zhu-font-bold zhc-chart-tooltip__issue-title"},e.issue.title),n)}}nJe.propTypes={description:SI().string,event:SI().shape({issue:SI().shape({issue_number:SI().number,title:SI().string})})};const sJe=e=>{let{tooltipData:t}=e;const{events:n,chartType:s}=t,r=ee.ETc([0,"date"],n);return Ye.createElement("div",{className:"zhc-chart-tooltip zhc-chart-tooltip--release"},Ye.createElement("div",{className:"zhc-chart-tooltip__section--title"},Vp(r)),Ye.createElement("div",{className:"zhc-chart-tooltip__content"},tJe(s,n)))};sJe.propTypes={tooltipData:SI().shape({chartType:SI().string,events:SI().arrayOf(SI().shape({}))})};const rJe=e=>{let{tooltipData:t}=e;const{date:n,tooltipText:s}=t,r=Vp(n),i=Pp(n);return Ye.createElement("div",{className:"zhc-chart-tooltip zhc-chart-tooltip--release zhc-chart-tooltip--release--dates"},Ye.createElement("div",{className:"zhc-chart-tooltip__section--title"},s),Ye.createElement("div",{className:"zhc-chart-tooltip__content"},`${r}, ${i}`))};function iJe(){return iJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iJe.apply(this,arguments)}rJe.propTypes={tooltipData:SI().shape({date:SI().instanceOf(Date),tooltipText:SI().string})};const oJe=ee.vgT("events"),aJe=ee.g8p(H$e,ee.yGi("date")),lJe=ee.CKt("completed"),cJe=ee.CKt("scopeToDate"),dJe=ee.CKt("totalScopeToDate"),uJe=bqe(sJe),pJe=bqe(rJe),mJe=ee.WAo(((e,t)=>({chartType:e,events:oJe(t)}))),hJe=mJe(BYe),EJe=mJe(UYe),gJe=mJe(FYe);class fJe extends Ye.PureComponent{render(){const{currentDate:e,width:t,height:n,marginTop:s,marginBottom:r,marginLeft:i,marginRight:o,estimatedScope:a,totalScope:l,completedEvents:c,showVelocityLine:d,isPredictedEndDateInPast:u,selectedLabelColor:p,estimatedScopeByLabel:m,totalScopeByLabel:h,completedEventsByLabel:E,predictedEndDateByLabel:g,velocityFunctionByLabel:f,showVelocityLineByLabel:_,isPredictedEndDateInPastByLabel:v,isReleaseCompleted:I,desiredEndDate:b,completionDate:y,predictedEndDate:S,showPredictedEndDate:w,startDate:R,velocityFunction:T}=this.props,C=n-s-r,k=t-i-o,O=!ee.kKJ(p),N=bp(b),P=bp(R),A=O?g:S,D=ee.kKJ(A)?null:bp(A),L=bp(y);let z;z=I?(0,pqe.Z)([N,L]):ee.kKJ(D)||!w?(0,pqe.Z)([N,e]):(0,pqe.Z)([N,D,e]);const M=(0,UGe.Z)().domain([P,z]).rangeRound([0,k]),x=(0,pqe.Z)(l,ee.eiy(dJe)),F=(0,EQ.Z)().domain([0,x]).rangeRound([C,0]),U={xLens:aJe,startDate:P,currentDate:e,endDate:z,desiredEndDate:N,xScale:M,yScale:F,tooltipToAttach:uJe},B=O?Ye.createElement(PZe,iJe({},U,{velocityFunction:f,predictedEndDate:D,showVelocityLine:_,isPredictedEndDateInPast:v,x:H$e})):Ye.createElement(PZe,iJe({},U,{velocityFunction:T,predictedEndDate:D,showVelocityLine:d,isPredictedEndDateInPast:u,x:H$e})),q=!w||(O?v||!g:u||!D),H=I||q?null:B,W=O?null:Ye.createElement(zZe,iJe({},U,{totalScope:l,completedEvents:c,x:H$e})),j=I?Ye.createElement(SHe,{classNames:["zhc-release-report-chart__completion"],date:L,xScale:M,yScale:F,legend:`Completed: ${qp(L)}`,textVerticalOffset:-45}):null,G=I?Ye.createElement(RHe,{date:L,xScale:M,yScale:F,tooltipText:"Completion Date",tooltipToAttach:pJe}):null,K=I||q?null:Ye.createElement(SHe,{date:D,xScale:M,yScale:F,legend:`Predicted end date: ${qp(D)}`,textVerticalOffset:-45,style:{stroke:"var(--zh-theme-color-brand-blue-primary)"}}),V=I||q?null:Ye.createElement(RHe,{date:D,xScale:M,yScale:F,tooltipText:"Predicted end date",tooltipToAttach:pJe}),$=Ye.createElement(kHe,{date:e,xScale:M,yScale:F}),Z=Ye.createElement(SHe,{date:N,xScale:M,yScale:F,legend:`Desired end date: ${qp(N)}`,textVerticalOffset:-30,style:{stroke:"var(--zh-theme-color-yellow-primary)"}}),Y=Ye.createElement(RHe,{date:N,xScale:M,yScale:F,tooltipText:"Desired end date",tooltipToAttach:pJe}),J=Ye.createElement(FZe,iJe({},U,{data:l,yLens:dJe,color:O?"var(--zh-theme-color-release-chart-bg-grey)":null,areaOpacity:.2,tooltipData:gJe})),X=O?Ye.createElement(FZe,iJe({},U,{data:h,yLens:dJe,color:p,areaOpacity:.2,tooltipData:gJe})):null,Q=O?null:Ye.createElement(wZe,iJe({},U,{data:a,yLens:cJe,areaOpacity:.4,tooltipData:EJe})),te=O?Ye.createElement(wZe,iJe({},U,{data:m,color:p,yLens:cJe,tooltipData:EJe})):null,ne=Ye.createElement(TZe,iJe({},U,{data:c,color:O?"var(--zh-theme-color-release-chart-bg-grey)":null,yLens:lJe,areaOpacity:.6,tooltipData:hJe})),se=O?Ye.createElement(TZe,iJe({},U,{data:E,color:p,yLens:lJe,areaOpacity:.8,tooltipData:hJe})):null;return Ye.createElement(hqe,{width:t,height:n},Ye.createElement("defs",null,Ye.createElement("clipPath",{id:"crop-release-chart"},Ye.createElement("rect",{x:-5,y:-5,width:k+10,height:C+10}))),Ye.createElement(gqe,{marginLeft:i,marginTop:s},Ye.createElement(hHe,{xScale:M,marginTop:C}),Ye.createElement(uHe,{yScale:F,showGridLine:!0,width:k}),V,Y,G,Ye.createElement("g",{clipPath:"url(#crop-release-chart)"},J,Q,ne,X,te,se,W,H),$,j,Z,K))}}fJe.defaultProps={width:980,height:400,marginLeft:50,marginRight:30,marginTop:60,marginBottom:50},fJe.propTypes={currentDate:SI().instanceOf(Date).isRequired,startDate:SI().instanceOf(Date).isRequired,completedEvents:SI().arrayOf(SI().shape({})),completedEventsByLabel:SI().arrayOf(SI().shape({})),completionDate:SI().instanceOf(Date),desiredEndDate:SI().instanceOf(Date),estimatedScope:SI().arrayOf(SI().shape({})),estimatedScopeByLabel:SI().arrayOf(SI().shape({})),height:SI().number,isPredictedEndDateInPast:SI().bool,isPredictedEndDateInPastByLabel:SI().bool,isReleaseCompleted:SI().bool,marginBottom:SI().number,marginLeft:SI().number,marginRight:SI().number,marginTop:SI().number,predictedEndDate:SI().instanceOf(Date),predictedEndDateByLabel:SI().instanceOf(Date),selectedLabelColor:SI().string,showPredictedEndDate:SI().bool,showVelocityLine:SI().bool,showVelocityLineByLabel:SI().bool,totalScope:SI().arrayOf(SI().shape({})),totalScopeByLabel:SI().arrayOf(SI().shape({})),velocityFunction:SI().func,velocityFunctionByLabel:SI().func,width:SI().number};const _Je=fJe,vJe={LOADING:"LOADING",EMPTY:"EMPTY",LOADED:"LOADED"},IJe="VjJJzhoVa7zmeVXSVyb0",bJe="e2Shfig3JyQqcRKKRDjq",yJe="hrQW84rQ9taRXEr_bZs0",SJe="ic2i8xxY5mVcELykBboR",wJe="IisaoYpignLt3RPlE0eh",RJe="xJkQreNcL6qhTWNO14l3";const TJe=Ye.createElement("div",{className:"zhc-release-progress--title"},"There is not enough information to calculate a predicted end date"),CJe=Ye.createElement("div",{className:"zhc-release-progress--title"},"This Release has been completed!");const kJe=ee.OH4("state","closed"),OJe=ee.CyQ(kJe),NJe=ee.Uth(0,"estimate"),PJe=ee.UID(NJe);class AJe extends Ye.PureComponent{render(){const{predictedEndDate:e,desiredEndDate:t}=this.props,n=t.diff(e,"days");if(0===n)return Ye.createElement("div",{className:"zhc-release-progress--diff"},`Congrats, you're on track! The predicted end date is the same as your desired end           date of ${Vp(t)}`);const s=Math.abs(n),r=(0,_I.default)({"zhc-release-progress--behind":n<0,"zhc-release-progress--ahead":n>0});return Ye.createElement("div",{className:"zhc-release-progress--diff"},"The predicted end date will be\xa0",Ye.createElement("span",{className:r},s,s>1?" days ":" day ",n<0?"behind":"ahead")," ",n<0?"":" of"," the desired end date of"," ",Vp(t))}}AJe.propTypes={desiredEndDate:SI().oneOfType([SI().shape({}),SI().instanceOf(Date)]),predictedEndDate:SI().oneOfType([SI().shape({}),SI().instanceOf(Date)])};class DJe extends Ye.PureComponent{render(){const{openIssuesByLabel:e,selectedLabelKey:t,isReleaseCompleted:n,completionDate:s,completionDateByLabel:r,predictedEndDateInPast:i,showPredictedEndDate:o,predictedEndDate:a,desiredEndDate:l}=this.props;if(n&&ee.kKJ(t))return Ye.createElement("div",{className:"zhc-release-progress__header"},Ye.createElement("div",{className:"zhc-release-progress--title"},CJe),Ye.createElement("span",null,"This release was completed on",`\xa0${Vp(s)}`));if(t&&ee.xbD(e))return Ye.createElement("div",{className:"zhc-release-progress__header"},Ye.createElement("div",{className:"zhc-release-progress--title"},function(e){return Ye.createElement("div",{className:"zhc-release-progress--title"},"There are no remaining issues with the label",Ye.createElement("span",{className:"zhu-font-bold"},`\xa0${e}`))}(t)),Ye.createElement("span",null,"The last issue with the label",Ye.createElement("span",{className:"zhu-font-bold"},`\xa0${t}\xa0`),"was completed on",`\xa0${Vp(r)}`));if(!o)return null;if(ee.kKJ(a)||i){const e=ee.kKJ(t)?TJe:function(e){return Ye.createElement("div",{className:"zhc-release-progress--title"},"There is not enough information to calculate a predicted end date for",Ye.createElement("span",{className:"zhu-font-bold"},`\xa0${e}`))}(t);return Ye.createElement("div",{className:"zhc-release-progress__header","data-cy":"progress-hearder"},Ye.createElement("div",{className:"zhc-release-progress--title"},e),function(e){return ee.kKJ(e)?Ye.createElement("span",{className:"zhc-release-progress--no-prediction"},"The predicted end date will be shown when there are more data points in the release"):Ye.createElement("span",{className:"zhc-release-progress--no-prediction"},"The predicted end date will be shown when there are more data points with the",Ye.createElement("span",{className:"zhu-font-bold"},`\xa0${e}\xa0`),"label")}(t))}const c=ee.kKJ(l)?null:Sp(l),d=Sp(a),u=ee.kKJ(t)?"":Ye.createElement("span",null,"\xa0for",Ye.createElement("span",{className:"zhu-font-bold"},`\xa0${t}`));return Ye.createElement("div",{className:"zhc-release-progress__header","data-cy":"progress-hearder"},Ye.createElement("div",{className:"zhc-release-progress--title"},"The predicted end date",u,"\xa0is\xa0",Ye.createElement("span",{className:"zhc-release-progress--title__emphasis zhu-font-bold"},Vp(d)),Ye.createElement(ZI,{content:"Predicted end dates are calculated using the the total scope of the release and velocity. As estimated issues are completed, the velocity line gets re-calculated to provide a more accurate end date prediction."},Ye.createElement(T9,{className:bJe}))),Ye.createElement(AJe,{predictedEndDate:d,desiredEndDate:c}))}}DJe.propTypes={completionDate:SI().instanceOf(Date),completionDateByLabel:SI().instanceOf(Date),desiredEndDate:SI().instanceOf(Date),isReleaseCompleted:SI().bool,openIssuesByLabel:SI().arrayOf(SI().shape({})),predictedEndDate:SI().instanceOf(Date),predictedEndDateInPast:SI().bool,selectedLabelKey:SI().string,showPredictedEndDate:SI().bool};class LJe extends Ye.PureComponent{render(){const{completed:e,remaining:t,title:n,type:s,tooltipContent:r,total:i}=this.props,o=Math.trunc(e/i*100),a=ee.kKJ(r)?null:Ye.createElement(ZI,{content:r},Ye.createElement(T9,{className:bJe}));return Ye.createElement("div",{className:"zhc-release-progress__section"},Ye.createElement(mde,{type:s,total:i,completed:e}),Ye.createElement("div",{className:IJe},Ye.createElement("span",{className:"zhu-blankspace-right"},n),a,Ye.createElement("span",{className:yJe},o,"%")),Ye.createElement("div",{className:SJe},Ye.createElement("div",null,Ye.createElement("div",{className:wJe},"Completed"),Ye.createElement("div",{className:RJe},(0,_t.rK)(e))),Ye.createElement("div",null,Ye.createElement("div",{className:wJe},"Remaining"),Ye.createElement("div",{className:RJe},(0,_t.rK)(t))),Ye.createElement("div",null,Ye.createElement("div",{className:wJe},"Total"),Ye.createElement("div",{className:RJe},(0,_t.rK)(i)))))}}LJe.defaultProps={completed:0,remaining:0,tooltipContent:null,total:0},LJe.propTypes={title:SI().string.isRequired,type:SI().instanceOf(pde).isRequired,completed:SI().number,remaining:SI().number,tooltipContent:SI().string,total:SI().number};class zJe extends Ye.PureComponent{render(){const{currentCompletedPoints:e,currentCompletedPointsByLabel:t,currentTotalScope:n,currentTotalScopeByLabel:s,issues:r,issuesByLabel:i,selectedLabelKey:o}=this.props,a=ee.kKJ(o)?r:i,l=a.length,c=ee.hXT(kJe,a),d=ee.kE(c),u=ee.hXT(OJe,a),p=ee.kE(u),m=ee.Smz(PJe(a)),h=ee.Smz(PJe(c)),E=ee.Smz(PJe(u)),g=ee.kKJ(o)?n:s,f=ee.kKJ(o)?e:t,_=g-f;return Ye.createElement("div",{className:"zhc-release-progress__stats","data-cy":"progress__stats"},Ye.createElement(LJe,{completed:d,remaining:p,title:"Total issues and pull requests",type:pde.ISSUES,total:l}),Ye.createElement(LJe,{completed:h,remaining:E,title:"Estimated scope",type:pde.STORY_POINTS,total:m}),Ye.createElement(LJe,{completed:f,remaining:_,title:"Total scope",type:pde.UNESTIMATED,tooltipContent:"Total scope is calculated using the sum of all estimated issues and pull requests and averages applied to not estimated issues and pull requests.",total:g}))}}zJe.defaultProps={currentCompletedPoints:0,currentCompletedPointsByLabel:0,currentTotalScope:0,currentTotalScopeByLabel:0,issues:null,issuesByLabel:null,selectedLabelKey:null},zJe.propTypes={currentCompletedPoints:SI().number,currentCompletedPointsByLabel:SI().number,currentTotalScope:SI().number,currentTotalScopeByLabel:SI().number,issues:SI().arrayOf(SI().shape({})),issuesByLabel:SI().arrayOf(SI().shape({})),selectedLabelKey:SI().string};const MJe=e=>{let{currentCompletedPoints:t,currentCompletedPointsByLabel:n,completionDate:s,completionDateByLabel:r,currentTotalScope:i,currentTotalScopeByLabel:o,isReleaseCompleted:a,issues:l,issuesByLabel:c,openIssuesByLabel:d,selectedLabelKey:u,desiredEndDate:p,predictedEndDate:m,predictedEndDateByLabel:h,isPredictedEndDateInPast:E,isPredictedEndDateInPastByLabel:g,reportState:f,showPredictedEndDate:_}=e;if(function(e){return e===vJe.LOADING}(f))return null;const v=ee.kKJ(u)?m:h,I=ee.kKJ(u)?E:g;return Ye.createElement("div",{className:"zhc-release-progress","data-cy":"release-progress"},Ye.createElement(DJe,{completionDate:s,completionDateByLabel:r,desiredEndDate:p,isReleaseCompleted:a,openIssuesByLabel:d,predictedEndDate:v,predictedEndDateInPast:I,selectedLabelKey:u,showPredictedEndDate:_}),Ye.createElement(zJe,{currentCompletedPoints:t,currentCompletedPointsByLabel:n,currentTotalScope:i,currentTotalScopeByLabel:o,issues:l,issuesByLabel:c,selectedLabelKey:u}))};MJe.defaultProps={completionDate:null,completionDateByLabel:null,currentCompletedPoints:0,currentCompletedPointsByLabel:0,currentTotalScope:0,currentTotalScopeByLabel:0,desiredEndDate:null,isPredictedEndDateInPast:!1,isPredictedEndDateInPastByLabel:!1,isReleaseCompleted:!1,issues:null,issuesByLabel:null,openIssuesByLabel:null,predictedEndDate:null,predictedEndDateByLabel:null,reportState:null,selectedLabelKey:null,showPredictedEndDate:!1},MJe.propTypes={completionDate:SI().instanceOf(Date),completionDateByLabel:SI().instanceOf(Date),currentCompletedPoints:SI().number,currentCompletedPointsByLabel:SI().number,currentTotalScope:SI().number,currentTotalScopeByLabel:SI().number,desiredEndDate:SI().instanceOf(Date),isPredictedEndDateInPast:SI().bool,isPredictedEndDateInPastByLabel:SI().bool,isReleaseCompleted:SI().bool,issues:SI().arrayOf(SI().shape({})),issuesByLabel:SI().arrayOf(SI().shape({})),openIssuesByLabel:SI().arrayOf(SI().shape({})),predictedEndDate:SI().instanceOf(Date),predictedEndDateByLabel:SI().instanceOf(Date),reportState:SI().string,selectedLabelKey:SI().string,showPredictedEndDate:SI().bool};const xJe=MJe;function FJe(){return FJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FJe.apply(this,arguments)}const UJe=[{color:"var(--zh-theme-color-brand-blue-primary)",opacity:.8,isDefault:!0,infoIcon:!1,label:"Completed points"},{color:"var(--zh-theme-color-brand-blue-primary)",opacity:.4,isDefault:!0,infoIcon:!1,label:"Estimated scope"},{color:"var(--zh-theme-color-brand-blue-primary)",opacity:.2,isDefault:!0,infoIcon:!1,label:"Total scope"},{color:"var(--zh-theme-color-brand-blue-primary)",isDefault:!0,infoIcon:!1,label:"Actual velocity",type:"dashed"},{color:"var(--zh-theme-color-yellow-primary)",isDefault:!0,infoIcon:!1,label:"Desired velocity",type:"dashed"}],BJe=ee.OH4("label","Actual velocity");function qJe(e,t,n){return!ee.YjB(ee.kKJ,[e,t,n])&&new Date(e)<new Date(t)}class HJe extends Ye.Component{constructor(e){super(e),this.state={isInfoOpen:e.isInfoOpen},this.onClickClose=this.onClickClose.bind(this),this.onClickToggle=this.onClickToggle.bind(this)}componentDidMount(){window.addEventListener("resize",this.resizeChart)}componentWillUnmount(){window.removeEventListener("resize",this.resizeChart)}onClickClose(){this.setState({isInfoOpen:!1})}onClickToggle(){this.setState((e=>({isInfoOpen:!e.isInfoOpen})))}render(){const{csvIssuesData:e,clientWidth:t,startDate:n,title:s,predictedEndDate:r,releaseId:i,velocityFunction:o,selectedLabelKey:a,selectedLabelColor:l,predictedEndDateByLabel:c,velocityFunctionByLabel:d,showPredictedEndDate:u,workspace:p,issues:m,boardPath:h,repoName:E,organization:g,completionDate:f,completionDateByLabel:_,currentCompletedPoints:v,currentCompletedPointsByLabel:I,currentTotalScope:b,currentTotalScopeByLabel:y,desiredEndDate:S,isReleaseCompleted:w,issuesByLabel:R,openIssuesByLabel:T,onExportReport:C}=this.props,{isInfoOpen:k}=this.state,O=qJe(n,r,o),N=qJe(n,c,d),P=_p(),A=e=>!(ee.kKJ(e)||ee.egL(e,P)),D=A(r),L=A(c);if(ee.YPD(tZe,m))return Ye.createElement(pZe,{boardPath:h,issues:m,repoName:E,organization:g});const z=ee.kKJ(a)?"Release report":`Release report by ${a}`,M=O&&u?UJe:ee.d1t(BJe,UJe),x=ee.kKJ(a)?M:((e,t)=>{const n=oue(`#${t}`),{r:s,g:r,b:i}=n,o=e=>`rgba(${s}, ${r}, ${i}, ${e})`;return[{color:`${o(.8)}`,isDefault:!0,infoIcon:!1,label:"Completed points"},{color:`${o(.4)}`,isDefault:!0,infoIcon:!1,label:"Estimated scope"},{color:`${o(.2)}`,isDefault:!0,infoIcon:!1,label:"Label scope"},{color:"var(--zh-theme-color-release-chart-bg-grey)",opacity:.2,isDefault:!0,infoIcon:!1,label:"Release scope"},{color:"var(--zh-theme-color-release-chart-bg-grey)",opacity:.6,isDefault:!0,infoIcon:!1,label:"Release completed"}]})(0,l);return Ye.createElement("div",{className:"zhc-release-chart"},Ye.createElement(CWe,null,Ye.createElement(kWe,{className:"zhc-release-chart__header"},Ye.createElement("h2",{className:"zhc-chart-container__header-title"},z),Ye.createElement(dNe,{copyLinkText:"Copy link to report",copyLinkToPage:iNe.RELEASE_REPORT,entityId:i},Ye.createElement(LWe,{csvData:e,fileName:`${s}-${p.displayName}-${Wp()}.csv`,onClick:C})),Ye.createElement("span",{className:"zhc-chart-container__info-toggle zhu-cursor-pointer",onClick:this.onClickToggle},Ye.createElement(T9,null))),Ye.createElement(TWe,{buttonText:"Learn more",buttonUrl:"https://help.zenhub.com/support/solutions/articles/43000010359",content:"Release reports allow teams to plan across any repository in the organization for upcoming deadlines. Add issues to your release to get visibility into whether your team is on track to hit important deadlines.",isOpen:k,title:"How to read a release report",onClickClose:this.onClickClose}),Ye.createElement(zqe,{items:x,onClick:ee.Bxt(),onClearAll:ee.Bxt()}),t<=0?null:Ye.createElement(_Je,FJe({},this.props,{currentDate:bp(P),width:t,showVelocityLine:O,showVelocityLineByLabel:N,isPredictedEndDateInPast:D,isPredictedEndDateInPastByLabel:L,showPredictedEndDate:u})),Ye.createElement(xJe,{completionDate:f,completionDateByLabel:_,currentCompletedPoints:v,currentCompletedPointsByLabel:I,currentTotalScope:b,currentTotalScopeByLabel:y,desiredEndDate:S,isReleaseCompleted:w,issues:m,issuesByLabel:R,openIssuesByLabel:T,predictedEndDate:r,predictedEndDateByLabel:c,selectedLabelKey:a,isPredictedEndDateInPast:D,isPredictedEndDateInPastByLabel:L,showPredictedEndDate:u})))}}HJe.propTypes={boardPath:SI().string.isRequired,csvIssuesData:SI().arrayOf(SI().shape({})).isRequired,title:SI().string.isRequired,workspace:SI().shape({displayName:SI().string}).isRequired,clientWidth:SI().number,completionDate:SI().instanceOf(Date),completionDateByLabel:SI().instanceOf(Date),currentCompletedPoints:SI().number,currentCompletedPointsByLabel:SI().number,currentTotalScope:SI().number,currentTotalScopeByLabel:SI().number,desiredEndDate:SI().instanceOf(Date),isInfoOpen:SI().bool,isReleaseCompleted:SI().bool,issues:SI().arrayOf(SI().shape({})),issuesByLabel:SI().arrayOf(SI().shape({})),openIssuesByLabel:SI().arrayOf(SI().shape({})),organization:SI().string,predictedEndDate:SI().instanceOf(Date),predictedEndDateByLabel:SI().instanceOf(Date),releaseId:SI().string,repoName:SI().string,selectedLabelColor:SI().string,selectedLabelKey:SI().string,showPredictedEndDate:SI().bool,startDate:SI().instanceOf(Date),velocityFunction:SI().func,velocityFunctionByLabel:SI().func,onExportReport:SI().func},HJe.defaultProps={clientWidth:0,completionDate:null,completionDateByLabel:null,currentCompletedPoints:0,currentCompletedPointsByLabel:0,currentTotalScope:0,currentTotalScopeByLabel:0,desiredEndDate:null,isReleaseCompleted:!1,issues:null,issuesByLabel:null,openIssuesByLabel:null};const WJe=Rje(HJe),jJe=UJe;class GJe extends Ye.PureComponent{render(){return Ye.createElement(CWe,null,Ye.createElement(kWe,{className:"zhc-release-chart__header"},Ye.createElement("h2",{className:"zhc-chart-container__header-title"},"Release report"),Ye.createElement(dNe,{isDisabled:!0}),Ye.createElement("span",{className:"zhc-chart-container__info-toggle"},Ye.createElement(T9,null))),Ye.createElement(zqe,{items:jJe}),Ye.createElement("div",{className:"zhc-report-loading__img"},Ye.createElement(mZe,{className:"zhc-report-loading__svg-image"}),Ye.createElement(AUe,null)),Ye.createElement(xJe,{reportState:vJe.LOADING}))}}const KJe=GJe,VJe=ee.eiS(["issue_number","repo_id"]),$Je=ee.Uth(!0,"inScope"),ZJe="epics, issues and pull requests",YJe=ZJe.charAt(0).toUpperCase()+ZJe.substr(1);class JJe extends Ye.PureComponent{constructor(){super(...arguments),this.renderInfoAlert=()=>{const{dismissInfoAlert:e,filteredNotInWorkspaceIssues:t,isInfoAlertDismissed:n}=this.props,s=n||(0,_t.KN)(t);return Ye.createElement("div",{className:"zhc-release-issues__info-alert"},Ye.createElement(FSe,{isDismissed:s,linkText:"Learn more",linkHref:"https://help.zenhub.com/support/solutions/articles/43000010359",onClose:e},Ye.createElement("span",{className:"zhu-text-important zhu-blankspace-right"},"Releases can contain work from other workspaces."),Ye.createElement("span",{className:"zhu-blankspace-right"},"You may see"),Ye.createElement("span",{className:"zhu-text-important zhu-blankspace-right"},"\u201cIssues not in this workspace\u201d"),Ye.createElement("span",{className:"zhu-blankspace-right"},"when the release contains work from a repo that is not part of this workspace.")))}}render(){const{hasReleasePermissions:e,releaseId:t,removeIssueFromRelease:n,addIssueToRelease:s,filteredOpenIssues:r,filteredCompletedIssues:i,filteredNotInWorkspaceIssues:o,filteredRemovedIssues:a}=this.props,l=e=>{const r=$Je(e),i=r?"Remove from scope":"Add back to release",o=r?n:s;return Ye.createElement(Kpe,{text:i,handler:()=>{o({release_id:t,issues:[VJe(e)]})}})};return Ye.createElement("div",{className:"zhc-release-issues"},Ye.createElement(DKe,{hasPermissions:e,title:`Remaining ${ZJe}`,getActionLink:l,issues:r}),Ye.createElement(DKe,{hasPermissions:e,title:"Issues not in this workspace",getActionLink:l,issues:o}),this.renderInfoAlert(),Ye.createElement(DKe,{getActionLink:l,hasPermissions:e,issues:i,title:`Completed ${ZJe}`}),Ye.createElement(DKe,{hasPermissions:e,title:`${YJe} removed from scope`,getActionLink:l,issues:a,modifiers:["removed-issues"]}))}}JJe.propTypes={addIssueToRelease:SI().func.isRequired,dismissInfoAlert:SI().func.isRequired,filteredCompletedIssues:SI().arrayOf(vKe).isRequired,filteredNotInWorkspaceIssues:SI().arrayOf(vKe).isRequired,filteredOpenIssues:SI().arrayOf(vKe).isRequired,filteredRemovedIssues:SI().arrayOf(vKe).isRequired,hasReleasePermissions:SI().bool.isRequired,isInfoAlertDismissed:SI().bool.isRequired,releaseId:SI().string.isRequired,removeIssueFromRelease:SI().func.isRequired};class XJe extends Ye.PureComponent{render(){const{events:e}=this.props,t=j$e(e),n=(0,_t.rS)(((e,t)=>Ye.createElement(LYe,{key:t,issue:e.issue,author:e.author,date:e.date,currentScope:e.current_scope,previousScope:e.previous_scope,eventType:e.type,backendEvent:e.backendEvent})),t);return Ye.createElement("div",{className:"zhc-release-report-activity"},n)}}XJe.propTypes={events:SI().arrayOf(SI().shape({}))};const QJe=XJe;function eXe(e){const{children:t,...n}=e;return Ye.Children.map(t,((e,t)=>{if(ee.kKJ(e))return null;let s={};return e.type.shouldReceiveIndex&&(s=ee.yGi("index",t,n)),Ye.cloneElement(e,s)}))}class tXe extends Ye.PureComponent{render(){const{children:e,index:t,selectedIndex:n,onClickNavItem:s}=this.props,r=(0,_I.default)("zhc-report-tabs__nav__item zhu-cursor-pointer",{"zhc-report-tabs__nav__item--active":n===t});return Ye.createElement("li",{className:r,onClick:()=>{s(t)}},e)}}tXe.shouldReceiveIndex=!0,tXe.propTypes={children:SI().node.isRequired,index:SI().number,selectedIndex:SI().number,onClickNavItem:SI().func},tXe.defaultProps={index:null,selectedIndex:null,onClickNavItem:ee.Bxt(null)};class nXe extends Ye.PureComponent{render(){return Ye.createElement("nav",{className:"zhc-report-tabs__nav","data-cy":"report-tabs-nav"},Ye.createElement("ul",null,eXe(this.props)))}}nXe.shouldReceiveIndex=!0;class sXe extends Ye.PureComponent{render(){const{className:e,children:t,selectedIndex:n}=this.props;return Ye.createElement("div",{className:e},Ye.Children.toArray(t)[n])}}sXe.shouldReceiveIndex=!0,sXe.propTypes={children:SI().node.isRequired,className:SI().string,selectedIndex:SI().number},sXe.defaultProps={className:"zhc-report-tabs__panels",selectedIndex:0};class rXe extends Ye.PureComponent{render(){const{children:e,className:t}=this.props;return Ye.createElement("div",{className:t},e)}}rXe.propTypes={children:SI().node.isRequired,className:SI().string},rXe.defaultProps={className:"zhc-report-tabs__panels"};class iXe extends Ye.PureComponent{render(){return Ye.createElement("div",{className:"zhc-report-tabs","data-cy":"report-tabs"},eXe(this.props))}}const oXe=e=>{let{organization:t,title:n,repo_name:s,canNegate:r,negated:i,modifier:o}=e;const a=s?Ye.createElement("span",{"data-cy":"repo-info",className:`zhc-epic-item__repo-info ${o}`},`${t}/${s}`):null;return r?Ye.createElement("div",{className:"zhc-selection-list-item zhc-epic-item"},Ye.createElement("div",{className:"zhc-epic-item__title-wrapper"},i&&Ye.createElement("div",{className:"zhc-epic-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{"data-cy":"epic-title",className:"zhc-epic-item__title"},n)),a):Ye.createElement("div",{className:"zhc-selection-list-item zhc-epic-item"},Ye.createElement("strong",null,n),(0,_t.KN)(o)?null:a)};oXe.propTypes={title:SI().string.isRequired,canNegate:SI().bool,modifier:SI().string,negated:SI().bool,organization:SI().string,repo_name:SI().string},oXe.defaultProps={canNegate:!0,negated:!1,modifier:""};const aXe=yEe(oXe);function lXe(){return lXe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lXe.apply(this,arguments)}class cXe extends Ye.PureComponent{componentDidMount(){const{onShortcutsUsed:e,shortcuts:t}=this.props;ee.kKJ(t)||m8(t,e,null,!0)}componentWillUnmount(){const{shortcuts:e}=this.props;ee.kKJ(e)||h8(e)}render(){const{epics:e}=this.props,t=Lfe(e,"title","Epics");return Ye.createElement(kme,lXe({},this.props,t,{buttonIconComponent:Ye.createElement(ere,null),buttonName:"Epics",emptyStateText:"No epics found",filterableChildProp:"title",filterDefaultText:"Filter epics"}),(n=this.props).epics.map((e=>Ye.createElement(aXe,lXe({key:e.filterKey,filterKey:e.filterKey,select:n.selectItem,deselect:n.deselectItem},e)))));var n}}const dXe=SI().shape({negated:SI().bool,organization:SI().string,repo_name:SI().string,selected:SI().bool,title:SI().string});cXe.defaultProps={shortcuts:null,onShortcutsUsed:_t.ZT,listTitle:"Filter issues by epic"},cXe.propTypes={activeFilter:SI().bool.isRequired,clearFilter:SI().func.isRequired,deselectItem:SI().func.isRequired,epics:SI().arrayOf(dXe).isRequired,isActive:SI().bool.isRequired,selectItem:SI().func.isRequired,toggleOpen:SI().func.isRequired,listTitle:SI().string,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),onShortcutsUsed:SI().func};const uXe=cXe;class pXe extends Ye.PureComponent{render(){const{showEpicsDropdown:e,openEpicsDropdown:t,closeEpicsDropdown:n,epicsForDropdown:s,selectedEpicKeys:r,addEpicsFilter:i,removeEpicsFilter:o,clearEpicsFilter:a}=this.props;if(ee.xbD(s))return null;const l=ee.zGw(ee.hXT(ee.vgT("selected")),ee.UID((e=>{let{filterKey:t,title:n}=e;return{filterKey:t,text:n,type:s_e,onClick:o}})))(s);return Ye.createElement("div",{className:"zhc-report-tabs__filters"},Ye.createElement(uXe,{listTitle:"Filter release report by epic",allowNegatedSearch:!1,isActive:e,toggleOpen:e?n:t,activeFilter:!ee.xbD(r),epics:s,selectItem:i,deselectItem:o,clearFilter:a,scrollListIntoView:!1}),Ye.createElement(yGe,{tags:l,hideStats:!ee.xbD(r),clearAll:a}))}}pXe.propTypes={addEpicsFilter:SI().func.isRequired,clearEpicsFilter:SI().func.isRequired,closeEpicsDropdown:SI().func.isRequired,openEpicsDropdown:SI().func.isRequired,removeEpicsFilter:SI().func.isRequired,selectedEpicKeys:SI().arrayOf(SI().string).isRequired,showEpicsDropdown:SI().bool.isRequired,epicsForDropdown:uXe.propTypes.epics},pXe.defaultProps={epicsForDropdown:[]};class mXe extends Ye.PureComponent{render(){const{events:e,switchReleaseTabs:t,selectedReleaseTab:n}=this.props;return Ye.createElement(iXe,{onClickNavItem:t,selectedIndex:n},Ye.createElement(nXe,null,Ye.createElement(tXe,null,"Epics and issues in this release"),Ye.createElement(tXe,null,"Release activity")),Ye.createElement(sXe,{className:null},Ye.createElement(rXe,{className:null},Ye.createElement(pXe,this.props))),Ye.createElement(sXe,{className:null},Ye.createElement(rXe,null,Ye.createElement(JJe,this.props)),Ye.createElement(rXe,null,Ye.createElement(QJe,{events:e}))))}}mXe.propTypes={csvIssuesData:LWe.propTypes.csvData.isRequired,events:SI().arrayOf(SI().object).isRequired,selectedReleaseTab:SI().number.isRequired,switchReleaseTabs:SI().func.isRequired,title:SI().string.isRequired,workspace:SI().shape({displayName:SI().string.isRequired}).isRequired};const hXe=mXe;class EXe extends Ye.PureComponent{render(){const{issues:e,removedIssues:t,completedIssues:n,openIssues:s}=this.props;if(null==e)return Ye.createElement(KJe,null);const r=e?.length?Ye.createElement(WJe,this.props):Ye.createElement(pZe,this.props),i=s?.length||n?.length||t?.length?Ye.createElement(hXe,this.props):null;return Ye.createElement("div",{className:"zhc-release-report__body"},Ye.createElement("div",{className:"zhc-release-report__section"},r),Ye.createElement("div",{className:"zhc-release-report__section"},i))}}EXe.propTypes={completedIssues:SI().arrayOf(SI().shape),issues:SI().arrayOf(SI().shape),openIssues:SI().arrayOf(SI().shape),removedIssues:SI().arrayOf(SI().shape)};const gXe=EXe;class fXe extends Ye.PureComponent{render(){return Ye.createElement("div",{className:"zhc-release-report"},Ye.createElement(dZe,this.props),Ye.createElement(gXe,this.props))}}const _Xe=fXe,vXe=Ye.createElement(GWe,{title:"Processing release data\u2026",message:"Creating predictions\u2026"},Ye.createElement(mZe,{className:"zhc-report-loading__svg-image"}));class IXe extends Ye.PureComponent{componentDidMount(){const{repoId:e,onInitialLoad:t}=this.props;t({repo_id:e})}render(){const{reportState:e,...t}=this.props;switch(e){case vJe.EMPTY:return Ye.createElement(v$e,t);case vJe.LOADED:return Ye.createElement(_Xe,t);default:return vXe}}}IXe.propTypes={repoId:SI().number,reportState:SI().string,onInitialLoad:SI().func},IXe.defaultProps={onInitialLoad:_t.ZT};const bXe=IXe;function yXe(){return yXe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yXe.apply(this,arguments)}const{onboarding:SXe,release:wXe,releaseBuilder:RXe,shortcuts:TXe}=LG,{isNilOrEmpty:CXe,isNotNil:kXe}=Vt.Z,OXe=TXe.trackShortcutsUsed.bind(null,E8.REPORTS_FILTER_LABELS.name),NXe=(0,pa.P1)(Na,(e=>ma.getBoardPath({workspace:e})));let PXe=!0;class AXe extends Ye.PureComponent{constructor(e){super(e),this.openCreateReleaseForm=()=>{const{openCreateReleaseForm:e,workspace:t}=this.props;e(t)},this.performanceEndMarked=!1}componentDidMount(){m6(v6.RELEASE_REPORT_OPENED),r6("Release Report",{Action:"Release Report Viewed",Module:"Engaged"}),Q3({"Release Report Views":1})}componentDidUpdate(){const{reportState:e,issues:t}=this.props;e===vJe.LOADED&&kXe(t)&&!this.performanceEndMarked&&(m6(v6.RELEASE_REPORT_RENDERED),E6([I6.RELEASE_REPORT_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!PXe}])),this.performanceEndMarked=!0)}componentWillUnmount(){PXe=!1}render(){const{props:e}=this,{dispatch:t,releaseId:n,title:s,showLabelsDropdown:r,openLabelsDropdown:i,closeLabelsDropdown:o,trackShortcutUsed:a,workspace:l}=e,c=CXe(s)?"":`${s} - `;return Ye.createElement("div",null,Ye.createElement(yBe,{pageName:`${c}Release Report`}),Ye.createElement(gEe,{onCreateReleaseSuccess:e=>{t(wXe.clearReleaseEvents()),t(wXe.clearReleaseIssues()),t(wXe.loadReleasePermissions(e)),t(wXe.selectReleaseId(e)),t(wXe.loadReleaseReports({...e,workspaceId:l._id})),t(wXe.createRelease())},onCreateReleaseFailure:()=>{window.alert("Something went wrong. Please check your permissions")},onEditReleaseSuccess:e=>{t(wXe.updateRelease(e)),t(wXe.loadReleaseEvents({release_id:n}))},renderedFrom:"ReleaseReport"}),Ye.createElement(bXe,yXe({},e,{onInitialLoad:e=>{const s=ee.TSy({releaseId:n,workspaceId:l._id},e);t(wXe.loadReleaseReports(s))},openCreateReleaseForm:this.openCreateReleaseForm,openEditReleaseForm:()=>{const n=function(e){return{description:e.description,desiredEndDate:e.desiredEndDate,organization:e.organization,release_id:e.releaseId,repo_id:e.repoId,startDate:e.startDate,title:e.title}}(e);t(RXe.openEditReleaseForm(n))},onShortcutsUsed:()=>{(r?o:i)(),a()},onExportReport:()=>oje("Release")})))}}AXe.propTypes={openCreateReleaseForm:SI().func.isRequired,reportState:SI().oneOf(Object.values(vJe)).isRequired,workspace:SI().shape({_id:SI().string}).isRequired,closeLabelsDropdown:SI().func,dispatch:SI().func,issues:SI().arrayOf(SI().shape({})),openLabelsDropdown:SI().func,releaseId:SI().string,showLabelsDropdown:SI().bool,title:SI().string,trackShortcutUsed:SI().func};const DXe=(0,l3.$j)((function(e){return{boardPath:NXe(e),completedEvents:Dg(e),completedEventsByLabel:Cf(e),completedIssues:Bg(e),completedIssuesByLabel:Hg(e),completionDate:Kg(e),completionDateByLabel:Vg(e),csvIssuesData:Df(e),description:hf(e),desiredEndDate:uf(e),estimatedScope:sf(e),estimatedScopeByLabel:Sf(e),events:Zg(e),hasReleasePermissions:Ng(e),isInfoAlertDismissed:dw(e),issues:Ag(e),issuesByLabel:Tf(e),isPredictedEndDateAvailable:Pf(e),isReadOnly:Ua(e),isReleaseCompleted:jg(e),labelFilterShortcuts:E8.REPORTS_FILTER_LABELS.shortcuts,labels:Fg(e),openIssues:qg(e),openIssuesByLabel:Wg(e),organization:Qa(e),predictedEndDate:rf(e),predictedEndDateByLabel:Nf(e),releaseId:Ef(e),releases:Lf(e),repoId:Ba(e),repoName:Ja(e),reportState:lf(e),removedIssues:Yg(e),removedIssuesByLabel:Jg(e),releaseState:mf(e),startDate:df(e),selectedReleaseTab:If(e),selectedLabelColor:Ug(e),selectedLabelKey:xg(e),showLabelsDropdown:ff(e),showPredictedEndDate:Og(e),showReleasesDropdown:_f(e),title:pf(e),totalScope:tf(e),totalScopeByLabel:wf(e),velocityFunction:of(e),velocityFunctionByLabel:Af(e),workspace:Na(e),showEpicsDropdown:vf(e),epicsForDropdown:Mf(e),selectedEpicKeys:zf(e),filteredRemovedIssues:Bf(e),filteredOpenIssues:qf(e),filteredCompletedIssues:Uf(e),filteredNotInWorkspaceIssues:Hf(e),currentTotalScope:nf(e),currentCompletedPoints:Lg(e),currentTotalScopeByLabel:Rf(e),currentCompletedPointsByLabel:kf(e)}}),(function(e){const t=(0,mr.DE)({closeRelease:wXe.closeRelease,reopenRelease:wXe.reopenRelease,toggleShowPredictedEndDate:wXe.toggleShowPredictedEndDate,openReleasesDropdown:wXe.openReleasesDropdown,closeReleasesDropdown:wXe.closeReleasesDropdown,openEpicsDropdown:wXe.openEpicsDropdown,closeEpicsDropdown:wXe.closeEpicsDropdown,switchReleaseTabs:wXe.switchActiveReleaseTab,openLabelsDropdown:wXe.openLabelsDropdown,closeLabelsDropdown:wXe.closeLabelsDropdown,addIssueToRelease:wXe.addIssuesToReleaseReport,removeIssueFromRelease:wXe.removeIssuesFromReleaseReport,openCreateReleaseForm:RXe.openCreateReleaseForm,trackShortcutUsed:OXe,addEpicsFilter:wXe.addEpicsFilter,removeEpicsFilter:wXe.removeEpicsFilter,clearEpicsFilter:wXe.clearEpicsFilter},e);return ee.TSy(t,{selectRelease:t=>{e(wXe.selectReleaseId(t)),e(wXe.clearReleaseEvents()),e(wXe.clearReleaseIssues()),e(wXe.clearLabelFilter(t)),e(wXe.loadReleasePermissions(t)),e(wXe.loadReleaseIssues(t)),e(wXe.loadReleaseEvents(t))},setSelectedLabel:t=>{e(wXe.setLabelFilter(t)),e(wXe.closeLabelsDropdown())},clearSelectedLabel:t=>{e(wXe.clearLabelFilter(t)),e(wXe.closeLabelsDropdown())},dismissInfoAlert:()=>{const t={key:"workspaces_release_report_alert_dismissed",value:!0};e(SXe.setOnboardingValue(t))},dispatch:e})}))(AXe),LXe=ee.zGw(yje,bBe("RELEASE_REPORT"))(DXe),zXe=e=>{let{title:t,imageSrc:n}=e;return Ye.createElement("div",{className:"zhc-report-card zhc-report-card--short","data-cy":"report-card"},Ye.createElement("div",{className:"zhc-report-card__section"},Ye.createElement("h2",{className:"zhc-report-card__title"},t)),Ye.createElement("div",{className:"zhc-report-card__section zhc-report-card__section--image"},Ye.createElement(t7,{src:n})))},MXe=e=>{let{title:t,description:n,buttonText:s,learnMoreURL:r,imageSrc:i="",onClickCTA:o}=e;return Ye.createElement("div",{className:"zhc-report-card","data-cy":"report-card"},Ye.createElement("div",{className:"zhc-report-card__section"},Ye.createElement("h2",{className:"zhc-report-card__title"},t),Ye.createElement("p",null,n),Ye.createElement("div",{className:"zhc-report-card__controls"},Ye.createElement("div",{className:"zhc-report-card__controls__item"},Ye.createElement(H5,{color:L5.ACTION,"data-cy":"goto-report",onClick:o},s)),Ye.createElement("div",{className:"zhc-report-card__controls__item"},Ye.createElement("a",{href:r,rel:"noopener noreferrer",target:"_blank","data-cy":"learn-more",className:"zhc-report-card__secondary-cta"},"Learn more")))),Ye.createElement("div",{className:"zhc-report-card__section zhc-report-card__section--image"},Ye.createElement(t7,{src:i})))},xXe={BURNDOWN:{title:"Burndown report",description:"Using sprints/milestones and estimated issues, use burndown reports to plan and track short-term goals.",buttonText:"Build a burndown",learnMoreURL:"https://help.zenhub.com/support/solutions/articles/43000010356",imageSrc:n.p+"../../img/built/reports-home-burndown.svg"},VELOCITY:{title:"Velocity tracking",description:"Calculate the average speed of work across previously completed sprints to make accurate commitments in the future.",buttonText:"Track velocity",learnMoreURL:"https://help.zenhub.com/support/solutions/articles/43000010358",imageSrc:n.p+"../../img/built/reports-home-velocity.svg"},RELEASE:{title:"Release report",description:"Teams can use release reports to forecast delivery dates, manage scope changes, and catch bottlenecks in projects early.",buttonText:"Create a release",learnMoreURL:"https://help.zenhub.com/support/solutions/articles/43000010359",imageSrc:n.p+"../../img/built/reports-home-release.svg"},CUMULATIVE:{title:"Cumulative flow",description:"Get insight into how work flows across your board to understand workload, throughput, and issue progress.",buttonText:"View report",learnMoreURL:"https://help.zenhub.com/support/solutions/articles/43000038850",imageSrc:n.p+"../../img/built/reports-home-cumulative.svg"},CONTROL_CHART:{title:"Control chart",description:"Track the cycle time and lead time across your workspace. Predict average completion time and see your process in detail.",buttonText:"Track issues",learnMoreURL:"https://help.zenhub.com/support/solutions/articles/43000300345",imageSrc:n.p+"../../img/built/reports-home-control-chart.svg"}};function FXe(){return FXe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},FXe.apply(this,arguments)}const UXe=()=>Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhc-report-card zhc-report-card--short","data-cy":"report-card"},Ye.createElement("div",{className:"zhc-report-card__section"},Ye.createElement(wLe,{pageType:"reports_overview",title:"Real-time project reporting",message:"See your project's progress in real-time. GitHub data ensures that you have an accurate overview of your project's development"}))),Ye.createElement(zXe,{title:xXe.CUMULATIVE.title,imageSrc:xXe.CUMULATIVE.imageSrc}),Ye.createElement(zXe,{title:xXe.CONTROL_CHART.title,imageSrc:xXe.CONTROL_CHART.imageSrc}),Ye.createElement(zXe,{title:xXe.BURNDOWN.title,imageSrc:xXe.BURNDOWN.imageSrc}),Ye.createElement(zXe,{title:xXe.VELOCITY.title,imageSrc:xXe.VELOCITY.imageSrc}),Ye.createElement(zXe,{title:xXe.RELEASE.title,imageSrc:xXe.RELEASE.imageSrc})),BXe=e=>{let{initReportsHome:t=(()=>{}),onClickCumulative:n,onClickBurndown:s,onClickVelocity:r,onClickRelease:i,onClickControlChart:o}=e;const a=(0,l3.v9)(Are),l=0===(0,l3.v9)(Da).length;(0,Ye.useEffect)((()=>{t()}),[]);const c=a?xXe.BURNDOWN:{...xXe.BURNDOWN,description:"Using Sprints and estimated Issues, use Burndown reports to plan and track short-term goals."};return Ye.createElement("div",{className:"zhc-reports-home"},Ye.createElement("h1",{className:"zhc-reports-home__title"},"ZenHub Agile Reports"),Ye.createElement("div",{className:"zhc-reports-home__cards"},l?Ye.createElement(UXe,null):Ye.createElement(Ye.Fragment,null,Ye.createElement(MXe,FXe({onClickCTA:n},xXe.CUMULATIVE)),Ye.createElement(MXe,FXe({onClickCTA:o},xXe.CONTROL_CHART)),Ye.createElement(MXe,FXe({onClickCTA:s},c)),Ye.createElement(MXe,FXe({onClickCTA:r},xXe.VELOCITY)),Ye.createElement(MXe,FXe({onClickCTA:i},xXe.RELEASE)))))},qXe=BXe;function HXe(){return HXe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HXe.apply(this,arguments)}const{onboarding:WXe,router:jXe}=LG,GXe=ee.b5p(ee.yRu,((e,t)=>Object.keys(t).reduce(((n,s)=>({...n,[s]:ee.r$$(t[s],[e])})),{})));class KXe extends Ye.PureComponent{render(){const{clickEvents:e,workspace:t,...n}=this.props,s=GXe(t,e);return Ye.createElement("div",null,Ye.createElement(yBe,{pageName:"Reports Overview"}),Ye.createElement(qXe,HXe({},n,s)))}}KXe.propTypes={clickEvents:SI().objectOf(SI().func).isRequired,workspace:SI().shape({}).isRequired};const VXe=(0,l3.$j)((e=>({workspace:Na(e)})),(function(e){return{initReportsHome(){e(WXe.trackOnboardingPageView("REPORTS_HOME"))},clickEvents:{onClickCumulative(t){e(jXe.openLocation(ma.getReportsPath({workspace:t,type:yh.CUMULATIVE_CHART}))),e(WXe.trackOnboardingAction({action:"Onboarding Reports CTA Clicked",properties:{Report:"Cumulative"}}))},onClickBurndown(t){e(jXe.openLocation(ma.getReportsPath({workspace:t,type:yh.BURNDOWN_CHART}))),e(WXe.trackOnboardingAction({action:"Onboarding Reports CTA Clicked",properties:{Report:"Burndown"}}))},onClickVelocity(t){e(jXe.openLocation(ma.getReportsPath({workspace:t,type:yh.VELOCITY_CHART}))),e(WXe.trackOnboardingAction({action:"Onboarding Reports CTA Clicked",properties:{Report:"Velocity"}}))},onClickRelease(t){e(jXe.openLocation(ma.getReportsPath({workspace:t,type:yh.RELEASE_REPORT}))),e(WXe.trackOnboardingAction({action:"Onboarding Reports CTA Clicked",properties:{Report:"Release"}}))},onClickControlChart(t){e(jXe.openLocation(ma.getReportsPath({workspace:t,type:yh.CONTROL_CHART}))),e(WXe.trackOnboardingAction({action:"Onboarding Reports CTA Clicked",properties:{Report:"Control Chart"}}))}}}}))(KXe),$Xe=bBe("HOME",VXe);function ZXe(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{cumulative:YXe}=pr,JXe=(0,hS.Z)(YXe.LOADING_DATA),XXe=(0,hS.Z)(YXe.SET_DATA),QXe=(0,hS.Z)(YXe.LOAD_DATA,((e,t)=>function(){var n,s=(n=function*(n){n(JXe());const s=Intl.DateTimeFormat().resolvedOptions().timeZone,r=yield os.Reports.getCumulativeFlow(e,{timezone:s,...t,dateFrom:t.dateFrom.toISOString(),dateTo:t.dateTo.toISOString()});return n(XXe(r))},function(){var e=this,t=arguments;return new Promise((function(s,r){var i=n.apply(e,t);function o(e){ZXe(i,s,r,o,a,"next",e)}function a(e){ZXe(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return s.apply(this,arguments)}}())),eQe=["reports","cumulative"],tQe=[...eQe,"data"],nQe=ee.ETc([...tQe,"repos"]),sQe=ee.ETc([...tQe,"pipelines"]),rQe=ee.ETc([...tQe,"repoStates"]),iQe=[...eQe,"display"],oQe=ee.ETc(iQe),aQe=(0,pa.P1)(sQe,(e=>e.map((e=>({...e,selected:!0}))))),lQe={activeDropdown:ee.ETc([...iQe,"activeDropdown"]),display:oQe,isActiveDropdown:ee.WAo(((e,t)=>lQe.activeDropdown(t)===e)),reportState:ee.ETc([...iQe,"reportState"]),boardStatesByRepo:rQe,pipelines:aQe,repoStates:rQe,repos:nQe},cQe=lQe,dQe="custom",uQe=24,pQe=_p(),mQe=pQe.toDate(),hQe=Bp(pQe),EQe={content:`(within last ${uQe} months)`,key:dQe,title:"Custom",dateRange:{dateFrom:null,dateTo:null}},gQe=[{timeSpan:"days",amount:14},{timeSpan:"days",amount:30},{timeSpan:"months",amount:3},{timeSpan:"months",amount:6},{timeSpan:"months",amount:12},{timeSpan:"months",amount:uQe}].map((e=>{let{timeSpan:t,amount:n}=e;var s,r;return{content:`${s=n,r=t,qp(pQe.clone().subtract(s,r))} - ${hQe}`,key:`${n}${t.charAt(0)}`,title:`Past ${n} ${t}`,dateRange:{dateFrom:pQe.clone().subtract(n,t).toDate(),dateTo:mQe}}})).concat(EQe),fQe=e=>gQe.find((t=>t.key===e)),_Qe=e=>{let t=fQe(e);return t||(t=fQe("14d")),t.dateRange},vQe=e=>{let{date:{content:t},handleClick:n}=e;return Ye.createElement("div",{className:"zhc-selection-list-item",onClick:n},t)};vQe.propTypes={date:SI().shape({content:SI().node.isRequired}).isRequired,handleClick:SI().func.isRequired};const IQe=vQe,bQe=cc()().endOf("day"),yQe=cc()().subtract(uQe,"month").startOf("day"),SQe=e=>!cc()(e).isBetween(yQe,bQe);class wQe extends Ye.PureComponent{constructor(){super(...arguments),this.getDateValue=e=>null===e?e:new Date(e).getTime()}render(){const{initialFocus:e,startDate:t,endDate:n,onDatesChange:s}=this.props;return Ye.createElement(Eoe,{initialFocus:e,customInputIcon:Ye.createElement(gte,null),endDate:this.getDateValue(n),isOutsideRange:SQe,numberOfMonths:1,onDatesChange:s,startDate:this.getDateValue(t)})}}wQe.propTypes={onDatesChange:SI().func.isRequired,endDate:SI().instanceOf(Date),initialFocus:SI().string,startDate:SI().instanceOf(Date)},wQe.defaultProps={endDate:null,initialFocus:null,startDate:null};const RQe=wQe;function TQe(){return TQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TQe.apply(this,arguments)}const CQe="custom",kQe=yEe(IQe),OQe=e=>{let{content:t,title:n}=e;return Ye.createElement("span",null,Ye.createElement("span",{className:"zhc-reports-date-range__date-range"},n," -")," ",t)};OQe.propTypes={content:SI().string.isRequired,title:SI().string.isRequired};class NQe extends Ye.PureComponent{constructor(e){super(e),this.onDatesChange=e=>{let{startDate:t,endDate:n}=e;const{setDateRange:s}=this.props;this.setState({startDate:t,endDate:n}),t&&n&&s(t,n,CQe)},this.setDateRangeKey=e=>{const{setDateRange:t}=this.props,{startDate:n,endDate:s}=this.state,r=e.filterKey,{dateFrom:i,dateTo:o}=_Qe(r);r===CQe?(this.setState({isCustomActive:!0}),t(n,s,r)):(this.setState({isCustomActive:!1}),t(i,o,r))};const{dateFromSelection:t,dateToSelection:n,dateRangeKey:s}=e;this.state={startDate:s===CQe?t:null,endDate:s===CQe?n:null,isCustomActive:s===CQe}}render(){const{dateRangeKey:e,isActive:t,toggleOpen:n}=this.props,{isCustomActive:s,startDate:r,endDate:i}=this.state,o=s?CQe:e,a=(l=o,gQe.map((e=>({...e,selected:l===e.key,content:Ye.createElement(OQe,{content:e.content,key:e.key,title:e.title})}))));var l;const c=Lfe(a,"content","Select date range"),d=a.map((e=>Ye.createElement(kQe,{date:e,key:e.key,filterKey:e.key,isFilterable:!1,select:this.setDateRangeKey,selected:e.key===o,handleClick:n}))),u=(0,_I.default)("zhc-reports-date-range",{"zhc-reports-date-range--custom":e===CQe}),p=r?null:moe.START_DATE,m=i?null:moe.END_DATE,h=p||m;return Ye.createElement("div",{className:u,"data-cy":"date-range"},Ye.createElement(Ome,TQe({},this.props,c,{allowSearch:!1,buttonIconComponent:Ye.createElement(uoe,null),clearFilterAlwaysOn:!1,listTitle:"Set date range",modifiers:["reports-dates"],tooltipContent:"",isActive:t,toggleOpen:n}),d),s&&Ye.createElement(RQe,{initialFocus:h,startDate:r,endDate:i,onDatesChange:this.onDatesChange}))}}NQe.propTypes={dateRangeKey:SI().string.isRequired,isActive:SI().bool.isRequired,setDateRange:SI().func.isRequired,toggleOpen:SI().func.isRequired,dateFromSelection:SI().instanceOf(Date),dateToSelection:SI().instanceOf(Date)},NQe.defaultProps={dateFromSelection:null,dateToSelection:null};const PQe=NQe;var AQe=n(91597);const DQe=(0,_t.fB)("issue","issues");class LQe extends Ye.PureComponent{render(){const{color:e,date:t,issues:n,title:s}=this.props,r={backgroundColor:e,color:"var(--zh-theme-color-text-inverse)"};return Ye.createElement(IHe,null,Ye.createElement(vHe,{style:r,title:s}),Ye.createElement(vHe,null,Ye.createElement("div",null,Vp(t)),Ye.createElement("div",{className:"zhu-font-bold"},`${(0,_t.Jd)(n)} ${DQe(t)}`)))}}LQe.propTypes={color:SI().string.isRequired,date:SI().instanceOf(Date).isRequired,issues:SI().number.isRequired,title:SI().string.isRequired};const zQe=LQe,MQe=(e,t)=>e.pipelines.find((e=>e.name===t)),xQe=e=>{let{date:t}=e;const n=new Date(t);return n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3),n},FQe=ee.vgT("count"),UQe=ee.hL$(1),BQe=e=>xQe(e.data),qQe=e=>(0,pqe.Z)(e,UQe),HQe=e=>(0,pqe.Z)(e,qQe),WQe=e=>(0,bHe.Z)(e,UQe),jQe=e=>(0,bHe.Z)(e,WQe),GQe=gHe(zQe,(e=>Ye.createElement("rect",e)));class KQe extends Ye.Component{constructor(e){super(e),this.state={index:null}}onMouseEnter(e,t){this.setState({index:t})}onMouseLeave(){this.setState({index:null})}render(){const{index:e}=this.state,{color:t,data:n,pipeline:s,xScale:r,x:i,yScale:o,y:a}=this.props;if(n.length<2)return null;const l=e=>r(i(e)),c=e=>o(a(e)),d=e=>FQe(MQe(e.data,s)),u=l(n[1])-l(n[0]),p=u/2,[m,h]=o.range(),E=(0,_t.rS)(((r,i)=>{const a=0===i,E=i===n.length-1,g=o(r[0])-o(r[1]),f=e!==i||!e;return Ye.createElement("g",{className:"zhc-cumulative-chart__chart__overlay-item",key:i,transform:`translate(${l(r)},0)`},f?null:Ye.createElement(Ye.Fragment,null,Ye.createElement("line",{className:"zhc-cumulative-chart__chart__line",x1:.5,x2:.5,y1:m,y2:h}),Ye.createElement("circle",{className:"zhc-cumulative-chart__chart__dot",r:5,cy:c(r),style:{fill:t}})),Ye.createElement(GQe,{onMouseEnter:e=>this.onMouseEnter(e,i),onMouseLeave:e=>this.onMouseLeave(e),className:"zhc-cumulative-chart__chart__overlay-item__rect",x:a?0:-p,y:c(r)-5,width:a||E?p:u,height:g+5,date:BQe(r),title:s,color:t,issues:d(r)}))}),n);return Ye.createElement(gqe,{classNames:"zhc-cumulative-chart__chart__overlay"},E)}}KQe.propTypes={color:SI().string.isRequired,data:SI().arrayOf(SI().array).isRequired,pipeline:SI().string.isRequired,x:SI().func.isRequired,xScale:SI().func.isRequired,y:SI().func.isRequired,yScale:SI().func.isRequired};class VQe extends Ye.PureComponent{constructor(){super(...arguments),this.getPipelineColor=e=>{const{pipelines:t}=this.props;return t[e].color}}render(){const{data:e,height:t,marginBottom:n,marginLeft:s,marginRight:r,marginTop:i,pipelines:o,width:a,scaleYAxis:l}=this.props,c=ee.jge("name",o),d=ee.zGw(MQe,FQe),u=AQe.Z,p=(0,Yqe.Z)().keys(c).value(d).order(u)(e),m=t-i-n,h=a-s-r,E=ee.zGw(ee.YMb,xQe)(e),g=ee.zGw(ee.Z$Q,xQe)(e),f=(0,UGe.Z)().domain([E,g]).rangeRound([0,h]),_=(0,EQ.Z)().domain([l?jQe(p):0,HQe(p)]).rangeRound([m,0]).clamp(!0),v=Ye.createElement(hqe,{height:t-i,width:50},Ye.createElement(uHe,{yScale:_,width:h,marginLeft:s,marginTop:i,label:"Issues",showGridLine:!0})),I=(0,_t.rS)(((e,t)=>Ye.createElement(gqe,{classNames:"zhc-cumulative-chart__layer",key:`chart-group-${t}`},Ye.createElement("g",{key:"layer-area"},Ye.createElement(Qqe,{color:this.getPipelineColor(t),data:e,key:t,x:xQe,y:UQe,xScale:f,yScale:_})),Ye.createElement("g",{key:"layer-line"},Ye.createElement(Wqe,{key:t,data:e,xScale:f,x:BQe,yScale:_,y:UQe,style:{stroke:this.getPipelineColor(t)}})),Ye.createElement("g",{key:"layer-overlay"},Ye.createElement(KQe,{data:e,xScale:f,x:BQe,yScale:_,y:UQe,color:this.getPipelineColor(t),pipeline:c[t]})))),p);return Ye.createElement("div",{className:"zhc-cumulative-chart","data-cy":"cumulative-chart"},Ye.createElement("div",{className:"zhc-cumulative-chart__left-axis"},v),Ye.createElement("div",{className:"zhc-cumulative-chart__chart"},Ye.createElement(hqe,{height:t+i,width:h},Ye.createElement(gqe,{marginTop:i},Ye.createElement(hHe,{xScale:f,marginTop:m}),I))))}}VQe.propTypes={data:SI().arrayOf(SI().object).isRequired,pipelines:SI().arrayOf(SI().shape({color:SI().string.isRequired,name:SI().string.isRequired})).isRequired,scaleYAxis:SI().bool.isRequired,height:SI().number,marginBottom:SI().number,marginLeft:SI().number,marginRight:SI().number,marginTop:SI().number,width:SI().number},VQe.defaultProps={height:400,marginBottom:40,marginLeft:50,marginRight:40,marginTop:15,width:1060};const $Qe=VQe;class ZQe extends Ye.Component{constructor(e){super(e),this.onClickToggle=()=>{this.setState((e=>({isInfoOpen:!e.isInfoOpen})))},this.onClickClose=()=>{this.setState({isInfoOpen:!1})};const{isInfoOpen:t}=this.props;this.state={isInfoOpen:t}}render(){const{isInfoOpen:e}=this.state,{currentWorkspaceName:t,data:n,dateFrom:s,dateTo:r,scaleYAxis:i,selectedPipelines:o,pipelines:a,togglePipeline:l,onExportReport:c}=this.props,d=a.map((e=>({...e,label:e.name}))),u=function(e){const t=e.map((e=>e.name));return["Date",...t]}(a),p=function(e){const t=e.map((e=>{const t=e.pipelines.map((e=>e.count));return[e.date,...t]}));return t}(n);return Ye.createElement(CWe,null,Ye.createElement(kWe,null,Ye.createElement("h2",{className:"zhc-chart-container__header-title"},"Cumulative flow"),Ye.createElement(dNe,{copyLinkText:"Copy link to report",copyLinkToPage:iNe.CUMULATIVE_CHART},Ye.createElement(LWe,{csvData:[u,...p],fileName:`CumulativeFlow-${t}-${Wp()}.csv`,onClick:c})),Ye.createElement("span",{className:"zhc-chart-container__info-toggle zhu-cursor-pointer",onClick:this.onClickToggle},Ye.createElement(T9,null))),Ye.createElement(TWe,{buttonText:"Learn more",buttonUrl:"https://help.zenhub.com/support/solutions/articles/43000038850",content:"\nCumulative flow diagrams track how issues flow across the board. Use the\nreport to understand how work accumulates within each pipeline. If the\nreport contains an area that is widening, or is larger than other pipeline\nstages, this can indicate this stage in your workflow is a bottleneck.\n",isOpen:e,title:"How to read a cumulative flow diagram",onClickClose:this.onClickClose}),Ye.createElement(zqe,{toggle:!0,items:d,onItemChange:l}),Ye.createElement($Qe,{dateFrom:s,dateTo:r,data:n,scaleYAxis:i,pipelines:o}))}}ZQe.propTypes={currentWorkspaceName:SI().string.isRequired,data:SI().arrayOf(SI().object).isRequired,dateFrom:SI().instanceOf(Date).isRequired,dateTo:SI().instanceOf(Date).isRequired,pipelines:SI().arrayOf(SI().shape({name:SI().string.isRequired,selected:SI().bool.isRequired})).isRequired,scaleYAxis:SI().bool.isRequired,selectedPipelines:SI().arrayOf(SI().object).isRequired,togglePipeline:SI().func.isRequired,isInfoOpen:SI().bool,onExportReport:SI().func},ZQe.defaultProps={isInfoOpen:!1,onExportReport:()=>{}};const YQe=ZQe,JQe=SI().arrayOf(SI().shape({content:SI().node,key:SI().string}));class XQe extends Ye.PureComponent{constructor(){super(...arguments),this.renderRow=(e,t)=>Ye.createElement("tr",{key:t.toString()},e.map((e=>Ye.createElement("td",{className:"zhc-table__cell",key:e.key},e.content))))}render(){const{headers:e,rows:t,modifiers:n}=this.props,s=(0,_t.DG)("zhc-table",n);return e.length||t.length?Ye.createElement("div",{className:(0,_I.default)("zhc-table",s)},Ye.createElement("table",{className:"zhc-table__table","data-cy":"table"},Ye.createElement("thead",null,Ye.createElement("tr",null,e.map((e=>Ye.createElement("th",{key:e.key,className:"zhc-table__cell zhc-table__cell--header"},e.content))))),Ye.createElement("tbody",null,t.map(this.renderRow)))):null}}XQe.propTypes={headers:JQe.isRequired,rows:SI().arrayOf(JQe).isRequired,modifiers:SI().arrayOf(SI().string)},XQe.defaultProps={modifiers:[]};const QQe=XQe;function e0e(){return e0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e0e.apply(this,arguments)}class t0e extends Ye.Component{static getDerivedStateFromProps(e,t){const{initialNumberOfRows:n,rows:s}=e,{truncate:r}=t;return r!==n<s.length?{truncate:r}:null}constructor(e){super(e),this.showMore=()=>{this.setState({truncate:!1})};const{initialNumberOfRows:t,rows:n}=e;this.state={truncate:t<n.length}}render(){const{initialNumberOfRows:e,showMoreButtonText:t,rows:n,modifiers:s,...r}=this.props,{truncate:i}=this.state,o=i?n.slice(0,e):n,a=(0,_t.DG)("zhc-table-expand-button",s);return n.length?Ye.createElement(Ye.Fragment,null,Ye.createElement(QQe,e0e({},r,{rows:o,modifiers:s})),i&&Ye.createElement("div",{className:(0,_I.default)("zhc-table-expand-button",a)},Ye.createElement(H5,{onClick:this.showMore,color:L5.PRIMARY,variant:z5.TEXT},t))):null}}t0e.propTypes={initialNumberOfRows:SI().number,modifiers:SI().arrayOf(SI().string),rows:SI().arrayOf(JQe),showMoreButtonText:SI().string},t0e.defaultProps={initialNumberOfRows:10,modifiers:[],showMoreButtonText:"Show More"};const n0e=t0e,s0e=QQe,r0e="i31ngouPhDhR0HkftEC6",i0e="jE8LDaLmsNKoGvSsDNTQ";class o0e extends Ye.PureComponent{constructor(){super(...arguments),this.getDays=()=>{const{numberOfDays:e,data:{length:t}}=this.props;return ee.VV$(e,t)},this.getDataToRender=()=>{const{data:e}=this.props;return ee.h$H(this.getDays(),e)},this.getIssueCount=(e,t)=>{const n=e.pipelines.find((e=>{let{name:n}=e;return n===t}));return n?(0,_t.Jd)(n.count):null},this.renderTableRow=(e,t)=>{let{name:n,color:s,selected:r}=e;const i=(0,_I.default)(r0e,{[i0e]:!r});return[{key:n,content:Ye.createElement(Ye.Fragment,null,Ye.createElement(kqe,{disabled:!r,type:"cfr",color:s}),Ye.createElement("span",{"data-cy":"pipeline",className:i},n))},...t.map((e=>({key:`${n}-${e.date}`,content:Ye.createElement("span",{className:i},this.getIssueCount(e,n))})))]}}render(){const{pipelines:e}=this.props,t=this.getDataToRender(),n=e.map((e=>this.renderTableRow(e,t))),s=["Issues in pipeline",...t.map((e=>{let{date:t}=e;return Vp(t)}))].map((e=>({key:e,content:e})));return Ye.createElement(s0e,{modifiers:["fixed-first-column","cumulative-flow"],headers:s,rows:n})}}o0e.propTypes={data:SI().arrayOf(SI().object).isRequired,numberOfDays:SI().number,pipelines:SI().arrayOf(SI().object)},o0e.defaultProps={pipelines:[],numberOfDays:4};const a0e=o0e;class l0e extends Ye.PureComponent{render(){const{currentWorkspaceName:e,data:t,dateFrom:n,dateTo:s,pipelines:r,scaleYAxis:i,selectedPipelines:o,togglePipeline:a,onExportReport:l}=this.props;return Ye.createElement("div",{className:"zhc-cumulative-flow"},Ye.createElement(YQe,{currentWorkspaceName:e,data:t,dateFrom:n,dateTo:s,pipelines:r,scaleYAxis:i,selectedPipelines:o,togglePipeline:a,onExportReport:l}),Ye.createElement(a0e,{data:t,pipelines:r}))}}l0e.propTypes={currentWorkspaceName:SI().string.isRequired,data:SI().arrayOf(SI().object).isRequired,dateFrom:SI().instanceOf(Date).isRequired,dateTo:SI().instanceOf(Date).isRequired,pipelines:SI().arrayOf(SI().object).isRequired,scaleYAxis:SI().bool.isRequired,selectedPipelines:SI().arrayOf(SI().object).isRequired,togglePipeline:SI().func.isRequired,onExportReport:SI().func.isRequired};const c0e=l0e,d0e=n.p+"../../img/built/cumulative-flow-empty.svg",u0e=e=>{let{boardPath:t}=e;return Ye.createElement(CBe,{boardPath:t,imageSrc:d0e,descriptionText:"Looks like there are no issues in the specified date range\nor pipelines. Move issues through the board to start tracking your process.",boardLinkText:"Head to the board.",h1Text:"No matching issues",showBoardLinkInline:!0})},p0e=e=>{let{className:t}=e;return Ye.createElement("svg",{height:"350",width:"750",viewBox:"0 0 750 350",className:t,xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("g",{fill:"currentColor",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 53.04l365.06-25.817 236.184 11.864L750 0v350H0z",opacity:"0.2"}),Ye.createElement("path",{d:"M0 167.02l206.43 22.002 101.06-24.872L750 110v240.369H0z",opacity:"0.5"}),Ye.createElement("path",{d:"M0 287.245l396.613-34.503 112.598 11.29L750 222v128.75H0z",opacity:"0.7"})))},m0e=GWe;function h0e(){return h0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h0e.apply(this,arguments)}class E0e extends Ye.PureComponent{constructor(){super(...arguments),this.onSelect=e=>{const{selectRepo:t,repos:n}=this.props;t(e.filterKey,n)},this.onSelectAll=()=>{const{repos:e,showAllRepos:t}=this.props;t(e)},this.onUnselect=e=>{const{unselectRepo:t,repos:n}=this.props;t(e.filterKey,n)},this.selectDefaultRepo=()=>{const{showOneRepo:e,defaultRepoId:t}=this.props;e(t)}}componentDidMount(){const{repos:e,selectedRepoIds:t,setInitialRepos:n}=this.props;(0,ee.xbD)(t)&&n&&n(e)}render(){const{defaultRepoId:e,repos:t,selectedRepoIds:n}=this.props,s=n.length,r=!(0,_t.KN)(t)&&s<t.length,i=r?"Show all repos":"Show default repo",o=zfe(s,t),a=r?this.onSelectAll:this.selectDefaultRepo,l=1===n.length,c=(0,ee.vgT)("orgName"),d=(0,ee.vgT)("name"),u=(0,ee.OH4)("id",e);return Ye.createElement(Ome,h0e({},this.props,{buttonName:o,allowNegatedSearch:!1,clearFilter:a,clearFilterAlwaysOn:!0,clearFilterName:i,emptyStateText:"No repos found",listTitle:"Show connected repos",filterableChildProp:"name",filterDefaultText:"Search repos"}),(0,mS.Rv)(t,c,d,u).map((t=>Ye.createElement(RBe,h0e({},t,{showDefaultTag:!0,repo:t.name,organization:t.orgName,repo_id:t.id,filterKey:t.id,key:t.id,select:this.onSelect,deselect:this.onUnselect,selected:n.includes(t.id),isDisabled:l&&n[0]===t.id,disabledText:"At least one repo must be selected",isDefaultRepo:t.id===e})))))}}E0e.propTypes={defaultRepoId:SI().number.isRequired,modifiers:SI().arrayOf(SI().string).isRequired,repos:SI().arrayOf(SI().shape({name:SI().string,orgName:SI().string,selected:SI().bool})).isRequired,selectedRepoIds:SI().arrayOf(SI().oneOfType([SI().string,SI().number])).isRequired,selectRepo:SI().func.isRequired,showAllRepos:SI().func.isRequired,showOneRepo:SI().func.isRequired,toggleOpen:SI().func.isRequired,unselectRepo:SI().func.isRequired,setInitialRepos:SI().func},E0e.defaultProps={setInitialRepos:null};const g0e=E0e,f0e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;return(e||[]).map((e=>({filterKey:e,text:n(e),type:"LABEL",onClick:()=>t(e)})))},_0e=(e,t,n)=>e.map((e=>{const s=n.includes(e.name);return{...e,filterKey:e.name,selected:t.includes(e.name)||s,negated:s}})),v0e="NyTfCqODvSZcl01oPkcg",I0e=E8.REPORTS_FILTER_LABELS.shortcuts,b0e=e=>{let{boardPath:t,hasNoData:n,reportState:s,...r}=e;switch(s){case"EMPTY":return Ye.createElement(u0e,{boardPath:t});case"LOADING":return Ye.createElement(m0e,{title:"Counting issues...",message:"Creating diagram"},Ye.createElement(p0e,{className:"zhc-report-loading__svg-image"}));case"LOADED":return n?Ye.createElement(u0e,{boardPath:t}):Ye.createElement(c0e,r);default:return null}},y0e=e=>{const{clearAllLabels:t,dateFrom:n,dateTo:s,dateRangeKey:r,defaultRepoId:i,deselectLabel:o,excludeLabel:a,excludedLabels:l,labels:c,labelOptions:d,repoSelections:u,selectLabel:p,selectRepo:m,selectedRepoIds:h,setDateRange:E,showAllRepos:g,showOneRepo:f,unselectRepo:_,workspaceId:v}=e,[I,b]=(0,Ye.useState)(!1),[y,S]=(0,Ye.useState)(!1),[w,R]=(0,Ye.useState)(!1),T=[...f0e(c,o),...f0e(l,o,(e=>`not:${e}`))];return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:v0e},Ye.createElement(PQe,{dateToSelection:s,dateFromSelection:n,dateRangeKey:r,isActive:w,setDateRange:E,toggleOpen:()=>R((e=>!e)),workspaceId:v}),Ye.createElement(g0e,{toggleOpen:()=>b((e=>!e)),isActive:I,modifiers:["cumulative-repos"],repos:u,showAllRepos:g,showOneRepo:f,selectRepo:m,defaultRepoId:i,unselectRepo:_,selectedRepoIds:h}),Ye.createElement(WWe,{activeFilter:Boolean(c.length+l.length),clearFilter:t,deselectItem:e=>o(e.filterKey),isActive:y,labels:_0e(d,c,l),selectItem:e=>e.negated?a(e.filterKey):p(e.filterKey),toggleOpen:()=>S(!y),shortcuts:I0e,onShortcutsUsed:()=>S(!0)})),Ye.createElement(yGe,{clearAll:t,hideStats:!0,tags:T}),Ye.createElement(b0e,e))},S0e=(0,Ye.memo)(y0e),w0e={MAX_DATE:"MAX_DATE"},R0e=e=>{let t,{reportName:n,warningType:s,maxTimeInMonths:r}=e;if(s===w0e.MAX_DATE)t=((e,t)=>Ye.createElement(Ye.Fragment,null,"The ",e," can only show Issues",Ye.createElement("strong",null," up to ",t," months old")))(n,r);else t=null;return Ye.createElement("div",{className:"zhc-reports-warning"},Ye.createElement(bie,{modifiers:["center-text"]},t))};R0e.propTypes={warningType:SI().oneOf(Object.values(w0e)).isRequired,maxTimeInMonths:SI().number,reportName:SI().string},R0e.defaultProps={maxTimeInMonths:uQe,reportName:"Report"};const T0e=R0e,C0e={},k0e=bb.Ps`
  query cumulativeFlowLabels($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      repositories {
        id: ghId
        labels {
          nodes {
            id
            color
            name
          }
        }
      }
    }
  }
`;const O0e={dateFrom:"df",dateTo:"dt",dateRangeKey:"dr",deselectedPipelines:"p",deselectedRepos:"r",labels:"labels",excludedLabels:"notLabels"},N0e={[O0e.deselectedPipelines]:["Closed"],[O0e.dateRangeKey]:"14d",[O0e.labels]:[],[O0e.excludedLabels]:[]},P0e="Cumulative Flow";const A0e=(e,t)=>{e({[O0e.deselectedRepos]:t}),r6(P0e,{Action:"Repo Toggled",Module:"Power"})},D0e=(e,t,n)=>{e({[O0e.deselectedPipelines]:n}),r6(P0e,{Action:"Pipeline Toggled","Pipeline Name":t,Module:"Power"})},L0e=(e,t,n)=>{const{[O0e.deselectedPipelines]:s=[]}=t,r=s.filter((t=>t!==e));D0e(n,e,r)},z0e=(e,t,n)=>{const{[O0e.deselectedPipelines]:s=[]}=t,r=[...s,e];D0e(n,e,r)},M0e=(e,t,n,s)=>{e&&t&&(s({[O0e.dateFrom]:Gp(e),[O0e.dateTo]:Gp(t),[O0e.dateRangeKey]:n}),function(e,t){r6(P0e,{Action:"Date Range Selected",Date:{dateFrom:e,dateTo:t},Module:"Power"})}(e,t),function(e){r6(P0e,{Action:"Date Range Key Selected",Date:e,Module:"Power"})}(n))};var x0e=n(56583);function F0e(e,t){const{states:n}=t;return e.length?e.map(((e,n)=>({date:e.date,pipelines:e.pipelines.map(((e,s)=>({name:e.name,count:e.count+t.states[n].pipelines[s].count})))}))):n}const U0e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.map((t=>({...t,selected:!e.includes(`${t.id}`)})))})),B0e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((t=>{let{name:n}=t;return!e.includes(n)}))})),q0e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((t=>{const n=!e.includes(t.name);return{...t,selected:n}}))})),H0e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce(((e,t)=>{let{id:n,selected:s}=t;return s?[...e,n]:e}),[])})),W0e=(0,x0e.Z)((function(e,t){return e.filter((e=>t.includes(e.repoId))).reduce(F0e,[])})),j0e=(0,x0e.Z)((function(e,t){return e.some((e=>{let{name:n}=e;return n.includes(t)}))})),G0e=(0,x0e.Z)((e=>e.every((e=>e.pipelines.every((e=>0===e.count)))))),{isNilOrEmpty:K0e,stringifyQueryParams:V0e,parseQueryString:$0e}=Vt.Z;function Z0e(e){const t=(0,ee.e$l)(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];for(let n=0;n<s.length;n+=1)if(!K0e(s[n])&&t(s[n]))return s[n][e];return""}function Y0e(e){return Array.isArray(e)?e.filter((e=>e&&""!==e)):e}function J0e(e,t){return Object.keys(t).reduce(((e,n)=>{if(K0e(n))return e;const s=Y0e(t[n]);return{...e,[n]:s}}),e)}function X0e(e){let{state:t,...n}=e;return n}const Q0e=(0,x0e.Z)((function(e){return $0e(e)})),e1e=(0,x0e.Z)((function(e){return Object.keys(e).reduce(((t,n)=>{if(K0e(n))return t;const s=e[n],r=function(e){return Array.isArray(e)&&0===e.length}(s)?[""]:s;return`${""===t?`?${t}`:`${t}&`}${V0e({[n]:r})}`}),"")})),t1e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.reduce(((e,r)=>({...e,[r]:Z0e(r,t,n,s)})),{})})),n1e=(0,x0e.Z)((function(e,t,n){return n.some((n=>!(0,ee.fS0)(e[n],t[n])))})),s1e=(0,x0e.Z)((function(e,t){const n=X0e(e),s=X0e(t);return!(0,ee.fS0)(n,s)})),r1e=(0,x0e.Z)(Y0e),i1e=(0,x0e.Z)((function(e,t){return Object.keys(e).filter((n=>!(0,ee.fS0)(e[n],t[n])))}));class o1e extends Ye.Component{constructor(e){var t;super(e),t=this,this.getStateChangeObject=e=>{const{observeKeys:t,state:n}=this.props;return{didStateChange:n1e(e.state,n,t),didPropsChange:s1e(e,this.props)}},this.getStateFromUrl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.currentLocation;const n=Q0e(e.search);return Object.keys(n).reduce(((e,t)=>({...e,[t]:r1e(n[t])})),{})},this.subscribeOnUpdate=()=>{const{observeKeys:e,history:t,state:n,onUpdate:s}=this.props;this.onUpdateListener=t.listen((()=>{if(s){const t=this.currentLocation.pathname!==this.baseLocation.pathname||this.previousLocation.pathname!==this.baseLocation.pathname,r=this.getStateFromUrl(this.previousLocation),i=this.getStateFromUrl();if(n1e(r,i,e)&&!t){const e=n(i,this.props);s(e,{didStateChange:!0,didPropsChange:!1},{urlState:i,prevUrlState:r})}}}))},this.calculateProps=()=>{const{state:e,actions:t}=this.props,n=this.currentLocation.pathname!==this.baseLocation.pathname,s=this.getStateFromUrl(n?this.previousLocation:this.currentLocation);return{...e(s,this.props),...t(s,this.updateUrl,this.props)}},this.updateUrl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{history:s,location:r,cacheKey:i,observeKeys:o}=t.props,a=t.getStateFromUrl(),l=J0e(a,e),c=n1e(a,l,o);c&&(n&&nI(i,l,{}),s.replace({pathname:r.pathname,hash:r.hash,search:e1e(l)}))},this.baseLocation=e.location,this.currentLocation=e.location,this.previousLocation={},this.locationListener=e.history.listen((e=>{this.previousLocation=this.currentLocation,this.currentLocation=e})),this.initializeUrlState()}componentDidMount(){this.subscribeOnUpdate()}shouldComponentUpdate(e){const{observeKeys:t,state:n}=this.props;return n1e(n,e.state,t)||s1e(this.props,e)}componentWillUnmount(){this.locationListener&&this.locationListener(),this.onUpdateListener&&this.onUpdateListener()}initializeUrlState(){const{cacheKey:e,onLoad:t,state:n,defaultState:s,observeKeys:r}=this.props,i=JSON.parse(cI(e)),o=this.getStateFromUrl(),a=t1e(r,o,i,s);this.updateUrl(a,!1);t(n(a,this.props),{didStateChange:!0,didPropsChange:!0},{urlState:a,prevUrlState:{}})}render(){const e=this.calculateProps(),{children:t}=this.props;return t(e)}}o1e.propTypes={cacheKey:SI().string.isRequired,children:SI().func.isRequired,history:SI().shape({listen:SI().func.isRequired,replace:SI().func.isRequired}).isRequired,location:SI().shape({hash:SI().string,pathname:SI().string,search:SI().string}).isRequired,observeKeys:SI().arrayOf(SI().string).isRequired,actions:SI().func,defaultState:SI().shape({}),state:SI().func,onLoad:SI().func,onUpdate:SI().func},o1e.defaultProps={defaultState:{},state:()=>{},actions:()=>{},onLoad:()=>{},onUpdate:null};const a1e=(0,ee.zGw)((0,l3.$j)((e=>({location:e.router.location}))),$8.EN)(o1e),l1e=(0,x0e.Z)(((e,t,n,s)=>{if(e===dQe)return n&&s&&vp(n)&&vp(s)&&Lp(n,s)?{dateFrom:n?bp(n,Ep):n,dateTo:s?bp(s,Ep):s,dateRangeKey:e}:{..._Qe(t),dateRangeKey:t};const r=(0,_t.KN)(e)?t:e;return{..._Qe(r),dateRangeKey:r}})),c1e=(0,ee.zGw)(ee.WAo,x0e.Z)(((e,t)=>{let{todaysDate:n=new Date,numberOfMonths:s=uQe}=e,{dateRangeKey:r,dateFrom:i,dateTo:o}=t;const a=function(e,t,n){return Dp(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:uQe)?`${uQe}m`:n}(i,n,r,s);return a!==r?{..._Qe(a),maxDateRangeError:!0}:{dateFrom:i,dateTo:o,maxDateRangeError:!1}})),d1e=[O0e.deselectedRepos,O0e.deselectedPipelines,O0e.dateFrom,O0e.dateTo,O0e.dateRangeKey,O0e.labels,O0e.excludedLabels];function u1e(e,t){const{[O0e.deselectedRepos]:n,[O0e.deselectedPipelines]:s,[O0e.dateFrom]:r,[O0e.dateTo]:i,[O0e.dateRangeKey]:o,[O0e.labels]:a,[O0e.excludedLabels]:l}=e,{repos:c,pipelines:d,repoStates:u}=t,p=U0e(n,c),m=H0e(p),h=B0e(s,d),E=W0e(u,m),{dateFrom:g,dateTo:f,dateRangeKey:_}=l1e(o,"14d",r,i);return{repoSelections:p,selectedRepoIds:m,selectedPipelines:h,dateRangeKey:_,pipelines:q0e(s,d),dateFrom:bp(g,Ep),dateTo:bp(f,Ep),data:E,scaleYAxis:j0e(h,"Closed"),hasNoData:0===E?.length||G0e(E),labels:a||[],excludedLabels:l||[]}}function p1e(e,t,n){return{clearAllLabels:()=>((e,t)=>{t({[O0e.labels]:[],[O0e.excludedLabels]:[]})})(0,t),deselectLabel:n=>((e,t,n)=>{const{[O0e.labels]:s=[],[O0e.excludedLabels]:r=[]}=t,i=s.filter?.((t=>t!==e))??[],o=r.filter?.((t=>t!==e))??[];n({[O0e.labels]:i,[O0e.excludedLabels]:o})})(n,e,t),excludeLabel:n=>((e,t,n)=>{const{[O0e.excludedLabels]:s=[]}=t,r=[...s,e];n({[O0e.excludedLabels]:r})})(n,e,t),selectLabel:n=>((e,t,n)=>{const{[O0e.labels]:s=[]}=t,r=[...s,e];n({[O0e.labels]:r})})(n,e,t),selectRepo:n=>((e,t,n)=>{const{[O0e.deselectedRepos]:s=[]}=t,r=s.filter((t=>parseInt(t,10)!==e));A0e(n,r)})(n,e,t),unselectRepo:s=>((e,t,n,s)=>{const{[O0e.deselectedRepos]:r=[]}=t;if(r.length+1>=s.length)return;const i=[...r,e];A0e(n,i)})(s,e,t,n.repos),showOneRepo:e=>((e,t,n)=>{const s=n.reduce(((t,n)=>{let{id:s}=n;return s===e?t:[...t,s]}),[]);A0e(t,s)})(e,t,n.repos),showAllRepos:()=>(e=>A0e(e,[]))(t),selectPipeline:n=>L0e(n,e,t),deselectPipeline:n=>z0e(n,e,t),togglePipeline:(n,s)=>((e,t,n,s)=>{t?L0e(e,n,s):z0e(e,n,s)})(n,s,e,t),setDateRange:(e,n,s)=>M0e(e,n,s,t)}}const m1e=(0,$8.EN)((e=>{let{children:t,loadData:n,onMaxDateRangeError:s,pipelines:r,repoStates:i,repos:o,workspaceId:a}=e;const l=(e,t,r)=>{let{didStateChange:i}=t,{urlState:o,prevUrlState:l}=r;const{dateFrom:c,dateTo:d,dateRangeKey:u,labels:p,excludedLabels:m}=e,h=i1e(l,o);if(1===h.length&&(h.includes(O0e.deselectedPipelines)||h.includes(O0e.deselectedRepos)))return;const{dateFrom:E,dateTo:g,maxDateRangeError:f}=(0,ee.zGw)(l1e,c1e({todaysDate:new Date}))(u,N0e[O0e.dateRangeKey],c,d),_=e=>e?.filter?.((e=>Boolean(e)&&e!==ed))??[];s(f),n(a,{dateFrom:E,dateTo:g,labels:_(p),excludedLabels:_(m),withoutLabels:p.includes(ed)?"true":"false"})};return Ye.createElement(a1e,{cacheKey:`zhCumulativeSettings_${a}`,repos:o,observeKeys:d1e,repoStates:i,pipelines:r,state:u1e,actions:p1e,defaultState:N0e,onUpdate:l,onLoad:l},t)}));let h1e=!0;const E1e=e=>{const[t,n]=(0,Ye.useState)(!1);(0,Ye.useLayoutEffect)((()=>(r6(P0e,{Action:"Cumulative Flow Viewed",Module:"Power"}),Q3({"Cumulative Flow Views":1}),m6(v6.CUMULATIVE_FLOW_OPENED),()=>{h1e=!1})),[]),(0,Ye.useEffect)((()=>{"LOADED"!==e||t||(m6(v6.CUMULATIVE_FLOW_RENDERED),E6([I6.CUMULATIVE_FLOW_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!h1e}])),n(!0))}),[e])},g1e=e=>(0,Ye.useMemo)((()=>(e=>{const t=(e??[]).flatMap((e=>e.labels.nodes)).sort(((e,t)=>e.name<t.name?-1:1));return d$([nd,...t],(e=>e.name))})(e)),[e]);function f1e(){return f1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},f1e.apply(this,arguments)}const _1e=(0,pa.P1)(Na,(e=>ma.getBoardPath({workspace:e}))),v1e=()=>{const[e,t]=(0,Ye.useState)(!1),n=(0,l3.I0)(),s=(0,l3.v9)(_1e),r=(0,l3.v9)(Ka),i=(0,l3.v9)(cQe.repoStates),o=(0,l3.v9)(Ba),a=(0,l3.v9)(cQe.repos),l=(0,l3.v9)(cQe.reportState),c=(0,l3.v9)(Pa),d=(0,l3.v9)(cQe.pipelines);E1e(l);const u=(e,t)=>n(QXe(e,t)),{data:p}=function(e){const t={...C0e,...e};return cy.a(k0e,t)}({variables:{workspaceId:c}}),m=g1e(p?.workspace?.repositories??[]);return Ye.createElement(Ye.Fragment,null,Ye.createElement(yBe,{pageName:"Cumulative flow"}),e&&Ye.createElement(T0e,{reportName:"Cumulative flow",warningType:w0e.MAX_DATE}),Ye.createElement(m1e,{loadData:u,onMaxDateRangeError:e=>t(e),pipelines:d,repos:a,repoStates:i,workspaceId:c},(e=>Ye.createElement(S0e,f1e({},e,{boardPath:s,defaultRepoId:o,hasNoData:e.hasNoData,labelOptions:m,loadData:u,currentWorkspaceName:r,workspaceId:c,reportState:l,onExportReport:()=>oje("Cumulative Flow")})))))},I1e=bBe("CUMULATIVE_CHART",v1e),b1e=["reports","control","display"],y1e={activeDropdown:(0,ee.ETc)([...b1e,"activeDropdown"]),isActiveDropdown:(0,ee.WAo)(((e,t)=>y1e.activeDropdown(t)===e)),reportState:(0,ee.ETc)([...b1e,"reportState"])},S1e=y1e,w1e=e=>`zhControlSettings_${e}`,R1e={dateFrom:"df",dateTo:"dt",dateRangeKey:"dr",startPipeline:"sp",endPipeline:"ep",deselectedRepos:"r",scale:"s",includePullRequests:"prs",labels:"labels",excludedLabels:"notLabels"},T1e="Control Chart";function C1e(e,t){r6(T1e,{Action:e,"Pipeline Name":t,Module:"Power"})}const k1e=(e,t,n,s)=>{if(!e||!t)return;const r=Gp(e),i=Gp(t);s({[R1e.dateFrom]:r,[R1e.dateTo]:i,[R1e.dateRangeKey]:n}),function(e){r6(T1e,{Action:"Date Range Key Selected",Date:e,Module:"Power"})}(n),function(e,t){r6(T1e,{Action:"Date Range Selected",Date:{dateFrom:e,dateTo:t},Module:"Power"})}(r,i)},O1e=(e,t)=>{e({[R1e.deselectedRepos]:t}),r6(T1e,{Action:"Repo Toggled",Module:"Power"})},N1e=(e,t)=>{let{id:n,name:s}=t;e({[R1e.startPipeline]:n}),C1e("Start Pipeline Selected",s)},P1e=(e,t)=>{let{id:n,name:s}=t;e({[R1e.endPipeline]:n}),C1e("End Pipeline Selected",s)};function A1e(){return A1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A1e.apply(this,arguments)}const{control:D1e}=LG,L1e=il,z1e=D1e.toggleDropdown.bind(void 0,L1e),M1e=S1e.isActiveDropdown(L1e);function x1e(e){const{[R1e.dateFrom]:t,[R1e.dateTo]:n,[R1e.dateRangeKey]:s}=e,{dateFrom:r,dateTo:i,dateRangeKey:o}=l1e(s,"14d",t,n);return{dateFromSelection:bp(r,Ep),dateToSelection:bp(i,Ep),dateRangeKey:o}}function F1e(e,t,n){return{setDateRange:(e,s,r)=>k1e(e,s,r,t,n.loadData)}}const U1e=[R1e.dateTo,R1e.dateFrom,R1e.dateRangeKey],B1e={[R1e.dateRangeKey]:"14d"},q1e=e=>{const{workspaceId:t}=e,n=w1e(t);return Ye.createElement(a1e,{cacheKey:n,defaultState:B1e,state:x1e,actions:F1e,observeKeys:U1e},(t=>Ye.createElement(PQe,A1e({},e,t))))};q1e.propTypes={workspaceId:SI().string.isRequired};const H1e=(0,l3.$j)((function(e){return{isActive:M1e(e)}}),(function(e){return{...(0,mr.DE)({toggleOpen:z1e},e)}}))(q1e),W1e=H1e,j1e=e=>{const t=(0,ee.J69)(e),n=e.map((e=>(e-t)**2));return Math.sqrt((0,ee.J69)(n))},G1e=(e,t,n)=>Object.values(e.reduce(((e,s)=>{const{duration:r,groupKeys:{[t]:i},dateRange:{[t]:o}}=s,a=n({endDate:i,duration:r});return e[a]||(e[a]={endDate:i,dateRange:o,duration:r,issues:[]}),e[a].issues.push(s),e}),{})),K1e=(e,t)=>{const n=G1e(e,t,(e=>{let{endDate:t}=e;return t}));return n.map((e=>{const t=[],n=[];return e.issues.forEach((e=>{let{stats:{rollingAverage:s,standardDeviation:r}}=e;t.push(s),n.push(r)})),{...e,rollingAverage:(0,ee.J69)(t),standardDeviation:(0,ee.J69)(n)}}))},V1e={transparentLayer:"transparentLayer",shadedLayer:"shadedLayer"},$1e=(0,ee.vMG)((e=>e.issues.length>1?"cluster":"single")),Z1e="YYYY-MM-DD",Y1e=e=>e/864e5,J1e=(0,ee.DYV)((0,ee.zU3)((0,ee.vgT)("endDate"))),X1e=(e,t)=>{const n=Math.ceil(.1*e.length),s=Math.max(t-n,0),r=Math.min(t+n,e.length)+1;return{range:n,issues:e.slice(s,r)}},Q1e=e=>{const t=(0,ee.jge)("duration",e),{issues:n}=X1e(e,e.length-1),s=(0,ee.jge)("duration",n),r=n.length,i=e.reduce(((e,t)=>{let{estimate:n}=t;return n?e+parseFloat(n):e}),null);return{count:e.length,duration:{mean:Y1e((0,ee.J69)(t)),median:Y1e((0,ee.C2o)(t)),min:Y1e(Math.min(...t)),max:Y1e(Math.max(...t)),endRollingAverage:{value:Y1e((0,ee.Smz)(s)/r),count:r}},estimate:{sum:i?(0,_t.rK)(i):null}}},e2e=(e,t)=>{const n=wp(t);return e.map(((t,s)=>{const{issues:r}=X1e(e,s),i=(0,ee.jge)("duration",r),o=Ip(t.endDate),[a,l]=((e,t)=>{const n=t.diff(e,"days"),s=Math.floor(n/7),r=t.clone().subtract(s,"weeks"),i=r.format(Z1e);return[r.clone().subtract(6,"days").format(Z1e),i]})(o,n),c=o.format(Z1e),d={...t,duration:Math.round(Y1e(t.duration)),groupKeys:{day:c,week:l},dateRange:{day:[c],week:[a,l]},stats:{rollingAverage:Y1e((0,ee.J69)(i)),standardDeviation:Y1e(j1e(i))}};return(0,ee.kKJ)(t.estimate)||(d.estimate=parseFloat(t.estimate)),d}))},t2e=(e,t)=>{const n=J1e(e);return{stats:Q1e(n),issues:e2e(n,t)}};function n2e(e,t){return t.findIndex((t=>{let{id:n}=t;return n===e.id}))}function s2e(e,t){return t.find((t=>{let{id:n}=t;return n===e}))}function r2e(e){return e?.length?e:[]}function i2e(e){return"true"===e}const o2e=(0,x0e.Z)((function(e,t){const n=e?n2e(e,t):t.length-1;return t.map(((e,t)=>({...e,isDisabled:t>=n})))})),a2e=(0,x0e.Z)((function(e,t){const n=e?n2e(e,t):0;return t.map(((e,t)=>({...e,isDisabled:t<=n})))})),l2e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.map((t=>({...t,selected:!e.includes(`${t.id}`)})))})),c2e=(0,x0e.Z)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce(((e,t)=>{let{id:n,selected:s}=t;return s?[...e,n]:e}),[])})),d2e=(0,ee.zGw)(ee.WAo,x0e.Z)((function(e,t){return e.filter((e=>!t.includes(e.repoId)))})),u2e=(0,ee.zGw)(ee.WAo,x0e.Z)((function(e,t){const n=i2e(e);return t.filter((e=>{let{pull_request:t}=e;return n||!t}))})),p2e=(0,ee.zGw)(ee.WAo,x0e.Z)((function(e,t){return t2e(t,e)})),m2e=(0,x0e.Z)((function(e){return e.map((e=>parseInt(e,10)))}));function h2e(){return h2e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h2e.apply(this,arguments)}const{control:E2e}=LG;function g2e(e,t){const{[R1e.deselectedRepos]:n}=e,{repos:s}=t,r=l2e(n,s);return{selectedRepoIds:c2e(r)}}function f2e(e,t,n){return{selectRepo:n=>((e,t,n)=>{const{[R1e.deselectedRepos]:s=[]}=t,r=s.filter((t=>parseInt(t,10)!==parseInt(e,10)));O1e(n,r)})(n,e,t),unselectRepo:s=>((e,t,n,s)=>{const{[R1e.deselectedRepos]:r=[]}=t;if(r.length+1>=s.length)return;const i=[...r,e];O1e(n,i)})(s,e,t,n.repos),showOneRepo:e=>((e,t,n)=>{const s=n.reduce(((t,n)=>{let{id:s}=n;return s===e?t:[...t,s]}),[]);O1e(t,s)})(e,t,n.repos),showAllRepos:()=>(e=>O1e(e,[]))(t)}}const _2e=[R1e.deselectedRepos],v2e=e=>{const{workspaceId:t,repos:n}=e,s=w1e(t);return Ye.createElement(a1e,{repos:n,observeKeys:_2e,cacheKey:s,state:g2e,actions:f2e},(t=>Ye.createElement(g0e,h2e({},e,t))))};v2e.propTypes={repos:SI().arrayOf(SI().shape({id:SI().number})).isRequired,workspaceId:SI().string.isRequired};const I2e=ol,b2e=E2e.toggleDropdown.bind(void 0,I2e),y2e=S1e.isActiveDropdown(I2e);const S2e=(0,l3.$j)((function(e,t){const{repos:n}=t;return{defaultRepoId:Ba(e),isActive:y2e(e),repos:n}}),(function(e){return{...(0,mr.DE)({toggleOpen:b2e},e)}}))(v2e),w2e=S2e;class R2e extends Ye.Component{constructor(){super(...arguments),this.getButtonName=()=>{const{title:e,selectedPipeline:t}=this.props;return Ye.createElement("div",{className:"zhu-text-ellipsis"},Ye.createElement("span",{className:"zhu-color-text-secondary-dark"},`${e} - `),Ye.createElement("span",{className:"zhu-font-bold"},t?t.name:""))},this.getTooltip=()=>{const{title:e,selectedPipeline:t}=this.props;return t?t.name:e}}renderPipelines(){const{pipelines:e,selectedPipeline:t,onSelect:n}=this.props;return e.map((e=>{let{name:s,id:r,isDisabled:i}=e;return Ye.createElement(Wje,{isDisabled:i,name:s,key:r,filterKey:{name:s,id:r},selected:!!t&&r===t.id,select:n})}))}render(){const{isActive:e,description:t,title:n,toggleOpen:s}=this.props;return Ye.createElement(Ome,{buttonName:this.getButtonName(),listTitle:n,filterableChildProp:"name",toggleOpen:s,clearFilterAlwaysOn:!1,isActive:e,modifiers:["full-width","ccr-pipelines"],filterDefaultText:"Filter by pipeline",allowNegatedSearch:!1,listDescription:t,tooltipContent:this.getTooltip()},this.renderPipelines())}}R2e.propTypes={description:SI().string.isRequired,isActive:SI().bool.isRequired,pipelines:SI().arrayOf(SI().object).isRequired,title:SI().string.isRequired,toggleOpen:SI().func.isRequired,onSelect:SI().func.isRequired,selectedPipeline:SI().shape({id:SI().string.isRequired,name:SI().string.isRequired})},R2e.defaultProps={selectedPipeline:null};const T2e=R2e,{onboarding:C2e}=LG;function k2e(e,t){let{pipelines:n}=t;const{[R1e.startPipeline]:s,[R1e.endPipeline]:r}=e,i=s2e(s,n),o=s2e(r,n);return{startPipeline:i,endPipeline:o,selectableStartPipelines:o2e(o,n),selectableEndPipelines:a2e(i,n)}}function O2e(e,t){return{selectStartPipeline:e=>N1e(t,e),selectEndPipeline:e=>P1e(t,e)}}const N2e=[R1e.startPipeline,R1e.endPipeline];class P2e extends Ye.PureComponent{constructor(e){super(e),this.toggleOpen=e=>()=>{this.setState((t=>{let{openDropdown:n}=t;return{openDropdown:n===e?null:e}}))},this.state={openDropdown:null}}render(){const{pipelines:e,workspaceId:t,dismissInfoAlert:n,infoAlertDismissed:s}=this.props,{openDropdown:r}=this.state,i={[R1e.startPipeline]:e[0].id,[R1e.endPipeline]:e[e.length-1].id},o=w1e(t);return Ye.createElement(a1e,{cacheKey:o,pipelines:e,defaultState:i,state:k2e,actions:O2e,observeKeys:N2e},(e=>{const{selectableStartPipelines:t,selectableEndPipelines:i,startPipeline:o,endPipeline:a,selectStartPipeline:l,selectEndPipeline:c}=e,d=this.toggleOpen("start"),u=this.toggleOpen("end");return Ye.createElement("div",{className:"zhc-reports-pipelines"},Ye.createElement(T2e,{pipelines:t,title:"Start pipeline",isActive:"start"===r,toggleOpen:d,onSelect:e=>{l(e.filterKey),s||n(),d()},selectedPipeline:o,description:"Once an issue enters this pipeline it will be considered started"}),Ye.createElement(T2e,{pipelines:i,title:"Completed pipeline",isActive:"end"===r,toggleOpen:u,onSelect:e=>{c(e.filterKey),u()},selectedPipeline:a,description:"Once an issue enters this pipeline, or any subsequent pipelines, it will be considered complete"}))}))}}P2e.propTypes={dismissInfoAlert:SI().func.isRequired,infoAlertDismissed:SI().bool.isRequired,pipelines:SI().arrayOf(SI().object).isRequired,workspaceId:SI().string.isRequired};const A2e=(0,l3.$j)((e=>({infoAlertDismissed:sw(e)})),(e=>({dismissInfoAlert:()=>{e(C2e.setOnboardingValue({key:"ccr_info_alert_dismissed",value:!0}))}})))(P2e),D2e={day:{name:"Days",id:"day"},week:{name:"Weeks",id:"week"}},L2e=e=>{let{name:t}=e;return Ye.createElement("div",{className:"zhc-selection-list-item"},t)};L2e.propTypes={name:SI().string.isRequired};const z2e=yEe(L2e),M2e=e=>{let{isActive:t,toggleOpen:n,onSelect:s,selectedScale:r}=e;return Ye.createElement(Ome,{allowSearch:!1,buttonName:D2e[r].name,filterableChildProp:"name",isActive:t,listTitle:"Date scale",modifiers:["full-width","ccr-scale"],position:kte.RIGHT,toggleOpen:n},Object.values(D2e).map((e=>{let{name:t,id:n}=e;return Ye.createElement(z2e,{filterKey:{name:t,id:n},key:n,name:t,select:s,selected:n===r})})))};M2e.propTypes={isActive:SI().bool.isRequired,toggleOpen:SI().func.isRequired,onSelect:SI().func.isRequired,selectedScale:SI().string},M2e.defaultProps={selectedScale:"day"};const x2e=M2e;function F2e(e){const{[R1e.scale]:t}=e;return{scale:t}}function U2e(e,t){return{selectScale:e=>t({[R1e.scale]:e})}}const B2e={[R1e.scale]:"day"},q2e=[R1e.scale];class H2e extends Ye.PureComponent{constructor(e){super(e),this.toggleOpen=()=>{this.setState((e=>{let{isDropDownActive:t}=e;return{isDropDownActive:!t}}))},this.state={isDropDownActive:!1}}render(){const{workspaceId:e}=this.props,{isDropDownActive:t}=this.state,n=w1e(e);return Ye.createElement(a1e,{cacheKey:n,defaultState:B2e,state:F2e,actions:U2e,observeKeys:q2e},(e=>{const{selectScale:n,scale:s}=e;return Ye.createElement(x2e,{isActive:t,toggleOpen:this.toggleOpen,onSelect:e=>{const{id:t}=e.filterKey;n(t),this.toggleOpen()},selectedScale:s})}))}}H2e.propTypes={workspaceId:SI().string.isRequired};const W2e=(0,l3.$j)((e=>({infoAlertDismissed:sw(e)})))(H2e);function j2e(e){const{[R1e.includePullRequests]:t}=e;return{includePullRequests:i2e(t)}}function G2e(e,t){const n=R1e.includePullRequests,s=i2e(e[n]);return{toggleIncludePullRequests:()=>t({[n]:!s})}}const K2e=[R1e.includePullRequests],V2e=e=>{let{workspaceId:t}=e;const n={[R1e.includePullRequests]:"false"};return Ye.createElement(a1e,{cacheKey:w1e(t),defaultState:n,state:j2e,actions:G2e,observeKeys:K2e},(e=>{let{includePullRequests:t,toggleIncludePullRequests:n}=e;return Ye.createElement(Fje,{isActive:t,toggleOff:n,toggleOn:n})}))},$2e={},Z2e=bb.Ps`
  query ControlChartInputs($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      pipelines(includeClosed: true) {
        id
        name
      }
      repositories {
        id: ghId
        orgName: ownerName
        name
        labels {
          nodes {
            id
            color
            name
          }
        }
      }
    }
  }
`;const Y2e="yQyrmAoJD3MsbDvBZrOx",J2e=e=>{let{children:t}=e;return Ye.createElement("div",{className:Y2e},t)},X2e=e=>{const{[R1e.labels]:t,[R1e.excludedLabels]:n}=e;return{labels:Array.isArray(t)?t:[],excludedLabels:Array.isArray(n)?n:[]}},Q2e=E8.REPORTS_FILTER_LABELS.shortcuts,e3e=(e,t)=>{e[R1e.labels];return{clearAllLabels:()=>((e,t)=>{t({[R1e.labels]:[],[R1e.excludedLabels]:[]})})(0,t),excludeLabel:n=>((e,t,n)=>{const{[R1e.excludedLabels]:s=[]}=t,r=[...s,e];n({[R1e.excludedLabels]:r})})(n,e,t),selectLabel:n=>((e,t,n)=>{const{[R1e.labels]:s=[]}=t,r=[...s,e];n({[R1e.labels]:r})})(n,e,t),deselectLabel:n=>((e,t,n)=>{const{[R1e.labels]:s=[],[R1e.excludedLabels]:r=[]}=t,i=s.filter?.((t=>t!==e))??[],o=r.filter?.((t=>t!==e))??[];n({[R1e.labels]:i,[R1e.excludedLabels]:o})})(n,e,t)}},t3e=e=>{let{workspaceId:t}=e;const[n,s]=(0,Ye.useState)(!1),{loading:r,error:i,data:o}=function(e){const t={...$2e,...e};return cy.a(Z2e,t)}({variables:{workspaceId:t},fetchPolicy:"no-cache"}),a=o?.workspace?.repositories,l=(0,Ye.useMemo)((()=>(e=>{const t=(e??[]).flatMap((e=>e.labels.nodes)).sort(((e,t)=>e.name<t.name?-1:1));return d$([nd,...t],(e=>e.name))})(a??[])),[a]);return r||i?null:Ye.createElement(a1e,{cacheKey:w1e(t),defaultState:{},state:X2e,actions:e3e,observeKeys:[R1e.labels,R1e.excludedLabels]},(e=>{let{labels:r,excludedLabels:i,selectLabel:c,deselectLabel:d,excludeLabel:u,clearAllLabels:p}=e;const m=_0e(l,r,i),h=[...f0e(r,d),...f0e(i,d,(e=>`not:${e}`))];return Ye.createElement(Ye.Fragment,null,Ye.createElement(A2e,{"data-cy":"reports-pipelines-repos",pipelines:o?.workspace?.pipelines,workspaceId:t}),Ye.createElement(J2e,null,Ye.createElement(w2e,{modifiers:["ccr-repos"],repos:a,workspaceId:t}),Ye.createElement(V2e,{workspaceId:t}),Ye.createElement(WWe,{activeFilter:Boolean(r.length+i.length),clearFilter:p,deselectItem:e=>d(e.filterKey),isActive:n,labels:m,selectItem:e=>e.negated?u(e.filterKey):c(e.filterKey),toggleOpen:()=>s(!n),shortcuts:Q2e,onShortcutsUsed:()=>s(!0)}),Ye.createElement(W2e,{workspaceId:t})),Ye.createElement(yGe,{clearAll:p,hideStats:!0,tags:h}))}))};class n3e extends Ye.Component{constructor(e){super(e),this.onMouseEnter=()=>{this.setState({isOpen:!0},this.checkTooltipWidth)},this.onMouseMove=e=>{this.setState({left:e.pageX,top:e.pageY})},this.onMouseLeave=()=>{this.setState({isOpen:!1})},this.checkTooltipWidth=()=>{const{current:e}=this.tooltipContainer,{halfOfTooltipWidth:t}=this.state;e&&!t&&this.setState({halfOfTooltipWidth:e.offsetWidth/2})},this.state={isOpen:!1,left:0,top:0},this.tooltipContainer=Ye.createRef()}render(){const{tooltip:e,target:t}=this.props,{left:n,top:s,isOpen:r,halfOfTooltipWidth:i}=this.state,o=`translate3d(${Iqe(n,i,window.innerWidth)}px, ${s}px, 0px)`;return Ye.createElement("g",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},r&&Ye.createElement(ine,null,Ye.createElement("div",{className:"zhc-svg-tooltip-container",style:{transform:o},ref:this.tooltipContainer},e)),t)}}n3e.propTypes={target:SI().node.isRequired,tooltip:SI().node.isRequired};const s3e=n3e,r3e=(0,EQ.Z)(),i3e=(0,ee.vgT)("x"),o3e=(0,ee.vgT)("y"),a3e=e=>{let{strokeColor:t,strokeWidth:n,tooltipContent:s,xScale:r,yValue:i,yScale:o}=e;const a=o(i),l=r.range(),c=[{x:(0,bHe.Z)(l),y:a},{x:(0,pqe.Z)(l),y:a}],d=Ye.createElement(Hqe,{data:c,style:{strokeOpacity:0,strokeWidth:14},x:i3e,xScale:r3e,y:o3e,yScale:r3e});return Ye.createElement(gqe,{classNames:"zhc-chart-horizontal-line"},Ye.createElement(Hqe,{data:c,style:{stroke:t,strokeWidth:n},xScale:r3e,x:i3e,y:o3e,yScale:r3e}),s&&Ye.createElement(s3e,{tooltip:s,target:d}))};a3e.propTypes={xScale:SI().func.isRequired,yScale:SI().func.isRequired,yValue:SI().number.isRequired,strokeColor:SI().string,strokeWidth:SI().number,tooltipContent:SI().node},a3e.defaultProps={strokeColor:null,strokeWidth:2,tooltipContent:null};const l3e=a3e,c3e=e=>[...new Set([Math.min(...e),Math.max(...e)])],d3e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(e)){const n=c3e(e);return`${n.map((e=>(0,_t.Jd)(e,t))).join(" - ")} ${(0,_t.fB)("day","days",Math.max(...n))}`}return`${(0,_t.Jd)(e,t)} ${(0,_t.fB)("day","days",e)}`},u3e=e=>{const[t,n]=e,s=Ip(t),r=s.format("MMMM D");if(!n)return r;const i=Ip(n),o=s.year(),a=i.year();return`${r} - ${i.format("MMMM D"+(o!==a?", YYYY":""))}`},p3e=e=>{let{dateRangeStart:t,dateRangeEnd:n,avgDuration:s,endPipelineName:r}=e;return Ye.createElement(IHe,{modifiers:["control-chart"]},Ye.createElement(vHe,{modifiers:["border-bottom"]},Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement(uoe,null),Ye.createElement("span",{className:"zhu-font-bold"},u3e([t,n])))),Ye.createElement(vHe,{title:`Average days to ${r}`},Ye.createElement("div",{className:"zhu-font-bold"},d3e(s,1))))};p3e.propTypes={avgDuration:SI().number.isRequired,dateRangeEnd:SI().instanceOf(Date).isRequired,dateRangeStart:SI().instanceOf(Date).isRequired,endPipelineName:SI().string.isRequired};const m3e=p3e,h3e=e=>{let{endDate:t,rollingAverage:n,standardDeviation:s}=e;return Ye.createElement(IHe,{modifiers:["control-chart"]},Ye.createElement(vHe,{modifiers:["border-bottom"]},Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement(uoe,null),Ye.createElement("span",{className:"zhu-font-bold"},u3e([t])))),Ye.createElement(vHe,{title:"Rolling average"},Ye.createElement("div",{className:"zhu-font-bold"},d3e(n,1))),Ye.createElement(vHe,{modifiers:["collapse-above"],title:"Standard deviation"},Ye.createElement("div",{className:"zhu-font-bold"},"\xb1",d3e(s,1))))},E3e=e=>{let{dateRange:t,duration:n,issues:s,isOutlier:r}=e;return Ye.createElement(IHe,{modifiers:["control-chart"]},Ye.createElement(vHe,{modifiers:["border-bottom"]},Ye.createElement("div",{className:"zhu-flex zhu-flex--align-center"},Ye.createElement(uoe,null),Ye.createElement("span",{className:"zhu-font-bold"},u3e(t)))),Ye.createElement(vHe,null,(e=>{const{shownIssues:t,numberOfRemainingIssues:n}=e.slice(0,3).reduce(((e,t)=>{if(e.leftChars>0){const{title:n,issueNumber:s}=t;e.shownIssues=[...e.shownIssues,{issueNumber:s,title:`${n.substring(0,e.leftChars)}${n.length>e.leftChars?"\u2026":""}`}],e.leftChars-=n.length,e.numberOfRemainingIssues-=1}return e}),{leftChars:144,shownIssues:[],numberOfRemainingIssues:e.length}),s=t.map((e=>{let{issueNumber:t,title:n}=e;return`#${t} ${n}`})).join(", "),r=n>0?`, (and ${n} more ${(0,_t.fB)("issue","issues",n)}\u2026)`:"";return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:"zhu-font-bold"},s),r)})(s)),Ye.createElement(vHe,{modifiers:["collapse-above"],title:"Completed in"},Ye.createElement("div",{className:"zhu-font-bold"},d3e(n),r?` (${(0,_t.fB)("outlier","outliers",s.length)})`:"")))};E3e.propTypes={dateRange:SI().arrayOf(SI().string).isRequired,duration:SI().oneOfType([SI().number,SI().arrayOf(SI().number)]).isRequired,issues:SI().arrayOf(SI().object).isRequired,isOutlier:SI().bool},E3e.defaultProps={isOutlier:!1};const g3e=E3e,f3e="var(--zh-theme-color-brand-blue-primary",_3e="var(--zh-theme-color-bg-light)",v3e="var(--zh-theme-color-light-blue-primary)",I3e="var(--zh-theme-color-green-primary)",b3e="var(--zh-theme-color-chart-overlay)";function y3e(){return y3e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},y3e.apply(this,arguments)}const S3e={fill:f3e,stroke:f3e,strokeWidth:2},w3e={fill:_3e,stroke:f3e,strokeWidth:2},R3e={fill:I3e,stroke:"var(--zh-theme-color-text-inverse)",strokeWidth:2},T3e={dateRange:e=>e.dateRange,duration:e=>e.duration,issues:e=>e.issues},C3e={dateRange:e=>[e.issues[0].endDate],duration:e=>e.duration,issues:e=>e.issues},k3e={dateRange:e=>e.dateRange,duration:e=>e.issues.map((e=>{let{duration:t}=e;return t})),issues:e=>e.issues},O3e={endDate:e=>e.endDate,rollingAverage:e=>e.rollingAverage,standardDeviation:e=>e.standardDeviation},N3e=e=>new Date(`${e.endDate}T00:00:00.000`),P3e=e=>e.duration,A3e=(0,ee.vgT)("rollingAverage"),D3e=e=>`${e.endDate}-${e.duration}`;class L3e extends Ye.PureComponent{render(){const{data:e,dateRangeStart:t,dateRangeEnd:n,dateScale:s,endPipelineName:r,height:i,marginTop:o,marginLeft:a,marginRight:l,marginBottom:c,width:d}=this.props,u=Object.keys(V1e),p=(e=>{const t=(0,ee.jge)("duration",e),n=j1e(t);return(0,ee.J69)(t)+2*n})(e.issues),[m,h]=((e,t)=>(0,ee.uKc)((e=>{let{duration:n}=e;return n<=t}),e))(e.issues,p),E=((e,t)=>G1e(e,t,(e=>{let{endDate:t,duration:n}=e;return`${t}-${n}`})))(m,s),g=K1e(h,s),{single:f,cluster:_}=$1e(g),v=()=>p,I=K1e(e.issues,s),b=((e,t,n)=>{const s=e[0],r=e[e.length-1],i=[...e],o=Ip(s.endDate),a=Ip(r.endDate),l=Ip(t),c=Ip(n),d=!l.isSame(o,"day"),u=!c.isSame(a,"day");if(d){const e={...s,endDate:l.format(hp)};i.unshift(e)}if(u){const e={...r,endDate:c.format(hp)};i.push(e)}return i})(I,t,n),y=b.map((e=>{const{standardDeviation:t}=e;return{...e,layerHeights:{[V1e.transparentLayer]:e.rollingAverage-t,[V1e.shadedLayer]:2*t}}}));const S=(0,Yqe.Z)().keys(u).value(((e,t)=>(0,ee.ETc)(["layerHeights",t],e)))(y),{single:w,cluster:R}=$1e(E),T=i-o-c,C=d-a-l,k=(0,UGe.Z)().domain([t,n]).range([5,C]),O=(0,EQ.Z)().domain([0,p]).range([T,0]),N=(0,ee.ETc)(["stats","duration","mean"],e),P={avgDuration:N,dateRangeStart:t,dateRangeEnd:n,endPipelineName:r},A=S.map(((e,t)=>Ye.createElement(Qqe,{color:0===t?"none":b3e,data:e,key:0===t?V1e.transparentLayer:V1e.shadedLayer,x:N3e,xScale:k,yScale:O}))),D=gHe(h3e,xqe),L=gHe(g3e,xqe),z=gHe(g3e,Uqe),M=Ye.createElement(L,{radius:4,style:w3e}),x=Ye.createElement(L,{radius:4,style:S3e}),F=Ye.createElement(D,{radius:10,style:{fillOpacity:0}}),U=Ye.createElement(xqe,{radius:4,style:R3e}),B=Ye.createElement(z,{direction:"up",color:f3e,borderColor:f3e,isOutlier:!0}),q=Ye.createElement(z,{direction:"up",color:_3e,borderColor:f3e,isOutlier:!0}),H={xScale:k,yScale:O,x:N3e,y:P3e};return Ye.createElement("div",{className:"zhc-control-chart","data-cy":"control-chart"},Ye.createElement("div",{className:"zhc-control-chart__left-axis"},Ye.createElement(hqe,{height:i-o,width:50},Ye.createElement(uHe,{yScale:O,width:C,marginLeft:a,marginTop:o,label:"Days to complete",showGridLine:!0}))),Ye.createElement("div",{className:"zhc-control-chart__chart"},Ye.createElement(hqe,{height:i+o,width:C},Ye.createElement(gqe,{marginTop:o},Ye.createElement(hqe,{classNames:"zhc-control-chart__stackarea-layer",height:T,width:d-50},A),Ye.createElement(hHe,{xScale:k,marginTop:T,label:"Completed"}),!(0,_t.KN)(e.issues)&&Ye.createElement(l3e,{xScale:k,yScale:O,yValue:N,strokeColor:v3e,tooltipContent:Ye.createElement(m3e,P),strokeWidth:3}),!(0,_t.KN)(I)&&Ye.createElement(Wqe,y3e({},H,{data:b,y:A3e,style:{stroke:I3e,strokeWidth:3}})),!(0,_t.KN)(I)&&Ye.createElement(Zqe,y3e({},H,{data:I,y:A3e,marker:U,markerKey:D3e,mapper:O3e,modifiers:["appear-on-hover"],hoverTarget:F})),!(0,_t.KN)(R)&&Ye.createElement(Zqe,y3e({},H,{data:R,marker:x,mapper:T3e,markerKey:D3e})),!(0,_t.KN)(w)&&Ye.createElement(Zqe,y3e({},H,{data:w,marker:M,mapper:C3e,markerKey:D3e})),!(0,_t.KN)(_)&&Ye.createElement(Zqe,y3e({},H,{data:_,y:v,marker:B,markerKey:D3e,mapper:k3e})),!(0,_t.KN)(f)&&Ye.createElement(Zqe,y3e({},H,{data:f,y:v,marker:q,markerKey:D3e,mapper:C3e}))))))}}L3e.propTypes={data:SI().shape({issues:SI().arrayOf(SI().shape({duration:SI().number,endDate:SI().string,estimate:SI().number,groupKeys:SI().shape({day:SI().string,week:SI().string}),issueNumber:SI().number,repoId:SI().number,repoName:SI().string,startDate:SI().string,stats:SI().shape({rollingAverage:SI().number,standardDeviation:SI().number}),title:SI().string})),stats:SI().shape({count:SI().number,duration:SI().shape({endRollingAverage:SI().shape({count:SI().number,value:SI().number}),max:SI().number,mean:SI().number,median:SI().number,min:SI().number}),estimate:SI().shape({sum:SI().number})})}).isRequired,dateRangeEnd:SI().instanceOf(Date).isRequired,dateRangeStart:SI().instanceOf(Date).isRequired,dateScale:SI().string.isRequired,endPipelineName:SI().string.isRequired,height:SI().number,marginBottom:SI().number,marginLeft:SI().number,marginRight:SI().number,marginTop:SI().number,width:SI().number},L3e.defaultProps={height:400,marginBottom:40,marginLeft:50,marginRight:40,marginTop:15,width:1060};const z3e=L3e,M3e="circle",x3e="line",F3e=[{label:"Issue",type:M3e,color:f3e,backgroundColor:_3e},{label:"Grouped issues",type:M3e,color:f3e,backgroundColor:f3e},{label:"Average",type:x3e,color:v3e},{label:"Rolling average",type:x3e,color:I3e},{label:"Standard deviation",type:"square",color:b3e}],U3e=()=>Ye.createElement(zqe,{items:F3e}),B3e=e=>{let{isOpen:t,onClickClose:n}=e;return Ye.createElement(TWe,{buttonText:"Learn more",buttonUrl:"https://help.zenhub.com/support/solutions/articles/43000300345",content:"The control chart shows how long an issue takes from start to finish.\n  You can customize the starting and ending pipelines to help identify where bottlenecks occur in\n  your process. An average is calculated to help predict upcoming issue velocity.",isOpen:t,title:"How to read a control chart",onClickClose:n})},q3e=e=>{let{children:t,isInfoInitiallyOpen:n=!1,title:s="Control chart"}=e;const[r,i]=(0,Ye.useState)(n);return Ye.createElement(Ye.Fragment,null,Ye.createElement(kWe,null,Ye.createElement(PWe,null,s),t,Ye.createElement("span",{className:"zhc-chart-container__info-toggle zhu-cursor-pointer",onClick:()=>i(!r)},Ye.createElement(T9,null))),Ye.createElement(B3e,{isOpen:r,onClickClose:()=>i(!1)}))},H3e=e=>{let{iconPath:t,bodyStyle:n,children:s,title:r}=e;return Ye.createElement("div",{className:"zhc-control-chart-report__chart_stat"},Ye.createElement("div",{className:"zhc-chart-stat-icon"},Ye.createElement(t7,{src:t})),Ye.createElement("div",null,Ye.createElement("div",{className:"zhc-chart-stat-title"},r),Ye.createElement("div",{className:"zhc-chart-stat-body",style:n},s)))};H3e.propTypes={children:SI().node.isRequired,iconPath:SI().string.isRequired,title:SI().oneOfType([SI().string,SI().node]).isRequired,bodyStyle:SI().shape({})},H3e.defaultProps={bodyStyle:{}};const W3e=H3e,j3e=n.p+"../../img/built/control-chart-average.svg",G3e=n.p+"../../img/built/control-chart-issues-moved.svg",K3e=n.p+"../../img/built/control-chart-median.svg",V3e=n.p+"../../img/built/control-chart-max-time.svg",$3e=n.p+"../../img/built/control-chart-min-time.svg",Z3e=n.p+"../../img/built/control-chart-rolling-average.svg",Y3e=(e,t)=>`${(0,_t.Jd)(e,t)} ${(0,_t.fB)("day","days",e)}`,J3e=e=>Ye.createElement("span",null,"Rolling average for last"," ",Ye.createElement("span",{className:"zhc-chart-emphasis"},e," issues")),X3e=e=>{const{startPipelineName:t,endPipelineName:n,duration:s,estimate:r,count:i}=e,{max:o,mean:a,median:l,min:c,endRollingAverage:d}=s;return Ye.createElement("div",{className:"zhc-control-chart-report__stats","data-cy":"chart-report-stats"},Ye.createElement(W3e,{iconPath:G3e,title:(p=t,m=n,Ye.createElement("span",null,"Issues moved from ",Ye.createElement("span",{className:"zhc-chart-emphasis"},p)," to",Ye.createElement("span",{className:"zhc-chart-emphasis"}," ",m)))},`${u=i} ${(0,_t.fB)("issue","issues",u)}`,r.sum&&Ye.createElement(Ye.Fragment,null,Ye.createElement("span",null," | "),Ye.createElement(sqe,{type:ZBe.ESTIMATE_CLOSED,value:r.sum}))),Ye.createElement(W3e,{iconPath:j3e,title:"Average",bodyStyle:{color:v3e}},Y3e(a,1)),Ye.createElement(W3e,{iconPath:V3e,title:"Max time"},Y3e(o,0)),Ye.createElement(W3e,{iconPath:Z3e,title:J3e(d.count),bodyStyle:{color:I3e}},Ye.createElement("span",null,Y3e(d.value,1))),Ye.createElement(W3e,{iconPath:$3e,title:"Min time"},Y3e(c,0)),Ye.createElement(W3e,{iconPath:K3e,title:"Median",bodyStyle:{color:I3e}},Y3e(l,1)));var u,p,m};X3e.propTypes={count:SI().number.isRequired,duration:SI().shape({endRollingAverage:SI().shape({count:SI().number,value:SI().number}),max:SI().number,mean:SI().number,median:SI().number,min:SI().number}).isRequired,endPipelineName:SI().string.isRequired,estimate:SI().shape({sum:SI().number}).isRequired,startPipelineName:SI().string.isRequired};const Q3e=X3e,e6e=e=>{let{className:t}=e;return Ye.createElement("svg",{width:"750",height:"350",viewBox:"0 0 750 350",className:t,xmlns:"http://www.w3.org/2000/svg"},Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M750 103.04L562.5 11.176 375 67.223l-187.5 1.864L0 0v350h187.5L375 280l187.5 20L750 240z",fill:"currentColor",opacity:"0.5"}),Ye.createElement("path",{d:"M.5 165.5h750",stroke:"currentColor",strokeWidth:"4"})))},t6e="eNQAsC5c8_TSHuSkshHa",n6e="wfjM0e4udG75rpBCj33w",s6e="VnL2_zAaKO5TerPGPDc_",r6e="r9SXCxSzctCUNNkFNlSU",i6e=Vne(!0,!0);class o6e extends Ye.Component{constructor(){super(...arguments),this.getIssueLink=e=>{let{issueNumber:t,repoName:n,title:s,organization:r}=e;const{currentWorkspace:i}=this.props;return Yne({issue_number:t,repository:n,organization:r,workspace:i},s,i6e)},this.createHeaders=()=>{const{startPipelineName:e,endPipelineName:t}=this.props;return[{key:"Completed issues",content:"Completed issues"},{key:"Started",content:Ye.createElement(Ye.Fragment,null,"Started",Ye.createElement("div",{className:t6e},e))},{key:"Completed",content:Ye.createElement(Ye.Fragment,null,Ye.createElement("div",null,"Completed"),Ye.createElement("div",{className:t6e},t))},{key:"Completion time",content:"Completion time"},{key:"Estimate",content:"Estimate"}]},this.createRows=e=>{let{title:t,startDate:n,endDate:s,duration:r,issueNumber:i,estimate:o,repoName:a,cached_repo_owner:l}=e;return[{key:i.toString(),content:Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:n6e,"data-cy":"issue-name"},this.getIssueLink({title:t,issueNumber:i,repoName:a,organization:l})),Ye.createElement("div",{className:s6e},`${a} #${i}`))},{key:"start",content:Ye.createElement("span",{className:r6e},qp(n))},{key:"end",content:Ye.createElement("span",{className:r6e},qp(s))},{key:"duration",content:Ye.createElement("span",{className:r6e},0===r?"Less than a day":`${r} ${(0,_t.fB)("day","days",r)}`)},{key:"estimate",content:!(0,_t.KN)(o)&&Ye.createElement(sqe,{type:ZBe.ESTIMATE_CLOSED,value:o})}]}}render(){const{issues:e}=this.props;return Ye.createElement(n0e,{headers:this.createHeaders(),modifiers:["fixed-first-column","control-chart"],showMoreButtonText:"Show more completed issues",rows:e.map(this.createRows),initialNumberOfRows:10})}}o6e.propTypes={currentWorkspace:SI().shape({}).isRequired,endPipelineName:SI().string.isRequired,issues:SI().arrayOf(SI().shape({duration:SI().number.isRequired,endDate:SI().string.isRequired,issueNumber:SI().number.isRequired,repoId:SI().number.isRequired,repoName:SI().string.isRequired,startDate:SI().string.isRequired,title:SI().string.isRequired,estimate:SI().number})).isRequired,startPipelineName:SI().string.isRequired};const a6e=o6e,l6e=e=>{let{startPipelineName:t,endPipelineName:n,issues:s,workspaceName:r,onClick:i}=e;const o=((e,t)=>["Repo","Issue Title","Estimate",`Started ${e}`,`Moved To ${t}`,"Completion Time (Days)"])(t,n),a=(e=>e.map((e=>{let{repoName:t,issueNumber:n,title:s,estimate:r,startDate:i,endDate:o,duration:a}=e;return[t,`#${n} - ${s}`,null==r?"":r,Kp(i),Kp(o),0===a?1:a]})))(s),l=((e,t)=>`Control chart - ${e} - ${t}.csv`)(r,Wp());return Ye.createElement(dNe,{copyLinkText:"Copy link to report",copyLinkToPage:iNe.CONTROL_CHART},Ye.createElement(LWe,{csvData:[o,...a],fileName:l,onClick:i}))};l6e.propTypes={endPipelineName:SI().string.isRequired,issues:SI().arrayOf(SI().shape({duration:SI().number.isRequired,endDate:SI().string.isRequired,issueNumber:SI().number.isRequired,repoName:SI().string.isRequired,startDate:SI().string.isRequired,title:SI().string.isRequired,estimate:SI().number})).isRequired,startPipelineName:SI().string.isRequired,workspaceName:SI().string.isRequired,onClick:SI().func},l6e.defaultProps={onClick:()=>{}};const c6e=l6e,d6e=n.p+"../../img/built/reports-control-chart.svg",u6e=e=>{let{boardPath:t}=e;return Ye.createElement(CBe,{boardPath:t,imageSrc:d6e,descriptionText:"Looks like there are no issues in the specified date range\nor pipelines. Move issues through the board to start tracking your process.",boardLinkText:"Head to the board.",h1Text:"No matching issues",showBoardLinkInline:!0})};u6e.propTypes={boardPath:SI().string.isRequired};const p6e=(0,pa.P1)(Na,(e=>(0,ma.getBoardPath)({workspace:e}))),m6e=(0,l3.$j)((e=>({boardPath:p6e(e)})))(u6e),h6e=m6e;function E6e(){return E6e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E6e.apply(this,arguments)}function g6e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{Reports:f6e}=os,{onboarding:_6e}=LG;function v6e(e,t){let{pipelines:n,issues:s=[]}=t;const{[R1e.endPipeline]:r,[R1e.startPipeline]:i,[R1e.dateFrom]:o,[R1e.dateTo]:a,[R1e.dateRangeKey]:l,[R1e.deselectedRepos]:c=[],[R1e.scale]:d,[R1e.includePullRequests]:u,[R1e.labels]:p,[R1e.excludedLabels]:m}=e,{dateFrom:h,dateTo:E,dateRangeKey:g}=l1e(l,"14d",o,a),{issues:f,stats:_}=(0,ee.zGw)(r2e,m2e,d2e(s),u2e(u),p2e(E))(c);return{dateFrom:bp(h,Ep),dateTo:bp(E,Ep),dateRangeKey:g,startPipeline:s2e(i,n),endPipeline:s2e(r,n),issues:f,labels:p||[],excludedLabels:m||[],stats:_,dateScale:d}}const I6e=[R1e.dateTo,R1e.dateFrom,R1e.dateRangeKey,R1e.deselectedRepos,R1e.startPipeline,R1e.endPipeline,R1e.scale,R1e.includePullRequests,R1e.labels,R1e.excludedLabels],b6e=bb.Ps`
  query ControlChartPipelines($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      pipelines(includeClosed: true) {
        id
        name
      }
    }
  }
`,y6e=()=>Ye.createElement("h3",null,"Error rendering for ControlChart");let S6e=!0;const w6e=(e,t)=>{if(!e.length&&!t.length)return"Control chart";const n=t.map((e=>`not:${e}`));return`Control chart by ${[...e,...n].join(", ")}`};class R6e extends Ye.PureComponent{constructor(e){var t;super(e),t=this,this.loadData=function(){var e,n=(e=function*(e,n,s){let{didStateChange:r}=n,{urlState:i,prevUrlState:o}=s;const{workspaceId:a,setMaxDateRangeError:l}=t.props,{dateFrom:c,dateTo:d,startPipeline:u,endPipeline:p,dateRangeKey:m,labels:h,excludedLabels:E}=e;if((0,_t.KN)(c)||(0,_t.KN)(d)||(0,_t.KN)(u)||(0,_t.KN)(p)||!r)return;const g=i1e(o,i);if(1===g.length&&(g.includes(R1e.deselectedRepos)||g.includes(R1e.scale)||g.includes(R1e.includePullRequests)))return;const{dateFrom:f,dateTo:_,maxDateRangeError:v}=(0,ee.zGw)(l1e,c1e({todaysDate:new Date}))(m,"14d",c,d);l(v),t.setState({loading:!0});const I=(0,ee.zGw)((0,ee.d$m)(Ip,[Ep]),yp),b=(0,ee.zGw)((0,ee.d$m)(Ip,[Ep]),wp,yp),y=e=>e?.filter?.((e=>Boolean(e)&&e!==ed))??[],{issues:S}=yield f6e.getControlChart(a,{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,startPipelineId:u.id,endPipelineId:p.id,dateFrom:I(f),dateTo:b(_),labels:y(h),excludedLabels:y(E),withoutLabels:h.includes(ed)?"true":"false"});t.setState({loading:!1,issues:S})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){g6e(i,s,r,o,a,"next",e)}function a(e){g6e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,t,s){return n.apply(this,arguments)}}(),this.state={loading:!1,issues:[],isFirstView:e.isFirstView}}componentDidMount(){const{isFirstView:e,setOnboardingValue:t}=this.props;r6(T1e,{Action:"Control Chart Viewed",Module:"Power"}),Q3({"Control Chart Views":1}),m6(v6.CONTROL_CHART_OPENED),e&&t("ccr_visited",!0)}componentDidUpdate(e,t){const{loading:n}=this.state;!t.loading||n||this.performanceEndMarked||(m6(v6.CONTROL_CHART_RENDERED),E6([I6.CONTROL_CHART_LOAD],(e=>[e.name,{Time:e.duration,IsCachedLoad:!S6e}])),this.performanceEndMarked=!0)}componentWillUnmount(){S6e=!1}render(){const{currentWorkspace:e,pipelines:t,workspaceId:n}=this.props,{issues:s,isFirstView:r}=this.state,i=w1e(n),o={[R1e.startPipeline]:t[0].id,[R1e.endPipeline]:t[t.length-1].id},a={...B1e,...o,...B2e,labels:[],excludedLabels:[]};return Ye.createElement(a1e,{cacheKey:i,state:v6e,defaultState:a,onUpdate:this.loadData,onLoad:this.loadData,observeKeys:I6e,pipelines:t,issues:s},(t=>{const{startPipeline:n,endPipeline:s,dateFrom:i,dateTo:o,issues:a,stats:l,dateScale:c}=t,{loading:d}=this.state;return d?Ye.createElement(m0e,{title:"Adding up issues\u2026",message:"Scattering points\u2026"},Ye.createElement(e6e,{className:"zhc-report-loading__svg-image"})):(0,_t.KN)(a)?Ye.createElement(h6e,null):Ye.createElement(ehe,{errorRender:y6e},Ye.createElement(CWe,null,Ye.createElement(q3e,{isInfoInitiallyOpen:r,title:w6e(t.labels,t.excludedLabels)},Ye.createElement(Iie,{href:"https://portal.productboard.com/zenhub/1-zenhub-portal/tabs/1-launched/submit-idea",pageName:"Control chart",text:"Give feedback"}),Ye.createElement(c6e,{onClick:()=>oje("Control"),startPipelineName:n.name,endPipelineName:s.name,issues:a,workspaceName:e.displayName})),Ye.createElement(U3e,null),Ye.createElement(z3e,{data:{issues:a,stats:l},dateRangeEnd:o,dateRangeStart:i,dateScale:c,endPipelineName:s.name}),Ye.createElement(Q3e,E6e({},l,{startPipelineName:n.name,endPipelineName:s.name}))),Ye.createElement(a6e,{startPipelineName:n.name,endPipelineName:s.name,issues:a,currentWorkspace:e}))}))}}R6e.propTypes={currentWorkspace:SI().shape({displayName:SI().string.isRequired}).isRequired,isFirstView:SI().bool.isRequired,pipelines:SI().arrayOf(SI().shape({id:SI().string})).isRequired,setMaxDateRangeError:SI().func.isRequired,setOnboardingValue:SI().func.isRequired,workspaceId:SI().string.isRequired};const T6e=e=>{const{workspaceId:t}=e,{loading:n,error:s,data:r}=(0,cy.a)(b6e,{variables:{workspaceId:t},fetchPolicy:"no-cache"});return n||s?null:Ye.createElement(R6e,E6e({pipelines:r.workspace.pipelines},e))};T6e.propTypes={workspaceId:SI().string.isRequired};const C6e=(0,l3.$j)((e=>({currentWorkspace:Na(e),workspaceId:Pa(e),isFirstView:!tw(e)})),(e=>({setOnboardingValue:(t,n)=>e(_6e.setOnboardingValue({key:t,value:n}))})))(T6e),{onboarding:k6e}=LG,O6e=e=>{let{isAlertDismissed:t,dismissInfoAlert:n}=e;return Ye.createElement(xSe,{key:"ccr-info-alert",isDismissed:t,linkText:"Learn more",linkHref:"https://help.zenhub.com/support/solutions/articles/43000300345",onClose:n},Ye.createElement("span",{className:"zhu-text-important"},"Tracking cycle time? "),'Set your pipeline range to "In Progress" and "Closed" to understand how long work takes to complete. ')};O6e.defaultProps={isAlertDismissed:!0},O6e.propTypes={dismissInfoAlert:SI().func.isRequired,isAlertDismissed:SI().bool};const N6e=(0,l3.$j)((e=>({isAlertDismissed:sw(e)})),(e=>({dismissInfoAlert(){e(k6e.setOnboardingValue({key:"ccr_info_alert_dismissed",value:!0}))}})))(O6e),P6e=N6e,A6e=bBe("CONTROL_CHART",(()=>{const e=(0,l3.v9)(Pa),[t,n]=(0,Ye.useState)(!1);return Ye.createElement(Ye.Fragment,null,Ye.createElement(yBe,{pageName:"Control chart"}),Ye.createElement("div",{className:"zhc-control-chart-report"},t&&Ye.createElement(T0e,{reportName:"Control chart",warningType:w0e.MAX_DATE}),Ye.createElement(W1e,{workspaceId:e}),Ye.createElement(t3e,{workspaceId:e}),Ye.createElement(P6e,null),Ye.createElement(C6e,{setMaxDateRangeError:n})))})),D6e=e=>{let{workspaceId:t,match:n}=e;return(0,Ye.useEffect)((()=>{mI(t,"reports")}),[]),Ye.createElement("div",{className:"zh-reports"},Ye.createElement($8.rs,null,Ye.createElement($8.AW,{path:`${n.path}/burndown`,component:g$e}),Ye.createElement($8.AW,{path:`${n.path}/velocity`,component:Sje}),Ye.createElement($8.AW,{path:`${n.path}/cumulative`,component:I1e}),Ye.createElement($8.AW,{path:`${n.path}/release`,component:LXe}),Ye.createElement($8.AW,{path:`${n.path}/control`,component:A6e}),Ye.createElement($8.AW,{path:`${n.path}/overview`,component:$Xe}),Ye.createElement($8.AW,{path:`${n.path}/`,exact:!0,component:IBe})))};D6e.propTypes={match:SI().shape({path:SI().string,url:SI().string}).isRequired,workspaceId:SI().string.isRequired},D6e.defaultProps={};const L6e=ee.zGw($8.EN,(0,l3.$j)((function(e){return{workspaceId:Pa(e)}})))(D6e),z6e=e=>{const t=null!==e.boardV2.filters.repos.value,n=null!==e.boardV2.filters.labels.in||null!==e.boardV2.filters.labels.nin,s=null!==e.boardV2.filters.assignees.in||null!==e.boardV2.filters.assignees.nin,r=null!==e.boardV2.filters.authors.in||null!==e.boardV2.filters.authors.nin,i=(null!==e.boardV2.filters.estimates.in||null!==e.boardV2.filters.estimates.nin)&&e.boardV2.filters.estimates.settings,o=(null!==e.boardV2.filters.epics.in||null!==e.boardV2.filters.epics.nin)&&null!==e.boardV2.filters.epics.settings,a=null!==e.boardV2.filters.sprints.value,l=null!==e.boardV2.filters.releases.in||null!==e.boardV2.filters.releases.nin,c=null!==e.boardV2.filters.milestones.value;return t&&n&&a&&s&&r&&i&&o&&l&&c},M6e=e=>[...e.boardV2.filters.labels.in||[],...e.boardV2.filters.labels.nin||[],...e.boardV2.filters.assignees.in||[],...e.boardV2.filters.assignees.nin||[],...e.boardV2.filters.authors.in||[],...e.boardV2.filters.authors.nin||[],...e.boardV2.filters.estimates.in||[],...e.boardV2.filters.estimates.nin||[],...e.boardV2.filters.epics.in||[],...e.boardV2.filters.epics.nin||[],...e.boardV2.filters.releases.in||[],...e.boardV2.filters.releases.nin||[],...e.boardV2.filters.sprints.value||[],...e.boardV2.filters.epics.settings||[],...e.boardV2.filters.estimates.settings||[],...e.boardV2.filters.milestones.value||[],...e.boardV2.filters.search?.length?[e.boardV2.filters.search]:[]],x6e=e=>{const{showOpenIssues:t,showPullRequests:n}=e.boardV2.settings;return t?n?null:Fi.Issues:Fi.Prs},F6e=()=>{const{repoGhIds:e,labels:t,assignees:n,epics:s,authors:r,estimates:i,sprints:o,epicSettings:a,estimateSettings:l,releases:c,milestones:d,search:u,matchLogic:p,displayType:m}=(0,l3.v9)((e=>({repoGhIds:e.boardV2.filters.repos.value,labels:e.boardV2.filters.labels,assignees:e.boardV2.filters.assignees,epics:e.boardV2.filters.epics,authors:e.boardV2.filters.authors,estimates:e.boardV2.filters.estimates,sprints:e.boardV2.filters.sprints.value,epicSettings:e.boardV2.filters.epics.settings,estimateSettings:e.boardV2.filters.estimates.settings,releases:e.boardV2.filters.releases,milestones:e.boardV2.filters.milestones.value,search:e.boardV2.filters.search,matchLogic:e.boardV2.filterLogic,displayType:x6e(e)})),Uoe()),h=(0,Ye.useMemo)((()=>mle(e,t,n,s,r,o,a,l,c,d,i,p,m)),[e,t.in,t.nin,n.in,n.nin,s.in,s.nin,r.in,r.nin,i.in,i.nin,o,a,l,c.in,c.nin,d,p,m]);return(0,Ye.useMemo)((()=>({filters:h,search:u})),[h,u])};function U6e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const B6e="GithubUpdatesChannel",q6e=()=>{console.error(`Subscription to "${B6e}" rejected`)},H6e=e=>{e.errors?.length&&console.error("FiltersChannel error",e.errors)},W6e=()=>{const e=(0,Ye.useRef)(),t=(0,Ye.useRef)(!1),n=(0,Ye.useRef)({}),s=(0,Ye.useRef)(),{filters:r}=F6e(),i=()=>{t.current=!0},o=()=>{t.current=!1},a=function(){var t,n=(t=function*(){e.current=yield ey({channel:B6e},{connected:i,disconnected:o,rejected:q6e,received:H6e})},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){U6e(i,s,r,o,a,"next",e)}function a(e){U6e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),l=()=>{if(!e.current||!t.current)return;const s=(e=>({repository_gh_ids:e.repositoryGhIds||[]}))(n.current);e.current.send(s)},c=()=>{document.hidden?window.clearInterval(s.current):(s.current&&window.clearInterval(s.current),l(),s.current=window.setInterval(l,4e3))};(0,Ye.useEffect)((()=>{n.current=r}),[r]),(0,Ye.useEffect)((()=>(a(),window.addEventListener("visibilitychange",c),s.current&&window.clearInterval(s.current),s.current=window.setInterval(l,4e3),()=>{window.removeEventListener("visibilitychange",c),clearInterval(s.current),t.current=!1,e.current?.unsubscribe(),e.current=void 0})),[])};function j6e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const G6e="FiltersChannel",K6e=(e,t)=>({[t]:{...e.in?{in:e.in}:{},...e.nin?{nin:e.nin}:{},...e.notInAny?{not_in_any:e.notInAny}:{}}}),V6e=(e,t)=>({[t]:{...e.id?K6e(e.id,"id"):{},...e.specialFilters?{special_filters:e.specialFilters}:{}}}),$6e=(e,t)=>({[t]:{...e.values?K6e(e.values,"values"):{},...e.specialFilters?{special_filters:e.specialFilters}:{}}}),Z6e=()=>{console.error('Subscription to "FiltersChannel" rejected')},Y6e=e=>{e.errors?.length&&console.error("FiltersChannel error",e.errors)},J6e=()=>{const e=(0,Ye.useRef)(),[t,n]=(0,Ye.useState)(!1),{filters:s,search:r}=F6e(),i=()=>{n(!0)},o=()=>{n(!1)},a=function(){var t,n=(t=function*(){e.current=yield ey({channel:G6e},{connected:i,disconnected:o,rejected:Z6e,received:Y6e})},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){j6e(i,s,r,o,a,"next",e)}function a(e){j6e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,Ye.useEffect)((()=>(a(),()=>{n(!1),e.current?.unsubscribe(),e.current=void 0})),[]),(0,Ye.useEffect)((()=>{if(!e.current||!t)return;const n=((e,t)=>{var n;return{filters:{repository_gh_ids:e.repositoryGhIds||[],...e.assignees?K6e(e.assignees,"assignees"):{},...e.users?K6e(e.users,"users"):{},...e.labels?K6e(e.labels,"labels"):{},...e.sprints?K6e(e.sprints,"sprints"):{},...e.epics?V6e(e.epics,"epics"):{},...e.estimates?$6e(e.estimates,"estimates"):{},...e.releases?K6e(e.releases,"releases"):{},...e.milestones?K6e(e.milestones,"milestones"):{},...e.displayType?(n=e.displayType,n&&n!==Fi.All?{display_type:n}:{}):{}},...t?{query:t}:{}}})(s,r);e.current.send(n)}),[t,s,r])},X6e=(e,t)=>void 0===e?t||!1:Boolean("true"===e),Q6e=e=>{const t={};return Object.keys(Jo).forEach((n=>{const s=Jo[n],r=rI(e,s),i=localStorage.getItem(r);i&&(t[s]=i)})),n=t,{...Xo,isCondensedViewEnabled:X6e(n.isCondensedViewEnabled,Xo.isCondensedViewEnabled),showClosedPipeline:X6e(n.showClosed,Xo.showClosedPipeline),showOpenIssues:X6e(n.showOpenIssues,Xo.showOpenIssues),showPullRequests:X6e(n.showPRs,Xo.showPullRequests),showLabels:X6e(n.showLabels,Xo.showLabels),showRepos:X6e(n.showRepos,Xo.showRepos),showReviewers:X6e(n.showReviewers,Xo.showReviewers),showReleases:X6e(n.showReleases,Xo.showReleases),showDependencies:X6e(n.showDependencies,Xo.showDependencies),showSprints:X6e(n.showMilestones,Xo.showSprints),showEstimates:X6e(n.showEstimates,Xo.showEstimates),showEpics:X6e(n.showEpics,Xo.showEpics),isFullScreen:!X6e(n.notFullScreen,Xo.isFullScreen)};var n},e4e=e=>{const t=(0,l3.oR)(),n=(0,l3.I0)();(0,Ye.useEffect)((()=>{let s=()=>{};if(e){const r=Q6e(e);n(hi(r)),s=aI(t)}return()=>s()}),[t,e,n])};function t4e(){return t4e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t4e.apply(this,arguments)}const n4e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--stop-white",t].filter(Boolean).join(" "),"aria-label":"stop-white",role:"img",...n};return Ye.createElement("svg",t4e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M10 1H4L0 5v6l4 4h6l4-4V5l-4-4zm3 9.5L9.5 14h-5L1 10.5v-5L4.5 2h5L13 5.5v5zM6 4h2v5H6V4zm0 6h2v2H6v-2z"}))},s4e=()=>Ye.createElement("div",{className:"zhc-readonly-banner"},Ye.createElement("span",{className:"zhc-readonly-banner__icon"},Ye.createElement(n4e,null)),Ye.createElement("span",{className:"zhc-readonly-banner__text"},Ye.createElement("strong",null,"This is a read-only ZenHub Board. "),Ye.createElement("span",{className:"zhc-readonly-banner__text__additional"},"To edit this Board, you must have write permissions for this repo."))),r4e=(e,t)=>!(0,_t.KN)(e)||!(0,_t.KN)(t),i4e=(e,t)=>1===e.length?`Apply ${t} to this Issue`:`Apply ${t} to these ${e.length} Issues`;function o4e(){return o4e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o4e.apply(this,arguments)}const a4e=SI().shape({title:SI().string.isRequired,color:SI().string,negated:SI().bool,selected:SI().bool});class l4e extends Ye.PureComponent{constructor(){super(...arguments),this.getEpicItems=()=>{const{epics:e,selectItem:t,deselectItem:n}=this.props;return(0,ee.kKJ)(e)?Ye.createElement(Fte,{text:"Refreshing Epic list..."}):(0,ee.xbD)(e)?Ye.createElement(Fte,{text:"Please create Epics in a connected repository."}):e.map((e=>Ye.createElement(aXe,o4e({},e,{key:e.filterKey,filterKey:e.filterKey,select:t,deselect:n}))))},this.getFooter=()=>{const{addEpic:e,removeEpic:t,onClickApply:n,onClickClose:s}=this.props;return Ye.createElement(qce,{onClickApply:n,onClickClose:s,activeSelection:!(0,_t.KN)(e)||!(0,_t.KN)(t)})}}componentDidUpdate(){const{epics:e}=this.props;(0,ee.kKJ)(e)||(m6(v6.MULTI_ACTION_EPICS_RENDERED),E6([I6.MULTI_ACTION_EPICS_LOAD],(e=>[e.name,{Time:e.duration}])))}render(){const{selectedIssues:e}=this.props;return Ye.createElement("div",{className:"zhc-epic-multi-action"},Ye.createElement(zIe,o4e({},this.props,{allowNegatedSearch:!1,filterableChildProp:"title",filterDefaultText:"Filter Epics",footer:this.getFooter(),listTitle:i4e(e,"an Epic"),name:"Epics"}),this.getEpicItems()))}}l4e.propTypes={deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,selectItem:SI().func.isRequired,onClickApply:SI().func.isRequired,onClickClose:SI().func.isRequired,addEpic:SI().shape({}),epics:SI().arrayOf(a4e),removeEpic:SI().shape({})},l4e.defaultProps={addEpic:{},epics:[],removeEpic:{}};const c4e=l4e,{board:d4e}=LG,u4e=(0,pa.P1)([Cce,Ace,dv,uv,Uw],UN);function p4e(e){return{epics:u4e(e),epicsByRepo:Cce(e),isActive:!0,selectedIssues:Ace(e),addEpic:dv(e),removeEpic:uv(e),workspace:Na(e)}}function m4e(e){return{selectItem(t){e(d4e.addEpicMultiAction(t.filterKey))},deselectItem(t){e(d4e.removeEpicMultiAction(t.filterKey))},dispatch:e}}const h4e=l3.$j(p4e,m4e,(function(e,t,n){const s=(e=>({epics:e.epics,epicsByRepo:e.epicsByRepo,selectedIssues:e.selectedIssues,addEpic:e.addEpic,removeEpic:e.removeEpic,workspaceId:e.workspace._id}))(e),r=ee.TSy(t,{onClickApply:function(){t.dispatch(d4e.applyEpicMultiAction(s)),t.dispatch(d4e.closeFullscreenModal()),t.dispatch(d4e.clearChangesMultiAction())},onClickClose:function(){t.dispatch(d4e.closeFullscreenModal()),t.dispatch(d4e.clearChangesMultiAction())}});return ee.Jnq([e,n,r])}))(c4e);function E4e(e){let{query:t,after:n,repoId:s,skip:r,includeZHUser:i}=e;return function(e){const t={..._y,...e};return cy.a(vy,t)}({variables:{ghIds:s,query:t,first:15,after:n,includeZHUser:i??!1},skip:r||!s})}const g4e=["staging","development"].includes(L.Z.env),f4e=(e,t)=>t in e,_4e=e=>{if(!g4e)return e;const t="MOCKED_ASSIGNEES",n=window;return f4e(n,t)?n.MOCKED_ASSIGNEES.map((e=>({avatar_url:"https://avatars.githubusercontent.com/u/19957795?v=4&size=48",id:`123-${e}`,login:e,name:`Mocked devtools user (${e})`,zenhubUser:{__typename:"ZenhubUser",id:`invalid-base64-id-${e}`},filterKey:e,filterableString:e,selected:!1,isDisabled:!1}))):e},v4e="d50A7fXJabFKYzIb6Ylz",I4e=e=>{let{name:t=null,login:n}=e;const s=null!==t&&t?.length>0;return Ye.createElement("span",null,Ye.createElement("span",{"data-cy":"assignee-username","data-testid":"assignee-username",className:"zhc-assignee-item__login"},n),s?Ye.createElement("span",{"data-cy":"assignee-name","data-testid":"assignee-name",className:"zhc-assignee-item__name"}," ",t):null)},b4e=yEe((e=>{let{avatar_url:t,isSpecialFilter:n=!1,login:s,name:r=null,negated:i=!1}=e;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-assignee-item"},Ye.createElement(hae,{url:t}),i&&Ye.createElement("div",{className:"zhc-assignee-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{className:(0,_I.default)("zhc-assignee-item__wrapper",{"zhu-font-bold":n})},Ye.createElement(I4e,{name:r,login:s})))}));const y4e=function(e){const[t,n]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e||t||(m6(v6.MULTI_ACTION_ASSIGNEES_RENDERED),E6([I6.MULTI_ACTION_ASSIGNEES_LOAD],(e=>[e.name,{Time:e.duration}])),n(!0))}),[e,t])};function S4e(){return S4e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S4e.apply(this,arguments)}const w4e="Filter assignees",R4e="No Assignees found",T4e=e=>{let{addAssignees:t={},bottomContent:n,connectedRepoIds:s,deselectItem:r,formatItems:i,includeZHUser:o=!1,onClickApply:a,onClickClose:l,onFilterChange:c,removeAssignees:d={},primaryButtonLabel:u,renderActions:p,title:m,filterDefaultText:h=w4e,emptyText:E=R4e,selectItem:g,closeOnEsc:f,..._}=e;const{data:v,fetchMore:I,refetch:b,loading:y}=E4e({query:"",repoId:s,includeZHUser:o}),S=v?.viewer?.id,w=(0,l3.v9)(uu),R=Tl(o&&S?{...w,zenhubUser:{id:S}}:w),T=(0,Ye.useMemo)((()=>RI()((e=>{let{filterKey:t}=e;return b({query:t})}),300)),[b]),C=(0,Ye.useCallback)((e=>{let{filterKey:t}=e;T({filterKey:t}),c?.(t)}),[T,c]);let k=0;const O=v?.repositoriesByGhId.reduce(((e,t)=>{const n=t?.assignableUsers?.totalCount;return n>k&&(k=n),e.push(...t.assignableUsers.nodes),e}),[]),N=O?.length?Array.from(new Set([R,...O])):null,P=i({[s[0]]:_4e(N)},t,d);return y4e(null==O),Ye.createElement(zIe,S4e({},_,{allowNegatedSearch:!1,filterDefaultText:h,filterableChildProp:"filterableString",listDescription:p?.(g),onClickClose:l,onFilterChange:C,closeOnEsc:f,footer:Ye.createElement(Ye.Fragment,null,n,Ye.createElement(qce,{onClickApply:a,onClickClose:l,primaryButtonLabel:u,activeSelection:r4e(t,d)})),listTitle:m,name:"Assignees"}),((e,t,n,s,r,i,o)=>{if(i)return Ye.createElement(Fte,{key:"refreshing",text:"Refreshing Assignee list..."});if(!e&&!i)return Ye.createElement(Fte,{key:"empty",text:"There are no Assignees in your connected repositories."});if(0===e.length)return Ye.createElement(Fte,{key:"placeholder",text:o});const a=e.map((e=>Ye.createElement(b4e,S4e({},e,{key:e.id,select:n=>t(n,e?.zenhubUser?.id),deselect:t=>n(t,e?.zenhubUser?.id)})))),l=r-e.length,c=l>0?Array.from(Array(l)).map(((e,t)=>Ye.createElement("div",{key:`assigneePlaceholder${t}`,className:v4e}))):[];return[...a,Ye.createElement(Ale,{key:"assigneesFetchMore",onVisible:()=>{s()}}),...c,Ye.createElement(Ale,{key:"assigneeTrigger",onVisible:()=>{s()}})]})(P,g,r,(()=>{v?.repositoriesByGhId.forEach((e=>{e?.assignableUsers?.pageInfo.hasNextPage&&I({variables:{after:e.assignableUsers.pageInfo.endCursor}})}))}),k,y,E))},{board:C4e}=LG;function k4e(e){const t=Ace(e),n=_u(e);return{assigneesByRepo:dce(e),connectedRepoIds:Ha(e),formatItems:(e,s,r)=>ck(e,t,s,r,n),isActive:!0,selectedIssues:t,addAssignees:sv(e),removeAssignees:rv(e),shouldShowQuickIssueActionTip:rR(e),title:i4e(t,"Assignees")}}function O4e(e){return{selectItem(t){e(C4e.addAssigneeMultiAction(t.filterKey))},deselectItem(t){e(C4e.removeAssigneeMultiAction(t.filterKey))},dispatch:e}}const N4e=ee.eiS(["assigneesByRepo","selectedIssues","addAssignees","removeAssignees"]);const P4e=l3.$j(k4e,O4e,(function(e,t,n){const s=N4e(e),r=ee.TSy(t,{onClickApply:function(){t.dispatch(C4e.applyAssigneeMultiAction(s)),t.dispatch(C4e.closeFullscreenModal()),t.dispatch(C4e.clearChangesMultiAction()),t.dispatch(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dismissed"))},onClickClose:function(){t.dispatch(C4e.closeFullscreenModal()),t.dispatch(C4e.clearChangesMultiAction()),t.dispatch(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dismissed"))}});return ee.Jnq([e,n,r])}))(T4e);function A4e(){return A4e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},A4e.apply(this,arguments)}const D4e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--trashcan",t].filter(Boolean).join(" "),"aria-label":"trashcan",role:"img",...n};return Ye.createElement("svg",A4e({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 12 16"},s),Ye.createElement("path",{d:"M10 2H8c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1H1c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zM9 14H2V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H1V3h9v1z"}))};class L4e extends Ye.PureComponent{constructor(e){super(e),this.onRemoveClick=this.onRemoveClick.bind(this)}onRemoveClick(e){const{onRemove:t,value:n}=this.props;e.stopPropagation(),t(n)}render(){const{onRemove:e,selected:t,value:n,isSpecialFilter:s,negated:r}=this.props,i=(0,_I.default)("zhc-estimate-item__value",{"zhu-font-bold":s}),o=t?null:Ye.createElement(D4e,null),a=e?Ye.createElement("div",{className:"zhc-estimate-item__icon",onClick:this.onRemoveClick},o):null;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-estimate-item","data-testid":"estimate-item"},r&&Ye.createElement("div",{className:"zhc-estimate-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{"data-cy":"estimate",className:i},n),a)}}L4e.propTypes={value:SI().oneOfType([SI().number,SI().string]).isRequired,isSpecialFilter:SI().bool,negated:SI().bool,selected:SI().bool,onRemove:SI().func},L4e.defaultProps={isSpecialFilter:!1,negated:!1,selected:!1,onRemove:null};const z4e=yEe(L4e),M4e=e=>{let{hasOnlyPRsSelected:t,hasOnlyEstimatedIssuesSelected:n,onClick:s}=e;const r=t||n;let i="";return t?i="Planning poker is not available for PRs":n&&(i="Remove estimates from these issues to use planning poker"),Ye.createElement(YI,{content:i},Ye.createElement(H5,{disabled:r,variant:z5.TEXT,color:L5.PRIMARY,onClick:s},"Start Planning Poker"))},x4e=Ye.memo(M4e),F4e=e=>{let{hasActiveSelection:t,selectedIssues:n,onClickApply:s,onClickClose:r,onClickPlanningPoker:i}=e;const o=n.every((e=>null!=e.estimate)),a=n.filter((e=>!e.pull_request)),l=0===a.length;return Ye.createElement("div",{className:"zhc-multi-action-footer"},Ye.createElement(x4e,{hasOnlyPRsSelected:l,hasOnlyEstimatedIssuesSelected:o,onClick:i}),Ye.createElement("div",{className:"zhc-multi-action-footer__control"},Ye.createElement(H5,{variant:z5.TEXT,onClick:r},"Cancel"),Ye.createElement(H5,{disabled:!t,color:L5.ACTION,onClick:()=>{s(),r()}},"Apply changes")))};function U4e(){return U4e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},U4e.apply(this,arguments)}const B4e=e=>{let{selectedIssues:t,setEstimate:n,onClickApply:s,onClickClose:r,onClickPlanningPoker:i}=e;return Ye.createElement(F4e,{hasActiveSelection:Boolean(n),selectedIssues:t,onClickApply:s,onClickClose:r,onClickPlanningPoker:i})};B4e.propTypes={setEstimate:SI().func,onClickApply:SI().func,onClickClose:SI().func,onClickPlanningPoker:SI().func};const q4e=e=>{let{selectedIssues:t,...n}=e;const{estimates:s}=n;return function(e){const[t,n]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e||t||(m6(v6.MULTI_ACTION_ESTIMATES_RENDERED),E6([I6.MULTI_ACTION_ESTIMATES_LOAD],(e=>[e.name,{Time:e.duration}])),n(!0))}),[e,t])}(!s),Ye.createElement("div",{className:"zhc-estimate-multi-action"},Ye.createElement(zIe,U4e({},n,{allowNegatedSearch:!1,filterableChildProp:"value",filterDefaultText:"Filter estimates",footer:B4e({selectedIssues:t,...n}),listTitle:i4e(t,"an Estimate"),name:"Estimates"}),function(e){const{estimates:t,selectItem:n,deselectItem:s}=e;return t?0===t.length?Ye.createElement(Fte,{text:"Please create Estimates in a connected repository."}):t.map((e=>Ye.createElement(z4e,{key:e.filterKey,filterKey:e.filterKey,value:e.value,selected:e.selected,select:n,deselect:s}))):Ye.createElement(Fte,{text:"Refreshing Estimate list..."})}(n)))},H4e=SI().shape({issue_number:SI().number,repo_id:SI().number}),W4e=SI().shape({value:SI().oneOfType([SI().string,SI().number]).isRequired,selected:SI().bool});q4e.defaultProps={setEstimate:"",estimates:null},q4e.propTypes={deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectedIssues:SI().arrayOf(H4e).isRequired,selectItem:SI().func.isRequired,onClickApply:SI().func.isRequired,onClickClose:SI().func.isRequired,onClickPlanningPoker:SI().func.isRequired,estimates:SI().arrayOf(W4e),setEstimate:SI().oneOfType([SI().string,SI().number])};const j4e=q4e,{board:G4e}=LG,K4e=(0,pa.P1)(Pw,av,jN),V4e=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(K4e),n=(0,l3.v9)(Ace),s=(0,l3.v9)(av);return Ye.createElement(j4e,{isActive:!0,estimates:t,selectedIssues:n,setEstimate:s,selectItem:t=>{e(G4e.setEstimateMultiAction(t.filterKey))},deselectItem:()=>{e(G4e.setEstimateMultiAction())},onClickApply:()=>{e(G4e.applyEstimateMultiAction({selectedIssues:n,setEstimate:s}))},onClickClose:()=>{e(G4e.closeFullscreenModal()),e(G4e.clearChangesMultiAction())},onClickPlanningPoker:()=>{e(G4e.openFullscreenModal(m_))}})},$4e="?planning-poker",Z4e=e=>null!=e&&-1!==e,Y4e=(e,t)=>{if(!e.voter.githubUser)return"";const{login:n}=e.voter.githubUser;switch(e.status){case"votedRevealed":return`${n} voted ${e.value??""}`;case"votedHidden":return`${n} voted`;default:return t?`${n} has not voted yet`:`${n} did not vote`}},J4e=(e,t)=>e.githubUser&&t.githubUser?e.githubUser.login.toLowerCase()>t.githubUser.login.toLowerCase()?1:-1:0,X4e={},Q4e=bb.Ps`
  query estimationGroups($workspaceId: ID!, $issueIds: [ID!]!) {
    viewer {
      id
      estimationGroups(workspaceId: $workspaceId, first: 5) {
        nodes {
          ... on EstimationGroup {
            id
            participants(issueIds: $issueIds) {
              nodes {
                id
                githubUser {
                  id
                  login
                  avatarUrl
                }
              }
            }
          }
        }
      }
    }
  }
`;const e5e="gbRknkKf4n5TD7aHEaWb",t5e="mw7oz4YAXD1BmPbxzhbD",n5e=e=>{let{children:t,onClick:n,userLogins:s}=e;const r=`Recently added participants\n${s.join(", ")}`;return Ye.createElement(YI,{content:r,modifiers:["text-center"]},Ye.createElement("button",{"aria-label":r,className:e5e,"data-testid":"zh-group-button",type:"button",onClick:n},t,Ye.createElement(hSe,{className:t5e})))},s5e=e=>e.filter((e=>Boolean(e.githubUser))).map((e=>({url:e.githubUser.avatarUrl,name:e.githubUser.login}))),r5e=e=>e.map((e=>e.githubUser?.login||"Unknown")),i5e=e=>{const t=[...e.participants.nodes].sort(J4e);return{...e,participants:{...e.participants,nodes:t}}},o5e=e=>{let{issueIds:t,onSelectItem:n,workspaceId:s}=e;const r=SRe(yRe.PlanningPoker),{data:i}=function(e){const t={...X4e,...e};return cy.a(Q4e,t)}({variables:{issueIds:t,workspaceId:s},fetchPolicy:"cache-and-network"}),o=(e=>{const t=window,n="MOCKED_ESTIMATION_GROUPS";return g4e&&f4e(t,n)?t.MOCKED_ESTIMATION_GROUPS.map(((e,t)=>({id:`fakeGroup-${t}`,participants:{nodes:e.map((e=>({id:"abc",githubUser:{id:e,avatarUrl:"https://avatars.githubusercontent.com/u/19957795?v=4&size=48",login:e,name:`Mocked devtools user (${e})`}})))}}))):e})(i?.viewer?.estimationGroups.nodes??[]),a=(0,Ye.useMemo)((()=>o.filter((e=>e.participants.nodes.length>1)).map(i5e).slice(0,3)),[o]);return Ye.createElement("div",null,a.map((e=>Ye.createElement(n5e,{key:e.id,userLogins:r5e(e.participants.nodes),onClick:()=>{r("Click estimation group",{"Users in group":e.participants.nodes.length,"Groups available":a.length,Module:"Neutral"}),e.participants.nodes.forEach((e=>{e.githubUser&&n({filterKey:e.githubUser.login},e.id)}))}},Ye.createElement(Wpe,{items:s5e(e.participants.nodes)})))))},a5e="TOn_kfowyi2ZOqNIGSi8",l5e="_wPhc1rN9A85wr8WR1aa",c5e="EdiGjMMY3rRnMP6fD7bj",d5e="pkS0VZ0j_BOgUz3zlHYg",u5e="O12T2UtHF96G6dhHXCVf",p5e="pjpA_1Acqce0hdFYOTco",m5e="frlGh6K1e4Jd4eOypVTY",h5e="dA0bNsGlv0Oyk0QkdSW4",E5e="kFo0cvcNSpI5rzA_TYRb",g5e="EstimationInviteModalNotifications_checkbox",f5e=(0,_t.fB)("team member","team members"),_5e=e=>{let{avatarUrl:t,invitedUsernames:n,isMinimized:s,isNotificationEnabled:r,issueIds:i,onToggleMinimized:o,onNotifyChange:a}=e;const l=(0,_I.default)(a5e,{[h5e]:!r}),c=(i?.length??1)>1?`Post comments on the ${i?.length??""} issues to notify your team`:"Post a comment on the issue to notify your team";return Ye.createElement("div",{className:l},Ye.createElement("label",{className:l5e},Ye.createElement(mCe,{id:g5e,checked:r,onClick:()=>a(!r)})," "),Ye.createElement("label",{htmlFor:g5e,className:u5e},Ye.createElement("strong",null,"Notify ",n.length," ",f5e(n.length)),Ye.createElement("div",{className:c5e},c)),Ye.createElement("button",{"aria-label":"Show comment preview",onClick:()=>{o(!s)},type:"button",className:d5e},s?Ye.createElement(hte,null):Ye.createElement(gte,null)),s?null:Ye.createElement(Ye.Fragment,null,Ye.createElement(jpe,{alt:"Your GitHub avatar",className:E5e,size:25,url:t}),Ye.createElement("div",{className:p5e},n.length>1?"Hey team! ":null,"Please"," ",Ye.createElement("span",{title:"This text will link to the issue in the ZenHub webapp",className:m5e},"add your planning poker estimate")," ","with ZenHub"," ",n.map((e=>Ye.createElement(Ye.Fragment,{key:e},Ye.createElement("strong",null,"@",e)," "))))))},v5e="ZhPokerNotificationPrefs",I5e={isEnabled:!0,isMinimized:!1},b5e=()=>{const[e,t]=(0,Ye.useState)(I5e);(0,Ye.useEffect)((()=>{const e=uI(v5e)??{};t({...I5e,...e})}),[]);return{notificationPreferences:e,persistPreferences:()=>dI(v5e,e),updatePreferences:e=>{t(e)}}},y5e="Add members to vote on estimates",S5e="Filter Members",w5e="No Members found";function R5e(e){return null!=e}const T5e=e=>{let{workspaceId:t,issueIds:n,onClose:s,onSubmit:r,repoIds:i,title:o=y5e,filterDefaultText:a=S5e,emptyText:l=w5e,votes:c,closeOnEsc:d}=e;const[u,p]=(0,Ye.useState)([]),[m,h]=(0,Ye.useState)({}),[E,g]=(0,Ye.useState)({}),[f,_]=(0,Ye.useState)(!0),v=(0,l3.v9)(_u),I=(0,l3.v9)(wu),{notificationPreferences:b,persistPreferences:y,updatePreferences:S}=b5e();(0,Ye.useEffect)((()=>{const e=c.reduce(((e,t)=>t.voter.githubUser?{...e,[t.voter.githubUser.login]:t.voter.id}:e),{})??{};p(c.map((e=>e.voter.githubUser.login))),h(e)}),[c]);const w=Object.values(m).filter(R5e).filter((e=>c.every((t=>t.voter.id!==e)))),R=Object.entries(m).reduce(((e,t)=>{let[n,s]=t;return s&&w.includes(s)&&!(n===v)?[...e,n]:e}),[]);return Ye.createElement(T4e,{addAssignees:u$(m,(e=>Boolean(e))),connectedRepoIds:i,deselectItem:(e,t)=>{let{filterKey:n}=e;h((e=>({...e,[n]:null}))),u.includes(n)&&g({...E,[n]:t??null})},emptyText:l,filterDefaultText:a,closeOnEsc:d,bottomContent:R.length?Ye.createElement(_5e,{avatarUrl:I,invitedUsernames:R,isMinimized:b.isMinimized,isNotificationEnabled:b.isEnabled,issueIds:n,onToggleMinimized:e=>S({...b,isMinimized:e}),onNotifyChange:e=>S({...b,isEnabled:e})}):null,renderActions:e=>f?Ye.createElement(k7,{name:"workspaces-estimation-poker-groups"},Ye.createElement(o5e,{issueIds:n??[],onSelectItem:e,workspaceId:t})):null,formatItems:(e,t)=>{const n=Object.values(e)[0]??[],s=c.reduce(((e,t)=>({...e,[t.voter.id]:t})),{}),r=n.map((e=>{const n=s[e.zenhubUser?.id??""];return{...e,filterKey:e.login,filterableString:e.login,name:e.zenhubUser?e.name:`${e.name??""} (not on ZenHub)`,selected:Boolean(t[e.login]),isDisabled:!e.zenhubUser||null!=n?.value}}));return d$(r,(e=>e.filterKey))},includeZHUser:!0,isActive:!0,onClickApply:()=>{const e=b?.isEnabled&&R.length?R:[],t=Object.values(E).filter(R5e);h({}),g({}),r({invitedUserIds:w,removedUserIds:t,usernamesToNotify:e}),y()},onClickClose:s,onFilterChange:e=>_(!e),primaryButtonLabel:c.length?"Save":"Add",removeAssignees:u$(E,(e=>Boolean(e))),selectItem:(e,t)=>{h((n=>({...n,[e.filterKey]:t??null})))},title:o})},C5e=bb.Ps`
  fragment estimationVote on EstimationVote {
    id
    value
    voter {
      id
      githubUser {
        id
        avatarUrl
        login
      }
    }
  }
`,k5e={},O5e=bb.Ps`
  mutation createEstimationVotes($input: InviteToEstimateInput!) {
    inviteToEstimate(input: $input) {
      estimationVotes {
        ...estimationVote
      }
    }
  }
  ${C5e}
`;function N5e(e){const t={...k5e,...e};return vK.D(O5e,t)}const P5e=()=>{const e=(0,l3.v9)(Na),t=ha.Xy(e);return e=>{if(!e.length)return;const n=`${L.Z.ZENHUB_WEBAPP_ADDRESS}/workspaces/${t}/issues/<%issue_path%>?planning-poker`,s=e.map((e=>`@${e}`)).join(" ");return`${e.length>1?"Hey team! ":""}Please [add your planning poker estimate](${n}) with ZenHub ${s}`}};function A5e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const D5e=e=>{let{workspaceId:t,issueIds:n,onSubmit:s}=e;const r=SRe(yRe.PlanningPoker),i=P5e(),[o]=N5e(),a=(0,Ye.useCallback)(function(){var e,a=(e=function*(e){let{invitedUserIds:a,usernamesToNotify:l}=e;s?.();const c=i(l);try{yield o({variables:{input:{zenhubUserIds:a,issueIds:n,message:c,workspaceId:t}}}),(e=>{const t={...Cl.Z,expirationDelay:4e3,participantCount:e};H.Z.createToast(W.Z.ESTIMATE_INVITE_SENT_UPDATE,t)})(a.length),r("Voters requested",{Location:"Board Multi-select",Count:a.length,Notified:Boolean(c),Module:"Neutral"})}catch{(()=>{const e={...Cl.Z,expirationDelay:4e3,showWarning:!0,text:"Something went wrong"};H.Z.createToast(W.Z.TEXT_EXPIRING,e)})()}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){A5e(i,s,r,o,a,"next",e)}function a(e){A5e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}(),[o,i,n,s,r,t]);return a},{board:L5e}=LG,z5e=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(Pa),n=(0,l3.v9)(Nce),s=(0,l3.v9)(Ace),r=n.map((e=>e.repo_id)),i=s.reduce(((e,t)=>(t.pull_request||e.push(t.id),e)),[]),o=D5e({workspaceId:t,issueIds:i});return Ye.createElement(T5e,{workspaceId:t,issueIds:i,title:"Planning Poker participants",filterDefaultText:"Filter Participants",emptyText:"No Participants found",repoIds:r,votes:[],onSubmit:o,onClose:()=>{e(L5e.closeFullscreenModal()),e(L5e.clearChangesMultiAction())}})};function M5e(){return M5e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},M5e.apply(this,arguments)}const x5e=e=>{let{addLabels:t,removeLabels:n,onClickApply:s,onClickClose:r}=e;return Ye.createElement(qce,{onClickApply:s,onClickClose:r,activeSelection:r4e(t,n)})};x5e.propTypes={addLabels:SI().arrayOf(SI().string),removeLabels:SI().arrayOf(SI().string),onClickApply:SI().func,onClickClose:SI().func};const F5e=e=>{let{selectedIssues:t,...n}=e;const{labels:s}=n;return function(e){const[t,n]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e||t||(m6(v6.MULTI_ACTION_LABELS_RENDERED),E6([I6.MULTI_ACTION_LABELS_LOAD],(e=>[e.name,{Time:e.duration}])),n(!0))}),[e,t])}(null==s),Ye.createElement("div",{className:"zhc-label-multi-action"},Ye.createElement(zIe,M5e({},n,{allowNegatedSearch:!1,filterableChildProp:"name",filterDefaultText:"Filter Labels",footer:x5e(n),listTitle:i4e(t,"Labels"),name:"Labels"}),function(e){let{labels:t,selectItem:n,deselectItem:s}=e;return null==t?Ye.createElement(Fte,{text:"Refreshing Label list..."}):t.length?t.map((e=>Ye.createElement(BWe,M5e({key:e.filterKey,filterKey:e.filterKey,select:n,deselect:s},e)))):Ye.createElement(Fte,{text:"Please create Labels in a connected repository."})}(n)))},U5e=SI().shape({name:SI().string.isRequired,color:SI().string,negated:SI().bool,selected:SI().bool});F5e.propTypes={deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,selectItem:SI().func.isRequired,onClickApply:SI().func.isRequired,onClickClose:SI().func.isRequired,labels:SI().arrayOf(U5e)};const B5e=F5e,{board:q5e,onboarding:H5e}=LG,W5e=(0,pa.P1)(fce,Ace,tv,ev,IC);function j5e(e){return{labels:W5e(e),labelsByRepo:fce(e),isActive:!0,selectedIssues:Ace(e),addLabels:tv(e),removeLabels:ev(e),shouldShowQuickIssueActionTip:rR(e)}}function G5e(e){return{selectItem(t){e(q5e.addLabelMultiAction(t.filterKey))},deselectItem(t){e(q5e.removeLabelMultiAction(t.filterKey))},dispatch:e}}const K5e=ee.eiS(["labels","labelsByRepo","selectedIssues","addLabels","removeLabels"]);const V5e=l3.$j(j5e,G5e,(function(e,t,n){const s=K5e(e),r=ee.TSy(t,{onClickApply:function(){t.dispatch(q5e.applyLabelMultiAction(s)),t.dispatch(q5e.closeFullscreenModal()),t.dispatch(q5e.clearChangesMultiAction()),t.dispatch(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dismissed"))},onClickClose:function(){t.dispatch(q5e.closeFullscreenModal()),t.dispatch(q5e.clearChangesMultiAction()),t.dispatch(H5e.dismissOnboardingNotice("quick_issue_action_in_modal_tip_dismissed")),t.dispatch(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dismissed"))}});return ee.Jnq([e,n,r])}))(B5e),$5e={specialFilter:"R5ZMtW13sbn7oytogIsC"};class Z5e extends Ye.PureComponent{render(){const{dueDate:e,isSpecialFilter:t,title:n,negated:s,repos:r,showRepos:i,state:o}=this.props,a=i?Ye.createElement(FKe,{repos:r}):null,l=Ye.createElement(C$e,null);return Ye.createElement("div",{className:"zhc-selection-list-item zhc-milestone-item"},Ye.createElement("div",{className:"zhc-milestone-item__title-container"},s&&Ye.createElement("div",{className:"zhc-milestone-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{"data-cy":"milestone-item",className:(0,_I.default)({[$5e.isSpecialFilter]:t})},"closed"===o?l:null),n),t?null:Ye.createElement("span",{"data-cy":"milestone-due-date",className:"zhc-milestone-item__due-date"},$p(e)),a)}}Z5e.defaultProps={dueDate:null,isSpecialFilter:!1,negated:!1,showRepos:!0,repos:null,state:void 0};const Y5e=yEe(Z5e);function J5e(e){let{name:t}=e;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-remove-milestone-item"},t)}J5e.propTypes={name:SI().string.isRequired};const X5e=yEe(J5e);function Q5e(){return Q5e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q5e.apply(this,arguments)}const e7e=(e,t,n)=>Ye.createElement(qce,{onClickApply:e,onClickClose:t,activeSelection:!ee.kKJ(n)}),t7e=e=>{let{selectedIssues:t,activeFilter:n,setMilestone:s,selectItem:r,deselectItem:i,milestones:o,onClickApply:a,onClickClose:l,...c}=e;!function(e){const[t,n]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e||t||(m6(v6.MULTI_ACTION_MILESTONES_RENDERED),E6([I6.MULTI_ACTION_MILESTONES_LOAD],(e=>[e.name,{Time:e.duration}])),n(!0))}),[e,t])}(ee.kKJ(o));const d=n?Ye.createElement(X5e,{name:"Clear Milestones from Issues",select:r,deselect:i,isActive:n,isFilterable:!1,filterKey:"remove-issues",selected:"remove-issues"===s}):null;return Ye.createElement("div",{className:"zhc-milestone-multi-action"},Ye.createElement(zIe,Q5e({},c,{banner:Ye.createElement(XWe,{isSmallBanner:!0}),allowNegatedSearch:!1,filterableChildProp:"title",filterDefaultText:"Filter milestones",footer:e7e(a,l,s),listTitle:i4e(t,"a Milestone"),name:"Milestones",onClickClose:l}),d,function(e,t,n){return ee.kKJ(e)?Ye.createElement(Fte,{text:"Refreshing Milestone list..."}):ee.xbD(e)?Ye.createElement(Fte,{text:"Please create Milestones in a connected repository."}):ee.UID((e=>Ye.createElement(Y5e,Q5e({key:e.filterKey,select:t,deselect:n,dueDate:e.due_on},e))),e)}(o,r,i)))},n7e=SI().shape({title:SI().string.isRequired,negated:SI().bool,selected:SI().bool});t7e.propTypes={deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,selectItem:SI().func.isRequired,onClickApply:SI().func.isRequired,onClickClose:SI().func.isRequired,activeFilter:SI().bool,milestones:SI().arrayOf(n7e),setMilestone:SI().string};const s7e=t7e,{board:r7e}=LG,i7e=(0,pa.P1)([wce,nv,fv],zN),o7e=ee.zGw(ee.vgT("milestone"),_t.DX),a7e=ee.YjB(o7e),l7e=(0,pa.P1)([Ace],a7e);function c7e(e){return{milestones:i7e(e),milestonesByRepo:wce(e),isActive:!0,selectedIssues:Ace(e),setMilestone:nv(e),activeFilter:l7e(e),shouldShowQuickIssueActionTip:rR(e)}}function d7e(e){return{selectItem(t){e(r7e.setMilestoneMultiAction(t.filterKey))},deselectItem(){e(r7e.setMilestoneMultiAction(null))},dispatch:e}}const u7e=ee.eiS(["milestones","milestonesByRepo","selectedIssues","setMilestone"]),p7e=ee.zGw(ee.eiS(["milestone","milestonesByRepo","selectedIssues"]),ee.yGi("setMilestone",null));const m7e=l3.$j(c7e,d7e,(function(e,t,n){const{dispatch:s}=t,r=u7e(e);return{...e,...n,...t,onClickApply:function(){if("remove-issues"===e.setMilestone){const t=p7e(e);return s(r7e.removeMilestoneMultiAction(t)),void s(r7e.clearChangesMultiAction())}s(r7e.applyMilestoneMultiAction(r)),s(r7e.closeFullscreenModal()),s(r7e.clearChangesMultiAction()),s(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dismissed"))},onClickClose:function(){s(r7e.closeFullscreenModal()),s(r7e.clearChangesMultiAction()),s(XAe("quick_issue_action_in_modal_tip","quick_issue_action_in_modal_tip_dismissed"))}}}))(s7e),h7e=e=>{let{onClickFinish:t,pipelineToDelete:n,onClickClose:s,hasAutomation:r}=e;const[i,o]=(0,Ye.useState)(""),a=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{a.current.focus()}),[]);const l=e=>{o(e.target.value)},{destPipelineName:c,pipelineName:d}=n;return Ye.createElement("div",{className:"zhc-confirm-dialog"},Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title"},"Delete Pipeline"),Ye.createElement("span",{className:"zhc-modal__header__close",onClick:s},Ye.createElement(R7,null)),Ye.createElement("span",{className:"zhc-confirm-dialog__subtitle"},"Heads up \u2014 Are you sure you want to delete ",Ye.createElement("b",null,d),"?")),Ye.createElement(bie,null,Ye.createElement("ul",null,Ye.createElement("li",null,"Issues in this Pipeline will be moved to ",c),r?Ye.createElement("li",null,"Deleting this pipeline will disable your Sprint pipeline automation."):null,Ye.createElement("li",null,Ye.createElement("strong",null,"All team members using this Workspace will be affected.")))),Ye.createElement("div",{className:"zhc-confirm-dialog__body"},Ye.createElement("div",{className:"zhc-confirm-dialog__info"},Ye.createElement("label",null,Ye.createElement("b",null,"Please type in the name of the Pipeline to confirm")),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.sm-1}},(e=>e?Ye.createElement("input",{ref:a,className:"zhc-input",type:"text",placeholder:"Name of the Pipeline you are deleting",value:i,onChange:l}):Ye.createElement("input",{ref:a,className:"zhc-input",type:"text",placeholder:"Type the name of the Pipeline you are deleting - it's case sensitive",value:i,onChange:l})))),Ye.createElement("div",{className:"zhc-confirm-dialog__actions"},Ye.createElement(H5,{variant:z5.TEXT,onClick:s},"Cancel"),Ye.createElement(Ope,{disabled:d!==i,modifiers:["danger-bordered"],onClick:()=>{t(n),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{content:`Successfully deleted ${n.pipelineName} pipeline`,expirationDelay:4e3}),r&&H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:`Sprint automation disabled. Sprints will no longer be built from the ${n.pipelineName} pipeline`,expirationDelay:6e3})},text:"I understand, delete this Pipeline"}))))};h7e.defaultProps={pipelineToDelete:{repoNames:[]},hasAutomation:!1},h7e.propTypes={onClickClose:SI().func.isRequired,onClickFinish:SI().func.isRequired,hasAutomation:SI().bool,pipelineToDelete:SI().shape({destPipelineName:SI().string,pipelineName:SI().string})};const E7e=e=>{const{onClickClose:t}=e;return Ye.createElement(Xre,{isOpen:!0,modifiers:["size-auto"],onClose:t},Ye.createElement(h7e,e))};E7e.propTypes={onClickClose:SI().func.isRequired};const g7e=Ye.memo(E7e),f7e={},_7e=bb.Ps`
  query getSprintAutomationPipeline($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      sprintConfig {
        ...sprintConfig
      }
    }
  }
  ${ire}
`;function v7e(){return v7e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},v7e.apply(this,arguments)}const{board:I7e}=LG;const b7e=(0,l3.$j)((function(e){return{workspaceId:Pa(e),pipelineToDelete:yv(e)}}),(function(e){const t=(0,mr.DE)({onClickClose:I7e.closeFullscreenModal},e);return ee.TSy(t,{onClickFinish(t){e(I7e.pipelineOnDelete(t)),e(I7e.closeFullscreenModal())}})})),y7e=b7e((e=>{const{data:t}=function(e){const t={...f7e,...e};return cy.a(_7e,t)}({variables:{workspaceId:e.workspaceId}}),n=t?.workspace?.sprintConfig?.settings?.issuesFromPipeline?.pipelineId;return Ye.createElement(g7e,v7e({},e,{hasAutomation:e.pipelineToDelete.removePipelineId===n}))}));function S7e(){return S7e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S7e.apply(this,arguments)}const w7e=e=>{let{addReleases:t,removeReleases:n,onClickApply:s,onClickClose:r}=e;return Ye.createElement(qce,{onClickApply:s,onClickClose:r,activeSelection:r4e(t,n)})},R7e=e=>{let{selectedIssues:t,...n}=e;const{releases:s}=n;return function(e){const[t,n]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e||t||(m6(v6.MULTI_ACTION_RELEASES_RENDERED),E6([I6.MULTI_ACTION_RELEASES_LOAD],(e=>[e.name,{Time:e.duration}])),n(!0))}),[e,t])}(ee.kKJ(s)),Ye.createElement("div",{className:"zhc-release-multi-action"},Ye.createElement(zIe,S7e({},n,{allowNegatedSearch:!1,filterableChildProp:"title",filterDefaultText:"Filter Releases",footer:w7e(n),listTitle:i4e(t,"Releases"),name:"Releases"}),function(e){let{releases:t,selectItem:n,deselectItem:s}=e;return ee.kKJ(t)?Ye.createElement(Fte,{text:"Refreshing Release list..."}):ee.xbD(t)?Ye.createElement(Fte,{text:"No Releases have been created yet"}):ee.UID((e=>Ye.createElement(A$e,S7e({},e,{key:e.filterKey,filterKey:e.filterKey,select:n,deselect:s}))),t)}(n)))},T7e=SI().shape({release_id:SI().string.isRequired,title:SI().string.isRequired,selected:SI().bool});R7e.propTypes={deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,selectItem:SI().func.isRequired,onClickApply:SI().func.isRequired,onClickClose:SI().func.isRequired,releases:SI().arrayOf(T7e)};const C7e=R7e,{board:k7e}=LG,{getIssuePath:O7e}=i,N7e=(0,pa.P1)([Ace],(e=>{const t=ee.HK3(O7e,e);return ee.VO0(t)})),P7e=(0,pa.P1)(Tw,N7e,lv,cv,KN);const A7e=ee.eiS(["releases","selectedIssues","addReleases","removeReleases","repos"]);const D7e=l3.$j((function(e){return{releases:P7e(e),isActive:!0,repos:fv(e),addReleases:lv(e),removeReleases:cv(e),selectedIssues:Ace(e)}}),(function(e){return{selectItem(t){e(k7e.addReleaseMultiAction(t.filterKey))},deselectItem(t){e(k7e.removeReleaseMultiAction(t.filterKey))},dispatch:e}}),(function(e,t,n){const s=A7e(e),r=ee.TSy(t,{onClickApply:function(){t.dispatch(k7e.applyReleaseMultiAction(s))},onClickClose:function(){t.dispatch(k7e.closeFullscreenModal()),t.dispatch(k7e.clearChangesMultiAction())}});return ee.Jnq([e,n,r])}))(C7e),{board:L7e}=LG,z7e=ee.eiS(["assignees","assigneesByRepo","selectedIssues","addAssignees","removeAssignees"]);const M7e=(0,l3.$j)(k4e,O4e,(function(e,t,n){const s=z7e(e),r=()=>{const n=e.selectedIssues[0];t.dispatch(L7e.closeFullscreenModal()),t.dispatch(L7e.clearChangesMultiAction()),t.dispatch(L7e.removeIssueFromSelection(n))};return{...e,...n,...t,onClickApply:()=>{t.dispatch(L7e.applyAssigneeMultiAction(s)),r()},onClickClose:r}}))(T4e),x7e=M7e,{board:F7e}=LG;const U7e=(0,l3.$j)(j5e,G5e,(function(e,t,n){const s=(e=>{const{labels:t,labelsByRepo:n,selectedIssues:s,addLabels:r,removeLabels:i}=e;return{labels:t,labelsByRepo:n,selectedIssues:s,addLabels:r,removeLabels:i}})(e),r=()=>{const n=e.selectedIssues[0];t.dispatch(F7e.closeFullscreenModal()),t.dispatch(F7e.clearChangesMultiAction()),t.dispatch(F7e.removeIssueFromSelection(n))};return{...e,...n,...t,onClickApply:()=>{t.dispatch(F7e.applyLabelMultiAction(s)),r()},onClickClose:r}}))(B5e),B7e=U7e,q7e=s7e,{board:H7e}=LG,W7e=ee.eiS(["milestones","setMilestone","milestonesByRepo","selectedIssues"]),j7e=ee.eiS(["milestonesByRepo","selectedIssues","setMilestone"]);const G7e=(0,l3.$j)(c7e,d7e,(function(e,t,n){const{dispatch:s}=t;return{...e,...n,...t,onClickApply:()=>{if("remove-issues"===e.setMilestone){const t=j7e(e);return s(H7e.removeMilestoneMultiAction(t)),void s(H7e.clearChangesMultiAction())}const t=W7e(e);s(H7e.applyMilestoneMultiAction(t))},onClickClose:()=>{const[t]=e.selectedIssues;s(H7e.closeFullscreenModal()),s(H7e.clearChangesMultiAction()),s(H7e.removeIssueFromSelection(t))}}}))(q7e),K7e=G7e,{board:V7e}=LG,$7e=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(Ace);return Ye.createElement(rde,{onClose:()=>{e(V7e.closeFullscreenModal()),e(V7e.clearChangesMultiAction()),e(V7e.removeIssueFromSelection(t[0]))}})};function Z7e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Y7e=bb.Ps`
  query ($issue: IssueInfoInput!, $pipelineId: ID!) {
    triggeredPipelineToPipelineAutomations(issue: $issue, pipelineId: $pipelineId) {
      nodes {
        id
        destinationPipeline {
          name
          workspace {
            name
          }
        }
      }
    }
  }
`,J7e=function(){var e,t=(e=function*(e,t,n){return"closed-pipeline"===n?[]:(yield ly().query({query:Y7e,variables:{issue:{issueNumber:e,repositoryGhId:t},pipelineId:n},fetchPolicy:"no-cache"}))?.data?.triggeredPipelineToPipelineAutomations?.nodes||[]},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Z7e(i,s,r,o,a,"next",e)}function a(e){Z7e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n,s){return t.apply(this,arguments)}}(),X7e=J7e;function Q7e(){return Q7e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q7e.apply(this,arguments)}const e9e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--top",t].filter(Boolean).join(" "),"aria-label":"top",role:"img",...n};return Ye.createElement("svg",Q7e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M3 10.867l4.667-5.334 4.666 5.334M7.667 6.2v8M3 1.667h9.333",strokeWidth:1.5,stroke:"currentColor",fill:"none",strokeLinecap:"round"}))};function t9e(){return t9e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},t9e.apply(this,arguments)}const n9e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--bottom",t].filter(Boolean).join(" "),"aria-label":"bottom",role:"img",...n};return Ye.createElement("svg",t9e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M3 5.133l4.667 5.334 4.666-5.334M7.667 9.8v-8M3 14.333h9.333",strokeWidth:1.5,stroke:"currentColor",fill:"none",strokeLinecap:"round"}))},s9e=e=>{let{direction:t="top",disabled:n=!1,onPipelineDirectionClicked:s}=e;const r="top"===t,i="bottom"===t;return Ye.createElement(YI,{position:jI.TOP,content:"Send to"},Ye.createElement(OPe,null,Ye.createElement(H5,{ariaLabel:"Send to Top",onClick:()=>{"top"!==t&&s&&s("top")},disabled:n,color:r?L5.PRIMARY:L5.SECONDARY,width:D5.NARROW},Ye.createElement(e9e,null)),Ye.createElement(H5,{ariaLabel:"Send to Bottom",onClick:()=>{"bottom"!==t&&s&&s("bottom")},disabled:n,color:i?L5.PRIMARY:L5.SECONDARY,width:D5.NARROW},Ye.createElement(n9e,null))))},r9e=(0,Ye.memo)(s9e);class i9e extends Ye.PureComponent{constructor(e){super(e),this.applyChanges=this.applyChanges.bind(this)}applyChanges(){const{onClickClose:e,onClickApply:t}=this.props;t(),e()}render(){const{activeSelection:e,onClickClose:t,setPipelineDirection:n,pipelineDirection:s,disableDirections:r}=this.props;return Ye.createElement("div",{className:"zhc-multi-action-footer"},Ye.createElement(r9e,{direction:s,onPipelineDirectionClicked:n,disabled:r}),Ye.createElement("div",{className:"zhc-multi-action-footer__control"},Ye.createElement(H5,{variant:z5.TEXT,onClick:t},"Cancel"),Ye.createElement(kpe,{disabled:!e,text:"Apply changes",modifiers:["action"],onClick:this.applyChanges})))}}i9e.propTypes={activeSelection:SI().bool,disableDirections:SI().bool,pipelineDirection:SI().string,setPipelineDirection:SI().func,onClickApply:SI().func,onClickClose:SI().func},i9e.defaultProps={disableDirections:!1};const o9e=i9e,a9e=e=>1===e.length?"Move this Issue to a pipeline":`Move these ${e.length} Issues to a pipeline`,l9e=e=>{let{onClickApply:t,onClickClose:n,setPipeline:s,setPipelineDirection:r,pipelineDirection:i}=e;return Ye.createElement(o9e,{onClickApply:t,onClickClose:n,activeSelection:!ee.kKJ(s),setPipelineDirection:r,pipelineDirection:i,disableDirections:"closed-pipeline"===s})},{board:c9e}=LG||{},d9e=(0,pa.P1)(gv,iv,aN),u9e=ee.eiS(["selectedIssues","setPipeline","boardId","repoId","pipelineDirection","pendingAutomations","pendingIssueConnections","pipelines"]),p9e=()=>({boardId:(0,l3.v9)(vv),isActive:!0,pipelineDirection:(0,l3.v9)(ov),pipelines:(0,l3.v9)(d9e),repoId:(0,l3.v9)(oce),selectedIssues:(0,l3.v9)(Ace),setPipeline:(0,l3.v9)(iv)}),m9e=(e,t)=>({...e,pipeline:{id:t}});function h9e(){return h9e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h9e.apply(this,arguments)}function E9e(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const g9e="closed-pipeline",f9e=()=>{const e=p9e(),t=(e=>({selectItem(t){e(c9e.setPipelineMultiAction(t.filterKey))},deselectItem(){e(c9e.setPipelineMultiAction())},setPipelineDirection(t){e(c9e.setPipelineDirectionMultiAction(t))},onClickClose(){e(c9e.closeFullscreenModal()),e(c9e.clearChangesMultiAction())},dispatch:e}))((0,l3.I0)()),[n,s]=(0,Ye.useState)([]),[r,i]=(0,Ye.useState)([]),o=((e,t,n,s)=>{const r=ee.TSy(t,{onClickApply:()=>{const r=u9e({...e,pendingAutomations:n,pendingIssueConnections:s}),{setPipeline:i,selectedIssues:o}=e,a=o.map((e=>({...e,pipelineId:i})));t.dispatch(c9e.replaceIssuesInSelection(a)),t.dispatch(c9e.applyPipelineMultiAction(r)),t.dispatch(c9e.closeFullscreenModal()),t.dispatch(c9e.clearChangesMultiAction())}});return ee.Jnq([e,r])})(e,t,n,r),{boardId:a,pipelines:l,selectedIssues:c,setPipeline:d,selectItem:u,deselectItem:p}=o;(e=>{const[t,n]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{e||t||(m6(v6.MULTI_ACTION_PIPELINES_RENDERED),E6([I6.MULTI_ACTION_PIPELINES_LOAD],(e=>[e.name,{Time:e.duration}])),n(!0))}),[e,t])})(ee.kKJ(l));return(0,Ye.useEffect)((()=>{const e=function(){var e,t=(e=function*(e){const t=yield X7e(e.issue_number,e.repo_id,d);(0,_t.KN)(t)||s((e=>{const n=[...e,...t];return ee.mNm((e=>e.id),n)}))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){E9e(i,s,r,o,a,"next",e)}function a(e){E9e(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();s([]),i([]);const t=!(0,_t.KN)(d)&&c.some((e=>{let{pipeline:{id:t}}=e;return t!==d}));t&&((()=>{const e=c.map((e=>e.id));d!==g9e&&tN(a,e).then((t=>{const n=t.filter((t=>!e.includes(t.id)&&"OPEN"===t.state));i(n)}))})(),c.forEach(e))}),[c.length,d]),Ye.createElement("div",{className:"zhc-pipeline-multi-action"},Ye.createElement(zIe,h9e({},o,{allowNegatedSearch:!1,filterableChildProp:"name",filterDefaultText:"Filter Pipelines",footer:l9e(o),listTitle:a9e(c),name:"Pipelines"}),ee.kKJ(l)&&Ye.createElement(Fte,{text:"Refreshing pipeline list..."}),ee.xbD(l)&&Ye.createElement(Fte,{text:"Please add pipelines to your Board."}),!(0,_t.KN)(l)&&l.map((e=>Ye.createElement(Wje,h9e({key:e.filterKey,select:u,deselect:p,isClosed:e._id===g9e},e))))))};const _9e=()=>{const e=(0,l3.v9)(P_);return(0,l3.v9)(Cv)?function(e){switch(e){case l_:return Ye.createElement(P4e,null);case d_:return Ye.createElement(h4e,null);case u_:return Ye.createElement(V4e,null);case m_:return Ye.createElement(z5e,null);case a_:return Ye.createElement(V5e,null);case o_:return Ye.createElement(m7e,null);case c_:return Ye.createElement(f9e,null);case p_:return Ye.createElement(D7e,null);case g_:return Ye.createElement(y7e,null);case __:return Ye.createElement(x7e,null);case v_:return Ye.createElement(B7e,null);case I_:return Ye.createElement(K7e,null);case b_:return Ye.createElement($7e,null);default:return null}}(e):null},v9e=(e,t,n)=>{const s=e.closest("[data-zh-flyover]")?.getAttribute("data-zh-flyover");if(e===document.body)return!0;switch(s){case"navigate":return n?.(),t(),!0;case"close":return t(),!0;case"interactive":return!0;default:return!1}},I9e=(e,t)=>{e.stopPropagation(),e.preventDefault(),t()},b9e=(e,t,n)=>{v9e(t,n)||I9e(e,n)},y9e=e=>{let{appElementSelector:t="body",closePortal:n,flyoverElementSelector:s,onAppClick:r=b9e}=e;(0,Ye.useEffect)((()=>{const e=e=>{const t=e?.target;s&&t.closest(s)||r(e,t,n)},i={capture:!0},o=document.querySelector(t);return o?.addEventListener("click",e,i),()=>{o?.removeEventListener("click",e,i)}}),[t,n,s,r])};function S9e(){return S9e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S9e.apply(this,arguments)}const w9e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--insights",t].filter(Boolean).join(" "),"aria-label":"insights",role:"img",...n};return Ye.createElement("svg",S9e({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 18"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6c-.074 0-.146-.003-.219-.008l-1.709 3.839a3 3 0 11-4.992 1.478L8.9 9.322a2.988 2.988 0 01-2.385.64L5.06 12.818a3 3 0 11-1.832-.81l1.535-3.011a3 3 0 115.176-1.386l3.226 2.015a2.987 2.987 0 012.084-.617l1.701-3.82A3 3 0 1119 6zM3 16a1 1 0 100-2 1 1 0 000 2zM20 3a1 1 0 11-2 0 1 1 0 012 0zm-5 10a1 1 0 100-2 1 1 0 000 2zM8 7a1 1 0 11-2 0 1 1 0 012 0z",fill:"currentColor"}))},R9e="kwL7XCj379NcRI22_Ds2",T9e="JWdIXF3hPXNxjUvGZIds",C9e="tCZLJG_CU40jNOUsZwpQ",k9e=e=>{let{children:t,className:n}=e;const s=(0,_I.default)(R9e,n);return Ye.createElement("div",{className:s},t)},O9e=e=>{let{onClick:t}=e;return Ye.createElement("button",{"aria-label":"Toggle Insights sidebar",className:T9e,onClick:()=>{t()},type:"button"},Ye.createElement(w9e,{className:C9e}))},N9e={},P9e=bb.Ps`
  query getUpcomingSprintInsight($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      upcomingSprint {
        id
        name
        startAt
        issues {
          totalCount
        }
      }
    }
  }
`;const A9e={},D9e=bb.Ps`
  query getSprintConfigForInsights($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      sprintConfig {
        ...sprintConfig
      }
      previousSprint {
        id
        endAt
      }
    }
  }
  ${ire}
`;function L9e(e){const t={...A9e,...e};return cy.a(D9e,t)}const z9e=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),M9e=(e,t)=>`${ma.getReportsPath({workspace:e,type:"burndown"})}?milestoneId=${t}&entity=sprints`,x9e=(0,_t.fB)("Issue","Issues"),F9e=(0,_t.fB)("Point","Points"),U9e=(0,_t.fB)("day","days"),B9e=()=>{const e=SRe(yRe.Insights),{openModal:t}=iie(),n=(0,l3.v9)(Na),{data:s,loading:r}=L9e({variables:{workspaceId:n._id}}),{data:i,loading:o,error:a}=function(e){const t={...N9e,...e};return cy.a(P9e,t)}({variables:{workspaceId:n._id},fetchPolicy:"cache-and-network"}),l=i?.workspace?.upcomingSprint,c=M9e(n,l?.id??""),d=!s?.workspace?.sprintConfig?.settings.issuesFromPipeline.enabled&&0===l?.issues.totalCount,u=l&&(e=>{const t=new Date(e),n=new Date;return(t.getTime()-n.getTime())/36e5})(l.startAt);return{hoursUntilSprint:u??0,isLoading:o||r,isVisible:!Boolean(a||!l||!(null!=u&&u<72)||!u),onEditSprintSettings:d?()=>{t(),e("Open Sprint config",{Location:"Upcoming Sprint Insight"})}:void 0,sprint:l,sprintUrl:c,workspace:n}},q9e="_9Z5cTcpHMPVuS6wqN_JQ",H9e="gs4XbKHNmbfmaP7blEUt",W9e="Vw85kYxVY_93WmnTrWuU",j9e="VANFsYXC1qBl4ziYiyuE",G9e=e=>{let{children:t,className:n}=e;const s=(0,_I.default)(q9e,n);return Ye.createElement("article",{className:s},t)},K9e=e=>{let{children:t}=e;return Ye.createElement("div",{className:H9e},t)},V9e=e=>{let{children:t,to:n,insightName:s}=e;const r=SRe(yRe.Insights);return Ye.createElement(pte.rU,{className:W9e,onClick:()=>r("Title click",{Insight:s}),to:n},t)},$9e=e=>{let{children:t}=e;return Ye.createElement("div",{className:j9e},t)},Z9e=G9e,Y9e="z7lAIAW2mrN0yTGOO1tA",J9e=e=>{let{hoursUntilSprint:t}=e;const n=t<12,s=n?Math.ceil(t):Math.ceil(t/24),r=n?(0,_t.fB)("hour","hours",s):"days";return"days"===r&&1===s?Ye.createElement(Ye.Fragment,null,"Starts ",Ye.createElement("strong",null,"tomorrow")):Ye.createElement(Ye.Fragment,null,"Starts in"," ",Ye.createElement("strong",null,s," ",r))};function X9e(){return X9e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X9e.apply(this,arguments)}const Q9e=()=>Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(hIe,{size:"s"})),Ye.createElement(hIe,{size:"xl",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"s"})),e8e=e=>{let{hoursUntilSprint:t,onEditSprintSettings:n,sprint:s,sprintUrl:r}=e;return Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(rre,null),"Upcoming Sprint"),Ye.createElement(V9e,{insightName:"Upcoming Sprint",to:r},s.name??"Next Sprint"),Ye.createElement("p",null,Ye.createElement(J9e,{hoursUntilSprint:t})),n?Ye.createElement("p",null,"Set up an automation rule to take issues from your sprint backlog pipeline at the start of a Sprint."," ",Ye.createElement("button",{onClick:n,className:Y9e,type:"button"},"Modify your Sprints")):null)},t8e=()=>{const{isLoading:e,isVisible:t,sprint:n,...s}=B9e();return e?Ye.createElement(Q9e,null):t&&n?Ye.createElement(e8e,X9e({sprint:n},s)):null};function n8e(){return n8e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},n8e.apply(this,arguments)}const s8e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--estimate-decrease-release",t].filter(Boolean).join(" "),"aria-label":"estimate-decrease-release",role:"img",...n};return Ye.createElement("svg",n8e({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M13.004 18.15l4.279-4.384a1 1 0 111.419 1.41L12.016 22l-6.718-6.825a1 1 0 111.42-1.409l4.286 4.365V2a1 1 0 112 0v16.15z",fill:"currentColor"}))};function r8e(){return r8e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r8e.apply(this,arguments)}const i8e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--estimate-increase-release",t].filter(Boolean).join(" "),"aria-label":"estimate-increase-release",role:"img",...n};return Ye.createElement("svg",r8e({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.305 10.239a1 1 0 001.415-.005l4.286-4.365V22a1 1 0 102 0V5.85l4.279 4.384a1 1 0 101.419-1.41L12.018 2 5.3 8.825a1 1 0 00.005 1.414z",fill:"currentColor"}))},o8e={},a8e=bb.Ps`
  query getVelocityInsight($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      averageSprintVelocityWithDiff {
        difference
        sprintsCount
        velocity
      }
      activeSprint {
        id
        issues {
          nodes {
            id
            estimate {
              value
            }
          }
        }
      }
      previousSprint {
        id
        issues {
          nodes {
            id
            estimate {
              value
            }
          }
        }
      }
      sprints(filters: { state: { eq: CLOSED } }) {
        totalCount
      }
    }
  }
`;const l8e=()=>{const e=(0,l3.v9)(Na),{data:t,loading:n,error:s}=function(e){const t={...o8e,...e};return cy.a(a8e,t)}({variables:{workspaceId:e._id},fetchPolicy:"cache-and-network"}),r=t?.workspace?.averageSprintVelocityWithDiff,i=t?.workspace?.activeSprint,o=t?.workspace?.previousSprint,a=(t?.workspace?.sprints.totalCount??0)<3;return{isLoading:n,isVisible:!s&&(r||a),activeSprint:i,previousSprint:o,showEmptyState:a,velocityStats:r,workspace:e}},c8e="xGtNjjSz4Rb4xu8tcgYv",d8e="lZQdna_YkhKMD075b03Z",u8e="p1XcJSXebrHZfIcJI6fT",p8e="qQsGQsczeC065ZTGuWqQ",m8e="SzoDVIGlxM5GpujLl4Fi",h8e="L7gJfydBZnfKP0WNZNaE",E8e="wTz9GNd1_k_eo1ER2Bwx",g8e=()=>Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(hIe,{size:"s"})),Ye.createElement(hIe,{size:"xl",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"s"}),Ye.createElement("br",null),Ye.createElement($9e,null,Ye.createElement(hIe,{size:"l"}))),f8e=()=>Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(Gee,null),"Velocity"),Ye.createElement("p",{className:E8e},Ye.createElement("strong",null,"Complete 3 sprints")," to start tracking the change in your velocity")),_8e=e=>{let{activeSprint:t,previousSprint:n,velocityStats:s,workspace:r}=e;if(!s)return null;const i=t??n,o=i===n,a=M9e(r,i?.id??""),l=ma.getReportsPath({workspace:r,type:"velocity"}),c=s.difference??0,d=(0,_I.default)(c8e,{[p8e]:c<0}),u=c<0?Ye.createElement(s8e,{className:d8e}):Ye.createElement(i8e,{className:d8e});return Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(Gee,null),"Velocity"),Ye.createElement("div",{className:h8e},Ye.createElement(V9e,{to:l,insightName:"Velocity"},z9e(s.velocity)," Points"),c?Ye.createElement(YI,{content:Ye.createElement("div",{className:m8e},"The change in your average velocity due to your last completed Sprint"),modifiers:["text-center"],position:jI.TOP},Ye.createElement("span",{className:d},u,Ye.createElement("span",{className:u8e},z9e(Math.abs(c))))):null),Ye.createElement("p",null,"Avg completed in the last ",Ye.createElement("strong",null,s.sprintsCount," Sprints")),i?Ye.createElement($9e,null,o?"Last Sprint had ":Ye.createElement(Ye.Fragment,null,Ye.createElement("strong",null,"Current Sprint")," is at"," "),Ye.createElement(pte.rU,{to:a},z9e(i.issues.nodes.reduce(((e,t)=>e+(t?.estimate?.value??0)),0))," points")):null)},v8e=()=>{const{isLoading:e,isVisible:t,showEmptyState:n,...s}=l8e();return e?Ye.createElement(g8e,null):t?n?Ye.createElement(f8e,null):Ye.createElement(_8e,s):null},I8e="KPEdBj2GLRjSyu7aVAMg",b8e="S0CDvdhv6dvaocdkhTMa",y8e="_lIvuQ1NL1IO0Hdbtd3w",S8e="sb91zIZn7W8S1X2fs9NF",w8e="RzeGs5oiIIjtIjg3eaxl",R8e="ozop6PB_TSsh6UDZoK8B",T8e="anv738mOr4POCkhfvY2q",C8e="PsKC1qd5bL2zwk_iy6Kl",k8e="UvuQLk_qS18zdT8171Gl",O8e="Epjh0mx3a5iJi9rkytQj",N8e=e=>{let{complete:t=0,total:n=0,type:s}=e;const r=(0,_I.default)(R8e,{[T8e]:"ISSUE"===s,[C8e]:"POINTS"===s}),i="ISSUE"===s?"Issues":"Points",o=Math.round(t/n*100),a=Number.isNaN(o)?0:o,l=`${(0,_t.rK)(t)} of ${(0,_t.rK)(n)} (${a}%)`;return Ye.createElement("div",{className:I8e},Ye.createElement("div",{className:b8e},Ye.createElement("strong",null,i),Ye.createElement("span",{className:y8e},l)),Ye.createElement("div",{className:w8e},Ye.createElement("div",{"data-testid":`${i}-completion-bar`,className:r,style:{width:`${a}%`}})))},P8e="Clqq8hVG8Y3PPqrWSIg0",A8e="yT43Kw9aZzNkdqwXL1oA",D8e="tJd2wuxlh8pzsBYzLFtD",L8e="PqPNJ_iTIR8OEt8nhQ_T",z8e="_MT_3MqnkqGIBKymq3fQ",M8e=e=>{let{isCollapsedItem:t=!1,children:n}=e;const s=(0,_I.default)(L8e,{[z8e]:t});return Ye.createElement("li",{className:s},n)};class x8e extends Ye.PureComponent{render(){const{isCollapsed:e,toggleCollapsible:t,toggleOpenText:n,toggleHideText:s,showSecondaryText:r,modifiers:i,component:o}=this.props,a=e?Ye.createElement(hSe,null):Ye.createElement(_Ee,null),l=e?n:s,c=e?"expand":"collapse",d=e?Ye.createElement(gte,null):Ye.createElement(hte,null),u=(0,_I.default)("zhc-collapsible-control",{"zhc-collapsible-control--border":!ee.r3W("no-border",i),"zhc-collapsible-control--grey":ee.r3W("grey",i),"zhc-collapsible-control--button":"button"===o});return Ye.createElement(o,{className:u,onClick:t,"data-cy":"toggle-collapsible"},Ye.createElement("span",{className:"zhc-collapsible-control__main-icon"},a),Ye.createElement("span",{className:"zhc-collapsible-control__main-toggle-text"},l),r?Ye.createElement("div",{className:"zhc-collapsible-control__second-toggle"},Ye.createElement("span",{className:"zhc-collapsible-control__second-toggle-text"},c),Ye.createElement("span",{className:"zhc-collapsible-control__second-icon"},d)):null)}}x8e.propTypes={toggleCollapsible:SI().func.isRequired,component:SI().string,isCollapsed:SI().bool,modifiers:SI().arrayOf(SI().string),showSecondaryText:SI().bool,toggleHideText:SI().string,toggleOpenText:SI().string},x8e.defaultProps={isCollapsed:!0,toggleOpenText:"",toggleHideText:"",showSecondaryText:!1,modifiers:[],component:"div"};const F8e=x8e,U8e=e=>{let{children:t,header:n}=e;const[s,r]=(0,Ye.useState)(!0),i=Ye.Children.toArray(t),o=i.slice(0,8),a=i.slice(8).map((e=>Ye.isValidElement(e)?Ye.cloneElement(e,{isCollapsedItem:!0}):null));return Ye.createElement("div",{className:P8e},Ye.createElement("div",{className:A8e},n),Ye.createElement("ul",{className:D8e},o,a.length>0?Ye.createElement(Ye.Fragment,null,Ye.createElement(Sne,{isCollapsed:s,transitionCollapse:!0},a),Ye.createElement(F8e,{component:"button",isCollapsed:s,toggleCollapsible:()=>r(!s),toggleOpenText:`Show ${a.length} more...`,toggleHideText:"Show less..."})):null))},B8e="iooM0q17HMFGHP5PP0Dj",q8e="gT4GLF3hZCgqvxjsODwk",H8e="BD8gHqDCZi8y56mxqw4N",W8e="SOTufCP02J5VEG2KK9cR",j8e="cF4SGJqXztL0X_RQlkKH",G8e="IbOvqu4MwOvBfjExaBaQ",K8e=e=>{let{action:t,estimate:n}=e;const s=(0,_I.default)(H8e,{[W8e]:null!==n&&"ISSUE_ADDED"===t,[j8e]:null!==n&&"ISSUE_REMOVED"===t,[G8e]:null==n}),r="ISSUE_ADDED"===t?`+${n??""}`:`-${n??""}`;return Ye.createElement("div",{className:s},r)};function V8e(){return V8e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V8e.apply(this,arguments)}const $8e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pull-request-merged",t].filter(Boolean).join(" "),"aria-label":"pull-request-merged",role:"img",...n};return Ye.createElement("svg",V8e({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.422 7.527a3.536 3.536 0 10-3.065.343v8.26a3.536 3.536 0 102.358 0v-5.508a9.013 9.013 0 006.679 2.95h2.166a3.538 3.538 0 100-2.358h-2.166a6.68 6.68 0 01-5.972-3.687zm-.707-2.986v-.006.008a1.179 1.179 0 110-.008v.006zm12.18 9.03a1.179 1.179 0 100-2.357 1.179 1.179 0 000 2.358zM5.536 20.645a1.179 1.179 0 100-2.358 1.179 1.179 0 000 2.358z",fill:"currentColor"}))};function Z8e(){return Z8e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z8e.apply(this,arguments)}const Y8e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pull-request-closed",t].filter(Boolean).join(" "),"aria-label":"pull-request-closed",role:"img",...n};return Ye.createElement("svg",Z8e({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.08 1.84a1.125 1.125 0 011.59 0l1.455 1.456L20.58 1.84a1.124 1.124 0 111.59 1.591l-1.455 1.455 1.455 1.455a1.125 1.125 0 01-1.59 1.59l-1.455-1.455-1.455 1.455a1.125 1.125 0 11-1.59-1.59l1.455-1.455-1.455-1.455a1.125 1.125 0 010-1.59V1.84zm3.045 7.91A1.125 1.125 0 0018 10.875v5.067a3.376 3.376 0 102.25 0v-5.067a1.125 1.125 0 00-1.125-1.125zm0 8.25a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zM3.75 4.875a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM4.875 1.5A3.375 3.375 0 003.75 8.058v7.884a3.377 3.377 0 102.25 0V8.058A3.375 3.375 0 004.875 1.5zm0 16.5a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z",fill:"currentColor"}))};function J8e(){return J8e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},J8e.apply(this,arguments)}const X8e=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pull-request-draft",t].filter(Boolean).join(" "),"aria-label":"pull-request-draft",role:"img",...n};return Ye.createElement("svg",J8e({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 4.08a1.125 1.125 0 1 0 1.59 1.59 1.125 1.125 0 0 0-1.59-1.59zM2.697 2.294A3.375 3.375 0 0 1 4.875 1.5 3.375 3.375 0 0 1 6 8.058v7.884a3.377 3.377 0 1 1-2.25 0V8.058a3.375 3.375 0 0 1-1.052-5.764zm1.381 16.035A1.125 1.125 0 1 1 5.67 19.92a1.125 1.125 0 0 1-1.59-1.59zm17.433 3.183a3.375 3.375 0 1 1-4.774-4.774 3.375 3.375 0 0 1 4.774 4.774zm-3.183-3.183a1.125 1.125 0 1 1 1.591 1.591 1.125 1.125 0 0 1-1.59-1.59zm2.122-5.753a1.875 1.875 0 1 0-2.652-2.652 1.875 1.875 0 0 0 2.652 2.652zm0-6.375a1.875 1.875 0 1 0-2.652-2.652 1.875 1.875 0 0 0 2.652 2.652z",fill:"currentColor"}))},Q8e="OCozTZZNKnoXeGd_L3Tz",eet="yZo5u6wxWv0Dks3y5jwm",tet="SGOpOzKw0NLLQDIfubqh",net="MKKGDHbklVBSY43jc9MC",set="iVv2ds9xPVbttIA3KZMZ",ret="rYPJvsSsnMsnlV5JN10Y",iet="OhTtYBfjuRHtbhFIkjGB",oet="Ws8x5lN4L4EuRlZ_dGFs",aet="T9I7wurW59S4IZkfaFw0",cet="IUA4Wjq56VxQyvPm51IT",det="GUa78yOs7TdnklBFkSU9",uet=e=>{let{state:t,isDraftPR:n}=e;switch(t){case"merged":return Ye.createElement($8e,{className:(0,_I.default)(net,cet),"data-testid":"pull-request-merged-icon"});case"closed":return Ye.createElement(Y8e,{className:net,"data-testid":"pull-request-closed-icon"});default:return n&&"open"===t?Ye.createElement(X8e,{className:net,"data-testid":"pull-request-draft-icon"}):Ye.createElement(m9,{className:(0,_I.default)(net,det),"data-testid":"pull-request-icon"})}},pet=e=>{let{type:t="PULL_REQUEST",assignees:n=[],isHoveringIssue:s=!1,isSelected:r,onClick:i=(()=>{}),onMouseOut:o=(()=>{}),onMouseOver:a=(()=>{}),pullRequestData:l,shouldSelect:c=!1,showTooltip:d=!0}=e;const u="PULL_REQUEST"===t?l?.state??"open":null,p="PULL_REQUEST"===t&&l?.draft,m=(0,_I.default)(Q8e,"issueCardAvatarIcon",{[ret]:"open"===u&&!p,[iet]:"closed"===u&&!p,[oet]:"merged"===u&&!p,[aet]:p,[set]:"EPIC"===t,[eet]:s&&c,[tet]:r}),h=n.length,E=(0,_I.default)("zhc-issue-card__assignees",{"zhc-issue-card__assignees--second":1===h,"zhc-issue-card__assignees--multiple":h>1}),g=n.length?Ye.createElement("div",{className:E},1===h?Ye.createElement(hae,{url:n[0]?.avatar_url??null,alt:`${n[0]?.login} avatar`,size:15}):Ye.createElement("span",{className:"zhc-issue-card__multiple-assignees"},`+${n.length}`)):null;return Ye.createElement(YI,{position:jI.BOTTOM,content:h&&d?n.map((e=>e.login)).join("\n"):null},Ye.createElement("div",{onMouseEnter:a,onMouseLeave:o,onClick:i,className:m,"data-zh-flyover":"close"},"EPIC"===t?Ye.createElement(ere,{className:net}):Ye.createElement(uet,{state:l?.state,isDraftPR:p}),g))},met=Ye.memo(pet),het=e=>{let{assignee:t=null,assignees:n=[],isHoveringIssue:s,isSelected:r,onMouseOverAssignee:i=(()=>{}),onMouseOutAssignee:o=(()=>{}),onClickAssignee:a=(()=>{}),shouldSelect:l}=e;const c=t?Ye.createElement(hae,{url:t.avatar_url,alt:`${t.login} avatar`,size:25}):Ye.createElement(hae,{url:null}),d=n.length||1,u=(0,_I.default)("zhc-issue-card__assignee",{"zhc-issue-card__assignee--hover":s&&l,"zhc-issue-card__assignee--selected":r&&l}),p=(0,_I.default)("zhc-issue-card__assignees",{"zhc-issue-card__assignees--second":2===d,"zhc-issue-card__assignees--multiple":d>2});let m;if(d>1){const e=2===d?Ye.createElement(hae,{url:n[1].avatar_url,alt:`${n[1].login} avatar`,size:15}):Ye.createElement("span",{className:"zhc-issue-card__multiple-assignees"},"+"+(d-1));m=Ye.createElement("div",{className:p},e)}const h=1===d&&t?t.login:(e=>e.map((e=>e.login)).join("\n"))(n);return Ye.createElement(YI,{position:jI.BOTTOM,content:h},Ye.createElement("div",{className:u,"data-cy":"issue-card-assignee","data-zh-flyover":"close",onMouseEnter:i,onMouseLeave:o,onClick:a},c,m))},Eet=Ye.memo(het),get=e=>{let{assignees:t,pullRequest:n,isEpic:s}=e;const r=t.map((e=>({avatar_url:e.avatarUrl,id:e.ghId??0,login:e.login??""})));if(!n&&!s)return Ye.createElement(Eet,{assignee:r[0],assignees:r});const i=n?{state:n?.state.toLowerCase(),draft:n?.draft}:null;return Ye.createElement(met,{type:s?"EPIC":"PULL_REQUEST",pullRequestData:i,assignees:r})},fet="doRgDZKtPQ2m_v_xWt3I",_et=e=>{let{workspace:t,issue:n,onClick:s=(()=>{})}=e;const{openExtensionIssueFlyover:r}=DRe(),i={workspace:t,organization:n?.repository?.owner?.login,repository:n?.repository?.name,issue_number:n?.number},o=Vne(!1,!1),a={title:n.title,className:fet,onClick:e=>{if(s(),PI){e.preventDefault();const t=Dne(e);r({id:n.id,issue_number:n?.number,repo_name:n?.repository?.name,organization:n?.repository?.owner?.login,title:n.title,repo_id:n?.repository?.ghId,html_url:n.htmlUrl,pull_request:Boolean(n.pullRequestObject)},t)}}};return Yne(i,n.title,o,null,null,a)},vet=e=>{let{action:t,date:n,estimate:s,issue:r,workspace:i,isCollapsedItem:o=!1}=e;const a=SRe(yRe.Insights),l=(0,Ye.useCallback)((()=>{a("Issue click",{Location:"Scope change"})}),[a]),c=`${"ISSUE_ADDED"===t?"Added":"Removed"} ${im(n)}`;return Ye.createElement(M8e,{isCollapsedItem:o},Ye.createElement(get,{assignees:r.assignees.nodes,pullRequest:r.pullRequestObject,isEpic:Boolean(r.epic)}),Ye.createElement("div",{className:B8e},Ye.createElement(_et,{workspace:i,issue:r,onClick:l}),Ye.createElement("p",{className:q8e},c)),Ye.createElement(K8e,{action:t,estimate:s}))},Iet="G5ONe_tkeQNwuzyQSDvV",bet="Atg93OcCIHyIWo10Mt4Y",yet="L6EvbUByNTbIo0J1Pasw",wet=e=>`${e.issue.id}-${e.effectiveAt}`,Ret=e=>{let{workspace:t,scopeChange:n}=e;const s=n.map((e=>Ye.createElement(vet,{key:wet(e),issue:e.issue,date:e.effectiveAt,estimate:e.estimateValue,action:e.action,workspace:t}))),r=(e=>e.reduce(((e,t)=>{const n="ISSUE_ADDED"===t.action,s=n?e.issues+=1:e.issues-=1;if(e.issues=s,t.estimateValue){e.hasEstimatedIssues=!0;const s=n?e.points+=t.estimateValue:e.points-=t.estimateValue;e.points=s}return e}),{issues:0,points:0,hasEstimatedIssues:!1}))(n),i=(e=>{let{issues:t,points:n,hasEstimatedIssues:s}=e;return`${t>=0?"+":""}${t} ${x9e(t)}${s?` / ${n>=0?"+":""}${(0,_t.Jd)(n)} ${F9e(n)}`:""}`})(r),o=Ye.createElement("div",{className:Iet},"Scope change",Ye.createElement(JI,{content:i,wrapperClassName:bet,contentClassName:yet},i));return Ye.createElement(U8e,{header:o},s)},Tet=bb.Ps`
  fragment scopeChangeInsights on ScopeChange {
    action
    effectiveAt
    estimateValue
    issue {
      id
      title
      number
      htmlUrl
      pullRequestObject {
        draft
        state
      }
      repository {
        owner {
          login
        }
        ghId
        name
      }
      assignees {
        nodes {
          id
          ghId
          avatarUrl
          login
        }
      }
      epic {
        id
      }
    }
  }
`,Cet={},ket=bb.Ps`
  query getCurrentSprint($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      activeSprint {
        id
        name
        closedIssuesCount
        issues {
          nodes {
            id
            state
            estimate {
              value
            }
          }
        }
        sprintIssues {
          totalCount
        }
        scopeChange {
          nodes {
            ...scopeChangeInsights
          }
        }
      }
    }
  }
  ${Tet}
`;const Oet=()=>{const e=(0,l3.v9)(Na)?._id;return function(e){const t={...Cet,...e};return cy.a(ket,t)}({variables:{workspaceId:e},skip:!e,fetchPolicy:"cache-and-network"})},Net=()=>Ye.createElement(G9e,null,Ye.createElement(hIe,{size:"s"}),Ye.createElement("br",null),Ye.createElement(hIe,{size:"xl",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"l"})),Pet=()=>{const{data:e,error:t,loading:n}=Oet(),s=(0,l3.v9)(Na),r=e?.workspace?.activeSprint;if(n)return Ye.createElement(Net,null);if(t||!r)return null;const{closedPoints:i,openPoints:o}=(r?.issues.nodes??[]).reduce(((e,t)=>{const n=t?.estimate?.value??0;return"CLOSED"===t?.state?e.closedPoints+=n:e.openPoints+=n,e}),{closedPoints:0,openPoints:0});const a=r?.scopeChange?.nodes,l=Boolean(r?.sprintIssues.totalCount);return Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(rre,null)," Sprint Progress"),l?Ye.createElement(V9e,{insightName:"Sprint Progress",to:`${ma.getReportsPath({workspace:s,type:"burndown"})}?milestoneId=${r?.id}&entity=sprints`},r?.name):Ye.createElement(Ye.Fragment,null,Ye.createElement("h3",{className:O8e},r?.name),Ye.createElement("div",{className:k8e},Ye.createElement("strong",null,"No issues yet.")," Add issues to your Sprint to start tracking insights.")),Ye.createElement("div",{className:S8e},Ye.createElement(N8e,{type:"ISSUE",total:r?.sprintIssues.totalCount??0,complete:r?.closedIssuesCount??0}),Ye.createElement(N8e,{type:"POINTS",total:o+i,complete:i})),a?.length?Ye.createElement($9e,null,Ye.createElement(Ret,{workspace:s,scopeChange:a})):null)},Aet="OxxL9_VWjRmiH8hAb7Cr",Det="_0SYhXrAAHSfaDJFS9jF",Let="NaEmEFL4hRtJgbHw6Eo1",zet="FtRY5GrLcEpHvDFayZGv",Met=e=>{let{isCollapsedItem:t=!1,issue:n,workspace:s}=e;const r=SRe(yRe.Insights),i=(0,Ye.useCallback)((()=>{r("Issue click",{Location:"Incomplete issues"})}),[r]);return Ye.createElement(M8e,{isCollapsedItem:t},Ye.createElement(get,{assignees:n.assignees.nodes,pullRequest:n.pullRequestObject,isEpic:Boolean(n.epic)}),Ye.createElement("div",{className:Det},Ye.createElement(_et,{workspace:s,issue:n,onClick:i}),Ye.createElement("p",{className:Let},`${n.repository.name} #${n.number}`)),n.estimate?Ye.createElement(sqe,{value:n.estimate.value}):null)},xet=function(){let{skip:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,l3.v9)(Na),n=t?._id;return L9e({variables:{workspaceId:n},skip:e||!n,notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"})};function Fet(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Uet(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Fet(i,s,r,o,a,"next",e)}function a(e){Fet(i,s,r,o,a,"throw",e)}o(void 0)}))}}const Bet={issuesOutstanding:"Add all to next Sprint",issuesAdded:"Added!",error:"Add all to next Sprint"},qet=(e,t)=>{const[n,s]=(0,Ye.useState)("issuesOutstanding"),[r,i]=(0,Ye.useState)([]),[o]=Qce(),[a]=nde(),l=SRe(yRe.Insights),c=(0,Ye.useCallback)(Uet((function*(){if(!e)return;const n=t.map((e=>e.id)),{data:r,errors:a}=yield o({variables:{sprintIds:[e],issueIds:n}}),c=r?.addIssuesToSprints?.sprintIssues??[],d=c.length;if(a)s("error"),H.Z.createToast(W.Z.TEXT,{text:"Something went wrong"});else{const e=c.map((e=>{let{issue:t}=e;return t.id}));i(e),l("Issues added to next Sprint",{Count:d}),d>0?(s("issuesAdded"),H.Z.createToast(W.Z.SPRINT_UPDATE,{action:"add",issueCount:d})):H.Z.createToast(W.Z.TEXT_EXPIRING,{text:"All issues already in current Sprint!"})}})),[l,e,t,o]),d=(0,Ye.useCallback)(Uet((function*(){if(!r||!e)return;const{errors:t}=yield a({variables:{issueIds:r,sprintIds:[e]}});t?(s("error"),H.Z.createToast(W.Z.TEXT,{text:"Something went wrong"})):r.length?(s("issuesOutstanding"),i([]),l("Issues removed from next Sprint",{Count:r.length}),H.Z.createToast(W.Z.SPRINT_UPDATE,{action:"remove",issueCount:r.length})):H.Z.createToast(W.Z.TEXT_EXPIRING,{text:"All issues already in current Sprint!"})})),[l,e,r,a]);return{buttonText:Bet[n],clickHandler:"issuesAdded"===n?d:c}},Het=e=>{let{activeSprintId:t,issues:n,workspace:s}=e;const{data:r}=xet(),{openModal:i}=iie(),o=r?.workspace?.sprintConfig?.settings,{buttonText:a,clickHandler:l}=qet(t,n),c=SRe(yRe.Insights),d=n.map((e=>Ye.createElement(Met,{key:e.id,issue:e,workspace:s})));return Ye.createElement("div",{className:Aet},Ye.createElement(U8e,{header:"Some issues were not finished"},d),o?.moveUnfinishedIssues?null:Ye.createElement(H5,{variant:z5.OUTLINED,width:D5.FULL,color:L5.PRIMARY,onClick:l},a),o?.moveUnfinishedIssues?Ye.createElement("p",null,"Incomplete issues are automatically added to the next Sprint through automation"):Ye.createElement("p",null,"Do this automatically using automations."," ",Ye.createElement("button",{onClick:()=>{i(),c("Open Sprint config",{Location:"Incomplete Sprint issues"})},className:zet,type:"button"},"Modify your Sprints")))},Wet="JEi9P3Zsj1CCipMkquJh",jet="EJX8nz1vdvBnLglIOpzg",Get="P4g2H96zbQXFqoW3bzhj",Ket="SGM7uli_2nyZvDEtxDA2",Vet="ylLEW11k3At9QsbggOT7",$et="BLHx9IhcqKB78mf9u6ht",Zet="E4mhR_6MKm8cE4V2jpPH",Yet="jr1uDOF9_7utMtcvKLsW",Jet="AplvrL2rqnyK1fjkQSP_",Xet="c_2UiCCiL41xoycyM3v6";function Qet(){return Qet=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qet.apply(this,arguments)}const ett=e=>{let{workspace:t,sprint:n,hasOpenIssues:s=!1,isToastSummary:r=!1,onClose:i=(()=>{}),onClick:o=(()=>{})}=e;const a=SRe(yRe.Insights),l=(0,_I.default)(Wet,{[Get]:s,[Ket]:r,[jet]:!r}),c=()=>{o(),r||a("Title click",{Insight:"Sprint Complete"})},d=n?.completedPoints??0,u=d>0?Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:Zet}," and "),`${(0,_t.rK)(d)} ${F9e(d)}`):"",p=n?.closedIssuesCount?Ye.createElement(Ye.Fragment,null,n?.closedIssuesCount," ",x9e(n?.closedIssuesCount),u):"no issues",m=r?{onClick:c,onKeyPress:c,role:"button",tabIndex:0}:{};return Ye.createElement("div",Qet({className:l},m),Ye.createElement("div",{className:Vet},Ye.createElement(rre,null),"Sprint completed",r&&Ye.createElement("button",{type:"button","aria-label":"close",onClick:e=>{e.stopPropagation(),i()},className:Jet},Ye.createElement(R7,{className:Xet}))),Ye.createElement("div",{className:$et},"Your team completed"," ",r?Ye.createElement("span",{className:Yet},p):Ye.createElement(pte.rU,{className:Yet,to:M9e(t,n?.id??"")},p)," ","in the last Sprint"))},ttt="zhInsightsSprintCompleteViewed",ntt="zhInsightsSprintCompleteToastViewed",stt=e=>uI(ttt)?.[e],rtt=e=>uI(ntt)?.[e],itt=(e,t)=>{const n=stt(t),s=n?kp(new Date(n),new Date,"hours"):0;return Boolean(e)&&kp(e,new Date,"hours")<73&&(s<24||s>72)},ott=(e,t)=>{const n=rtt(t),s=n?kp(new Date(n),new Date,"hours"):0;return Boolean(e)&&kp(e,new Date,"hours")<73&&(!n||s>72)},att=(e,t)=>{const n="TOAST"===t?rtt(e):stt(e);if(!n)return!0;return kp(new Date(n),new Date,"hours")>24},ltt=bb.Ps`
  fragment previousSprintIssue on Issue {
    id
    state
    htmlUrl
    closedAt
    estimate {
      value
    }
    title
    repository {
      id
      name
      ghId
      owner {
        login
      }
    }
    number
    pullRequestObject {
      state
      draft
    }
    epic {
      id
    }
    assignees {
      nodes {
        id
        ghId
        avatarUrl
        login
      }
    }
  }
`,ctt={},dtt=bb.Ps`
  query getPreviousSprint($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      activeSprint {
        id
      }
      upcomingSprint {
        id
      }
      previousSprint {
        id
        endAt
        closedIssuesCount
        completedPoints
        issues {
          nodes {
            ...previousSprintIssue
          }
        }
      }
    }
  }
  ${ltt}
`;function utt(e){const t={...ctt,...e};return cy.a(dtt,t)}const ptt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FLYOVER";const{data:t}=xet(),n=(0,l3.v9)(Na),s=n?._id,r="FLYOVER"===e?itt:ott,i=r(t?.workspace?.previousSprint?.endAt,s),{data:o,error:a,loading:l}=utt({variables:{workspaceId:s},skip:!i||!s,fetchPolicy:"network-only"}),c=o?.workspace?.activeSprint?.id??o?.workspace?.upcomingSprint?.id;return{workspace:n,nextSprintId:c,previousSprint:o?.workspace?.previousSprint,error:a,loading:l}},mtt="ugjrfh9XGdtFRvJ9BVxg",htt=()=>Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(hIe,{size:"s"})),Ye.createElement(hIe,{size:"xl",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"s"})),Ett=e=>{let{workspace:t,previousSprint:n,activeSprintId:s}=e;const r=n?.issues.nodes.filter((e=>"OPEN"===e.state||e.closedAt&&new Date(e.closedAt)>new Date(n.endAt)));return Ye.createElement(G9e,{className:mtt},Ye.createElement(ett,{workspace:t,sprint:n,hasOpenIssues:Boolean(r?.length)}),r?.length?Ye.createElement(Het,{activeSprintId:s,issues:r,workspace:t}):null)},gtt=()=>{const{nextSprintId:e,previousSprint:t,workspace:n,loading:s,error:r}=ptt();return(0,Ye.useEffect)((()=>{e&&!s&&!r&&t&&att(n._id,"FLYOVER")&&((e,t)=>{const n=uI(ttt)??{};dI(ttt,{...n,[t]:e})})((new Date).getTime(),n._id)}),[t,e,s,r]),s?Ye.createElement(htt,null):r||!t?null:Ye.createElement(Ett,{activeSprintId:e??null,previousSprint:t,workspace:n})},ftt="rFhOgTyNt9YQ9acVwAa5",_tt="HQjsAXiWUD5LgCIaBqKr",vtt="JCXdMngrB5Kd9ColaUfv",Itt=e=>{let{onClose:t}=e;return Ye.createElement("div",{className:ftt},Ye.createElement("span",{className:_tt},Ye.createElement("h3",null,"Today\u2019s insights")),Ye.createElement(H5,{variant:z5.TEXT,color:L5.SECONDARY,padding:M5.EXTRA_TIGHT,height:A5.SHORT,onClick:t,className:vtt},Ye.createElement(Z5,null)))};function btt(){return btt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},btt.apply(this,arguments)}const ytt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--ready",t].filter(Boolean).join(" "),"aria-label":"ready",role:"img",...n};return Ye.createElement("svg",btt({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{clipRule:"evenodd",d:"m7.99996 15.3334c-4.05009 0-7.333334-3.2832-7.333334-7.33332 0-4.05009 3.283244-7.333332 7.333334-7.333332 4.05004 0 7.33334 3.283242 7.33334 7.333332 0 4.05012-3.2833 7.33332-7.33334 7.33332zm0-1.3333c3.31374 0 6.00004-2.6863 6.00004-6.00002 0-3.31371-2.6863-6-6.00004-6-3.31371 0-6 2.68629-6 6 0 3.31372 2.68629 6.00002 6 6.00002zm-2.80474-5.80476c.26035-.26035.68246-.26035.94281 0l.86193.86193 2.86193-2.86193c.26031-.26035.68241-.26035.94281 0 .2603.26035.2603.68246 0 .94281l-3.33334 3.33335c-.26035.2603-.68246.2603-.94281 0l-1.33333-1.33335c-.26035-.26035-.26035-.68246 0-.94281z",fill:"currentColor",fillRule:"evenodd"}))},Stt=n.p+"../../img/built/sprint-insights-preview.png",wtt="g5K1SAnBbUrjbzakjzWl",Rtt="xtMYNXJYZtOeiNDJXh_Q",Ttt="zlyb7dcTczEWIKuyRgo0",Ctt="fQ1RaUWNVGl3A6UKlZ1u",ktt="j5Xa3maU0IRBj3V_JPaw",Ott=()=>{const e=SRe(yRe.Insights),{openModal:t}=iie();return Ye.createElement("div",{className:wtt},Ye.createElement(Z9e,null,Ye.createElement("h3",{className:Rtt},"Start using ZenHub sprints"),Ye.createElement("div",{className:Ttt},Ye.createElement(Gee,{className:Ctt}),"See sprint progress and scope change"),Ye.createElement("div",{className:Ttt},Ye.createElement(ytt,{className:Ctt}),"Automatically generate new sprints"),Ye.createElement("div",{className:Ttt},Ye.createElement(rre,{className:Ctt}),"Easily carry over unfinished work"),Ye.createElement(H5,{color:L5.PRIMARY,width:D5.FULL,onClick:()=>{t(),e("Open Sprint config",{Location:"Insights empty state"})}},"Unlock Sprint Insights")),Ye.createElement(t7,{alt:"Sprint Insights preview",className:ktt,src:Stt}))},Ntt={},Ptt=bb.Ps`
  mutation submitProductFeedback($input: SubmitProductFeedbackInput!) {
    submitProductFeedback(input: $input) {
      response
    }
  }
`;function Att(e){const t={...Ntt,...e};return vK.D(Ptt,t)}const Dtt={notInterested:"Not Interested",locationOfData:"Location of data",dataIsInaccurate:"Data is inaccurate",missingContext:"Missing context",needsMoreDetails:"Needs more details",other:"Other"},Ltt="ZhInsightsFeedback",ztt=e=>{dI(Ltt,e)},Mtt="Sx3SepZDxheIj6onrcMF",xtt="ps_EfMwxsmKNugwHIa58",Ftt="jvshkzMYpjJycEQZLf7k",Utt=e=>{let{children:t,className:n}=e;const s=(0,_I.default)(Mtt,n);return Ye.createElement("article",{className:s},t)},Btt=e=>{let{children:t}=e;return Ye.createElement("div",{className:xtt},t)},qtt=e=>{let{children:t}=e;return Ye.createElement("div",{className:Ftt},t)},Htt="XD_05D0irmRhoBPLV6Lw",Wtt="fKGYGUC2JlNtku62HMaQ",jtt="qhrnRB8iUoeKKVK6fyNv",Gtt=e=>{let{isSelected:t,optionId:n,optionLabel:s,onClick:r}=e;const i=(0,_I.default)(Wtt,{[jtt]:t});return Ye.createElement("button",{className:i,key:n,onClick:()=>r(n),type:"button"},s)},Ktt=e=>{let{options:t,onChange:n}=e;const[s,r]=Ye.useState(new Set),i=Ye.useCallback((e=>{const t=new Set(s);s.has(e)?t.delete(e):t.add(e),r(t),n(Array.from(t))}),[s]);return Ye.createElement("div",{className:Htt},Object.entries(t).map((e=>{let[t,n]=e;return Ye.createElement(Gtt,{optionId:t,optionLabel:n,isSelected:s.has(t),key:t,onClick:i})})))};function Vtt(){return Vtt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vtt.apply(this,arguments)}const $tt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--thumbsdown",t].filter(Boolean).join(" "),"aria-label":"thumbsdown",role:"img",...n};return Ye.createElement("svg",Vtt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M2.69 10.667a2 2 0 01-2-2.301l.92-6a1.998 1.998 0 011.992-1.7h7.52c.368 0 .666.3.666.667v7.334c0 .093-.02.185-.057.27l-2.667 6a.667.667 0 01-.61.397 2.667 2.667 0 01-2.666-2.667v-2H2.69zM10.454 2h-6.86a.667.667 0 00-.668.568l-.92 5.999a.667.667 0 00.675.767h3.773c.368 0 .667.298.667.666v2.667c0 .595.39 1.099.928 1.27l2.405-5.412V2zm1.333 6h1.334a.667.667 0 00.666-.667V2.667A.667.667 0 0013.122 2h-1.334v6zM11.122.667h2a2 2 0 012 2v4.667a2 2 0 01-2 2h-2a.667.667 0 01-.667-.667V1.334c0-.369.298-.667.667-.667z",fill:"currentColor"}))};function Ztt(){return Ztt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ztt.apply(this,arguments)}const Ytt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--thumbsup",t].filter(Boolean).join(" "),"aria-label":"thumbsup",role:"img",...n};return Ye.createElement("svg",Ztt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{d:"M13.099 5.333a2 2 0 012 2.301l-.92 6a1.998 1.998 0 01-1.992 1.7h-7.52A.667.667 0 014 14.667V7.333c0-.093.02-.185.057-.27l2.667-6a.667.667 0 01.61-.396A2.667 2.667 0 0110 3.333v2h3.099zM5.333 14h6.861a.667.667 0 00.667-.568l.92-5.999a.667.667 0 00-.675-.766H9.334A.667.667 0 018.666 6V3.333c0-.595-.39-1.099-.927-1.27L5.333 7.475V14zM4 8H2.667A.667.667 0 002 8.667v4.666c0 .369.298.667.667.667H4V8zm.667 7.333h-2a2 2 0 01-2-2V8.667a2 2 0 012-2h2c.368 0 .666.298.666.666v7.334a.667.667 0 01-.667.666z",fill:"currentColor"}))},Jtt="RHFysmnTpCdW7k773VJb",Xtt="Apx_4M16dN2HvTCwUIAn",Qtt="Qsy2PKYLM5mnqfCRh1KS",ent="yAxs7FxVKIol6On8wHYf",tnt="u4SviTgRj492am6CoRCw",nnt=e=>{let{disabled:t=!1,state:n,onChange:s}=e;const r=(0,_I.default)(Xtt,{[Qtt]:"down"===n}),i=(0,_I.default)(Xtt,{[ent]:"up"===n});return Ye.createElement("div",{className:Jtt},Ye.createElement("button",{"aria-label":"Thumbs down",className:r,disabled:t,onClick:()=>s("down"===n?null:"down"),type:"button"},Ye.createElement($tt,{className:tnt})),Ye.createElement("button",{"aria-label":"Thumbs up",className:i,disabled:t,onClick:()=>s("up"===n?null:"up"),type:"button"},Ye.createElement(Ytt,null)))},snt=(0,Ye.memo)(nnt),rnt="e74EetOy0o6alb2TxavU",int="BKOvDbNc_23q3HPopQnw",ont="QIo9Yo5LzYb41FmQF7pA",ant="jZApCkP_eDWXE4G0kOPV";function lnt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const cnt=e=>{const t="Write your feedback...";if(!e.length||e.length>1)return t;switch(e[0]){case"locationOfData":return"Where do you expect to see the placement of this data?";case"dataIsInaccurate":return"Which data can be improved?";case"missingContext":return"Which insight is missing context?";case"needsMoreDetails":return"Which data can use more details?";default:return t}},dnt=e=>{let{hasSubmittedFeedback:t=!1,onSubmitFeedback:n,onToggleThumbsUp:s}=e;const[r,i]=(0,Ye.useState)(null),[o,a]=(0,Ye.useState)([]),[l,c]=(0,Ye.useState)(""),[d,u]=(0,Ye.useState)("open"),p=(0,Ye.useRef)(null),m="down"===r&&"submitted"!==d;(0,Ye.useEffect)((()=>{m&&p?.current&&p.current.scrollIntoView?.()}),[m]);const h=Boolean(o.length),E=!h||"submitting"===d||o.includes("other")&&!l,g=function(){var e,t=(e=function*(e){e.preventDefault(),u("submitting"),yield n(o,l),u("submitted")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){lnt(i,s,r,o,a,"next",e)}function a(e){lnt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return t?Ye.createElement(Iie,{href:"https://portal.productboard.com/zenhub/1-zenhub-portal/c/113-insights",pageName:"Insights",extraClassNames:ont,text:"Help us improve"}):Ye.createElement(Utt,null,Ye.createElement(Btt,null,Ye.createElement("strong",{className:ant},((e,t)=>"submitted"===t?"Thanks for the feedback":"down"===e?"Help us improve":"up"===e?"Excellent!":"Is this useful?")(r,d)),Ye.createElement(snt,{disabled:"submitted"===d,state:r,onChange:e=>{i(e),"up"===e?s(!0):null===e&&s(!1)}})),m?Ye.createElement("form",{ref:p,onSubmit:g},Ye.createElement(qtt,null,Ye.createElement(Ktt,{options:Dtt,onChange:a}),h?Ye.createElement(Ye.Fragment,null,Ye.createElement("textarea",{className:rnt,maxLength:600,onChange:e=>c(e.target.value),placeholder:cnt(o),value:l}),l.length>=600?Ye.createElement("div",{className:int},"Feedback is limited to 600 characters"):null):null,Ye.createElement(H5,{color:L5.PRIMARY,width:D5.FULL,disabled:E,type:x5.SUBMIT},"Submit"))):null)};function unt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const pnt=()=>{const e=SRe(yRe.Insights),[t]=Att(),n=(0,l3.v9)(du),[s,r]=(0,Ye.useState)(!1),i=function(){var s,r=(s=function*(s,r){const i=(o=r,`Insights Feedback:\n${s.map((e=>Dtt[e])).join("\n")}\n\nComments:\n${o||"n/a"}\n`);var o;yield t({variables:{input:{content:i,title:"Insights in-app feedback",customerEmail:n??"",tags:["Insights feedback"]}}});const a=s.reduce(((e,t)=>({...e,[t]:!0})),{});e("Feedback",{reasonAttrs:a,Location:"Insights sidebar",Sentiment:-1,"Added Comments":Boolean(r.length)}),ztt(-1)},function(){var e=this,t=arguments;return new Promise((function(n,r){var i=s.apply(e,t);function o(e){unt(i,n,r,o,a,"next",e)}function a(e){unt(i,n,r,o,a,"throw",e)}o(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();return(0,Ye.useEffect)((()=>{null!=uI(Ltt)&&r(!0)}),[]),L.Z.isEnterprise&&!L.Z.isTrackerEnabled?null:Ye.createElement(dnt,{hasSubmittedFeedback:s,onSubmitFeedback:i,onToggleThumbsUp:t=>{t?(e("Feedback",{Location:"Insights sidebar",Sentiment:1}),ztt(1)):sI(Ltt)}})},mnt="VWK5NcsTXpmT3kwgI_Sg",hnt="AvDAkNaKeOPBjCN5n9pp",Ent=()=>Ye.createElement("div",{className:mnt},Ye.createElement("strong",null,"Looking a little empty?"),Ye.createElement("p",{className:hnt},"It\u2019s your first sprint so more insights will be added as you progress")),gnt=n.p+"../../img/built/cycle-time-preview.png",fnt="NdbZtvvTToV4mMcbAGgp",_nt="Ynmm_BLu_bcmUOB7Lf2w",vnt="Df_6AwihpHQhDbJbawSZ",Int="s2mDoNZAWzt3xn_UVFjz",bnt="JqH0HzdrT8wrct2ojfjR",ynt="GxRK770nGXx5xSM7SoXh",Snt=e=>{let{openPipelineSelector:t}=e;return Ye.createElement("div",{className:fnt},Ye.createElement(Z9e,{className:_nt},Ye.createElement("h3",{className:vnt},"Work in progress insights"),Ye.createElement("p",{className:Int},"Track work in progress and issue throughput data"),Ye.createElement(H5,{color:L5.PRIMARY,onClick:t,width:D5.FULL},"View insight")),Ye.createElement(t7,{alt:"Work in progress insight preview",className:bnt,src:gnt}),Ye.createElement("div",{className:ynt}))},wnt=e=>e.reduce(((e,t,n,s)=>{let r=e+t.name;return n!==s.length-1&&n<s.length-2?r+=", ":n!==s.length-1&&(r+=" or "),r}),""),Rnt="Kg4a9arZHvkKLuZLDP1n",Tnt="yieJz_j3a8tEwgRVN5u0",Cnt="KGc5Lw88Fc8MVIbWqYXE",knt="TKsNI8iLUxbUtG3pWAcV",Ont="IhG4cNQ_f3Zui891HOME",Nnt="BUlX2v7EEt8Bm6nMnSC5",Pnt="kMjJyMyKOhly_e21H8GA",Ant="FSekSrnKVrB0s8SZLfFA",Dnt="k11k3CfR8AHjaaYHp1Dg",Lnt=e=>{let{days:t,tooltipText:n,title:s,onSelectPipelines:r,hasPipeline:i=!0,fullWidth:o=!1,hasAlert:a=!1}=e;const l=(0,_I.default)(Tnt,{[Ont]:o});return Ye.createElement("div",{className:l},Ye.createElement("h4",{className:Cnt},s),i?Ye.createElement(YI,{content:n},Ye.createElement("p",{className:knt},null==t?"N/A":`${t} ${U9e(t)}`,a&&Ye.createElement(p7,{className:Pnt}))):Ye.createElement(H5,{className:knt,onClick:r,variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE},"Select pipeline(s)"))},znt=e=>{let{avgCycleDays:t,developmentDays:n,reviewDays:s,onSelectPipelines:r,pipelines:i}=e;const{inDevelopmentPipelines:o,inReviewPipelines:a}=i,l=Boolean(o.length),c=Boolean(a.length),d=SRe(yRe.Insights),{developmentTooltipText:u,reviewTooltipText:p,avgCycleTooltipText:m}=((e,t,n,s)=>{let{inDevelopmentPipelines:r,inReviewPipelines:i,completedPipelines:o}=e;const a=i[0]?.name?`${i[0]?.name} or `:"",l=o[0]?`${o[0]?.name} or any subsequent pipelines`:"Closed",c=wnt(r),d=wnt(i),u=wnt(o);return{developmentTooltipText:null!=t?`Average days in development is based on issues starting in ${c} and completed in ${a}any subsequent pipelines`:`No issues have moved through ${c} in the last 14 days`,reviewTooltipText:null!=n?`Average days in review is based on issues starting in ${d} and completed in ${l}`:`No issues have moved through ${d} in the last 14 days`,avgCycleTooltipText:null!=s?`Average cycle time is based on issues starting in ${c} and completed in ${l}`:`No issues have moved through ${u} in the last 14 days`}})(i,n,s,t),h=null!=s&&null!=n&&s/n>=3&&n+s>=2;return(0,Ye.useEffect)((()=>{h&&d("Average cycle time - review alert shown")}),[h,d]),Ye.createElement("main",{className:Rnt},Ye.createElement(Lnt,{title:"In development",days:n,hasPipeline:l,onSelectPipelines:r,tooltipText:u}),Ye.createElement(Lnt,{title:"In review",days:s,hasPipeline:c,onSelectPipelines:r,tooltipText:p,hasAlert:h}),Ye.createElement(Lnt,{title:"Avg cycle time over the last 14 days",days:t,onSelectPipelines:r,tooltipText:m,fullWidth:!0}),null!=s&&null!=n?Ye.createElement("div",{className:(0,_I.default)(Nnt,Ont)},h?Ye.createElement(Ye.Fragment,null,Ye.createElement(p7,{className:Pnt}),Ye.createElement("p",{className:Dnt},"Review time is much higher than development time. Try reducing the size of your issues; short, frequent reviews are more efficient and provide better results.")):Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:Ant},Ye.createElement(f5,null)),Ye.createElement("p",{className:Dnt},"Review time is on track!"))):null)},Mnt="ryT4QDrIbUxNkASKF0C7",xnt="YNm65XtVsI4PQHkqeCTo",Fnt="tXzTJwctf1f3GSaaHEaz",Unt="d0jxWG040SvTeQr2Xtc_",Bnt="igkfzXBN7FPC929f2kdA",qnt="YbbcqIJtlOOuVHklLc0J",Hnt="iMPFt6llEtZOFJKSLLKN",Wnt="Vl4WEBf4q3TLd0Omh9hm",jnt=()=>Ye.createElement("div",{className:Bnt},Ye.createElement("div",{className:(0,_I.default)(qnt,Hnt)}),"Development time",Ye.createElement("div",{className:(0,_I.default)(qnt,Wnt)}),"Review time"),Gnt=e=>{let{developmentDays:t,reviewDays:n}=e;const s=t+n,r=Math.round(t/s*100),i=Math.round(n/s*100),o={width:`${r}%`},a={width:`${i}%`};return Ye.createElement("div",{className:Mnt},Ye.createElement("div",{className:xnt},Ye.createElement("div",{className:Fnt,style:o},r>10?`${r}%`:""),Ye.createElement("div",{className:Unt,style:a},i>10?`${i}%`:"")),Ye.createElement(jnt,null))},Knt=bb.Ps`
  fragment anomalyIssue on Issue {
    id
    state
    title
    number
    htmlUrl
    epic {
      id
    }
    pullRequestObject {
      state
      draft
    }
    repository {
      id
      name
      ghId
      owner {
        login
      }
    }
    assignees {
      nodes {
        id
        ghId
        avatarUrl
        login
      }
    }
  }
`,Vnt={},$nt=bb.Ps`
  query getAverageCycleTime($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      issueFlowStats {
        avgCycleDays
        inDevelopmentDays
        inReviewDays
        anomalies {
          duration
          issue {
            ...anomalyIssue
          }
        }
      }
      closedPipeline {
        id
      }
      pipelinesConnection {
        nodes {
          id
          name
          stage
        }
      }
    }
  }
  ${Knt}
`;const Znt={},Ynt=bb.Ps`
  mutation setPipelineStages($input: SetPipelineStagesInput!) {
    setPipelineStages(input: $input) {
      pipelines {
        id
        name
        stage
      }
    }
  }
`;function Jnt(e){const t={...Znt,...e};return vK.D(Ynt,t)}const Xnt={id:"closed-pipeline",name:"Closed"},Qnt=(e,t)=>e.filter((e=>e.stage===t)).map((e=>e.id)),est=e=>e.filter((e=>e!==Xnt.id)),tst=e=>{if(e.some((e=>Boolean(e.stage))))return null;if(e.map((e=>e.name)).join(" -> ").includes("-> In Progress -> Review/QA -> Done")){const t=e.find((e=>"In Progress"===e.name)),n=e.find((e=>"Review/QA"===e.name)),s=e.find((e=>"Done"===e.name));return{inDevelopment:t?[t.id]:[],inReview:n?[n.id]:[],completed:s?[s.id]:[]}}return null},nst=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[t,{loading:n}]=Jnt(),s=(0,l3.v9)(Pa);return(0,Ye.useEffect)((()=>{const n=tst(e);n&&t({variables:{input:{workspaceId:s,inDevelopmentPipelineIds:n.inDevelopment,inReviewPipelineIds:n.inReview,completedPipelineIds:est(n.completed)}}})}),[e,s,t]),{isSavingStages:n}},sst=()=>{const e=(0,l3.v9)(Na),{data:t,loading:n,error:s,refetch:r}=function(e){const t={...Vnt,...e};return cy.a($nt,t)}({variables:{workspaceId:e._id},fetchPolicy:"cache-and-network"}),i=t?.workspace?.issueFlowStats,o=t?.workspace?.pipelinesConnection.nodes,a=t?.workspace?.closedPipeline.id??"",l=t?.workspace?.issueFlowStats?.anomalies??[],{isSavingStages:c}=nst(o),d=i&&o?(e=>e.reduce(((e,t)=>("DEVELOPMENT"===t.stage?e.inDevelopmentPipelines.push({id:t.id,name:t.name}):"REVIEW"===t.stage?e.inReviewPipelines.push({id:t.id,name:t.name}):"COMPLETED"===t.stage&&e.completedPipelines.push({id:t.id,name:t.name}),e)),{inDevelopmentPipelines:[],inReviewPipelines:[],completedPipelines:[]}))(o):{inDevelopmentPipelines:[],inReviewPipelines:[],completedPipelines:[]};return d.completedPipelines.push({name:"Closed",id:a}),{loading:n||c,error:s,pipelines:d,issueFlowStats:i,closedPipelineId:a,refetch:r,anomalies:l}},rst={},ist=bb.Ps`
  query getPipelineStages($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      pipelinesConnection {
        nodes {
          id
          name
          stage
        }
      }
    }
  }
`;const ost="dPdekQopECsCEnFKcIJ4",ast="Je7pfDDsUalqpMvpK9hO",lst="oOZaUTPK8pCR2Nlw_Jjr",cst="d0JUMwJ_lyUYKSzMZTms",dst="s_O91WjTAx5yZuSyf5aH",ust=e=>{let{title:t,subtitle:n,onClose:s}=e;return Ye.createElement("header",{className:ost},Ye.createElement("div",{className:lst},Ye.createElement("h1",{className:ast},t),Ye.createElement("button",{"aria-label":"Close",className:cst,type:"button",onClick:s},Ye.createElement(Z5,null))),n?Ye.createElement("p",{className:dst},n):null)},pst="qV07adqj0BMKzWZNAS_O",mst="nhsA296Jc4pmMwCaXM2U",hst="sXgcafcBCeCGHoio31NP",Est="pgVrYJiv7VpyAfVDPVAN",gst="SelUiTgFfREVKDFPhR6S",fst=(e,t)=>{const n=t.toLowerCase();return e.filter((e=>e.name?.toLowerCase().includes(n)))},_st=e=>Ye.createElement("div",{className:Est},e.id===Xnt.id?Ye.createElement(mKe,{className:gst}):null,e.name),vst=e=>{let{disabledIds:t,onSelectionChange:n,pipelines:s,selectedPipelineIds:r}=e;const i=(0,Ye.useMemo)((()=>(t??[]).reduce(((e,t)=>r.includes(t)&&t!==Xnt.id?e:{...e,[t]:!0}),{})),[t,r]),o=s.filter((e=>r.includes(e.id))).map((e=>e.name)),a=r.length?Ye.createElement("span",{className:mst},o.join(", ")):Ye.createElement("span",{className:hst},"Select pipeline(s)");return Ye.createElement(rSe,{button:Ye.createElement(H5,{className:pst},a,Ye.createElement(gte,null)),disabledItemMap:i,emptyState:Ye.createElement("div",null,"No pipelines found"),filterFn:fst,filterInputPlaceholder:"Filter pipelines",forcedPositions:{BOTTOM:!0,LEFT:!0},hasItemBorder:!0,headerText:"Select pipeline(s)",initialSelectedIds:r,items:s,itemRenderer:_st,onSelectionChange:e=>{let{changedToSelected:t,changedToUnselected:i}=e;const o=((e,t,n,s)=>{const r=new Set(e);t.forEach((e=>r.add(e))),n.forEach((e=>r.delete(e)));const i=[];return s.forEach((e=>{r.has(e.id)&&i.push(e.id)})),i})(r,t,i,s);n(o)}})},Ist="cF3RNdFtOzkLNAHOdJyQ",bst="kcTOTqXOTDXBMJdjHFIz",yst="hs9Dx1bZmktESpMs4uqk",Sst="iir9_7CWlKa2HAo7wWyb",wst="nnmkWWitTmnPulxmJysw",Rst="yug9qEv7dsHj0QfAq_MO";function Tst(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Cst=()=>Ye.createElement("div",{className:Rst},Ye.createElement("div",{className:Sst},Ye.createElement(mIe,{charCount:20}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(mIe,{charCount:20}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(mIe,{charCount:20}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}))),kst=e=>{let{onClose:t,onSubmit:n}=e;const[s,r]=(0,Ye.useState)([]),[i,o]=(0,Ye.useState)([]),[a,l]=(0,Ye.useState)([]),c=SRe(yRe.Insights),[d]=Jnt(),u=(0,l3.v9)(Pa),{data:p,loading:m}=function(e){const t={...rst,...e};return cy.a(ist,t)}({variables:{workspaceId:u},fetchPolicy:"cache-first",onCompleted:e=>{const t=e?.workspace?.pipelinesConnection.nodes??[],n=tst(t);r(n?.inDevelopment||Qnt(t,"DEVELOPMENT")),o(n?.inReview||Qnt(t,"REVIEW")),l(n?.completed||Qnt(t,"COMPLETED"))}});(0,Ye.useEffect)((()=>{c("Pipeline stages modal opened")}),[c]);const h=[...p?.workspace?.pipelinesConnection.nodes??[],Xnt],E=function(){var e,r=(e=function*(){c("Pipeline stages modal submitted"),yield d({variables:{input:{workspaceId:u,inDevelopmentPipelineIds:s,inReviewPipelineIds:i,completedPipelineIds:est(a)}}}),t(),n()},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Tst(i,s,r,o,a,"next",e)}function a(e){Tst(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}(),g=(e=>{let{pipelineIds:t,inDevelopment:n,inReview:s,completed:r}=e;const i=e=>{const n=e.map((e=>t.indexOf(e))),s=n.sort(((e,t)=>e-t)).pop();return e.length&&null!=s?t.slice(0,s+1):[]},o=e=>{const n=t.indexOf(e[0]);return e.length&&null!=n?t.slice(n):[]};return{inDevelopment:[...o(s),...o(r),Xnt.id],inReview:[...i(n),...o(r),Xnt.id],completed:[...i(n),...i(s),Xnt.id]}})({pipelineIds:h.map((e=>e.id)),inDevelopment:s,inReview:i,completed:a}),f=m||!h.length?Ye.createElement(Cst,null):Ye.createElement("div",{className:Sst},Ye.createElement("div",{className:wst},"In development"),Ye.createElement(vst,{disabledIds:g.inDevelopment,pipelines:h,onSelectionChange:r,selectedPipelineIds:s}),Ye.createElement("div",{className:wst},"In review"),Ye.createElement(vst,{disabledIds:g.inReview,pipelines:h,onSelectionChange:o,selectedPipelineIds:i}),Ye.createElement("div",{className:wst},"Completed"),Ye.createElement(vst,{disabledIds:g.completed,pipelines:h,onSelectionChange:l,selectedPipelineIds:[...a,Xnt.id]}));return Ye.createElement(Xre,{closeOnEsc:!0,isOpen:!0,onClose:t},Ye.createElement("div",{className:Ist},Ye.createElement(ust,{onClose:t,title:"Workflow"}),Ye.createElement("div",{className:bst},Ye.createElement("p",{className:yst},"Select the pipeline(s) for each stage of your team\u2019s workflow"),f,Ye.createElement(H5,{color:L5.PRIMARY,onClick:E,width:D5.FULL},"Done"))))},Ost="igy4AWyVWDxhwz9k0JcY",Nst="aGMJmkNbQ_krtH9citya",Pst="aXK3NfVLSYEpwB_DdrY2",Ast="xSTbyD9wi_fEWw7OWK6n",Dst="GTV9xTS5HQfoUqBra6sL",Lst="_JHvfD9rpWK6dbtfnCwi",zst="fMjQLAHYIHmq9RDwKI8M",Mst="uo6gH_3Rd4Iwk7qD5bgQ",xst="YqSp2ARFWxqL7TBEprzz",Fst="LJvxHVPD77CmNW1WUFKc",Ust="uuNYemynaHFkC7tGAN6N",Bst="i2K97mVMIuFuGsOQFM3O",qst="p7E7VDUFdIrRc4L4Hu_2",Hst="U3S62giwO6ufwQR1T_lA",Wst=e=>{let{issue:t,duration:n,workspace:s,isCollapsedItem:r=!1}=e;const i=n<1?"< 1 day":`${n} ${U9e(n)}`;return Ye.createElement(M8e,{isCollapsedItem:r},Ye.createElement(get,{assignees:t.assignees.nodes,pullRequest:t.pullRequestObject,isEpic:Boolean(t.epic)}),Ye.createElement("div",{className:Mst},Ye.createElement(_et,{workspace:s,issue:t}),Ye.createElement("p",{className:xst},`${t.repository.name} #${t.number}`)),Ye.createElement("div",{className:Fst},i))},jst=Ye.createElement("div",{className:Hst},"Anomalies are issues that take 1.5x longer than the average cycle time"),Gst=Ye.createElement("div",{className:Ust},"Anomalies",Ye.createElement(YI,{content:jst,position:jI.TOP},Ye.createElement(T9,{className:qst})),Ye.createElement("span",{className:Bst},"Completion time")),Kst=e=>{let{anomalies:t,workspace:n}=e;return Ye.createElement(U8e,{header:Gst},t.map((e=>Ye.createElement(Wst,{key:e.issue.id,workspace:n,issue:e.issue,duration:e.duration}))))},{router:Vst}=LG,$st=()=>Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(hIe,{size:"s"})),Ye.createElement(hIe,{size:"xl",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"s"})),Zst=()=>Ye.createElement("div",{className:Pst},Ye.createElement(t7,{className:Ast,src:Tfe}),Ye.createElement("h3",{className:Dst},"Your insights are coming!"),Ye.createElement("p",{className:Lst},"There hasn\u2019t been issue movement in the last 14 days. Cycle time (and more) will be calculated once issues start moving through the Board.")),Yst=e=>{let{pipelines:t,issueFlowStats:n,closedPipelineId:s,refetchData:r,anomalies:i}=e;const o=SRe(yRe.Insights),a=(0,l3.I0)(),l=(0,l3.v9)(Na),[c,d]=(0,Ye.useState)(!1),u=n?.inDevelopmentDays,p=n?.inReviewDays,m=n?.avgCycleDays,{inDevelopmentPipelines:h,inReviewPipelines:E,completedPipelines:g}=t,f=()=>{d(!0),o("Average cycle time - click empty stage")},_=Boolean(h.length)||Boolean(E.length),v=null!=n&&(null!=u||null!=p||null!=m),I=n&&_?Ye.createElement(G9e,null,Ye.createElement(K9e,null,Ye.createElement(w9e,null),"Average days in cycle",Ye.createElement("button",{type:"button",className:Nst,onClick:()=>{d(!0),o("Average cycle time - click settings button")}},Ye.createElement(_te,null))),v?Ye.createElement("div",{className:Ost},Ye.createElement(znt,{avgCycleDays:m,developmentDays:u,reviewDays:p,pipelines:t,onSelectPipelines:f}),u&&p?Ye.createElement(Gnt,{developmentDays:u,reviewDays:p}):null,i.length>0?Ye.createElement($9e,null,Ye.createElement(Kst,{workspace:l,anomalies:i})):null,Ye.createElement(H5,{className:zst,onClick:()=>{const e=h[0]?.id,t=e?`&sp=${e}`:"",n=`&ep=${g[0]?.id??s}`,r=ma.getReportsPath({workspace:l,type:"control"});a(Vst.openLocation(`${r}?df=&dt=&dr=14d${t}${n}`)),o("Average cycle time - view control chart")},width:D5.FULL},"See control chart")):Ye.createElement(Zst,null)):Ye.createElement(Snt,{openPipelineSelector:f});return Ye.createElement(Ye.Fragment,null,I,c&&Ye.createElement(kst,{onSubmit:()=>r(),onClose:()=>d(!1)}))},Jst=()=>{const{loading:e,error:t,pipelines:n,issueFlowStats:s,closedPipelineId:r,refetch:i,anomalies:o}=sst();return e?Ye.createElement($st,null):t?null:Ye.createElement(Yst,{pipelines:n,issueFlowStats:s,closedPipelineId:r,refetchData:i,anomalies:o})},Xst="ualY2FeYIQUmMcqBn6Fw",Qst="udLbrpgWDcU_SabJf6Be",ert="r_yo2LJcDZPowpP_QX_k",trt="jOS4VvTItALVLDcnFXh7",nrt="zCbxdHlJQ935MCAZO7z5",srt="PqqnZLLEKkSeTcZUgctT",rrt="WsltEmj8WoTTFBOapD_6",irt=e=>{let{areSprintsEnabled:t,isFirstSprint:n,onClose:s}=e;const[r,i]=(0,Ye.useState)(!1),o=(0,_I.default)(Qst,{[trt]:r,[ert]:F}),a=(0,_I.default)({[srt]:!r}),l=(0,Ye.useCallback)((()=>{i(!1),setTimeout(s,300)}),[i,s]);return y9e({closePortal:l,flyoverElementSelector:`.${Xst}`}),(0,Ye.useEffect)((()=>{window.setTimeout((()=>i(!0)),0)}),[]),Ye.createElement(ine,{closeOnEsc:!0,isOpen:!0,onClose:l},Ye.createElement("div",{className:Xst},Ye.createElement("div",{className:o},Ye.createElement("div",{className:nrt},Ye.createElement(Itt,{onClose:l}),Ye.createElement("div",{className:rrt},Ye.createElement(k7,{name:"workspaces-average-cycle-time-insight"},Ye.createElement(Jst,null)),t?Ye.createElement(Ye.Fragment,null,Ye.createElement(gtt,null),Ye.createElement(Pet,null),Ye.createElement(v8e,null),Ye.createElement(t8e,null),n?Ye.createElement(Ent,null):Ye.createElement(pnt,null)):Ye.createElement(Ott,null)))),Ye.createElement(k9e,{className:a},Ye.createElement(O9e,{onClick:l}))))},ort="SprintCompleteInsightToast",art=e=>{const[t,n]=(0,Ye.useState)(!1),{previousSprint:s,workspace:r,loading:i,error:o}=ptt("TOAST");return(0,Ye.useEffect)((()=>{if(!i&&!o&&s&&att(r._id,"TOAST")){const t=()=>{H.Z.removeByTypeAndTag(W.Z.WRAPPER_EXPIRING,ort),n(!1)},i={hasCloseButton:!1,noPadding:!0,newBorderRadius:!0,expirationDelay:15e3,children:Ye.createElement(ett,{sprint:s,workspace:r,onClose:t,onClick:()=>{t(),e()},isToastSummary:!0})};t(),H.Z.createToast(W.Z.WRAPPER_EXPIRING,i,ort),n(!0),((e,t)=>{const n=uI(ntt)??{};dI(ntt,{...n,[t]:e})})((new Date).getTime(),r._id)}}),[s,i,o,r]),{isSprintCompleteToastVisible:t,setIsSprintCompleteToastVisible:n}},lrt=()=>{const e=(0,l3.v9)(q_),[t,n]=(0,Ye.useState)(!1),{data:s}=xet({skip:!e}),r=SRe(yRe.Insights),i=(()=>{const e=null!=(0,l3.v9)(WA),t=(0,l3.v9)(vA),n=(0,l3.v9)(V_);return t||e||n||ma.isNewIssuePage?.(location.pathname)})(),o=Boolean(s?.workspace?.sprintConfig),a=o&&!s?.workspace?.previousSprint,l=t&&!i,{isSprintCompleteToastVisible:c,setIsSprintCompleteToastVisible:d}=art((()=>n(!0)));(0,Ye.useEffect)((()=>{t&&i&&n(!1)}),[t,i]),(0,Ye.useEffect)((()=>{const t="zh-insights-enabled";return e&&document.body.classList.add(t),()=>document.body.classList.remove(t)}),[e]);const u=(0,Ye.useCallback)((()=>{c&&(H.Z.removeByTypeAndTag(W.Z.WRAPPER_EXPIRING,ort),d(!1)),n(!0),r("Open flyover")}),[c,d,n,r]),p=()=>{n(!1),r("Close flyover")};return qWe(E8.BOARD_OPEN_INSIGHTS.shortcuts,(()=>{t||i||u(),t&&p()})),e?Ye.createElement(Ye.Fragment,null,l&&Ye.createElement(irt,{areSprintsEnabled:o,isFirstSprint:a,onClose:p}),Ye.createElement(k9e,null,Ye.createElement(YI,{content:"Insights"},Ye.createElement(O9e,{onClick:u})))):null};var crt=n(81454);const drt=bb.Ps`
  fragment boardIssueData on Issue {
    id
    ghId
    number
    title
    state
    htmlUrl
    metadata(workspaceId: $workspaceId)
  }
`,urt=bb.Ps`
  fragment pipelineIssueForSubscriptionData on PipelineIssue {
    id
    issue {
      ...boardIssueData
    }
    pipeline {
      id
    }
    relativePosition
    itemBefore {
      id
      issue {
        ...boardIssueData
      }
    }
  }
  ${drt}
`,prt=bb.Ps`
  fragment boardPipelineData on Pipeline {
    id
    name
    description
    isEpicPipeline
    workspace {
      id
    }
  }
`,mrt=bb.Ps`
  fragment currentWorkspaceData on Workspace {
    id
    name
    defaultRepository {
      id
      ghId
    }
    description
    displayName
    repositories {
      id
      ghId
      name
      ownerName
      isFavorite
    }
  }
`,hrt={},Ert=bb.Ps`
  subscription subscribeToWorkspace($workspaceId: ID!) {
    workspaceUpdates(workspaceId: $workspaceId) {
      updates {
        action
        pipelineIssues {
          ...pipelineIssueForSubscriptionData
        }
        filteredPipelineIssues {
          ...pipelineIssueForSubscriptionData
        }
        pipelineIssueMoves {
          movedAt
          sourcePipelineId
          pipelineIssue {
            ...pipelineIssueForSubscriptionData
          }
        }
        pipelines {
          ...boardPipelineData
          itemBefore {
            ...boardPipelineData
          }
        }
        workspace {
          ...currentWorkspaceData
        }
        pipelineIssuesRebalanced {
          id
          issueId
          relativePosition
        }
        deletedPipelineIssues {
          ... {
            id
            issueId
            pipelineId
          }
        }
        pipelineDeleted {
          destinationPipeline {
            id
          }
          id
          eventId
        }
      }
    }
  }
  ${urt}
  ${prt}
  ${mrt}
`;const grt={},frt=bb.Ps`
  query pipelineIssues(
    $pipelineId: ID!
    $workspaceId: ID!
    $query: String
    $issuesAfter: String
    $numberOfIssues: Int!
    $filters: IssueSearchFiltersInput!
    $order: IssueOrderInput
  ) {
    searchIssuesByPipeline(
      pipelineId: $pipelineId
      query: $query
      filters: $filters
      order: $order
      after: $issuesAfter
      first: $numberOfIssues
    ) {
      pageInfo {
        endCursor
        startCursor
        hasNextPage
      }
      nodes {
        ...boardIssueData
      }
    }
  }
  ${drt}
`;const _rt={},vrt=bb.Ps`
  query workspaceClosedIssues(
    $workspaceId: ID!
    $query: String
    $issuesAfter: String
    $numberOfIssues: Int!
    $filters: IssueSearchFiltersInput!
  ) {
    searchClosedIssues(
      workspaceId: $workspaceId
      query: $query
      filters: $filters
      after: $issuesAfter
      first: $numberOfIssues
    ) {
      pageInfo {
        endCursor
        startCursor
        hasNextPage
      }
      nodes {
        ...boardIssueData
      }
    }
  }
  ${drt}
`;const Irt={},brt=bb.Ps`
  query pipelineIssuesTotalAndPoints(
    $pipelineId: ID!
    $query: String
    $filters: IssueSearchFiltersInput!
  ) {
    searchIssuesByPipelineCounts(
      pipelineId: $pipelineId
      query: $query
      filters: $filters
    ) {
      pipelineCounts {
        issuesCount
        pullRequestsCount
        sumEstimates
      }
    }
  }
`;const yrt={},Srt=bb.Ps`
  query workspaceClosedIssuesTotalAndPoints(
    $workspaceId: ID!
    $query: String
    $filters: IssueSearchFiltersInput!
  ) {
    searchClosedIssuesCounts(
      workspaceId: $workspaceId
      query: $query
      filters: $filters
    ) {
      pipelineCounts {
        issuesCount
        pullRequestsCount
      }
    }
  }
`;const wrt=bb.Ps`
  query getIssueByInfo($repositoryGhId: Int!, $issueNumber: Int!, $workspaceId: ID!) {
    issueByInfo(repositoryGhId: $repositoryGhId, issueNumber: $issueNumber) {
      ...boardIssueData
    }
  }
  ${drt}
`;const Rrt=bb.Ps`
  fragment boardPriorityData on Priority {
    id
    name
    color
  }
`,Trt={},Crt=bb.Ps`
  query workspacePipelines($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      prioritiesConnection {
        nodes {
          ...boardPriorityData
        }
      }
      pipelinesConnection {
        nodes {
          ...boardPipelineData
        }
      }
    }
  }
  ${Rrt}
  ${prt}
`;const krt=e=>Boolean(e)&&e!==aa,Ort=e=>{switch(e){case oa.MANUAL:return"Manual";case oa.ASSIGNEE:return"Assignee";case oa.SPRINT:return"Sprint";case oa.NEWEST:return"Newest";case oa.OLDEST:return"Oldest";case oa.TITLE_AZ:return"Title A-Z";case oa.TITLE_ZA:return"Title Z-A";default:return""}},Nrt=(e,t)=>(e||qb()).identify(t),Prt=bb.Ps`
  fragment WorkspaceRepoAndFilters on Workspace {
    id
    labelFilters {
      nodes {
        id
        labelName
      }
    }
    defaultRepository {
      ghId
      id
      name
      owner {
        id
        login
        avatarUrl
      }
    }
  }
`,Art=(e,t)=>e.readFragment({id:Nrt(e,{__typename:"Workspace",id:t}),fragment:Prt});function Drt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Lrt=(e,t)=>(e.readQuery({query:Crt,variables:{workspaceId:t}})?.workspace?.pipelinesConnection.nodes||[]).map((e=>e.id)),zrt=(e,t,n)=>{const{index:s,pipeline:r}=((e,t)=>{const n=t.find((t=>{let{id:n}=t;return n===e}));return{index:t?.indexOf(n),pipeline:n}})(e,t),i=ki(s,t);return Oi(n,r,i)},Mrt=(e,t,n,s)=>{const r=(s===bo?Jrt(e,n)?.searchClosedIssues?.nodes:Yrt(e,n,s)?.searchIssuesByPipeline?.nodes)?.find((e=>e.id===t));return Boolean(r)},xrt=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=Nrt(e,{__typename:"Issue",id:n}),i=Lrt(e,t);if(0===i.length)return;const o=i.map((e=>({workspaceId:t,pipelineId:e})));s||e.modify({fields:{searchIssuesByPipelineCounts:s=>{if(!s.hasSameMultipleVariables(o))return s;const{pipelineId:i}=s.getArgs();return Mrt(e,n,t,i)?Qrt(e,"SUBTRACT",s,t,i,r):s},searchClosedIssuesCounts:s=>s.hasSameVariables({workspaceId:t})&&Mrt(e,n,t,bo)?Qrt(e,"SUBTRACT",s,t,bo,r):s}}),e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameMultipleVariables(o)?$rt(e,r):e,searchClosedIssues:e=>e.hasSameVariables({workspaceId:t})?$rt(e,r):e}})},Frt=function(e,t,n,s,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];n!==bo?e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:n})?Zrt(r,e,s):e,searchIssuesByPipelineCounts:r=>!i&&r.hasSameVariables({workspaceId:t,pipelineId:n})?Qrt(e,"ADD",r,t,n,s):r}}):e.modify({fields:{searchClosedIssues:e=>e.hasSameVariables({workspaceId:t})?Zrt(r,e,s):e,searchClosedIssuesCounts:r=>!i&&r.hasSameVariables({workspaceId:t})?Qrt(e,"ADD",r,t,n,s):r}})},Urt=function(){var e,t=(e=function*(e,t,n,s,r){const{cache:i}=e,o=Art(i,s);if(hle(o,[...M6e(r),...r.boardV2.settings.showOpenIssues?[]:[r.boardV2.settings.showOpenIssues]]))return;const{data:a}=yield e.query({query:wrt,variables:{repositoryGhId:t,issueNumber:n,workspaceId:s}}),{issueByInfo:l}=a,c=l.metadata?.pipeline_issue?.pipeline?.id,d=void 0!==l.metadata?.pipeline_issue?.priority?.id,u=r.boardV2.sortedPipelines[c];if(!krt(u))try{const e=i.readQuery({query:frt,variables:{workspaceId:s,pipelineId:c}})?.searchIssuesByPipeline,t=i.readQuery({query:brt,variables:{workspaceId:s,pipelineId:c}})?.searchIssuesByPipelineCounts;if(null==e||null==t)return;const n=Nrt(i,{__typename:"Issue",id:l.id}),r=e.pageInfo.hasNextPage,o=t.pipelineCounts.pullRequestsCount||0,a=(t.pipelineCounts.issuesCount||0)+o;let u=0;if(!d){if(r)return void i.modify({fields:{searchIssuesByPipelineCounts:e=>e.hasSameVariables({workspaceId:s,pipelineId:c})?Qrt(i,"ADD",e,s,c,n):e}});u=a}i.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:s,pipelineId:c})?Zrt(u,e,n):e,searchIssuesByPipelineCounts:e=>e.hasSameVariables({workspaceId:s,pipelineId:c})?Qrt(i,"ADD",e,s,c,n):e}})}catch(e){oe("Failed to add new issue to apollo cache",e)}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Drt(i,s,r,o,a,"next",e)}function a(e){Drt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n,s,r,i){return t.apply(this,arguments)}}();let Brt=null;const qrt=()=>(Brt||(Brt=TI()?6:(()=>{const e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",e.style.scrollbarWidth="thin",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const s=n.offsetWidth;return e?.parentNode?.removeChild(e),(t-s||0)+1})()),Brt),Hrt=e=>e<1?45:7+e*Io+qrt(),Wrt=(e,t,n)=>e.readFragment({id:n,fragment:drt,variables:{workspaceId:t}}),jrt=(e,t)=>t?e.readFragment({id:t,fragment:prt}):null,Grt=(e,t,n,s,r)=>{if(!r)return n.value;const i=Wrt(e,t,r);if(null==i)return null;const o=null!==i.metadata.pull_request_data,a=i.metadata?.pr_connections?.reduce(((e,t)=>e+("closed"===t.pull_request_data?.state?0:1)),0),l=a+(o?1:0),c=i.metadata.estimate?.value||0;return"ADD"===s?{pipelineCounts:{sumEstimates:(n.value.pipelineCounts?.sumEstimates||0)+c,issuesCount:(n.value.pipelineCounts?.issuesCount||0)+(o?0:1),pullRequestsCount:(n.value.pipelineCounts?.pullRequestsCount||0)+l}}:{pipelineCounts:{sumEstimates:Math.max(0,(n.value.pipelineCounts?.sumEstimates||0)-c),issuesCount:Math.max(0,(n.value.pipelineCounts?.issuesCount||0)-(o?0:1)),pullRequestsCount:Math.max(0,(n.value.pipelineCounts?.pullRequestsCount||0)-l)}}},Krt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=e.find((e=>e.__ref===t)),s=e.indexOf(n);return s<0?e:ki(s,e)},Vrt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!n||e<0)return t;const s=Krt(t,n);return Oi(e,{__ref:n},s)},$rt=(e,t)=>{const n=e.value.nodes,s=n?.find((e=>e.__ref===t));return s?{...e,value:{...e.value,nodes:Krt(n,t)}}:e},Zrt=(e,t,n)=>{const s=t.value.nodes?.find((e=>e.__ref===n));return s?t:{...t,value:{...t.value,nodes:Vrt(e,t.value.nodes,n)}}},Yrt=(e,t,n)=>e.readQuery({query:frt,variables:{workspaceId:t,pipelineId:n}}),Jrt=(e,t)=>e.readQuery({query:vrt,variables:{workspaceId:t}}),Xrt=(e,t,n,s,r,i,o)=>{const a=[],l=e.readQuery({query:s?vrt:frt,variables:{workspaceId:n,pipelineId:t,query:o,filters:i}});if(null==l)return a;const c=(null!=l.searchClosedIssues?l.searchClosedIssues?.nodes:l.searchIssuesByPipeline?.nodes)||a;return r?c:c.filter((e=>!e.metadata.connected_to_issue?.exists))},Qrt=(e,t,n,s,r,i,o)=>({...n,value:{...n.value,...o?{}:Grt(e,s,n,t,i)}}),eit=(e,t,n)=>{const s=Krt(t.value.nodes,n);return{...t,value:{...t.value,nodes:Vrt(e,s,n)}}},tit=(e,t,n)=>{e.modify({id:n,fields:{title:()=>t.title,state:()=>t.state,htmlUrl:()=>t.htmlUrl,metadata:()=>t.metadata}})},nit=(e,t,n)=>{e.writeFragment({id:Nrt(e,{__typename:"Issue",id:n.id}),fragment:drt,data:n,variables:{workspaceId:t}})},sit=(e,t)=>({id:Vo,ghId:-1,number:-1,title:e,state:Vi.Open,htmlUrl:$o,metadata:{repository:t,assignees:[],user:{html_url:$o,id:Ko,gh_id:-1,avatar_url:$o,login:Zo},estimate:null,estimation_state:null,labels:[],milestone:null,pipeline_issue:{relative_position:0},sprints:[],pull_request_data:null,pull_request_reviews:[],review_requests:[],parent_epics:[],parent_zenhub_epics:[],blocked_issues:[],blocking_issues:[],epic:null,releases:[],connected_to_issue:{exists:!1},pr_connections:[]}}),rit=(e,t)=>{const n=sit(e,t);return{createEpic:{epic:{id:Yo,issue:{...n,metadata:{...n.metadata,epic:{id:Yo}},__typename:"Issue"},__typename:"Epic"},__typename:"CreateEpicPayload"}}},iit=(e,t,n,s)=>{const r=s.id||"",i=Nrt(e,{__typename:"Issue",id:r||""}),o=e.readQuery({query:frt,variables:{workspaceId:t,pipelineId:n}})?.searchIssuesByPipeline,a={...s,metadata:{...s.metadata,pipeline_issue:{pipeline:{id:n}}}};tit(e,a,i);const l=o?.pageInfo.hasNextPage,c=o?.nodes.length,d=o?.nodes.filter((e=>Boolean(e.metadata.pipeline_issue?.priority)))?.length||0;if(l&&d===c)return;const u=d;e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:n})?{...e,value:{...e.value,nodes:Vrt(u,e.value.nodes,i)}}:e}})},oit=e=>{let{cache:t,workspaceId:n,pipelineId:s,destinationPipelineId:r,refreshDestinationPipeline:i}=e;const o=Nrt(t,{__typename:"Pipeline",id:s});t.evict({id:o}),t.evict({fieldName:"searchIssuesByPipeline",args:{pipelineId:s}}),r&&i&&t.evict({fieldName:"searchIssuesByPipeline",args:{pipelineId:r}});const a=t.readQuery({query:Crt,variables:{workspaceId:n}});t.writeQuery({query:Crt,variables:{workspaceId:n},data:{...a,workspace:{...a.workspace,pipelinesConnection:{...a.workspace.pipelinesConnection,nodes:a.workspace.pipelinesConnection.nodes.filter((e=>e.id!==s))}}}})},ait=e=>"high priority"===e.pipelineIssue?.priority?.name.toLowerCase(),lit=e=>"high priority"===e?.metadata?.pipeline_issue?.priority?.name.toLowerCase(),cit=e=>e?.state===Vi.Closed,dit=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uoe();if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let s=0,r=e.length;s<r;s+=1)if(!n(e[s],t[s]))return!1;return!0},uit=(e,t)=>dit(e.labels.nodes,t.labels.nodes),pit=(e,t)=>e.estimate?.value===t.estimate?.value,mit=(e,t)=>ea.every((n=>e[n]===t[n]))&&pit(e,t)&&uit(e,t),hit=(e,t)=>((e,t,n)=>e.every((e=>t[e]===n[e])))(Qo,e,t)&&((e,t)=>dit(e.connectedPRs,t.connectedPRs,mit))(e,t)&&e.pipelineIssue?.priority?.name===t.pipelineIssue?.priority?.name&&pit(e,t)&&uit(e,t)&&((e,t)=>dit(e.releases.nodes,t.releases.nodes))(e,t)&&((e,t)=>dit(e.parentEpics?.nodes||[],t.parentEpics?.nodes||[]))(e,t)&&((e,t)=>dit(e.parentZenhubEpics?.nodes||[],t.parentZenhubEpics?.nodes||[]))(e,t)&&((e,t)=>dit(e.sprints.nodes,t.sprints.nodes))(e,t),Eit=e=>{let{workspaceId:t}=e;const n=(0,l3.I0)(),{cache:s}=(0,Dae.x)(),r=(0,l3.v9)((e=>e.boardV2.sortedPipelines),l3.wU);return{checkPipelineSortedWithEventsToMessage:function(e,i){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=r[e],l=krt(a);if(!l)return!1;if(!i)return!0;const c=Nrt(s,{__typename:"Issue",id:i.id}),d=Wrt(s,t,c),u=Boolean(d?.metadata?.pipeline_issue),p=lit(i),m=d?.metadata?.pipeline_issue?.pipeline.id;if(!o&&!u||m&&m!==e)return n(Ii({id:e,message:"Issue was added"})),!0;const h=lit(d);return p!==h?(tit(s,{...d,metadata:{...d?.metadata,pipeline_issue:{...d?.metadata?.pipeline_issue||{},priority:i.metadata?.pipeline_issue?.priority}}},c),!0):(d?.metadata?.pipeline_issue.pipeline.id!==e&&xrt(s,t,i?.id,!0),!0)},issueEventsToMessagesForSortedPipeline:(e,i)=>{const o=r[e];if(!krt(o)||!i)return;const a=Nrt(s,{__typename:"Issue",id:i.id}),l=Wrt(s,t,a);l?.metadata?.pipeline_issue.pipeline.id===e&&(o!==oa.ASSIGNEE||dit(i.metadata.assignees,l.metadata.assignees)||n(Ii({id:e,message:"Issues assignee has changed"})),o!==oa.SPRINT||dit(i.metadata.sprints,l.metadata.sprints)||n(Ii({id:e,message:"Issues sprint has changed"})),o!==oa.TITLE_ZA&&o!==oa.TITLE_AZ||i.title===l.title||n(Ii({id:e,message:"Issues title has changed"})))}}},git=()=>{const e=(0,l3.I0)(),t=(0,Ye.useCallback)((t=>{let{movedAt:n,id:s}=t;e(Zr({movedAt:n,id:s}))}),[e]);return{addLocalIssueMove:t,delayedClearIssueMoves:(0,Ye.useMemo)((()=>RI()((()=>{e(Yr())}),3e4)),[e])}},fit=e=>e.sort(((e,t)=>Number(e.relativePosition)-Number(t.relativePosition))).map((e=>({__ref:e.id}))),_it=(e,t,n,s)=>{let[r,i]=t;return(s?r:i).push({id:n,relativePosition:e}),[...fit(r),...fit(i)]},vit=(e,t,n,s,r,i)=>{const o=Nrt(e,{__typename:"Issue",id:t}),a=(Yrt(e,s,r)?.searchIssuesByPipeline?.nodes||[]).reduce(((t,n)=>{const s={id:Nrt(e,{__typename:"Issue",id:n.id}),relativePosition:n.metadata?.pipeline_issue.relative_position};return lit(n)?t[0].push(s):t[1].push(s),t}),[[],[]]);e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:s,pipelineId:r})?{...e,value:{...e.value,nodes:_it(n,a,o,i)}}:e}})},Iit=function(e,t,n,s){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=n.pipelineIssue,{issue:o}=i,a=i.itemBefore?.issue,{pipeline:l}=i,c=l.id,d=i.relativePosition,u=Nrt(e,{__typename:"Issue",id:o.id}),p=Wrt(e,t,u),m=Boolean(p?.metadata?.pipeline_issue),h=Boolean(Wrt(e,t,Nrt(e,{__typename:"Issue",id:a?.id}))?.metadata?.pipeline_issue),E=lit(o),g=s(c,o,r);if(g)return;xrt(e,t,o.id,!0);const f=Yrt(e,t,l.id),_=Boolean(f),v=f?.searchIssuesByPipeline?.nodes||[],I=f?.searchIssuesByPipeline?.pageInfo.hasNextPage,b=v?.filter(lit),y=v?.filter((e=>!lit(e))),S=y?.length||0,w=v?.findIndex((e=>e?.id===a?.id)),R={...o,metadata:{...o.metadata,pipeline_issue:{...o.metadata?.pipeline_issue||{},pipeline:{...o.metadata?.pipeline_issue?.pipeline||{},id:c},relativePosition:d}}};if(m?tit(e,R,u):nit(e,t,R),!_)return;if(h&&-1!==w){return void Frt(e,t,c,u,w+1,!0)}const T=v?.[(v?.length||0)-1]?.metadata?.pipeline_issue?.relative_position,C=b?.[b.length-1]?.metadata?.pipeline_issue?.relative_position;if(I){(E?d<C||S:d<T&&S)&&vit(e,o.id,d,t,c,E)}else vit(e,o.id,d,t,c,E)},bit=!0,yit=e=>{let{workspaceId:t,showClosedPipeline:n}=e;const{checkPipelineSortedWithEventsToMessage:s,issueEventsToMessagesForSortedPipeline:r}=Eit({workspaceId:t}),i=[],o=e=>{var t;(t=i,[...new Set(t)]).forEach((t=>{t&&e(t)}))};return(e,a,l,c)=>{l?.forEach((o=>{((e,o)=>{const{issue:a,pipeline:l}=o,c=Nrt(e,{__typename:"Issue",id:a.id}),d=Wrt(e,t,c),u=d?.metadata.pipeline_issue?.pipeline.id,p=a?.metadata.pipeline_issue?.pipeline.id;if(Boolean(u)){if(cit(a)){const s=!Mrt(e,a.id,t,u),r=!!n&&Mrt(e,a.id,t,bo);return e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:u})?$rt(e,c):e,searchClosedIssues:e=>e.hasSameVariables({workspaceId:t})&&n?Zrt(0,e,c):e}}),s||e.modify({fields:{searchIssuesByPipelineCounts:n=>n.hasSameVariables({workspaceId:t,pipelineId:u})?Qrt(e,"SUBTRACT",n,t,u,c):n}}),r||e.modify({fields:{searchClosedIssuesCounts:s=>s.hasSameVariables({workspaceId:t})?n&&Qrt(e,"ADD",s,t,bo,c):s}}),i.push(u),n&&i.push(bo),void tit(e,a,c)}if(cit(d))return i.push(p),n&&i.push(bo),void Iit(e,t,{pipelineIssue:o},s,bit);const m=l?.id||a.metadata?.pipeline_issue?.pipeline?.id;if(r(m,a),e.modify({id:c,fields:{title:()=>a.title,state:()=>a.state,htmlUrl:()=>a.htmlUrl,metadata:e=>({...a.metadata,pipeline_issue:e.pipeline_issue})}}),l?.id){const n=Yrt(e,t,l?.id)?.searchIssuesByPipeline?.nodes?.findIndex((e=>e?.id===a?.id));(null==n||n<0)&&Iit(e,t,{pipelineIssue:o},s,bit)}}else cit(a)&&n?(nit(e,t,a),e.modify({fields:{searchClosedIssues:e=>e.hasSameVariables({workspaceId:t})?Zrt(0,e,c):e,searchClosedIssuesCounts:n=>n.hasSameVariables({workspaceId:t})?Qrt(e,"ADD",n,t,bo,c):n}})):Iit(e,t,{pipelineIssue:o},s,bit);i.push(u),n&&i.push(bo)})(e,o)})),c?.forEach((s=>{((e,s)=>{const{issue:r}=s,o=r.metadata?.pipeline_issue?.pipeline?.id,a=Nrt(e,{__typename:"Issue",id:r.id});if(Wrt(e,t,a)){const s=r.metadata?.pipeline_issue?.pipeline?.id;e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:s})?$rt(e,a):e,searchIssuesByPipelineCounts:n=>n.hasSameVariables({workspaceId:t,pipelineId:s})?Qrt(e,"SUBTRACT",n,t,s,a):n,searchClosedIssues:e=>e.hasSameVariables({workspaceId:t})&&n?$rt(e,a):e,searchClosedIssuesCounts:s=>s.hasSameVariables({workspaceId:t,pipelineId:r.metadata?.pipeline_issue?.pipeline?.id})&&n?Qrt(e,"SUBTRACT",s,t,bo,a):s}}),e.evict({id:a}),r.state!==Vi.Closed&&i.push(o)}})(e,s)})),o(a)}},Sit=e=>{let{workspaceId:t,showClosedPipeline:n}=e;const s=[];return(e,r,i)=>{i?.forEach((r=>{((e,r)=>{const{issueId:i,pipelineId:o}=r,a=Nrt(e,{__typename:"Issue",id:i}),l=Wrt(e,t,a);e.evict({id:a}),e.gc(),s.push(o),n&&cit(l)&&s.push(bo)})(e,r)})),(e=>{s.forEach((t=>{t&&e(t)}))})(r)}},wit={},Rit=bb.Ps`
  query getSprintAutomationPipelineForBoard($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      sprintConfig {
        ...sprintConfig
      }
    }
  }
  ${ire}
`;function Tit(e){const t={...wit,...e};return cy.a(Rit,t)}const Cit=e=>{let{workspaceId:t}=e;const{data:n}=Tit({variables:{workspaceId:t}}),s=(0,l3.I0)(),r=(0,l3.v9)((e=>e.boardV2.userEventIds)),i=e=>(t,n)=>{n?.forEach((n=>{e(t,n)}))};return{onPipelineUpdated:i(((e,t)=>{e.modify({id:Nrt(e,{__typename:"Pipeline",id:t.id}),fields:{name:()=>t.name,description:()=>t.description}})})),onPipelineCreated:i(((e,n)=>{const s=e.readQuery({query:Crt,variables:{workspaceId:t}});s.workspace.pipelinesConnection.nodes.find((e=>e.id===n.id))||e.writeQuery({query:Crt,variables:{workspaceId:t},data:{...s,workspace:{...s.workspace,pipelinesConnection:{...s.workspace.pipelinesConnection,nodes:[...s.workspace.pipelinesConnection.nodes,n]}}}})})),onPipelineDeleted:(e,i,o)=>{if(!i)return;const a=Nrt(e,{__typename:"Pipeline",id:i.destinationPipeline.id}),l=Nrt(e,{__typename:"Pipeline",id:i.id}),c=jrt(e,a),d=jrt(e,l),u=Yrt(e,t,i.destinationPipeline.id);if(r.indexOf(i.eventId)>-1)s(gi(i.eventId));else{const s=!u?.searchIssuesByPipeline?.pageInfo.hasNextPage;oit({cache:e,workspaceId:t,pipelineId:i.id,destinationPipelineId:i.destinationPipeline.id,refreshDestinationPipeline:s});const r=d?`the ${d.name} pipeline`:"a pipeline",o=c?`the ${c.name} pipeline`:"your first pipeline";H.Z.createToast(W.Z.WORKSPACE_BREAKING_CHANGE,{heading:"A change has been made on your workspace",text:`Someone has deleted ${r} on your workspace. All tickets related to this pipeline have been moved to ${o}`});const a=n?.workspace?.sprintConfig?.settings.issuesFromPipeline.pipelineId;a===i.id&&H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:`Sprint automation disabled. Sprints will no longer be built from the ${r} pipeline`})}i.destinationPipeline.id&&o?.(i.destinationPipeline.id)},onPipelineMoved:i(((e,n)=>{const s=e.readQuery({query:Crt,variables:{workspaceId:t}}),r=s.workspace.pipelinesConnection.nodes.findIndex((e=>e.id===n?.id)),i=s.workspace.pipelinesConnection.nodes.findIndex((e=>e.id===n?.itemBefore?.id));let o=i;r>i&&(o+=1),e.writeQuery({query:Crt,variables:{workspaceId:t},data:{...s,workspace:{...s.workspace,pipelinesConnection:{...s.workspace.pipelinesConnection,nodes:zrt(n.id,s.workspace.pipelinesConnection.nodes,o)}}}})})),onPipelineCountsUpdated:(e,t)=>{e?.forEach((e=>{e.id&&t?.(e.id)}))}}},kit=e=>{let{workspaceId:t}=e;const n=(0,l3.I0)(),s=(0,$8.k6)();return{onWorkspaceUpdate:(e,t)=>{e.modify({id:Nrt(e,{__typename:"Workspace",id:t.id}),fields:{name:()=>t.name,description:()=>t.description,defaultRepository:()=>t.defaultRepository,displayName:()=>t.displayName,repositories:()=>t.repositories}}),n({type:Us.UPDATE_CURRENT_WORKSPACE,payload:{name:t.name,defaultRepoId:t?.defaultRepository?.ghId,displayName:t.displayName}})},onWorkspaceDelete:e=>{e.evict({id:Nrt(e,{__typename:"Workspace",id:t})}),s.replace("/select-organization")}}},Oit=()=>{const e=(e,t)=>{const{relativePosition:n,issueId:s}=t;((e,t,n)=>{e.modify({id:n,fields:{metadata:e=>({...e,pipeline_issue:{...e?.pipeline_issue||{},relative_position:parseInt(String(t),10)}})}})})(e,n,Nrt(e,{__typename:"Issue",id:s}))};return(t,n)=>{n?.forEach((n=>{e(t,n)}))}},Nit=e=>{let{workspaceId:t}=e;const n=(0,$8.k6)(),s=(0,$8.TH)(),{selectedRepoGhIdsArray:r,isRemovingRepoFromWorkspaceFrom:i}=(0,l3.v9)((e=>({selectedRepoGhIdsArray:e.boardV2.filters.repos.value,isRemovingRepoFromWorkspaceFrom:e.workspaceForm.isOpen})),Uoe());return{onRepoRemoved:e=>{const o=e?.repositories?.map((e=>e.ghId)),a=r?.filter((e=>(o||[]).indexOf(e)>-1)),l=new Set(a);ile(s,n,ko,l),sle(t,ko,l),i||H.Z.createToast(W.Z.WORKSPACE_BREAKING_CHANGE,{heading:"A change has been made to your workspace",text:"Looks like there was a repository removed from your workspace. Please refresh to continue using the board",promptToRefresh:!0})},onRepoAdded:(e,t)=>{e.modify({id:Nrt(e,{__typename:"Workspace",id:t.id}),fields:{repositories:()=>t.repositories,repositoriesConnection:()=>({nodes:t.repositories})}})}}},Pit=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),{localIssueMoves:s,showClosedPipeline:r}=(0,l3.v9)((e=>({localIssueMoves:e.boardV2.localIssueMoves,showClosedPipeline:e.boardV2.settings.showClosedPipeline})),l3.wU),{onWorkspaceUpdate:i,onWorkspaceDelete:o}=kit({workspaceId:t}),{filters:a,search:l}=F6e(),{onPipelineUpdated:c,onPipelineCreated:d,onPipelineDeleted:u,onPipelineMoved:p,onPipelineCountsUpdated:m}=Cit({workspaceId:t}),h=(e=>{let{workspaceId:t}=e;const{checkPipelineSortedWithEventsToMessage:n}=Eit({workspaceId:t}),{addLocalIssueMove:s,delayedClearIssueMoves:r}=git();return(e,i,o)=>{o?.forEach((o=>{const a=o.pipelineIssue.issue.id,l=i[a],c=l?.length?Math.max(...l):void 0;(!c||o.movedAt-c>=0)&&(s({movedAt:o.movedAt,id:a}),r(),Iit(e,t,o,n))}))}})({workspaceId:t}),E=(e=>{let{workspaceId:t}=e;const{checkPipelineSortedWithEventsToMessage:n}=Eit({workspaceId:t});return(e,s)=>{s?.forEach((s=>{Iit(e,t,{pipelineIssue:s},n)}))}})({workspaceId:t}),g=yit({workspaceId:t,showClosedPipeline:r}),f=Sit({workspaceId:t,showClosedPipeline:r}),_=e=>{((e,t,n,s,r)=>{e.query({query:n===bo?Srt:brt,variables:{pipelineId:n,workspaceId:t,query:s,filters:r},fetchPolicy:"network-only"})})(n,t,e,l,a)},v=Oit(),{onRepoRemoved:I,onRepoAdded:b}=Nit({workspaceId:t});!function(e){const t={...hrt,...e};crt.m(Ert,t)}({variables:{workspaceId:t},fetchPolicy:"no-cache",onSubscriptionData:e=>{let{client:t,subscriptionData:n}=e;const{cache:r}=t,a=n.data?.workspaceUpdates.updates;switch(a?.action){case fo.PipelineIssueMoved:h(r,s,a?.pipelineIssueMoves);break;case fo.IssuesDeleted:f(r,_,a?.deletedPipelineIssues);break;case fo.IssuesUpdated:g(r,_,a?.pipelineIssues,a?.filteredPipelineIssues);break;case fo.PipelineCreated:d(r,a?.pipelines);break;case fo.PipelineDeleted:u(r,a?.pipelineDeleted,_);break;case fo.PipelineMoved:p(r,a?.pipelines);break;case fo.PipelineUpdated:c(r,a?.pipelines);break;case fo.PipelineIssueCreated:E(r,a?.pipelineIssues);break;case fo.PipelineCountsChanged:m(a?.pipelines,_);break;case fo.WorkspaceUpdated:i(r,a?.workspace);break;case fo.WorkspaceDeleted:o(r);break;case fo.PipelineIssuesRebalanced:v(r,a?.pipelineIssuesRebalanced);break;case fo.RepositoryRemoved:I(a?.workspace);break;case fo.RepositoryAdded:b(r,a?.workspace)}}})},Ait="undefined"!=typeof navigator,Dit="boolean"==typeof navigator.onLine,Lit={enabled:Ait&&!Dit,url:`${L.Z.hostURL}/ping`,timeout:5e3,interval:5e3},zit=e=>{let{url:t,timeout:n}=e;return new Promise((e=>{const s=()=>e(!1),r=new XMLHttpRequest;r.onerror=s,r.ontimeout=s,r.onreadystatechange=()=>{r.readyState===r.HEADERS_RECEIVED&&(r.status?e(!0):s())},r.open("GET",t),r.timeout=n,r.send()}))},Mit=()=>{const e=(0,Ye.useRef)(),[t,n]=(0,Ye.useState)(!(!Ait||"boolean"!=typeof navigator.onLine)&&!navigator.onLine),s=()=>{n(!1)},r=()=>{const{url:e,timeout:t}=Lit;zit({url:e,timeout:t}).then((e=>{e?s():n(!0)}))};return(0,Ye.useEffect)((()=>(window.addEventListener("online",s),window.addEventListener("offline",r),Lit.enabled&&(()=>{const{interval:t}=Lit;e.current=setInterval((()=>{r()}),t)})(),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r),e.current&&clearInterval(e.current)})),[]),t},xit=()=>{const e=Mit(),t=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{t.current&&H.Z.deleteToast(t.current),e&&(t.current=H.Z.createToast(W.Z.TEXT,{text:Ye.createElement("span",null,Ye.createElement("strong",null,"Looks like you\u2019re offline.")," Some actions may not work")}))}),[e]),e};function Fit(e){let{workspaceId:t}=e;const n=(0,l3.I0)(),{data:s,error:r,loading:i}=function(e){const t={...Trt,...e};return cy.a(Crt,t)}({onError:()=>n(yr(!0)),onCompleted:()=>n(yr(!1)),variables:{workspaceId:t}});return{priorities:s?.workspace?.prioritiesConnection.nodes||[],pipelines:s?.workspace?.pipelinesConnection.nodes||[],error:r,loading:i}}const Uit={},Bit=bb.Ps`
  mutation pipelineUpdate($input: UpdatePipelineInput!) {
    updatePipeline(input: $input) {
      pipeline {
        ...boardPipelineData
      }
    }
  }
  ${prt}
`;function qit(e){const t={...Uit,...e};return vK.D(Bit,t)}const Hit=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),s=(0,Ye.useRef)(null),[r]=qit({onError:e=>{const t="Could not reorder the pipeline";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})}});return(e,i)=>{s.current={pipelineId:e,destinationIndex:i};const{cache:o}=n,a=o.readQuery({query:Crt,variables:{workspaceId:t}});o.writeQuery({query:Crt,variables:{workspaceId:t},data:{...a,workspace:{...a.workspace,pipelinesConnection:{...a.workspace.pipelinesConnection,nodes:zrt(e,a.workspace.pipelinesConnection.nodes,i)}}}}),r({variables:{input:{pipelineId:e,position:i}}})}},Wit={},jit=bb.Ps`
  mutation updateIssueIndex($workspaceId: ID!, $input: MoveIssueRelativeToInput!) {
    moveIssueRelativeTo(input: $input) {
      pipelineIssueMove {
        movedAt
        sourcePipelineId
        pipelineIssue {
          id
          issue {
            ...boardIssueData
          }
        }
      }
    }
  }
  ${drt}
`;function Git(e){const t={...Wit,...e};return vK.D(jit,t)}const Kit=e=>{let{workspaceId:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)((e=>e.boardV2.sortedPipelines),l3.wU),r=(0,Dae.x)(),{addLocalIssueMove:i,delayedClearIssueMoves:o}=git(),a=(0,Ye.useRef)(null),[l]=Git({fetchPolicy:"no-cache",onError:e=>{const t="Could not update the position of the issue";oe(t,e),r6("Board dnd manual action failed",{ErrorMessage:e}),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})},update:(e,t)=>{let{data:r}=t;const l=r?.moveIssueRelativeTo?.pipelineIssueMove?.movedAt,c=r?.moveIssueRelativeTo?.pipelineIssueMove?.pipelineIssue?.issue;i({movedAt:l,id:c?.id}),o();const{destinationPipelineId:d}=a.current;krt(s[d])&&(c&&tit(e,c,Nrt(e,{__typename:"Issue",id:c.id})),n(Nr(d)))}}),c=(0,Ye.useCallback)((e=>{let{issueId:n,destinationIndex:s,pipelineId:c,position:d,priority:u,sourcePipelineId:p,destinationPipelineId:m,afterId:h,beforeId:E}=e;a.current={destinationIndex:s,destinationPipelineId:m,sourcePipelineId:p};const{cache:g}=r,f=Nrt(g,{__typename:"Issue",id:n}),_=Wrt(g,t,f),v={..._,metadata:{..._?.metadata||{},pipeline_issue:{..._?.metadata.pipeline_issue||{},priority:u}}};tit(g,v,f),xrt(g,t,n),Frt(g,t,m,f,s);const I=Date.now()/1e3;i({movedAt:I,id:n}),o(),l({variables:{workspaceId:t,input:{issueId:n,pipelineId:c,position:d,afterPipelineIssueId:h,beforePipelineIssueId:E}}})}),[r,t,i,o,l]);return[c]},Vit={},$it=bb.Ps`
  mutation updateIssue($workspaceId: ID!, $input: UpdateIssueInput!) {
    updateIssue(input: $input) {
      issue {
        ...boardIssueData
      }
    }
  }
  ${drt}
`;const Zit=()=>{const e=(0,Dae.x)(),{cache:t}=e,n=(0,Ye.useRef)(),[s]=function(e){const t={...Vit,...e};return vK.D($it,t)}({onError:e=>{const t="Could not close the issue";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})}}),[r]=Git({onError:e=>{const t="Could not reopen the issue";r6("Board dnd manual action failed",{Type:"Reopening",ErrorMessage:e}),oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})}}),i=(0,Ye.useCallback)((e=>{let{workspaceId:i,issueId:o,destinationIndex:a,pipelineId:l,position:c,priority:d,sourcePipelineId:u,destinationPipelineId:p,afterId:m,beforeId:h}=e;n.current={destinationIndex:a,destinationPipelineId:p,sourcePipelineId:u,priority:d};const E=Nrt(t,{__typename:"Issue",id:o}),g=Wrt(t,i,E);if(xrt(t,i,o),u===bo){const e={__typename:"Issue",...g,state:Vi.Open,metadata:{...g?.metadata||{},pipeline_issue:{...g?.metadata?.pipeline_issue||{},...(f=d,f?{priority:{name:f.name,color:f.color}}:{}),id:"non-existing-yet"}}};return tit(t,e,E),Frt(t,i,p,E,a),void r({variables:{workspaceId:i,input:{issueId:o,pipelineId:l,position:c,afterPipelineIssueId:m,beforePipelineIssueId:h}}})}var f;const _={__typename:"Issue",...g,state:Vi.Closed};tit(t,_,E),Frt(t,i,bo,E,a),s({variables:{workspaceId:i,input:{issueId:o,state:Vi.Closed}}})}),[n,s,r,t]);return[i]};function Yit(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Jit(e){let{workspaceId:t}=e;return(0,Ye.useCallback)(function(){var e,t=(e=function*(e){let{pipelineId:t,isClosedPipeline:n,issueNumber:s,issueRepositoryGhId:r,sourcePipelineId:i,numberOfIssues:o=1}=e;if(i===t||n)return;const a=yield X7e(s,r,t);a.length>0&&H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{content:Ye.createElement(rb,{issueCount:o,automations:a}),expirationDelay:5e3,fullWidth:!0})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Yit(i,s,r,o,a,"next",e)}function a(e){Yit(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[t])}function Xit(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Qit(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Xit(i,s,r,o,a,"next",e)}function a(e){Xit(i,s,r,o,a,"throw",e)}o(void 0)}))}}const eot=function(){var e=Qit((function*(e,t,n){return((yield e.query({query:QO,variables:{workspaceId:t,issueIds:n},fetchPolicy:"no-cache"})).data?.issueConnections.nodes||[]).filter((e=>"OPEN"===e.state&&!e.pullRequest&&!n.includes(e.id)))||[]}));return function(t,n,s){return e.apply(this,arguments)}}();function tot(e){let{workspaceId:t}=e;const n=(0,Dae.x)();return(0,Ye.useCallback)(function(){var e=Qit((function*(e){let{pipelineId:s,isClosedPipeline:r,issueIds:i}=e;const o=yield eot(n,t,i),a=((e,t,n)=>e.readFragment({id:Nrt(e,{__typename:"Pipeline",id:n}),fragment:bb.Ps`
      fragment pipelineName on Pipeline {
        name
      }
    `,variables:{workspaceId:t}}))(n.cache,t,s)?.name;!r&&o.length>0&&H.Z.createToast(W.Z.CONNECTED_ISSUES_UPDATE,{pipeline:a,issues:o,expirationDelay:5e3,fullWidth:!0})}));return function(t){return e.apply(this,arguments)}}(),[t])}const not=e=>{const t=(0,Dae.x)(),n=Art(t.cache,e),s=(0,l3.v9)(M6e,l3.wU);return(0,Ye.useMemo)((()=>hle(n,s)),[n,s])},sot=(e,t)=>e,rot=(e,t,n,s)=>e.readQuery({query:s?vrt:frt,variables:{workspaceId:t,pipelineId:n,filters:{}}}),iot=function(e,t,n,s,r,i){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const a=rot(e,t,r,i),l=sot(Boolean(i))?a?.searchClosedIssues:a?.searchIssuesByPipeline;let c=l?.nodes;o&&(c=l?.nodes.filter((e=>!e?.metadata.connected_to_issue?.exists)));const d=[...c||[]];if(s===r){const e=d.findIndex((e=>e.id===n));e>=0&&d.splice(e,1)}return d},oot=e=>{let{workspaceId:t,highPriorityConfig:n,onIssuePipelineChange:s,onIssueReordered:r}=e;const i=(0,l3.v9)((e=>e.boardV2.sortedPipelines),l3.wU),o=not(t),{cache:a}=(0,Dae.x)(),[l]=Kit({workspaceId:t}),[c]=Zit(),d=Jit({workspaceId:t}),u=tot({workspaceId:t});return(e,p,m,h)=>{const E=Nrt(a,{__typename:"Issue",id:e}),g=Wrt(a,t,E),f=p===bo,_=m===bo,v=p===m,I=krt(i[p]),b=krt(i[m]);if(_&&cit(g)||I&&v)return;const{issueBefore:y,issueAfter:S}=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=iot(e,t,n,arguments.length>6?arguments[6]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>7?arguments[7]:void 0,!(arguments.length>4?arguments[4]:void 0));return r=[...r.slice(0,s),{},...r.slice(s)],{issueBefore:r[s-1],issueAfter:r[s+1]}}(a,t,e,h,o,m,p,_),w=((e,t,n,s,r,i,o,a)=>{if(a)return 0;const l=iot(e,t,n,o,i),c=l.findIndex((e=>e.id===s)),d=l.findIndex((e=>e.id===r)),u=c>=0?c+1:c,p=d>=0&&0===d?0:d-1;return u>=0?u:p>=0?p:0})(a,t,e,y?.id,S?.id,m,p,_);let R=null,T=null,C=!1,k=Xi.Start,O=lit(g)?n:null;y?R=y.metadata?.pipeline_issue?.id:S?T=S.metadata?.pipeline_issue?.id:C=!0,b&&(T=null,R=null,C=!0,k=Xi.End),lit(g)?(y||!S||lit(S)||(T=null,R=null,C=!0),y&&!lit(y)&&(O=null)):(y&&lit(y)&&(S?T=S?.metadata.pipeline_issue?.id:(T=null,C=!0,k=Xi.End),R=null),S&&lit(S)&&(O=n));const N={workspaceId:t,issueId:e,destinationIndex:w,destinationPipelineId:m,sourcePipelineId:p,priority:O,...C?{pipelineId:m}:{},...C?{position:k}:{},...R?{afterId:R}:{},...T?{beforeId:T}:{}};_||f?c(N):l(N),m!==p?s?.():r?.(),p===m||_||(d({pipelineId:m,isClosedPipeline:_,issueNumber:g?.number,issueRepositoryGhId:g?.metadata.repository.gh_id,sourcePipelineId:p}),u({pipelineId:m,isClosedPipeline:_,issueIds:[e]}))}},aot="k2HCZ17wsUfzQWWZFpmA",lot="Ouy0ZkBBIHAhr_GNj8JN",cot="xNxIHqy9HHaiu_gHQKNc",dot="rgZDHjcvPvbMX87nfRfb",uot="uFyu8IXINQeqjXyAAdpb",pot="yk_amhL_1abWGinjxgVW",mot="v1HXx5Cse7OrMBZKqohW",hot="aOnYquPmP4K9kvFDd58A",Eot="uewyRj_kuGFOhtlthidV",got="I3WEcgHueLLXCAhYaggO",fot="F3B0lygj_Z9pKIcbwE6n",_ot=e=>{let{marginSize:t,animate:n=!0,columns:s=1}=e;return Ye.createElement("div",{style:{width:Io*s+"px"},className:aot},Ye.createElement("div",{className:uot},Ye.createElement("div",{className:lot},Ye.createElement(fIe,{size:"s",animate:n}),Ye.createElement(EIe,{className:dot,marginSize:t},Ye.createElement(hIe,{size:"l",type:"epic-issue-item",animate:n}),Ye.createElement(hIe,{size:"xxl",type:"epic-issue-item",animate:n}))),Ye.createElement("hr",{className:pot}),Ye.createElement("div",{className:cot},Ye.createElement(_Ie,{animate:n}),Ye.createElement(hIe,{roundedCorners:!0,size:"s",animate:n}),Ye.createElement(hIe,{roundedCorners:!0,size:"xs",animate:n}))))},vot=e=>{let{size:t,animate:n=!0,columns:s=1}=e;const r=["lg","xl","xxl"].includes(t),i=(0,_I.default)(uot,hot),o=(0,_I.default)(cot,fot);return Ye.createElement("div",{className:mot,style:{width:Io*s+"px"}},Ye.createElement("div",{className:i},Ye.createElement("div",{className:lot},Ye.createElement(fIe,{size:"s",animate:!0}),Ye.createElement("div",{className:Eot},Ye.createElement("div",{className:got},Ye.createElement(hIe,{size:"xl",type:"epic-issue-item",animate:n}),Ye.createElement(_Ie,{animate:n})),r&&Ye.createElement(hIe,{size:"l",type:"epic-issue-item",animate:n}))),Ye.createElement("div",{className:o},Ye.createElement(hIe,{roundedCorners:!0,size:"xs",animate:n}),Ye.createElement(hIe,{roundedCorners:!0,size:"xs",animate:n}))))},Iot="ZxFACKbignKvhpFmUUsg",bot="e8bbRibeBCTjwWlycVit",yot="O32MRCaqKwdXnx6qMkFl",Sot="trW2hHpyCfzIdmW4szOZ",wot="k0oRIY1qOE2fvswsvDwZ",Rot="cWcwKts8uKiuST5NnRxK",Tot="H_yltNEabGGvVJk1mKnX",Cot="C_s7HQTidD7kxhNl5oUf",kot=()=>window.location.reload(),Oot=e=>{"Enter"===e.key&&kot()},Not=e=>{let{sizes:t,options:n}=e;const s=Hrt(n.columns);return Ye.createElement("div",{className:bot},n.withSection?Ye.createElement("div",{style:{width:`${s}px`},className:(0,_I.default)(yot,Sot)},Ye.createElement("div",{className:wot})):null,Ye.createElement("div",null,t.map(((e,t)=>n.isCondensedView?Ye.createElement(vot,{key:t,size:e,columns:n.columns}):Ye.createElement(_ot,{key:t,marginSize:0===t?void 0:e,columns:n.columns})))))},Pot=e=>{let{sizes:t,options:n}=e;const s=Hrt(n.columns||1);return Ye.createElement("div",{className:bot},Ye.createElement("div",{style:{width:`${s}px`},className:Rot},Ye.createElement("div",{style:{width:Io*(n.columns||1)+"px"},className:Tot},"There was an error loading this pipeline. Try"," ",Ye.createElement("span",{role:"button",tabIndex:0,className:Cot,onKeyPress:Oot,onClick:kot},"refreshing the page")),t.map(((e,t)=>n?.isCondensedView?Ye.createElement(vot,{key:t,size:e,columns:n.columns}):Ye.createElement(_ot,{key:t,marginSize:0===t?void 0:e,animate:!1,columns:n.columns})))))},Aot=e=>Ye.createElement(Not,e),Dot=[["md","xl","lg","lg"],["xl","md","md"],["md","sm"],["xxl","md"],["xl","md","md"],["md"],["md","md"],["md","lg","lg"],["md","sm","md"]],Lot=e=>{let{columns:t=1,isCondensedView:n=!1}=e;const s=(0,Ye.useMemo)((()=>Ci(Dot)),[]),r=(0,Ye.useMemo)((()=>({isCondensedView:n,columns:t,withSection:!1})),[n,t]);return Ye.createElement(Not,{sizes:s,options:r})},zot=e=>{let{columns:t=1}=e;const n=(0,l3.v9)((e=>e.boardV2.settings.isCondensedViewEnabled)),s=(0,Ye.useMemo)((()=>Ci(Dot)),[]),r=(0,Ye.useMemo)((()=>({isCondensedView:n,columns:t})),[n,t]);return Ye.createElement(Pot,{sizes:s,options:r})},Mot=n.p+"../../img/built/illustration-board-error.svg",xot="lLAn23wzFnht8JmDNp2g",Fot="rg1kVWC73D0p1w5l_oSS",Uot="cywL2buSD6sWpLkEL_VA",Bot="tBiXD7idDaMXM3t3oGhm",qot="QiQ_3PysAIRFukpW5btr",Hot="fPZT3XdR0Y3eJU0WL4bY",Wot=()=>{const e=(0,$8.k6)();return Ye.createElement("div",{className:xot},Ye.createElement(t7,{src:Mot,className:Hot,alt:"illustration of space"}),Ye.createElement("section",null,Ye.createElement("h2",{className:Fot},"Board cannot be loaded"),Ye.createElement("div",{className:Uot},x?Ye.createElement(Ye.Fragment,null,"Review the\xa0"):Ye.createElement(Ye.Fragment,null,"Check out our\xa0",Ye.createElement("a",{href:"https://twitter.com/ZenHubStatus",target:"_blank",rel:"noopener noreferrer"},"Twitter feed\xa0"),"for live status updates or try our\xa0"),Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010362",target:"_blank",rel:"noopener noreferrer"},"troubleshooting guide"),"."),Ye.createElement("div",{className:Bot},"Need help?\xa0",Ye.createElement(kee,{email:"support@zenhub.com",headers:{subject:"Board cannot be loaded"},openInNewTab:!0},"Contact support")," ","and include a screenshot of this error."),Ye.createElement("div",{className:qot},Ye.createElement(H5,{width:D5.NARROW,color:L5.PRIMARY,onClick:()=>{e.goBack()}},"Go back"))))},jot=e=>{let{hasActiveError:t}=e;const n=(0,l3.v9)((e=>e.boardV2.settings.isCondensedViewEnabled));if(t)return Ye.createElement(Wot,null);const s={withSection:true,columns:1,...n?{isCondensedView:n}:{}};return Ye.createElement("div",{"aria-busy":"true","aria-label":"Loading",className:Iot},Aot({sizes:["md","xl","lg","lg"],options:s}),Aot({sizes:["xl","md","md"],options:s}),Aot({sizes:["md","sm"],options:s}),Aot({sizes:["xxl","md"],options:s}),Aot({sizes:["xl","md","md"],options:s}),Aot({sizes:["md"],options:s}),Aot({sizes:["md","md"],options:s}),Aot({sizes:["md","lg","lg"],options:s}),Aot({sizes:["md","sm","md"],options:s}))},Got=(0,Ye.memo)(jot);const Kot=e=>({avatarUrl:e.avatar_url,login:e.login,id:e.id}),Vot=e=>({color:e.color,ghId:e.gh_id,id:e.id,name:e.name}),$ot=e=>{let{id:t}=e;return t},Zot=(e,t)=>t?.user?.id?(e.push({id:t.user.id,state:t.state.toUpperCase(),submittedAt:t.submitted_at,user:{avatarUrl:t.user.avatar_url,id:t.user.id,login:t.user.login}}),e):e,Yot=e=>e.filter((e=>Boolean(e.reviewer))).map((e=>{let{reviewer:t}=e;return{reviewer:{avatarUrl:t.avatar_url,login:t.login},id:t.id}})),Jot=(e,t)=>t?.id?(e.push({htmlUrl:t.html_url,id:t.id,number:t.number,title:t.title,ghId:t.gh_id,state:t.state,releases:{nodes:t.releases},assignees:{nodes:t.assignees.map(Kot)},estimate:t.estimate,labels:{nodes:t.labels.map(Vot)},pullRequest:Boolean(t.pull_request_data),pullRequestReviews:{nodes:t.pull_request_reviews.reduce(Zot,[])},pullRequestObject:t.pull_request_data?{draft:t.pull_request_data.draft,state:t.pull_request_data.state.toUpperCase()}:null,repository:{ownerName:t.repository.owner.login,name:t.repository.name,id:t.repository.id,ghId:t.repository.gh_id},reviewRequests:{nodes:Yot(t.review_requests)},user:{avatarUrl:t.user.avatar_url,ghId:t.user.gh_id,id:t.user.id,login:t.user.login}}),e):(oe(`Could not format a connected PR ${t}`),e),Xot=e=>({id:e.id,startAt:e.start_at,endAt:e.end_at,name:e.name,workspaceId:e.workspace_id}),Qot=e=>({...e,assignees:{nodes:e.metadata.assignees.map(Kot)},blockedBy:e.metadata?.blocked_by?.map($ot)||[],blocking:e.metadata?.blocking?.map($ot)||[],epic:e.metadata?.epic,estimate:e.metadata.estimate,estimationStatus:e.metadata.estimation_state?.estimation_status,labels:{nodes:e.metadata.labels.map(Vot)},metadata:void 0,pullRequest:Boolean(e.metadata.pull_request_data),pullRequestReviews:{nodes:e.metadata.pull_request_reviews.reduce(Zot,[])},sprints:{nodes:e.metadata.sprints.map(Xot)},parentEpics:{nodes:e.metadata.parent_epics.map((e=>({id:e.id,title:e.title})))},parentZenhubEpics:{nodes:e.metadata.parent_zenhub_epics?.map((e=>({id:e.id,title:e.title})))},releases:{nodes:e.metadata.releases},connectedPRs:e.metadata.pr_connections.reduce(Jot,[]),isConnectedToIssue:e.metadata.connected_to_issue?.exists,pipelineIssue:e.metadata.pipeline_issue,pullRequestObject:e.metadata.pull_request_data?{draft:e.metadata.pull_request_data.draft,state:e.metadata.pull_request_data.state.toUpperCase()}:null,repository:{ownerName:e.metadata.repository.owner.login,name:e.metadata.repository.name,id:e.metadata.repository.id,ghId:e.metadata.repository.gh_id},reviewRequests:{nodes:Yot(e.metadata.review_requests)},user:{avatarUrl:e.metadata.user.avatar_url,ghId:e.metadata.user.gh_id,id:e.metadata.user.id,login:e.metadata.user.login}}),eat=bb.Ps`
  fragment boardRepositoryData on Repository {
    id
    ghId
    name
    ownerName
  }
`,tat={},nat=bb.Ps`
  query workspaceRepos($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      defaultRepository {
        ...boardRepositoryData
      }
      repositoriesConnection {
        nodes {
          ...boardRepositoryData
        }
      }
    }
  }
  ${eat}
`;let sat=!1;function rat(e){let{data:t,isLoading:n,filters:s,workspaceId:r}=e;const i=(0,Dae.x)();(0,Ye.useEffect)((()=>{if(!sat&&!n&&void 0!==t){const e=((e,t,n)=>{if(Object.keys(n).length>1)return!0;const s=e.readQuery({query:nat,variables:{workspaceId:t}}).workspace?.repositoriesConnection?.nodes;return s?.length!==n.repositoryGhIds?.length})(i.cache,r,s);f6(v6.BOARD_V2_PAGE_INTERACTIVE,{hasPersistedFilters:e}),sat=!0}}))}const iat={[oa.NEWEST]:{field:Ki.CreatedAt,direction:Yi.Desc},[oa.OLDEST]:{field:Ki.CreatedAt,direction:Yi.Asc},[oa.ASSIGNEE]:{field:Ki.Assignees,direction:Yi.Asc},[oa.SPRINT]:{field:Ki.Sprints,direction:Yi.Asc},[oa.TITLE_AZ]:{field:Ki.Title,direction:Yi.Asc},[oa.TITLE_ZA]:{field:Ki.Title,direction:Yi.Desc}},oat=e=>{const t=(0,l3.v9)((t=>t.boardV2.sortedPipelines[e]));return(0,Ye.useMemo)((()=>t?iat[t]??null:null),[t])},aat=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t};function lat(e){let{issuesAfter:t,pipelineId:n,isClosedPipeline:s,workspaceId:r,numberOfIssues:i}=e;const o=not(r),a=(0,l3.I0)(),[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)(!1),p=(0,l3.v9)((e=>e.boardV2.pendingPipelineReloads.includes(n))),m=oat(n),{filters:h,search:E}=F6e(),g=(0,Ye.useRef)(null),f=(0,Ye.useCallback)((()=>{d&&u(!1)}),[d,u]),_=function(e){const t={...grt,...e};return xye.t(frt,t)}({variables:{workspaceId:r,pipelineId:n,issuesAfter:t,numberOfIssues:i,query:E,filters:h,order:m},notifyOnNetworkStatusChange:!0,onCompleted:f}),v=function(e){const t={..._rt,...e};return xye.t(vrt,t)}({variables:{workspaceId:r,issuesAfter:t,numberOfIssues:i,query:E,filters:h},notifyOnNetworkStatusChange:!0,onCompleted:f}),I=s?v:_,b=I[0],y=I[1],S=aat(I,s)?I[1].data?.searchClosedIssues:I[1].data?.searchIssuesByPipeline,{called:w,loading:R}=y;rat({data:S,isLoading:y.loading,filters:h,workspaceId:r});const T=(0,Ye.useMemo)((()=>(S?.nodes||[]).reduce(((e,t)=>(!o&&t.metadata?.connected_to_issue?.exists||e.push(Qot(t)),e)),[])),[S?.nodes]);(0,Ye.useEffect)((()=>{w&&a(Nr(n))}),[m,h,E]),(0,Ye.useEffect)((()=>{!w||l||R||c(!0)}),[w,R,l]);const C={...y,loading:!l||d,isPendingReload:p,data:{issues:T,hasMore:S?.pageInfo?.hasNextPage||!1,endCursor:S?.pageInfo?.endCursor||""}};return[b,()=>{const e=new AbortController;if(a(Pr(n)),null!==g.current&&g.current.abort(),g.current=e,!w)return b();u(!0);const t={variables:{isRefetch:!0},context:{fetchOptions:{signal:e.signal},queryDeduplication:!1}};return aat(I,s),I[1].fetchMore?.(t)},C]}const cat=(e,t)=>{const n=t?90:150;return 2*Math.floor(e/n)};const dat=e=>{let{pipelineId:t,workspaceId:n}=e;const[s]=qit({onError:e=>{const t="Could not update the pipeline";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})}});return[e=>{s({variables:{input:{pipelineId:t,...e}},optimisticResponse:{__typename:"Mutation",updatePipeline:{__typename:"UpdatePipelinePayload",pipeline:{__typename:"Pipeline",id:t,name:e.name,isEpicPipeline:!1,description:e.description??null,workspace:{__typename:"Workspace",id:n}}}}})}]},uat=e=>{let{pipelineId:t,workspaceId:n}=e;const[{isEditing:s,isEditPipelineDescriptionActive:r},i]=(0,Ye.useState)({isEditing:!1,isEditPipelineDescriptionActive:!1}),[o]=dat({pipelineId:t,workspaceId:n});return{isEditing:s,isEditPipelineDescriptionActive:r,handlePipelineUpdate:e=>{i({isEditing:!1,isEditPipelineDescriptionActive:!1}),o(e)},handlePipelineCancelUpdate:(0,Ye.useCallback)((()=>{i({isEditing:!1,isEditPipelineDescriptionActive:!1})}),[i]),handlePipelineUpdateStart:(0,Ye.useCallback)((()=>{i({isEditing:!0,isEditPipelineDescriptionActive:!1})}),[i]),handlePipelineUpdateStartDescription:(0,Ye.useCallback)((()=>{i({isEditing:!0,isEditPipelineDescriptionActive:!0})}),[i])}},pat={workspaceId:"",pipelineId:"",highPriorityConfig:{id:"",name:"",color:""}},mat=(0,Ye.createContext)(pat);mat.displayName="BoardV2.PipelineConfigContext";const hat=e=>{let{workspaceId:t,pipelineId:n,highPriorityConfig:s,children:r}=e;const i=(0,Ye.useMemo)((()=>({workspaceId:t,pipelineId:n,highPriorityConfig:s})),[t,n,s]);return Ye.createElement(mat.Provider,{value:i},r)},Eat="UXMaCNsZEMSNMmtDo0Qd",gat="v81lTCXBXF5JbrrzTV5T",fat="epN3OLffw3Ot1d4uck9I",_at="add-new-issue-btn",vat=e=>{let{onClick:t,isActive:n,className:s,id:r}=e;const i=(0,_I.default)([Eat],{[gat]:n},s);return Ye.createElement("button",{className:i,onClick:t,"data-testid":_at,type:"button",id:r},Ye.createElement(hSe,{className:fat}))},Iat={},bat=bb.Ps`
  mutation moveIssue($MoveIssueInput: MoveIssueInput!) {
    moveIssue(input: $MoveIssueInput) {
      issue {
        id
      }
    }
  }
`;function yat(e){const t={...Iat,...e};return vK.D(bat,t)}const Sat={},wat=bb.Ps`
  mutation createPipelineIssue($input: CreateIssueInput!, $workspaceId: ID!) {
    createIssue(input: $input) {
      issue {
        ...boardIssueData
      }
    }
  }
  ${drt}
`;const Rat=e=>{let{pipelineId:t,pipelineName:n,workspaceId:s}=e;const r=(0,l3.v9)((e=>e.boardV2.sortedPipelines[t]),l3.wU),i=krt(r),o=(0,Dae.x)(),a=not(s),[l]=yat({onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong when moving the issue into the pipeline.",expirationDelay:2e3})}}),[c]=function(e){const t={...Sat,...e};return vK.D(wat,t)}({update:(e,n)=>{let{data:r}=n;if(a||i)return;const o=r?.createIssue?.issue;iit(e,s,t,o)},onCompleted:e=>{let{createIssue:s}=e;H.Z.createToast(W.Z.CREATE_ISSUE_UPDATE,{pipelineName:n,repoName:s?.issue.metadata.repository.name||"",expirationDelay:2e3}),l({variables:{MoveIssueInput:{pipelineId:t,issueId:s?.issue.id||""}}})},onError:e=>e?.message?.toLowerCase().includes("issues are disabled for this repo")?H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"GitHub Error - issues are disabled for this repo.",expirationDelay:5e3}):e?.message?.toLowerCase().includes("you have exceeded a secondary rate limit")?H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"GitHub Error - you have exceeded your rate limit, please try again later.",expirationDelay:5e3}):H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong during issue creation.",expirationDelay:2e3})});return e=>{const t=Art(o.cache,s),n=t?.labelFilters?.nodes.map((e=>e.labelName))||[],r=t?.defaultRepository.id||"",i=t?.defaultRepository;var a,l;c({optimisticResponse:(a=e,l=i,{createIssue:{issue:{...sit(a,l),__typename:"Issue"},__typename:"CreateIssuePayload"}}),variables:{input:{title:e,repositoryId:r,body:"",labels:n},workspaceId:s}})}},Tat={},Cat=bb.Ps`
  mutation createPipelineEpic($input: CreateEpicInput!, $workspaceId: ID!) {
    createEpic(input: $input) {
      epic {
        id
        issue {
          ...boardIssueData
        }
      }
    }
  }
  ${drt}
`;const kat={},Oat=bb.Ps`
  query getRoadmapId($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      roadmap {
        id
      }
    }
  }
`;function Nat(e){const t={...kat,...e};return cy.a(Oat,t)}const Pat=e=>{let{pipelineId:t,pipelineName:n,workspaceId:s}=e;const r=(0,l3.v9)((e=>e.boardV2.sortedPipelines[t]),l3.wU),i=krt(r),o=(0,Dae.x)(),[a]=pze(),{data:l}=Nat({variables:{workspaceId:s}}),c=not(s),[d]=yat({onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong when moving the epic into the pipeline.",expirationDelay:2e3})}}),[u]=function(e){const t={...Tat,...e};return vK.D(Cat,t)}({update:(e,n)=>{let{data:r}=n;if(c||i)return;const o=r?.createEpic?.epic.issue;iit(e,s,t,o)},onCompleted:e=>{let{createEpic:s}=e;H.Z.createToast(W.Z.CREATE_EPIC_UPDATE,{pipelineName:n,repoName:s?.epic.issue.metadata.repository.name||"",expirationDelay:2e3});const r=s?.epic.id;d({variables:{MoveIssueInput:{pipelineId:t,issueId:s?.epic.issue.id||""}}});const i=l?.workspace?.roadmap?.id;a({variables:{input:{roadmapId:i,epicIds:[r]}}})},onError:e=>e?.message?.toLowerCase().includes("issues are disabled for this repo")?H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"GitHub Error - issues are disabled for this repo.",expirationDelay:5e3}):e?.message?.toLowerCase().includes("you have exceeded a secondary rate limit")?H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"GitHub Error - you have exceeded your rate limit, please try again later.",expirationDelay:5e3}):H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong during epic creation.",expirationDelay:2e3})});return e=>{const t=Art(o.cache,s),n=t?.labelFilters?.nodes.map((e=>e.labelName))||[],r=t?.defaultRepository.id||"",i=t?.defaultRepository;u({optimisticResponse:rit(e,i),variables:{input:{issue:{title:e,repositoryId:r,body:"",labels:n}},workspaceId:s}})}},Aat="f0tYI29tpgVESGA7KPFR",Dat="tIwfckD5m3gN3bUNuJd7",Lat=e=>{let{isIssueTypeSelected:t,disableTooltip:n}=e;return t?Ye.createElement(YI,{content:n?"":"Switch to epic quick create",removeTooltipOnClick:!0},Ye.createElement(E9,{className:Dat})):Ye.createElement(YI,{content:n?"":"Switch to issue quick create",removeTooltipOnClick:!0},Ye.createElement(OMe,{className:Aat}))},zat="Jnvym5xRg6fBNm7ZhCaK",Mat="Mjyhy5eGmqwLNNZdlwVY",xat="atxlYvJ_190mLtBYAybU",Fat="NPrwaral7u69wPMH4qdh",Uat="zsbBw2erqO5BgQKtHQ7q",Bat=e=>{let{closeIssueCreator:t,pipelineId:n,pipelineName:s,open:r,workspaceId:i,isEpicPipeline:o}=e;const a=(0,l3.v9)(Lre),[l,c]=(0,Ye.useState)(""),[d,u]=(0,Ye.useState)(!1),[p,m]=(0,Ye.useState)(a||!o),h=p?"Title of this issue":"Title of this epic",E=(0,Ye.useCallback)((()=>{t(),c(""),m(a||!o),u(!1)}),[t,o,a]),g=Rat({pipelineId:n,pipelineName:s,workspaceId:i}),f=Pat({pipelineId:n,pipelineName:s,workspaceId:i}),_=(0,Ye.useRef)(null),v=()=>_?.current?.focus();(0,Ye.useEffect)((()=>{r&&v()}),[r,v]);MLe({onEscape:E});const I=(0,Ye.useCallback)((e=>{const s=e.relatedTarget,r=e.currentTarget;if(s?.getAttribute("data-testid")===_at&&s?.getAttribute("id")===n)return;if(!r?.contains(s)){"new-issue"!==s?.getAttribute("data-testid")&&!s?.getAttribute("data-zh-flyover")&&s?.click?.(),l.length||m(!o),t()}}),[n,l.length,t,o]);return r?Ye.createElement("form",{className:zat,"data-zh-flyover":"interactive",onBlur:I,onSubmit:e=>{e.preventDefault(),l.length&&(p?(g(l),J1("Quick Issue Create - Board",{Action:"Submit",Pipeline:s})):(f(l),J1("Quick Epic Create - Board",{Action:"Submit",Pipeline:s})),c(""),u(!1))},tabIndex:0},Ye.createElement(jve,{disableIconClick:o||a,iconComponent:Ye.createElement(Lat,{isIssueTypeSelected:p,disableTooltip:o||a}),onChange:e=>{const t=e?.target?.value;if(t.length<=256)c(t),u(!1);else{const e=t.slice(0,256);c(e),u(!0)}},onClick:()=>{m(!p)},placeholder:h,ref:_,value:l}),d&&Ye.createElement("span",{className:Uat},"Cannot exceed ",256," characters"),Ye.createElement("div",{className:Mat},Ye.createElement(H5,{className:xat,variant:z5.TEXT,onClick:E},"Cancel"),Ye.createElement(H5,{className:Fat,color:L5.ACTION,disabled:!l?.trim(),type:x5.SUBMIT},"Submit"))):null};class qat extends gre.t1{constructor(e){let{getItem:t,getItemId:n,sharedCellSizeCache:s,fixedHeight:r,fixedWidth:i,defaultWidth:o,defaultHeight:a,columnCount:l}=e;super({defaultWidth:o,defaultHeight:a,fixedWidth:i,fixedHeight:r,keyMapper:void 0,minHeight:0,minWidth:0}),this.rowHeight=void 0,this._getItem=void 0,this._getItemId=void 0,this._cachedItemWidth=void 0,this._cachedItemHeight=void 0,this._hasFixedWidth=void 0,this._hasFixedHeight=void 0,this._cachedItemSizes=void 0,this._invalidatorWatcher=void 0,this._columnCount=void 0,this._defaultWidth=void 0,this._defaultHeight=void 0,this._uniformRowHeight=void 0,this.columnWidth=()=>{throw new Error("SharedCellSizeCache.columnWidth not implemented")},this._getItem=t,this._getItemId=n,this._cachedItemWidth=void 0,this._cachedItemHeight=void 0,this._hasFixedWidth=!0===i,this._hasFixedHeight=!0===r,this._cachedItemSizes=s,this._invalidatorWatcher=void 0,this._columnCount=l,this._defaultWidth=o,this._defaultHeight=a,this.getHeight=this.getHeight.bind(this),this.rowHeight=this.rowHeightOverride.bind(this),this.recomputeIssueHeightById=this.recomputeIssueHeightById.bind(this)}setColumnCount(e){this._columnCount=e}setInvalidatorWatcher(e){void 0===this._invalidatorWatcher||(0,_t.uH)(this._invalidatorWatcher,e)||this.resetMeasurements(),this._invalidatorWatcher=e}resetMeasurements(){this._clearAllItemWidths(),this._clearAllItemHeights()}_clearAllItemWidths(){this._cachedItemWidth=void 0,this._cachedItemSizes.widths={}}_clearAllItemHeights(){this._cachedItemHeight=void 0,this._cachedItemSizes.heights={}}_clearItemWidth(e,t){this._cachedItemWidth=void 0;const n=this._getItem(e,t),{[this._getItemId(n)]:s,...r}=this._cachedItemSizes.widths;this._cachedItemSizes.widths=r}_clearItemHeight(e,t){this._cachedItemWidth=void 0;const n=this._getItem(e,t),{[this._getItemId(n)]:s,...r}=this._cachedItemSizes.height;this._cachedItemSizes.height=r}_getItemWidth(e,t){if(this._hasFixedWidth)return this._cachedItemWidth;const n=this._getItem(e,t),s=this._cachedItemSizes.widths[this._getItemId(n)];return s?.item&&this._compareItems(s.item,n)?s.width:null}_getItemHeight(e,t){if(this._hasFixedHeight)return this._cachedItemHeight;const n=this._getItem(e,t),s=this._cachedItemSizes.heights[this._getItemId(n)];return s?.item&&this._compareItems(s.item,n)?s.height:null}_setItemWidth(e,t,n){this._cachedItemWidth=n;const s=this._getItem(e,t);this._cachedItemSizes.widths[this._getItemId(s)]={width:n,item:s}}_setItemHeight(e,t,n){this._cachedItemHeight=n;const s=this._getItem(e,t);this._cachedItemSizes.heights[this._getItemId(s)]={height:n,item:s}}_compareItems(e,t){return e.number&&t.number?hit(e,t):this._getItemId(e)===this._getItemId(t)}clear(e,t){this._clearItemWidth(e,t),this._clearItemHeight(e,t)}clearAll(){this.resetMeasurements()}set(e,t,n,s){this._setItemWidth(e,t,n),this._setItemHeight(e,t,s)}has(e,t){return!wi(this._getItemWidth(e,t))&&!wi(this._getItemHeight(e,t))}hasFixedWidth(){return this._hasFixedWidth}hasFixedHeight(){return this._hasFixedHeight}getWidth(){return this._defaultWidth}getHeight(e,t){if(this._uniformRowHeight)return this._defaultHeight;return this._getItemHeight(e,t)||this._defaultHeight}recomputeIssueHeightById(e){const{[e]:t,...n}=this._cachedItemSizes.heights;this._cachedItemSizes.heights=n}rowHeightOverride(e){let{index:t}=e,n=0;for(let e=0;e<this._columnCount;e+=1){const s=this.getHeight(t,e);n=Math.max(n,s)}return n}}const Hat={isGridPlaceholder:!0},Wat=e=>e.isGridPlaceholder?"@@gridPlaceholder":e.id,jat={widths:{},heights:{}};function Gat(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{board:Kat,issue:Vat}=LG,$at=e=>{const t=(0,l3.I0)(),n=(0,l3.v9)(Ya),s=(0,l3.v9)(Na),r=(0,l3.v9)(nF),i=(0,l3.v9)(Lre),o=yMe(!1),a=(0,Ye.useCallback)(function(){var a,l=(a=function*(a,l){const c=s?._id,d=Dne(l),u={defaultRepo:n,issueType:a,workspace:s,isAltClick:d};r||(t(Vat.clearIssue()),t(Vat.setNewIssueMode(!0))),i&&a===Hx.EPIC?o("new",l):(t(Vat.selectBestRepoAndOpenNewIssue(u)),t(Kat.openBoardItem()),t(Kat.openNewIssue()),e&&t(Vat.sidebarSetPipeline({workspaceId:c,pipelineId:e,location:"Create Issue Callback"})))},function(){var e=this,t=arguments;return new Promise((function(n,s){var r=a.apply(e,t);function i(e){Gat(r,n,s,i,o,"next",e)}function o(e){Gat(r,n,s,i,o,"throw",e)}i(void 0)}))});return function(e,t){return l.apply(this,arguments)}}(),[r,n,t,e,s]);return a},Zat="aPXQe0vyZjxSH1r7Vqnv",Yat="CZG4zwXmc9Yq6AE_NiQM",Jat="qWZIOceg8GLfvgv3SYZR",Xat="SzIvgdFiaMuazLWZSMuC",Qat="_3oFbeniujm3O4Vgsura",elt="OyCjlvAFjYcr4VzpU1my",tlt=e=>{let{dndProvider:t,isEpicPipeline:n,pipelineDescription:s,pipelineId:r,pipelineName:i,pipelineOnEdit:o,pipelineWidth:a}=e;const l=$at(r);return Ye.createElement("div",{ref:t.innerRef,className:Zat,style:{width:`${a}px`}},Ye.createElement("span",{className:Yat},i),Ye.createElement("div",{className:Xat},s?Ye.createElement("div",{className:Jat},s):Ye.createElement("button",{type:"button",className:Qat,onClick:o},"Add description +"),n&&Ye.createElement("div",{className:elt,onClick:e=>{l(Hx.EPIC,e),J1("Epic Pipeline CTA clicked",{location:"Board 2.0"})},role:"presentation","data-zh-flyover":"interactive",onKeyDown:()=>{}},"Create new epic")))},nlt="DH_XecZFS89k6eSsRWV3",slt="DKjwBhSuumm_ZfHdD0zx",rlt="JR2a4MOrQ4MG9YdZ5Z7G",ilt="PXjexxNR7PQ5MsqVyOyv",olt="zoL9Wxb6UOmH_Pvp8VrT";function alt(){return alt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},alt.apply(this,arguments)}const llt={title:"Drop to this pipeline",info:"Issues will be closed and placed at the top"},clt={title:"Drag and drop",info:"Issues will be placed at the bottom when sorting is cleared"},dlt=e=>{let{dndProvider:t,isClosedPipeline:n=!1,isSorted:s=!1}=e;const r=(0,Ye.useMemo)((()=>n?llt:clt),[s]);return Ye.createElement("div",alt({ref:t?t.innerRef:null},t?.droppableProps,{className:nlt}),n||s?Ye.createElement("div",{className:slt},Ye.createElement("span",{className:rlt},Ye.createElement("p",{className:ilt},r.title),Ye.createElement("span",{className:olt},r.info))):null)},ult=e=>{let{issueId:t,pipelineId:n,workspaceId:s,isShiftClick:r}=e;return(e,i)=>{const o=qb(),a=i(),l=a.boardV2.filters.repos.value,c=a.boardV2.filters.sprints.value,d=a.boardV2.filters.epics.settings,u=a.boardV2.filters.estimates.settings,p=a.boardV2.filters.milestones.value,{labels:m,assignees:h,epics:E,authors:g,estimates:f,releases:_,search:v}=a.boardV2.filters,I=a.boardV2.filterLogic,b=x6e(a),y=mle(l,m,h,E,g,c,d,u,_,p,f,I,b),{selectedIssueIds:S}=a.boardV2,w=n===bo,R=Art(o,s),T=M6e(a),C=hle(R,T),k=Xrt(o,n,s,w,C,y,v).map((e=>e.id)),O=S.reduce(((e,t)=>(k.includes(t)&&e.push(t),e)),[]);if(!r||r&&(O.includes(t)||0===O.length))return void e(Sr({issueId:t}));const N=O[O.length-1],P=k.indexOf(N),A=k.indexOf(t),D=P<A?P:A,L=P>A?P:A,z=k.slice(D,L+1);e(wr(A<P?z.reverse():z))}},plt=e=>Boolean(e.metaKey||e.ctrlKey||2===e.which);function mlt(){return mlt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mlt.apply(this,arguments)}const hlt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--estimate-conflict",t].filter(Boolean).join(" "),"aria-label":"estimate-conflict",role:"img",...n};return Ye.createElement("svg",mlt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z",fill:"currentColor"}))},Elt="NPVrw7ZYpu7_KDR8Vzk3",glt="bnwL1FMOEfDogEIjwSWg",flt="DFfI18iC7EkCqjNstXlV",_lt="J2AjIbepYScoEm1fqGWg",vlt="lfE6yb48btcMHJrUgMxe",Ilt="Q3xGjKZLVz_D1PhQWd09",blt=e=>{let{className:t,status:n}=e;const s="pending"===n,r="vote_conflict"===n,i=(0,_I.default)(Elt,t,{[glt]:r}),o=(0,_I.default)(flt,{[_lt]:s});return Ye.createElement("div",{className:i},Ye.createElement("div",{className:o,"aria-label":"Estimate "+(s?"pending":"conflict")},s?Ye.createElement(aAe,{className:vlt}):Ye.createElement(hlt,{className:Ilt})))},ylt=e=>{let{className:t,estimate:n,estimationStatus:s,isIssueClosed:r}=e;const i=r?ZBe.ESTIMATE_CLOSED:null;if(null!=n)return Ye.createElement(sqe,{className:t,value:n,type:i});return"pending"===s||"vote_conflict"===s?Ye.createElement(blt,{className:t,status:s}):null},Slt=(0,Ye.memo)(ylt),wlt="eIUacGGRLspqno4ZLe24",Rlt="amOV9NwwX4ZNfFOd86D4",Tlt=e=>{let{color:t,name:n}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:Rlt,style:{backgroundColor:iue(t)}})," ",n)},Clt=e=>{let{color:t,name:n}=e;const s=(e=>{const t=iue(e),{r:n,g:s,b:r}=oue(t),{h:i,s:o,l:a}=aue(t);return{"--label-r":n,"--label-g":s,"--label-b":r,"--label-h":i,"--label-s":o,"--label-l":a}})(t);return Ye.createElement(YI,{content:Ye.createElement(Tlt,{color:t,name:n})},Ye.createElement("div",{"data-testid":"zh-label-condensed",className:wlt,style:s}))},klt=e=>e.toUpperCase(),Olt={CHANGES_REQUESTED:0,APPROVED:1,COMMENTED:2,PENDING:3,DISMISSED:4},Nlt="A user",Plt=(e,t)=>Olt[e.state]-Olt[t.state],Alt=(e,t)=>{const n=Number(new Date(e.submittedAt||0));return Number(new Date(t.submittedAt||0))-n},Dlt=(e,t,n)=>{const s=[];return[...e,...t].sort(Alt).reduce(((e,t)=>{const r=t.user?.login;return r!==n&&r?(s.includes(r)||e.push(t),s.push(r),e):e}),[]).sort(Plt)},Llt=(e,t)=>{const n=e??Nlt;switch(t){case"APPROVED":return`${n} approved these changes`;case"CHANGES_REQUESTED":return`${n} requested changes`;case"COMMENTED":return`${n} left review comments`;case"DISMISSED":return`${n} dismissed this review`;case"PENDING":return`Awaiting review from ${n===Nlt?n.toLowerCase():n}`;default:return`Review from ${n}`}},zlt="ECGA8jfQxU9ZMqeMJPLB",Mlt="YP2au8iGNuUCTxXm2iKc",xlt="WWe2ZqwSHgA4pcbRjdPz",Flt="mZktMdaSoiiYOgSJGz0b",Ult="bZtixyyZhy2PcUT8Gcri",Blt="F0yY7X3vxZWKqci8s4IQ",qlt="iTj6_6hwr0af8WXexOHq",Hlt="jUgg8SaYxBMgwnUbeOkd",Wlt="MMz_1mVPs1M9LRGPfcYi",jlt="lgDLutLHhljLqoiJcvyE",Glt="AUCdHiXL3NWTd47B_YRD",Klt=e=>(0,_I.default)({[Hlt]:"COMMENTED"===e||"DISMISSED"===e,[Wlt]:"APPROVED"===e,[jlt]:"CHANGES_REQUESTED"===e,[Glt]:"PENDING"===e}),Vlt=e=>{let{showStatus:t=!1,className:n="",message:s=""}=e;return Ye.createElement(Ye.Fragment,null,t&&Ye.createElement("span",{className:(0,_I.default)(Blt,n)}),s)},$lt=e=>{let{isOverflow:t=!1,reviewers:n,children:s}=e;const r=(0,_I.default)(Flt,{[Ult]:t});return Ye.createElement(YI,{wrapperClassName:r,dataTestId:"zh-reviewer-tooltip",content:Ye.createElement(HFe,{items:n,itemRenderer:e=>{let{user:n,state:s}=e;return Ye.createElement(Vlt,{className:Klt(s),message:Llt(n?.login,s),showStatus:t})},threshold:10}),position:jI.BOTTOM},s)},Zlt=e=>{let{reviewers:t}=e;return Ye.createElement($lt,{isOverflow:!0,reviewers:t},Ye.createElement("div",{className:xlt},`+${t.length}`))},Ylt=e=>{let{reviewer:t}=e;const n=(0,_I.default)(Blt,qlt,Klt(t.state)),s=t.user?.avatarUrl?Ye.createElement("img",{"data-testid":"zh-reviewer-avatar",className:Mlt,src:t.user.avatarUrl}):Ye.createElement(jpe,{className:Mlt,url:null,size:18});return Ye.createElement($lt,{reviewers:[t]},Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:zlt},s),Ye.createElement("div",{className:n})))},Jlt="MAviE_yus3zzWX1mfVVe",Xlt="AnPTB_pqMOfFefiAq2_Q",Qlt=e=>{let{reviewers:t=[]}=e;return Ye.createElement("div",{className:Jlt},(e=>e.length<=3?Ye.createElement("div",{className:Xlt},e.reverse().map((e=>Ye.createElement(Ylt,{key:e.id,reviewer:e})))):Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:Xlt},e.slice(0,2).reverse().map((e=>Ye.createElement(Ylt,{key:e.id,reviewer:e})))),Ye.createElement(Zlt,{reviewers:e.slice(2,e.length)})))(t))};function ect(){return ect=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ect.apply(this,arguments)}const tct=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--click-to-select",t].filter(Boolean).join(" "),"aria-label":"click-to-select",role:"img",...n};return Ye.createElement("svg",ect({viewBox:"0 0 16 16"},s),Ye.createElement("circle",{fill:"currentColor",stroke:"currentColor",cx:8,cy:8,r:7}),Ye.createElement("path",{fill:"none",stroke:"currentColor",d:"M4.737 8.283l2.205 2.18 4.32-4.926"}))},nct="DwoZ7hbU26Ww3VGu_sAY",sct="UpxZgO_ALqCZ8x9ODqcw",rct="yfqZ8UI1HvBgTDzJcbm9",ict="z2biFPk7iMRGy8w9foX2",oct="ppbVfxb88j2R4LR0zmQ9",act="ibYhrRWOozMtNI2GynR5",lct="UCApAEVKH8d8GT51gWm7",cct="cyh1DNLpOzfCjraLlqM1",dct="QlUuGbCU4yc2HAAi7bjO",uct="fv0ZXDPB6ggLv5Z0nqw_",pct="bDDhEpoi3LyY0ouxr6rB",mct="X5_9f9QYNSLQrwzsJHZY",hct="WGZs82LL2DExRvakubsx",Ect="tpQcMWbLZBDDaNY7VsiR",gct="wIeJtDrXVLxGgnsZvI29",fct="sSftmVH01X0NsSZblBca",_ct="MWQSF63pB05hKT5KtiTo",vct=e=>{let{isCondensed:t=!1,isHovered:n=!1,isLocked:s=!1,isSelected:r=!1,issue:i,onClickIssueSelect:o=(()=>{}),onMouseEnter:a,onMouseLeave:l}=e;const c=e=>{e.stopPropagation(),o(e.shiftKey)},d=i.assignees?.nodes||[],u=d.length,p=(0,_I.default)(rct,r?null:ict,n&&!s?oct:null),m=u?d.map((e=>e.login)).join("\n"):"Unassigned",h=(n||r)&&!s,E=Boolean(i.epic),g=Boolean(i.pullRequest),f=(0,_I.default)(nct,{[sct]:t});return Ye.createElement(YI,{content:m,position:jI.BOTTOM,wrapperClassName:f},Ye.createElement("div",{"aria-checked":r,"aria-disabled":s,className:p,onClick:s?void 0:c,onKeyPress:s?void 0:c,onMouseEnter:s?void 0:a,onMouseLeave:s?void 0:l,role:"checkbox",tabIndex:0,"data-zh-flyover":"close"},(()=>{if(g){const e=Boolean(i.pullRequestObject?.draft),t=i.pullRequestObject?.state,n=(0,_I.default)(mct,Ect,{[fct]:t===so.Closed&&!e,[_ct]:t===so.Merged&&!e,[gct]:t===so.Open&&!e});return Ye.createElement("div",{className:n},((e,t)=>{if(e)return Ye.createElement(X8e,null);switch(t){case so.Closed:return Ye.createElement(Y8e,null);case so.Merged:return Ye.createElement($8e,null);default:return Ye.createElement(m9,null)}})(e,t))}if(E){const e=(0,_I.default)(mct,hct);return Ye.createElement("div",{className:e},Ye.createElement(ere,null))}return Ye.createElement(hae,{alt:u?d[0].login:"Avatar",className:act,size:u?25:void 0,url:u?d[0].avatarUrl:null})})(),(()=>{const e=E||g?d:d.slice(1);if(!e.length)return null;const t=1===e.length?Ye.createElement(hae,{alt:e[0].login,size:15,url:e[0].avatarUrl}):`+${e.length}`,n=(0,_I.default)(lct,{[dct]:1!==e.length});return Ye.createElement("div",{className:n},t)})(),h?Ye.createElement(tct,{className:(0,_I.default)(cct,r?pct:uct)}):null))},Ict=vct,bct="bFlQ3kwQWfQsgKQcCQtG",yct="JCNsAWvExFhlw3gewziQ",Sct="nB2_Ms_2Un671Kn9uzoG",wct="qHbk7oPnENlW5Fi7_neK",Rct="V7UcqLdwW4ODXVBD6aAV",Tct="ea7KqDMobhZY_NiAD3dR",Cct="g5yT2fam8aJsNqjHyP51",kct="J2deuqkFPzAL19lhgWzH",Oct="ESQtfBTQB9xCwRQ4Yfbi",Nct="X8Vi5CVEx6l74Qgv_YFy",Pct="NrsWPhz9SHPEO4wCBbff",Act="L2UzYiRTYvWIlme09LPx",Dct="prDTPFcFu4C8GJ_KustT",Lct=e=>{let{isAssigneeHovered:t=!1,isSelected:n=!1,issue:s,isCondensed:r,isHighPriority:i=!1,showRepos:o=!0}=e;const a=s.pullRequest,l=cit(s)||a&&[so.Merged,so.Closed].includes(s.pullRequestObject.state);return Ye.createElement("div",{className:bct},r?null:Ye.createElement("div",{className:(0,_I.default)(yct,{[Sct]:l})},Ye.createElement("span",{className:(0,_I.default)(Rct,{[Oct]:t&&!n})},"Click to select"),Ye.createElement("span",{className:(0,_I.default)(wct,{[Tct]:t&&!n})},o?Ye.createElement("span",{className:Cct,title:s.repository.name},s.repository.name):null,s.number>=0&&Ye.createElement("span",{className:kct,title:`#${s.number}`},"#",s.number))),Ye.createElement("div",{className:(0,_I.default)(Nct,{[Pct]:r}),title:s.title},r&&i?Ye.createElement(fKe,{className:(0,_I.default)(Act,{[Dct]:l})}):null,s.title))},zct=Lct,Mct="_2vXAhTJhyHfuUZTIyVz",xct="LJjE1jOizJvB5Wauw5Hr",Fct="L7eCy74GOvnI97EZJw6_",Uct="LYuJiyuGgj0UIkAn8vfA",Bct="mhNFEMinIzVzdAqUUlP3",qct=e=>{let{connectedPR:t,isLocked:n,isActive:s,isInSelectionMode:r,isCondensed:i,showRepos:o,onIssueSelectionClick:a,onIssueOpenOverride:l}=e;const c=(0,l3.I0)(),d=e=>{r?a?.():c(P1(t,e,l))},u=e=>{if(n)return;const t=plt(e);e.stopPropagation(),d(t)},p=(0,_I.default)(Mct,{[Bct]:s,[xct]:i}),m=(0,_I.default)(Fct,{[Uct]:i});return Ye.createElement("div",{className:p,onClick:u,onKeyPress:u,onMouseUp:e=>{n||1===e.button&&(e.stopPropagation(),d(!0))},role:"button",tabIndex:0,"data-testid":"zh-connected-pr"},Ye.createElement("div",{className:m},Ye.createElement(Ict,{isCondensed:i,isLocked:!0,issue:t}),Ye.createElement(zct,{isCondensed:i,issue:t,showRepos:o})),Ye.createElement(Yct,{isLocked:n,isCondensed:i,issue:t}))},Hct=e=>{let{isLocked:t,isCondensed:n,connectedPRs:s,isInSelectionMode:r=!1,showRepos:i=!0,onIssueSelectionClick:o,onIssueOpenOverride:a}=e;const l=(0,l3.v9)((e=>e.issue.id));return Ye.createElement(Ye.Fragment,null,s.map((e=>Ye.createElement(qct,{isLocked:t,isCondensed:n,connectedPR:e,key:e.id,isActive:e.id===l,isInSelectionMode:r,showRepos:i,onIssueSelectionClick:o,onIssueOpenOverride:a}))))},Wct=Hct,jct="nYoc4AhnoyEnVKJrgQNY",Gct="GeEJP8eDNpS_Z52I35wa",Kct="J1o5cnE2w9LAsgKAV49g",Vct="OLDvKCvSJmkMp04D7tFp",$ct=(e,t)=>[e.name,e.color,t].join("-"),Zct=e=>{let{issue:t,isLocked:n,isInSelectionMode:s,onIssueSelectionClick:r,onIssueOpenOverride:i,isCondensed:o}=e;const a=(0,_I.default)(jct,{[Gct]:o}),l=Dlt(t.pullRequestReviews?.nodes||[],(t.reviewRequests?.nodes||[]||[]).filter((e=>{let{reviewer:t}=e;return t})).map((e=>{const{reviewer:t,createdAt:n,id:s}=e;return{id:s,state:"PENDING",submittedAt:n||null,user:t?{login:t.login,avatarUrl:t.avatarUrl}:null}})),t.user.login);const c=Boolean(t.labels?.nodes.length),d=Boolean(l.length),u="CLOSED"===t.state,p=Boolean(t.estimate),m=!u&&["pending","vote_conflict"].includes(t.estimationStatus||""),h=Boolean(t.connectedPRs)&&Boolean(t.connectedPRs?.length),{showLabels:E,showReviewers:g,showEstimates:f,showRepos:_,showPullRequests:v}=(0,l3.v9)((e=>({showLabels:e.boardV2.settings.showLabels,showReviewers:e.boardV2.settings.showReviewers,showEstimates:e.boardV2.settings.showEstimates,showRepos:e.boardV2.settings.showRepos,showPullRequests:e.boardV2.settings.showPullRequests})),l3.wU),I=!o&&f&&(p||m),b=!o&&g&&d;return I||c&&E||b||h&&v?Ye.createElement("div",{className:a},Ye.createElement("div",{className:Kct},I?Ye.createElement(Slt,{className:Vct,estimate:t.estimate?.value,estimationStatus:t.estimationStatus||null,isIssueClosed:u}):null,b?Ye.createElement(Qlt,{reviewers:l}):null,E&&c?t.labels.nodes.map(((e,t)=>o?Ye.createElement(Clt,{color:e.color,name:e.name,key:$ct(e,t)}):Ye.createElement(pue,{color:e.color,key:$ct(e,t),name:e.name}))):null),h&&v&&Ye.createElement(Wct,{isLocked:n,connectedPRs:t.connectedPRs||[],isInSelectionMode:s,onIssueSelectionClick:r,onIssueOpenOverride:i,isCondensed:o,showRepos:_})):null},Yct=Zct;function Jct(){return Jct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jct.apply(this,arguments)}const Xct=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--question-mark",t].filter(Boolean).join(" "),"aria-label":"question-mark",role:"img",...n};return Ye.createElement("svg",Jct({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{d:"M10.368 15.152h2.426v-.668c0-1.183.433-1.816 1.945-2.707 1.547-.926 2.461-2.203 2.461-4.008v-.011c0-2.52-2.098-4.348-5.18-4.348-3.398 0-5.156 2.016-5.308 4.535l-.012.14h2.426l.011-.105c.13-1.43 1.137-2.414 2.754-2.414 1.594 0 2.649.961 2.649 2.297v.012c0 1.195-.504 1.875-1.922 2.73-1.606.961-2.297 2.016-2.262 3.61l.012.937zm1.23 5.438c.88 0 1.547-.668 1.547-1.524 0-.855-.668-1.511-1.547-1.511-.855 0-1.535.656-1.535 1.511 0 .856.68 1.524 1.535 1.524z",fill:"currentColor"}))};class Qct extends Ye.PureComponent{constructor(e){super(e),this.state={isActive:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.renderSideDropDown=this.renderSideDropDown.bind(this),this.toggleOpen=this.toggleOpen.bind(this)}handleMouseEnter(){const e=(0,vte.findDOMNode)(this.button).getBoundingClientRect(),t=(0,vte.findDOMNode)(this.list);if(!t)return;const n=t.offsetHeight,s=t.offsetWidth,r={};e.right+s<window.innerWidth?r.left=e.right:e.left-s>0&&(r.left=e.left-s),e.top+n<window.innerHeight?r.top=e.top:e.top+e.height/2-n/2>0<window.innerHeight?r.top=e.top+e.height/2-n/2:r.top=e.bottom-n,this.setState(r)}toggleOpen(e){e&&e.stopPropagation(),this.setState((e=>({isActive:!e.isActive})))}renderSideDropDown(e){const{isActive:t,top:n,left:s}=this.state,{children:r,iconComponent:i,text:o,title:a,toggleOnXIconOnly:l}=this.props,c=!e||t,d=e?this.toggleOpen:null,u=c?Ye.createElement(Qte,{coords:{top:n,left:s},isActive:c,modifiers:["wide"],ref:e=>{this.list=e},showHeaderX:!0,title:a,toggleOnXIconOnly:l,toggleOpen:this.toggleOpen},r):null;return Ye.createElement("div",{className:"zhc-side-dropdown zhc-selection-list-item zhc-selection-item","data-cy":"selection-item",onMouseEnter:this.handleMouseEnter,ref:e=>{this.button=e}},Ye.createElement("div",{className:"zhc-side-dropdown__item",onClick:d},i,o,Ye.createElement(kue,null)),u)}render(){return Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.md-1}},this.renderSideDropDown)}}Qct.defaultProps={iconComponent:null,title:"",toggleOnXIconOnly:!1},Qct.propTypes={children:SI().node.isRequired,text:SI().oneOfType([SI().string,SI().node]).isRequired,iconComponent:SI().element,title:SI().string,toggleOnXIconOnly:SI().bool};const edt=Qct,tdt="G1jYkgPOiZhyrPmOoRhh",ndt="yHJ0XAL_7FExPMhLI6sm",sdt="dmnHzsPsmsYsWNVWZi7w",rdt="t9IYO_L2d9obOjo5M1nD",idt=e=>{let{header:t,dependencies:n}=e;return n&&n.length>0?Ye.createElement("div",{className:tdt},Ye.createElement("div",{className:ndt},t),n.map((e=>Zne(ma.getRepoIssuePath({organization:e.repository.ownerName,repository:e.repository.name,issue_number:e.number}),Ye.createElement(A_e,{title:e.title,className:sdt}),{forExt:!0,forWebapp:!0},{key:e.id,className:rdt})))):null},odt={},adt=bb.Ps`
  query getIssueById($workspaceId: ID!, $ids: [ID!]!) {
    nodes(ids: $ids) {
      ...boardIssueData
    }
  }
  ${drt}
`;const ldt="ZWW6sAIsRHFuvVBKM6m7",cdt="Jr3jIpJkVVuboapvTHgd",ddt="ZUwya8807l_ESVRBtHHN",udt="f2qAYme0pNoE6rNnn0Vx",pdt=e=>{let{isBlocked:t,hasBlockingIssues:n}=e;return n&&t?Ye.createElement("div",null,"This Issue is ",Ye.createElement("span",{className:ddt},"blocked")," and"," ",Ye.createElement("span",{className:ddt}," blocking other Issues")):t?Ye.createElement("div",null,"This Issue is ",Ye.createElement("span",{className:ddt},"blocked")):n?Ye.createElement("div",null,"This Issue is ",Ye.createElement("span",{className:ddt},"blocking other Issues")):""};function mdt(e){let{blocking:t,blockedBy:n,loading:s,error:r}=e;const i=n.filter((e=>"OPEN"===e.state))||[],o=t.filter((e=>"OPEN"===e.state))||[],a=[...o,...i],l=i?Ye.createElement(idt,{header:"This issue is blocked by",dependencies:i}):null,c=o?Ye.createElement(idt,{header:"This issue is blocking",dependencies:o}):null;if(s)return Ye.createElement("div",{className:ldt},Ye.createElement(F5,{modifiers:["no-outline","no-padding"],radius:7.5,stroke:2}),Ye.createElement("span",{className:udt},"Loading dependencies..."));const d=r?Ye.createElement("div",{className:ldt},"There was an error loading some dependencies. Issues may be a part of a repository that you don\u2019t have permissions to view."):null;return 0!==a.length||r?Ye.createElement(Ye.Fragment,null,l,c,d):Ye.createElement("div",{className:ldt},"All issues have been closed")}const hdt=e=>{let{workspaceId:t,issue:n,isBlocked:s,hasBlockingIssues:r}=e;const{blocking:i,blockedBy:o}=n,a=[...i,...o],{loading:l,data:c,error:d}=function(e){const t={...odt,...e};return cy.a(adt,t)}({variables:{workspaceId:t,ids:a},errorPolicy:"all",fetchPolicy:"cache-and-network"}),u=(0,Ye.useMemo)((()=>(e=>{let{blockedIssueIds:t,blockingIssueIds:n,data:s}=e;if(!s)return{blocking:[],blockedBy:[]};const r=[],i=[],o=s.nodes.length;for(let e=0;e<o;e+=1)if(s.nodes[e]){const o=Qot(s.nodes[e]);t.indexOf(o.id)>-1&&r.push(o),n.indexOf(o.id)>-1&&i.push(o)}return{blocking:i,blockedBy:r}})({blockedIssueIds:o,blockingIssueIds:i,data:c})),[o,i,c]);return Ye.createElement("div",{className:cdt},Ye.createElement(edt,{showHeaderX:Boolean(window.USER_HAS_FEELINGS),text:pdt({isBlocked:s,hasBlockingIssues:r}),toggleOnXIconOnly:!0},Ye.createElement(mdt,{blockedBy:u.blockedBy,blocking:u.blocking,loading:l,error:d})))},Edt=hdt;function gdt(){return gdt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gdt.apply(this,arguments)}const fdt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--pin",t].filter(Boolean).join(" "),"aria-label":"pin",role:"img",...n};return Ye.createElement("svg",gdt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15"},s),Ye.createElement("path",{d:"M5.487 11.066L2.4 14.153c-.628.628-1.571-.314-.943-.943l3.087-3.087-2.357-2.357a.667.667 0 01.095-1.021C3.79 5.712 5.068 5.284 6.39 5.42l1.557-1.558c-.017-1.109.342-2.048 1.277-3.13A.667.667 0 0110.2.694l4.714 4.714a.667.667 0 01-.057.994c-1.257.997-2.07 1.34-3.125 1.274l-1.528 1.528c.224 1.465-.248 2.889-1.389 4.187a.667.667 0 01-.972.031l-2.357-2.357zm3.348-1.932a.667.667 0 01.177-.622l2.001-2.001a.667.667 0 01.56-.19c.664.09 1.119-.01 1.855-.513L9.794 2.174c-.432.646-.554 1.203-.501 1.901a.667.667 0 01-.194.522l-2 2a.667.667 0 01-.588.185c-.88-.156-1.741.028-2.792.63l4.534 4.535c.62-.917.805-1.852.582-2.813z",fill:"currentColor"}))};function _dt(){return _dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_dt.apply(this,arguments)}const vdt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--unpin",t].filter(Boolean).join(" "),"aria-label":"unpin",role:"img",...n};return Ye.createElement("svg",_dt({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},s),Ye.createElement("defs",null,Ye.createElement("path",{d:"M5.46 5.767l.942.942-.46.461h-.553c-1.033 0-1.928.223-2.708.673l4.518 4.518c.613-.882.812-1.702.654-2.491l-.14-.7.575-.575.943.943-.07.07c.314 1.571-.315 3.143-1.886 4.714l-2.829-2.828-3.023 3.023a.667.667 0 01-.943-.942l3.024-3.024L.675 7.722C1.932 6.465 3.504 5.837 5.39 5.837l.07-.07zm.707-.708l.636-.636c0-1.257.629-2.515 1.886-3.772l5.657 5.657c-1.257 1.257-2.514 1.886-3.771 1.886l-.637.637-.943-.943 1.027-1.027h.553c.568 0 1.168-.203 1.804-.634L8.77 2.618c-.43.636-.633 1.236-.633 1.805v.552L7.109 6.002l-.942-.943z",id:"unpin_svg__a"})),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("g",{transform:"translate(1)"},Ye.createElement("mask",{id:"unpin_svg__b",fill:"currentColor"},Ye.createElement("use",{xlinkHref:"#unpin_svg__a"})),Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#unpin_svg__a"}),Ye.createElement("g",{mask:"url(#unpin_svg__b)",fill:"currentColor"},Ye.createElement("path",{d:"M-1 0h16v16H-1z"}))),Ye.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M14 14.707L2.293 3 3 2.293 14.707 14z"})))},Idt=e=>{let{workspaceId:t}=e;const n=(0,Ye.useRef)(null),{cache:s}=(0,Dae.x)(),[r]=Git({onError:e=>{const t="Could not update the position of the issue";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})},update:e=>{const{issueId:s,isHighPriority:r,pipelineId:i,position:o}=n.current,a=Nrt(e,{__typename:"Issue",id:s}),l=e.readQuery({query:frt,variables:{workspaceId:t,pipelineId:i}})?.searchIssuesByPipeline,c=e.readQuery({query:brt,variables:{workspaceId:t,pipelineId:i}})?.searchIssuesByPipelineCounts;let d=!1;const u=l?.pageInfo.hasNextPage,p=(c?.pipelineCounts.pullRequestsCount||0)+(c?.pipelineCounts.issuesCount||0),m=l?.nodes.length,h=l?.nodes.filter((e=>Boolean(e.metadata.pipeline_issue.priority)))?.length||0;let E=0;r?o===Xi.End&&(E=h-1,u&&h===m&&(d=!0)):o===Xi.Start?E=h:u?d=!0:E=p-1,e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:i})?{...e,value:{...e.value,nodes:Krt(e.value.nodes,a)}}:e}}),d||e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:i})?{...e,value:{...e.value,nodes:Vrt(E,e.value.nodes,a)}}:e}})}});return[e=>{let{issueId:i,isHighPriority:o,pipelineId:a,position:l}=e;n.current={issueId:i,isHighPriority:o,pipelineId:a,position:l};const c=s.readQuery({query:brt,variables:{workspaceId:t,pipelineId:a}})?.searchIssuesByPipelineCounts;(c?.pipelineCounts.pullRequestsCount||0)+(c?.pipelineCounts.issuesCount||0)<=1||r({variables:{workspaceId:t,input:{issueId:i,pipelineId:a,position:l}}})}]},bdt={},ydt=bb.Ps`
  mutation updateIssuePriority($input: SetPriorityOnPipelineIssuesInput!) {
    setPriorityOnPipelineIssues(input: $input) {
      pipelineIssues {
        id
      }
    }
  }
`;const Sdt=e=>{let{workspaceId:t,pipelineId:n,highPriorityConfig:s,moveIssueToPositionAfterUpdate:r=!0}=e;const i=(0,Ye.useRef)(null),[o]=function(e){const t={...bdt,...e};return vK.D(ydt,t)}({onError:e=>{const t="Could not update the issue priority";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})},update:e=>{const o=Nrt(e,{__typename:"Issue",id:i.current.issueId});if(e.modify({id:o,fields:{metadata:e=>({...e,pipeline_issue:{...e.pipeline_issue,...i.current.isHighPriority?{priority:{name:s.name,color:s.color}}:{priority:null}}})}}),r)if(i.current.isHighPriority)e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:n})?eit(0,e,o):e}});else{const s=e.readQuery({query:frt,variables:{workspaceId:t,pipelineId:n}})?.searchIssuesByPipeline?.nodes.filter((e=>Boolean(e.metadata.pipeline_issue.priority)))?.length||0;e.modify({fields:{searchIssuesByPipeline:e=>e.hasSameVariables({workspaceId:t,pipelineId:n})?eit(s,e,o):e}})}}});return[e=>{let{issueId:t,pipelineIssueId:n,priorityId:s}=e;i.current={issueId:t,isHighPriority:Boolean(s)},o({variables:{input:{...s?{priorityId:s}:{},pipelineIssueIds:[n]}}})}]},wdt=e=>{let{issue:t}=e;const n=(0,l3.I0)(),{pipelineId:s,workspaceId:r,highPriorityConfig:i}=(0,Ye.useContext)(mat),o=(0,l3.v9)((e=>e.boardV2.sortedPipelines[s]),l3.wU),a=krt(o),[l]=Sdt({pipelineId:s,workspaceId:r,highPriorityConfig:i,moveIssueToPositionAfterUpdate:!a}),[c]=Zit(),[d]=Idt({workspaceId:r}),u=cit(t),p=ait(t),m=t.pullRequest;return Ye.createElement(Ye.Fragment,null,[{handler:()=>{l({issueId:t.id,priorityId:i.id,pipelineIssueId:t.pipelineIssue.id})},iconComponent:Ye.createElement(fdt,null),isVisible:!u&&!p&&!m,title:a?"Set as high priority":"Pin to top and set as high priority"},{handler:()=>{l({issueId:t.id,pipelineIssueId:t.pipelineIssue.id})},iconComponent:Ye.createElement(vdt,null),isVisible:!u&&p&&!m,title:"Remove high priority"},{handler:()=>{n(Sr({issueId:t.id}))},iconComponent:Ye.createElement(Xje,null),isVisible:!0,title:"Select Issue"},{handler:()=>{c({workspaceId:r,issueId:t.id,destinationIndex:0,destinationPipelineId:bo,sourcePipelineId:s,priority:p?i:null})},iconComponent:Ye.createElement(n5,null),isVisible:!u,title:"Close Issue"},{handler:()=>{X1("Reorder Issue"),d({issueId:t.id,pipelineId:s,position:Xi.Start})},iconComponent:Ye.createElement(e9e,null),isVisible:!p&&!a,title:"Send to top"},{handler:()=>{X1("Reorder Issue"),d({issueId:t.id,pipelineId:s,position:Xi.End})},iconComponent:Ye.createElement(n9e,null),isVisible:!p&&!a,title:"Send to bottom"},{handler:()=>{d({issueId:t.id,isHighPriority:p,pipelineId:s,position:Xi.Start})},iconComponent:Ye.createElement(e9e,null),isVisible:!u&&p&&!a,title:"Send to top of high priorities"},{handler:()=>{d({issueId:t.id,isHighPriority:p,pipelineId:s,position:Xi.End})},iconComponent:Ye.createElement(n9e,null),isVisible:!u&&p&&!a,title:"Send to bottom of high priorities"}].map((e=>e.isVisible?Ye.createElement(A_e,{key:e.title,handler:e.handler,iconComponent:e.iconComponent,title:e.title}):void 0)))},Rdt=wdt;function Tdt(){return Tdt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tdt.apply(this,arguments)}const Cdt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--assignee",t].filter(Boolean).join(" "),"aria-label":"assignee",role:"img",...n};return Ye.createElement("svg",Tdt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{clipRule:"evenodd",d:"M8 8.667A3.333 3.333 0 1 1 8 2a3.333 3.333 0 0 1 0 6.667zm-4.667 4.666a.667.667 0 1 1-1.333 0c0-2.249 1.707-4 4-4h4c2.293 0 4 1.751 4 4a.667.667 0 0 1-1.333 0c0-1.52-1.118-2.666-2.667-2.666H6c-1.55 0-2.667 1.146-2.667 2.666zm6.667-8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z",fill:"currentColor",fillRule:"evenodd"}))};function kdt(){return kdt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kdt.apply(this,arguments)}const Odt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--label",t].filter(Boolean).join(" "),"aria-label":"label",role:"img",...n};return Ye.createElement("svg",kdt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{clipRule:"evenodd",d:"M2.223 7.698V2.483a.26.26 0 0 1 .26-.26h5.215a.26.26 0 0 1 .183.076l6.486 6.486a.26.26 0 0 1 0 .368l-5.214 5.214a.26.26 0 0 1-.368 0L2.3 7.881a.26.26 0 0 1-.076-.183zm-1.556 0V2.483C.667 1.48 1.48.667 2.483.667h5.215c.481 0 .944.19 1.284.532l6.487 6.486a1.816 1.816 0 0 1 0 2.568l-5.216 5.215a1.816 1.816 0 0 1-2.568 0L1.2 8.982a1.816 1.816 0 0 1-.532-1.284zm5.189-2.88a1.038 1.038 0 1 0 0 2.075 1.038 1.038 0 0 0 0-2.075z",fill:"currentColor",fillRule:"evenodd"}))},Ndt=e=>{let{workspaceId:t}=e;const{cache:n}=(0,Dae.x)(),s=(0,Ye.useCallback)((e=>{const s=[];return e.forEach((e=>{const r=Nrt(n,{__typename:"Issue",id:e}),i=n.readFragment({id:r,fragment:drt,variables:{workspaceId:t}});i?s.push(Qot(i)):console.warn(`Fragment not found with id: ${r}`)})),s}),[n,t]);return s},Pdt="qoVg2nquu5gHIu1fG3bE",Adt="c_tWqrc7jg2G0TCTKQ5v",Ddt="qThH0enM5MO0ZXe2QuVc",Ldt=e=>{let{workspaceId:t}=e;const n=Ndt({workspaceId:t}),s=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),r=(0,l3.I0)(),i=n(s),o=(0,Ye.useMemo)((()=>{const e=[];return i.reduce(((t,n)=>((e,t,n)=>{const s={...e};return n.indexOf(t.id)>-1?e:(t.pullRequest?(n.push(t.id),s.prs+=1):(n.push(t.id),s.issues+=1),s.points+=t.estimate?t.estimate.value:0,s)})(t,n,e)),{issues:0,prs:0,points:0})}),[i]),a=Mi(o.issues,o.prs,o.points);return Ye.createElement("div",{className:Pdt},Ye.createElement("span",null,a),Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,className:Adt,onClick:()=>{r(Tr()),r(kr())}},Ye.createElement(R7,{className:Ddt}),"Clear all selected"))},zdt="u_OysvGGENkk_IYHKABM",Mdt=e=>{let{children:t,tooltipText:n,selectionThreshold:s,isLocked:r=!1,isDisabled:i=!1,testId:o,onClick:a}=e;const l=(0,l3.v9)((e=>e.boardV2.selectedIssueIds.length)),c=l>s||i,d=c?n:null;return Ye.createElement(YI,{content:d,position:jI.BOTTOM},Ye.createElement(H5,{disabled:c||r,variant:z5.CONTAINED,color:L5.SECONDARY,className:zdt,onClick:a,dataTestId:o},t))},xdt="LJJqValQ58W5ktru6kUe",Fdt="xZVL7QT_vl82SfiN3vgR",Udt="MSnqMNCcqsw0KkRRw8yw",Bdt="SP7IoeA171aWxLnxJaEr",qdt="sBNV4cGK8ma6SoSPP0KJ";let Hdt;!function(e){e.MOVE="move",e.APPLY_LABELS="labels",e.SET_SPRINT="sprint",e.SET_ESTIMATE="estmate",e.ASSIGN_TO="assign",e.SET_EPIC="epic",e.SET_RELEASE="release",e.START_PLANNING_POKER="planning_poker"}(Hdt||(Hdt={}));const Wdt=50,jdt=100,Gdt=(e,t)=>`You can only set ${t} for ${e} issues at a time. Deselect some issues to continue`,Kdt=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),r=(0,l3.v9)((e=>e.boardV2.pendingBulkActions.length>0)),i=e=>()=>{t||(s(Jr(e)),H.Z.removeByType(W.Z.BOARD_SELECT_MULTIPLE))};return Ye.createElement("div",{className:xdt},Ye.createElement("div",{className:Fdt},Ye.createElement(Ldt,{workspaceId:n}),Ye.createElement("div",{className:Bdt},r?Ye.createElement(U5,{className:qdt,modifiers:["purple","no-outline","no-padding"],radius:10.5,stroke:2.5}):null),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(Wdt,"a pipeline"),selectionThreshold:Wdt,onClick:i(Hdt.MOVE),testId:"move-pipelines-button"},"Set pipeline"),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(Wdt,"assignees"),selectionThreshold:Wdt,onClick:i(Hdt.ASSIGN_TO),testId:"assign-to-button"},"Set assignee"),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(Wdt,"labels"),selectionThreshold:Wdt,onClick:i(Hdt.APPLY_LABELS),testId:"apply-labels-button"},"Set label"),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(jdt,"a sprint"),selectionThreshold:jdt,onClick:i(Hdt.SET_SPRINT),testId:"set-sprint-button"},"Set sprint"),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(jdt,"epics"),selectionThreshold:jdt,onClick:i(Hdt.SET_EPIC),testId:"set-epic-button"},"Set epic"),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(jdt,"releases"),selectionThreshold:jdt,onClick:i(Hdt.SET_RELEASE),testId:"set-release-button"},"Set release"),Ye.createElement(Mdt,{isLocked:t,tooltipText:Gdt(jdt,"an estimate"),selectionThreshold:jdt,onClick:i(Hdt.SET_ESTIMATE),testId:"set-estimate-button"},"Set estimate")),Ye.createElement(H5,{variant:z5.CONTAINED,color:L5.ACTION,className:Udt,onClick:()=>{s(Tr()),s(kr())}},"Done"))},Vdt="h9zasJaPZgqsyZ2vQwkb",$dt={[Hdt.ASSIGN_TO]:"Assignees Changed",[Hdt.APPLY_LABELS]:"Labels Changed",[Hdt.SET_SPRINT]:"Set sprint"},Zdt=e=>{let{issue:t}=e;const n=(0,l3.I0)(),s=e=>()=>{J1("Quick Issue Action - Board",{Action:$dt[e]}),n(Sr({issueId:t.id,isQuickActionSelectionMode:!0})),n(Jr(e))};return Ye.createElement("div",{className:Vdt},[{handler:s(Hdt.ASSIGN_TO),iconComponent:Ye.createElement(Cdt,null),title:"Set assignee"},{handler:s(Hdt.APPLY_LABELS),iconComponent:Ye.createElement(Odt,null),title:"Set label"},{handler:s(Hdt.SET_SPRINT),iconComponent:Ye.createElement(rre,null),title:"Set sprint"}].map((e=>Ye.createElement(A_e,{key:e.title,handler:e.handler,iconComponent:e.iconComponent,title:e.title}))))},Ydt=Zdt,Jdt="d7rC6s8fZYj9QXvMrqt9",Xdt="VawnMgdDzPtJwCL6Hk8A",Qdt="qZyJWZAJFjDNSRxuhQEf",eut=e=>{let{hasBlockingIssues:t,isBlocked:n}=e;return t&&n?Ye.createElement(h7,null):n?Ye.createElement(d7,null):t?Ye.createElement(p7,null):Ye.createElement(Xct,null)},tut=e=>{let{workspaceId:t,isInSelectionMode:n,isLocked:s,issue:r,isCondensed:i,showDependencies:o}=e;const a=r.blocking.length>0,l=r.blockedBy.length>0,c=o&&(l||a),d=c&&!s,u=c&&!i?Ye.createElement(_Se,null):null,p=eut({hasBlockingIssues:a,isBlocked:l}),m=c&&!i?p:Ye.createElement(_Se,null);return n&&c?Ye.createElement(H5,{disabled:!0,className:(0,_I.default)(Xdt,Qdt),height:A5.SHORT},p):Ye.createElement(OSe,{className:Jdt,customButtonClass:Xdt,hoverableIcon:u,modifiers:["issue-card-actions"],primaryIcon:m,showHeaderX:!0,buttonPadding:M5.EXTRA_TIGHT,buttonHeight:A5.SHORT,title:s?"Dependency options":"Issue options"},d&&Ye.createElement(Edt,{workspaceId:t,issue:r,isBlocked:l,hasBlockingIssues:a}),!s&&Ye.createElement(Rdt,{issue:r}),Ye.createElement(Ydt,{issue:r}))},nut=tut,sut="dK5wAd59qtTZQTvktOgy",rut="ILRHU3IMcIF4ushxVPMK",iut="wc4NcJtgHvDgU8CRm3ve",out="tqpfCjVBUteo9dE1PrgH",aut="UiHnozSI49qVW9EGybcc",lut="NJ4Dn0UyH2bcFxd4mlEJ",cut=e=>{let{workspaceId:t,children:n,isDragging:s,isHovered:r,isInSelectionMode:i,isLocked:o,issue:a,isCondensed:l}=e;const{showDependencies:c,showEstimates:d}=(0,l3.v9)((e=>({showDependencies:e.boardV2.settings.showDependencies,showEstimates:e.boardV2.settings.showEstimates})),l3.wU),u=a.blocking.length>0,p=a.blockedBy.length>0,m=c&&(p||u),h=!o&&!s&&!i&&(r||m&&!l),E="CLOSED"===a.state,g=Boolean(a.estimate),f=!E&&["pending","vote_conflict"].includes(a.estimationStatus||"");return Ye.createElement("div",{className:(0,_I.default)(sut,{[rut]:l})},n,l&&Ye.createElement("div",{className:lut},!E&&m?Ye.createElement("div",{"data-testid":"condensed-dependency-icon",className:aut},eut({hasBlockingIssues:u,isBlocked:p})):null,l&&d&&(g||f)?Ye.createElement("div",{className:iut},Ye.createElement(Slt,{className:l?out:void 0,estimate:a.estimate?.value,estimationStatus:a.estimationStatus||null,isIssueClosed:E})):null),h?Ye.createElement(nut,{workspaceId:t,isInSelectionMode:i,isLocked:o,issue:a,isCondensed:l,showDependencies:c}):null)},dut=cut,uut="Olf8wk5UMzEGC8_ozGBk",put="uU5cpWDjl3dGNDIv_X_Q",mut="Ar09ZyxhhP99RNQfFEGq",hut=e=>{let{issue:t}=e;return Ye.createElement("div",{className:(0,_I.default)(uut,{[mut]:cit(t)})},Ye.createElement(fKe,{className:put}),t.pipelineIssue.priority?.name)},Eut=hut,gut="czFhW831lXT7lrhqiJwo",fut="p0i4VaHv6fKpTusHbNL5",_ut="Q1XR_TO_28LShUHr1PVp";function vut(e){return 0===e.size}const Iut=()=>{const{selectedEpicIdsArrayIn:e,selectedEpicIdsArrayNin:t,selectedEpicSettingsArray:n}=(0,l3.v9)((e=>({selectedEpicIdsArrayIn:e.boardV2.filters.epics.in,selectedEpicIdsArrayNin:e.boardV2.filters.epics.nin,selectedEpicSettingsArray:e.boardV2.filters.epics.settings})),Uoe());return{selectedEpicIdsIn:(0,Ye.useMemo)((()=>new Set(e)),[e]),selectedEpicIdsNin:(0,Ye.useMemo)((()=>new Set(t)),[t]),selectedEpicSettings:(0,Ye.useMemo)((()=>new Set(n)),[n])}},but=()=>{const e=(0,l3.I0)(),{selectedEpicIdsIn:t,selectedEpicIdsNin:n,selectedEpicSettings:s}=Iut();return(0,Ye.useCallback)((r=>{const i=new Set([...t]);i.has(r)?i.delete(r):i.add(r);e(Hr({epicIds:{in:i,nin:n},epicSettings:s}))}),[e,t])};function yut(e){let{workspaceId:t}=e;const n=(0,l3.I0)(),{setPersistedFilterValues:s}=Ele(),{selectedEpicIdsIn:r,selectedEpicIdsNin:i,selectedEpicSettings:o}=Iut(),a=(0,Ye.useCallback)((e=>{const n=[{key:Po,value:vut(e.epicIds.in)?null:e.epicIds.in},{key:Go,value:vut(e.epicIds.nin)?null:e.epicIds.nin},{key:Do,value:vut(e.epicSettings)?null:e.epicSettings}];s(t,n)}),[s,t]),l=(0,Ye.useMemo)((()=>RI()((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=null!==o&&!Ni(e.epicSettings,o),l=null!==r&&!Ni(e.epicIds.in,r)||null!==i&&!Ni(e.epicIds.nin,i),c=l||s;c&&!t&&(n(Hr(e)),a(e))}),400)),[o,r,i,n,a]),c=(0,Ye.useCallback)((e=>{const t=new Set([...r]);t.has(e)?t.delete(e):t.add(e);const s={epicIds:{in:t,nin:i},epicSettings:o};n(Hr(s)),a(s)}),[n,r,l,a]),d=(0,Ye.useCallback)((e=>{n(Hr(e)),l(e,!0),a(e)}),[n,l,a]),u=(0,Ye.useCallback)((()=>{const e={epicIds:{in:new Set,nin:new Set},epicSettings:new Set};n(Hr(e)),a(e)}),[n,a]);return{toggleFilterValue:c,updateFilterValue:l,forceUpdateFilterValue:d,clearFilterValue:u}}const Sut=e=>{let{workspaceId:t,epicId:n,isDisabled:s}=e;const r=(0,l3.v9)((e=>e.boardV2.filters.epics.in?.includes(n))),{toggleFilterValue:i}=yut({workspaceId:t});return Ye.createElement("div",{className:gut},Ye.createElement(H5,{dataTestId:"issue-card-epic-filter-button",className:fut,variant:z5.OUTLINED,color:r?L5.SECONDARY:L5.PRIMARY,height:A5.SHORT,onClick:e=>{s||(e.stopPropagation(),i(n))},disabled:s},Ye.createElement("span",{className:_ut},r?"Remove epic filter":"Filter by epic issues"),r?Ye.createElement(R7,null):null))},wut=(0,Ye.memo)(Sut),Rut="g46JctiWy5l9ezq5NTvZ",Tut="n2j93V1UYcQ97u6i46cJ",Cut="k1a14TpB1DVAZqCGl171",kut="YOK2j9HAJXJi0ApUvzJQ",Out=e=>{let{releases:t,sprints:n,isCondensed:s,epics:r}=e;const{showReleases:i,showSprints:o,showEpics:a}=(0,l3.v9)((e=>({showReleases:e.boardV2.settings.showReleases,showSprints:e.boardV2.settings.showSprints,showEpics:e.boardV2.settings.showEpics})),l3.wU),l=!s&&o&&n&&n.length>0,c=!s&&i&&t&&t.length>0,d=!s&&a&&r&&r.length>0;return Ye.createElement("div",{className:Rut},l?Ye.createElement("div",{className:Tut},Ye.createElement(PBe,{className:Cut}),Ye.createElement("div",{className:kut},n?.map((e=>Ye.createElement("span",{key:e.id},e.name))))):null,c?Ye.createElement("div",{className:Tut},Ye.createElement(nre,{className:Cut}),Ye.createElement("div",{className:kut},t?.map((e=>Ye.createElement("span",{key:e.id},e.title))))):null,d?Ye.createElement("div",{className:Tut},Ye.createElement(OMe,{className:Cut}),Ye.createElement("div",{className:kut},r?.map((e=>Ye.createElement("span",{key:e.id},e.title))))):null)},Nut=Out,Put="ttCUIMzxQBTwzDkJzfTc",Aut="BzTU2gobhReRXF43NV1O",Dut="Lcb46i0u4tuLZGT33Rby",Lut="zN3roaq3L6wQEvwZAMO4",zut="n8abukS7z_0nYWEiZwAF",Mut="dRbFsuyoac1SEChxMT10",xut="ZYwGkb2x9flCE0EsB3Wl",Fut="CWprM9UHsZsFxyDNwZkL",Uut="OzNG2gEwwDmycSuTXYr2",But="NYi9hHDxyC815el4Y7RV",qut=e=>{let{className:t,pipelineId:n,workspaceId:s,isClosedPipeline:r,isActive:i,isPending:o,isLocked:a,isDragging:l,issue:c,onIssueOpenOverride:d,onResetHeightCacheEntry:u,isCondensed:p}=e;const{isInSelectionMode:m,isSelected:h,showEpics:E,showRepos:g}=(0,l3.v9)((e=>({isInSelectionMode:e.boardV2.selectedIssueIds.length>0,isSelected:e.boardV2.selectedIssueIds.includes(c.id),showEpics:e.boardV2.settings.showEpics,showRepos:e.boardV2.settings.showRepos})),l3.wU),f=(0,l3.v9)(Lre),_=(0,l3.I0)(),v=bye(c);(!v||v&&!hit(v,c))&&u?.(c.id);const[I,b]=(0,Ye.useState)(!1),[y,S]=(0,Ye.useState)(!1),w=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_(ult({issueId:c.id,pipelineId:n,workspaceId:s,isShiftClick:e}))},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||c.id!==Vo&&(m||t?w(t):_(P1(c,e,d)))},T=e=>{if(a)return;const t=plt(e),n=e.shiftKey;R(t,n)},C=(0,Ye.useCallback)((()=>S(!0)),[S]),k=(0,Ye.useCallback)((()=>S(!1)),[S]),O=ait(c),N=cit(c),P=Boolean(c.epic?.id);return Ye.createElement("div",{className:(0,_I.default)(Put,t,{[Lut]:i,[Dut]:o,[zut]:h,[Mut]:P,[Fut]:O,[xut]:O&&N,[Aut]:p,[Uut]:p&&l}),onClick:T,onKeyPress:T,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),onMouseUp:e=>{a||1===e.button&&(e.stopPropagation(),R(!0))},role:"button","data-zh-flyover":"interactive",tabIndex:0},Ye.createElement("div",{className:But},O&&!p?Ye.createElement(Eut,{issue:c}):null,Ye.createElement(dut,{workspaceId:s,isDragging:l,isHovered:I,isInSelectionMode:m,isLocked:a||r,issue:c,isCondensed:p},Ye.createElement(Ict,{isCondensed:p,isHovered:I,isLocked:a,isSelected:h,issue:c,onMouseEnter:C,onMouseLeave:k,onClickIssueSelect:e=>{a||w(e)}}),Ye.createElement(zct,{isAssigneeHovered:y,isSelected:h,issue:c,isCondensed:p,isHighPriority:O,showRepos:g})),Ye.createElement(Nut,{releases:c.releases.nodes,sprints:c.sprints.nodes,isCondensed:p,epics:f?c.parentZenhubEpics?.nodes:c.parentEpics?.nodes}),P&&!p&&E?Ye.createElement(wut,{workspaceId:s,epicId:c.epic?.id,isDisabled:a||m}):null,Ye.createElement(Yct,{issue:c,isLocked:a,isInSelectionMode:m,onIssueSelectionClick:()=>{a||w()},onIssueOpenOverride:d,isCondensed:p})))},Hut=(0,Ye.memo)(qut),Wut="TMT3vHBbHLglINivwPZU",jut="tZhcjdCr8ehgpAvsH_bQ",Gut="JFS1QqBSkg0WO5H6HiNt",Kut="O79EcnX5zg0K7n_c758w",Vut="HcDCqNnM_QDbE5CkHeLr",$ut="BlznwWSxGkuadv8163eY",Zut="XqXbu0D5QcXGojNkfmVa",Yut="eTDhGrLmjPThdiYpeLAz",Jut="ThK6knxLRQ4DA8kiXn_L",Xut="FPJZtfSnTewfYJKluybm",Qut="v_joqHp4hq6ZpDDaOrqy";function ept(){return ept=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ept.apply(this,arguments)}const tpt={isListPlaceholder:!0},npt=(e,t)=>{const n=(e=>e.isListPlaceholder?"@@listPlaceholder":e.id)(e);return e.isListPlaceholder?`${n}@@${t}`:n},spt=e=>{let{workspaceId:t,loading:n,pipeline:s,columns:r,hasMore:i,isLocked:o,showPipelineDetails:a,issues:l,isClosedPipeline:c,isDragDisabled:d,loadMore:u,onIssueOpenOverride:p,onPipelineUpdateStartDescription:m,initialNumberOfIssuesToLoad:h=30,hasLoadedMoreIssues:E=!1}=e;const{id:g,name:f,description:_}=s,v=(0,Ye.useMemo)((()=>Io*r),[r]),I=(0,Ye.useMemo)((()=>v+qrt()),[v]),b=(0,Ye.useMemo)((()=>({minHeight:"100%"})),[]),y=(0,Ye.useCallback)((e=>(0,_I.default)(Yut,{[Gut]:e})),[]),S=function(e){let{issues:t,columns:n}=e;return new qat({getItem:e=>t[e]||Hat,getItemId:Wat,sharedCellSizeCache:jat,fixedHeight:!1,fixedWidth:!0,defaultWidth:Io*n,defaultHeight:50,columnCount:n})}({issues:l,columns:r}),w=(0,Ye.useCallback)((e=>{let{index:t}=e;return Boolean(l[t])}),[l]),R=(0,Ye.useMemo)((()=>E?25:h),[E,h]),T=(0,l3.v9)((e=>e.boardV2.sortedPipelines[g])),C=krt(T),{activeIssueId:k,pendingIssueIds:O}=(0,l3.v9)((e=>({activeIssueId:e.issue.id,pendingIssueIds:new Set(e.boardV2.pendingIssueIds)})),Uoe()),N=(0,Ye.useMemo)((()=>l.length),[l.length]),P=(0,Ye.useMemo)((()=>i?N+1:N),[i,N]),{isCondensedView:A,showLabels:D,showReleases:L,showReviewers:z,showSprints:M,showEstimates:x,showEpics:F}=(0,l3.v9)((e=>({isCondensedView:e.boardV2.settings.isCondensedViewEnabled,showLabels:e.boardV2.settings.showLabels,showReleases:e.boardV2.settings.showReleases,showReviewers:e.boardV2.settings.showReviewers,showSprints:e.boardV2.settings.showSprints,showEstimates:e.boardV2.settings.showEstimates,showEpics:e.boardV2.settings.showEpics})),l3.wU),U=(0,Ye.useCallback)((e=>{S.recomputeIssueHeightById(e)}),[S]),B=(0,Ye.useRef)(!0);(0,Ye.useEffect)((()=>{B.current?B.current=!1:S.resetMeasurements()}),[r,A,D,z,L,M,x,F]),(0,Ye.useEffect)((()=>{S.resetMeasurements()}),[r]);const q=e=>{let{index:n,parent:s,style:r}=e;if(n>((i=l).length?i.length-1:0))return Ye.createElement("div",{key:npt(tpt,n),style:r});var i;const a=l?.[n];return a?Ye.createElement(gre.Z8,{key:npt(a,n),cache:S,parent:s,rowIndex:n},(()=>{const e=a.id,s=e===k,i=O.has(e);return Ye.createElement(LAe._l,{draggableId:e,index:n,isDragDisabled:d},((e,n)=>Ye.createElement("div",ept({ref:e.innerRef,className:A?Kut:jut},e?.draggableProps||{},e?.dragHandleProps||{},{style:{...e?.draggableProps?.style||{},...r,width:v}}),Ye.createElement(Hut,{className:Vut,pipelineId:g,workspaceId:t,isClosedPipeline:c,isActive:s,isCondensed:A,isLocked:o,isPending:i,isDragging:n?.isDragging,issue:a,onIssueOpenOverride:p,onResetHeightCacheEntry:U}))))})):null};return r<1?null:Ye.createElement(LAe.bK,{droppableId:g,type:Ro,direction:"vertical",mode:"virtual",ignoreContainerClipping:!0,isDropDisabled:n,renderClone:(e,n,s)=>{const r=l[s.source.index],i=r?.id===k,a=O.has(r?.id);return Ye.createElement("div",ept({},e.draggableProps,e.dragHandleProps,{className:A?Kut:jut,ref:e.innerRef,style:{...e?.draggableProps?.style||{}}}),r?Ye.createElement(Hut,{pipelineId:g,workspaceId:t,isClosedPipeline:c,isActive:i,isCondensed:A,isLocked:o,isPending:a,isDragging:n?.isDragging,issue:r}):null)}},((e,t)=>n?Ye.createElement("div",{className:y(t.isDraggingOver&&!t.draggingFromThisWith)},Ye.createElement("div",ept({ref:e.innerRef},e.droppableProps,{style:{overflow:"auto"}}),Ye.createElement(Lot,{columns:r,isCondensedView:A}),e.placeholder)):t.isDraggingOver&&c&&!t.draggingFromThisWith||t.isDraggingOver&&1===N&&t.draggingFromThisWith||t.isDraggingOver&&0===N||t.isDraggingOver&&C&&!t.draggingFromThisWith?Ye.createElement("div",{className:y(t.isDraggingOver&&!t.draggingFromThisWith)},Ye.createElement(dlt,{dndProvider:e,isClosedPipeline:c,isSorted:C})):Ye.createElement("div",{className:y(t.isDraggingOver&&!t.draggingFromThisWith)},a?Ye.createElement(tlt,{dndProvider:e,isEpicPipeline:Boolean(s.isEpicPipeline),pipelineDescription:_,pipelineId:g,pipelineName:f,pipelineOnEdit:m,pipelineWidth:I}):Ye.createElement(gre.qj,{disableWidth:!0},(n=>{let{height:s}=n;return Ye.createElement(gre.b2,{loadMoreRows:u,rowCount:P,isRowLoaded:w,threshold:R},(n=>{let{onRowsRendered:r,registerChild:i}=n;return Ye.createElement(gre.aV,{role:"list",ref:t=>{if(t){const n=(0,vte.findDOMNode)(t);n instanceof HTMLElement&&e.innerRef(n),i(t)}},rowRenderer:q,height:s,overscanRowCount:10,deferredMeasurementCache:S,rowCount:t.isUsingPlaceholder?N+1:N,width:I,rowHeight:S.rowHeight,className:Wut,estimatedRowSize:150,tabIndex:-1,scrollToAlignment:"start",containerStyle:b,onRowsRendered:r})}))})))))},rpt=(0,Ye.memo)(spt),ipt=e=>{let{pipelineId:t,workspaceId:n,isClosedPipeline:s=!1,totalIssuesCount:r}=e;const i=(0,l3.I0)(),o=not(n),{filters:a,search:l}=F6e(),c=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),d=(0,Dae.x)(),{cache:u}=d,p=()=>Xrt(u,t,n,s,o,a,l).map((e=>e.id)),m=(0,Ye.useMemo)((()=>{const e=p(),t=c.reduce(((t,n)=>e.includes(n)?t+1:t),0);return t>=So||Boolean(e.length&&t===e.length)}),[c,r]);return{isInSelectionMode:c.length>0,selectAllIssues:()=>{const e=p();i(wr(e.slice(0,So)))},clearAllIssue:()=>{const e=p();i(Rr(e)),i(kr())},allIssueSelected:m}},opt={},apt=bb.Ps`
  mutation pipelineDelete($input: DeletePipelineInput!) {
    deletePipeline(input: $input) {
      destinationPipeline {
        ...boardPipelineData
      }
      eventId
    }
  }
  ${prt}
`;const lpt=e=>{let{pipelineId:t,workspaceId:n,destinationPipelineId:s}=e;const r=(0,l3.I0)(),[i]=function(e){const t={...opt,...e};return vK.D(apt,t)}({onError:e=>{const t="Could not delete the pipeline";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})},refetchQueries:["pipelineIssues","pipelineIssuesTotalAndPoints"],update:e=>{oit({cache:e,workspaceId:n,pipelineId:t,destinationPipelineId:s,refreshDestinationPipeline:!0})}});return[()=>{if(void 0===s)return;i({variables:{input:{pipelineId:t,destinationPipelineId:s}},optimisticResponse:{__typename:"Mutation",deletePipeline:{__typename:"DeletePipelinePayload",destinationPipeline:{__typename:"Pipeline",id:"destinationPipelineId",name:"destinationPipelineName",description:"destinationPipelineDescription",isEpicPipeline:!1,workspace:{__typename:"Workspace",id:n}},eventId:""}}}).then((e=>{const t=e.data?.deletePipeline?.eventId;t&&r(Ei(t))}))}]},cpt=e=>"searchClosedIssuesCounts"in(e[1].data??{});function dpt(e){let{pipelineId:t,isClosedPipeline:n,workspaceId:s}=e;const r=(0,l3.I0)(),{filters:i,search:o}=F6e(),a=function(e){const t={...Irt,...e};return xye.t(brt,t)}({variables:{pipelineId:t,query:o,filters:i}}),l=function(e){const t={...yrt,...e};return xye.t(Srt,t)}({variables:{workspaceId:s,query:o,filters:i}}),c=n?l:a,d=c[0],{called:u,refetch:p}=c[1];(0,Ye.useEffect)((()=>{u?p?.():d()}),[i,o]);const m=cpt(c)?c[1].data?.searchClosedIssuesCounts:c[1].data?.searchIssuesByPipelineCounts,h=cpt(c)?0:c[1].data?.searchIssuesByPipelineCounts?.pipelineCounts.sumEstimates||0,E=m?.pipelineCounts.issuesCount||0,g=m?.pipelineCounts.pullRequestsCount||0,f=E+g;return(0,Ye.useEffect)((()=>{r(Ar({pipelineId:t,issuesCount:E,pullRequestsCount:g,totalStoryPoints:h}))}),[t,m?.pipelineCounts]),[h,f,E,g]}const upt="kyY0jM0Z68cbAubZGxYD",ppt="Gs3AexIZvgE6CDJWlZmw",mpt="ppiKbSXTRvgL2TniOhyz",hpt="djFPfqDOwAKmFdXd8El0",Ept="H9_Qgo4xo8UTrJYaOyPo",gpt="TZMTxOaHOfG_7EluArAe",fpt="piS5qKCTtKNmWFlaSNK_",_pt="N71Trh3IVL8d2g7yr0Og",vpt="TvGjWAVU4rOZtiaUQv27",Ipt=e=>{let{workspaceId:t,pipelineId:n,pipelineName:s,destPipelineName:r,onSubmit:i,onClose:o}=e;const{data:a}=Tit({variables:{workspaceId:t}}),l=n===a?.workspace?.sprintConfig?.settings?.issuesFromPipeline?.pipelineId,[c,d]=(0,Ye.useState)(""),u=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{u?.current&&u.current.focus()}),[]);const p=e=>{d(e.target.value)};return Ye.createElement(Xre,{isOpen:!0,modifiers:["size-auto"],onClose:o},Ye.createElement("div",{className:upt},Ye.createElement("div",{className:ppt},Ye.createElement("span",{className:mpt},"Delete Pipeline"),Ye.createElement("span",{role:"button",tabIndex:0,className:hpt,onKeyPress:o,onClick:o},Ye.createElement(R7,null)),Ye.createElement("span",{className:Ept},"Heads up \u2014 Are you sure you want to delete ",Ye.createElement("b",null,s),"?")),Ye.createElement(bie,null,Ye.createElement("ul",null,Ye.createElement("li",null,"Issues in this Pipeline will be moved to ",r),l?Ye.createElement("li",null,"Deleting this pipeline will disable your Sprint pipeline automation."):null,Ye.createElement("li",null,Ye.createElement("strong",null,"All team members using this Workspace will be affected.")))),Ye.createElement("div",{className:gpt},Ye.createElement("div",{className:fpt},Ye.createElement("label",null,Ye.createElement("b",null,"Please type in the name of the Pipeline to confirm"),Ye.createElement(Y8.Z,{query:{maxWidth:bme.mediaBreakpoints.sm-1}},(e=>e?Ye.createElement("input",{ref:u,className:_pt,type:"text",placeholder:"Name of the Pipeline you are deleting",value:c,onChange:p}):Ye.createElement("input",{ref:u,className:_pt,type:"text",placeholder:"Type the name of the Pipeline you are deleting - it's case sensitive",value:c,onChange:p}))))),Ye.createElement("div",{className:vpt},Ye.createElement(H5,{dataTestId:"delete-confirm-cancel",onClick:o,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{dataTestId:"delete-confirm",ariaLabel:"Confirm opt-in to a new version of Board",variant:z5.OUTLINED,width:D5.NARROW,color:L5.DANGER,disabled:s!==c,onClick:()=>{i(),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{content:`Successfully deleted ${s} pipeline`,expirationDelay:4e3}),l&&H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:`Sprint automation disabled. Sprints will no longer be built from the ${s} pipeline`,expirationDelay:6e3})}},"I understand, delete this Pipeline")))))},bpt=(0,Ye.memo)(Ipt),ypt="MtlULTLt2r5wKpvDYQrP",Spt="v5cFZckDlvtikP_GyalI",wpt="fGRSJ2A1X_URaM6jgTTL",Rpt="LttfoblW9I3birREWchV",Tpt="fAAuS8AYSnl6njGUkUjE",Cpt="AA9HU37gygwmTRM8mibI",kpt="rKYsvh5adVOJ5rgoEYkz",Opt="jWfpcqWtdnda3gsZ5sHe",Npt="f5Di0jHiMfwCxxWN7nXG",Ppt="eQ7HyVbjXi4lVmkBbRXR",Apt="Jj9WH38ifYn752c8Q1DG",Dpt="opMAPSGUy53EMyVI1Z7_",Lpt="U5hu5L3DSZQgZ1BTPfHt",zpt="HbAdsu4Q2nOWQom0kd4s",Mpt="KvVsWo2vrZcIA_y3VbTi",xpt="csAYXiZVLGuATMHZjpTN",Fpt="tuyGX_zIQ3nwIwmcWZ_O",Upt="hnhXb_TIWxOdhNHEYmlY",Bpt="ak0uqei53uRsj20Zp7Dj",qpt="SP08AIGPG3XoqeE3481D",Hpt="l2eGMG_m5k4BZdZ_1DHn",Wpt="fWXi2KOkuns7DFewH2xX",jpt="mXtUVXl1U88dRJumbe1Y",Gpt="dcYJTP79oK1dUXIKGbqg",Kpt="nTnOKTzM_yGtnvpnqrvb",Vpt="LCJSXBKjAuA6dXxao3wq",$pt=e=>{let{children:t=null,isEditHidden:n=!1,isDeleteHidden:s=!1,onDeleteClick:r,onEditClick:i}=e;const[o,a]=(0,Ye.useState)(!1),l=(0,_I.default)([xpt],{[Fpt]:o});return Ye.createElement("div",{className:l,"data-testid":"pipeline-header-options"},Ye.createElement(NSe,{buttonClassname:Upt,buttonVariant:z5.TEXT,buttonPadding:M5.NONE,buttonHeight:A5.SHORT,modifiers:["pipeline-options"],primaryIcon:Ye.createElement(_Se,{className:Bpt}),showHeaderX:!0,title:"Pipeline options",tooltipContent:"Pipeline options",onToggleOpenAndClosed:()=>a(!o)},Ye.createElement("div",null,t,n?null:Ye.createElement(D_e,{"data-cy":"edit-name-description",handler:i,iconComponent:Ye.createElement(KMe,null),title:"Edit name and description"}),s?null:Ye.createElement(D_e,{"data-cy":"delete",handler:r,iconComponent:Ye.createElement(D4e,null),title:"Delete"}))))},Zpt=Ye.memo($pt);function Ypt(){return Ypt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ypt.apply(this,arguments)}const Jpt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--expand-right-arrow",t].filter(Boolean).join(" "),"aria-label":"expand-right-arrow",role:"img",...n};return Ye.createElement("svg",Ypt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.793 17.207a1 1 0 0 1 0-1.414L17.586 12l-3.793-3.793a1 1 0 0 1 1.414-1.414l4.5 4.5a1 1 0 0 1 0 1.414l-4.5 4.5a1 1 0 0 1-1.414 0z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 11h16a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 21a1 1 0 0 1-1-1V4a1 1 0 1 1 2 0v16a1 1 0 0 1-1 1z",fill:"currentColor"}))},Xpt="Expand pipeline",Qpt=e=>{let{className:t,tooltipClassName:n,isDisabled:s,onExpand:r}=e;return Ye.createElement(YI,{content:Xpt,position:jI.TOP,wrapperClassName:n},Ye.createElement(H5,{disabled:s,className:t,onClick:r,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||r()},"aria-label":Xpt,variant:z5.CONTAINED,padding:M5.NONE},Ye.createElement(Jpt,{"data-testid":"pipeline-header-expand-btn"})))};function emt(){return emt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},emt.apply(this,arguments)}const tmt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--collapse-left-arrow",t].filter(Boolean).join(" "),"aria-label":"collapse-left-arrow",role:"img",...n};return Ye.createElement("svg",emt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4a1 1 0 0 0-2 0v16a1 1 0 1 0 2 0v-8 .003a.997.997 0 0 0 .293.704l4.5 4.5a1 1 0 0 0 1.414-1.414L7.414 13H21a1 1 0 1 0 0-2H7.414l2.793-2.793a1 1 0 0 0-1.414-1.414L4.296 11.29A.997.997 0 0 0 4 12V4z",fill:"currentColor"}))},nmt="Collapse pipeline",smt=e=>{let{isDisabled:t,className:n,onCollapse:s}=e;return Ye.createElement(YI,{content:nmt,position:jI.TOP},Ye.createElement(H5,{disabled:t,className:(0,_I.default)(Wpt,n),onClick:s,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||s()},"aria-label":nmt,variant:z5.CONTAINED,padding:M5.NONE},Ye.createElement(tmt,{"data-testid":"pipeline-header-collapse-btn"})))};function rmt(){return rmt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rmt.apply(this,arguments)}const imt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--sort",t].filter(Boolean).join(" "),"aria-label":"sort",role:"img",...n};return Ye.createElement("svg",rmt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 15"},s),Ye.createElement("path",{d:"M1 4.398l2.807-2.762L6.614 4.52m-2.75-2.565v10.818m3.5-2.743l2.807 2.762 2.807-2.883m-2.808 2.227V1.318",stroke:"currentColor",strokeWidth:2,fill:"none",strokeLinecap:"round"}))},omt="qI9gtermMTptQOGPXgoA",amt="Rnd1qegyEx09pXX_JV8O",lmt=e=>{let{activeType:t,type:n,onClick:s}=e;const r=n===oa.MANUAL,i=t===n||r&&!t,o=(0,Ye.useCallback)((()=>{s(n)}),[]);return Ye.createElement(A_e,{key:Ort(n),title:Ort(n),iconComponent:i?Ye.createElement(f5,null):Ye.createElement("div",{className:amt}),handler:o,isDefault:r})},cmt=[oa.MANUAL,oa.NEWEST,oa.OLDEST,oa.TITLE_AZ,oa.TITLE_ZA,oa.ASSIGNEE,oa.SPRINT],dmt=e=>{let{pipelineId:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)((e=>e.boardV2.sortedPipelines[t])),r=krt(s),i=(0,Ye.useCallback)((e=>{n(vi({id:t,type:e}))}),[]);return Ye.createElement(edt,{iconComponent:Ye.createElement(imt,{className:r?omt:void 0}),text:"Sort pipeline",title:"Sort by",toggleOnXIconOnly:!0},cmt.map((e=>Ye.createElement(lmt,{key:e,type:e,activeType:s,onClick:i}))))},umt="ogdsfQSAc7bNg_tlKeHz",pmt="Ff8jP6NKOCNiaeWYmW_i",mmt="yN70th3gsFUHKoHgw5Fs",hmt=e=>{let{pipelineId:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)((e=>e.boardV2.sortedPipelines[t])),r=(0,Ye.useCallback)((()=>{n(bi({id:t}))}),[]);return krt(s)?Ye.createElement("div",{className:umt,"data-cy":"sort-status"},"Sorted by",Ye.createElement("span",{className:pmt,"data-cy":"-status-type"},Ort(s)),Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,padding:M5.NONE,className:mmt,onClick:r},"Clear")):null},Emt="SXkKvAs8EVbu7lP5tef7",gmt="MizyedS9kPCQWqlCXpA3",fmt=e=>{let{pipelineId:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)((e=>e.boardV2.sortedPipelinesEventMessage[t])),r=(0,Ye.useCallback)((()=>{n(Ii({id:t,message:null})),n(Nr(t))}),[]);return s?Ye.createElement("div",{className:Emt,"data-cy":"sort-rt-message"},Ye.createElement("span",null,s),Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,padding:M5.NONE,className:gmt,onClick:r},"Refresh")):null};function _mt(){return _mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_mt.apply(this,arguments)}const vmt=e=>{let{workspaceId:t,pipelineId:n,className:s,numberOfIssuesLoaded:r,hasMoreIssues:i,pipelineName:o,numberOfColumns:a,isClosedPipeline:l,isCollapsed:c,isLocked:d=!1,showNewIssueCreator:u,dndProviderHandleProps:p={},getDestinationPipeline:m,pipelineOnSetWidth:h,pipelineOnUpdateStart:E,toggleNewIssueCreator:g}=e;const f=m?.(n)?.id,[_,v]=(0,Ye.useState)(!1),[I]=lpt({pipelineId:n,workspaceId:t,destinationPipelineId:f}),[b,y,S,w]=dpt({pipelineId:n,workspaceId:t,isClosedPipeline:l,isCollapsed:c}),{isInSelectionMode:R,allIssueSelected:T,selectAllIssues:C,clearAllIssue:k}=ipt({pipelineId:n,workspaceId:t,isClosedPipeline:l,totalIssuesCount:y}),O=(0,Ye.useCallback)((()=>{X1("Select All in Pipeline",{Section:"Options menu"}),C()}),[C]),N=(0,Ye.useCallback)((()=>{v(!0)}),[v]),P=(0,Ye.useCallback)((()=>{v(!1)}),[v]),A=(0,Ye.useCallback)((()=>{v(!1),I()}),[v,I]),D=(0,Ye.useCallback)((()=>{const e=a-1;X1("Pipeline Width Changed"),J1("Pipeline Width",{Width:e}),h(e)}),[h,a]),L=(0,Ye.useCallback)((()=>{const e=a+1;X1("Pipeline Width Changed"),J1("Pipeline Width",{Width:e}),h(e)}),[h,a]),z=(0,Ye.useCallback)((()=>{c||l||d||R||E()}),[E,c,l,d,R]);let M;T?M="Clear all":r<=So?M=i?`Select first ${r}`:"Select all":r>So&&(M="Select first 50");const x=!c&&!d&&!l,F=void 0===f||d,U=!c&&!d,B=(!F||!d||y>0)&&!l,q=c?"":o,H=(0,_I.default)(Tpt,{[Cpt]:c}),W=(0,_I.default)(kpt,{[Apt]:!(c||d||l||R),[Opt]:c,[Npt]:R&&!c,[Ppt]:R&&c}),j=(0,_I.default)(Lpt,{[zpt]:c}),G=Mi(S,w,b);return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:(0,_I.default)(ypt,{[Hpt]:c},s),role:"presentation",onMouseDown:e=>{const t=("path"===e.target.nodeName?e.target.parentNode:e.target)??e.currentTarget;t?.focus(),t?.blur()}},Ye.createElement("div",_mt({},p,{className:(0,_I.default)(Rpt,{[Spt]:d||R}),"data-zh-flyover":"interactive"}),c&&!R?Ye.createElement(Qpt,{className:Gpt,tooltipClassName:Kpt,isDisabled:d,onExpand:L}):null,Ye.createElement("div",{className:H},Ye.createElement("div",{className:W,"data-cy":"pipeline-info",onDoubleClick:z},Ye.createElement(JI,{content:q,tooltipPosition:jI.TOP},Ye.createElement(Ye.Fragment,null,l?Ye.createElement(mKe,{className:Dpt}):null,o))),c||R?null:Ye.createElement("div",{className:Vpt},Ye.createElement(smt,{isDisabled:d,onCollapse:D}),Ye.createElement(Qpt,{className:jpt,isDisabled:d,onExpand:L})),Ye.createElement("div",{className:j},l&&Ye.createElement(ZI,{content:"These numbers are an estimate",position:jI.TOP},"~"),Ye.createElement(JI,{content:G,tooltipPosition:jI.TOP},G)),U&&!R&&Ye.createElement("div",{className:Mpt},B&&Ye.createElement(Zpt,{isDeleteHidden:F||l,isEditHidden:d||l,onDeleteClick:N,onEditClick:E},y>0&&Ye.createElement(D_e,{handler:O,iconComponent:Ye.createElement(Xje,null),title:M}),!l&&r>1&&Ye.createElement(dmt,{pipelineId:n})),x&&Ye.createElement(vat,{className:qpt,onClick:g,isActive:u,id:n})),U&&R&&Boolean(r)&&Ye.createElement(H5,{className:(0,_I.default)({[wpt]:R}),color:L5.PRIMARY,height:A5.SHORT,padding:M5.TIGHT,variant:z5.TEXT,onClick:()=>{T?k():(C(),J1("Board Feature Clicked",{Feature:"Select All in Pipeline",Section:"Text link"}))}},M)))),_?Ye.createElement(bpt,{workspaceId:t,pipelineId:n,pipelineName:o,destPipelineName:m?.(n)?.name,onSubmit:A,onClose:P}):null,Ye.createElement(hmt,{pipelineId:n}),Ye.createElement(fmt,{pipelineId:n}))};function Imt(){return Imt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Imt.apply(this,arguments)}const bmt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--xlight",t].filter(Boolean).join(" "),"aria-label":"xlight",role:"img",...n};return Ye.createElement("svg",Imt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},Ye.createElement("rect",{width:14,height:14,rx:2}),Ye.createElement("path",{d:"M3.5 3.5l7.28 7.28M10.5 3.5l-7.28 7.28",stroke:"currentColor",strokeWidth:1.4,strokeLinecap:"square"})))},ymt=(e,t)=>{const[n,s]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{n||t&&(e.current?.focus(),s(!0))}),[n,e,t])},Smt={form:"FUtfgWchJApFo1YsuMSK",formName:"Jb6J2VrQnrHTnMhlPGOx",formDescription:"ktQWrCSDQNPZRKOcn1Hf",formCloseIconButton:"ak2V5Bjt7LW_8pNh9I7v",formCloseIcon:"rOAQi7kRTk1GHJPEAWsr",formDescriptionLabel:"yb9mpKHMV39O4fsd8bLs",formDescriptionOptional:"jXlddaxrABZvlyz28EmC",formActionButtonsContainer:"IIKQkbabhex5rbPdYNrT",formInput:"nVqGXfF_qgjv0flUcw7k",formTextarea:"vPhU6e71HRvHke0bLbWi",formInputInputError:"t8Jpspa_1Aew_1Rc810Q",formTextareaInputError:"jcwCsuLyatBj2I2iPbR7",formError:"dblXfrQkdK60i1tkRxuV",formInputCharacterCount:"jBu7xTj0s3wsPy_aOcXv",formNameTitle:"B6tWohFzZHNNwoAXHcIZ"},wmt=e=>{let{error:t}=e;return Ye.createElement("div",{className:Smt.formError},t)},Rmt=e=>{let{count:t}=e;return Ye.createElement("div",{className:Smt.formInputCharacterCount,"data-testid":"word-count"},`${t} ${Ti("character","characters")(t)} left`)};function Tmt(){return Tmt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tmt.apply(this,arguments)}const Cmt=e=>{let{shouldFocusOnMount:t,onKeyDown:n}=e;const s=(0,hie.U$)("name"),r=(0,Ye.useRef)(null);ymt(r,t);const i=36-s.input.value.length,o=!Ri(s.meta.error)&&(s.meta.modified||!s.meta.modified&&!Ri(s.input.value)),a=(0,_I.default)(Smt.formInput,{[Smt.formInputInputError]:o});return Ye.createElement(Ye.Fragment,null,Ye.createElement("input",Tmt({},s.input,{"data-testid":"pipeline-name",onKeyDown:n,className:a,maxLength:36,placeholder:"Add Pipeline name\u2026",ref:r})),o?Ye.createElement(wmt,{error:s.meta.error}):Ye.createElement(Rmt,{count:i}))};function kmt(){return kmt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kmt.apply(this,arguments)}const Omt=e=>{let{shouldFocusOnMount:t,onKeyDown:n}=e;const s=(0,hie.U$)("description",{format:_t.iD}),r=(0,Ye.useRef)(null);ymt(r,t);const i=!Ri(s.meta.error)&&s.meta.modified,o=(0,_I.default)(Smt.formTextarea,{[Smt.formTextareaInputError]:i});return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:Smt.formDescription},"Pipeline description",Ye.createElement("span",{className:Smt.formDescriptionOptional}," (Optional)")),Ye.createElement("textarea",kmt({},s.input,{"data-testid":"pipeline-description",ref:r,className:o,onKeyDown:n,maxLength:144,rows:5,placeholder:"Add description\u2026"})),i?Ye.createElement(wmt,{error:s.meta.error}):Ye.createElement("div",{className:Smt.formDescriptionLabel},"This change will affect everyone in the workspace"))},Nmt={name:"",description:""},Pmt=e=>{let{render:t,initialValues:n=Nmt,validatePipelineName:s,onSubmit:r,onCancel:i}=e;const o=(0,Ye.useCallback)((e=>{const t={},n=e.name?.trim()||"",r=e.description?.trim()||"";return Ri(n)&&(t.name="Pipeline name is required"),n.length>36&&(t.name="Please update the pipeline name to be 36 characters or less"),r.length>144&&(t.name="Please update the pipeline description to be 144 characters or less"),{...t,...s(n)}}),[s]);return Ye.createElement(hie.l0,{onSubmit:(e,t)=>{const{invalid:n,pristine:s}=t.getState();n||(s?i({hasChanged:!1}):r((e=>{const t={...e};return t.name=t.name.trim(),t.description=t.description?.trim()||"",t})(e)))},validate:o,initialValues:{name:n.name||"",description:n.description||""},render:t})};function Amt(){return Amt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Amt.apply(this,arguments)}const Dmt=e=>{let{pipeline:t,dndProviderHandleProps:n,onSubmit:s,onCancel:r,submitText:i="Save",showDescription:o,focusOnMount:a="name",validatePipelineName:l}=e;return Ye.createElement(Pmt,{initialValues:t,validatePipelineName:l,onSubmit:s,onCancel:r,render:e=>{const{pristine:t,invalid:s,submitting:l,form:c}=e,d=()=>{r({hasChanged:!t})},u=l||s,p="name"===a,m=e=>{13!==e.keyCode&&10!==e.keyCode||(e.preventDefault(),c.submit())};return Ye.createElement("form",Amt({className:Smt.form,"data-testid":Smt.form},n||{}),Ye.createElement("div",{className:Smt.formName},Ye.createElement("div",{className:Smt.formNameTitle},"Pipeline name"),Ye.createElement(H5,{onClick:d,ariaLabel:"close form",variant:z5.TEXT,height:A5.SHORT,padding:M5.EXTRA_TIGHT,className:Smt.formCloseIconButton},Ye.createElement(bmt,{className:Smt.formCloseIcon}))),Ye.createElement(Cmt,{shouldFocusOnMount:p,onKeyDown:m}),o&&Ye.createElement(Omt,{shouldFocusOnMount:!p,onKeyDown:m}),Ye.createElement("div",{className:Smt.formActionButtonsContainer},Ye.createElement(H5,{dataTestId:"cancel",ariaLabel:"Cancel",onClick:d,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{dataTestId:"submit",ariaLabel:"Confirm changes to pipeline",disabled:u,className:Smt.lastFooterButton,variant:z5.CONTAINED,width:D5.NARROW,color:L5.ACTION,onClick:c.submit},i)))}})},Lmt=e=>{let{pipeline:t,onSubmit:n,onCancel:s,showDescription:r,dndProviderHandleProps:i,validatePipelineName:o=(()=>({})),focusOnMount:a}=e;const[l,c]=(0,Ye.useState)(!1);return Ye.createElement(Dmt,{pipeline:t,onSubmit:e=>{n(e)},onCancel:e=>{let{hasChanged:t}=e;l||(t?(c(!0),Doe("Are you sure you want to exit?","").then((()=>{c(!1),s()}),(()=>{c(!1)}))):s())},showDescription:r,focusOnMount:a,validatePipelineName:e=>e===t.name?{}:o(e),dndProviderHandleProps:i})},zmt=(0,Ye.memo)(vmt);function Mmt(){return Mmt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mmt.apply(this,arguments)}const xmt=e=>{let{draggableId:t,listIndex:n,children:s,isDragDisabled:r}=e;return r?s():Ye.createElement(LAe._l,{draggableId:t,index:n},((e,t)=>s(e,t)))},Fmt=e=>{let{isLocked:t,getDestinationPipeline:n,isClosedPipeline:s,onIssueOpenOverride:r,pipeline:i,highPriorityConfig:o,validatePipelineName:a,workspaceId:l,listIndex:c}=e;const{id:d,name:u}=i,p=(0,Ye.useRef)(null),[m,h]=function(e){const t=`zhPipelines_${e}`,n=parseInt(localStorage.getItem(t)??String(1),10),[s,r]=(0,Ye.useState)(n);return[s,(0,Ye.useCallback)((e=>{nI(t,e,1),r(e)}),[t,r])]}(d),{isEditing:E,isEditPipelineDescriptionActive:g,handlePipelineUpdate:f,handlePipelineCancelUpdate:_,handlePipelineUpdateStart:v,handlePipelineUpdateStartDescription:I}=uat({pipelineId:d,workspaceId:l}),b=(0,l3.v9)((e=>e.boardV2.selectedIssueIds.length>0)),y=function(){const e=(0,Ye.useRef)(!1),[t,n]=(0,Ye.useState)(0),[s,r]=(0,Ye.useState)(!1),i=(0,l3.oR)();return(0,Ye.useEffect)((()=>{const t=i.getState().boardV2.settings.isCondensedViewEnabled;r(t),e.current=!0,n(cat(window.innerHeight,t))}),[]),e.current?t:cat(window.innerHeight,s)}(),[S,w]=(0,Ye.useState)(!1),R=m<=0,[T,C,{data:{issues:k,hasMore:O,endCursor:N},error:P,loading:A,isPendingReload:D,fetchMore:L}]=lat({pipelineId:d,workspaceId:l,isClosedPipeline:s,numberOfIssues:y}),z=(0,Ye.useMemo)((()=>k.length),[k]),[M,x]=(0,Ye.useState)(!1),F=(0,Ye.useCallback)((()=>{x(!1)}),[]),U=(0,Ye.useCallback)((()=>{x(!M)}),[M]);!function(e){let{ref:t,horizontalOffset:n=0,isCollapsed:s,callback:r,reload:i}=e;const[o,a]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{const e=t.current,l=new IntersectionObserver((e=>{let[t]=e;!0!==t.isIntersecting||s||!1!==o&&!i||(a(!0),r())}),{rootMargin:`0px ${n}px 0px ${n}px`});return e&&l.observe(e),()=>{l&&e&&l.unobserve(e)}}),[t,n,o,s,r,i])}({ref:p,horizontalOffset:400,callback:()=>{D?C():T()},isCollapsed:R,reload:D});const B=!s&&!E&&!R&&Si(k),q=Hrt(m),H=R?{}:{width:q},W=(0,Ye.useCallback)((()=>(w(!0),L({variables:{issuesAfter:N,numberOfIssues:So}}))),[L,N]);return P?Ye.createElement(zot,{columns:m}):Ye.createElement(xmt,{draggableId:d,listIndex:c,isDragDisabled:s},((e,c)=>Ye.createElement("div",Mmt({ref:t=>{e?.innerRef(t),p.current=t},className:(0,_I.default)($ut,{[Jut]:c?.isDragging,[Zut]:R})},e?.draggableProps||{},{style:{...e?.draggableProps?.style||{},...H}}),E?Ye.createElement(Lmt,{dndProviderHandleProps:e?.dragHandleProps,pipeline:i,onSubmit:f,onCancel:_,showDescription:true,validatePipelineName:a,focusOnMount:g?"description":"name"}):Ye.createElement(zmt,{workspaceId:l,pipelineId:d,className:(0,_I.default)(Qut,{[Xut]:s}),numberOfIssuesLoaded:z,hasMoreIssues:O,dndProviderHandleProps:e?.dragHandleProps,pipelineName:u,numberOfColumns:m,isClosedPipeline:s,isSorted:false,isLocked:t,isCollapsed:R,showNewIssueCreator:M,getDestinationPipeline:n,pipelineOnSetWidth:h,pipelineOnUpdateStart:v,toggleNewIssueCreator:U}),Ye.createElement(Bat,{closeIssueCreator:F,pipelineId:i.id,pipelineName:i.name,open:M,workspaceId:l,isEpicPipeline:Boolean(i.isEpicPipeline)}),Ye.createElement(hat,{pipelineId:d,workspaceId:l,highPriorityConfig:o},Ye.createElement(rpt,{workspaceId:l,loading:A||D,showPipelineDetails:B,pipeline:i,columns:m,hasMore:O,isDragDisabled:t||b,isLocked:t,issues:k,isClosedPipeline:Boolean(s),loadMore:W,onIssueOpenOverride:r,onPipelineUpdateStartDescription:I,hasLoadedMoreIssues:S,initialNumberOfIssuesToLoad:y})))))},Umt=(0,Ye.memo)(Fmt),Bmt={},qmt=bb.Ps`
  mutation pipelineCreate($input: CreatePipelineInput!) {
    createPipeline(input: $input) {
      pipeline {
        ...boardPipelineData
      }
    }
  }
  ${prt}
`;const Hmt=e=>{let{workspaceId:t}=e;const[n]=function(e){const t={...Bmt,...e};return vK.D(qmt,t)}({onError:e=>{const t="Could not create a new pipeline";oe(t,e),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:t,expirationDelay:2e3})},update:(e,n)=>{let{data:s}=n;const r=e.readQuery({query:Crt,variables:{workspaceId:t}});e.writeQuery({query:Crt,variables:{workspaceId:t},data:{...r,workspace:{...r.workspace,pipelinesConnection:{...r.workspace.pipelinesConnection,nodes:[...r.workspace.pipelinesConnection.nodes,s?.createPipeline?.pipeline]}}}})}});return[e=>{n({variables:{input:{workspaceId:t,...e}}})}]},Wmt="T6nGntadsUy4YmtuPJK3",jmt="EiZDi3OYbm81YUXoZVBd",Gmt="rpgroyd2f4TH04988Tab",Kmt=e=>{let{workspaceId:t,showPipelineDescriptions:n,validatePipelineName:s}=e;const r=(0,l3.I0)(),{isActive:i,isInSelectionMode:o}=(0,l3.v9)((e=>({isActive:e.boardV2.isAddPipelineActive,isInSelectionMode:e.boardV2.selectedIssueIds.length>0}))),[a]=Hmt({workspaceId:t});return o?null:Ye.createElement("div",{className:(0,_I.default)($ut,Wmt),style:{width:Hrt(1)}},i?Ye.createElement(Dmt,{onSubmit:e=>{r(Or(!1)),a(e)},onCancel:()=>{r(Or(!1))},submitText:"Create",showDescription:n,validatePipelineName:s}):Ye.createElement("button",{type:"button",className:jmt,"data-testid":"add-pipeline",onClick:()=>{r(Or(!0))}},Ye.createElement("strong",{className:Gmt},"Add a pipeline ...")))},Vmt="iw8MaziqcslUf8LXxbbc",$mt="Sk8mdhIFU0Jm2WHidCC6",Zmt=()=>{const e=(0,l3.v9)((e=>e.boardV2.isIssueFlyoverOpen));return e?Ye.createElement("div",{className:$mt,"data-testid":"flyover-spacer"}):null},Ymt=e=>{let{workspaceId:t,onIssueOpenOverride:n}=e;const{priorities:s,pipelines:r,error:i,loading:o}=Fit({workspaceId:t}),a=Hit({workspaceId:t}),l=xit(),c=(0,Ye.useCallback)((()=>{J1("Issue Change (Pipeline)",{Source:"Board View",Module:"Base"})}),[]),d=(0,Ye.useCallback)((()=>{X1("Reorder Issue")}),[]),u=s[0],p=oot({workspaceId:t,highPriorityConfig:u,onIssuePipelineChange:c,onIssueReordered:d}),m=(0,l3.v9)(z6e),h=(0,l3.v9)((e=>e.boardV2.settings.showClosedPipeline));Pit({workspaceId:t});const E=(0,Ye.useCallback)((e=>{const t=r.map((e=>{let{name:t}=e;return t}));return((e,t)=>![...t,"Closed"].includes(e.trim()))(e,t)?{}:{name:"Pipeline name is already taken"}}),[r]),g=(0,Ye.useCallback)((e=>{if(r.length<=1)return;const t=r[0],n=r[1];return t.id===e?n:t}),[r]),f=l;return o||!m||i?Ye.createElement(Got,{hasActiveError:Boolean(i)}):Ye.createElement(LAe.Z5,{onDragEnd:e=>{if(!e.destination)return;const{draggableId:t,source:n,destination:s}=e;if(n.droppableId!==s.droppableId||n.index!==s.index)if("issue"!==e.type)a(t,s.index);else{const e=s?.droppableId,r=n.droppableId;null!=e&&p(t,r,e,s.index)}}},Ye.createElement(LAe.bK,{droppableId:"pipelines-container",type:wo,direction:"horizontal"},(e=>Ye.createElement("div",{className:Vmt,ref:e.innerRef},r.map(((e,s)=>Ye.createElement(Umt,{isLocked:f,key:e.id,pipeline:e,highPriorityConfig:u,workspaceId:t,listIndex:s,validatePipelineName:E,getDestinationPipeline:g,onIssueOpenOverride:n}))),e.placeholder,h?Ye.createElement(Umt,{isLocked:f,isClosedPipeline:!0,pipeline:yo,highPriorityConfig:u,workspaceId:t,listIndex:r.length,onIssueOpenOverride:n}):null,f?null:Ye.createElement(Kmt,{workspaceId:t,showPipelineDescriptions:true,validatePipelineName:E}),Ye.createElement(Zmt,null)))))},Jmt=(0,Ye.memo)(Ymt),Xmt="rKY5Y30wJ7lHDELnZKyS",Qmt="BLUF_ICR8zqiMzW2u66t",eht="Y8hiNh_x1CD7bOBns1tV";function tht(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function nht(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){tht(i,s,r,o,a,"next",e)}function a(e){tht(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{plainSetOnboardingValue:sht}=Tj,rht="webapp_get_extension_alert_dismissed",iht="https://firefox-extension.zenhub.com",oht=function(){var e=nht((function*(){const e=yield fetch(`${iht}/latest.json`),t=(yield e.text()).match(/^.+?\((.*)\);?$/);let n;try{if(!t||t.length<2)throw new Error("Regex found no matches when converting extension JSONP -> JSON");n=JSON.parse(t[1])}catch(e){const t=e instanceof Error?e.message:"Unknown error";throw new Error(`Unable to parse response from ${iht}/latest.json. Error: ${t}`)}return`${iht}/all/${n.file}`}));return function(){return e.apply(this,arguments)}}(),aht=()=>{const e=(0,l3.I0)(),[t,n]=(0,Ye.useState)(),s=(0,l3.v9)((e=>e.onboarding[rht])),r=!x&&!s&&U&&(B||q);(0,Ye.useEffect)((()=>{if(r&&q){const e=function(){var e=nht((function*(){const e=yield oht();n(e)}));return function(){return e.apply(this,arguments)}}();e()}}),[r]);const i=function(){var t=nht((function*(t){r6("Download extension from Webapp",{Action:t}),e(sht({key:rht,value:!0})),yield bj(rht,!0)}));return function(e){return t.apply(this,arguments)}}(),o=function(){var e=nht((function*(){yield i("Download"),q&&(e=>{if(!e)return;const t=document.createElement("a");t.href=e,t.download="ZenHub_Firefox_Extension.xpi",document.body.appendChild(t),t.click(),document.body.removeChild(t)})(t)}));return function(){return e.apply(this,arguments)}}();return r?Ye.createElement("div",{className:"zhc-menu-bar__info-alert"},Ye.createElement(bie,{modifiers:["info"],className:Xmt},Ye.createElement(Cye,{className:Qmt}),Ye.createElement("span",null,Ye.createElement("strong",null,"Download the ZenHub extension")," to use ZenHub right in GitHub."),Ye.createElement(H5,{href:B?"https://chrome.google.com/webstore/detail/zenhub-for-github/ogcgkffhplmphkaahpmffcafajaocjbd":void 0,onClick:o,color:L5.PRIMARY,height:A5.SHORT,className:eht,openInNewTab:B,disabled:q&&!t},"Get the extension"),Ye.createElement(H5,{onClick:()=>i("Dismissed"),color:L5.PRIMARY,height:A5.SHORT,variant:z5.TEXT},"Dismiss"))):null},lht=rae,cht="evHHgfjnCVI0DTYzMHuv",dht="Uczh5Sq7N6OhkC_AP_Ef",uht="OCTK2lXvVFC2WhSYeDGR",pht="Wk9jxmmBixphMEpMdiTN",mht="r61mukVrv5ASXcEShIi8",hht="SBKeDMeQtvI7tZ7X3ThV",Eht="g4LV6LavcCFXblRrxWq_",ght="BycfOkOkahHcjYNufjDQ",fht="fIK8W3hirljNiGV9awyA",_ht="DGEeiw2CLv1ZES7HASBc",vht=e=>{let{isOpen:t,children:n}=e;return t?Ye.createElement(ine,null,n):n},Iht=e=>{let{children:t}=e;const[n,s]=(0,Ye.useState)(!1),r=(0,l3.v9)((e=>!e.sidebar.display.isCollapsed)),i=(0,Y8.G)({query:`(max-width: ${iae})`}),o=(0,Y8.G)({query:`(max-width: ${oae})`}),a=n&&(r?o:i),l=()=>{s(!n)},c=(0,_I.default)(mht,{[hht]:a});return Ye.createElement("div",{className:cht},Ye.createElement("div",{className:uht},Ye.createElement(lht,{name:"Filters",isActive:!1,toggleOpen:l,className:Eht})),Ye.createElement(vht,{isOpen:a},Ye.createElement("div",{className:c},Ye.createElement("div",{className:ght,onClick:l}),Ye.createElement("div",{className:fht},Ye.createElement("div",{className:(0,_I.default)(dht,"zhc-selection-list-deprecated__header")},Ye.createElement("span",{className:"zhc-selection-list-deprecated__header__text"},"Filters"),Ye.createElement(H5,{ariaLabel:"close",className:"zhc-selection-list-deprecated__cancel zhu-cursor-pointer",variant:z5.TEXT,padding:M5.TIGHT,height:A5.SHORT,onClick:l},Ye.createElement(R7,null))),Ye.createElement("div",{className:_ht},t)))),Ye.createElement("div",{className:pht,"data-cy":"menu-secondary"},Ye.Children.map(t,((e,t)=>t<1?null:e))))},bht=(0,Ye.memo)(Iht);function yht(){return yht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yht.apply(this,arguments)}const Sht="425px",wht="320px",Rht=e=>{let{layoutClassName:t,beforeItems:n,priorityItems:s,dataSource:r,disabledItemMap:i,emptyState:o,filterInputPlaceholder:a,hasItemBorder:l=!1,height:c=Sht,hideBeforeItemsIfNoResults:d=!0,initialSelected:u,priorityItemMatcherKey:p="id",clearSelectionItemKey:m="clear_all",itemRenderer:h,customSelectionIconRenderer:E,onClose:g,onSelectionChange:f,showSearchIcon:_,title:v,width:I=wht}=e;const[b,y]=(0,Ye.useState)(!1),{isItemSelected:S,isItemNegated:w,toggleItem:R}=Zoe({onSelectionChange:f,initialSelected:u}),{fetchMore:T,refetch:C}=r.queryResult,k=(0,Ye.useRef)(null),O=r.connectionSelector(r.queryResult),N=r.queryResult.loading,P=(0,Ye.useCallback)((e=>C({query:e})),[C]),[A,D,L]=Yoe(P),z=(0,Ye.useMemo)((()=>{const e=Joe(p,O?.nodes,A?[]:s,A);if(e.length&&n?.length||n?.length&&!d){const t=(A?n.filter((e=>e.isFixed||e.name?.toLocaleLowerCase().includes(D.toLowerCase()))):n).filter((e=>!b||e.id===m));e.unshift(...t)}return e}),[b,n,O?.nodes,s,d]),M=(0,Ye.useCallback)((e=>{e.onClick?e.onClick():R(e.id,b)}),[R]),{currentlyHighlightedIndex:x,onKeyDownHighlight:F,resetHighlightAndScrollTop:U,setHighlightIndex:B}=Sre(z,k,M,i),q=(0,Ye.useCallback)((e=>{let{term:t,negated:n}=e;L(t),y(n),U()}),[L,U]),H=e=>(t,n)=>E?E(t,n,e):null;return Ye.createElement(Ere,{className:t,height:c,hasVariableHeight:true,width:I,onClose:g,onKeyDown:F},Ye.createElement(mre,{title:v,onClose:g}),Ye.createElement(Voe,{allowNegatedSearch:!0,placeholder:a,onChange:q,showSearchIcon:_}),Ye.createElement(qoe,{items:z,emptyState:o,isLoading:N},(()=>Ye.createElement(_re,{parentHasVariableHeight:true,ref:k,items:z,rowRenderer:e=>{const{index:t}=e,n=z[t],s=t===(z?.length||0)-1;return Ye.createElement(yre,yht({},e,{customSelectionIconRenderer:H(n.id),hasItemBorder:l,isDisabled:!!i&&i[n.id],key:n.id,onClick:()=>M(n),setHighlightIndex:()=>B(t),isHighlighted:x===t,isSelected:S(n.id)}),h(n,w(n.id),t),s?Ye.createElement(Ale,{rootEl:k.current?.virtualizedListEl.current?.children[0],onVisible:()=>{O?.pageInfo?.hasNextPage&&T({variables:{after:O?.pageInfo.endCursor}})}}):null)}}))))};function Tht(e){let{selectedItems:t,setFilterValueAction:n,filterKeyIn:s,filterKeyNin:r,workspaceId:i}=e;const o=(0,l3.I0)(),{setPersistedFilterValue:a,setPersistedFilterValues:l}=Ele(),c=(0,Ye.useCallback)((e=>{l(i,[{key:s,value:0===e.in.size?null:e.in},{key:r,value:0===e.nin.size?null:e.nin}])}),[s,r,a,i]),d=(0,Ye.useMemo)((()=>RI()((function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=!(null===t||Ni(e.in,t.in)&&Ni(e.nin,t.nin));r&&!s&&(o(n(e)),c(e))}),600)),[o,t,c,n]),u=(0,Ye.useCallback)((e=>{o(n(e)),d(e,!0),c(e)}),[o,n,d,c]),p=(0,Ye.useCallback)((()=>{const e=new Set;o(n({in:e,nin:e})),c({in:e,nin:e})}),[o,n,c]);return{updateFilterValue:d,forceUpdateFilterValue:u,clearFilterValue:p}}const Cht="ZvU2pOtZ2EgonMz4saM5",kht="i_GSyveEBVW_Oq9_TZqJ",Oht="p1FBeKdFyPYuulByqiE0",Nht="boDISx2w6nZDFfcgioUF",Pht=e=>{let{avatarUrl:t,login:n,name:s,negated:r=!1}=e;return Ye.createElement("div",{className:Cht},Ye.createElement(hae,{url:t}),r?Ye.createElement("div",{className:Nht},Ye.createElement(Oae,{content:"not: "})):null,Ye.createElement("span",{className:kht},n,s&&Ye.createElement("span",{className:Oht},s)))},Aht=bb.Ps`
  fragment labelData on Label {
    id
    name
    color
  }
`,Dht=bb.Ps`
  fragment assigneeUserData on User {
    id
    avatarUrl
    login
    name
  }
`,Lht=bb.Ps`
  fragment epicData on Epic {
    id
    issue {
      id
      number
      title
      repository {
        id
        ghId
        name
        ownerName
      }
    }
  }
`,zht={},Mht=bb.Ps`
  query activeFilters(
    $workspaceId: ID!
    $labelIds: [String!]
    $assigneeIds: [String!]
    $authorIds: [String!]
    $sprintIds: [ID!]
    $epicIds: [ID!]
    $releaseIds: [ID!]
    $milestoneTitles: [String!]
    $includeLabels: Boolean!
    $includeAssignees: Boolean!
    $includeSprints: Boolean!
    $includeEpics: Boolean!
    $includeReleases: Boolean!
    $includeMilestones: Boolean!
    $includeAuthors: Boolean!
  ) {
    workspace(id: $workspaceId) {
      id
      labelFilterOptions(name: { in: $labelIds }) @include(if: $includeLabels) {
        nodes {
          ...labelData
        }
      }
      assignees(login: { in: $assigneeIds }) @include(if: $includeAssignees) {
        nodes {
          ... on User {
            ...assigneeUserData
          }
        }
      }
      authors(login: { in: $authorIds }) @include(if: $includeAuthors) {
        nodes {
          ... on User {
            id
            avatarUrl
            login
            name
          }
        }
      }
      sprints(filters: { id: { in: $sprintIds } }) @include(if: $includeSprints) {
        nodes {
          id
          name
        }
      }
      epics(ids: $epicIds) @include(if: $includeEpics) {
        nodes {
          ...epicData
        }
      }
      releases(ids: $releaseIds) @include(if: $includeReleases) {
        nodes {
          id
          title
          state
          endOn
        }
      }
      milestoneFilterOptions(title: { in: $milestoneTitles })
        @include(if: $includeMilestones) {
        nodes {
          id
          title
          description
          state
          dueOn
          repository {
            name
          }
        }
      }
    }
  }
  ${Aht}
  ${Dht}
  ${Lht}
`;const xht={},Fht=bb.Ps`
  query workspaceAssignees(
    $workspaceId: ID!
    $pageSize: Int
    $repoGhIds: [Int!]
    $after: String
    $query: String
  ) {
    workspace(id: $workspaceId) {
      id
      assignees(
        first: $pageSize
        after: $after
        repositoryGhIds: $repoGhIds
        query: $query
      ) {
        nodes {
          ... on User {
            ...assigneeUserData
          }
        }
        pageInfo {
          endCursor
          startCursor
          hasNextPage
        }
      }
    }
  }
  ${Dht}
`;function Uht(e){let{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i=""}=e;return function(e){const t={...xht,...e};return cy.a(Fht,t)}({variables:{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i},skip:!r})}const Bht=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),{selectedRepoGhIds:s}=(0,l3.v9)((e=>({selectedRepoGhIds:e.boardV2.filters.repos.value})),Uoe()),r=Uht({workspaceId:t,pageSize:sa,repoGhIds:s}),i=(0,Ye.useMemo)((()=>({queryResult:r,connectionSelector:e=>e.data?.workspace?.assignees||null})),[r]),o=(0,Ye.useCallback)((e=>n.cache.readQuery({query:Mht,variables:{workspaceId:t,assigneeIds:e,...ia,includeAssignees:!0}})),[t,n]);return{assigneesSource:i,getActiveAssigneesFromCache:o}},qht=Ye.createElement("span",null,"No assignees found"),{shortcuts:Hht}=E8.BOARD_FILTER_ASSIGNEES,Wht=_G.trackShortcutsUsed(E8.BOARD_FILTER_ASSIGNEES.name),jht={id:"issues with no assignees",name:"Issues with no assignees",isCustomItem:!0},Ght=(e,t)=>{const n=[...e].reduce(((e,n)=>{const s=t[n];return void 0===s||(yae(s)?e.push(s.id):e.push(s.login.toLowerCase())),e}),[]);return new Set(n)},Kht=(e,t)=>yae(e)?Ye.createElement(_ae,{showEmptyAvatar:"clear_all"!==e.id,title:e.name,isFixed:e.isFixed}):Ye.createElement(Pht,{avatarUrl:e.avatarUrl,login:e.login,name:e.name,negated:t}),Vht=e=>e?Ye.createElement(Iae,null):null,$ht=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),{selectedAssigneeNamesArrayIn:l,selectedAssigneeNamesArrayNin:c,areFiltersLoaded:d}=(0,l3.v9)((e=>({selectedAssigneeNamesArrayIn:e.boardV2.filters.assignees.in,selectedAssigneeNamesArrayNin:e.boardV2.filters.assignees.nin,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),[u,p]=(0,Ye.useMemo)((()=>[new Set(l),(l||[]).map((e=>e.toLowerCase()))]),[l]),[m,h]=(0,Ye.useMemo)((()=>[new Set(c),(c||[]).map((e=>e.toLowerCase()))]),[c]),{updateFilterValue:E,clearFilterValue:g}=Tht({selectedItems:{in:u,nin:m},setFilterValueAction:Br,workspaceId:n,filterKeyIn:No,filterKeyNin:Ho}),{assigneesSource:f,getActiveAssigneesFromCache:_}=Bht({workspaceId:n}),{data:v,refetch:I}=f.queryResult,b=(0,Ye.useMemo)((()=>[...o,...v?.workspace?.assignees?.nodes||[]]),[v?.workspace?.assignees?.nodes,o]),y=u&&u.size>0||m&&m.size>0,S=(0,Ye.useMemo)((()=>({id:"clear_all",name:"Clear filter",isFixed:!0,isCustomItem:!0,onClick:g})),[g]),w=(0,Ye.useMemo)((()=>b.reduce(((e,t)=>(e.find((e=>e.name===t.login))||!p.includes(t.login.toLowerCase())&&!h.includes(t.login.toLowerCase())||e.push(t),e)),[])),[p,h,b]),R=(0,Ye.useMemo)((()=>{const e=w.map((e=>({id:e.id,negated:m.has(e.login.toLowerCase())})));return p.includes(jht.id)&&e.push({id:jht.id,negated:!1}),e}),[w]),T=(0,Ye.useMemo)((()=>y?[S,jht]:[jht]),[y,S]),C=(0,Ye.useMemo)((()=>{const e={};return b.forEach((t=>{e[t.id]=t})),e[jht.id]=jht,e}),[b]),k=(0,Ye.useCallback)((()=>{I({query:""})}),[I]),O=(0,Ye.useCallback)((()=>{s(Wht)}),[s]),N=(0,Ye.useCallback)((()=>{i(!1),k()}),[i,k]),P=(0,Ye.useCallback)((e=>{if(e){X1("Assignees Filter");const e=[...u,...m]?.filter((e=>e!==jht.id)),t=_(e);a(t?.workspace?.assignees?.nodes||[]),i(!0)}else N()}),[N,i,w,a]);return d?Ye.createElement(Rae,{ariaLabel:"Filter issues by assignee",buttonText:"Assignee",isFilterActive:y,iconComponent:Ye.createElement(Cdt,null),isOpen:r,isDisabled:t,shortcuts:Hht,trackShortcutUsed:O,setIsOpen:P},Ye.createElement(Rht,{priorityItems:o,beforeItems:T,dataSource:f,emptyState:qht,filterInputPlaceholder:"Filter assignees",hasItemBorder:!0,height:ta,initialSelected:R,itemRenderer:Kht,customSelectionIconRenderer:Vht,onClose:N,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=Ght(t.filter((e=>!e.negated)).map((e=>e.id)),C),r=Ght(t.filter((e=>e.negated)).map((e=>e.id)),C),i=Ght(n,C),o=u;r.forEach((e=>{u.has(e)&&o.delete(e)}));const a=m;s.forEach((e=>{m.has(e)&&a.delete(e)}));const l=new Set([...o,...s]);i.forEach((e=>{l.delete(e)}));const c=new Set([...a,...r]);i.forEach((e=>{c.delete(e)})),E({in:new Set([...l].map((e=>e.toLowerCase()))),nin:new Set([...c].map((e=>e.toLowerCase())))})},showSearchIcon:!1,title:"Filter by assignee",width:na})):Ye.createElement(Cae,null)},Zht=Ye.memo($ht),Yht={},Jht=bb.Ps`
  query workspaceEpics(
    $workspaceId: ID!
    $pageSize: Int
    $repoGhIds: [Int!]
    $after: String
    $query: String
    $orderBy: EpicOrderInput
    $state: IssueStateInput
  ) {
    workspace(id: $workspaceId) {
      id
      epics(
        first: $pageSize
        after: $after
        repositoryGhIds: $repoGhIds
        query: $query
        orderBy: $orderBy
        state: $state
      ) {
        nodes {
          ... on Epic {
            ...epicData
          }
        }
        pageInfo {
          endCursor
          startCursor
          hasNextPage
        }
      }
    }
  }
  ${Lht}
`;function Xht(e){let{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i=""}=e;return function(e){const t={...Yht,...e};return cy.a(Jht,t)}({variables:{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i,orderBy:{field:qi.CreatedAt,direction:Yi.Desc},state:{eq:Vi.Open}},skip:!r})}const Qht=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),{selectedRepoGhIds:s}=(0,l3.v9)((e=>({selectedRepoGhIds:e.boardV2.filters.repos.value})),Uoe()),r=Xht({workspaceId:t,pageSize:sa,repoGhIds:s});return{epicsSource:(0,Ye.useMemo)((()=>({queryResult:r,connectionSelector:e=>e.data?.workspace?.epics||null})),[r]),getActiveEpicsFromCache:(0,Ye.useCallback)((e=>n.cache.readQuery({query:Mht,variables:{workspaceId:t,epicIds:[...e],...ia,includeEpics:!0}})),[t,n])}},eEt="rFcIGTgsAv6X3uO5Aa92",tEt="jfIj6lVd4WW6o7UYcmlK",nEt="NRa_ytlndE_jwKgd287t",sEt=e=>{let{name:t,ownerName:n,repoName:s,negated:r=!1}=e;return Ye.createElement(Ye.Fragment,null,r?Ye.createElement("div",{className:nEt},Ye.createElement(Oae,{content:"not: "})):null,Ye.createElement("span",{className:eEt},t),n&&s?Ye.createElement("div",{className:tEt},n,"/",s):null)},rEt=Ye.createElement("span",null,"No epics found"),{shortcuts:iEt}=E8.BOARD_FILTER_EPICS,oEt=_G.trackShortcutsUsed(E8.BOARD_FILTER_EPICS.name),aEt={id:"noEpics",name:"Hide epics",isCustomItem:!0},lEt={id:"epicsWithSubtasks",name:"Show all epics and their issues",shortname:"Show all epics",isCustomItem:!0},cEt={id:"epicsOnly",name:"Show all epics and hide issues",shortname:"Hide issues",isCustomItem:!0},dEt={id:"notInEpic",name:"Show all issues not in an epic",shortname:"Issues not in epics",isCustomItem:!0},uEt=[aEt.id,lEt.id,cEt.id,dEt.id],pEt=(e,t)=>yae(e)?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(sEt,{name:e.issue.title,ownerName:e.issue.repository.ownerName,repoName:e.issue.repository.name,negated:t}),mEt=e=>e?Ye.createElement(Iae,null):null,hEt=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),{selectedEpicIdsArrayIn:l,selectedEpicIdsArrayNin:c,selectedEpicSettingsArray:d,areFiltersLoaded:u}=(0,l3.v9)((e=>({selectedEpicIdsArrayIn:e.boardV2.filters.epics.in,selectedEpicIdsArrayNin:e.boardV2.filters.epics.nin,selectedEpicSettingsArray:e.boardV2.filters.epics.settings,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),p=(0,Ye.useMemo)((()=>new Set(l)),[l]),m=(0,Ye.useMemo)((()=>new Set(c)),[c]),h=(0,Ye.useMemo)((()=>new Set(d)),[d]),{updateFilterValue:E,forceUpdateFilterValue:g,clearFilterValue:f}=yut({workspaceId:n}),{epicsSource:_,getActiveEpicsFromCache:v}=Qht({workspaceId:n}),{refetch:I}=_.queryResult,b=p&&p.size>0||m&&m.size>0||h&&h.size>0,y=(0,Ye.useMemo)((()=>({id:"clear_all",name:"Clear filter",isFixed:!0,isCustomItem:!0,onClick:f})),[f]),S=(0,Ye.useMemo)((()=>[...[...p].map((e=>({id:e,negated:!1}))),...[...m].map((e=>({id:e,negated:!0}))),...[...h].map((e=>({id:e,negated:!1})))]),[p,m,h]),w=(0,Ye.useMemo)((()=>b?[y,aEt,lEt,cEt,dEt]:[aEt,lEt,cEt,dEt]),[b,y]),R=(0,Ye.useCallback)((()=>{I({query:""})}),[I]),T=(0,Ye.useCallback)((()=>{s(oEt)}),[s]),C=(0,Ye.useCallback)((()=>{i(!1),R()}),[i,R]),k=(0,Ye.useCallback)((e=>{if(e){const e=v(new Set([...p,...m]));a(e?.workspace?.epics?.nodes||[]),X1("Epics Filter"),i(!0)}else C()}),[C,i,p,m,v]);return u?Ye.createElement(Rae,{ariaLabel:"Filter issues by epic",buttonText:"Epic",isFilterActive:b,iconComponent:Ye.createElement(OMe,null),isOpen:r,isDisabled:t,shortcuts:iEt,trackShortcutUsed:T,setIsOpen:k},Ye.createElement(Rht,{priorityItems:o,beforeItems:w,dataSource:_,emptyState:rEt,filterInputPlaceholder:"Filter epics",hasItemBorder:!0,height:ta,initialSelected:S,itemRenderer:pEt,customSelectionIconRenderer:mEt,onClose:C,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=t.find((e=>{let{id:t}=e;return uEt.includes(t)})),r=n.find((e=>uEt.includes(e))),i=t.filter((e=>!e.negated&&!uEt.includes(e.id))).map((e=>e.id)),o=t.filter((e=>e.negated&&!uEt.includes(e.id))).map((e=>e.id)),a=p;o.forEach((e=>{p.has(e)&&a.delete(e)}));const l=m;i.forEach((e=>{m.has(e)&&l.delete(e)}));const c=new Set([...a,...i]);n.forEach((e=>{c.delete(e)}));const d=new Set([...l,...o]);n.forEach((e=>{d.delete(e)})),s?g({epicIds:{in:c,nin:d},epicSettings:new Set([s.id])}):r?g({epicIds:{in:c,nin:d},epicSettings:new Set}):E({epicIds:{in:c,nin:d},epicSettings:h})},showSearchIcon:!1,title:"Filter by epic",width:na})):Ye.createElement(Cae,null)},EEt=Ye.memo(hEt),gEt={},fEt=bb.Ps`
  query workspaceLabels(
    $workspaceId: ID!
    $pageSize: Int
    $repoGhIds: [Int!]
    $after: String
    $query: String
  ) {
    workspace(id: $workspaceId) {
      id
      labelFilterOptions(
        first: $pageSize
        after: $after
        repositoryGhIds: $repoGhIds
        query: $query
      ) {
        nodes {
          ... on Label {
            ...labelData
          }
        }
        pageInfo {
          endCursor
          startCursor
          hasNextPage
        }
      }
    }
  }
  ${Aht}
`;function _Et(e){let{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i=""}=e;return function(e){const t={...gEt,...e};return cy.a(fEt,t)}({variables:{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i},skip:!r})}const vEt=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),s=(0,l3.v9)((e=>e.boardV2.filters.repos.value)),r=_Et({workspaceId:t,pageSize:sa,repoGhIds:s});return{labelsSource:(0,Ye.useMemo)((()=>({queryResult:r,connectionSelector:e=>e.data?.workspace?.labelFilterOptions||null})),[r]),getActiveLabelsFromCache:(0,Ye.useCallback)((e=>n.cache.readQuery({query:Mht,variables:{workspaceId:t,labelIds:e,...ia,includeLabels:!0}})),[t,n])}},IEt="TJvixBnBqlVuh5wloH4p",bEt="m79dByrKenOHXjGugnnz",yEt="jGqaiV6xJVGavVyyiyAP",SEt=e=>{let{name:t,negated:n=!1,color:s}=e;return Ye.createElement("div",{className:IEt},Ye.createElement("div",{className:bEt,style:{backgroundColor:iue(s)}}),n?Ye.createElement("div",{className:yEt},Ye.createElement(Oae,{content:"not: "})):null,t)},wEt=Ye.createElement("span",null,"No labels found"),{shortcuts:REt}=E8.BOARD_FILTER_LABELS,TEt=_G.trackShortcutsUsed(E8.BOARD_FILTER_LABELS.name),CEt={id:"none",name:"Issues with no labels",isCustomItem:!0},kEt=(e,t)=>{const n=[...e].reduce(((e,n)=>{const s=t[n];return void 0===s||(yae(s)?e.push(s.id):e.push(s.name.toLowerCase())),e}),[]);return new Set(n)},OEt=(e,t)=>yae(e)?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(SEt,{name:e.name,color:e.color,negated:t}),NEt=e=>e?Ye.createElement(Iae,null):null,PEt=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),{selectedLabelNamesArrayIn:l,selectedLabelNamesArrayNin:c,areFiltersLoaded:d}=(0,l3.v9)((e=>({selectedLabelNamesArrayIn:e.boardV2.filters.labels.in,selectedLabelNamesArrayNin:e.boardV2.filters.labels.nin,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),{labelsSource:u,getActiveLabelsFromCache:p}=vEt({workspaceId:n}),{data:m,refetch:h}=u.queryResult,[E,g]=(0,Ye.useMemo)((()=>[new Set(l),(l||[]).map((e=>e.toLowerCase()))]),[l]),[f,_]=(0,Ye.useMemo)((()=>[new Set(c),(c||[]).map((e=>e.toLowerCase()))]),[c]),{updateFilterValue:v,clearFilterValue:I}=Tht({selectedItems:{in:E,nin:f},setFilterValueAction:Ur,workspaceId:n,filterKeyIn:Oo,filterKeyNin:Bo}),b=(0,Ye.useMemo)((()=>[...o,...m?.workspace?.labelFilterOptions?.nodes||[]]),[m?.workspace?.labelFilterOptions?.nodes,o]),y=E&&E.size>0||f&&f.size>0,S=(0,Ye.useMemo)((()=>({id:"clear_all",name:"Clear filter",isFixed:!0,isCustomItem:!0,onClick:I})),[I]),w=(0,Ye.useMemo)((()=>b.reduce(((e,t)=>(e.find((e=>e.name===t.name))||!g.includes(t.name.toLowerCase())&&!_.includes(t.name.toLowerCase())||e.push(t),e)),[])),[g,_,b]),R=(0,Ye.useMemo)((()=>{const e=w.map((e=>({id:e.id,negated:f.has(e.name.toLowerCase())})));return g.includes(CEt.id)&&e.push({id:CEt.id,negated:!1}),e}),[w]),T=(0,Ye.useMemo)((()=>y?[S,CEt]:[CEt]),[y,S]),C=(0,Ye.useMemo)((()=>{const e={};return b.forEach((t=>{e[t.id]=t})),e[CEt.id]=CEt,e}),[b]),k=(0,Ye.useCallback)((()=>{h({query:""})}),[h]),O=(0,Ye.useCallback)((()=>{s(TEt)}),[s]),N=(0,Ye.useCallback)((()=>{i(!1),k()}),[i,k]),P=(0,Ye.useCallback)((e=>{if(e){X1("Labels Filter");const e=[...E,...f]?.filter((e=>e!==CEt.id)),t=p(e);a(t?.workspace?.labelFilterOptions?.nodes||[]),i(!0)}else N()}),[N,i,w,a]);return d?Ye.createElement(Rae,{ariaLabel:"Filter issues by label",buttonText:"Label",isFilterActive:y,iconComponent:Ye.createElement(Odt,null),isOpen:r,isDisabled:t,shortcuts:REt,trackShortcutUsed:O,setIsOpen:P},Ye.createElement(Rht,{priorityItemMatcherKey:"name",priorityItems:o,beforeItems:T,dataSource:u,emptyState:wEt,filterInputPlaceholder:"Filter labels",hasItemBorder:!0,height:ta,initialSelected:R,itemRenderer:OEt,customSelectionIconRenderer:NEt,onClose:N,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=kEt(t.filter((e=>!e.negated)).map((e=>e.id)),C),r=kEt(t.filter((e=>e.negated)).map((e=>e.id)),C),i=kEt(n,C),o=E;r.forEach((e=>{E.has(e)&&o.delete(e)}));const a=f;s.forEach((e=>{f.has(e)&&a.delete(e)}));const l=new Set([...o,...s]);i.forEach((e=>{l.delete(e)}));const c=new Set([...a,...r]);i.forEach((e=>{c.delete(e)})),v({in:new Set([...l].map((e=>e.toLowerCase()))),nin:new Set([...c].map((e=>e.toLowerCase())))})},showSearchIcon:!1,title:"Filter by label",width:na})):Ye.createElement(Cae,null)},AEt=Ye.memo(PEt);function DEt(){return DEt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},DEt.apply(this,arguments)}const LEt=e=>{let{disabledItemMap:t={},emptyState:n,filterFn:s,filterInputPlaceholder:r,footerLeft:i,footerRight:o,hasItemBorder:a=!1,height:l,isLoading:c,initialSelectedIds:d,itemRenderer:u,customSelectionIconRenderer:p,items:m=null,onClose:h,onSelectionChange:E,showSearchIcon:g,title:f,width:_}=e;const{setSearchTerm:v,filteredItems:I}=mbe(s,m),{isItemSelected:b,toggleItem:y}=Ule({onSelectionChange:E,initialSelectedIds:d}),S=Ye.useRef(null),w=e=>{e.onClick?e.onClick():y(e.id)},{currentlyHighlightedIndex:R,resetHighlightAndScrollTop:T,setHighlightIndex:C,onKeyDownHighlight:k}=Sre(I,S,w,t),O=(0,Ye.useCallback)((e=>{let{term:t}=e;v(t),T()}),[v,T]);return Ye.createElement(Ere,{height:l,hasVariableHeight:true,width:_,onClose:h,onKeyDown:k},Ye.createElement(mre,{title:f,onClose:h}),Ye.createElement(Voe,{placeholder:r,onChange:O,showSearchIcon:g}),Ye.createElement(qoe,{items:I,emptyState:n,isLoading:c},(()=>Ye.createElement(_re,{parentHasVariableHeight:true,ref:S,items:I||[],rowRenderer:e=>{const{index:n}=e,s=I[n],r=1===Object.keys(t).length&&t[s.id];return Ye.createElement(yre,DEt({},e,{customSelectionIconRenderer:p,hasItemBorder:a,isDisabled:!!t&&t[s.id],isOnlyItemSelected:r,key:s.id,onClick:()=>w(s),setHighlightIndex:()=>C(n),isHighlighted:R===n,isSelected:b(s.id)}),u(s,n))}}))),(Boolean(i)||Boolean(o))&&Ye.createElement(ube,{left:i,right:o}))};function zEt(e){let{workspaceId:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)((e=>null===e.boardV2.filters.repos.value)),{data:r,error:i,loading:o,refetch:a}=function(e){const t={...tat,...e};return cy.a(nat,t)}({variables:{workspaceId:t},fetchPolicy:"network-only",onCompleted:e=>{if(e?.workspace)if(s&&e?.workspace?.repositoriesConnection){const t=e.workspace.repositoriesConnection?.nodes.map((e=>e.ghId));n(Fr(new Set(t)))}else n(Fr())}});return{repositories:r?.workspace?.repositoriesConnection?.nodes||[],defaultRepo:r?.workspace?.defaultRepository,error:i,loading:o,refetch:a}}const MEt={main:"ik0lTQmCWfrUI0MiSyV5",info:"fnki9cpUjoFcX_KTpBlb",repoName:"E5oEs8c4xG4vFHPL_txB",ownerName:"bPgCbFiKBbH7udocpM4R",badgeWrapper:"snrKQmNOr1SXrCAfRkju",defaultBadge:"QT5OuYWbfAIl1YmBGXdg",disabledBadge:"gG9lN3YvLvR4qfW4H4ef",lockWrapper:"Z7LUOFyHX83NzcaiK3tQ",lockIcon:"uiRGEYm256uNhvPAjdqL"},xEt=e=>{let{name:t,ownerName:n,isDefaultRepo:s,isDisabled:r}=e;const i=(0,_I.default)(MEt.defaultBadge,{[MEt.disabledBadge]:r}),o=(0,_I.default)(MEt.disabledOwner,{[MEt.disabledOwner]:r});return Ye.createElement("div",{className:MEt.main},Ye.createElement("div",{className:MEt.info},Ye.createElement("div",{className:MEt.repoName},t),Ye.createElement("div",{className:o},n)),s&&Ye.createElement("div",{className:MEt.badgeWrapper},Ye.createElement("span",{className:i},"Default")))},FEt=Ye.memo(xEt),UEt={mainButtonText:"ww7GFtcPaDgIxROKpQpe",tooltipListItem:"nexFD4SEfxaaMoB7r5wf",footerButton:"b2kglhET7eu0MFDbHQtV"},BEt=Ye.createElement("span",null,"No repos found"),qEt="Show default repo",HEt="Show all repos",{shortcuts:WEt}=E8.BOARD_FILTER_REPO,jEt=_G.trackShortcutsUsed(E8.BOARD_FILTER_REPO.name),GEt=(e,t)=>e?t?Ye.createElement(bae,{tooltipText:"At least one repo must be selected"}):Ye.createElement(Iae,null):null,KEt=(e,t)=>{if(!t||0===t.size)return;const n=e.filter((e=>t.has(e.id))),s=n.length>5?`\nand ${n.length-5} more...`:null;return Ye.createElement("div",null,Ye.createElement("span",null,n.slice(0,5).map((e=>e.name)).join("\n"),s))},VEt=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)({}),{repositories:l,defaultRepo:c,loading:d}=zEt({workspaceId:n}),[u,p]=(0,Ye.useState)(l),{selectedRepoGhIdsArray:m,areFiltersLoaded:h,isPlatformUser:E}=(0,l3.v9)((e=>({selectedRepoGhIdsArray:e.boardV2.filters.repos.value,areFiltersLoaded:!e.boardV2.filters.repos.isLoading,isPlatformUser:au(e)})),Uoe()),g=(0,Ye.useMemo)((()=>new Set(m)),[m]),f=(0,Ye.useCallback)((e=>e.size===l.length),[l]),{updateFilterValue:_,forceUpdateFilterValue:v}=fle({selectedItems:g,setFilterValueAction:xr,workspaceId:n,filterKey:ko,shouldRemovePersistedValue:f}),I=l.length,b=g.size,y=b===I,S=`Repo (${b}/${I})`,w=(0,Ye.useMemo)((()=>((e,t)=>{if(null===e)return null;const n=t.filter((t=>e.has(t.ghId))).map((e=>e.id));return new Set(n)})(new Set(g),l)||new Set),[g,l]),R=(0,Ye.useMemo)((()=>Array.from(w)),[w]);(0,Ye.useEffect)((()=>{if(1===R.length){const e=R[0];a({[e]:!0})}}),[l]);const T=(0,Ye.useCallback)((()=>{if(c?.id){X1("Multi Repos Show One");const e=new Set([c.ghId]);a({[c.id]:!0}),v(e)}}),[c,v,a]),C=(0,Ye.useCallback)((()=>{X1("Multi Repos Show All");const e=l.map((e=>e.ghId)),t=new Set(e);e.length>1&&1===Object.keys(o).length&&a({}),v(t)}),[o,l,v,a]),k=(0,Ye.useMemo)((()=>({id:qEt,name:qEt,isFixed:!0,isCustomItem:!0,onClick:T})),[T]),O=(0,Ye.useMemo)((()=>({id:HEt,name:HEt,isFixed:!0,isCustomItem:!0,onClick:C})),[C]),N=(0,Ye.useCallback)((()=>{s(jEt)}),[s]),P=(0,Ye.useCallback)((()=>{i(!1)}),[i]),A=(0,Ye.useCallback)((()=>{i(!1),s(E?oZ.openCurrentWorkspaceEditForm({workspaceId:n}):oZ.openFromWorkspaceId({workspaceId:n}))}),[n,s,i]),D=(0,Ye.useCallback)((()=>{i(!1),s(oZ.initMergeRepoSelector(n))}),[n,s,i]),L=(0,Ye.useMemo)((()=>Ye.createElement(H5,{className:UEt.footerButton,variant:z5.TEXT,color:L5.PRIMARY,padding:M5.NONE,onClick:A},"Edit workspace")),[A]),z=(0,Ye.useMemo)((()=>Ye.createElement(H5,{className:UEt.footerButton,variant:z5.OUTLINED,color:L5.PRIMARY,onClick:D},"Add repos")),[D]),M=(0,Ye.useCallback)((e=>{if(i(e),e){X1("Multi Repos Filter");const e=((e,t,n)=>{const s=[...e];return s.sort(((e,s)=>{if(e.id===n)return-1;if(s.id===n)return 1;const r=t.has(e.id),i=t.has(s.id);if(r&&!i)return-1;if(!r&&i)return 1;const o=e.name.toLowerCase(),a=s.name.toLowerCase();return o<a?-1:o>a?1:0})),s})(l,w,c?.id);p(e)}}),[l,c,w]),x=(0,Ye.useMemo)((()=>y?[k,...u]:[O,...u]),[y,O,k,u]),F=(0,Ye.useCallback)((e=>yae(e)?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(FEt,{name:e.name,ownerName:e.ownerName,id:e.id,isDefaultRepo:e.id===c?.id,isDisabled:o[e.id]})),[c,o]);return h?Ye.createElement(Rae,{ariaLabel:"Filter issues by repo",buttonClassName:UEt.mainButton,buttonTitleClassName:UEt.mainButtonText,buttonText:S,isOpen:r,isDisabled:t,shortcuts:WEt,trackShortcutUsed:N,setIsOpen:M,buttonTooltipContent:KEt(l,w),buttonTooltipPosition:jI.BOTTOM},Ye.createElement(LEt,{emptyState:BEt,filterFn:wae,filterInputPlaceholder:"Filter repos",footerLeft:L,footerRight:z,hasItemBorder:!0,height:ta,isLoading:d,initialSelectedIds:R,disabledItemMap:o,itemRenderer:F,customSelectionIconRenderer:GEt,items:x,onClose:P,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=new Set([...R,...t]);if(n.forEach((e=>{s.delete(e)})),_(((e,t)=>{const n=t.filter((t=>e.has(t.id))).map((e=>e.ghId));return new Set(n)})(s,l)),1===s.size){const e=[...s][0];a({[e]:!0})}else Object.keys(o).length>0&&s.size>1&&a({})},showSearchIcon:!1,title:"Filter by repo",width:na})):Ye.createElement(Cae,null)},$Et=Ye.memo(VEt);function ZEt(){return ZEt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ZEt.apply(this,arguments)}const YEt="425px",JEt="320px",XEt=e=>{let{layoutClassName:t,disabledItemMap:n={},textItemMap:s={},emptyState:r,filterInputPlaceholder:i,hasItemBorder:o=!1,itemRenderer:a,customSelectionIconRenderer:l,hideBeforeItemsIfNoResults:c=!0,onClose:d,showSearchIcon:u,tabs:p,title:m,activeItemsIds:h=[],onToggleItem:E,onSelectionChange:g,height:f=YEt,width:_=JEt,clearFilter:v,priorityItemMatcherKey:I="id"}=e;const{activeTab:b,setActiveTab:y}=zle(),{dataSource:S,afterItems:w,beforeItems:R,priorityItems:T=[]}=p[b],{fetchMore:C,refetch:k}=S.queryResult,O=S.connectionSelector(S.queryResult),N=(0,Ye.useCallback)((e=>k({query:e})),[k]),[P,A,D]=Yoe(N),L=(0,Ye.useMemo)((()=>{const e=Joe(I,O?.nodes,T,P);if(e.length&&w?.length&&!A&&e.push(...w),e.length&&R?.length||R?.length&&!c){const t=P?R.filter((e=>e.isFixed||e.name?.toLocaleLowerCase().includes(A.toLowerCase()))):R;e.unshift(...t)}return e}),[R,O?.nodes,T,c]),z=h.length>0,M=S.queryResult.loading;(0,Ye.useEffect)((()=>{""!==A.trim()&&k({query:A})}),[b,k]);const{isItemSelected:x,toggleItem:F}=Ule({onToggleItem:E,onSelectionChange:g,initialSelectedIds:h}),U=(0,Ye.useRef)(null),{currentlyHighlightedIndex:B,onKeyDownHighlight:q,resetHighlightAndScrollTop:H,setHighlightIndex:W}=Sre(L,U,(e=>F(e.id)),n),j=e=>(t,n)=>l?l(t,n,e):null;return Ye.createElement(Ere,{className:t,height:f,hasVariableHeight:false,width:_,onClose:d,onKeyDown:q},Ye.createElement(mre,{title:m,onClose:d}),Ye.createElement(Voe,{placeholder:i,onChange:e=>{let{term:t}=e;D(t),H()},showSearchIcon:u}),z&&v&&Ye.createElement(Ywe,{text:"Clear filter",onClick:v}),p.length>1?Ye.createElement(Dle,null,p.map(((e,t)=>Ye.createElement(Lle,{key:e.name,isActive:b===t,onClick:()=>y(t)},e.name)))):null,Ye.createElement(qoe,{items:L,emptyState:r,isLoading:M},(()=>Ye.createElement(_re,{parentHasVariableHeight:false,ref:U,items:L||[],rowRenderer:e=>{const{index:t}=e,r=L[t],i=t===(L?.length||0)-1;return Ye.createElement(yre,ZEt({},e,{customSelectionIconRenderer:j(r.id),key:r.id,onClick:()=>F(r.id),setHighlightIndex:()=>W(t),hasItemBorder:o,isDisabled:n[r.id],isTextInfo:s[r.id],isHighlighted:B===t,isSelected:x(r.id)}),a(r,t),i?Ye.createElement(Ale,{onVisible:()=>{O?.pageInfo.hasNextPage&&C({variables:{after:O?.pageInfo.endCursor}})}}):null)}}))))},QEt="mb3Ok_pzbAsGcUewugEX",egt="QAfUjR8D59X67B6VmU8H",tgt="V1hCsmFErNFrNiOcVvmr",ngt=e=>{let{hasSprintConfig:t,onClickSetup:n}=e;const{openModal:s}=iie(),r=(0,Ye.useCallback)((()=>{s(),n(),r6("Board Feature Clicked",{Feature:"Sprints Filter",Action:"Open Sprints"})}),[n,s]);return t?Ye.createElement("p",{className:egt},"No sprints found"):Ye.createElement("div",{className:QEt},Ye.createElement("p",{className:egt},"No sprints found"),Ye.createElement(H5,{className:tgt,variant:z5.TEXT,color:L5.PRIMARY,padding:M5.NONE,onClick:r},"Set up sprints"))},sgt=Ye.memo(ngt),rgt=e=>{let{name:t}=e;return Ye.createElement("div",null,t)},igt={},ogt=bb.Ps`
  query getWorkspaceSprintConfig($workspaceId: ID!) {
    workspace(id: $workspaceId) {
      id
      sprintConfig {
        id
      }
    }
  }
`;const agt=e=>{let{workspaceId:t}=e;return function(e){const t={...igt,...e};return cy.a(ogt,t)}({variables:{workspaceId:t}})},lgt={},cgt=bb.Ps`
  query getWorkspaceSprints(
    $workspaceId: ID!
    $first: Int
    $filters: SprintFiltersInput
    $query: String
    $after: String
    $orderBy: SprintOrderInput
  ) {
    workspace(id: $workspaceId) {
      id
      sprints(
        first: $first
        after: $after
        query: $query
        filters: $filters
        orderBy: $orderBy
      ) {
        totalCount
        pageInfo {
          hasNextPage
          hasPreviousPage
          endCursor
        }
        nodes {
          id
          name
          startAt
          endAt
          state
        }
      }
    }
  }
`;function dgt(e){let{workspaceId:t,pageSize:n,after:s,state:r,skip:i=!1,query:o=""}=e;return function(e){const t={...lgt,...e};return cy.a(cgt,t)}({variables:{workspaceId:t,first:n,after:s,query:o,filters:r?{state:{eq:r}}:{},orderBy:r===Eo.Closed?{direction:Yi.Desc,field:ho.EndAt}:null},fetchPolicy:"no-cache",skip:i})}const ugt=e=>{let{workspaceId:t,skip:n}=e;const{data:s}=agt({workspaceId:t}),r=void 0!==s?.workspace?.sprintConfig?.id;return{hasSprintConfig:r,openSprintsSource:{queryResult:dgt({workspaceId:t,pageSize:sa,state:Eo.Open,skip:n||!r}),connectionSelector:e=>e?.data?.workspace?.sprints||null},closedSprintsSource:{queryResult:dgt({workspaceId:t,pageSize:sa,state:Eo.Closed,skip:n}),connectionSelector:e=>e?.data?.workspace?.sprints||null}}},{shortcuts:pgt}=E8.BOARD_FILTER_SPRINTS,mgt=_G.trackShortcutsUsed(E8.BOARD_FILTER_SPRINTS.name),hgt={id:"none",name:"Issues with no sprints",isCustomItem:!0},Egt=e=>yae(e)&&!e.isAfterItem?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(rgt,{name:e.name||""}),ggt=e=>e?Ye.createElement(Iae,null):null,fgt=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),{selectedSprintIdsArray:o,areFiltersLoaded:a}=(0,l3.v9)((e=>({selectedSprintIdsArray:e.boardV2.filters.sprints.value||[],areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),l=(0,Ye.useMemo)((()=>new Set(o)),[o]),{updateFilterValue:c,clearFilterValue:d}=fle({selectedItems:l,setFilterValueAction:Wr,workspaceId:n,filterKey:Ao}),{hasSprintConfig:u,openSprintsSource:p,closedSprintsSource:m}=ugt({workspaceId:n,skip:!r}),h=[{name:"Open",dataSource:p,beforeItems:[hgt],afterItems:[{id:"firstAfterItem",name:"New sprints will be created continuously as each sprint ends",isCustomItem:!0,isAfterItem:!0}]},{name:"Closed",dataSource:m}],E=(0,Ye.useCallback)((()=>{s(mgt)}),[s]),g=(0,Ye.useCallback)((()=>{i(!1)}),[i]),f=(0,Ye.useCallback)((e=>{e?(X1("Sprints Filter"),i(!0)):g()}),[g,i]),_=(0,Ye.useMemo)((()=>Ye.createElement(sgt,{hasSprintConfig:u,onClickSetup:g})),[u,g]);if(!a)return Ye.createElement(Cae,null);const v=o.length>0;return Ye.createElement(Rae,{ariaLabel:"Filter issues by sprint",buttonText:"Sprint",isFilterActive:v,iconComponent:Ye.createElement(rre,null),isOpen:r,isDisabled:t,shortcuts:pgt,trackShortcutUsed:E,setIsOpen:f},Ye.createElement(XEt,{hasItemBorder:!0,disabledItemMap:{firstAfterItem:!0},emptyState:_,filterInputPlaceholder:"Filter sprints",tabs:h,activeItemsIds:o,clearFilter:d,itemRenderer:Egt,customSelectionIconRenderer:ggt,onClose:g,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=new Set([...l,...t]);n.forEach((e=>{s.delete(e)})),c(s)},showSearchIcon:!1,title:"Filter issues by sprint",height:ta,width:na}))},_gt=Ye.memo(fgt);function vgt(){return vgt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vgt.apply(this,arguments)}const Igt="425px",bgt="320px",ygt=e=>{let{layoutClassName:t,disabledItemMap:n={},textItemMap:s={},emptyState:r,filterInputPlaceholder:i,hasItemBorder:o=!1,itemRenderer:a,customSelectionIconRenderer:l,hideBeforeItemsIfNoResults:c=!0,initialSelected:d,onClose:u,showSearchIcon:p,tabs:m,title:h,onSelectionChange:E,height:g=Igt,width:f=bgt,clearFilter:_,priorityItemMatcherKey:v="id",clearSelectionItemKey:I="clear_all"}=e;const[b,y]=(0,Ye.useState)(!1),{activeTab:S,setActiveTab:w}=zle(),{dataSource:R,afterItems:T,beforeItems:C,priorityItems:k=[]}=m[S],{isItemSelected:O,isItemNegated:N,toggleItem:P}=Zoe({onSelectionChange:E,initialSelected:d}),A=(0,Ye.useRef)(null),{fetchMore:D,refetch:L}=R.queryResult,z=R.connectionSelector(R.queryResult),M=R.queryResult.loading,x=(0,Ye.useCallback)((e=>L({query:e})),[L]),[F,U,B]=Yoe(x),q=(0,Ye.useMemo)((()=>{const e=Joe(v,z?.nodes,F?[]:k,F);if(e.length&&T?.length&&!U&&e.push(...T),e.length&&C?.length||C?.length&&!c){const t=(F?C.filter((e=>e.isFixed||e.name?.toLocaleLowerCase().includes(U.toLowerCase()))):C).filter((e=>!b||e.id===I));e.unshift(...t)}return e}),[b,C,z?.nodes,k,c]),H=(0,Ye.useCallback)((e=>{e.onClick?e.onClick():P(e.id,b)}),[P]),W=d.length>0;(0,Ye.useEffect)((()=>{""!==U.trim()&&L({query:U})}),[S,L]);const{currentlyHighlightedIndex:j,onKeyDownHighlight:G,resetHighlightAndScrollTop:K,setHighlightIndex:V}=Sre(q,A,H,n),$=(0,Ye.useCallback)((e=>{let{term:t,negated:n}=e;B(t),y(n),K()}),[B,K]),Z=e=>(t,n)=>l?l(t,n,e):null;return Ye.createElement(Ere,{className:t,height:g,hasVariableHeight:false,width:f,onClose:u,onKeyDown:G},Ye.createElement(mre,{title:h,onClose:u}),Ye.createElement(Voe,{allowNegatedSearch:!0,placeholder:i,onChange:$,showSearchIcon:p}),W&&_&&Ye.createElement(Ywe,{text:"Clear filter",onClick:_}),m.length>1?Ye.createElement(Dle,null,m.map(((e,t)=>Ye.createElement(Lle,{key:e.name,isActive:S===t,onClick:()=>w(t)},e.name)))):null,Ye.createElement(qoe,{items:q,emptyState:r,isLoading:M},(()=>Ye.createElement(_re,{parentHasVariableHeight:false,ref:A,items:q||[],rowRenderer:e=>{const{index:t}=e,r=q[t],i=t===(q?.length||0)-1;return Ye.createElement(yre,vgt({},e,{customSelectionIconRenderer:Z(r.id),key:r.id,onClick:()=>H(r),setHighlightIndex:()=>V(t),hasItemBorder:o,isDisabled:n[r.id],isTextInfo:s[r.id],isHighlighted:j===t,isSelected:O(r.id)}),a(r,N(r.id),t),i?Ye.createElement(Ale,{onVisible:()=>{z?.pageInfo.hasNextPage&&D({variables:{after:z?.pageInfo.endCursor}})}}):null)}}))))},Sgt="Vojf9SXl3U1PmasytNqA",wgt="CU7KeivYalGGxeLCVU8w",Rgt="wUzTzMSgME7zvX_sa_8Q";const Tgt=e=>{let{name:t,closedAt:n,endOn:s,state:r,negated:i=!1}=e;return Ye.createElement(Ye.Fragment,null,i?Ye.createElement("span",{className:Rgt},Ye.createElement(Oae,{content:"not: "})):null,Ye.createElement("div",{className:Sgt},t),Ye.createElement("div",{className:wgt},"CLOSED"===r?function(e){return null==e?"No closing date":`Closed ${Pp(e)}`}(n):$p(s)))},Cgt={},kgt=bb.Ps`
  query getWorkspaceReleases(
    $workspaceId: ID!
    $pageSize: Int
    $after: String
    $query: String
    $state: ReleaseStateInput
    $repositoryGhIds: [Int!]
  ) {
    workspace(id: $workspaceId) {
      id
      releases(
        first: $pageSize
        query: $query
        after: $after
        state: $state
        repositoryGhIds: $repositoryGhIds
      ) {
        totalCount
        pageInfo {
          hasNextPage
          hasPreviousPage
          endCursor
        }
        nodes {
          id
          title
          state
          description
          endOn
          closedAt
        }
      }
    }
  }
`;function Ogt(e){let{workspaceId:t,pageSize:n,skip:s=!1,state:r,repositoryGhIds:i=[]}=e;return function(e){const t={...Cgt,...e};return cy.a(kgt,t)}({variables:{workspaceId:t,pageSize:n,state:{eq:r},repositoryGhIds:i},skip:s})}const Ngt=e=>{let{workspaceId:t,skip:n,repositoryGhIds:s}=e;const r=(0,Dae.x)(),i={queryResult:Ogt({workspaceId:t,pageSize:sa,skip:n,state:ro.Open,repositoryGhIds:s}),connectionSelector:e=>e?.data?.workspace?.releases||null},o={queryResult:Ogt({workspaceId:t,pageSize:sa,skip:n,state:ro.Closed,repositoryGhIds:s}),connectionSelector:e=>e?.data?.workspace?.releases||null};return{getActiveReleasesFromCache:(0,Ye.useCallback)((e=>r.cache.readQuery({query:Mht,variables:{workspaceId:t,releaseIds:[...e],...ia,includeReleases:!0}})),[t,r]),openReleasesSource:i,closedReleasesSource:o}},{shortcuts:Pgt}=E8.BOARD_FILTER_RELEASES,Agt=_G.trackShortcutsUsed(E8.BOARD_FILTER_RELEASES.name),Dgt=Ye.createElement("span",null,"No releases found"),Lgt={id:"none",name:"Show all issues not in a release",shortname:"Issues not in releases",isCustomItem:!0},zgt=(e,t)=>{const n=[...e].reduce(((e,n)=>{const s=t[n];return void 0===s||e.push(s.id),e}),[]);return new Set(n)},Mgt=(e,t)=>yae(e)?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(Tgt,{name:e.title,closedAt:e.closedAt,endOn:e.endOn,state:e.state,negated:t}),xgt=e=>e?Ye.createElement(Iae,null):null,Fgt=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),[l,c]=(0,Ye.useState)([]),{selectedReleaseIdsArrayIn:d,selectedReleaseIdsArrayNin:u,selectedRepoGhIds:p,areFiltersLoaded:m}=(0,l3.v9)((e=>({selectedReleaseIdsArrayIn:e.boardV2.filters.releases.in,selectedReleaseIdsArrayNin:e.boardV2.filters.releases.nin,selectedRepoGhIds:e.boardV2.filters.repos.value,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),{getActiveReleasesFromCache:h,openReleasesSource:E,closedReleasesSource:g}=Ngt({workspaceId:n,skip:!r,repositoryGhIds:p}),{data:f,refetch:_}=E.queryResult,{data:v,refetch:I}=g.queryResult,b=(0,Ye.useMemo)((()=>[...o,...l,...f?.workspace?.releases?.nodes||[],...v?.workspace?.releases?.nodes||[]]),[o,l,f?.workspace?.releases?.nodes,v?.workspace?.releases?.nodes]),y=(0,Ye.useMemo)((()=>new Set(d)),[d]),S=(0,Ye.useMemo)((()=>new Set(u)),[u]),{updateFilterValue:w,clearFilterValue:R}=Tht({selectedItems:{in:y,nin:S},setFilterValueAction:qr,workspaceId:n,filterKeyIn:zo,filterKeyNin:qo}),T=(0,Ye.useMemo)((()=>b.reduce(((e,t)=>((!e.find((e=>e.id===t.id))&&d?.includes(t.id)||u?.includes(t.id))&&e.push(t),e)),[])),[d,u,b]),C=(0,Ye.useMemo)((()=>{const e=T.map((e=>({id:e.id,negated:S?.has(e.id)})));return d?.includes(Lgt.id)&&e.push({id:Lgt.id,negated:!1}),e}),[T]),k=(0,Ye.useCallback)((()=>{_({query:""}),I({query:""})}),[_,I]),O=(0,Ye.useCallback)((()=>{s(Agt)}),[s]),N=(0,Ye.useCallback)((()=>{i(!1),k()}),[i,k]),P=(0,Ye.useCallback)((e=>{if(e){const e=[...y,...S].filter((e=>"none"!==e)),t=h(e);a((t?.workspace?.releases?.nodes||[]).filter((e=>"OPEN"===e.state))),c((t?.workspace?.releases?.nodes||[]).filter((e=>"CLOSED"===e.state))),i(!0)}else N()}),[N,i,y,S,a,c]),A=[{name:"Open",dataSource:E,beforeItems:(0,Ye.useMemo)((()=>[Lgt]),[]),priorityItems:o},{name:"Closed",dataSource:g,priorityItems:l}],D=(0,Ye.useMemo)((()=>{const e={};return b.forEach((t=>{e[t.id]=t})),e[Lgt.id]=Lgt,e}),[b]),L=y&&y.size>0||S&&S.size>0;return m?Ye.createElement(Rae,{ariaLabel:"Filter issues by release",buttonText:"Release",isFilterActive:L,iconComponent:Ye.createElement(nre,null),isDisabled:t,isOpen:r,shortcuts:Pgt,trackShortcutUsed:O,setIsOpen:P},Ye.createElement(ygt,{tabs:A,emptyState:Dgt,filterInputPlaceholder:"Filter releases",hasItemBorder:!0,clearFilter:R,height:ta,hideBeforeItemsIfNoResults:!1,initialSelected:C,itemRenderer:Mgt,customSelectionIconRenderer:xgt,onClose:N,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=zgt(t.filter((e=>!e.negated)).map((e=>e.id)),D),r=zgt(t.filter((e=>e.negated)).map((e=>e.id)),D),i=zgt(n,D),o=y;r.forEach((e=>{y.has(e)&&o.delete(e)}));const a=S;s.forEach((e=>{S.has(e)&&a.delete(e)}));const l=new Set([...o,...s]);i.forEach((e=>{l.delete(e)}));const c=new Set([...a,...r]);i.forEach((e=>{c.delete(e)})),w({in:new Set([...l]),nin:new Set([...c])})},showSearchIcon:!1,title:"Filter by release",width:na})):Ye.createElement(Cae,null)},Ugt=Zae,Bgt="iLoSSFFeu5FlKALEicZd",qgt="YV0kbBQ28bq4_USHn85g",Hgt="wHRDzUDDzvY_BvPrNk8G",Wgt="oICtRISj7huQu7j5wWYZ",jgt=e=>{let{avatarUrl:t,login:n,name:s,negated:r=!1}=e;return Ye.createElement("div",{className:Bgt},Ye.createElement(hae,{url:t}),r?Ye.createElement("div",{className:Wgt},Ye.createElement(Oae,{content:"not: "})):null,Ye.createElement("span",{className:qgt},n,s&&Ye.createElement("span",{className:Hgt},s)))},Ggt={},Kgt=bb.Ps`
  query workspaceAuthors(
    $workspaceId: ID!
    $pageSize: Int
    $repoGhIds: [Int!]
    $after: String
    $query: String
  ) {
    workspace(id: $workspaceId) {
      id
      authors(
        first: $pageSize
        after: $after
        repositoryGhIds: $repoGhIds
        query: $query
      ) {
        nodes {
          ... on User {
            id
            avatarUrl
            login
            name
          }
        }
        pageInfo {
          endCursor
          startCursor
          hasNextPage
        }
      }
    }
  }
`;function Vgt(e){let{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i=""}=e;return function(e){const t={...Ggt,...e};return cy.a(Kgt,t)}({variables:{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i},skip:!r})}const $gt=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),{selectedRepoGhIds:s}=(0,l3.v9)((e=>({selectedRepoGhIds:e.boardV2.filters.repos.value})),Uoe()),r=Vgt({workspaceId:t,pageSize:sa,repoGhIds:s}),i=(0,Ye.useMemo)((()=>({queryResult:r,connectionSelector:e=>e.data?.workspace?.authors||null})),[r]),o=(0,Ye.useCallback)((e=>n.cache.readQuery({query:Mht,variables:{workspaceId:t,authorIds:e,...ia,includeAuthors:!0}})),[t,n]);return{authorsSource:i,getActiveAuthorsFromCache:o}},Zgt=Ye.createElement("span",null,"No authors found"),{shortcuts:Ygt}=E8.BOARD_FILTER_AUTHORS,Jgt=_G.trackShortcutsUsed(E8.BOARD_FILTER_AUTHORS.name),Xgt=(e,t)=>{const n=[...e].reduce(((e,n)=>{const s=t[n];return void 0===s||(yae(s)?e.push(s.id):e.push(s.login.toLowerCase())),e}),[]);return new Set(n)},Qgt=(e,t)=>yae(e)?Ye.createElement(_ae,{showEmptyAvatar:"clear_all"!==e.id,title:e.name,isFixed:e.isFixed}):Ye.createElement(jgt,{avatarUrl:e.avatarUrl,login:e.login,name:e.name,negated:t}),eft=e=>e?Ye.createElement(Iae,null):null,tft=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),{selectedAuthorNamesArrayIn:l,selectedAuthorNamesArrayNin:c,areFiltersLoaded:d}=(0,l3.v9)((e=>({selectedAuthorNamesArrayIn:e.boardV2.filters.authors.in,selectedAuthorNamesArrayNin:e.boardV2.filters.authors.nin,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),Uoe()),[u,p]=(0,Ye.useMemo)((()=>[new Set(l),(l||[]).map((e=>e.toLowerCase()))]),[l]),[m,h]=(0,Ye.useMemo)((()=>[new Set(c),(c||[]).map((e=>e.toLowerCase()))]),[c]),{updateFilterValue:E,clearFilterValue:g}=Tht({selectedItems:{in:u,nin:m},setFilterValueAction:Vr,workspaceId:n,filterKeyIn:xo,filterKeyNin:Wo}),{authorsSource:f,getActiveAuthorsFromCache:_}=$gt({workspaceId:n}),{data:v,refetch:I}=f.queryResult,b=(0,Ye.useMemo)((()=>[...o,...v?.workspace?.authors?.nodes||[]]),[v?.workspace?.authors?.nodes,o]),y=u&&u.size>0||m&&m.size>0,S=(0,Ye.useMemo)((()=>({id:"clear_all",name:"Clear filter",isFixed:!0,isCustomItem:!0,onClick:g})),[g]),w=(0,Ye.useMemo)((()=>b.reduce(((e,t)=>(e.find((e=>e.name===t.login))||!p.includes(t.login.toLowerCase())&&!h.includes(t.login.toLowerCase())||e.push(t),e)),[])),[p,h,b]),R=(0,Ye.useMemo)((()=>{const e=w.map((e=>({id:e.id,negated:m.has(e.login.toLowerCase())})));return e}),[w]),T=(0,Ye.useMemo)((()=>y?[S]:[]),[y,S]),C=(0,Ye.useMemo)((()=>{const e={};return b.forEach((t=>{e[t.id]=t})),e}),[b]),k=(0,Ye.useCallback)((()=>{I({query:""})}),[I]),O=(0,Ye.useCallback)((()=>{s(Jgt)}),[s]),N=(0,Ye.useCallback)((()=>{i(!1),k()}),[i,k]),P=(0,Ye.useCallback)((e=>{if(e){X1("Authors Filter");const e=[...u,...m],t=_(e);a(t?.workspace?.authors?.nodes||[]),i(!0)}else N()}),[N,i,w,a]);return d?Ye.createElement(Rae,{ariaLabel:"Filter issues by author",buttonText:"Author",isFilterActive:y,iconComponent:Ye.createElement(Vfe,null),isOpen:r,isDisabled:t,shortcuts:Ygt,trackShortcutUsed:O,setIsOpen:P},Ye.createElement(Rht,{priorityItems:o,beforeItems:T,dataSource:f,emptyState:Zgt,filterInputPlaceholder:"Filter authors",hasItemBorder:!0,height:ta,initialSelected:R,itemRenderer:Qgt,customSelectionIconRenderer:eft,onClose:N,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=Xgt(t.filter((e=>!e.negated)).map((e=>e.id)),C),r=Xgt(t.filter((e=>e.negated)).map((e=>e.id)),C),i=Xgt(n,C),o=u;r.forEach((e=>{u.has(e)&&o.delete(e)}));const a=m;s.forEach((e=>{m.has(e)&&a.delete(e)}));const l=new Set([...o,...s]);i.forEach((e=>{l.delete(e)}));const c=new Set([...a,...r]);i.forEach((e=>{c.delete(e)})),E({in:new Set([...l].map((e=>e.toLowerCase()))),nin:new Set([...c].map((e=>e.toLowerCase())))})},showSearchIcon:!1,title:"Filter by author",width:na})):Ye.createElement(Cae,null)},nft=Ye.memo(tft);function sft(){return sft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sft.apply(this,arguments)}const rft=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--milestone",t].filter(Boolean).join(" "),"aria-label":"milestone",role:"img",...n};return Ye.createElement("svg",sft({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M3.015 3.813c-.556 0-1.006.449-1.005 1.004l.003 1.221a1.004 1.004 0 001.01 1.005h9.305l1.831-1.565-1.839-1.665H3.015zM7.11 6.155L7.1 4.8h1.2l.008 1.355h-1.2zM7.1 1.1v2h1.2v-2H7.1zm0 13.8h1.2L8.277 8h-1.2l.024 6.9z",fill:"currentColor"})))};function ift(){return ift=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ift.apply(this,arguments)}const oft="425px",aft="320px",lft=e=>{let{layoutClassName:t,beforeItems:n,priorityItems:s,dataSource:r,disabledItemMap:i,emptyState:o,filterInputPlaceholder:a,hasItemBorder:l=!1,height:c=oft,hideBeforeItemsIfNoResults:d=!0,initialSelectedIds:u,priorityItemMatcherKey:p="id",itemRenderer:m,customSelectionIconRenderer:h,onClose:E,onSelectionChange:g,showSearchIcon:f,title:_,width:v=aft}=e;const{isItemSelected:I,toggleItem:b}=Ule({onSelectionChange:g,initialSelectedIds:u}),{fetchMore:y,refetch:S}=r.queryResult,w=(0,Ye.useRef)(null),R=r.connectionSelector(r.queryResult),T=r.queryResult.loading,C=(0,Ye.useCallback)((e=>S({query:e})),[S]),[k,O,N]=Yoe(C),P=(0,Ye.useMemo)((()=>{const e=Joe(p,R?.nodes,k?[]:s,k);if(e.length&&n?.length||n?.length&&!d){const t=k?n.filter((e=>e.isFixed||e.name?.toLocaleLowerCase().includes(O.toLowerCase()))):n;e.unshift(...t)}return e}),[n,R?.nodes,s,d]),A=(0,Ye.useCallback)((e=>{e.onClick?e.onClick():b(e.id)}),[b]),{currentlyHighlightedIndex:D,onKeyDownHighlight:L,resetHighlightAndScrollTop:z,setHighlightIndex:M}=Sre(P,w,A,i),x=(0,Ye.useCallback)((e=>{let{term:t}=e;N(t),z()}),[N,z]),F=e=>(t,n)=>h?h(t,n,e):null;return Ye.createElement(Ere,{className:t,height:c,hasVariableHeight:true,width:v,onClose:E,onKeyDown:L},Ye.createElement(mre,{title:_,onClose:E}),Ye.createElement(Voe,{placeholder:a,onChange:x,showSearchIcon:f}),Ye.createElement(qoe,{items:P,emptyState:o,isLoading:T},(()=>Ye.createElement(_re,{parentHasVariableHeight:true,ref:w,items:P,rowRenderer:e=>{const{index:t}=e,n=P[t],s=t===(P?.length||0)-1;return Ye.createElement(yre,ift({},e,{customSelectionIconRenderer:F(n.id),hasItemBorder:l,isDisabled:!!i&&i[n.id],key:n.id,onClick:()=>A(n),setHighlightIndex:()=>M(t),isHighlighted:D===t,isSelected:I(n.id)}),m(n,t),s?Ye.createElement(Ale,{rootEl:w.current?.virtualizedListEl.current?.children[0],onVisible:()=>{R?.pageInfo.hasNextPage&&y({variables:{after:R?.pageInfo.endCursor}})}}):null)}}))))},cft="G8KKlbzCEkmRYof3I33k",dft="_Io9R5_s0gN2xVDySrPT",uft="FgPtqu4mtXjsqOn1oySV",pft="RNvZIc8VZ0GNX72nBbOs",mft="wNPAk_yiBJ28UKSSUf4I",hft=e=>{let{name:t,dueOn:n,state:s,activeRepoIds:r,milestoneRepo:i}=e;const o=(r||[])?.length>1?Ye.createElement("div",{className:mft},i.name):null;return Ye.createElement("div",{className:cft},Ye.createElement("div",{className:dft},Ye.createElement("span",{"data-cy":"milestone-item"},s===Zi.Closed?Ye.createElement(C$e,{className:pft}):null),t),Ye.createElement("span",{"data-cy":"milestone-due-date",className:uft},$p(n)),o)},Eft={},gft=bb.Ps`
  query workspaceMilestones(
    $workspaceId: ID!
    $pageSize: Int
    $repoGhIds: [Int!]
    $after: String
    $query: String
  ) {
    workspace(id: $workspaceId) {
      id
      milestoneFilterOptions(
        first: $pageSize
        query: $query
        after: $after
        repositoryGhIds: $repoGhIds
      ) {
        totalCount
        pageInfo {
          hasNextPage
          hasPreviousPage
          endCursor
        }
        nodes {
          id
          title
          description
          state
          dueOn
          repository {
            name
          }
        }
      }
    }
  }
`;function fft(e){let{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i=""}=e;return function(e){const t={...Eft,...e};return cy.a(gft,t)}({variables:{workspaceId:t,pageSize:n,after:s,repoGhIds:r,query:i},skip:!r})}const _ft=e=>{let{workspaceId:t}=e;const n=(0,Dae.x)(),{selectedRepoGhIds:s}=(0,l3.v9)((e=>({selectedRepoGhIds:e.boardV2.filters.repos.value})),Uoe()),r=fft({workspaceId:t,pageSize:sa,repoGhIds:s}),i=(0,Ye.useMemo)((()=>({queryResult:r,connectionSelector:e=>e.data?.workspace?.milestoneFilterOptions||null})),[r]),o=(0,Ye.useCallback)((e=>n.cache.readQuery({query:Mht,variables:{workspaceId:t,milestoneTitles:e,...ia,includeMilestones:!0}})),[t,n]);return{milestonesSource:i,getActiveMilestonesFromCache:o}},vft=Ye.createElement("span",null,"No milestones found"),{shortcuts:Ift}=E8.BOARD_FILTER_MILESTONES,bft=_G.trackShortcutsUsed(E8.BOARD_FILTER_MILESTONES.name),yft={id:"none",name:"Issues with no milestones",isCustomItem:!0},Sft=(e,t)=>{const n=[...e].reduce(((e,n)=>{const s=t[n];return void 0===s||(yae(s)?e.push(s.id):e.push(s.title)),e}),[]);return new Set(n)},wft=e=>e?Ye.createElement(Iae,null):null,Rft=e=>{let{isLocked:t,workspaceId:n}=e;const s=(0,l3.I0)(),[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)([]),{selectedFilterValuesArray:l,areFiltersLoaded:c,selectedRepoGhIds:d}=(0,l3.v9)((e=>({selectedFilterValuesArray:e.boardV2.filters.milestones.value,areFiltersLoaded:!e.boardV2.filters.repos.isLoading,selectedRepoGhIds:e.boardV2.filters.repos.value})),Uoe()),u=(0,Ye.useCallback)((e=>yae(e)?Ye.createElement(_ae,{title:e.name,isFixed:e.isFixed}):Ye.createElement(hft,{name:e.title,dueOn:e.dueOn,milestoneRepo:e.repository,activeRepoIds:d})),[d]),p=(0,Ye.useMemo)((()=>new Set(l)),[l]),{updateFilterValue:m,clearFilterValue:h}=fle({selectedItems:p,setFilterValueAction:Gr,workspaceId:n,filterKey:Mo}),{milestonesSource:E,getActiveMilestonesFromCache:g}=_ft({workspaceId:n}),{data:f,refetch:_}=E.queryResult,v=(0,Ye.useMemo)((()=>[...o,...f?.workspace?.milestoneFilterOptions?.nodes||[]]),[f?.workspace?.milestoneFilterOptions?.nodes,o]),I=p&&p.size>0,b=(0,Ye.useMemo)((()=>({id:"clear_all",name:"Clear filter",isFixed:!0,isCustomItem:!0,onClick:h})),[h]),y=(0,Ye.useMemo)((()=>v.reduce(((e,t)=>(l?.includes(t.title)&&e.push(t),e)),[])),[p,v]),S=(0,Ye.useMemo)((()=>{const e=y.map((e=>e.id));return l?.includes(yft.id)&&e.push(yft.id),e}),[y]),w=(0,Ye.useMemo)((()=>I?[b,yft]:[yft]),[I,b]),R=(0,Ye.useMemo)((()=>{const e={};return v.forEach((t=>{e[t.id]=t})),e[yft.id]=yft,e}),[v]),T=(0,Ye.useCallback)((()=>{_({query:""})}),[_]),C=(0,Ye.useCallback)((()=>{s(bft)}),[s]),k=(0,Ye.useCallback)((()=>{i(!1),T()}),[i,T]),O=(0,Ye.useCallback)((e=>{if(e){X1("Milestones Filter");const e=[...p]?.filter((e=>e!==yft.id)),t=g(e);a(t?.workspace?.milestoneFilterOptions?.nodes||[]),i(!0)}else k()}),[k,i,y,a]);return c?Ye.createElement(Rae,{ariaLabel:"Filter issues by milestone",buttonText:"Milestone",isFilterActive:I,iconComponent:Ye.createElement(rft,null),isOpen:r,isDisabled:t,shortcuts:Ift,trackShortcutUsed:C,setIsOpen:O},Ye.createElement(lft,{priorityItems:o,beforeItems:w,dataSource:E,emptyState:vft,filterInputPlaceholder:"Filter milestones",hasItemBorder:!0,height:ta,initialSelectedIds:S,itemRenderer:u,customSelectionIconRenderer:wft,onClose:k,onSelectionChange:e=>{const{changedToSelected:t,changedToUnselected:n}=e,s=Sft(t,R),r=Sft(n,R),i=new Set([...p,...s]);r.forEach((e=>{i.delete(e)})),m(new Set([...i]))},showSearchIcon:!1,title:"Filter by milestone",width:na})):Ye.createElement(Cae,null)},Tft=Ye.memo(Rft),Cft="bbMLrAYLxtHr6zWpWLNF",kft=e=>{let{isLocked:t,workspaceId:n}=e;return Ye.createElement(bht,null,Ye.createElement("div",{className:Cft},Ye.createElement($Et,{isLocked:t,workspaceId:n}),Ye.createElement(AEt,{isLocked:t,workspaceId:n}),Ye.createElement(_gt,{isLocked:t,workspaceId:n}),Ye.createElement(Zht,{isLocked:t,workspaceId:n}),Ye.createElement(k7,{fallbackRender:()=>Ye.createElement(EEt,{isLocked:t,workspaceId:n}),name:"workspaces-platform-epics"}),Ye.createElement(Fgt,{isLocked:t,workspaceId:n}),Ye.createElement(Ugt,{isLocked:t,workspaceId:n}),Ye.createElement(nft,{isLocked:t,workspaceId:n}),Ye.createElement(k7,{name:"workspaces-board-v2-milestones"},Ye.createElement(Tft,{isLocked:t,workspaceId:n}))))},Oft=kft,Nft="vjYsNZOu_RNSvtx79XVz",Pft="PuUdoEY2qxq0eLt4XeFe",Aft="Bm2zjF9WywZoVBk9X6ov",Dft="py_b_2_IjIyVZRD3yyVa",Lft="LlRa07AXHX_eZn14FmjQ",zft="d2NleRXzBOF8bKVRRA4w";class Mft extends Ye.Component{constructor(e){super(e),this.searchInputRef=void 0,this.sendSearch=void 0;const{searchValue:t}=e;this.state={isActive:Boolean(t),lastSearch:t,searchTerm:t},this.searchInputRef=Ye.createRef(),this.sendSearch=void 0,this.clearSearch=this.clearSearch.bind(this),this.debounceSearch=this.debounceSearch.bind(this),this.handleParentBlur=this.handleParentBlur.bind(this),this.makeActive=this.makeActive.bind(this),this.makeInactive=this.makeInactive.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.focusViaKey=this.focusViaKey.bind(this),this.clearSearchKeyPress=this.clearSearchKeyPress.bind(this)}componentDidMount(){const{shortcuts:e}=this.props;e&&m8(e,this.focusViaKey,"keypress")}UNSAFE_componentWillReceiveProps(e){const{searchValue:t}=this.props;e.searchValue!==t&&(this.setState({isActive:Boolean(e.searchValue),lastSearch:e.searchValue,searchTerm:e.searchValue}),this.searchInputRef.current&&(this.searchInputRef.current.value=e.searchValue||""))}componentWillUnmount(){const{shortcuts:e}=this.props;e&&h8(e,"keypress")}handleKeyUp(e){"Escape"===e.key&&(e.stopPropagation(),this.searchInputRef.current?.blur())}handleParentBlur(e){const{relatedTarget:t}=e;!t&&t?.parentNode?.className?.includes(Nft)||this.makeInactive()}debounceSearch(e){const{onSearch:t}=this.props,n=e.target?.value;this.setState({lastSearch:n}),this.sendSearch&&clearInterval(this.sendSearch),this.sendSearch=setTimeout((()=>{this.sendSearch&&clearInterval(this.sendSearch),this.inputHasChanged()&&(this.setState({searchTerm:n}),t(n))}),bme.searchDebounceTime)}focusViaKey(e){const{onShortcutsUsed:t}=this.props;document.body.className.includes("zhu-modal-open")||(e?.preventDefault(),this.makeActive(),t?.())}clearSearch(){const{clearSearchFilter:e}=this.props;this.setState({lastSearch:""},(()=>{this.searchInputRef.current.value="",this.searchInputRef.current?.focus(),this.inputHasChanged()&&e?.()}))}clearSearchKeyPress(e){e.preventDefault(),e.stopPropagation(),"Enter"===e.key&&this.clearSearch()}inputHasChanged(){const{lastSearch:e,searchTerm:t}=this.state;return(e?.trim()||"")!==t}makeActive(){const{isActive:e}=this.state;e||this.setState({isActive:!0}),this.searchInputRef.current?.focus()}makeInactive(){const{isActive:e,searchTerm:t}=this.state;e&&!t&&this.setState({isActive:!1}),this.searchInputRef.current?.blur()}render(){const{isActive:e,lastSearch:t}=this.state,{searchValue:n,style:s,isLoading:r,isDisabled:i}=this.props;let o;e&&t&&(o=Ye.createElement("span",{className:Lft,"data-testid":"Clear Search",tabIndex:0,onKeyPress:this.clearSearchKeyPress,onClick:this.clearSearch},Ye.createElement(n5,null)));const a=(0,_I.default)(Nft,{[Aft]:e});return Ye.createElement("div",{className:a,style:s,onBlur:this.handleParentBlur},Ye.createElement(Woe,{className:Pft}),Ye.createElement("input",{type:"text",name:"search_issue","data-cy":"search-issue",disabled:i,ref:this.searchInputRef,className:Dft,placeholder:"Find issues (f+i)",onFocus:this.makeActive,onChange:this.debounceSearch,defaultValue:n,onKeyUp:this.handleKeyUp}),r?Ye.createElement(F5,{radius:12,stroke:2,modifiers:["no-outline"],className:zft}):o)}}Mft.defaultProps={clearSearchFilter:()=>{},isDisabled:!1,isLoading:!1,shortcuts:[],searchValue:"",style:void 0,onShortcutsUsed:()=>{}};const xft=Mft,Fft="P17ff5OR5yzzn64uKqlv",Uft="AR3qgTDbfIkh2LbTN54b",Bft=_G.trackShortcutsUsed(E8.BOARD_SEARCH.name),qft=e=>{let{isLocked:t}=e;const n=(0,l3.I0)(),{search:s,areFiltersLoaded:r}=(0,l3.v9)((e=>({search:e.boardV2.filters.search,areFiltersLoaded:!e.boardV2.filters.repos.isLoading})),l3.wU);return r?Ye.createElement("div",{className:Fft},Ye.createElement(xft,{isDisabled:t,searchValue:s,shortcuts:E8.BOARD_SEARCH.shortcuts,onSearch:e=>{n(zr(e))},clearSearchFilter:()=>{n(Mr())},onShortcutsUsed:()=>{n(Bft)}})):Ye.createElement("div",{className:Fft},Ye.createElement(Cae,{className:Uft}))},Hft=qft;function Wft(){return Wft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wft.apply(this,arguments)}const jft=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--reviewers",t].filter(Boolean).join(" "),"aria-label":"reviewers",role:"img",...n};return Ye.createElement("svg",Wft({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.667 5.333a3.333 3.333 0 106.666 0 3.333 3.333 0 00-6.666 0zm5.333 0a2 2 0 11-4 0 2 2 0 014 0zm-6.17 6.37a3.174 3.174 0 00-.497 1.63.667.667 0 11-1.333 0c0-.537.148-1.51.72-2.37.6-.9 1.638-1.63 3.28-1.63h4.333a.667.667 0 010 1.334H6c-1.179 0-1.808.492-2.17 1.036zm4.365-.174c.26-.26.683-.26.943 0l.862.861 2.862-2.861a.667.667 0 01.943.942l-3.334 3.334a.667.667 0 01-.942 0L8.195 12.47a.667.667 0 010-.942z",fill:"currentColor"}))};function Gft(){return Gft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gft.apply(this,arguments)}const Kft=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--toggle-settings",t].filter(Boolean).join(" "),"aria-label":"toggle-settings",role:"img",...n};return Ye.createElement("svg",Gft({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 17"},s),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.666 1.833H4.333a2.333 2.333 0 000 4.667h7.333a2.333 2.333 0 100-4.667zM4.333.5a3.667 3.667 0 000 7.333h7.333a3.667 3.667 0 000-7.333H4.333z",fill:"currentColor"}),Ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.167a2.333 2.333 0 104.667 0 2.333 2.333 0 00-4.667 0zM4.333.5a3.667 3.667 0 100 7.333 3.667 3.667 0 000-7.333zm0 8.667a3.667 3.667 0 000 7.333h7.333a3.667 3.667 0 100-7.333H4.333zm7.333 1.333a2.333 2.333 0 100 4.667 2.333 2.333 0 000-4.667z",fill:"currentColor"}))};function Vft(){return Vft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vft.apply(this,arguments)}const $ft=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--compress",t].filter(Boolean).join(" "),"aria-label":"compress",role:"img",...n};return Ye.createElement("svg",Vft({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},s),Ye.createElement("path",{d:"M15 9V4a1 1 0 1 0-2 0v6a1 1 0 0 0 1 1h6a1 1 0 1 0 0-2h-5ZM9 20a1 1 0 1 0 2 0v-6a1 1 0 0 0-1-1H4a1 1 0 1 0 0 2h5v5Z",fill:"currentColor"}),Ye.createElement("path",{d:"m14.707 10.707 7-7a1 1 0 0 0-1.414-1.414l-7 7a1 1 0 0 0 1.414 1.414Zm-5.414 2.586-7 7a1 1 0 1 0 1.414 1.414l7-7a1 1 0 0 0-1.414-1.414Z",fill:"currentColor"}))},Zft=Ure,Yft=e=>{const t=(0,l3.I0)(),n=(0,l3.v9)((e=>e.boardV2.settings.isFullScreen));return{isFullScreen:n,showFullScreen:(0,Ye.useCallback)((()=>{t(mi(!0)),e?.()}),[t,mi]),hideFullScreen:(0,Ye.useCallback)((()=>{t(mi(!1)),e?.()}),[t,mi])}},Jft="QkXKCq5VkSWF1u95ACog",Xft="asSlXRuB1nwUN07YhHod",Qft=e=>{let{isFullScreen:t,hideFullScreen:n,showFullScreen:s}=e;return Ye.createElement("button",{className:Jft,"data-zh-flyover":"close",onClick:t?n:s,type:"button"},Ye.createElement("span",{className:Xft},Ye.createElement("span",null,t?"Exit fullscreen":"Expand to fullscreen"),Ye.createElement(Zft,{shortcuts:["shift","f"]})))},e_t=e=>{let{closeBoardSettings:t}=e;const{isFullScreen:n,hideFullScreen:s,showFullScreen:r}=Yft(t);return Ye.createElement(Qft,{isFullScreen:n,hideFullScreen:s,showFullScreen:r})},t_t=e_t,n_t="pkXu6rr2REE2SYpVCSVF",s_t="AlPYzFdWGPHXt4QNskgA",r_t="PGa4tWKy5B65doFrz26O",i_t="eD08Sn0PZjcNE3lIx0UP",o_t="d6ZpDO6QHhCpW75eBEGK";function a_t(){return a_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a_t.apply(this,arguments)}const l_t=pAe((e=>{let{isActive:t,disabled:n,label:s,iconComponent:r,lockedTooltipMessage:i}=e;return Ye.createElement("div",{className:n_t,"data-cy":"settings-item"},Ye.createElement("div",{className:r_t},r),Ye.createElement("div",{className:i_t,"data-cy":"item-label"},s),n?Ye.createElement("div",{className:r_t},Ye.createElement(YI,{content:i,position:jI.TOP},Ye.createElement(Xse,null))):null,Ye.createElement("div",{className:o_t,"data-cy":"item-checkbox"},Ye.createElement(use,{isActive:t,disabled:n})))})),c_t=e=>Ye.createElement(l_t,a_t({},e,{className:s_t,enableFocusStyles:!0}));function d_t(){return d_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},d_t.apply(this,arguments)}const u_t=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--star-outline",t].filter(Boolean).join(" "),"aria-label":"star-outline",role:"img",...n};return Ye.createElement("svg",d_t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 12"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M-1-2h16v16H-1z"}),Ye.createElement("path",{d:"M10.387 10.047c.177.526-.048.694-.502.377L7 8.403l-2.885 2.02c-.455.319-.682.159-.502-.376l1.095-3.249-2.885-2.02c-.455-.318-.367-.576.172-.576h3.589L6.679.953c.177-.526.462-.535.642 0l1.095 3.249h3.59c.549 0 .625.258.171.576l-2.885 2.02 1.095 3.249z",stroke:"currentColor",strokeWidth:1.2})))},p_t="EUQcEWytwio3nJp3OCIa",m_t="jUChfc5WnvPLQWQ6Ggq7",h_t="g4Og1YABAvMuD9BBtfVA",E_t="eIUHcGxdFbx9h3PfGAbH",g_t="MnLFh78wMUZgfuD8jPWn",f_t="pRJ0ji76t2V5EJqe4ekH",__t="E5iYaXl9toTzwNabTdqq",v_t="nkO_qYMoYizByUseyhn9",I_t="JkjSFefSozK2eY2aMvND",b_t="v4Fsj63dGYDxIFOWfF0l",y_t="https://portal.productboard.com/zenhub/1-zenhub-s-roadmap/c/111-feedback-for-zenhub-s-new-board",S_t=()=>{const{isBoardV2Active:e,setIsBoardV2Active:t,setHasOptOut:n}=OTe(),s=()=>{r6("Board 2.0 Opt-In Flow",{Action:"Opt-in"}),t(!0)},r=()=>{r6("Board 2.0 Opt-In Flow",{Action:"Opt-out"}),t(!1),n(!0)},i=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=document.createElement("a");n.href=t,n.setAttribute("target","_blank"),n.setAttribute("rel","noopener noreferrer"),document.body.appendChild(n),n.click(),n.remove()},o=e=>i(e,y_t),a=(0,_I.default)(p_t,{[m_t]:!e}),l=(0,_I.default)(E_t,{[g_t]:!e});return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{role:"button",tabIndex:0,"data-testid":"item-checkbox",onKeyDown:t=>{if("Enter"===t.code||"Space"===t.code){t.preventDefault();return"opt-in-give-feedback-link"===t.target.id?o(t):e?r():s()}return null},onClick:e?r:s,className:a},Ye.createElement("div",{className:h_t,"data-testid":"board-v2-setting-item"},Ye.createElement("div",{className:f_t,"data-testid":"board-v2-setting-item-label"},"Try our new ZenHub Board 2.0"),Ye.createElement("div",{className:__t},Ye.createElement(use,{isActive:e}))),Ye.createElement("div",{className:l},e?Ye.createElement("a",{"data-testid":"opt-in-give-feedback-link",href:y_t,target:"_blank",onClick:o,rel:"noopener noreferrer",id:"opt-in-give-feedback-link"},"Give feedback"):Ye.createElement(bie,{modifiers:["brand"],className:I_t},Ye.createElement(u_t,null),Ye.createElement("a",{href:To,target:"_blank",className:b_t,rel:"noopener noreferrer",onClick:e=>i(e,To)},"Check out the new updates on ZenHub Board 2.0")))),!e&&Ye.createElement("hr",{className:v_t}))},w_t={buttonDefault:"bxTGwqvfsDbrekm0lFZI",button_primary:"N6I6ezbttlqHXEneR7k2",buttonSelected_primary:"z_IRX79GTWxuqdrq1j4n",button_secondary:"FSst2tKDK931jmhLJ0qP",buttonSelected_secondary:"oFk_T1CYf9mYWkFqwlRQ"};function R_t(){return R_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R_t.apply(this,arguments)}const T_t=e=>{let{children:t=null,isSelected:n=!1,variant:s="primary",className:r,...i}=e;return Ye.createElement("button",R_t({type:"button",className:(0,_I.default)(w_t.buttonDefault,w_t[`button_${s}`],n&&w_t[`buttonSelected_${s}`],r)},i),t)},C_t="w56XoVOW10yMmG0F6X4w",k_t="eRsSP0qSA11Ln6fyDjFu",O_t="jMC9LYNL455QOTBCffPi",N_t="LqoF1r97jx0vrAGo6IQ2",P_t="J5lnxsd9SD2l4CbftT74",A_t="CQYrhCxUEou9pu6NV53w",D_t="vak_Cg_08nJmk7I5sibA",L_t="cK3lqUJSMuNoIXMzbNAm",z_t="KFjEJgWOjt4OsQE8y9dd",M_t="QySrSJY9T8TgYdkrXU2N",x_t="YDkSDGT8gKXAl5HYGpbZ",F_t="CsB9qbE696TXQ1vgEHlf",U_t=()=>{const e=(0,Ye.useRef)(null),t=(0,Ye.useRef)(null),[n,s]=(0,Ye.useState)(!1),r=T7({name:"workspaces-board-v2-exclusive"}),i=(0,$8.TH)(),o=(0,$8.k6)(),a=(0,l3.I0)(),l=(0,Ye.useCallback)((()=>{X1("Board Settings Clicked");const t=!n;t&&e.current&&e.current.focus(),s(t)}),[s,n]),c=(0,Ye.useCallback)((()=>{s(!1)}),[s]),{isCondensedViewEnabled:d,showLabels:u,showClosedPipeline:p,showOpenIssues:m,showPullRequests:h,showReviewers:E,showRepos:g,showDependencies:f,showReleases:_,showEstimates:v,showSprints:I,showEpics:b}=(0,l3.v9)((e=>({isCondensedViewEnabled:e.boardV2.settings.isCondensedViewEnabled,showLabels:e.boardV2.settings.showLabels,showClosedPipeline:e.boardV2.settings.showClosedPipeline,showOpenIssues:e.boardV2.settings.showOpenIssues,showPullRequests:e.boardV2.settings.showPullRequests,showReviewers:e.boardV2.settings.showReviewers,showDependencies:e.boardV2.settings.showDependencies,showReleases:e.boardV2.settings.showReleases,showEstimates:e.boardV2.settings.showEstimates,showSprints:e.boardV2.settings.showSprints,showEpics:e.boardV2.settings.showEpics,showRepos:e.boardV2.settings.showRepos})),l3.wU),y=(0,Ye.useCallback)((e=>{const t=(e=>Jo[e])(e),{[t]:n,...s}=zoe.parse(i.search);o.replace({search:zoe.stringify(s)})}),[o,i.search]),S=(0,Ye.useCallback)((e=>()=>{switch(e){case"isCondensedViewEnabled":a(ti(!d));break;case"showClosedPipeline":a(ni(!p));break;case"showDependencies":a(ii(!f));break;case"showEstimates":a(di(!v));break;case"showLabels":a(si(!u));break;case"showOpenIssues":a(li(!m));break;case"showPullRequests":a(ai(!h));break;case"showReleases":a(ci(!_));break;case"showRepos":a(pi(!g));break;case"showReviewers":a(ri(!E));break;case"showSprints":a(oi(!I));break;case"showEpics":a(ui(!b))}y(e)}),[d,p,m,u,_,g,E,f,I,v,b,h,a,y]);MLe({onEscape:()=>{s(!1)},target:t.current});const w=Ye.createElement(T_t,{variant:"secondary",isSelected:u,className:L_t,key:"toggle-labels",onClick:S("showLabels")},Ye.createElement(Odt,{className:z_t}),"Labels"),R=Ye.createElement(T_t,{variant:"secondary",isSelected:!d&&_,className:L_t,key:"toggle-releases",onClick:S("showReleases"),disabled:d},Ye.createElement(nre,{className:z_t}),"Releases"),T=Ye.createElement(T_t,{variant:"secondary",isSelected:!d&&g,className:L_t,key:"toggle-repos",onClick:S("showRepos"),disabled:d},Ye.createElement(JCe,{className:z_t}),"Repos"),C=Ye.createElement(T_t,{variant:"secondary",isSelected:!d&&E,className:L_t,key:"toggle-reviewers",onClick:S("showReviewers"),disabled:d},Ye.createElement(jft,{className:z_t}),"PR reviewers"),k=Ye.createElement(T_t,{variant:"secondary",isSelected:f,className:L_t,key:"toggle-dependencies",onClick:S("showDependencies")},Ye.createElement(i5,{className:z_t}),"Dependencies"),O=Ye.createElement(T_t,{variant:"secondary",isSelected:!d&&I,className:L_t,key:"toggle-sprints",onClick:S("showSprints"),disabled:d},Ye.createElement(PBe,{className:z_t}),"Sprints"),N=Ye.createElement(T_t,{variant:"secondary",isSelected:v,className:L_t,key:"toggle-estimates",onClick:S("showEstimates")},Ye.createElement(xoe,{className:z_t}),"Estimates"),P=Ye.createElement(T_t,{variant:"secondary",isSelected:!d&&b,className:L_t,key:"toggle-epics",onClick:S("showEpics"),disabled:d},Ye.createElement(OMe,{className:z_t}),"Epics");return Ye.createElement("div",{className:C_t,ref:t},Ye.createElement(YI,{content:"View board settings",removeTooltipOnClick:!0},Ye.createElement(H5,{ariaLabel:"Toggle board settings",variant:z5.TEXT,color:L5.PRIMARY,ref:e,"data-cy":"item-action",onClick:l},Ye.createElement(Kft,null))),n&&Ye.createElement(ine,{additionalNodeClassNames:x_t},Ye.createElement(h4,{anchorElement:e?.current,onOverlayClick:l,offset:4,skidding:1,placement:"bottom-end",className:F_t,overlayClassname:M_t},Ye.createElement("div",{className:k_t,role:"menu","aria-label":"Board settings"},r?null:Ye.createElement(Ye.Fragment,null,Ye.createElement(S_t,null),Ye.createElement("div",{className:O_t})),F?Ye.createElement("div",null,Ye.createElement(t_t,{closeBoardSettings:c}),Ye.createElement("div",{className:O_t})):null,Ye.createElement("h5",{className:N_t},"View options"),Ye.createElement(c_t,{isActive:d,onChange:S("isCondensedViewEnabled"),label:"Condensed view",iconComponent:Ye.createElement($ft,null)}),Ye.createElement(c_t,{isActive:h,disabled:!m,onChange:S("showPullRequests"),lockedTooltipMessage:"Locked when open issues are turned off",label:"Pull Requests",iconComponent:Ye.createElement(m9,null)}),Ye.createElement(c_t,{isActive:m,disabled:!h,onChange:S("showOpenIssues"),label:"Open Issues",lockedTooltipMessage:"Locked when pull requests are turned off",iconComponent:Ye.createElement(E9,null)}),Ye.createElement(c_t,{isActive:p,onChange:S("showClosedPipeline"),label:"Closed pipeline",iconComponent:Ye.createElement(mKe,null)}),Ye.createElement("div",{className:O_t}),Ye.createElement("h5",{className:N_t},"Show on issue cards"),Ye.createElement("div",{className:A_t,"data-testid":"all-options"},d?null:T,w,d?null:O,d?null:P,d?null:R,N,d?null:C,k),d?Ye.createElement("div",null,Ye.createElement("h5",{className:(0,_I.default)(N_t,P_t)},"Condensed view will hide certain data from tickets on the board"),Ye.createElement("div",{className:(0,_I.default)(A_t,D_t),"data-testid":"condensed-view-options"},T,O,P,R,C)):null))))};function B_t(){return B_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},B_t.apply(this,arguments)}const q_t=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--plus-white",t].filter(Boolean).join(" "),"aria-label":"plus-white",role:"img",...n};return Ye.createElement("svg",B_t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M7.5 3v10a.7.7 0 001.4 0V3a.7.7 0 00-1.4 0z",fill:"currentColor",fillRule:"nonzero"}),Ye.createElement("path",{d:"M13 7.3H3a.7.7 0 000 1.4h10a.7.7 0 000-1.4z",fill:"currentColor",fillRule:"nonzero"})))},H_t="lB87MQtCKuBVrR2yWHNo",W_t="_iW8lzWEyMd8WGrr1gFQ",j_t="Wwc5Vdu5mbw0mUWto1vd",{board:G_t,milestoneBuilder:K_t,releaseBuilder:V_t}=LG,$_t=e=>{let{isLocked:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)(Na),r=(0,l3.v9)(Lre),{openModal:i}=iie(),o=$at(),{data:a}=cre(),l=!(wi(a?.workspace?.sprintConfig)||Si(a?.workspace?.sprintConfig)),c=yMe(!1);return Ye.createElement("div",{className:(0,_I.default)(H_t,"zhc-onboarding-highlight-new-issue")},Ye.createElement(H5,{disabled:t,className:W_t,color:L5.ACTION,width:D5.NARROW,onClick:e=>{o(Hx.ISSUE,e),X1("New Issue"),n(G_t.trackOpenNewIssue)},dataTestId:"new-issue"},"New issue"),Ye.createElement(Hre,{button:Ye.createElement(H5,{disabled:t,className:(0,_I.default)(j_t,"zhc-onboarding-highlight-new-plus"),color:L5.ACTION,width:D5.NARROW,dataTestId:"new-issue-plus",ariaLabel:"Create more",onClick:()=>{n(G_t.openCreateMenu)}},Ye.createElement(q_t,null)),onClickIssueItem:e=>{o(Hx.ISSUE,e),n(G_t.trackMenuOpenNewIssue)},onClickEpicIssueItem:r?e=>{c("new",e)}:e=>{o(Hx.EPIC,e),n(G_t.trackMenuOpenNewEpic)},onClickMilestoneItem:()=>{n(G_t.openBoardItem()),n(K_t.openCreateMilestoneForm()),n(G_t.trackOpenMilestoneModal())},onClickPipelineItem:()=>{n(G_t.openBoardItem()),n(Or(!0)),n(G_t.trackOpenCreatePipelineForm())},onClickReleaseItem:()=>{(e=>{n(G_t.openBoardItem()),n(V_t.openCreateReleaseForm(e)),n(G_t.trackOpenReleaseModal())})(s)},onClickSprintItem:()=>{J1("Create Menu - Board",{Feature:"Sprint",Action:l?"Edit":"Create"}),i()}}))},Z_t="GpDmYsPLsA07pVFSdr85",Y_t="mxWfrenFY6HEW5HLRy9I",J_t="hvcJ0Jiz7_Za_gVtRV4k",X_t="VHrN6mtqsHUUoRGUWx0J",Q_t=(e,t,n)=>{const s=e.map((e=>({type:Evt.ASSIGNEE,title:e.login,sortingIdentifier:e.login.toLowerCase(),isNegated:n?.includes(e.login.toLowerCase())})));return t&&s.push({type:Evt.ASSIGNEE,title:jht.name,sortingIdentifier:jht.id,isNegated:n?.includes(jht.name.toLowerCase())}),s},evt=e=>{let{workspaceId:t,selectedAssigneesArrayIn:n,selectedAssigneesArrayNin:s}=e;const r=(0,Ye.useMemo)((()=>new Set(n)),[n]),i=(0,Ye.useMemo)((()=>new Set(s)),[s]),{updateFilterValue:o,clearFilterValue:a}=Tht({selectedItems:{in:r,nin:i},setFilterValueAction:Br,workspaceId:t,filterKeyIn:No,filterKeyNin:Ho});return{removeAssignee:function(e){const t=new Set(n||[]),r=new Set(s||[]);t.has(e)&&t.delete(e),r.has(e)&&r.delete(e),o({in:t,nin:r})},clearAssigneeFilter:a}},tvt=(e,t)=>{const n=e.map((e=>({type:Evt.AUTHOR,title:e.login,sortingIdentifier:e.login.toLowerCase(),isNegated:t?.includes(e.login.toLowerCase())})));return n},nvt=e=>{let{workspaceId:t,selectedAuthorsArrayIn:n,selectedAuthorsArrayNin:s}=e;const r=(0,Ye.useMemo)((()=>new Set(n)),[n]),i=(0,Ye.useMemo)((()=>new Set(s)),[s]),{updateFilterValue:o,clearFilterValue:a}=Tht({selectedItems:{in:r,nin:i},setFilterValueAction:Vr,workspaceId:t,filterKeyIn:xo,filterKeyNin:Wo});return{removeAuthor:function(e){const t=new Set(n||[]),r=new Set(s||[]);t.has(e)&&t.delete(e),r.has(e)&&r.delete(e),o({in:t,nin:r})},clearAuthorFilter:a}},svt=(e,t,n)=>{const s=e.map((e=>({type:Evt.EPIC,title:e.issue.title,sortingIdentifier:e.id,isNegated:n?.includes(e.id)}))),r=[];return t.forEach((e=>{const t=(e=>{const t=[aEt,lEt,cEt,dEt],n=t.length;for(let s=0;s<n;s+=1)if(t[s].id===e)return t[s];return null})(e);t&&r.push({type:Evt.EPIC_SETTING,title:t.shortname||t.name,sortingIdentifier:e})})),[...s,...r]},rvt=e=>{let{workspaceId:t,selectedEpicIdsArrayIn:n,selectedEpicIdsArrayNin:s,selectedEpicSettingsArray:r}=e;const i=(0,Ye.useMemo)((()=>new Set(r)),[r]),{updateFilterValue:o,clearFilterValue:a}=yut({workspaceId:t});return{removeEpic:function(e,t){const a=new Set(n||[]),l=new Set(s||[]);if(t===Evt.EPIC)a.has(e)&&a.delete(e),l.has(e)&&l.delete(e),o({epicIds:{in:a,nin:l},epicSettings:i});else if(t===Evt.EPIC_SETTING){const t=new Set(r||[]);t.has(e)&&t.delete(e),o({epicIds:{in:a,nin:l},epicSettings:t})}},clearEpicFilter:a}},ivt=(e,t,n)=>{const s=e.map((e=>({type:Evt.LABEL,title:e.name,sortingIdentifier:e.name.toLowerCase(),isNegated:n?.includes(e.name.toLowerCase())})));return t&&s.push({type:Evt.LABEL,title:CEt.name,sortingIdentifier:CEt.id,isNegated:n?.includes(CEt.name.toLowerCase())}),s},ovt=e=>{let{workspaceId:t,selectedLabelNamesArrayIn:n,selectedLabelNamesArrayNin:s}=e;const r=(0,Ye.useMemo)((()=>new Set(n)),[n]),i=(0,Ye.useMemo)((()=>new Set(s)),[s]),{updateFilterValue:o,clearFilterValue:a}=Tht({selectedItems:{in:r,nin:i},setFilterValueAction:Ur,workspaceId:t,filterKeyIn:Oo,filterKeyNin:Bo});return{removeLabel:e=>{const t=new Set(n||[]),r=new Set(s||[]);t.has(e)&&t.delete(e),r.has(e)&&r.delete(e),o({in:t,nin:r})},clearLabelFilter:a}},avt=(e,t)=>{const n=e.map((e=>({type:Evt.SPRINT,title:e.name||"",sortingIdentifier:e.id})));return t&&n.push({type:Evt.SPRINT,title:hgt.name,sortingIdentifier:hgt.id}),n},lvt=e=>{let{workspaceId:t,selectedSprintIdsArray:n}=e;const s=(0,Ye.useMemo)((()=>new Set(n)),[n]),{updateFilterValue:r,clearFilterValue:i}=fle({selectedItems:s,setFilterValueAction:Wr,workspaceId:t,filterKey:Ao});return{removeSprint:function(e){const t=new Set(n||[]);t.has(e)&&t.delete(e),r(t)},clearSprintFilter:i}},cvt=(e,t,n)=>{const s=e.map((e=>({type:Evt.RELEASE,title:e.title||"",sortingIdentifier:e.id,isNegated:n?.includes(e.id)})));return t&&s.push({type:Evt.RELEASE,title:Lgt.name,sortingIdentifier:Lgt.id,isNegated:n?.includes(Lgt.id)}),s},dvt=e=>{let{workspaceId:t,selectedReleaseIdsArrayIn:n,selectedReleaseIdsArrayNin:s}=e;const r=(0,Ye.useMemo)((()=>new Set(n)),[n]),i=(0,Ye.useMemo)((()=>new Set(s)),[s]),{updateFilterValue:o,clearFilterValue:a}=Tht({selectedItems:{in:r,nin:i},setFilterValueAction:qr,workspaceId:t,filterKeyIn:zo,filterKeyNin:qo});return{removeRelease:e=>{const t=new Set(n),r=new Set(s);t.has(e)&&t.delete(e),r.has(e)&&r.delete(e),o({in:t,nin:r})},clearReleaseFilter:a}},uvt=(e,t)=>{const n=e.map((e=>({type:Evt.MILESTONE,title:e.title,sortingIdentifier:e.title.toLowerCase()})));return t&&n.push({type:Evt.MILESTONE,title:yft.name,sortingIdentifier:yft.id}),n},pvt=e=>{let{workspaceId:t,selectedMilestonesArray:n}=e;const s=(0,Ye.useMemo)((()=>new Set(n)),[n]),{updateFilterValue:r,clearFilterValue:i}=fle({selectedItems:s,setFilterValueAction:Gr,workspaceId:t,filterKey:Mo});return{removeMilestone:e=>{const t=new Set(n||[]);t.has(e)&&t.delete(e),r(t)},clearMilestoneFilter:i}},mvt=(e,t,n)=>{let s=e.map((e=>({type:Evt.ESTIMATE,title:e,sortingIdentifier:e,isNegated:!1})));t?.length&&(s=[...s,...t.map((e=>({type:Evt.ESTIMATE,title:e,sortingIdentifier:e,isNegated:!0})))]);const r=s.findIndex((e=>e.title===Hae.id));return r>=0&&(s=ki(r,s),s.push({type:Evt.ESTIMATE,title:Hae.name,sortingIdentifier:Hae.id,isNegated:t?.includes(Hae.name.toLowerCase())})),n.includes(Wae.id)&&s.push({type:Evt.ESTIMATE_SETTING,title:Wae.name,sortingIdentifier:Wae.id,isNegated:t?.includes(Wae.name.toLowerCase())}),n.includes(jae.id)&&s.push({type:Evt.ESTIMATE_SETTING,title:jae.name,sortingIdentifier:jae.id,isNegated:t?.includes(jae.name.toLowerCase())}),s},hvt=e=>{let{workspaceId:t,selectedEstimatesArrayIn:n,selectedEstimatesArrayNin:s,selectedEstimatesSettingsArray:r}=e;const i=(0,Ye.useMemo)((()=>new Set(n)),[n]),o=(0,Ye.useMemo)((()=>new Set(s)),[s]),a=(0,Ye.useMemo)((()=>new Set(r)),[r]),{updateFilterValue:l,clearFilterValue:c}=sae({selectedEstimates:{in:i,nin:o},selectedEstimateSettings:a,workspaceId:t});return{removeEstimate:(e,t)=>{const i=new Set(n||[]),o=new Set(s||[]);if(t===Evt.ESTIMATE)i.has(e)&&i.delete(e),o.has(e)&&o.delete(e),l({estimates:{in:i,nin:o},settings:a});else if(t===Evt.ESTIMATE_SETTING){const t=new Set(r||[]);t.has(e)&&t.delete(e),l({estimates:{in:i,nin:o},settings:t})}},clearEstimateFilter:c}};let Evt;!function(e){e[e.LABEL=0]="LABEL",e[e.EPIC=1]="EPIC",e[e.EPIC_SETTING=2]="EPIC_SETTING",e[e.SPRINT=3]="SPRINT",e[e.ASSIGNEE=4]="ASSIGNEE",e[e.AUTHOR=5]="AUTHOR",e[e.ESTIMATE=6]="ESTIMATE",e[e.ESTIMATE_SETTING=7]="ESTIMATE_SETTING",e[e.RELEASE=8]="RELEASE",e[e.MILESTONE=9]="MILESTONE"}(Evt||(Evt={}));function gvt(e,t){if(!t)return{array:e,filterByNoneSelected:!1};const n=e.indexOf(t),s=[...e];return n>-1&&s.splice(n,1),{array:s,filterByNoneSelected:n>-1}}const fvt=e=>{let{workspaceId:t}=e;const{selectedLabelNamesArrayIn:n,selectedLabelNamesArrayNin:s,selectedAssigneesArrayIn:r,selectedAssigneesArrayNin:i,selectedAuthorsArrayIn:o,selectedAuthorsArrayNin:a,selectedEpicIdsArrayIn:l,selectedEpicIdsArrayNin:c,selectedEstimatesArrayIn:d,selectedEstimatesArrayNin:u,selectedReleaseIdsArrayIn:p,selectedReleaseIdsArrayNin:m,selectedSprintIdsArray:h,selectedEstimatesSettingsArray:E,selectedEpicSettingsArray:g,selectedMilestonesArray:f,filterOrder:_}=(0,l3.v9)((e=>({selectedLabelNamesArrayIn:e.boardV2.filters.labels.in,selectedLabelNamesArrayNin:e.boardV2.filters.labels.nin,selectedAssigneesArrayIn:e.boardV2.filters.assignees.in,selectedAssigneesArrayNin:e.boardV2.filters.assignees.nin,selectedAuthorsArrayIn:e.boardV2.filters.authors.in,selectedAuthorsArrayNin:e.boardV2.filters.authors.nin,selectedEpicIdsArrayIn:e.boardV2.filters.epics.in,selectedEpicIdsArrayNin:e.boardV2.filters.epics.nin,selectedEstimatesArrayIn:e.boardV2.filters.estimates.in,selectedEstimatesArrayNin:e.boardV2.filters.estimates.nin,selectedReleaseIdsArrayIn:e.boardV2.filters.releases.in,selectedReleaseIdsArrayNin:e.boardV2.filters.releases.nin,selectedSprintIdsArray:e.boardV2.filters.sprints.value,selectedEstimatesSettingsArray:e.boardV2.filters.estimates.settings,selectedEpicSettingsArray:e.boardV2.filters.epics.settings,selectedMilestonesArray:e.boardV2.filters.milestones.value,filterOrder:e.boardV2.filterOrder})),l3.wU),v=(0,l3.I0)(),{setPersistedFilterValues:I}=Ele(),{removeLabel:b}=ovt({workspaceId:t,selectedLabelNamesArrayIn:n,selectedLabelNamesArrayNin:s}),{removeAssignee:y}=evt({workspaceId:t,selectedAssigneesArrayIn:r,selectedAssigneesArrayNin:i}),{removeAuthor:S}=nvt({workspaceId:t,selectedAuthorsArrayIn:o,selectedAuthorsArrayNin:a}),{removeEpic:w}=rvt({workspaceId:t,selectedEpicIdsArrayIn:l,selectedEpicIdsArrayNin:c,selectedEpicSettingsArray:g}),{removeSprint:R}=lvt({workspaceId:t,selectedSprintIdsArray:h}),{removeRelease:T}=dvt({workspaceId:t,selectedReleaseIdsArrayIn:p,selectedReleaseIdsArrayNin:m}),{removeMilestone:C}=pvt({workspaceId:t,selectedMilestonesArray:f}),{removeEstimate:k}=hvt({workspaceId:t,selectedEstimatesArrayIn:d,selectedEstimatesArrayNin:u,selectedEstimatesSettingsArray:E});const{requestData:O,filterByNoneMap:N}=(0,Ye.useMemo)((()=>((e,t,n,s,r,i,o,a,l,c,d,u)=>{const{array:p,filterByNoneSelected:m}=gvt([...e,...t],CEt.id),{array:h,filterByNoneSelected:E}=gvt([...n,...s],jht.id),{array:g,filterByNoneSelected:f}=gvt([...r,...i]),{array:_,filterByNoneSelected:v}=gvt(l,hgt.id),{array:I,filterByNoneSelected:b}=gvt([...c,...d],Lgt.id),{array:y,filterByNoneSelected:S}=gvt(u,yft.id),w=[...o,...a];return{requestData:{labelIds:p,assigneeIds:h,authorIds:g,sprintIds:_,epicIds:w,releaseIds:I,milestoneTitles:y,includeLabels:Boolean(p&&p.length>0),includeAssignees:Boolean(h&&h.length>0),includeAuthors:Boolean(g&&g.length>0),includeEpics:Boolean(w&&w.length>0),includeSprints:Boolean(_&&_.length>0),includeReleases:Boolean(I&&I.length>0),includeMilestones:Boolean(y&&y.length>0)},filterByNoneMap:{[Oo]:Boolean(m),[No]:Boolean(E),[xo]:Boolean(f),[Ao]:Boolean(v),[zo]:Boolean(b),[Mo]:Boolean(S)}}})(n||[],s||[],r||[],i||[],o||[],a||[],l||[],c||[],h||[],p||[],m||[],f||[])),[n,s,r,i,o,a,l,c,p,m,h,f]),{data:P,loading:A,previousData:D}=function(e){const t={...zht,...e};return cy.a(Mht,t)}({variables:{workspaceId:t,...O}}),L=A?D:P,z=(0,Ye.useMemo)((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!e)return[];let l=[...ivt(e?.workspace?.labelFilterOptions?.nodes||[],Boolean(a.labels),o.labels),...Q_t(e?.workspace?.assignees?.nodes||[],Boolean(a.assignees),o.assignees),...tvt(e?.workspace?.authors?.nodes||[],o.authors),...avt(e?.workspace?.sprints?.nodes||[],Boolean(a.sprints)),...cvt(e?.workspace?.releases?.nodes||[],Boolean(a.releases),o.releases),...uvt(e?.workspace?.milestoneFilterOptions?.nodes||[],Boolean(a.milestones)),...svt(e?.workspace?.epics?.nodes||[],n||[],o.epics),...mvt(r||[],i||[],s||[])];return l=l.filter((e=>t.indexOf(e.sortingIdentifier)>-1)),l.sort(((e,n)=>t.indexOf(n.sortingIdentifier)-t.indexOf(e.sortingIdentifier))),l}(L,_,g,E,d,u,{[Oo]:s||[],[No]:i||[],[xo]:a||[],[zo]:m||[],[Po]:c||[]},N)),[L,_,g,E]);return{data:z,removeFilterTag:function(e){switch(e.type){case Evt.LABEL:return b(e.sortingIdentifier);case Evt.ASSIGNEE:return y(e.sortingIdentifier);case Evt.AUTHOR:return S(e.sortingIdentifier);case Evt.SPRINT:return R(e.sortingIdentifier);case Evt.EPIC:case Evt.EPIC_SETTING:return w(e.sortingIdentifier,e.type);case Evt.RELEASE:return T(e.sortingIdentifier);case Evt.MILESTONE:return C(e.sortingIdentifier);case Evt.ESTIMATE:case Evt.ESTIMATE_SETTING:return k(e.sortingIdentifier,e.type)}return null},clearAll:function(){I(t,[{key:Oo,value:null},{key:No,value:null},{key:xo,value:null},{key:Po,value:null},{key:Fo,value:null},{key:Bo,value:null},{key:Ho,value:null},{key:Wo,value:null},{key:Go,value:null},{key:jo,value:null},{key:zo,value:null},{key:qo,value:null},{key:Ao,value:null},{key:Do,value:null},{key:Lo,value:null},{key:Mo,value:null}]),v(Lr())}}},_vt="TKbbEKPsc7ElNGQtwzr8",vvt="gmc2TCz0PdwaOMB3AVMM",Ivt={[Evt.LABEL]:Ye.createElement(Odt,null),[Evt.EPIC]:Ye.createElement(OMe,null),[Evt.EPIC_SETTING]:Ye.createElement(OMe,null),[Evt.SPRINT]:Ye.createElement(rre,null),[Evt.ASSIGNEE]:Ye.createElement(Cdt,null),[Evt.AUTHOR]:Ye.createElement(Vfe,null),[Evt.ESTIMATE]:Ye.createElement(xoe,null),[Evt.ESTIMATE_SETTING]:Ye.createElement(xoe,null),[Evt.RELEASE]:Ye.createElement(nre,null),[Evt.MILESTONE]:Ye.createElement(rft,null)},bvt=e=>{let{isDisabled:t,tag:n,onClick:s}=e;return Ye.createElement("button",{type:"button",disabled:t,title:n.title,className:_vt,onClick:()=>s(n)},Ivt[n.type],Ye.createElement("span",{className:vvt},n?.isNegated?Ye.createElement("strong",null,"not:"):null,n.title),Ye.createElement(R7,null))},yvt=bvt,Svt="jZXBoN9DQwaCXuyMkWtz",wvt=()=>{const e=(0,l3.v9)((e=>e.boardV2.pipelineCounts)),t=(0,l3.v9)((e=>e.boardV2.settings.showClosedPipeline)),{totalIssues:n,totalPullRequests:s,totalStoryPoints:r}=(0,Ye.useMemo)((()=>Object.entries(e).reduce(((e,n)=>{let[s,{issuesCount:r,pullRequestsCount:i,totalStoryPoints:o}]=n;return t||s!==bo?(e.totalIssues+=r,e.totalPullRequests+=i,e.totalStoryPoints+=o,e):e}),{totalIssues:0,totalPullRequests:0,totalStoryPoints:0})),[e,t]);return Ye.createElement("div",{className:Svt},Mi(n,s,r))},Rvt=wvt,Tvt="trVQrrZrXP7vBfEPoFHz",Cvt="oqSY7kJaA_a98b6iSGLo",kvt="AXHZfWCeCqULkHl3oDul",Ovt="bCPgE530BjthX5_6Wlbg",Nvt="r1yC3KPpwbdA0oP4Jmme",Pvt="WzI8lw_cQ_TOkaX106l5",Avt="f8CFZVP0bkTEx8kYawJ2",Dvt="QwmeMO2uiX0kHTgqy8QA",Lvt="UgouPDMy5BymBZeopnJC",zvt=e=>{let{workspaceId:t,activeFilters:n}=e;const s=(0,l3.I0)(),{setPersistedFilterValue:r}=Ele(),i=bye(n),[o,a]=(0,Ye.useState)(!1),[l,c]=(0,l3.v9)((e=>[e.onboarding.any_all_filter_intro_dismissed,e.boardV2.filterLogic])),d=()=>{s(LG.onboarding.setOnboardingValue({key:"any_all_filter_intro_dismissed",value:!0}))},u=(0,Ye.useMemo)((()=>l?null:Ye.createElement(xSe,{key:"onboarding-info-alert",onClose:d},"You can refine your filters to look for"," ",Ye.createElement("span",{className:Ovt},"X or Y (any)")," or"," ",Ye.createElement("span",{className:Ovt},"X and Y (all)"))),[l]),p=(0,Ye.useMemo)((()=>Ye.createElement("span",{className:kvt},"Matching ",Ye.createElement("strong",{className:Ovt},c)," ",c===$i.Any?"filter":"filters")),[c]);(0,Ye.useEffect)((()=>{const e=i&&i?.length>1&&n.length<=1,o=!i&&n.length<=1;(e||o)&&(s($r(ra)),r(t,Uo,null))}),[i,n]);const m=(0,Ye.useCallback)((()=>{a(!o)}),[o]),h=()=>{s($r($i.Any)),r(t,Uo,$i.Any)},E=()=>{s($r($i.All)),r(t,Uo,null)};return n.length<=1?null:Ye.createElement(kme,{isActive:o,listTitle:"Filter type",testId:"filters-logic-selector",toggleOpen:m,className:Tvt,buttonClass:Cvt,isFilterable:!1,allowSearch:!1,buttonName:p,listDescription:u},Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{role:"button",tabIndex:0,className:(0,_I.default)(Nvt,Pvt),onKeyPress:h,onClick:h},Ye.createElement("span",{className:Avt},"Matching ",Ye.createElement("strong",{className:Ovt},"any")," filter"),Ye.createElement(f5,{className:(0,_I.default)(Dvt,{[Lvt]:c===$i.Any})})),Ye.createElement("div",{role:"button",tabIndex:0,className:Nvt,onKeyPress:E,onClick:E},Ye.createElement("span",{className:Avt},"Matching ",Ye.createElement("strong",{className:Ovt},"all")," filters"),Ye.createElement(f5,{className:(0,_I.default)(Dvt,{[Lvt]:c===$i.All})}))))},Mvt=zvt,xvt="t54X0qXLnO4Ch0hG_hP_",Fvt="Lrc20vQneEJhUmc9MzCX",Uvt="fFW_zKtCoFBiV7Jg2O3i",Bvt=e=>{let{isLocked:t,workspaceId:n}=e;const{data:s,removeFilterTag:r,clearAll:i}=fvt({workspaceId:n});return 0===s.length?null:Ye.createElement("div",{className:xvt,"data-testid":"active-filter-tags"},Ye.createElement(Mvt,{workspaceId:n,activeFilters:s}),s.map((e=>Ye.createElement(yvt,{key:`${e.sortingIdentifier}-${e.type}-${e?.title}`,tag:e,isDisabled:t,onClick:r}))),Ye.createElement(Rvt,null),Ye.createElement(H5,{disabled:t,variant:z5.TEXT,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,className:Fvt,onClick:i,dataTestId:"clear-all-button"},Ye.createElement(R7,{className:Uvt}),"Clear all"))},qvt=Bvt,Hvt=e=>{let{isLocked:t,workspaceId:n}=e;return Ye.createElement("div",{className:Z_t},Ye.createElement(Oft,{isLocked:t,workspaceId:n}),Ye.createElement("div",{className:Y_t},Ye.createElement(Hft,{isLocked:t})),Ye.createElement("div",{className:J_t,"data-testid":"menu-secondary"},Ye.createElement(U_t,null),Ye.createElement($_t,{isLocked:t})),Ye.createElement("div",{className:X_t},Ye.createElement(qvt,{isLocked:t,workspaceId:n})))},Wvt=Ye.memo(Hvt),jvt=()=>{const e=(0,Ye.useRef)(!1),t=(0,l3.v9)((e=>e.boardV2.selectedIssueIds?.length||0)),n=(0,l3.v9)((e=>e.boardV2.isQuickActionSelectionMode));return(0,Ye.useEffect)((()=>{n||e.current||1!==t?H.Z.removeByType(W.Z.BOARD_SELECT_MULTIPLE):H.Z.createToastIfUniqueByType(W.Z.BOARD_SELECT_MULTIPLE,{hasCloseButton:!1}),e.current=t>0}),[t]),null},Gvt={medium:"760px",container:"YFdki_X1nnXRfCXI_t6Q",content:"b7GnPlM8vx0d7pPSLZWP",closeButton:"X_SwgkJ3b8Dc2gaQrNnh",heading:"JmTsi_l4pV0Q6xnZGBh0",footer:"om7bKRPEqZiWy2tnr0CW",apply:"aq7mbdhT6NFqYkFhbxgB",styleResetForSelectionList:"clyZnccyVn1iwf03y6Qt"};function Kvt(){return Kvt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kvt.apply(this,arguments)}const Vvt=e=>{let{isOpen:t,setIsOpen:n,children:s,title:r,valid:i,footerActions:o,onSubmit:a,onCancel:l,dataAttrs:c={},testId:d,hideCloseButton:u}=e;const p=()=>{n?.(!1)};return Ye.createElement(Xre,{isOpen:t,onClose:p},Ye.createElement("div",Kvt({className:Gvt.container},c,{"data-testid":d}),!u&&Ye.createElement(H5,{onClick:p,ariaLabel:"close modal",variant:z5.TEXT,className:Gvt.closeButton,height:A5.SHORT,padding:M5.EXTRA_TIGHT,dataTestId:"bulkActionCloseModalButton"},Ye.createElement(R7,null)),Ye.createElement("div",{className:Gvt.content},r&&Ye.createElement("div",{className:Gvt.heading},r),s),Ye.createElement("footer",{className:Gvt.footer},Ye.createElement("div",null,o),Ye.createElement("div",{className:Gvt.footerButtons},Ye.createElement(H5,{onClick:()=>{l?l():p()},variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{onClick:a,variant:z5.CONTAINED,color:L5.ACTION,className:Gvt.apply,disabled:!i},"Apply changes")))))},$vt={},Zvt=bb.Ps`
  mutation bulkAddLabelsToIssues($input: AddLabelsToIssuesInput!) {
    addLabelsToIssues(input: $input) {
      successCount
      githubErrors
      failedIssues {
        id
        title
        repository {
          name
        }
        number
      }
    }
  }
`;const Yvt={},Jvt=bb.Ps`
  mutation bulkRemoveLabelsFromIssues($input: RemoveLabelsFromIssuesInput!) {
    removeLabelsFromIssues(input: $input) {
      successCount
      githubErrors
      failedIssues {
        id
        title
        repository {
          name
        }
        number
      }
    }
  }
`;const Xvt=e=>{const t=(0,l3.I0)(),n=(0,Ye.useRef)(null),s=(0,Ye.useRef)(null),r=(0,Ye.useRef)(null),i=RI()((()=>{H.Z.deleteToast(n.current)}),4e3);return{showBulkActionPending:()=>{t(fi(e))},showBulkActionAppliedWithErroredIssues:n=>{if(t(_i(e)),H.Z.deleteToast(s.current),i(),n?.failedIssues&&n?.failedIssues.length>0)r.current=H.Z.createToast(W.Z.MULTI_ACTION_ERROR,{issues:n.failedIssues});else{if(!(e===W.$.ASSIGNEE&&n?.unassignable&&n?.unassignable.length>0))return void H.Z.deleteToast(s.current);r.current=H.Z.createToast(W.Z.BULK_ASSIGN_ISSUES_ERROR,{assigneesAndIssues:n?.unassignable})}},showBulkActionSuccess:(n,r)=>{t(_i(e)),H.Z.deleteToast(s.current),i()},showBulkActionError:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t(_i(e)),H.Z.deleteToast(n.current),H.Z.deleteToast(r.current),r.current=H.Z.createToast(W.Z.MULTI_ACTION_ERROR,{...Cl.Z,alignClosed:!1,issues:s})}}};var Qvt=n(47538),eIt=n.n(Qvt);let tIt;!function(e){e[e.SELECTED=0]="SELECTED",e[e.PARTIALLY_SELECTED=1]="PARTIALLY_SELECTED"}(tIt||(tIt={}));const nIt=e=>{let{workspaceId:t,property:n,key:s,deDuplicateKey:r}=e;const[i,o]=(0,Ye.useState)([]),[a,l]=(0,Ye.useState)([]),[c,d]=(0,Ye.useState)(new Map),[u,p]=(0,Ye.useState)(new Map),[m,h]=(0,Ye.useState)([]),E=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),g=Ndt({workspaceId:t}),f=(e,t,n,s)=>{const r=[],i=new Map,o=((e,t,n,s)=>{const r={},i=[];return e.forEach((e=>{const o=e[t].nodes?e[t].nodes:e[t],a=e=>{if(s){for(let t=0;t<i.length;t+=1)if(i[t].duplicationKey===e[s])return void(r[i[t].id]+=1);i.push({id:e.id,duplicationKey:e[s]})}const t=e[n];r[t]?r[t]+=1:r[t]=1};Array.isArray(o)?o.forEach((e=>{a(e)})):a(o)})),r})(e,t,n,s);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)){o[t]===e.length?(r.push(t),i.set(t,tIt.SELECTED)):(r.push(t),i.set(t,tIt.PARTIALLY_SELECTED))}return{selected:r,selectedTypeMap:i}},_=(0,Ye.useCallback)(((e,t)=>{const n=[...a],s=[...i],r=new Map(c);if(t){n.includes(e)||(n.push(e),r.set(e,tIt.SELECTED));const t=s.indexOf(e);t>-1&&s.splice(t,1)}else{const t=n.indexOf(e);t>-1&&n.splice(t,1),r.delete(e),s.includes(e)||s.push(e)}l(n),o(s),d(r)}),[a,c]),v=(0,Ye.useCallback)((e=>c.get(e)),[c]),I=(0,Ye.useCallback)((()=>{const e=g(E),{selected:t,selectedTypeMap:i}=f(e,n,s,r);d(i),p(i),l(t),h(((e,t)=>{let i=[];return e.forEach((e=>{const t=e[n].nodes?e[n].nodes:[e[n]];i=eIt()(i,t,s),r&&(i=eIt()(i,t,r))})),i.sort(((e,n)=>{const s=t.get(e.id),r=t.get(n.id);return void 0!==s&&void 0!==r?s-r:0})),i})(e,i))}),[g,s,n,E]),b=(0,Ye.useCallback)((()=>{I()}),[I]),y=(0,Ye.useCallback)((()=>a.filter((e=>c.get(e)===tIt.SELECTED))),[a,c]);(0,Ye.useEffect)((()=>{I()}),[I]);const S=(0,Ye.useMemo)((()=>!Uoe()(u,c)),[u,c]);return{deselectedItems:i,selectedItems:a,priorityItems:m,hasChangedSelectedItems:S,updateCurrentSelectedItems:_,resetSelectedItems:b,getFullySelectedItems:y,getSelectedType:v}},sIt=Ye.createElement("span",null,"No labels found"),rIt=e=>Ye.createElement(SEt,{name:e.name,color:e.color}),iIt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const r=(0,l3.I0)(),{showBulkActionPending:i,showBulkActionAppliedWithErroredIssues:o,showBulkActionError:a}=Xvt("label"),l=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),c=(0,l3.v9)((e=>e.boardV2.isQuickActionSelectionMode)),{labelsSource:d}=vEt({workspaceId:n}),[u]=function(e){const t={...$vt,...e};return vK.D(Zvt,t)}({onError:()=>{a()},onCompleted:e=>{o(e.addLabelsToIssues)}}),[p]=function(e){const t={...Yvt,...e};return vK.D(Jvt,t)}({onError:()=>{a()},onCompleted:e=>{o(e.removeLabelsFromIssues)}}),{selectedItems:m,deselectedItems:h,hasChangedSelectedItems:E,priorityItems:g,getSelectedType:f,getFullySelectedItems:_,updateCurrentSelectedItems:v,resetSelectedItems:I}=nIt({workspaceId:n,property:"labels",key:"id",deDuplicateKey:"name"}),b=(0,Ye.useMemo)((()=>l.length>1?`Set labels to these ${l.length} issues`:1===l.length?"Set labels to this issue":"Set labels to these issues"),[l]),y=(0,Ye.useCallback)(((e,t,n)=>{if(n){switch(f(n)){case tIt.SELECTED:return Ye.createElement(Iae,null);case tIt.PARTIALLY_SELECTED:return Ye.createElement(_Ee,null);default:return null}}return e?Ye.createElement(Iae,null):null}),[f]),S=(0,Ye.useCallback)((()=>{t(!1),I(),c&&(r(Tr()),r(kr()))}),[I,t,c]),w=(0,Ye.useCallback)((()=>{const e=_();e.length&&u({variables:{input:{issueIds:l,labelIds:e}}}),h.length&&p({variables:{input:{issueIds:l,labelIds:h}}}),i(),S()}),[l,h,u,_,S,p]),R=(0,Ye.useCallback)((e=>{e?t(e):S()}),[t,S]),T=(0,Ye.useCallback)((e=>{e.changedToSelected.forEach((e=>{v(e,!0)})),e.changedToUnselected.forEach((e=>{v(e,!1)}))}),[v]);return Ye.createElement(Vvt,{isOpen:!0,valid:E,onSubmit:w,setIsOpen:R,testId:s},Ye.createElement(lft,{priorityItemMatcherKey:"name",priorityItems:g,layoutClassName:Gvt.styleResetForSelectionList,dataSource:d,emptyState:sIt,filterInputPlaceholder:"Filter labels",initialSelectedIds:m,itemRenderer:rIt,customSelectionIconRenderer:y,onSelectionChange:T,title:b,height:"100%",width:"100%",hasItemBorder:!0,showSearchIcon:!0}))},oIt={},aIt=bb.Ps`
  mutation bulkAddAssigneesToIssues($input: AddAssigneesToIssuesInput!) {
    addAssigneesToIssues(input: $input) {
      successCount
      githubErrors
      failedIssues {
        id
        title
        repository {
          name
        }
        number
      }
      unassignable {
        assignee {
          avatarUrl
          login
        }
        issues {
          number
          title
        }
      }
    }
  }
`;const lIt={},cIt=bb.Ps`
  mutation bulkRemoveAssigneesFromIssues($input: RemoveAssigneesFromIssuesInput!) {
    removeAssigneesFromIssues(input: $input) {
      successCount
      githubErrors
      failedIssues {
        id
        title
        repository {
          name
        }
        number
      }
    }
  }
`;const dIt=Ye.createElement("span",null,"No assignees found"),uIt=e=>Ye.createElement(Pht,{name:e.name,avatarUrl:e.avatarUrl,login:e.login}),pIt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const r=(0,l3.I0)(),{showBulkActionPending:i,showBulkActionAppliedWithErroredIssues:o,showBulkActionError:a}=Xvt("assignee"),l=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),c=(0,l3.v9)((e=>e.boardV2.isQuickActionSelectionMode)),{assigneesSource:d}=Bht({workspaceId:n}),[u]=function(e){const t={...oIt,...e};return vK.D(aIt,t)}({onError:()=>{a()},onCompleted:e=>{o(e.addAssigneesToIssues)}}),[p]=function(e){const t={...lIt,...e};return vK.D(cIt,t)}({onError:()=>{a()},onCompleted:e=>{o(e.removeAssigneesFromIssues)}}),{selectedItems:m,deselectedItems:h,hasChangedSelectedItems:E,priorityItems:g,getSelectedType:f,getFullySelectedItems:_,updateCurrentSelectedItems:v,resetSelectedItems:I}=nIt({workspaceId:n,property:"assignees",key:"id"}),b=(0,Ye.useMemo)((()=>l.length>1?`Set assignees to these ${l.length} issues`:1===l.length?"Set assignees to this issue":"Set assignees to these issues"),[l]),y=(0,Ye.useCallback)(((e,t,n)=>{if(n){switch(f(n)){case tIt.SELECTED:return Ye.createElement(Iae,null);case tIt.PARTIALLY_SELECTED:return Ye.createElement(_Ee,null);default:return null}}return e?Ye.createElement(Iae,null):null}),[f]),S=(0,Ye.useCallback)((()=>{t(!1),I(),c&&(r(Tr()),r(kr()))}),[t,I,c]),w=(0,Ye.useCallback)((()=>{const e=_();e.length&&u({variables:{input:{issueIds:l,assigneeIds:e}}}),h.length&&p({variables:{input:{issueIds:l,assigneeIds:h}}}),i(),S()}),[l,h,u,_,S,p]),R=(0,Ye.useCallback)((e=>{e?t(e):S()}),[S,t]),T=(0,Ye.useCallback)((e=>{e.changedToSelected.forEach((e=>{v(e,!0)})),e.changedToUnselected.forEach((e=>{v(e,!1)}))}),[v]);return Ye.createElement(Vvt,{isOpen:!0,valid:E,onSubmit:w,setIsOpen:R,testId:s},Ye.createElement(lft,{priorityItems:g,priorityItemMatcherKey:"login",layoutClassName:Gvt.styleResetForSelectionList,dataSource:d,emptyState:dIt,filterInputPlaceholder:"Filter assignees",initialSelectedIds:m,itemRenderer:uIt,customSelectionIconRenderer:y,onSelectionChange:T,title:b,width:"100%",height:"100%",hasItemBorder:!0,showSearchIcon:!0}))};function mIt(){return mIt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mIt.apply(this,arguments)}const hIt="425px",EIt="320px",gIt=e=>{let{layoutClassName:t,emptyState:n,filterFn:s,filterInputPlaceholder:r,hasItemBorder:i=!1,itemRenderer:o,customSelectionIconRenderer:a,items:l,onClickItem:c,onClose:d,selectedId:u,tabFilterFn:p,tabs:m,title:h,width:E=EIt,height:g=hIt}=e;const{activeTab:f,setActiveTab:_}=zle(),v=l?p(f,l):null,{setSearchTerm:I,filteredItems:b}=mbe(s,v),y=Ye.useRef(null),{currentlyHighlightedIndex:S,onKeyDownHighlight:w,resetHighlightAndScrollTop:R,setHighlightIndex:T}=Sre(b,y,(e=>{c(e.id)}));return Ye.createElement(Ere,{className:t,height:g,hasVariableHeight:true,width:E,onClose:d,onKeyDown:w},Ye.createElement(mre,{title:h,onClose:d}),Ye.createElement(Voe,{placeholder:r,onChange:e=>{let{term:t}=e;I(t),R()}}),m.length?Ye.createElement(Dle,null,m.map(((e,t)=>Ye.createElement("button",{key:e,type:"button",onClick:()=>_(t)},e)))):null,Ye.createElement(qoe,{items:b,emptyState:n},(()=>Ye.createElement(_re,{parentHasVariableHeight:true,ref:y,items:b||[],rowRenderer:e=>{const{index:t}=e,n=b[t];return Ye.createElement(yre,mIt({},e,{key:n.id,onClick:()=>c(n.id),setHighlightIndex:()=>T(t),hasItemBorder:i,isHighlighted:S===t,isSelected:u===n.id,customSelectionIconRenderer:a}),o(n,t))}}))))},fIt={},_It=bb.Ps`
  mutation movePipelineIssues($input: MovePipelineIssuesInput!, $workspaceId: ID!) {
    movePipelineIssues(input: $input) {
      pipelineIssues {
        issue {
          id
          number
          metadata(workspaceId: $workspaceId)
        }
        pipeline {
          id
        }
      }
    }
  }
`;const vIt={},IIt=bb.Ps`
  mutation closeIssues($input: CloseIssuesInput!) {
    closeIssues(input: $input) {
      successCount
      githubErrors
      failedIssues {
        id
        title
        repository {
          name
        }
        number
      }
    }
  }
`;const bIt={},yIt=bb.Ps`
  mutation reopenIssues($input: ReopenIssuesInput!) {
    reopenIssues(input: $input) {
      successCount
      githubErrors
      failedIssues {
        id
        title
        repository {
          name
        }
        number
      }
    }
  }
`;const SIt="wqJwVy1OGYGvd0S5c3KQ",wIt="mf0U3oWkP49Utd6K52Wg",RIt=e=>{let{name:t,isClosedPipeline:n}=e;return Ye.createElement("div",{className:SIt},n?Ye.createElement("div",{className:wIt},Ye.createElement(Hje,null)):null,t)},TIt=e=>{let{position:t,isDisabled:n=!1,onChange:s}=e;const r=e=>()=>{s(e)},i=t===Xi.Start,o=t===Xi.End;return Ye.createElement(OPe,null,Ye.createElement(H5,{disabled:n,ariaLabel:"Send to top",onClick:r(Xi.Start),color:i?L5.PRIMARY:L5.SECONDARY,width:D5.NARROW},Ye.createElement(e9e,null)),Ye.createElement(H5,{disabled:n,ariaLabel:"Send to bottom",onClick:r(Xi.End),color:o?L5.PRIMARY:L5.SECONDARY,width:D5.NARROW},Ye.createElement(n9e,null)))},CIt=Ye.createElement("span",null,"No pipelines found"),kIt=(e,t)=>{if(""===t)return e;const n=t.toLowerCase();return e.filter((e=>e.name.toLowerCase().includes(n)))},OIt=e=>e?Ye.createElement(Iae,null):null,NIt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const r=(0,Dae.x)(),{showBulkActionSuccess:i,showBulkActionError:o,showBulkActionPending:a,showBulkActionAppliedWithErroredIssues:l}=Xvt("pipeline"),[c,d]=(0,Ye.useState)(void 0),[u,p]=(0,Ye.useState)(Xi.Start),m=(0,Ye.useRef)({}),h=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),E=Jit({workspaceId:n}),g=tot({workspaceId:n}),[f]=function(e){const t={...fIt,...e};return vK.D(_It,t)}({onError:()=>{o(),m.current={}},onCompleted:e=>{const t=e.movePipelineIssues?.pipelineIssues,n=t?.[0].pipeline.id||yo.id;i(t?.length||h.length);const s={};t?.forEach((e=>{let{issue:t,pipeline:n}=e;n.id&&(s[n.id]=t)})),Object.keys(s).forEach((e=>{E({pipelineId:e,isClosedPipeline:!1,issueNumber:s[e]?.number,issueRepositoryGhId:s[e]?.metadata.repository.gh_id,sourcePipelineId:m.current[s[e].id],numberOfIssues:t?.length})})),g({pipelineId:n,isClosedPipeline:n===yo.id,issueIds:t?.map((e=>{let{issue:t}=e;return t.id}))||[]}),m.current={}}}),[_]=function(e){const t={...bIt,...e};return vK.D(yIt,t)}({onError:()=>{o(),m.current={}},onCompleted:e=>{l(e.reopenIssues)}}),[v]=function(e){const t={...vIt,...e};return vK.D(IIt,t)}({onError:()=>{o(),m.current={}},onCompleted:e=>{l(e.closeIssues)}}),I=r.readQuery({query:Crt,variables:{workspaceId:n}}),b=(0,Ye.useMemo)((()=>h.length>1?`Move these ${h.length} issues to a pipeline`:1===h.length?"Move this issue to a pipeline":"Move these issues to a pipeline"),[h]),y=(0,Ye.useMemo)((()=>{const e=I?.workspace?.pipelinesConnection.nodes.map((e=>({id:e.id,name:e.name})))||[];return e.push(yo),e}),[I]),S=(0,Ye.useCallback)((()=>y),[y]),w=(0,Ye.useCallback)((e=>Ye.createElement(RIt,{name:e.name,isClosedPipeline:e.id===yo.id})),[c]),R=(0,Ye.useCallback)((()=>{d(void 0),p(Xi.Start),t(!1)}),[d,p,t,m]),T=(0,Ye.useCallback)((()=>{const e=[],t=[],s=[],i=h.map((i=>{const o=Nrt(r.cache,{__typename:"Issue",id:i}),a=Wrt(r.cache,n,o);return c===bo?a?.state!==Vi.Closed&&e.push(i):a?.state===Vi.Closed?t.push(i):s.push(i),a}))||[];if(e.length&&v({variables:{input:{issueIds:e}}}),t.length&&_({variables:{input:{pipelineId:c,issueIds:t,position:u}}}),s.length){const e=i.filter((e=>e?.id&&s.includes(e?.id))).map((e=>(m.current[e.id]=e.metadata.pipeline_issue.pipeline.id,e.metadata.pipeline_issue.id||null)))||[];f({variables:{workspaceId:n,input:{pipelineId:c,pipelineIssueIds:e,position:u}}})}[...e,...t,...s].length&&a(),R()}),[h,c,u,r,R]),C=(0,Ye.useCallback)((e=>{e?t(e):R()}),[R,t]);return Ye.createElement(Vvt,{isOpen:!0,valid:null!=c,onSubmit:T,testId:s,setIsOpen:C,footerActions:Ye.createElement(TIt,{isDisabled:c===bo,position:u,onChange:p})},Ye.createElement(gIt,{layoutClassName:Gvt.styleResetForSelectionList,selectedId:c,emptyState:CIt,filterFn:kIt,filterInputPlaceholder:"Filter pipelines",items:y,itemRenderer:w,onClickItem:e=>{d(e!==c?e:void 0)},customSelectionIconRenderer:OIt,tabs:[],tabFilterFn:S,title:b,width:"100%",height:"100%",hasItemBorder:!0}))},PIt=(0,Ye.memo)(NIt),AIt={},DIt=bb.Ps`
  mutation addReleasesToIssues($input: AddIssuesToReleasesInput!) {
    addIssuesToReleases(input: $input) {
      releases {
        id
      }
    }
  }
`;const LIt={},zIt=bb.Ps`
  mutation removeIssuesFromReleases($input: RemoveIssuesFromReleasesInput!) {
    removeIssuesFromReleases(input: $input) {
      releases {
        id
      }
    }
  }
`;const MIt="PPp3Slj7LqzY5QfAknJ0",xIt="IVgB24ohGqkd0Z2Oq5hP",FIt=e=>{let{title:t,description:n}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:MIt},t),Ye.createElement("div",{className:xIt},n))},UIt=e=>{let{workspaceId:t}=e;const n=Ogt({workspaceId:t,pageSize:sa,state:ro.Open});return{releasesSource:(0,Ye.useMemo)((()=>({queryResult:n,connectionSelector:e=>e.data?.workspace?.releases||null})),[n])}},BIt=Ye.createElement("span",null,"No releases found"),qIt=e=>Ye.createElement(FIt,{title:e.title,description:e.description}),HIt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const{showBulkActionSuccess:r,showBulkActionError:i,showBulkActionPending:o}=Xvt("release"),a=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),{releasesSource:l}=UIt({workspaceId:n}),[c]=function(e){const t={...AIt,...e};return vK.D(DIt,t)}({onError:()=>{i()},onCompleted:()=>{r(a.length)}}),[d]=function(e){const t={...LIt,...e};return vK.D(zIt,t)}({onError:()=>{i()},onCompleted:()=>{r(a.length)}}),{deselectedItems:u,selectedItems:p,hasChangedSelectedItems:m,getFullySelectedItems:h,getSelectedType:E,updateCurrentSelectedItems:g,resetSelectedItems:f,priorityItems:_}=nIt({workspaceId:n,property:"releases",key:"id"}),v=(0,Ye.useMemo)((()=>a.length>1?`Set releases to these ${a.length} issues`:1===a.length?"Set releases to this issue":"Set releases to these issues"),[a]),I=()=>{t(!1),f()};return Ye.createElement(Vvt,{isOpen:!0,valid:m,onSubmit:()=>{const e=h();e.length&&c({variables:{input:{issueIds:a,releaseIds:e}}}),u.length&&d({variables:{input:{issueIds:a,releaseIds:u}}}),o(),I()},setIsOpen:e=>{e?t(e):I()},testId:s},Ye.createElement(lft,{priorityItems:_,priorityItemMatcherKey:"id",layoutClassName:Gvt.styleResetForSelectionList,dataSource:l,emptyState:BIt,filterInputPlaceholder:"Filter releases",initialSelectedIds:p,itemRenderer:qIt,customSelectionIconRenderer:(e,t,n)=>{if(n){switch(E(n)){case tIt.SELECTED:return Ye.createElement(Iae,null);case tIt.PARTIALLY_SELECTED:return Ye.createElement(_Ee,null);default:return null}}return e?Ye.createElement(Iae,null):null},onSelectionChange:e=>{e.changedToSelected.forEach((e=>{g(e,!0)})),e.changedToUnselected.forEach((e=>{g(e,!1)}))},title:v,width:"100%",height:"100%",hasItemBorder:!0,showSearchIcon:!0}))},WIt={},jIt=bb.Ps`
  mutation bulkAddIssuesToSprints($input: AddIssuesToSprintsInput!) {
    addIssuesToSprints(input: $input) {
      sprintIssues {
        id
      }
    }
  }
`;const GIt={},KIt=bb.Ps`
  mutation bulkRemoveIssuesFromSprints($input: RemoveIssuesFromSprintsInput!) {
    removeIssuesFromSprints(input: $input) {
      sprints {
        id
      }
    }
  }
`;const VIt=[{id:"firstAfterItem",name:"New sprints will be created continuously as each sprint ends",isCustomItem:!0}],$It={firstAfterItem:!0},ZIt=e=>Ye.createElement(rgt,{name:e.name||""}),YIt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const r=(0,l3.I0)(),{showBulkActionSuccess:i,showBulkActionError:o,showBulkActionPending:a}=Xvt("Sprint"),l=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),c=(0,l3.v9)((e=>e.boardV2.isQuickActionSelectionMode)),{hasSprintConfig:d,openSprintsSource:u,closedSprintsSource:p}=ugt({workspaceId:n}),[m]=function(e){const t={...WIt,...e};return vK.D(jIt,t)}({onError:()=>{o()},onCompleted:()=>{i(l.length)}}),[h]=function(e){const t={...GIt,...e};return vK.D(KIt,t)}({onError:()=>{o()},onCompleted:()=>{i(l.length)}}),{selectedItems:E,deselectedItems:g,getFullySelectedItems:f,getSelectedType:_,updateCurrentSelectedItems:v,resetSelectedItems:I,hasChangedSelectedItems:b}=nIt({workspaceId:n,property:"sprints",key:"id"}),y=(0,Ye.useCallback)(((e,t,n)=>{if(n){switch(_(n)){case tIt.SELECTED:return Ye.createElement(Iae,null);case tIt.PARTIALLY_SELECTED:return Ye.createElement(_Ee,null);default:return null}}return e?Ye.createElement(Iae,null):null}),[_]),S=(0,Ye.useCallback)((()=>{t(!1),I(),c&&(r(Tr()),r(kr()))}),[I,t,c]),w=(0,Ye.useCallback)((()=>{const e=f();e.length&&m({variables:{input:{issueIds:l,sprintIds:e}}}),g.length&&h({variables:{input:{issueIds:l,sprintIds:g}}}),a(),S()}),[a,m,g,f,S,h,l]),R=(0,Ye.useCallback)((e=>{e.changedToSelected.forEach((e=>{v(e,!0)})),e.changedToUnselected.forEach((e=>{v(e,!1)}))}),[v]),T=(0,Ye.useMemo)((()=>Ye.createElement(sgt,{hasSprintConfig:d,onClickSetup:S})),[d,S]),C=(0,Ye.useMemo)((()=>[{name:"Open",dataSource:u,afterItems:VIt},{name:"Closed",dataSource:p}]),[p,u]),k=(0,Ye.useMemo)((()=>l.length>1?`Set a sprint to these ${l.length} issues`:1===l.length?"Set a sprint to this issue":"Set a sprint to these issues"),[l]);return Ye.createElement(Vvt,{isOpen:!0,valid:b,onSubmit:w,onCancel:S,setIsOpen:e=>{e?t(e):S()},testId:s},Ye.createElement(XEt,{layoutClassName:Gvt.styleResetForSelectionList,hasItemBorder:!0,disabledItemMap:$It,emptyState:T,filterInputPlaceholder:"Filter sprints",tabs:C,activeItemsIds:E,itemRenderer:ZIt,customSelectionIconRenderer:y,onSelectionChange:R,showSearchIcon:!1,title:k,height:"auto",width:"100%"}))},JIt={},XIt=bb.Ps`
  mutation addIssuesToEpics($input: AddIssuesToEpicsInput!) {
    addIssuesToEpics(input: $input) {
      epics {
        id
      }
    }
  }
`;const QIt={},ebt=bb.Ps`
  mutation removeIssuesFromEpics($input: RemoveIssuesFromEpicsInput!) {
    removeIssuesFromEpics(input: $input) {
      epics {
        id
      }
    }
  }
`;const tbt={},nbt=bb.Ps`
  mutation addIssuesToZenhubEpics($input: AddIssuesToZenhubEpicsInput!) {
    addIssuesToZenhubEpics(input: $input) {
      zenhubEpics {
        id
        title
      }
    }
  }
`;function sbt(e){const t={...tbt,...e};return vK.D(nbt,t)}const rbt={},ibt=bb.Ps`
  mutation removeIssuesFromZenhubEpics($input: RemoveIssuesFromZenhubEpicsInput!) {
    removeIssuesFromZenhubEpics(input: $input) {
      zenhubEpics {
        id
      }
    }
  }
`;function obt(e){const t={...rbt,...e};return vK.D(ibt,t)}const abt=e=>{let{workspaceId:t}=e;const n=gLe({variables:{workspaceId:t,pageSize:30}});return{epicsSource:(0,Ye.useMemo)((()=>({queryResult:n,connectionSelector:e=>e.data?.workspace?.zenhubEpics})),[n])}},lbt=(e,t)=>{const n=(0,l3.v9)(Lre),{showBulkActionSuccess:s,showBulkActionError:r,showBulkActionPending:i}=Xvt("epic"),[o]=function(e){const t={...JIt,...e};return vK.D(XIt,t)}({onError:()=>{r()},onCompleted:()=>{s(t.length)}}),[a]=function(e){const t={...QIt,...e};return vK.D(ebt,t)}({onError:()=>{r()},onCompleted:()=>{s(t.length)}}),[l]=sbt({onError:()=>{r()},onCompleted:()=>{s(t.length)}}),[c]=obt({onError:()=>{r()},onCompleted:()=>{s(t.length)}}),d=n?abt:Qht,{epicsSource:u}=d({workspaceId:e});return{epicsSource:u,addIssuesToEpics:n?l:o,removeIssuesFromEpics:n?c:a,showBulkActionPending:i,issueProperty:n?"parentZenhubEpics":"parentEpics",epicNodes:n?u.queryResult.data?.workspace?.zenhubEpics?.nodes:u.queryResult.data?.workspace?.epics?.nodes,epicIdKey:n?"zenhubEpicIds":"epicIds"}},cbt=Ye.createElement("span",null,"No epics found"),dbt=e=>"ZenhubEpic"===e.__typename?Ye.createElement(sEt,{name:e.title}):"Epic"===e.__typename?Ye.createElement(sEt,{name:e.issue?.title,ownerName:e.issue?.repository.ownerName,repoName:e.issue?.repository.name}):null,ubt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const r=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),{epicsSource:i,addIssuesToEpics:o,removeIssuesFromEpics:a,showBulkActionPending:l,issueProperty:c,epicNodes:d,epicIdKey:u}=lbt(n,r),{selectedItems:p,getSelectedType:m,updateCurrentSelectedItems:h,deselectedItems:E,hasChangedSelectedItems:g,priorityItems:f,resetSelectedItems:_,getFullySelectedItems:v}=nIt({workspaceId:n,property:c,key:"id"}),I=(0,Ye.useMemo)((()=>{const e=f.map((e=>{if(d)for(let t=0;t<d.length;t+=1){const n=d[t];if(n.id===e.id)return n}return null}));return e.filter((e=>null!==e))}),[f,d]),b=(0,Ye.useMemo)((()=>r?.length>1?`Set an epic to these ${r?.length} issues`:1===r?.length?"Set an epic to this issue":"Set an epic to these issues"),[r]),y=()=>{t(!1),_()};return Ye.createElement(Vvt,{isOpen:!0,valid:g,onSubmit:()=>{const e=v();e.length&&o({variables:{input:{issueIds:r,[u]:e}}}),E.length&&a({variables:{input:{issueIds:r,[u]:E}}}),l(),y()},testId:s,setIsOpen:e=>{e?t(e):y()}},Ye.createElement(lft,{priorityItems:I,layoutClassName:Gvt.styleResetForSelectionList,dataSource:i,emptyState:cbt,filterInputPlaceholder:"Filter epics",hasItemBorder:!0,initialSelectedIds:p,itemRenderer:dbt,customSelectionIconRenderer:(e,t,n)=>{if(n){switch(m(n)){case tIt.SELECTED:return Ye.createElement(Iae,null);case tIt.PARTIALLY_SELECTED:return Ye.createElement(_Ee,null);default:return null}}return e?Ye.createElement(Iae,null):null},onSelectionChange:e=>{e.changedToSelected.forEach((e=>{h(e,!0)})),e.changedToUnselected.forEach((e=>{h(e,!1)}))},showSearchIcon:!0,title:b,height:"100%",width:"100%"}))},pbt={},mbt=bb.Ps`
  mutation setEstimateForIssues($input: SetMultipleEstimatesInput!) {
    setMultipleEstimates(input: $input) {
      issues {
        id
      }
    }
  }
`;const hbt={id:"clear-estimate",value:"Clear estimate from selected"},Ebt=Ye.createElement("span",null,"No estimates found"),gbt=(e,t)=>""===t?e:e.filter((e=>e.value.toString().includes(t))),fbt=e=>Ye.createElement("div",null,e.value),_bt=e=>e?Ye.createElement(Iae,null):null,vbt=e=>{let{setIsOpen:t,workspaceId:n,testId:s}=e;const r=(0,l3.I0)(),i=Ndt({workspaceId:n}),{showBulkActionSuccess:o,showBulkActionError:a,showBulkActionPending:l}=Xvt("estimate"),[c,d]=(0,Ye.useState)(void 0),u=(0,l3.v9)((e=>e.boardV2.selectedIssueIds)),{estimatesSource:p}=Fae({workspaceId:n}),m=(0,Ye.useMemo)((()=>xae(p.queryResult)),[p.queryResult.data?.nodes]),{hasOnlyPRsSelected:h,hasOnlyEstimatedIssuesSelected:E}=(0,Ye.useMemo)((()=>{const e=i(u),t=e.filter((e=>!e.pullRequest)),n=0===t.length,s=e.every((e=>null!=e.estimate?.value));return{hasOnlyPRsSelected:n,hasOnlyEstimatedIssuesSelected:s}}),[i,u]),g=(0,Ye.useMemo)((()=>[hbt,...m]),[m]),[f]=function(e){const t={...pbt,...e};return vK.D(mbt,t)}({onError:()=>{a()},onCompleted:()=>{o(u.length)}}),_=(0,Ye.useMemo)((()=>u.length>1?`Set an estimate to these ${u.length} issues`:1===u.length?"Set an estimate to this issue":"Set an estimate to these issues"),[u]),v=(0,Ye.useCallback)((()=>g),[g]),I=(0,Ye.useCallback)((()=>{d(void 0),t(!1)}),[d,t]),b=(0,Ye.useCallback)((()=>{const e=void 0!==c&&c!==hbt.id?parseFloat(c):null;f({variables:{input:{issueIds:u,value:e}}}),l(),I()}),[u,f,I,c]),y=(0,Ye.useCallback)((e=>{e?t(e):I()}),[I,t]),S=e=>{d(e!==c?e:void 0)},w=(0,Ye.useCallback)((()=>{r(Jr(Hdt.START_PLANNING_POKER))}),[]),R=(0,Ye.useMemo)((()=>Ye.createElement(x4e,{hasOnlyEstimatedIssuesSelected:E,hasOnlyPRsSelected:h,onClick:w})),[n,u]);return Ye.createElement(Vvt,{isOpen:!0,valid:Boolean(c),footerActions:R,onSubmit:b,setIsOpen:y,testId:s},Ye.createElement(qoe,{items:g,emptyState:Ebt,isLoading:p.queryResult.loading},(()=>Ye.createElement(gIt,{layoutClassName:Gvt.styleResetForSelectionList,emptyState:Ebt,filterFn:gbt,filterInputPlaceholder:"Filter estimates",items:g,customSelectionIconRenderer:_bt,selectedId:c,itemRenderer:fbt,onClickItem:S,tabs:[],tabFilterFn:v,title:_,width:"100%",height:"100%",hasItemBorder:!0}))))},Ibt=(0,Ye.memo)(vbt),bbt=[],ybt=e=>{let{workspaceId:t,setIsOpen:n}=e;const s=Ndt({workspaceId:t}),{selectedRepoIds:r,selectedIssueIds:i}=(0,l3.v9)((e=>({selectedRepoIds:e.boardV2.filters.repos.value,selectedIssueIds:e.boardV2.selectedIssueIds})),Uoe()),o=(0,Ye.useMemo)((()=>s(i).reduce(((e,t)=>(t.pullRequest||e.push(t.id),e)),[])),[s,i]),a=(0,Ye.useCallback)((()=>{n(!1)}),[n]),l=D5e({workspaceId:t,issueIds:o,onSubmit:a});return Ye.createElement(T5e,{workspaceId:t,issueIds:i,title:"Planning Poker participants",filterDefaultText:"Filter participants",emptyText:"No participants found",repoIds:r,onClose:a,onSubmit:l,votes:bbt,closeOnEsc:!1})},Sbt=e=>{let{workspaceId:t}=e;const{currentActiveModal:n,isInSelectionMode:s}=(0,l3.v9)((e=>({currentActiveModal:e.boardV2.activeBulkActionModal,isInSelectionMode:e.boardV2.selectedIssueIds.length>0})),Uoe()),r=(0,l3.I0)(),i=(0,Ye.useCallback)((e=>{e||r(Xr())}),[r]);return MLe({onEscape:()=>{n?i(!1):s&&r(Tr())}}),(0,Ye.useEffect)((()=>{n&&(H.Z.removeByType(W.Z.BOARD_SELECT_MULTIPLE),U1())}),[n]),Ye.createElement(Ye.Fragment,null,n===Hdt.MOVE&&Ye.createElement(PIt,{setIsOpen:i,workspaceId:t,testId:"move-to-pipeline-modal"}),n===Hdt.APPLY_LABELS&&Ye.createElement(iIt,{setIsOpen:i,workspaceId:t,testId:"apply-labels-modal"}),n===Hdt.SET_SPRINT&&Ye.createElement(YIt,{setIsOpen:i,workspaceId:t,testId:"set-sprint-modal"}),n===Hdt.ASSIGN_TO&&Ye.createElement(pIt,{setIsOpen:i,workspaceId:t,testId:"apply-assignees-modal"}),n===Hdt.SET_EPIC&&Ye.createElement(ubt,{workspaceId:t,setIsOpen:i,testId:"set-epic-modal"}),n===Hdt.SET_ESTIMATE&&Ye.createElement(Ibt,{setIsOpen:i,workspaceId:t,testId:"set-estimate-modal"}),n===Hdt.SET_RELEASE&&Ye.createElement(HIt,{setIsOpen:i,workspaceId:t,testId:"apply-releases-modal"}),n===Hdt.START_PLANNING_POKER&&Ye.createElement(ybt,{setIsOpen:i,workspaceId:t,testId:"start-planning-poker"}))},wbt=e=>{let{workspaceId:t}=e;const n=Mit(),s=(0,l3.v9)((e=>e.boardV2.selectedIssueIds.length>0)),r=(0,l3.v9)((e=>e.boardV2.isPipelinesErrorActive));return r?null:Ye.createElement(Ye.Fragment,null,s?Ye.createElement(Kdt,{isLocked:n,workspaceId:t}):Ye.createElement(Wvt,{isLocked:n,workspaceId:t}),Ye.createElement(Sbt,{workspaceId:t}),Ye.createElement(jvt,null))},Rbt=wbt,Tbt="WrWznk0Y1qsbIN1NZ4Tg",Cbt="iz1PV_yuHraqpkgy4Du9",kbt=e=>{let{match:t,onIssueOpenOverride:n}=e;const{cache:s}=(0,Dae.x)(),r=(0,l3.I0)(),{loadPersistedFilterValues:i}=Ele();J6e(),W6e();const o=(0,Ye.useMemo)((()=>(0,ha.OR)(t.params.workspaceSlug)),[t.params.workspaceSlug]);e4e(o),(0,Ye.useEffect)((()=>{J1("Board 2.0 Loaded");const e=document.querySelector(".zh-webapp");return e?.classList.add("zh-webapp--fixed-layout"),qI(),i(o),r(ei()),F&&mI(o,"board"),()=>{e?.classList.remove("zh-webapp--fixed-layout"),HI(),setTimeout((()=>{s.evict({fieldName:"searchClosedIssues"}),s.evict({fieldName:"searchClosedIssuesCounts"}),s.evict({fieldName:"searchIssuesByPipeline"}),s.evict({fieldName:"searchIssuesByPipelineCounts"}),s.gc()})),r(Dr()),r(Qr())}}),[]);return Ye.createElement("div",{className:Tbt},Ye.createElement(yBe,{pageName:"Board"}),Ye.createElement(_9e,null),Ye.createElement("div",{className:Cbt},Ye.createElement(sDe,null),Ye.createElement(aht,null),Ye.createElement(Rbt,{workspaceId:o}),Ye.createElement(Jmt,{workspaceId:o,onIssueOpenOverride:n}),null),Ye.createElement(lrt,null))},{board:Obt,shortcuts:Nbt}=LG,Pbt=e=>{const t=(0,l3.I0)(),{isFullScreen:n}=(0,l3.v9)((e=>({isFullScreen:EI()?e.boardV2?.settings?.isFullScreen:L_(e)})),l3.wU),s=UI(e.appWrapperEl),r=()=>{const e=EI();t(e?mi(!n):(n?Obt.hideFullScreen:Obt.showFullScreen)()),t(Nbt.trackShortcutsUsed(E8.BOARD_FULL_SCREEN.name))};return YOe(),(0,Ye.useEffect)((()=>(s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),BI(e.appWrapperEl)})),[]),(0,Ye.useEffect)((()=>{s();const e=document.querySelector(".zh-app");e?.classList[n?"add":"remove"]("zh-app--is-fullscreen");const{shortcuts:t}=E8.BOARD_FULL_SCREEN;return m8(t,r),()=>{e?.classList.remove("zh-app--is-fullscreen"),t&&h8(t)}}),[n]),Ye.createElement(kbt,e)},Abt=ee.qCK(ee.gxs(encodeURIComponent(oc),"none"),ee.gxs(encodeURIComponent(Ul),"none"),ee.gxs(encodeURIComponent(td),"none"),ee.v_p(","),ee.UID(encodeURIComponent)),Dbt=ee.qCK(Abt,ee.XPQ,(function(e,t){return ee.zGw(pv,ee.ETc(e))(t)})),Lbt=ee.qCK(encodeURI,ee.v_p(","));function zbt(e,t){return ee.zGw(ee.yGi(e,Dbt([e,"is"],t)),ee.yGi(ee.zoF(e,":not"),Dbt([e,"not"],t)),ee.yGi(ee.zoF(e,":settings"),Dbt([e,"settings"],t)))({})}ee.WAo(((e,t,n)=>({type:e,payload:{negated:t,filterKey:n}})));const Mbt=ee.qhW(ee.kKJ,encodeURIComponent);function xbt(e){if(zx.isUrlAsync)return;const{location:t}=e.getState().router,n=(e=>{const t=pv(e),n=D_(e),s=mv(e),r=hv(e)||!1,i=ee.vgT(ee.__,t),o=ee.vgT(ee.__,n);return ee.Jnq([zbt("labels",e),zbt("estimates",e),zbt("milestones",e),zbt("assignees",e),zbt("authors",e),zbt("epics",e),zbt("sprints",e),zbt("releases",e),{filterLogic:s,useDefaultFilterLogic:r,notFullScreen:!o("isFullScreen"),repos:ee.qCK(Lbt,i)("repos"),showOpenIssues:i("showOpenIssues"),showPRs:i("showPRs"),showClosed:o("showClosedPipeline"),showLabels:o("showLabels"),showEstimates:o("showEstimates"),showMilestones:o("showMilestones"),showPipelineDescriptions:o("showPipelineDescriptions"),showEpics:o("showEpics"),showReleases:o("showReleases"),showReviewers:o("showReviewers"),showDependencies:o("showDependencies"),search:Mbt(i("search")),dependencies:Mbt(i("dependencies").value),showInsights:o("showInsights")}])})(e.getState()),s=Ix(t.search),r=yx(n);(function(e){return ma.isBoardPath(e.pathname)})(t)&&s!==r&&e.dispatch((0,iR.gx)({pathname:t.pathname,hash:t.hash,search:`?${r}`}))}const Fbt=()=>Ye.createElement("div",{className:"zhc-board-loading__message"},Ye.createElement("span",null,Ye.createElement("strong",null,"Board cannot be loaded"),Ye.createElement("div",{className:"zhc-board-loading__title"},x?Ye.createElement(Ye.Fragment,null,"Review the\xa0"):Ye.createElement(Ye.Fragment,null,"Check out our\xa0",Ye.createElement("a",{href:"https://twitter.com/ZenHubStatus",target:"_blank",rel:"noopener noreferrer"},"Twitter feed\xa0"),"for live status updates or try our\xa0"),Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010362",target:"_blank",rel:"noopener noreferrer"},"troubleshooting guide"),"."),Ye.createElement("div",{className:"zhc-board-loading__content",style:{marginTop:"10px"}},"Need help?\xa0",Ye.createElement(kee,{email:"support@zenhub.com",headers:{subject:"Board cannot be loaded"},openInNewTab:!0},"Contact support")," ","and include a screenshot of the error."))),Ubt=Ye.createElement(CIe,{size:"xl",withMeta:!0}),Bbt=Ye.createElement(CIe,{size:"lg",withMeta:!0}),qbt=Ye.createElement(CIe,{size:"lg"}),Hbt=Ye.createElement(CIe,{size:"lg",withPR:!0}),Wbt=e=>Ye.createElement("div",{className:"zhc-board-loading__background__board__pipeline"},Ye.createElement("div",{className:"zhc-board-loading__pipeline-section"}),Ye.createElement("div",{className:"zhc-board-loading__pipeline-section"},e.map(((e,t)=>Ye.createElement(RIe,{key:t,marginSize:e}))))),jbt=e=>Ye.createElement("div",{className:"zhc-board-loading__background__board__pipeline"},Ye.createElement("div",{className:"zhc-board-loading__pipeline-section"}),Ye.createElement("div",{className:"zhc-board-loading__pipeline-section"},e.map(((e,t)=>Ye.createElement(Ye.Fragment,{key:t},e))))),Gbt=()=>Ye.createElement(Ye.Fragment,null,Wbt(["md","xl","lg","lg"]),Wbt(["xl","md","md"]),Wbt(["md","sm"]),Wbt(["xxl","md"]),Wbt(["xl","md","md"]),Wbt(["md"]),Wbt(["md","md"]),Wbt(["md","lg","lg"]),Wbt(["md","sm","md"])),Kbt=()=>Ye.createElement(Ye.Fragment,null,jbt([Ubt,Ubt,qbt]),jbt([Bbt,Bbt,Hbt]),jbt([Bbt,Bbt,qbt,Bbt]),jbt([qbt,Ubt,Bbt]),jbt([Bbt,Hbt,Ubt]),jbt([Bbt,Bbt,Bbt]),jbt([Bbt,qbt,Hbt,qbt]),jbt([qbt,Bbt,Ubt]),jbt([Bbt,Hbt,Bbt])),Vbt=e=>{let{isBoardLoading:t}=e;return t?Ye.createElement(Gbt,null):Ye.createElement(Kbt,null)};var $bt;!function(e){e.Empty="BoardEmpty",e.Loading="BoardLoading",e.Error="BoardError"}($bt||($bt={}));const Zbt=e=>{let{type:t}=e;const n=t===$bt.Error,s=t===$bt.Loading;return Ye.createElement("div",{className:"zhc-board-loading"},n&&Ye.createElement(Fbt,null),Ye.createElement("div",{className:"zhc-board-loading__background"},Ye.createElement("div",{className:"zhc-board-loading__background__topbar"},Ye.createElement(wIe,null),Ye.createElement(SIe,null)),Ye.createElement("div",{className:"zhc-board-loading__background__board"},Ye.createElement(Vbt,{isBoardLoading:s}))))},Ybt=(0,Ye.memo)(Zbt),Jbt="UxuprNw5ND6fDVxp6TD5",Xbt="mYB3_84QNjA5cSUm6ObS",Qbt="VzscR6YPUHwtRx_Xkf30",eyt="Bla7BPVnHhuZye2GlSDG",tyt=e=>{let{children:t,open:n=!0,onCollapse:s=_t.ZT,onExpand:r=_t.ZT}=e;return(0,Ye.useEffect)((()=>{n?r():s()}),[n,s,r]),Ye.createElement("div",{className:(0,_I.default)(Qbt,{[eyt]:n})},t)},nyt=Ye.forwardRef(((e,t)=>{let{open:n,setFeedback:s=(()=>{}),feedback:r}=e;const i=(0,Ye.useCallback)((e=>{s(e.target.value)}),[s]);return Ye.createElement(tyt,{open:n},Ye.createElement("textarea",{className:Jbt,onChange:i,placeholder:"Write your feedback...",ref:t,rows:3,value:r}),Ye.createElement(tyt,{open:r?.trim()?.length>600},Ye.createElement("div",{className:Xbt},"Feedback is limited to 600 characters")))})),syt=nyt,ryt="b9yrarLY2RFt9dHMrnfI",iyt="Dn_vdoN1DFEPT65T3Akl",oyt="uxfjuhrBMs4w37npXIG2",ayt="h_4hc2hmVc0T9JIKTAVv",lyt="h8DPAkChJ3rTCjfP26Rr",cyt="Guo5jX_k2d33fE30zfb_",dyt="PFCfsbm7cWFZgWYZIW7j";function uyt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const pyt="BoardV2 - Opt-out feedback form",myt=e=>{let{userEmail:t,onSubmitProductFeedback:n,onClose:s}=e;const[r,i]=(0,Ye.useState)(""),[o,a]=(0,Ye.useState)("open"),l=function(){var e,i=(e=function*(){a("submitting");const e=(e=>`BoardV2 feedback:\n${e||"n/a"}\n  `.trim())(r);yield n({variables:{input:{content:e,title:"BoardV2 Opt-out feedback",customerEmail:t??"",tags:["BoardV2 Opt-out feedback","BoardV2","Feedback","PBR"]}}}),r6(pyt,{Action:"Feedback given"}),a("submitted"),s()},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){uyt(i,s,r,o,a,"next",e)}function a(e){uyt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}(),c="open"!==o||!r.trim();return Ye.createElement("div",{className:ryt},Ye.createElement("form",{className:iyt},Ye.createElement("h3",{className:oyt},"Help us improve"),Ye.createElement("p",{className:ayt},"Looks like our new board might not be ready for you yet. We get it. It is an early access version for now."),Ye.createElement("div",{className:lyt},Ye.createElement(syt,{open:!0,feedback:r,setFeedback:i})),Ye.createElement("div",{className:cyt},Ye.createElement(H5,{className:dyt,color:L5.ACTION,disabled:c,dataTestId:"opt-out-toast-submit-button",onClick:l},"Submit"))))},hyt=()=>{const e=(0,l3.v9)(du),[t]=Att(),{hasOptOut:n,setHasOptOut:s}=OTe();return(0,Ye.useEffect)((()=>(n&&(H.Z.removeByType(W.Z.LARGE_CARD_PLAIN),H.Z.createToast(W.Z.LARGE_CARD_PLAIN,{hasMinimizeControl:!1,onClose:()=>{s(!1),r6(pyt,{Action:"No feedback given - Form Canceled"})},renderContents:n=>{let{onClose:s}=n;return Ye.createElement(myt,{userEmail:e,onSubmitProductFeedback:t,onClose:s})}})),()=>{H.Z.removeByType(W.Z.LARGE_CARD_PLAIN)})),[n]),null};class Eyt extends Ye.PureComponent{constructor(e){super(e),this.toggleFullscreen=this.toggleFullscreen.bind(this)}componentDidMount(){const{isExtension:e,shortcuts:t}=this.props;!ee.kKJ(t)&&e&&m8(t,this.toggleFullscreen)}UNSAFE_componentWillReceiveProps(e){const{isFullScreen:t,resizeHeight:n}=this.props,s=document.querySelector(".zh-app");s&&e.isFullScreen&&(s.classList.add("zh-app--is-fullscreen"),n()),s&&t&&!e.isFullScreen&&(s.classList.remove("zh-app--is-fullscreen"),n()),n&&e.isLoaded&&n()}componentDidUpdate(e){const{onLoad:t,isLoaded:n}=this.props;!e.isLoaded&&n&&requestAnimationFrame(t)}componentWillUnmount(){const e=document.querySelector(".zh-app");e&&e.classList.remove("zh-app--is-fullscreen");const{leaveBoard:t,shortcuts:n}=this.props;ee.kKJ(n)||(h8(n),t())}toggleFullscreen(){const{hideFullScreen:e,isFullScreen:t,onShortcutsUsed:n,showFullScreen:s}=this.props;(t?e:s)(),n()}render(){const{boardLoadType:e,children:t,dashboardUrl:n,isFullScreen:s,isLoaded:r,isReadOnly:i,selectOrgPath:o,workspaceName:a}=this.props,l=(0,_I.default)("zhc-board",{"zhc-board--is-fullscreen":r&&s}),c=r&&i?Ye.createElement(s4e,null):null,d=r?Ye.createElement(Ye.Fragment,null,Ye.createElement(sDe,null),t,Ye.createElement(hyt,null)):Ye.createElement(Ybt,{dashboardUrl:n,selectOrgPath:o,workspaceName:a,type:e});return Ye.createElement("div",{className:l},d,c)}}Eyt.defaultProps={boardLoadType:null,isFullScreen:!1,isLoaded:!1,isReadOnly:!1,leaveBoard:_t.ZT,onLoad:_t.ZT,onShortcutsUsed:_t.ZT,shortcuts:null,workspaceName:null},Eyt.propTypes={isExtension:SI().bool.isRequired,boardLoadType:SI().string,children:SI().node,dashboardUrl:SI().string,hideFullScreen:SI().func,isFullScreen:SI().bool,isLoaded:SI().bool,isReadOnly:SI().bool,leaveBoard:SI().func,resizeHeight:SI().func,selectOrgPath:SI().func,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),showFullScreen:SI().func,workspaceName:SI().string,onLoad:SI().func,onShortcutsUsed:SI().func};const gyt=Eyt;function fyt(){return fyt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fyt.apply(this,arguments)}const{board:_yt,shortcuts:vyt,notifications:Iyt}=LG,byt=vyt.trackShortcutsUsed.bind(null,E8.BOARD_FULL_SCREEN.name);class yyt extends Ye.PureComponent{constructor(){super(...arguments),this.onLoad=()=>{const{showNotifications:e,onLoad:t}=this.props;e&&this.fetchNotifications(),t()},this.fetchNotifications=()=>{const{loadNotifications:e,reposWithLoaded:t,connectedRepos:n}=this.props,s=ee.hXT((e=>t[e.repo_id].loaded),n);e({repos:s})}}render(){return Ye.createElement(gyt,fyt({},this.props,{onLoad:this.onLoad}))}}yyt.propTypes={connectedRepos:SI().arrayOf(SI().object).isRequired,loadNotifications:SI().func.isRequired,reposWithLoaded:SI().shape({}).isRequired,showNotifications:SI().bool,onLoad:SI().func},yyt.defaultProps={showNotifications:!1,onLoad:()=>{}};const Syt=(0,l3.$j)((function(e){const t=function(e){switch(bv(e)){case k_:return $bt.Error;case R_:case T_:return $bt.Loading;default:return null}}(e);return{boardLoadType:t,connectedRepos:Da(e),isExtension:F,isFullScreen:L_(e),isLoaded:ee.kKJ(t),isReadOnly:Ua(e),reposWithLoaded:fv(e),shortcuts:E8.BOARD_FULL_SCREEN.shortcuts,showNotifications:j_(e),workspaceName:Aa(e)}}),(function(e){return(0,mr.DE)({showFullScreen:_yt.showFullScreen,hideFullScreen:_yt.hideFullScreen,leaveBoard:_yt.leaveBoard,onShortcutsUsed:byt,loadNotifications:Iyt.loadNotificationsMultiRepos},e)}))(yyt),wyt=Vt.Z.groupObjPropsBy(((e,t)=>t.connections?.length?"connected":"notConnected"));const Ryt=e=>Qt(e)||null!=e.connectedPRs?e:{...e,connectedPRs:[]};const Tyt=e=>{const{connected:t,notConnected:n}=wyt(e),s=Object.values(t??{}).reduce(((e,t)=>{let n=!1;const s=(t.connections??[]).map((e=>an(e.issue))).reduce(((s,r)=>{const i=e[r];if(function(e,t){const n=Boolean(e),s=Boolean(e)&&Zt(e)&&Boolean(t)&&Zt(t),r=Boolean(t)&&Xt(t);return n&&s||n&&r}(i,t)){n=!0;const e=function(e,t){const n=e=>e.issue.repo_id===t.repo_id&&e.issue.issue_number===t.issue_number,s=t.connectedPRs||[],r=e.connections.find(n)?.created_at;if(!r)return t;const i=new Date(r);let o=0;for(;o<s.length;o+=1){const e=s[o].connections.find(n);if(!e)break;if(i<new Date(e.created_at))break}return s.splice(o,0,e),{...t,connectedPRs:s}}(t,i);return{...s,[r]:e}}return s}),e);return n?s:{...e,[an(t)]:t}}),n??{});return u$(s,Ryt)},Cyt="SORT_TYPE_NEWEST",kyt="SORT_TYPE_OLDEST",Oyt="SORT_TYPE_TITLE_AZ",Nyt="SORT_TYPE_TITLE_ZA",Pyt="SORT_TYPE_REPO",Ayt="SORT_TYPE_ESTIMATE",Dyt="SORT_TYPE_ASSIGNEES",Lyt="SORT_TYPE_MILESTONE";function zyt(e,t){const n=e.repo_id-t.repo_id;return 0!==n?n:e.issue_number-t.issue_number}function Myt(e){const t=ee.DYV(zyt,e.issues);return ee.yGi("issues",t,e)}const xyt=ee.jge("issue");function Fyt(e,t){const n=function(e){const t=uc();return ee.UID((e=>{const n=e.created_at;return{issue:e,timestamp:pc(n),fromTime:hc(n).from(t)}}),e)}(e),s=function(e,t){const n=t?-1:1;return ee.DYV(((e,t)=>e.timestamp===t.timestamp?zyt(e.issue,t.issue):(e.timestamp-t.timestamp)*n),e)}(n,t),r=ee.VO0(function(e){const t=pc(uc());return ee.u4g(((e,n)=>{const{fromTime:s}=n;let r=t-n.timestamp<=0?"today":s;if(r=ee.GBc(r.charAt(0))+r.slice(1),ee.kKJ(e[r])){const t={title:r,from:r,timedIssues:[n]};e[r]=t}else e[r].timedIssues.push(n);return e}),{},e)}(s)),i=function(e,t){const n=t?-1:1;return ee.DYV(((e,t)=>(e.timedIssues[0].timestamp-t.timedIssues[0].timestamp)*n),e)}(r,t);return ee.UID((e=>{const t=xyt(e.timedIssues);return ee.zGw(ee.anz("timedIssues"),ee.yGi("issues",t))(e)}),i)}function Uyt(e){return ee.zGw(ee.vgT("title"),ee.fyY,ee.t$q)(e)}const Byt=ee.WAo(((e,t,n)=>{const s=e?-1:1,r=Uyt(t),i=Uyt(n);return r===i?zyt(t,n):r.localeCompare(i)*s}));function qyt(e,t){return ee.DYV(Byt(t),e)}function Hyt(e){return`${e.organization}/${e.repo_name}`}function Wyt(e){const t=ee.VO0(function(e){return ee.u4g(((e,t)=>{const{repo_id:n}=t;if(ee.kKJ(e[n])){const s={title:`${t.organization}/${t.repo_name}`,organization:t.organization,repo_name:t.repo_name,repo_id:n,issues:[t]};e[n]=s}else e[n].issues.push(t);return e}),{},e)}(e)),n=ee.UID(Myt,t);return ee.MRu(ee.zGw(Hyt,ee.t$q),n)}function jyt(e){return ee.kKJ(e)?"":ee.xbD(e)?"unassigned":e.length>1?"multiple assignees":ee.zGw(ee.jge("login"),ee.v_p(", "))(e)}const Gyt=ee.DYV((function(e,t){return e.estimate===t.estimate?zyt(e,t):ee.kKJ(e.estimate)?1:ee.kKJ(t.estimate)||e.estimate<t.estimate?-1:1}));function Kyt(e){const t=function(e){return ee.u4g(((e,t)=>{let n,{milestone:s}=t;if(ee.kKJ(s)?(s=null,n="[null]"):n=Vl(s),ee.kKJ(e[n])){const r={title:ee.kKJ(s)?"No milestone":s.title,milestone:s,issues:[t]};e[n]=r}else e[n].issues.push(t);return e}),{},e)}(e),n=ee.UID(Myt,t),s=t["[null]"],r=ee.VO0(ee.anz("[null]",n)),i=ee.MRu(ee.zGw(ee.ETc(["milestone","title"]),ee.t$q),r);return ee.kKJ(s)?i:ee.R3I(s,i)}function Vyt(e){const t=function(e){return ee.u4g(((e,t)=>{const{assignees:n}=t;let s;if(s=ee.kKJ(n)||ee.xbD(n)?"[null]":n.length>1?"[multi]":n[0].login,ee.kKJ(e[s])){const r={title:jyt(n),assignees:n&&n.length>1?"[multi]":n,issues:[t]};e[s]=r}else e[s].issues.push(t);return e}),{},e)}(e),n=ee.UID(Myt,t),s=n["[multi]"],r=n["[null]"],i=ee.zGw(ee.anz("[multi]"),ee.anz("[null]"),ee.VO0)(n),o=ee.MRu(ee.zGw(ee.ETc(["assignees",0,"login"]),ee.t$q),i);return ee.zGw(ee.R3I(s),ee.R3I(r),ee.d1t(ee.kKJ))(o)}const $yt=ee.UID((function(e){if(ee.kKJ(e.sort_by))return e;const t=function(e,t){switch(t){case Cyt:return Fyt(e,!0);case kyt:return Fyt(e);case Oyt:return qyt(e);case Nyt:return qyt(e,!0);case Pyt:return Wyt(e);case Ayt:return Gyt(e);case Lyt:return Kyt(e);case Dyt:return Vyt(e);default:return e}}(e.issues,e.sort_by);return ee.yGi("issues",t,e)}));const Zyt=ee.ETc(["notifications","indexedNotifs"]),Yyt=(ee.ETc(["notifications","indexedSubscriptions"]),ee.ETc(["notifications","display","activeDropdown"]),(0,pa.P1)(Zyt,(e=>ee.UID((e=>ee.yGi("roundedCount",function(e){if(e.pageCount<=1){const t=ee.hXT(ee.OH4("unread",!0),e.notifications);return{strValue:`${ee.kE(t)}`,rounded:!1}}return{strValue:50*(e.pageCount-1)+"+",rounded:!0}}(e),e)))(e))));(0,pa.P1)(Yyt,(e=>{const t=ee.VO0(e),n=ee.u4g(((e,t)=>(t.roundedCount.rounded&&(e+=50*(t.pageCount-1)),e)),0,t),s=ee.u4g(((e,t)=>(t.roundedCount.rounded||(e+=Vt.Z.parseInt10(t.roundedCount.strValue)),e)),0,t);if(0===n)return`${s}`;return`${n+50*Math.floor(s/50)}+`}));var Jyt=n(48101),Xyt=n.n(Jyt),Qyt=n(13846),eSt=n(48206),tSt=n(55839),nSt=n.n(tSt);function sSt(){}function rSt(e,t,n){return Math.floor(Math.min(t,Math.max(e,n)))}function iSt(){return iSt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iSt.apply(this,arguments)}function oSt(e){return function(t,n){let{y:s,h:r,x:i,w:o}=t;const a=Math.min(r/2,e);if(n.y>=s&&n.y<=s+r&&n.x>=i&&n.x<=i+o){if(n.y<s+a)return(n.y-s-a)/a;if(n.y>s+r-a)return-(s+r-n.y-a)/a}return 0}}const aSt=(lSt=150,function(e,t){let{x:n,w:s,y:r,h:i}=e;const o=Math.min(s/2,lSt);if(t.x>=n&&t.x<=n+s&&t.y>=r&&t.y<=r+i){if(t.x<n+o)return(t.x-n-o)/o;if(t.x>n+s-o)return-(n+s-t.x-o)/o}return 0});var lSt;const cSt=oSt(150);function dSt(e){const t=function(e){class t extends Ye.Component{constructor(e,t){super(e,t),this.handleEvent=e=>{this.dragging&&!this.attached&&(this.attach(),this.updateScrolling(e))},this.updateScrolling=Ple()((e=>{const{left:t,top:n,width:s,height:r}=this.container.getBoundingClientRect(),i={x:t,y:n,w:s,h:r},o=function(e){return"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),{horizontalStrength:a,verticalStrength:l}=this.props;this.scaleX=a(i,o),this.scaleY=l(i,o),this.frame||!this.scaleX&&!this.scaleY||this.startScrolling()}),100,{trailing:!1}),this.wrappedInstance=Ye.createRef(),this.scaleX=0,this.scaleY=0,this.frame=null,this.attached=!1,this.dragging=!1}componentDidMount(){this.container=(0,vte.findDOMNode)(this.wrappedInstance.current),this.container&&"function"==typeof this.container.addEventListener&&this.container.addEventListener("dragover",this.handleEvent),window.document.body.addEventListener("touchmove",this.handleEvent);const{dragDropManager:e}=this.props;this.clearMonitorSubscription=e.getMonitor().subscribeToStateChange((()=>this.handleMonitorChange()))}componentWillUnmount(){this.container&&"function"==typeof this.container.removeEventListener&&this.container.removeEventListener("dragover",this.handleEvent),window.document.body.removeEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription(),this.stopScrolling()}handleMonitorChange(){const{dragDropManager:e}=this.props,t=e.getMonitor().isDragging();!this.dragging&&t?this.dragging=!0:this.dragging&&!t&&(this.dragging=!1,this.stopScrolling())}attach(){this.attached=!0,window.document.body.addEventListener("dragover",this.updateScrolling),window.document.body.addEventListener("touchmove",this.updateScrolling)}detach(){this.attached=!1,window.document.body.removeEventListener("dragover",this.updateScrolling),window.document.body.removeEventListener("touchmove",this.updateScrolling)}startScrolling(){let e=0;const t=()=>{const{scaleX:n,scaleY:s,container:r}=this,{strengthMultiplier:i,onScrollChange:o}=this.props;if(0!==i&&n+s!==0){if(e+=1,e%2){const{scrollLeft:e,scrollTop:t,scrollWidth:a,scrollHeight:l,clientWidth:c,clientHeight:d}=r;o(n?r.scrollLeft=rSt(0,a-c,e+n*i):e,s?r.scrollTop=rSt(0,l-d,t+s*i):t)}this.frame=window.requestAnimationFrame(t)}else this.stopScrolling()};t()}stopScrolling(){this.detach(),this.scaleX=0,this.scaleY=0,this.frame&&(window.cancelAnimationFrame(this.frame),this.frame=null)}render(){const{strengthMultiplier:t,verticalStrength:n,horizontalStrength:s,onScrollChange:r,dragDropManager:i,...o}=this.props;return Ye.createElement(e,iSt({ref:this.wrappedInstance},o))}}return t.displayName=`Scrolling(${(0,Qyt.Z)(e)})`,t.propTypes={dragDropManager:SI().object.isRequired,horizontalStrength:SI().func,strengthMultiplier:SI().number,verticalStrength:SI().func,onScrollChange:SI().func},t.defaultProps={onScrollChange:sSt,verticalStrength:cSt,horizontalStrength:aSt,strengthMultiplier:30},nSt()(t,e)}(e);return(0,Ye.forwardRef)(((e,n)=>Ye.createElement(eSt.L.Consumer,null,(s=>{let{dragDropManager:r}=s;return void 0===r?null:Ye.createElement(t,iSt({},e,{ref:n,dragDropManager:r}))}))))}var uSt=n(75818),pSt=n(80122);const mSt={pipeline:SI().shape({_id:SI().string,description:SI().string,name:SI().string})};class hSt extends Ye.Component{constructor(e){super(e),this.clearSort=this.clearSort.bind(this)}clearSort(){const{id:e,pipelineOnSetSort:t}=this.props;t({pipeline_id:e,sort_by:null})}render(){const{sortType:e,showNewIssueCreator:t}=this.props,n=(0,_I.default)("zhc-pipeline-sort-status",{"zhc-pipeline-sort-status--margin-bottom":t});return aP(e)?Ye.createElement("div",{className:n,"data-cy":"sort-status"},"Sorted by",Ye.createElement("span",{className:"zhc-pipeline-sort-status__type","data-cy":"-status-type"},cP(e)),Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,padding:M5.NONE,className:"zhc-pipeline-sort-status__clear",onClick:this.clearSort},"Clear")):null}}hSt.defaultProps={pipelineOnSetSort:ee.Bxt(),showNewIssueCreator:!1},hSt.propTypes={id:SI().string,pipelineOnSetSort:SI().func,showNewIssueCreator:SI().bool,sortType:SI().string};const ESt=hSt,gSt="FRs0uCwNSLoP0S2Ib0Bw",fSt="lfq6q2L3KJraJWizR7ZD",_St="H7iKyWyeDCzJgboY9OeU";function vSt(e){let{children:t,isDeleteDisabled:n,isEditDisabled:s,onDeleteClick:r,onEditClick:i,showPipelineDescriptions:o}=e;const[a,l]=(0,Ye.useState)(!1),c=(0,_I.default)([gSt],{[fSt]:a}),d=o?"Edit name and description":"Rename",u=Ye.createElement("div",null,t,Ye.createElement(D_e,{"data-cy":"edit-name-description",handler:i,iconComponent:Ye.createElement(KMe,null),title:d,isDisabled:s}),Ye.createElement(D_e,{"data-cy":"delete",handler:r,iconComponent:Ye.createElement(D4e,null),title:"Delete",isDisabled:n}));return Ye.createElement("div",{className:c,"data-testid":"pipeline-header-options"},Ye.createElement(NSe,{buttonVariant:z5.TEXT,buttonPadding:M5.NONE,buttonHeight:A5.SHORT,modifiers:["pipeline-options"],primaryIcon:Ye.createElement(_Se,{className:_St}),showHeaderX:!0,title:"Pipeline options",tooltipContent:"Pipeline options",onToggleOpenAndClosed:()=>l(!a)},u))}vSt.propTypes={onDeleteClick:SI().func.isRequired,onEditClick:SI().func.isRequired,children:SI().node,isDeleteDisabled:SI().bool,isEditDisabled:SI().bool,showPipelineDescriptions:SI().bool},vSt.defaultProps={children:null,isDeleteDisabled:!1,isEditDisabled:!1,showPipelineDescriptions:!1};const ISt=vSt;const bSt=[dP.MANUAL,dP.NEWEST,dP.OLDEST,dP.TITLE_AZ,dP.TITLE_ZA,dP.REPO,dP.ESTIMATE,dP.ASSIGNEES,dP.MILESTONE];class ySt extends Ye.PureComponent{constructor(e){super(e),this.getSortItem=this.getSortItem.bind(this)}getSortItem(e){const{id:t,pipelineOnSetSort:n,sortType:s}=this.props;return function(e,t,n,s){const r=e===dP.MANUAL,i=s===e||r&&ee.kKJ(s),o=i?Ye.createElement(f5,null):Ye.createElement("div",{className:"zhc-svg-icon"}),a={pipeline_id:n,sort_by:i?null:e};return Ye.createElement(A_e,{key:cP(e),title:cP(e),iconComponent:o,handler:t.bind(this,a),isDefault:r})}(e,n,t,s)}render(){const{sortType:e}=this.props,t=aP(e)&&"zhc-svg-icon--sort--is-sorted";return Ye.createElement(edt,{iconComponent:Ye.createElement(imt,{className:t}),text:"Sort pipeline",title:"Sort by",toggleOnXIconOnly:!0},ee.UID(this.getSortItem,bSt))}}ySt.defaultProps={pipelineOnSetSort:ee.Bxt()},ySt.propTypes={id:SI().string,pipelineOnSetSort:SI().func,sortType:SI().string};const SSt=ySt,wSt="Clear all",RSt=(0,_t.fB)("Point","Points"),TSt=(0,_t.fB)("Issue","Issues"),CSt=e=>0===e,kSt=(e,t)=>Ye.createElement(YI,{content:t,position:jI.TOP},e),OSt=e=>{let{id:t,isFilterActive:n,name:s,columns:r,isClosed:i,isPipelineSelectedAll:o,inSelectionMode:a,pipelineOnDelete:l,pipelineIssueCount:c,sortType:d,pipelineOnSetSort:u,isDragging:p,isLocked:m,canLoadMore:h,estimate:E,pipelineOnSetWidth:g,selectionThreshold:f,selectPipeline:_,showPipelineDescriptions:v,showNewIssueCreator:I,startEdit:b,toggleNewIssueCreator:y}=e;const[S,w]=(0,Ye.useState)(!1),[R,T]=(0,Ye.useState)(!1),[C,k]=(0,Ye.useState)(!1),[O,N]=(0,Ye.useState)(!1),P=(0,Ye.useRef)(),A=(0,Ye.useRef)(),D=aP(d),L=!i||n;(0,Ye.useEffect)((()=>{const e=L&&(0,_t.Co)(P.current),t=(0,_t.Co)(A.current);w(e),T(t)}),[c,E,i,a]);const z=(0,Ye.useCallback)((e=>O?e?.focus():null),[O]),M=e=>{N(!!e),r>0&&g({pipelineId:t,width:r-1})},x=e=>{N(!!e),D&&!q||(g({pipelineId:t,width:r+1}),q&&U())},F=()=>k(!0),U=()=>k(!1),B=(e,t)=>("Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),t.toLowerCase().includes("collapse")&&M(!0),t.toLowerCase().includes("expand")&&x(!0)),null),q=CSt(r),H=(e=>1===e)(r),W=H?Ye.createElement(ESt,{id:t,sortType:d,pipelineOnSetSort:u,showNewIssueCreator:I}):null,j=i?Ye.createElement(mKe,{className:"zhc-pipeline-header__closed-icon"}):null;let G;G=o?wSt:c>f?"Select first 50":"Select all";const K=a&&c>0&&!Qk(t)&&!q,V=!q&&!m&&!i,$=q||i?null:Ye.createElement(ISt,{isDeleteDisabled:m,isRenameDisabled:m,onDeleteClick:l,onEditClick:b,showPipelineDescriptions:v},Ye.createElement(k7,{name:"workspaces-select-all-in-pipeline"},c>0&&Ye.createElement(D_e,{handler:()=>{r6("Board Feature Clicked",{Feature:"Select All in Pipeline",Section:"Options menu"}),_()},iconComponent:Ye.createElement(Xje,null),title:G})),1===r&&Ye.createElement(SSt,{id:t,pipelineOnSetSort:u,sortType:d})),Z=(0,_I.default)("zhc-pipeline-header",{"zhc-pipeline-header--is-closed":i,"zhc-pipeline-header--is-collapsed":q,"zhc-pipeline-header--interactive":!m,"zhc-pipeline-header--is-dragging":p}),Y=(0,_I.default)("zhc-pipeline-header__actions",{"zhc-pipeline-header__actions--in-selection-mode":a}),J=(0,_I.default)("zhc-pipeline-header__settings-actions",Y),X=(0,_t.Jd)(E),Q=(0,_t.Jd)(c),ee=`- ${X} ${RSt(E)} `,te=`${Q}${h?"+":""} ${TSt(c)} `,ne=S?`${te} ${ee}`:"",se=kSt(Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{"data-cy":"issue-count",className:"zhc-pipeline-header__issue-count"},te),L&&Ye.createElement("span",{"data-cy":"story-points",className:"zhc-pipeline-header__story-points",ref:P},ee)),ne),re=R?s:"",ie=Ye.createElement("div",{className:"zhc-pipeline-header__info","data-cy":"pipeline-info",onDoubleClick:()=>{CSt(r)||i||m||b()},ref:A},kSt(Ye.createElement("span",{className:"zhc-pipeline-header__pipeline-name"},j,s),re)),oe=q||!m,ae=(0,_I.default)("zhc-pipeline-header__expand-collapse-btn-container",{visible:C}),le=D&&!q?"Cannot expand sorted pipeline":"Expand pipeline",ce="Collapse pipeline",de=D&&!q?"zhc-svg-icon--expand-right-arrow__disabled":"",ue=(0,_I.default)("zhc-pipeline-header__expand-btn-container",{"zhc-pipeline-header__expand-btn-container--hidden":m}),pe=q?Ye.createElement(H5,{ref:z,className:ue,onClick:()=>x(!1),onKeyDown:e=>B(e,le),"aria-label":le,role:"button",tabIndex:0,variant:z5.CONTAINED,padding:M5.NONE},kSt(Ye.createElement(Jpt,{"data-testid":"pipeline-header-expand-btn"}),le)):Ye.createElement("div",{className:ae},kSt(Ye.createElement("span",{"aria-label":ce,className:"zhc-pipeline-header__btn-wrapper",ref:z,tabIndex:"0",role:"button",onClick:()=>M(!1),onKeyDown:e=>B(e,ce),onFocus:F,onBlur:U},Ye.createElement(tmt,null)),ce),kSt(Ye.createElement("span",{"aria-label":le,className:"zhc-pipeline-header__btn-wrapper",ref:z,tabIndex:"0",role:"button",onClick:()=>x(!1),onKeyDown:e=>B(e,le),onFocus:F,onBlur:U},Ye.createElement(Jpt,{className:de})),le));return Ye.createElement("div",{className:Z,"data-zh-flyover":"interactive","data-cy":"pipeline-header"},oe&&pe,Ye.createElement("div",{className:"zhc-pipeline-header__main"},Ye.createElement("div",{className:"zhc-pipeline-header__view"},ie,Ye.createElement("div",{className:"zhc-pipeline-header__controls-container"},Ye.createElement("div",{className:"zhc-pipeline-header__meta"},se),!K&&Ye.createElement("div",{className:"zhc-pipeline-header__meta-btn-container"},Ye.createElement("div",{className:J},$),V&&Ye.createElement(vat,{onClick:y,isActive:I,id:t})),Ye.createElement(k7,{name:"workspaces-select-all-in-pipeline"},K&&Ye.createElement("div",{className:"zhc-pipeline-header__selection"},Ye.createElement(H5,{ariaLabel:`${G} Issues`,"data-cy":"select-all-issues",onClick:()=>(e=>{e!==wSt&&r6("Board Feature Clicked",{Feature:"Select All in Pipeline",Section:"Text link"}),XD(),_()})(G),color:L5.PRIMARY,variant:z5.TEXT,padding:M5.EXTRA_TIGHT},G)))))),W)};OSt.defaultProps={isClosed:!1,estimate:0,columns:1,pipelineIssueCount:0,pipelineOnSetSort:_t.ZT,pipelineOnDelete:()=>{},inSelectionMode:!1,isDragging:!1,isLocked:!1,canLoadMore:!1,sortType:dP.MANUAL,selectPipeline:_t.ZT,showNewIssueCreator:!1,showPipelineDescriptions:!1,isPipelineSelectedAll:!1},OSt.propTypes={id:SI().string.isRequired,isFilterActive:SI().bool.isRequired,name:SI().string.isRequired,startEdit:SI().func.isRequired,toggleNewIssueCreator:SI().func.isRequired,canLoadMore:SI().bool,columns:SI().number,estimate:SI().number,inSelectionMode:SI().bool,isClosed:SI().bool,isDragging:SI().bool,isLocked:SI().bool,isPipelineSelectedAll:SI().bool,pipelineIssueCount:SI().number,pipelineOnDelete:SI().func,pipelineOnSetSort:SI().func,pipelineOnSetWidth:SI().func,selectionThreshold:SI().number,selectPipeline:SI().func,showNewIssueCreator:SI().bool,showPipelineDescriptions:SI().bool,sortType:SI().string};const NSt=OSt;var PSt=n(73076),ASt=n(78111);const DSt=Object.freeze({PIPELINE:"PIPELINE"});function LSt(){return LSt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},LSt.apply(this,arguments)}const zSt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--notification",t].filter(Boolean).join(" "),"aria-label":"notification",role:"img",...n};return Ye.createElement("svg",LSt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M12.719 10.334V7.037c0-.989-.309-1.953-.881-2.756A4.703 4.703 0 009.524 2.56v-.025A1.53 1.53 0 008 1a1.53 1.53 0 00-1.525 1.535v.023a4.634 4.634 0 00-2.326 1.713 4.685 4.685 0 00-.869 2.766v3.297l-1.111 1.12a.574.574 0 00-.168.403v.645a.574.574 0 00.568.571h3.586v.07A1.85 1.85 0 008 15c1.02 0 1.846-.832 1.846-1.857v-.069h3.586a.567.567 0 00.568-.571v-.646a.573.573 0 00-.166-.404l-1.115-1.119zm-4.01 2.809a.712.712 0 01-.709.714.712.712 0 01-.71-.714v-.069h1.42v.069zM3.3 11.93l.95-.956a.576.576 0 00.167-.403V7.037A3.56 3.56 0 015.182 4.8a3.524 3.524 0 011.993-1.256.571.571 0 00.434-.556v-.453a.39.39 0 11.78 0v.453c0 .264.18.494.434.556.789.176 1.492.62 1.994 1.256.503.635.773 1.426.766 2.238v3.534c0 .152.06.297.166.404l.95.956H3.3z",fill:"currentColor"})))},MSt=ee.vgT("dependencyStatus"),xSt=(ee.CyQ(ee.xbD),ee.NQ5(["blocking","blocked_by"]),ee.OH4("state","open"));function FSt(e){switch(MSt(e)){case"BLOCKED_AND_BLOCKING":return Ye.createElement("div",null,"This Issue is ",Ye.createElement("span",{className:"zhu-font-bold zhu-color-text"},"blocked")," and"," ",Ye.createElement("span",{className:"zhu-font-bold zhu-color-text"}," blocking other Issues"));case"BLOCKING":return Ye.createElement("div",null,"This Issue is"," ",Ye.createElement("span",{className:"zhu-font-bold zhu-color-text"},"blocking other Issues"));case"BLOCKED":return Ye.createElement("div",null,"This Issue is ",Ye.createElement("span",{className:"zhu-font-bold zhu-color-text"},"blocked"));case"UNKNOWN":return Ye.createElement("div",null,"This Issue has ",Ye.createElement("b",null,"Dependencies outside of your current view"));default:return null}}class USt extends Ye.PureComponent{constructor(e){super(e),this.actionOnToggleIssueOptions=e=>{const{closeOption:t,openOption:n}=this.props;e?n():t()},this.actionIssueFetchDependencies=this.actionIssueFetchDependencies.bind(this)}componentWillUnmount(){const{closeOption:e}=this.props;e()}actionIssueFetchDependencies(){const{issue:e,issueFetchDependencies:t}=this.props;if(!e.dependencyStatus)return;t({repo_id:e.repo_id,issue_number:e.issue_number,dependencyStatus:e.dependencyStatus})}render(){const{children:e,isLocked:t,issue:n,inSelectionMode:s,hasUnreadNotification:r,shouldShowDependencyIcon:i}=this.props,o=MSt(n),a=i&&!t?Ye.createElement(_Se,null):null,l=function(e){switch(e){case"BLOCKED_AND_BLOCKING":return Ye.createElement(h7,null);case"BLOCKING":return Ye.createElement(p7,null);case"BLOCKED":return Ye.createElement(d7,null);default:return Ye.createElement(Xct,null)}}(o),c=i?l:Ye.createElement(_Se,null),d=r?Ye.createElement("span",{className:"zhc-icon--secondary-icon zhc-icon--has-notification"},Ye.createElement(zSt,null)):null,u=(0,_I.default)("zhc-issue-card__actions",{"zhc-issue-card__actions--has-dependency":i});if(s&&i){const e=(0,_I.default)("zhc-issue-card__actions__btn","zhc-issue-card__actions__btn--is-disabled");return Ye.createElement("div",{"data-testid":"selection-mode",className:u},Ye.createElement(H5,{disabled:!0,className:e,height:A5.SHORT},l))}return t&&!i?null:Ye.createElement("div",{className:u,"data-cy":"issue-card-action","data-testid":"dropdown-menu"},Ye.createElement(OSe,{customButtonClass:"zhc-issue-card__actions__btn",hoverableIcon:a,modifiers:["issue-card-actions"],onToggleOpenOnly:this.actionIssueFetchDependencies,onToggleOpenAndClosed:this.actionOnToggleIssueOptions,primaryIcon:c,secondaryIcon:d,showHeaderX:!0,buttonPadding:M5.EXTRA_TIGHT,buttonHeight:A5.SHORT,title:t?"Dependency options":"Issue options"},Ye.createElement("div",{className:"zhc-issue-card-actions-content"},e)))}}USt.propTypes={children:SI().node.isRequired,closeOption:SI().func.isRequired,hasUnreadNotification:SI().bool.isRequired,inSelectionMode:SI().bool.isRequired,isLocked:SI().bool.isRequired,issue:SI().shape({dependencyStatus:SI().string,issue_number:SI().number,repo_id:SI().number}).isRequired,openOption:SI().func.isRequired,shouldShowDependencyIcon:SI().bool.isRequired,issueFetchDependencies:SI().func},USt.defaultProps={issueFetchDependencies:()=>{}};const BSt=USt,qSt=(0,Ye.createContext)({});class HSt extends Ye.Component{constructor(e){super(e),this.setVisibleDividersByPipeline=(e,t)=>{let{visibleDividersByPipeline:n}=this.state;t!==ee.OH4(e,!0)(n)&&(n=t?ee.yGi(e,!0)(n):ee.anz(e,n),this.setState({visibleDividersByPipeline:n}))},this.state={visibleDividersByPipeline:{}}}render(){const{children:e}=this.props,{visibleDividersByPipeline:t}=this.state;return Ye.createElement(qSt.Provider,{value:{visibleDividersByPipeline:t,setVisibleDividersByPipeline:this.setVisibleDividersByPipeline}},e)}}HSt.propTypes={children:SI().node.isRequired};const WSt=HSt;function jSt(){return jSt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jSt.apply(this,arguments)}const GSt=e=>{let{setVisibleDividersByPipeline:t,pipelineId:n,children:s}=e;const r=function(e,t){const n=(0,Ye.useRef)(),s=(0,Ye.useCallback)(Ple()((s=>{let r=s;if(s&&!(0,_t.KN)(n.current)){const{innerHeight:e}=window,{top:t,height:s}=n.current.getBoundingClientRect();t+s>e&&(r=!1)}e(t,r)}),200,{leading:!0,trailing:!0}),[t]),r=n.current&&n.current.getBoundingClientRect().top;return(0,Ye.useEffect)((()=>{s(!0)}),[s,r]),(0,Ye.useEffect)((()=>()=>s(!1)),[s]),n}(t,n);return Ye.createElement("div",{ref:r},s)};GSt.propTypes={pipelineId:SI().string.isRequired,setVisibleDividersByPipeline:SI().func.isRequired,children:SI().node},GSt.defaultProps={children:null};const KSt=e=>Ye.createElement(qSt.Consumer,null,(t=>Ye.createElement(GSt,jSt({},e,{setVisibleDividersByPipeline:t.setVisibleDividersByPipeline}))));KSt.displayName="PriorityVisibilityTracker";const VSt=KSt,$St=e=>{let{modifiers:t=[]}=e;return Ye.createElement("span",{className:`zhc-icon${[" ",...Nse(t)].join(" ")}`},Ye.createElement("svg",{viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Ye.createElement("desc",null,"Pin icon indicating priority"),Ye.createElement("g",{id:"pin-priority",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M5.48682297,11.066165 L2.40009026,14.1528977 C1.7715509,14.7814371 0.828741861,13.8386281 1.45728122,13.2100887 L4.54401393,10.123356 L2.18699132,7.76633338 C1.89191492,7.47125698 1.93739425,6.98069756 2.28168782,6.74489658 C3.78971493,5.71207373 5.06818869,5.2836809 6.39075423,5.4198649 L7.94848279,3.86187476 C7.93094282,2.75303427 8.29046674,1.81445403 9.22460895,0.731278121 C9.47770586,0.437801952 9.92683688,0.421234269 10.2008682,0.69526557 L14.9149134,5.40931078 C15.1966712,5.69106861 15.1699697,6.15544082 14.8577733,6.40304608 C13.6006631,7.40006944 12.787691,7.74309072 11.7330373,7.67666209 L10.2051074,9.20459202 C10.4293896,10.6700857 9.95666993,12.0936751 8.81606218,13.3918191 C8.5618762,13.6811123 8.11615151,13.6954936 7.84384557,13.4231876 L5.48682297,11.066165 Z M8.83457017,9.13401749 C8.78240321,8.90973385 8.84967335,8.67440796 9.01249924,8.51158207 L11.0132252,6.51085615 C11.1601204,6.3639609 11.3670971,6.29393883 11.5730049,6.32147761 C12.2367009,6.41024244 12.6916526,6.31157023 13.4275065,5.807522 L9.79364927,2.17366475 C9.36200423,2.81987315 9.24006512,3.37653873 9.29254556,4.07546361 C9.3070845,4.26909059 9.2364833,4.45943438 9.09919445,4.59674629 L7.099066,6.59721059 C6.9451344,6.75116805 6.72572597,6.82026474 6.51135215,6.78229503 C5.63027363,6.62623914 4.76995252,6.81032052 3.7191149,7.41283887 L8.25310869,11.9468327 C8.87250369,11.0298907 9.05803607,10.0947739 8.83457017,9.13401749 Z",fill:"currentColor",fillRule:"nonzero"}))))},ZSt=e=>e.assignee&&!e.assignees?e.assignee:e.assignees&&e.assignees.length>0?e.assignees[0]:null;class YSt extends Ye.PureComponent{constructor(e){super(e),this.state={isHoveringAssignee:!1},this.onMouseOverAssignee=this.onMouseOverAssignee.bind(this),this.onMouseOutAssignee=this.onMouseOutAssignee.bind(this),this.onClickAssignee=this.onClickAssignee.bind(this)}onMouseOverAssignee(){const{issue:e}=this.props;"closed"!==e.state&&this.setState({isHoveringAssignee:!0})}onMouseOutAssignee(){this.setState({isHoveringAssignee:!1})}onClickAssignee(e){const{issue:t,issueOnClickSelect:n,pipelineId:s}=this.props;n({issue:m9e(t,s)}),e&&!e.shiftKey&&e.stopPropagation()}render(){const{issue:e,isReadOnly:t,isHoveringIssue:n}=this.props,{isHoveringAssignee:s}=this.state,r=xP(e),i=!r&&!t,o=s&&!e.isSelected,a=(0,_I.default)("zhc-issue-card__heading",{"zhc-issue-card__heading--is-hovered":o&&i,"zhc-issue-card__heading--is-selected":e.isSelected}),l=(0,_I.default)("zhc-issue-card__select-icon--hovered",{"zhc-issue-card__select-icon--hovering-icon":s}),c=e.assignees||[],d=(0,_I.default)("zhc-issue-card__priority",{"zhc-issue-card__priority--is-closed":r}),u=(0,_I.default)("zhc-issue-card__repo-name",{"zhc-issue-card__repo-name--is-closed":r}),p=(0,_I.default)("zhc-issue-card__issue-number",{"zhc-issue-card__issue-number--is-closed":r});return Ye.createElement("div",{className:"zhc-issue-card__header","data-cy":"issue-card-header"},KP(e)&&Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:`${d} zhu-font-semi zhu-font-small`,"data-cy":"issue-card-priority"},Ye.createElement($St,{modifiers:["smaller"]}),ee.ETc(["priority","name"],e))),Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__meta"},qP(e)||BP(e)?Ye.createElement(met,{type:qP(e)?"PULL_REQUEST":"EPIC",assignees:c,isHoveringIssue:n,isSelected:e.isSelected,onMouseOver:this.onMouseOverAssignee,onMouseOut:this.onMouseOutAssignee,onClick:this.onClickAssignee,pullRequestData:e.pull_request_data,shouldSelect:i}):Ye.createElement(Eet,{assignee:ZSt(e),assignees:c,isHoveringIssue:n,isSelected:e.isSelected,onMouseOverAssignee:this.onMouseOverAssignee,onMouseOutAssignee:this.onMouseOutAssignee,onClickAssignee:this.onClickAssignee,shouldSelect:i}),n&&!e.isSelected&&i&&Ye.createElement(eOe,{className:l}),e.isSelected&&Ye.createElement(eOe,{className:"zhc-issue-card__select-icon--selected"})),Ye.createElement("div",{className:"zhc-issue-card__section__content"},Ye.createElement("div",{className:a},Ye.createElement("div",{className:"zhc-issue-card__select-message"},"Click to select"),Ye.createElement("div",{className:"zhc-issue-card__heading__main"},Ye.createElement("span",{className:u,"data-cy":"repo-name"},e.repo_name),Ye.createElement("span",{className:p,"data-cy":"issue-number"},"#",e.issue_number))),Ye.createElement("div",{className:"zhc-issue-card__issue-title","data-cy":"issue-title"},e.title))))}}YSt.defaultProps={issueOnClickSelect:()=>{}};const JSt=YSt,XSt=e=>{let{title:t}=e;return Ye.createElement("div",{className:"zhc-issue-card__milestone"},Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__meta"},Ye.createElement(Zee,null)),Ye.createElement("div",{className:"zhc-issue-card__section__content"},Ye.createElement("span",{className:"zhc-issue-card__milestone__title","data-cy":"milestone-title"},t))))};XSt.propTypes={title:SI().string.isRequired};const QSt=Ye.memo(XSt),ewt=SI().shape({release_id:SI().string.isRequired,title:SI().string.isRequired}),twt=e=>{let{releases:t,issuePath:n}=e;const s=t.map((e=>Ye.createElement("span",{className:"zhc-issue-card__release-title","data-cy":"release-title",key:`${n}${e.release_id}`},e.title)));return Ye.createElement("div",{className:"zhc-issue-card__releases"},Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__meta"},Ye.createElement(nre,null)),Ye.createElement("div",{className:"zhc-issue-card__section__content"},s)))};twt.propTypes={issuePath:SI().string.isRequired,releases:SI().arrayOf(ewt).isRequired};const nwt=Ye.memo(twt),swt=e=>{let{sprints:t}=e;const n=(0,l3.v9)(Pa),s=t.filter((e=>e.workspace_id===n));if(0===s.length)return null;const r=s.map((e=>Ye.createElement("p",{className:"zhc-issue-card__sprint-title","data-cy":"sprint-title",key:e.id},e.name)));return Ye.createElement("div",{className:"zhc-issue-card__sprints"},Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__meta"},Ye.createElement(rre,null)),Ye.createElement("div",{className:"zhc-issue-card__section__content"},r)))},rwt=Ye.memo(swt),iwt=e=>{let{isFilterSet:t,isEnabled:n,onClick:s}=e;const r=t?"Remove Epic filter":"Filter by Epic Issues",i=n?s:_t.ZT,o=t?Ye.createElement(R7,{className:"zhc-issue-card-epic-filter__icon"}):null;return Ye.createElement("div",{className:"zhc-issue-card__epic-filter"},Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__content"},Ye.createElement(H5,{className:"zhc-issue-card__epic-filter__btn",variant:z5.OUTLINED,color:t?L5.SECONDARY:L5.PRIMARY,height:A5.SHORT,onClick:i,disabled:!n},Ye.createElement("span",{className:"zhc-issue-card__epic-filter__text"},r),o))))};iwt.propTypes={isEnabled:SI().bool,isFilterSet:SI().bool,onClick:SI().func},iwt.defaultProps={isEnabled:!0,isFilterSet:!1,onClick:()=>{}};const owt=Ye.memo(iwt),awt=e=>{let{title:t}=e;return Ye.createElement("span",{className:"zhc-issue-card__epics__title","data-cy":"epic-title"},t)};awt.propTypes={title:SI().string.isRequired};const lwt=e=>{let{epicTitles:t}=e;const n=t.map((e=>Ye.createElement(awt,{title:e,key:e})));return Ye.createElement("div",{className:"zhc-issue-card__epics"},Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__meta"},Ye.createElement(ere,null)),Ye.createElement("div",{className:"zhc-issue-card__section__content"},n)))};lwt.propTypes={epicTitles:SI().arrayOf(SI().string).isRequired};const cwt=Ye.memo(lwt);class dwt extends Ye.PureComponent{constructor(){super(...arguments),this._handleIssueClick=e=>{e.stopPropagation();const t=Dne(e);this.executeIssueClick(t)},this._handleMouseUp=e=>{1===e.button&&(e.stopPropagation(),this.executeIssueClick(!0))}}executeIssueClick(e){const{issueOnClick:t,issue:n,inSelectionMode:s}=this.props;s||t(n,e)}render(){const{issue:e,showLabels:t,showEstimates:n,showReviewers:s}=this.props,{labels:r,estimate:i}=e,o=e.assignees||[],a=e.assignee||o[0],l=xP(e),c=(0,_I.default)("zhc-issue-card__repo-name",{"zhc-issue-card__repo-name--is-closed":l}),d=(0,_I.default)("zhc-issue-card__issue-number",{"zhc-issue-card__issue-number--is-closed":l});return Ye.createElement("div",{className:"zhc-issue-card__connected-pull-request",onClick:this._handleIssueClick,onMouseUp:this._handleMouseUp,"data-testid":"zh-connected-pr"},Ye.createElement("div",{className:"zhc-issue-card__header"},Ye.createElement("div",{className:"zhc-issue-card__section"},Ye.createElement("div",{className:"zhc-issue-card__section__meta"},qP(e)?Ye.createElement(met,{assignees:o,pullRequestData:e.pull_request_data}):Ye.createElement(Eet,{assignee:a,assignees:o})),Ye.createElement("div",{className:"zhc-issue-card__section__content"},Ye.createElement("div",{className:"zhc-issue-card__heading"},Ye.createElement("div",{className:"zhc-issue-card__heading__main"},Ye.createElement("span",{className:c},e.repo_name),Ye.createElement("span",{className:d},"#",e.issue_number)),Ye.createElement("div",{className:"zhc-issue-card__issue-title"},e.title))))),Ye.createElement(fwt,{authorLogin:e.user?.login,labels:r,estimate:i,reviewers:e.pull_request_reviews,reviewRequests:e.review_requests,showLabels:t,showEstimates:n,showReviewers:s,isClosed:xP(e)}))}}class uwt extends Ye.PureComponent{render(){const{pullRequests:e,issueOnClick:t,inSelectionMode:n,showLabels:s,showEstimates:r,showReviewers:i}=this.props;return(0,_t.KN)(e)?null:Ye.createElement("div",{className:"zhc-issue-card__connected-pull-requests"},e.map((e=>Ye.createElement(dwt,{key:LP(e),issue:e,issueOnClick:t,inSelectionMode:n,showLabels:s,showEstimates:r,showReviewers:i}))))}}uwt.defaultProps={pullRequests:[],showLabels:!0,showEstimates:!0,showReviewers:!0};const pwt=uwt,mwt=(e,t)=>ee.v_p("-",[e.name,e.color,t]),hwt=(e,t,n)=>{const s=(e||[]).map((e=>{const{id:t,state:n,submitted_at:s,login:r,avatar_url:i}=e;return{id:String(t),state:klt(n),submittedAt:s,user:{login:r,avatarUrl:i}}}));const r=(e=>e.map((e=>({id:String(e.id),state:"PENDING",submittedAt:null,user:{avatarUrl:e.avatar_url,login:e.login}}))))(t);return Dlt(r,s,n)},Ewt=e=>{let{estimate:t,estimationStatus:n,isIssueClosed:s,labels:r,reviewers:i,showEstimates:o,showLabels:a,showReviewers:l}=e;return Ye.createElement("div",{className:"zhc-issue-card__meta__badges","data-cy":"issue-card-badges"},o?Ye.createElement(Slt,{estimate:t,estimationStatus:n,isIssueClosed:s}):null,l?Ye.createElement(Qlt,{reviewers:i}):null,a?r.map(((e,t)=>Ye.createElement(uue,{key:mwt(e,t),name:e.name,color:e.color}))):null)},gwt=e=>{let{authorLogin:t=null,estimate:n,estimationStatus:s=null,labels:r,connectedPRs:i=[],inSelectionMode:o=!1,isClosed:a=!1,issueOnClick:l=(()=>{}),reviewRequests:c=[],reviewers:d=[],showLabels:u=!0,showEstimates:p=!0,showPRs:m=!0,showReviewers:h=!0}=e;const E=!(0,_t.KN)(i)&&m,g=p&&(ee.is(Number,n)||s),f=h&&(Boolean(d?.length)||Boolean(c?.length)),_=u&&!(0,_t.KN)(r),v=g||_||f,I=v||E,b=f?hwt(d,c,t):[];return I?Ye.createElement("div",{className:"zhc-issue-card__meta"},v?Ye.createElement(Ewt,{labels:r,estimate:n,estimationStatus:s,showLabels:u,showEstimates:p,showReviewers:f,isIssueClosed:a,reviewers:b}):null,E?Ye.createElement(pwt,{showLabels:u,showEstimates:p,showReviewers:h,pullRequests:i,issueOnClick:l,inSelectionMode:o}):null):null},fwt=Ye.memo(gwt,((e,t)=>e.estimate===t.estimate&&e.labels===t.labels&&e.reviewers===t.reviewers&&e.isClosed===t.isClosed&&e.showLabels===t.showLabels&&e.showEstimates===t.showEstimates&&e.connectedPRs===t.connectedPRs&&e.inSelectionMode===t.inSelectionMode&&e.showReviewers===t.showReviewers));function _wt(e,t){if(t.sourcePipelineId!==t.pipelineId)return t.index;const n=t.issue,s=ee.OH4("_id",t.pipelineId),r=function(e,t){return ee.cxD(DP(t),e.issues)}(ee.sEJ(s,e),n);return t.index>=r?t.index+1:t.index}function vwt(e,t){const n=t.getItem(),{issue:s,sourcePipelineId:r,pipelineId:i}=n,o=e.getPipelines(),a=ee.OH4("_id",i),l=ee.sEJ(a,o),c=r===i,d=n.sourceIssueIndex===n.index,u=gP(l);if(c&&(u||d))return;let p,m=_wt(o,n);if(CP(l)||(m=((e,t,n,s)=>{let r=e;const i=KP(n.issue),o=!(0,_t.KN)(s.issue),a=o&&!KP(s.issue),l=o&&KP(s.issue),c=e===t.issues.length,d=VP(t.issues);return!i||o&&!a||(r=d),!i&&l&&(r=d),i||o||c||(r=d),r})(m,l,n,e)),p=u?null:l.issues[m]||null,!(0,_t.KN)(p)&&p.issue_path===n.issue.issue_path)return;const{id:h,title:E,issue_number:g,repo_id:f,repo_name:_,html_url:v,connectedPRs:I}=s,b={id:h,issue_title:E,issue_number:g,from_pipeline_id:r,pipeline_id:i,repo_id:f,organization:AP(v),repo:_,board_id:n.boardId,next_issue:p,connectedPRs:I};n.onDrop(b)}const Iwt=function(e,t){e.beforeMoveIssue(),vwt(e,t)},bwt="ISSUE_CARD",ywt=e=>{let{issue:t,isLocked:n}=e;const s=t&&t.pull_request&&"closed"===t.state;return!(n||s)},Swt={beginDrag(e,t,n){const s=(0,vte.findDOMNode)(n).getBoundingClientRect().height;return e.onDragStart({type:"issue"}),{index:e.index,issue:e.issue,pipelineId:e.pipelineId,sourceIssueIndex:e.index,sourcePipelineId:e.pipelineId,onDrop:e.onDrop,boardId:e.boardId,nodeHeight:s,groupIndex:e.groupIndex,groupIssueIndex:e.groupIssueIndex,sourceGroupIndex:e.groupIndex,sourceGroupIssueIndex:e.groupIssueIndex}},endDrag(e){e.onDragEnd({type:"issue"})},isDragging(e,t){const n=t.getItem().issue;return e.issue.issue_number===n.issue_number&&e.issue.repo_id===n.repo_id},canDrag:ywt};const wwt={hover(e,t,n){if(e.isDragging||e.preventDrop)return;const s=t.getItem();if(e.pipelineId!==s.pipelineId)return void e.onHover(s,e);const r=(0,vte.findDOMNode)(n).getBoundingClientRect(),i=t.getClientOffset().y;if(i<r.top||r.bottom<i)return;const o=s.nodeHeight;if(s.index>e.index&&i<r.top+o)return void e.onHover(s,e);(KP(s.issue)?s.index-1:s.index)<e.index&&i>r.bottom-o&&e.onHover(s,e)},canDrop:ywt,drop:Iwt},Rwt={arePropsEqual:(e,t)=>!!e.isDragging&&e.index===t.index},Twt={arePropsEqual:(e,t)=>!!e.isDragging&&(t.isDragging&&e.index===t.index)};const Cwt=(0,PSt.E)(bwt,Swt,(function(e,t){return{dragSource:e.dragSource(),isDragging:t.isDragging()}}),Rwt),kwt=(0,ASt.G)(bwt,wwt,(function(e){return{dropTarget:e.dropTarget()}}),Twt),Owt=ee.qCK(Cwt,kwt),Nwt=e=>{let{issueOnOpen:t,hasUnreadNotification:n}=e;return n?Ye.createElement("div",{"data-testid":"notification-action",className:"zhc-issue-card__action-notification"},Ye.createElement("div",{"data-testid":"action-item",onClick:t,className:"zhc-selection-list-item zhc-selection-item"},Ye.createElement("span",{className:"zhc-issue-card__action-notification__has-notification"},Ye.createElement(zSt,null)),Ye.createElement("span",{className:"zhu-font-bold zhu-color-text"},"New activity"),"\xa0on this issue")):null};Nwt.propTypes={issueOnOpen:SI().func.isRequired,hasUnreadNotification:SI().bool},Nwt.defaultProps={hasUnreadNotification:!1};const Pwt=Nwt,Awt=e=>{const{issue:t,issueAddHighPriority:n,issueOnClickClose:s,issueOnClickSelect:r,issueOnClickSendBottom:i,issueOnClickSendTop:o,issueRemoveHighPriority:a,pipelineId:l}=e,c=(0,l3.v9)(Pv),d=KP(t),u=qP(t),p={title:"Pin to top and set as high priority",icon:Ye.createElement(fdt,null),onClick:()=>{n({issue:t})}},m={title:"Remove high priority",icon:Ye.createElement(vdt,null),onClick:()=>{a({issue:t})}},h={title:"Select issue",icon:Ye.createElement(Xje,null),closeFlyover:!0,onClick:()=>{r({issue:m9e(t,l)})}},E={title:"Close issue",icon:Ye.createElement(n5,null),onClick:()=>{const e=AP(t.html_url),n={...t,organization:e};s(n)}},g={title:"Send to top",icon:Ye.createElement(e9e,null),onClick:()=>{o({issue:t,pipelineId:l,issuePriorities:c})}},f={title:"Send to bottom",icon:Ye.createElement(n9e,null),onClick:()=>{i({issue:t,pipelineId:l,issuePriorities:c})}};return(d?[m,h,E,{title:"Send to top of high priorities",icon:Ye.createElement(e9e,null),onClick:()=>{o({issue:t,pipelineId:l,issuePriorities:c})}},{title:"Send to bottom of high priorities",icon:Ye.createElement(n9e,null),onClick:()=>{i({issue:t,pipelineId:l,issuePriorities:c})}}]:u?[h,E,g,f]:[p,h,E,g,f]).map((e=>Ye.createElement(D_e,{"data-cy":"option-item","data-zh-flyover":e.closeFlyover?"close":void 0,key:e.title,handler:e.onClick,iconComponent:e.icon,title:e.title})))};Awt.propTypes={issue:SI().shape({}).isRequired,issueAddHighPriority:SI().func.isRequired,issueOnClickClose:SI().func.isRequired,issueOnClickSelect:SI().func.isRequired,issueOnClickSendBottom:SI().func.isRequired,issueOnClickSendTop:SI().func.isRequired,issueRemoveHighPriority:SI().func.isRequired,pipelineId:SI().string.isRequired};const Dwt=Awt,Lwt=e=>{let{"data-cy":t,"data-testid":n,header:s,dependencies:r}=e;return Ye.createElement("div",{className:"zhc-dependency-item-simple","data-cy":t,"data-testid":n},Ye.createElement("div",{className:"zhc-dependency-item-simple__header"},s),r.map((e=>Zne(ma.getRepoIssuePath({organization:e.organization,repository:e.repo_name,issue_number:e.issue_number}),Ye.createElement(A_e,{title:e.title}),{forExt:!0,forWebapp:!0},{key:e.issue_number}))))};Lwt.propTypes={dependencies:SI().arrayOf(SI().object).isRequired,header:SI().string.isRequired,"data-cy":SI().string,"data-testid":SI().string},Lwt.defaultProps={"data-cy":null,"data-testid":null};const zwt=(0,Ye.memo)(Lwt),Mwt=e=>{let{issue:t}=e;const n=t.blocked_by.filter(xSt),s=t.blocking.filter(xSt),r=[...s,...n],i=ee.xbD(n)?null:Ye.createElement(zwt,{"data-cy":"blocked-items","data-testid":"blocked-items",header:"This issue is blocked by",dependencies:n}),o=ee.xbD(s)?null:Ye.createElement(zwt,{"data-cy":"blocking-items","data-testid":"blocking-items",header:"This issue is blocking",dependencies:s}),a=[...t.blocked_by,...t.blocking],l=a.filter((e=>"state"in e));return a.length!==l.length?Ye.createElement("div",{className:"zhc-issue-card-actions-content__single-item","data-testid":"loading-spinner"},Ye.createElement(F5,{modifiers:["no-outline","no-padding"],radius:7.5,stroke:2}),"Loading dependencies..."):ee.xbD(r)?Ye.createElement("div",{"data-testid":"closed-message",className:"zhc-issue-card-actions-content__single-item"},"All issues have been closed"):Ye.createElement(Ye.Fragment,null,i,o)};Mwt.propTypes={issue:SI().shape({blocked_by:SI().arrayOf(SI().shape({})),blocking:SI().arrayOf(SI().shape({}))}).isRequired};const xwt=e=>{const{issue:t,dependenciesFilter:n,clearDependenciesFilter:s,filterIssueDependencies:r}=e,i=LP(t)===n,o=i?"Clear dependencies filter":"Filter board by issue dependencies",a=i?s:()=>r(t),l=Ye.createElement(A_e,{"data-cy":"filter-dependencies","data-testid":"filter-dependencies",handler:a,title:o}),c=Ye.createElement("div",{className:"zhc-issue-card__actions__dependency-section"},Ye.createElement(edt,{showHeaderX:window.USER_HAS_FEELINGS,text:FSt(t),toggleOnXIconOnly:!0},Ye.createElement(Mwt,{issue:t})));return Ye.createElement(Ye.Fragment,null,l,c)};xwt.propTypes={clearDependenciesFilter:SI().func.isRequired,filterIssueDependencies:SI().func.isRequired,issue:SI().shape({}).isRequired,dependenciesFilter:SI().string},xwt.defaultProps={dependenciesFilter:""};const Fwt=xwt;function Uwt(){return Uwt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Uwt.apply(this,arguments)}const Bwt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--assignee-soft",t].filter(Boolean).join(" "),"aria-label":"assignee-soft",role:"img",...n};return Ye.createElement("svg",Uwt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("path",{d:"M5.156 6.25c-.506 0-.926.396-.926.875V11.5h1.853l-.007 2.326c0 .479.42.875.927.875h1.853c.507 0 .926-.396.926-.875L9.79 11.5h1.853V7.125c0-.479-.42-.875-.927-.875h-5.56zm4.633 4.375v-1.75h-.927l-.006 4.951H7.003l.006-4.951h-.926v1.75h-.927v-3.5h5.56v3.5h-.927zM7.936 1c-1.38 0-2.499 1.057-2.499 2.36s1.12 2.36 2.499 2.36c1.38 0 2.499-1.057 2.499-2.36S9.315 1 7.935 1h.001zM6.27 3.36c0-.873.742-1.573 1.666-1.573.924 0 1.666.7 1.666 1.573S8.86 4.933 7.936 4.933c-.924 0-1.666-.7-1.666-1.573z",fill:"currentColor",fillRule:"nonzero"})))},qwt=e=>{const{openAssigneeMenu:t,openLabelMenu:n,openMilestoneMenu:s,openSprintMenu:r,filteredRepos:i,issue:o,addIssueToSelected:a}=e,l=(0,Ye.useCallback)((()=>{a(o),t(i)}),[a,o,t,i]),c=(0,Ye.useCallback)((()=>{a(o),n(i)}),[a,o,n,i]),d=(0,Ye.useCallback)((()=>{a(o),s(i)}),[a,o,s,i]),u=(0,Ye.useCallback)((()=>{a(o),r()}),[a,r,o]);return Ye.createElement("div",{className:"zhc-issue-card__actions__quick-action-section"},Ye.createElement(A_e,{"data-cy":"assign-to",handler:l,iconComponent:Ye.createElement(Bwt,null),title:"Assign to","data-testid":"action-assign-to"}),Ye.createElement(A_e,{"data-cy":"apply-labels",handler:c,iconComponent:Ye.createElement(Zfe,null),title:"Apply labels","data-testid":"action-apply-labels"}),Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(A_e,{"data-cy":"set-milestone",handler:d,iconComponent:Ye.createElement(Zee,null),title:"Set milestone","data-testid":"action-set-milestone"})),Ye.createElement(A_e,{"data-cy":"set-sprint",handler:u,iconComponent:Ye.createElement(rre,null),title:"Set sprint","data-testid":"action-set-sprint"}))};qwt.propTypes={addIssueToSelected:SI().func.isRequired,filteredRepos:SI().arrayOf(SI().number).isRequired,issue:SI().shape({}).isRequired,openAssigneeMenu:SI().func.isRequired,openLabelMenu:SI().func.isRequired,openMilestoneMenu:SI().func.isRequired,openSprintMenu:SI().func.isRequired};const Hwt=Ye.memo(qwt),{shared:Wwt,board:jwt}=LG;Hwt.propsTypes={issue:SI().shape({}).isRequired,filteredRepos:SI().arrayOf(SI().string).isRequired,openAssigneeMenu:SI().func.isRequired};const Gwt=(0,l3.$j)((e=>({filteredRepos:Gv(e),isReadOnly:Ua(e),selectedIssues:Q_(e)})),(e=>{const t=jwt.clearChangesMultiAction(),n=jwt.openFullscreenModal(__),s=jwt.openFullscreenModal(v_),r=jwt.openFullscreenModal(I_),i=jwt.openFullscreenModal(b_);return{addIssueToSelected:t=>{e(jwt.selectIssue(t))},openAssigneeMenu:s=>{r6("Quick Issue Action - Board",{Action:"Assignees Changed"}),e(t),e(n),e(Wwt.getReposAssignees(s))},openLabelMenu:n=>{r6("Quick Issue Action - Board",{Action:"Labels Changed"}),e(t),e(s),e(Wwt.getReposLabels(n))},openMilestoneMenu:n=>{r6("Quick Issue Action - Board",{Action:"Milestone Changed"}),e(t),e(r),e(Wwt.getReposMilestones(n))},openSprintMenu:()=>{r6("Quick Issue Action - Board",{Action:"Sprint Changed"}),e(t),e(i)}}}),((e,t,n)=>({...e,...t,issue:n.issue})))(Hwt),Kwt=Gwt;class Vwt extends Ye.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.onClickEpicFilter=this.onClickEpicFilter.bind(this),this.closeOption=this.closeOption.bind(this),this.openOption=this.openOption.bind(this),this.state={isHoveringIssue:!1,isOptionsOpen:!1}}shouldComponentUpdate(e,t){const{isHoveringIssue:n,isOptionsOpen:s}=this.state;return!EP(this.props,e)||n!==t.isHoveringIssue||s!==t.isOptionsOpen||Boolean(e.issue.firstOfPriority)}componentDidUpdate(e){EP(e,this.props)||this.props.removeSizeCacheEntry()}handleMouseUp(e){1===e.button&&(e.stopPropagation(),this.executeIssueClick(!0))}handleClick(e){let t=!1;const n=e.shiftKey;Dne(e)&&(t=!0),this.executeIssueClick(t,n)}onClickEpicFilter(e){e&&e.stopPropagation();const{issue:t,issueAddEpicFilter:n,issueRemoveEpicFilter:s,epicFilter:r}=this.props,i={filterKey:LP(t)};zP(t,r)?s(i):n(i)}executeIssueClick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{inSelectionMode:n,issueOnClick:s,issueOnClickSelect:r,issue:i,pipelineId:o}=this.props;n||t?r({issue:m9e(i,o),isShiftClick:t}):s(i,e)}closeOption(){this.setState({isOptionsOpen:!1,isHoveringIssue:!1})}openOption(){this.setState({isOptionsOpen:!0})}render(){const{clearDependenciesFilter:e,dependenciesFilter:t,dragSource:n,dropTarget:s,epicFilter:r,filterIssueDependencies:i,inSelectionMode:o,isDragging:a,isLocked:l,isReadOnly:c,issue:d,issueAddHighPriority:u,issueFetchDependencies:p,issueOnClick:m,issueOnClickSendBottom:h,issueOnClickSendTop:E,issueOnClickClose:g,issueOnClickSelect:f,issueRemoveHighPriority:_,pipelineId:v,showLabels:I,showEstimates:b,showMilestones:y,showEpics:S,showReleases:w,showReviewers:R,showDependencies:T,showPRs:C}=this.props,k=Boolean(d.notification&&d.notification.unread),O=BP(d),N=d.priority&&1===d.priority.rank,{isOptionsOpen:P,isHoveringIssue:A}=this.state,D=(0,_I.default)("zhc-issue-card",{"zhc-issue-card--is-dragging":a,"zhc-issue-card--is-closed":xP(d),"zhc-issue-card--multi-active":d.isSelected,"zhc-issue-card--options-open":P,"zhc-issue-card--is-epic":O&&!N,"zhc-issue-card--high-priority":N}),L=O?Ye.createElement(owt,{isFilterSet:zP(d,r),isEnabled:!o,onClick:this.onClickEpicFilter}):null,z=d.parent_epics&&d.parent_epics.reduce(((e,t)=>t.title?[...e,t.title]:e),[]),M=MSt(d),x=((0,_t.DX)(t)||T)&&(0,_t.DX)(M),F=!xP(d)&&!d.isSelected&&(A||x||window.USER_HAS_FEELINGS),U=!(ee.kKJ(d.dependencyStatus)&&!l);return n(s(Ye.createElement("div",{onMouseEnter:()=>{this.setState({isHoveringIssue:!0})},onMouseLeave:()=>{this.setState({isHoveringIssue:!1})},"data-zh-flyover":"interactive","data-testid":"zh-issue-card",className:D,onClick:this.handleClick,onMouseUp:this.handleMouseUp,style:{"--priority-color":ee.ETc(["priority","color"],d)}},Ye.createElement(JSt,{isReadOnly:c,isHoveringIssue:A,issue:d,issueOnClickSelect:f,pipelineId:v}),F&&Ye.createElement(BSt,{closeOption:this.closeOption,openOption:this.openOption,hasUnreadNotification:k,inSelectionMode:o,isLocked:l,issue:d,shouldShowDependencyIcon:x,issueFetchDependencies:p},U&&Ye.createElement(Fwt,{issue:d,dependenciesFilter:t,filterIssueDependencies:i,clearDependenciesFilter:e}),!l&&Ye.createElement(Dwt,{issue:d,issueAddHighPriority:u,issueOnClickClose:g,issueOnClickSelect:f,issueOnClickSendBottom:h,issueOnClickSendTop:E,issueRemoveHighPriority:_,pipelineId:v}),Ye.createElement(Kwt,{issue:d}),Ye.createElement(Pwt,{issueOnOpen:this.handleClick,hasUnreadNotification:k})),Ye.createElement("div",{className:"zhc-issue-card__main"},y&&!(0,_t.KN)(d.sprints)&&Ye.createElement(rwt,{sprints:d.sprints}),Ye.createElement(k7,{name:"workspaces-milestones-visibility"},y&&d.milestone&&Ye.createElement(QSt,{title:d.milestone.title})),S&&!(0,_t.KN)(z)&&Ye.createElement(cwt,{epicTitles:z}),w&&!(0,_t.KN)(d.releases)&&Ye.createElement(nwt,{releases:d.releases,issuePath:d.issue_path}),L),Ye.createElement(fwt,{issueOnClick:m,estimate:d.estimate,estimationStatus:xP(d)?null:d.estimation_status,isClosed:xP(d),labels:d.labels,reviewers:d.pull_request_reviews,reviewRequests:d.review_requests,showLabels:I,showEstimates:b,showReviewers:R,showPRs:C,connectedPRs:d.connectedPRs,inSelectionMode:o,authorLogin:d.user?.login}),d.firstOfPriority&&Ye.createElement(VSt,{pipelineId:v}))))}}Vwt.propTypes={issue:vKe.isRequired,issueAddHighPriority:SI().func.isRequired,issueRemoveHighPriority:SI().func.isRequired,pipelineId:SI().string.isRequired,removeSizeCacheEntry:SI().func.isRequired,clearDependenciesFilter:SI().func,dependenciesFilter:SI().string,dragSource:SI().func,dropTarget:SI().func,epicFilter:SI().shape({}),filterIssueDependencies:SI().func,inSelectionMode:SI().bool,isDragging:SI().bool,isLocked:SI().bool,isReadOnly:SI().bool,issueAddEpicFilter:SI().func,issueFetchDependencies:SI().func,issueOnClick:SI().func,issueOnClickClose:SI().func,issueOnClickSelect:SI().func,issueOnClickSendBottom:SI().func,issueOnClickSendTop:SI().func,issueRemoveEpicFilter:SI().func,showDependencies:SI().bool,showEpics:SI().bool,showEstimates:SI().bool,showLabels:SI().bool,showMilestones:SI().bool,showPRs:SI().bool,showReleases:SI().bool,showReviewers:SI().bool},Vwt.defaultProps={clearDependenciesFilter:_t.ZT,dependenciesFilter:null,dragSource:ee.yRu,dropTarget:ee.yRu,epicFilter:null,filterIssueDependencies:_t.ZT,isLocked:!1,inSelectionMode:!1,isDragging:!1,isReadOnly:!1,issueOnClick:_t.ZT,issueFetchDependencies:_t.ZT,issueAddEpicFilter:_t.ZT,issueRemoveEpicFilter:_t.ZT,showDependencies:!0,showLabels:!0,showEstimates:!0,showMilestones:!0,showEpics:!0,showReleases:!0,showReviewers:!0,showPRs:!0,issueOnClickClose:_t.ZT,issueOnClickSendBottom:_t.ZT,issueOnClickSendTop:_t.ZT,issueOnClickSelect:_t.ZT};const $wt=Owt(Vwt);function Zwt(e){return!ee.OH4("_id","closed-pipeline")(e.pipeline)&&!e.isLocked}const Ywt={beginDrag(e,t,n){const s=(0,vte.findDOMNode)(n).querySelector(".zhc-pipeline-body"),r=s.scrollTop;return window.chrome&&(s.scrollTop=0),e.onDragStart({type:"pipeline"}),{index:e.index,scrollTop:r,sourceIndex:e.index}},endDrag(e,t,n){const{pipelineOnDrop:s,boardId:r,defaultRepo:i,pipeline:o}=e,{organization:a,repo:l}=i,{_id:c,name:d}=o,{index:u,scrollTop:p,sourceIndex:m}=t.getItem();if(t.didDrop()){u!==m&&s({id:r,organization:a,repo:l,pipeline_id:c,position:u,name:d});const t=(0,vte.findDOMNode)(n).querySelector(".zhc-pipeline-body");setTimeout((()=>{t.scrollTop=p})),e.onDragEnd({type:"pipeline"})}},canDrag:Zwt};const Jwt=(0,PSt.E)(DSt.PIPELINE,Ywt,(function(e,t){return{dragSource:e.dragSource(),isDragging:t.isDragging(),dragPreview:e.dragPreview()}})),Xwt={hover(e,t,n){const s=t.getItem(),r=s.index,i=e.index;if(r===i||!Xwt.canDrop(e))return;const o=(0,vte.findDOMNode)(n).getBoundingClientRect(),a=o.left+o.width/2,l=t.getClientOffset().x;r<i&&l<a||i<r&&a<l||(e.onDrag(r,i),s.index=i)},canDrop:Zwt};const Qwt=(0,ASt.G)(DSt.PIPELINE,Xwt,(function(e){return{dropTarget:e.dropTarget()}})),eRt={hover(e,t,n){const s=t.getItem(),{pipeline:r}=e;if(e.pipeline._id===s.pipelineId)return;if(gP(r))return void e.onIssueCardHoverPipeline(s,e);if(e.isOver!==e.isOverCurrent)return;const i=(0,vte.findDOMNode)(n).querySelectorAll(".zhc-issue-card");if(i.length>0){const e=ee.Z$Q(i).getBoundingClientRect();if(t.getClientOffset().y<e.bottom)return}e.onIssueCardHoverPipeline(s,e)},drop(e,t){t.didDrop()||Iwt(e,t)}};const tRt=(0,ASt.G)(bwt,eRt,(function(e,t){return{dragIssue:t.getItem()||{},dropTargetIssueCards:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}})),nRt=ee.qCK(tRt,Jwt,Qwt),sRt="Et6VdVkR617sQM9kMGlM",rRt="czqoxCHNHO0uETajIWxg",iRt="tlBCggTqmZgWsJDYewEE",oRt="F8EZaM0JuaPbrBP6vwv7",aRt="laZKLxoUlOE2SqCiBYUM",lRt={},cRt=bb.Ps`
  mutation createIssue($CreateIssueInput: CreateIssueInput!) {
    createIssue(input: $CreateIssueInput) {
      issue {
        id
        number
        title
        html_url: htmlUrl
        repository {
          id
          ghId
        }
      }
    }
  }
`;const dRt=(e,t,n,s,r,i)=>{const o=(0,l3.I0)(),[a]=yat(),l=((0,l3.v9)(sF)??[]).map((e=>e.name)),c={title:e,repositoryId:t,body:"",labels:l},[d]=function(e){const t={...lRt,...e};return vK.D(cRt,t)}({variables:{CreateIssueInput:c},onCompleted:e=>{let{createIssue:t}=e;H.Z.createToast(W.Z.CREATE_ISSUE_UPDATE,{pipelineName:r,repoName:n,expirationDelay:2e3});const l=t?.issue.number,c=t?.issue.repository.ghId,d=t?.issue.id||"";a({variables:{MoveIssueInput:{pipelineId:s,issueId:d}}});const u=LG.board.quickAddIssueThunk({newIssue:{issue_number:l,repo_id:c,pipelineId:s},pipelineId:s,onIssueInsert:i});o(u)},onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})}});return d},uRt={},pRt=bb.Ps`
  mutation createEpic($CreateEpicInput: CreateEpicInput!) {
    createEpic(input: $CreateEpicInput) {
      epic {
        id
        issue {
          id
          number
          title
          html_url: htmlUrl
          repository {
            id
            ghId
          }
        }
      }
    }
  }
`;const mRt=(e,t,n,s,r,i)=>{const o=(0,l3.I0)(),[a]=yat(),[l]=pze(),c=(0,l3.v9)((e=>Na(e))),d=c._id,{data:u}=Nat({variables:{workspaceId:d}}),p=u?.workspace?.roadmap?.id,m=((0,l3.v9)(sF)??[]).map((e=>e.name)),h={issue:{title:e,repositoryId:t,body:"",labels:m}},[E]=function(e){const t={...uRt,...e};return vK.D(pRt,t)}({variables:{CreateEpicInput:h},onCompleted:e=>{let{createEpic:t}=e;H.Z.createToast(W.Z.CREATE_EPIC_UPDATE,{pipelineName:r,repoName:n,expirationDelay:2e3});const c=t?.epic.issue.number,d=t?.epic.issue.repository.ghId,u=t?.epic.id,m=t?.epic.issue.id||"";a({variables:{MoveIssueInput:{pipelineId:s,issueId:m}}});const h=LG.board.quickAddIssueThunk({newIssue:{issue_number:c,repo_id:d,pipelineId:s},pipelineId:s,onIssueInsert:i});o(h),l({variables:{input:{roadmapId:p,epicIds:[u]}}})},onError:()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})}});return E},hRt=Ye.forwardRef(((e,t)=>{let{closeIssueCreator:n,pipelineId:s,pipelineName:r,repoId:i,repoName:o,onIssueInsert:a,classNames:l,disableIssueToggle:c,initIssueType:d=Hx.ISSUE}=e;const[u,p]=(0,Ye.useState)(""),[m,h]=(0,Ye.useState)(!1),[E,g]=(0,Ye.useState)(d===Hx.ISSUE),f=dRt(u,i,o,s,r,a),_=mRt(u,i,o,s,r,a),v=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{v?.current?.focus()}),[]);MLe({onEscape:n});const I=(0,_I.default)([sRt],{[l]:l}),b=E?"Title of this issue":"Title of this epic";return Ye.createElement("form",{className:I,onClick:()=>v?.current?.focus(),onSubmit:e=>{e.preventDefault(),u.length&&(E?(f(),r6("Quick Issue Create - Board",{Action:"Submit",Pipeline:r})):(_(),r6("Quick Epic Create - Board",{Action:"Submit",Pipeline:r})),p(""),h(!1))},onKeyDown:()=>{},onBlur:e=>{const t=e.relatedTarget,s=e.currentTarget;t?.getAttribute("data-testid")!==_at&&(s?.contains(t)||(t?.click(),n()))},ref:t,tabIndex:0,"data-zh-flyover":"interactive"},Ye.createElement(jve,{disableIconClick:c,iconComponent:Ye.createElement(Lat,{isIssueTypeSelected:E,disableTooltip:c}),onChange:e=>{const t=e?.target?.value;if(t.length<=256)p(t),h(!1);else{const e=t.slice(0,256);p(e),h(!0)}},onClick:()=>{g(!E)},placeholder:b,ref:v,value:u}),m&&Ye.createElement("span",{className:aRt},"Cannot exceed ",256," characters"),Ye.createElement("div",{className:rRt},Ye.createElement(H5,{className:iRt,variant:z5.TEXT,onClick:n},"Cancel"),Ye.createElement(H5,{className:oRt,color:L5.ACTION,disabled:!u,type:x5.SUBMIT},"Submit")))})),ERt=hRt,gRt=e=>{let{isActive:t,isDraggingHighPriority:n}=e;return Ye.createElement("div",{className:(0,_I.default)("zhc-pipeline-sorted-placeholder",{"zhc-pipeline-sorted-placeholder--is-active":t})},Ye.createElement("div",{className:"zhc-pipeline-sorted-placeholder__content"},Ye.createElement("span",{className:"zhc-pipeline-sorted-placeholder__content__text"},Ye.createElement("b",null,"Drag and drop"),Ye.createElement("span",{className:"zhc-pipeline-sorted-placeholder__content__text__info"},n?"High Priority Issues will be placed at the top when sorting is cleared":"Issues will be placed at the bottom when sorting is cleared"))))};gRt.propTypes={isActive:SI().bool,isDraggingHighPriority:SI().bool},gRt.defaultProps={isActive:!1,isDraggingHighPriority:!1};const fRt=gRt;function _Rt(){return _Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_Rt.apply(this,arguments)}const vRt=function(e){class t extends Ye.Component{constructor(e){super(e);const{overscanColumnCount:t,overscanRowCount:n,overscanRowCountInitial:s,overscanColumnCountInitial:r}=this.props;this.fixedOverscanColumn=!ee.kKJ(t),this.fixedOverscanRow=!ee.kKJ(n),this.state={dynamicOverscanColumnCount:r,dynamicOverscanRowCount:s},this.willUnmount=!1}componentDidMount(){const{overscanColumnCountFinal:e,overscanRowCountFinal:t}=this.props;setTimeout((()=>{window.requestAnimationFrame((()=>{this.willUnmount||this.setState({dynamicOverscanColumnCount:e,dynamicOverscanRowCount:t})}))}))}componentWillUnmount(){this.willUnmount=!0}render(){const{overscanColumnCount:t,overscanRowCount:n,setGridRef:s,...r}=this.props,{dynamicOverscanColumnCount:i,dynamicOverscanRowCount:o}=this.state,a=this.fixedOverscanColumn?t:i,l=this.fixedOverscanRow?n:o;return Ye.createElement(e,_Rt({},r,{ref:s,overscanColumnCount:a,overscanRowCount:l}))}}return t.defaultProps={overscanColumnCount:null,overscanColumnCountInitial:null,overscanColumnCountFinal:null,overscanRowCount:null,overscanRowCountInitial:null,overscanRowCountFinal:null,setGridRef:null},t.propTypes={overscanColumnCount:SI().number,overscanColumnCountFinal:SI().number,overscanColumnCountInitial:SI().number,overscanRowCount:SI().number,overscanRowCountFinal:SI().number,overscanRowCountInitial:SI().number,setGridRef:SI().func},t},IRt=ee.WAo(((e,t,n)=>{const s=t.issues.map(((e,t)=>ee.zGw(ee.yGi("groupIndex",n),ee.yGi("groupIssueIndex",t))(e))),r={title:t.title,isDivider:!0};return ee.Ce7(r,s)}));function bRt(e){return e}const yRt=(e,t,n)=>{let s=bRt;return lP(t)?s=function(e){return t=>ee.xHg(t.map(IRt(e)))}(t):n||t||(s=e=>function(e,t){const n=[...e],s=n[t];return s&&(n[t]={...s,firstOfPriority:!0}),n}(e,VP(e))),s(e)},SRt=e=>{let{title:t,isFirst:n}=e;const s=(0,_I.default)("zhc-divider",{"zhc-divider--first":n});return Ye.createElement("div",{className:s,"data-cy":"divider"},t)};SRt.propTypes={title:SI().string.isRequired,isFirst:SI().bool},SRt.defaultProps={isFirst:!1};const wRt=SRt;class RRt extends gre.t1{constructor(){let{getItem:e,getItemId:t,sharedCellSizeCache:n,fixedHeight:s,fixedWidth:r,defaultWidth:i,defaultHeight:o,columnCount:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({defaultWidth:i,defaultHeight:o,fixedWidth:r,fixedHeight:s,keyMapper:null,minHeight:0,minWidth:0}),this._getItem=e,this._getItemId=t,this._cachedColumnWidth=void 0,this._cachedRowHeight=void 0,this._cachedItemWidth=void 0,this._cachedItemHeight=void 0,this._hasFixedWidth=!0===r,this._hasFixedHeight=!0===s,this._cachedItemSizes=n,this._invalidatorWatcher=void 0,this._columnCount=a,this._defaultWidth=i,this._defaultHeight=o,this.getHeight=this.getHeight.bind(this),this.rowHeight=this.rowHeightOverride.bind(this)}setColumnCount(e){this._columnCount=e}setInvalidatorWatcher(e){void 0===this._invalidatorWatcher||(0,_t.uH)(this._invalidatorWatcher,e)||this.resetMeasurements(),this._invalidatorWatcher=e}resetMeasurements(){this._clearAllItemWidths(),this._clearAllItemHeights()}_clearAllItemWidths(){this._cachedItemWidth=void 0,this._cachedItemSizes.widths={}}_clearAllItemHeights(){this._cachedItemHeight=void 0,this._cachedItemSizes.heights={}}_clearItemWidth(e,t){this._cachedItemWidth=void 0;const n=this._getItem(e,t);delete this._cachedItemSizes.widths[this._getItemId(n)]}_clearItemHeight(e,t){this._cachedItemWidth=void 0;const n=this._getItem(e,t);delete this._cachedItemSizes.heights[this._getItemId(n)]}_getItemWidth(e,t){if(this._hasFixedWidth)return this._cachedItemWidth;const n=this._getItem(e,t),s=this._cachedItemSizes.widths[this._getItemId(n)];return s&&s.item&&this._compareItems(s.item,n)?s.width:null}_getItemHeight(e,t){if(this._hasFixedHeight)return this._cachedItemHeight;const n=this._getItem(e,t),s=this._cachedItemSizes.heights[this._getItemId(n)];return s&&s.item&&this._compareItems(s.item,n)?s.height:null}_setItemWidth(e,t,n){this._cachedItemWidth=n;const s=this._getItem(e,t);this._cachedItemSizes.widths[this._getItemId(s)]={width:n,item:s}}_setItemHeight(e,t,n){this._cachedItemHeight=n;const s=this._getItem(e,t);this._cachedItemSizes.heights[this._getItemId(s)]={height:n,item:s}}_compareItems(e,t){return e.issue_number&&t.issue_number?hP(e,t):this._getItemId(e)===this._getItemId(t)}clear(e,t){this._clearItemWidth(e,t),this._clearItemHeight(e,t)}clearAll(){this.resetMeasurements()}set(e,t,n,s){this._setItemWidth(e,t,n),this._setItemHeight(e,t,s)}has(e,t){return!ee.kKJ(this._getItemWidth(e,t))&&!ee.kKJ(this._getItemHeight(e,t))}hasFixedWidth(){return this._hasFixedWidth}hasFixedHeight(){return this._hasFixedHeight}getWidth(){return this._defaultWidth}getHeight(e,t){if(this._uniformRowHeight)return this._defaultHeight;return this._getItemHeight(e,t)||this._defaultHeight}columnWidth(){throw new Error("SharedCellSizeCache.columnWidth not implemented",this)}rowHeightOverride(e){let{index:t}=e,n=0;for(let e=0;e<this._columnCount;e+=1){const s=this.getHeight(t,e);n=Math.max(n,s)}return n}}function TRt(){return TRt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},TRt.apply(this,arguments)}const CRt=vRt(dSt(gre.rj)),kRt=ee.zGw(ee.kE,ee.E_m),ORt={isGridPlaceholder:!0};function NRt(e){if(e.isGridPlaceholder)return"@@gridPlaceholder";if(e.isLoadMore)return"@@loadMore";if(e.isDivider){const t=e.pipelineId?`-${e.pipelineId}`:"";return`@@divider-${e.title}${t}`}return LP(e)}function PRt(e,t,n){const s=NRt(e);return e.isGridPlaceholder||e.isDivider?`${s}@@${t}-${n}`:s}class ARt extends Ye.PureComponent{static onScroll(){const e=new CustomEvent("pipelineScroll",{bubbles:!1,cancelable:!0});document.dispatchEvent(e)}static getItemIndexInGrid(e,t,n){return e*t+n}static getUpdatedItems(e,t,n,s,r,i){const o=yRt(e,t,s);return ee.kKJ(n)?o:ee.R3I({isLoadMore:!0,loadMoreIssues:n},o)}constructor(e,t){super(e,t),this.scrollToPriorityDivision=(e,t)=>{const{isLowPriorityVisible:n,scrollToRow:s}=this.props,{lowPriorityIndex:r}=this.state,i=e&&!n,o=Math.floor(r/t),a=Math.max(o-1,0);i&&s(a)},this.removeSizeCacheEntryAndUpdateGrid=(e,t)=>{this._cellSizeCache.clear(e,t),this.grid&&this.grid.recomputeGridSize({columnIndex:t,rowIndex:e})},this._cellRenderer=this._cellRenderer.bind(this),this._itemRenderer=this._itemRenderer.bind(this),this.setGridRef=this.setGridRef.bind(this);const{columns:n,issues:s,loadMoreIssues:r,sharedCellSizeCache:i,sortBy:o,isClosed:a,pipelineId:l}=e;this.issueItems=ARt.getUpdatedItems(s,o,r,a,n,l),this.getItemInGrid=this.getItemInGrid.bind(this),this._cellSizeCache=new RRt({getItem:this.getItemInGrid,getItemId:NRt,sharedCellSizeCache:i,fixedHeight:!1,fixedWidth:!0,defaultWidth:255,defaultHeight:250,columnCount:n}),this.state={lowPriorityIndex:VP(this.issueItems)}}componentDidMount(){this.invalidateSizeCacheIfNeeded(this.props)}UNSAFE_componentWillReceiveProps(e){const{columns:t,isLoadingClosedIssues:n,issues:s,sortBy:r,showLabels:i,showEstimates:o,showMilestones:a,showEpics:l,showReleases:c,showReviewers:d,showDependencies:u,isClosed:p}=this.props;e.issues===s&&e.columns===t&&e.sortBy===r&&e.showLabels===i&&e.showEstimates===o&&e.showMilestones===a&&e.showEpics===l&&e.showReleases===c&&e.showReviewers===d&&e.showDependencies===u&&e.isLoadingClosedIssues===n||(this.issueItems=ARt.getUpdatedItems(e.issues,e.sortBy,e.loadMoreIssues,p,e.columns,e.pipelineId),this.grid&&this.grid.recomputeGridSize({columnIndex:0,rowIndex:0}),t!==e.columns&&this._cellSizeCache.setColumnCount(e.columns),this.invalidateSizeCacheIfNeeded(e))}componentDidUpdate(){const{columns:e}=this.props,{lowPriorityIndex:t}=this.state,n=VP(this.issueItems);n!==t&&this.setState({lowPriorityIndex:n})}setGridRef(e){e&&(this.grid=e.wrappedInstance.current,this.props.onGridRefSet(e))}getItemInGrid(e,t){const{columns:n}=this.props,s=n;return this.issueItems[ARt.getItemIndexInGrid(s,e,t)]||ORt}_cellRenderer(e){let{style:t,rowIndex:n,columnIndex:s,parent:r}=e;const i=this.getItemInGrid(n,s);return Ye.createElement(gre.Z8,{key:PRt(i,n,s),cache:this._cellSizeCache,columnIndex:s,parent:r,rowIndex:n},(()=>Ye.createElement("div",{style:t,className:"zhc-issue-cards__cell","data-cy":"issue-card-cell"},this._itemRenderer(n,s))))}_itemRenderer(e,t){const{boardId:n,beforeMoveIssue:s,clearDependenciesFilter:r,columns:i,dependenciesFilter:o,epicFilter:a,filterIssueDependencies:l,getPipelines:c,inSelectionMode:d,isLoadingClosedIssues:u,isLocked:p,isReadOnly:m,issueAddEpicFilter:h,issueAddHighPriority:E,issueFetchDependencies:g,issueOnClick:f,issueOnClickClose:_,issueOnClickDependencyItem:v,issueOnClickSelect:I,issueOnClickSendBottom:b,issueOnClickSendTop:y,issueRemoveEpicFilter:S,issueRemoveHighPriority:w,issueToggleCardOptions:R,onHover:T,onDrop:C,pipelineId:k,preventDrop:O,sortBy:N,showDependencies:P,showLabels:A,showEstimates:D,showMilestones:L,showEpics:z,showReleases:M,showReviewers:x,showNotifications:F,showPRs:U,onDragStart:B,onDragEnd:q}=this.props,{lowPriorityIndex:H}=this.state,W=i*e+t;if(W>kRt(this.issueItems))return Ye.createElement("div",null);const j=this.issueItems[W];if(j.isLoadMore){const e=u?null:j.loadMoreIssues,t=u?"Loading issues...":"Load more issues...",n=(0,_I.default)("zhc-pipeline__load-more",{"zhc-pipeline__load-more--is-loading":u});return Ye.createElement("div",{className:n,"data-cy":"load-more-issues",onClick:e},t)}if(j.isDivider)return Ye.createElement(wRt,{isFirst:0===e,title:j.title});let G={index:W};if(lP(N)){const{groupIndex:e,groupIssueIndex:t}=j;G={groupIndex:e,groupIssueIndex:t}}return Ye.createElement($wt,TRt({},G,{removeSizeCacheEntry:()=>this.removeSizeCacheEntryAndUpdateGrid(e,t),boardId:n,beforeMoveIssue:s,clearDependenciesFilter:r,dependenciesFilter:o,epicFilter:a,filterIssueDependencies:l,getPipelines:c,isLocked:p,isReadOnly:m,inSelectionMode:d,issue:j,issueAddEpicFilter:h,issueAddHighPriority:E,issueFetchDependencies:g,issueOnClick:f,issueOnClickClose:_,issueOnClickDependencyItem:v,issueOnClickSelect:I,issueOnClickSendBottom:b,issueOnClickSendTop:y,issueRemoveEpicFilter:S,issueRemoveHighPriority:w,issueToggleCardOptions:R,onDrop:C,onHover:T,pipelineId:k,preventDrop:O,showLabels:A,showEstimates:D,showReviewers:x,showMilestones:L,showEpics:z,showReleases:M,showDependencies:P,showNotifications:F,showPRs:U,lowPriorityIndex:H,scrollToPriorityDivision:this.scrollToPriorityDivision,onDragStart:B,onDragEnd:q}))}invalidateSizeCacheIfNeeded(e){const{showLabels:t,showEstimates:n,showMilestones:s,showEpics:r,showReleases:i,showReviewers:o,showDependencies:a}=e;this._cellSizeCache.setInvalidatorWatcher({showLabels:t,showEstimates:n,showMilestones:s,showEpics:r,showReleases:i,showReviewers:o,showDependencies:a})}render(){const{columns:e,pipelineWidth:t,scrollRow:n,newIssueCreateHeight:s}=this.props;return e<1?null:(this.rowCount=Math.ceil(this.issueItems.length/e),Ye.createElement(gre.qj,null,(r=>{let{height:i}=r;return Ye.createElement(CRt,{cellRenderer:this._cellRenderer,columnCount:e,columnWidth:t/e,className:"zhc-issue-cards",estimatedRowSize:100,height:i-s,horizontalStrength:ee.Bxt(0),onScroll:ARt.onScroll,overscanColumnCount:0,overscanRowCountInitial:0,overscanRowCountFinal:10,rowCount:this.rowCount,rowHeight:this._cellSizeCache.rowHeight,setGridRef:this.setGridRef,tabIndex:-1,verticalStrength:oSt(100),width:t,scrollToRow:n,scrollToAlignment:"start"})})))}}ARt.defaultProps={dependenciesFilter:null,isClosed:!1,isLoadingClosedIssues:null,isOver:!1,loadMoreIssues:null,newIssueCreateHeight:0,preventDrop:!1,scrollRow:void 0,sortBy:null},ARt.propTypes={beforeMoveIssue:SI().func.isRequired,boardId:SI().string.isRequired,clearDependenciesFilter:SI().func.isRequired,columns:SI().number.isRequired,dropTargetIssueCards:SI().func.isRequired,epicFilter:SI().shape({}).isRequired,filterIssueDependencies:SI().func.isRequired,getPipelines:SI().func.isRequired,inSelectionMode:SI().bool.isRequired,isLocked:SI().bool.isRequired,isLowPriorityVisible:SI().bool.isRequired,isReadOnly:SI().bool.isRequired,issueAddEpicFilter:SI().func.isRequired,issueAddHighPriority:SI().func.isRequired,issueFetchDependencies:SI().func.isRequired,issueOnClick:SI().func.isRequired,issueOnClickClose:SI().func.isRequired,issueOnClickSelect:SI().func.isRequired,issueOnClickSendBottom:SI().func.isRequired,issueOnClickSendTop:SI().func.isRequired,issueRemoveEpicFilter:SI().func.isRequired,issueRemoveHighPriority:SI().func.isRequired,issues:SI().arrayOf(SI().shape({})).isRequired,issueSetEpicFilter:SI().func.isRequired,issueToggleCardOptions:SI().func.isRequired,pipelineId:SI().string.isRequired,pipelineWidth:SI().number.isRequired,scrollToRow:SI().func.isRequired,sharedCellSizeCache:SI().shape({}).isRequired,showDependencies:SI().bool.isRequired,showEpics:SI().bool.isRequired,showEstimates:SI().bool.isRequired,showLabels:SI().bool.isRequired,showMilestones:SI().bool.isRequired,showNotifications:SI().bool.isRequired,showPRs:SI().bool.isRequired,showReleases:SI().bool.isRequired,showReviewers:SI().bool.isRequired,onDragEnd:SI().func.isRequired,onDragStart:SI().func.isRequired,onDrop:SI().func.isRequired,onGridRefSet:SI().func.isRequired,onHover:SI().func.isRequired,dependenciesFilter:SI().string,isClosed:SI().bool,isLoadingClosedIssues:SI().bool,isOver:SI().bool,issueOnClickDependencyItem:SI().func,loadMoreIssues:SI().func,newIssueCreateHeight:SI().number,preventDrop:SI().bool,scrollRow:SI().number,sortBy:SI().string};const DRt=ARt;function LRt(e,t,n){return e[t]?e[t].original=n:function(e,t,n){var s=this;e[t]={original:n,insulated:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].original.apply(s,r)}}}(e,t,n),e[t].insulated}const zRt=function(e){return class extends Ye.PureComponent{constructor(e,t){super(e,t),this.handlerTable={}}render(){const t=(n=this.handlerTable,s=this.props,ee.u4g(((e,t)=>{const r=s[t];return e[t]=ee.is(Function,r)?LRt(n,t,r):r,e}),{},ee.XPQ(s)));var n,s;return Ye.createElement(e,t)}}},MRt={width:TP(1)},xRt=e=>{const{pipeline:t,openEditForm:n,isEpicPipeline:s}=e,{description:r,name:i}=t,o=$at(t._id);return Ye.createElement("div",{className:"zhc-pipeline-body__details zhu-color-text-secondary zhu-text-center",style:MRt},Ye.createElement("span",{"data-cy":"pipeline-title",className:"zhc-pipeline-body__title zhu-font-large"},i),!(0,_t.KN)(r)&&Ye.createElement("span",{"data-cy":"pipeline-description",className:"zhu-text-center zhu-font-small"},r),s&&Ye.createElement("div",{className:"zhc-pipeline-body__create-epic-link","data-zh-flyover":"interactive",onClick:e=>{o(Hx.EPIC,e),r6("Epic Pipeline CTA clicked",{location:"Board 1.0"})},onKeyDown:()=>{},role:"presentation"},"Create new epic"),(0,_t.KN)(r)&&Ye.createElement(Ope,{text:"Add description +","data-cy":"add-description",onClick:()=>n(!0),modifiers:["secondary-bordered"]}))};xRt.propTypes={isEpicPipeline:SI().bool.isRequired,openEditForm:SI().func.isRequired,pipeline:mSt.pipeline.isRequired};const FRt=xRt;function URt(){return URt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},URt.apply(this,arguments)}const BRt=zRt(DRt);class qRt extends Ye.PureComponent{constructor(e){super(e),this.onGridRefSet=e=>{e&&(this.grid=e.wrappedInstance.current)},this.setNewHeight=e=>this.setState({elementHeight:e}),this.scrollToRow=e=>{this.grid?.scrollToCell({rowIndex:e})},this.state={scrollRow:void 0,elementHeight:0},this.newIssueCreateRef=(0,Ye.createRef)()}componentDidUpdate(){if(this.props.showNewIssueCreator){const e=this.newIssueCreateRef.current.clientHeight+8;this.setNewHeight(e)}else this.setNewHeight(0)}render(){const{dragIssue:e,dropTargetIssueCards:t,isOver:n,repoId:s,repoName:r,sortBy:i,pipeline:o,showPipelineDetails:a,isEditing:l,openEditForm:c,showNewIssueCreator:d,toggleNewIssueCreator:u}=this.props,p=aP(i)&&n,m=KP(e.issue),h=(e=>{switch(e){case dP.ESTIMATE:return{showEstimates:!0};case dP.MILESTONE:return{showMilestones:!0};default:return{}}})(i),E=o.is_epic_pipeline,g=Ye.createElement("div",{className:"zhc-pipeline-body","data-cy":"pipeline-body"},d&&Ye.createElement(ERt,{closeIssueCreator:u,pipelineId:o._id,pipelineName:o.name,ref:this.newIssueCreateRef,repoId:s,repoName:r,onIssueInsert:this.scrollToRow,disableIssueToggle:E,initIssueType:E?Hx.EPIC:Hx.ISSUE}),a&&!l&&Ye.createElement(FRt,{pipeline:o,isEditing:l,openEditForm:c,isEpicPipeline:E}),!a&&Ye.createElement(qSt.Consumer,null,(e=>{let{visibleDividersByPipeline:t}=e;return Ye.createElement(BRt,URt({},this.props,h,{pipelineId:o._id,scrollToRow:this.scrollToRow,scrollRow:this.state.scrollRow,onGridRefSet:this.onGridRefSet,isLowPriorityVisible:Boolean(t[o._id]),newIssueCreateHeight:this.state.elementHeight}))})),Ye.createElement(fRt,{isActive:p,isDraggingHighPriority:m}));return t(g)}}qRt.propTypes={boardId:SI().string.isRequired,dragIssue:SI().shape({issue:SI().shape({})}).isRequired,dropTargetIssueCards:SI().func.isRequired,isEditing:SI().bool.isRequired,openEditForm:SI().func.isRequired,pipeline:mSt.pipeline.isRequired,repoId:SI().string.isRequired,repoName:SI().string.isRequired,showNewIssueCreator:SI().bool.isRequired,toggleNewIssueCreator:SI().func.isRequired,columns:SI().number,epicFilter:SI().shape({}),filterIssueDependencies:SI().func,getPipelines:SI().func,isLocked:SI().bool,isOver:SI().bool,isReadOnly:SI().bool,issueOnClick:SI().func,issueOnClickClose:SI().func,issueOnClickSendBottom:SI().func,issueOnClickSendTop:SI().func,issueRemoveEpicFilter:SI().func,issueSetEpicFilter:SI().func,loadMoreIssues:SI().func,sharedCellSizeCache:SI().shape({}),showDependencies:SI().bool,showEpics:SI().bool,showEstimates:SI().bool,showLabels:SI().bool,showMilestones:SI().bool,showPipelineDetails:SI().bool,showReleases:SI().bool,sortBy:SI().string,onDragEnd:SI().func,onDragStart:SI().func,onDrop:SI().func,onHover:SI().func},qRt.defaultProps={columns:1,epicFilter:{},filterIssueDependencies:_t.ZT,getPipelines:_t.ZT,isReadOnly:!1,isOver:!1,isLocked:!1,issueSetEpicFilter:_t.ZT,issueRemoveEpicFilter:_t.ZT,issueOnClick:_t.ZT,issueOnClickSendBottom:_t.ZT,issueOnClickSendTop:_t.ZT,issueOnClickClose:_t.ZT,loadMoreIssues:_t.ZT,onDragStart:_t.ZT,onDragEnd:_t.ZT,onDrop:_t.ZT,onHover:_t.ZT,sortBy:null,sharedCellSizeCache:{},showLabels:!0,showEstimates:!0,showMilestones:!0,showEpics:!0,showPipelineDetails:!1,showReleases:!0,showDependencies:!0};const HRt=qRt,WRt=e=>{let{error:t}=e;return Ye.createElement("div",{className:"zhu-text-error zhu-font-xsmall"},t)},jRt=e=>{let{count:t}=e;return Ye.createElement("div",{className:"zhu-font-xsmall zhu-color-text-secondary zhc-pipeline-form__word-count","data-cy":"word-count"},`${t} ${(0,_t.fB)("character","characters",t)} left`)};function GRt(){return GRt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},GRt.apply(this,arguments)}const KRt=e=>{let{shouldFocusOnMount:t,onKeyDown:n}=e;const s=(0,hie.U$)("name"),r=(0,Ye.useRef)(null);ymt(r,t);const i=36-s.input.value.length,o=!(0,_t.KN)(s.meta.error)&&(s.meta.modified||!s.meta.modified&&!(0,_t.KN)(s.input.value)),a=(0,_I.default)("zhc-pipeline-form__input",{"zhc-pipeline-form__input--input-error":o});return Ye.createElement(Ye.Fragment,null,Ye.createElement("input",GRt({},s.input,{"data-cy":"pipeline-name",onKeyDown:n,className:a,maxLength:36,placeholder:"Add pipeline name\u2026",ref:r})),o?Ye.createElement(WRt,{error:s.meta.error}):Ye.createElement(jRt,{count:i}))};function VRt(){return VRt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},VRt.apply(this,arguments)}const $Rt=e=>{let{shouldFocusOnMount:t,onKeyDown:n}=e;const s=(0,hie.U$)("description",{format:_t.iD}),r=(0,Ye.useRef)(null);ymt(r,t);const i=!(0,_t.KN)(s.meta.error)&&s.meta.modified,o=(0,_I.default)("zhc-pipeline-form__text-area",{"zhc-pipeline-form__text-area--input-error":i});return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhu-font-bold zhc-pipeline-form__pipeline-description"},"Pipeline description",Ye.createElement("span",{className:"zhu-color-text-secondary zhu-font-xsmall zhu-font-weight-medium"}," ","(Optional)")),Ye.createElement("textarea",VRt({},s.input,{"data-cy":"pipeline-description",ref:r,className:o,onKeyDown:n,maxLength:144,rows:5,placeholder:"Add description\u2026"})),i?Ye.createElement(WRt,{error:s.meta.error}):Ye.createElement("div",{className:"zhu-font-xsmall zhu-color-text-secondary"},"This change will affect everyone in the workspace"))},ZRt=e=>{let{render:t,initialValues:n={},validatePipelineName:s,onSubmit:r,onCancel:i}=e;const o=(0,Ye.useCallback)((e=>{const t={},n=e.name?.trim()||"",r=e.description?.trim()||"";return(0,_t.KN)(n)&&(t.name="Pipeline name is required"),n.length>36&&(t.name="Please update the pipeline name to be 36 characters or less"),r.length>144&&(t.name="Please update the pipeline description to be 144 characters or less"),{...t,...s(n)}}),[s]);return Ye.createElement(hie.l0,{onSubmit:(e,t)=>{const{invalid:n,pristine:s}=t.getState();n||(s?i({hasChanged:!1}):r((e=>{const t={...e};return t.name=t.name.trim(),t.description=t.description?.trim()||"",t})(e)))},validate:o,initialValues:{name:n.name||"",description:n.description||""},render:t})},YRt=e=>{let{pipeline:t,onSubmit:n,onCancel:s,submitText:r="Save",showDescription:i,focusOnMount:o="name",validatePipelineName:a}=e;return Ye.createElement(ZRt,{initialValues:t,validatePipelineName:a,onSubmit:n,onCancel:s,render:e=>{const{pristine:t,invalid:n,submitting:a,form:l}=e,c=()=>{s({hasChanged:!t})},d="name"===o,u=["action"];(a||n)&&u.push("disabled");const p=e=>{13!==e.keyCode&&10!==e.keyCode||(e.preventDefault(),l.submit())};return Ye.createElement("form",{className:"zhc-pipeline-form","data-testid":"zhc-pipeline-form","data-zh-flyover":"interactive",onSubmit:()=>({})},Ye.createElement("div",{className:"zhc-pipeline-form__pipeline-name"},Ye.createElement("div",{className:"zhu-font-bold"},"Pipeline name"),Ye.createElement(kpe,{iconComponent:Ye.createElement(n5,null),onClick:c,modifiers:["minimal"]})),Ye.createElement(KRt,{shouldFocusOnMount:d,onKeyDown:p}),i&&Ye.createElement($Rt,{shouldFocusOnMount:!d,onKeyDown:p}),Ye.createElement("div",{className:"zhc-pipeline-form__action-buttons-container"},Ye.createElement(H5,{"data-cy":"cancel",variant:z5.TEXT,onClick:c},"Cancel"),Ye.createElement(kpe,{onClick:l.submit,"data-cy":"submit",text:r,modifiers:u})))}})};function JRt(){return JRt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},JRt.apply(this,arguments)}const XRt=e=>{let{onSubmit:t,onCancel:n,...s}=e;const[r,i]=(0,Ye.useState)(!1);return Ye.createElement(YRt,JRt({},s,{onSubmit:e=>t(e),onCancel:e=>{let{hasChanged:t}=e;r||(t?(i(!0),Doe("Are you sure you want to exit?","").then((()=>{i(!1),n()}),(()=>{i(!1)}))):n())}}))};function QRt(){return QRt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},QRt.apply(this,arguments)}const eTt=["boardId","clearDependenciesFilter","dependenciesFilter","epicFilter","filterIssueDependencies","isLocked","isReadOnly","inSelectionMode","isSelected","issueAddEpicFilter","issueAddHighPriority","issueRemoveEpicFilter","issueRemoveHighPriority","issueOnClick","issueOnClickSelect","issueFetchDependencies","issueOnClickSendBottom","issueOnClickSendTop","issueOnClickClose","issueToggleCardOptions","getPipelines","sharedCellSizeCache","showLabels","showEstimates","showMilestones","showEpics","showReleases","showReviewers","showDependencies","showNotifications","showPRs","onDragStart","onDragEnd"];class tTt extends Ye.PureComponent{constructor(e){super(e),this.onSelectPipeline=()=>{const{pipeline:e,isPipelineSelectedAll:t,selectionThreshold:n,addIssuesToSelection:s,removeIssuesFromSelection:r}=this.props,i=IP(e);t?(r({issues:i}),XD()):(1===i.length?QD():XD(),s({issues:ee.qnb(n,i)}))},this.openEditForm=()=>{this.setState({isEditing:!0})},this.openEditFormFromBody=()=>{this.setState({isEditing:!0,editPipelineDescriptionClicked:!0})},this.dismissEditForm=()=>{this.setState({isEditing:!1,editPipelineDescriptionClicked:!1})},this.toggleNewIssueCreator=()=>{const{toggleQuickIssueCreator:e,pipeline:t}=this.props;e(t._id)},this.state={isEditing:!1,editPipelineDescriptionClicked:!1}}render(){const{boardId:e,defaultRepo:t,dragIssue:n,dragPreview:s,dragSource:r,dropTarget:i,dropTargetIssueCards:o,isClosed:a,isDragging:l,isLoadingClosedIssues:c,isLocked:d,isOver:u,inSelectionMode:p,isValidName:m,loadMore:h,pipeline:E,pipelineOnEdit:g,pipelineOnSetWidth:f,pipelineOnSetSort:_,showPipelineDescriptions:v,isFilterActive:I,pipelineOnDelete:b,isPipelineSelectedAll:y,selectionThreshold:S,selectedIssues:w,showPRs:R,pipelineIdWithActiveIssueCreator:T}=this.props,{isEditing:C,editPipelineDescriptionClicked:k}=this.state,O=!d&&!l&&E._id===T,N=ee.Uth(1,"columns",E),P=N<=0,A=N>1,D=a&&!ee.kKJ(h)?h:null,L=(0,_I.default)("zhc-pipeline",{"zhc-pipeline--is-collapsed":P,"zhc-pipeline--is-expanded":A,"zhc-pipeline--is-dragging":l}),z=(0,_I.default)("zhc-pipeline--header-wrapper",{"zhc-pipeline--header-wrapper--is-closed":a,"zhc-pipeline--header-wrapper--is-locked":d}),M=document.querySelectorAll(".zhc-pipeline--header-wrapper"),x=document.querySelectorAll(".zhc-pipeline--is-dragging");C||x.length?M.forEach((e=>e.classList.add("zhc-pipeline--header-wrapper--no-hover"))):M.forEach((e=>e.classList.remove("zhc-pipeline--header-wrapper--no-hover")));const F=ee.eiS(eTt,this.props),{beforeMoveIssue:U,onIssueCardHover:B,issueOnDrop:q}=this.props,H=TP(N),W=P?{}:{width:H},j=H-2-5,G=v&&!I&&"Closed"!==E.name&&(0,_t.KN)(E.issues),K=Ye.createElement("div",{className:z},Ye.createElement(NSt,{id:E._id,isFilterActive:I,sortType:E.sort_by,isLocked:d,inSelectionMode:p,name:E.name,isClosed:a,canLoadMore:a&&Boolean(h),estimate:yP(E,R),columns:N,pipelineOnDelete:()=>{b({id:e,removePipelineId:E._id,organization:t.organization,repo:t.repo,repoId:t.repo_id})},pipelineOnSetSort:_,pipelineOnSetWidth:f,defaultRepo:t,boardId:e,pipelineDescription:E.description,pipelineIssueCount:SP(E,R),pipelineName:E.name,showPipelineDescriptions:v,startEdit:this.openEditForm,selectPipeline:this.onSelectPipeline,isPipelineSelectedAll:y,selectedIssues:w,selectionThreshold:S,showNewIssueCreator:O,isDragging:l,toggleNewIssueCreator:this.toggleNewIssueCreator})),V=Ye.createElement(XRt,{pipeline:E,onSubmit:n=>{this.dismissEditForm(),g({id:e,repo_id:t.repo_id,pipelineId:E._id,pipeline:n})},onCancel:this.dismissEditForm,showDescription:v,validatePipelineName:e=>e===E.name||m(e)?{}:{name:"Pipeline name is already taken"},focusOnMount:k?"description":"name"});return s(i(Ye.createElement("div",{className:L,style:W},C?V:r(K),Ye.createElement(HRt,QRt({repoId:t.id,repoName:t.repository,dragIssue:n,dropTargetIssueCards:o,sortBy:E.sort_by,isClosed:a,isOver:u,columns:N,issues:E.issues,onHover:B,beforeMoveIssue:U,onDrop:q,loadMoreIssues:D,isLoadingClosedIssues:c,pipelineWidth:j,showPipelineDetails:G,isEditing:C,openEditForm:this.openEditFormFromBody,pipeline:E,showNewIssueCreator:O,toggleNewIssueCreator:this.toggleNewIssueCreator},F)))),{captureDraggingState:!0})}}tTt.propTypes={boardId:SI().string.isRequired,defaultRepo:SI().shape({id:SI().string,organization:SI().string,repo:SI().string,repo_id:SI().number,repository:SI().string}).isRequired,isFilterActive:SI().bool.isRequired,isPipelineSelectedAll:SI().bool.isRequired,issueAddEpicFilter:SI().func.isRequired,issueAddHighPriority:SI().func.isRequired,issueRemoveEpicFilter:SI().func.isRequired,issueRemoveHighPriority:SI().func.isRequired,pipeline:mSt.pipeline.isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,selectionThreshold:SI().number.isRequired,showPRs:SI().bool.isRequired,workspace:SI().shape({repos:SI().arrayOf(SI().shape({}))}).isRequired,addIssuesToSelection:SI().func,beforeMoveIssue:SI().func,dragIssue:SI().shape({}),dragPreview:SI().func,dragSource:SI().func,dropTarget:SI().func,dropTargetIssueCards:SI().func,inSelectionMode:SI().bool,isClosed:SI().bool,isDragging:SI().bool,isLoadingClosedIssues:SI().bool,isLocked:SI().bool,isOver:SI().bool,issueOnDrop:SI().func,isValidName:SI().func,loadMore:SI().func,pipelineIdWithActiveIssueCreator:SI().string,pipelineOnDelete:SI().func,pipelineOnEdit:SI().func,pipelineOnSetSort:SI().func,pipelineOnSetWidth:SI().func,removeIssuesFromSelection:SI().func,showPipelineDescriptions:SI().bool,toggleQuickIssueCreator:SI().func,onDragEnd:SI().func,onDragStart:SI().func,onIssueCardHover:SI().func,onIssueCardHoverPipeline:SI().func,onIssueDrop:SI().func},tTt.defaultProps={addIssuesToSelection:_t.ZT,beforeMoveIssue:_t.ZT,dragSource:ee.yRu,dropTarget:ee.yRu,dropTargetIssueCards:ee.yRu,dragIssue:null,dragPreview:ee.yRu,isClosed:!1,isDragging:!1,isLoadingClosedIssues:null,isLocked:!1,isOver:!1,inSelectionMode:!1,issueOnDrop:_t.ZT,isValidName:_t.ZT,loadMore:_t.ZT,pipelineOnEdit:_t.ZT,pipelineOnSetWidth:_t.ZT,pipelineOnSetSort:_t.ZT,pipelineOnDelete:_t.ZT,onIssueCardHover:_t.ZT,onIssueCardHoverPipeline:_t.ZT,onIssueDrop:_t.ZT,onDragStart:_t.ZT,onDragEnd:_t.ZT,removeIssuesFromSelection:_t.ZT,toggleQuickIssueCreator:_t.ZT,showPipelineDescriptions:!1,pipelineIdWithActiveIssueCreator:null};const nTt=nRt(tTt);function sTt(){return sTt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sTt.apply(this,arguments)}const rTt=e=>Ye.createElement("div",sTt({},e,{style:{width:TP(1)}})),iTt=e=>{let{onClick:t}=e;return Ye.createElement(rTt,{className:"zhc-pipeline zhc-pipeline--add-placeholder"},Ye.createElement("button",{className:"zhc-pipeline-header__main zhu-cursor-pointer","data-cy":"add-pipeline",onClick:t,type:"button"},Ye.createElement("strong",{className:"zhc-pipeline-header__info"},"Add a pipeline ...")))};function oTt(){return oTt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oTt.apply(this,arguments)}const aTt=dSt("div");class lTt extends Ye.Component{constructor(e){super(e),this.validatePipelineName=e=>{const{isValidName:t}=this.props;return t(e)?{}:{name:"Pipeline name is already taken"}};const{pipelines:t}=this.props,n=function(e){const t=window.outerWidth;let n=0;for(let s=0;s<e.length;s+=1)if(n+=TP(ee.Uth(1,"columns",e[s]))+5,n>t)return s+1;return e.length}(t);this.state={pipelines:t,pipelineCountRenderLimit:n},this.sharedCellSizeCache={widths:{},heights:{}},this.pipelineViewScrollUtils=(0,Ye.createRef)({}),this.pipelineViewContentRef=(0,Ye.createRef)(),this.pipelineViewRef=null,this.onDrag=this.onDrag.bind(this),this.onIssueCardHover=this.onIssueCardHover.bind(this),this.onIssueCardHoverPipeline=this.onIssueCardHoverPipeline.bind(this),this.getPipelines=this.getPipelines.bind(this),this.getPipelineById=this.getPipelineById.bind(this),this.getRef=this.getRef.bind(this),this.scheduleUpdate=this.scheduleUpdate.bind(this),this.runScheduledUpdateNow=this.runScheduledUpdateNow.bind(this),this.drawFrame=this.drawFrame.bind(this),this.overflowScrollHandler=this.overflowScrollHandler.bind(this),this.pipelinesContainerScrollHandler=this.pipelinesContainerScrollHandler.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.willUnmount=!1}componentDidMount(){this.pipelineViewContentRef.current.addEventListener("wheel",this.overflowScrollHandler),setTimeout((()=>{window.requestAnimationFrame((()=>{this.willUnmount||this.setState({pipelineCountRenderLimit:null})}))})),this.pipelineViewScrollUtils.current={}}UNSAFE_componentWillReceiveProps(e){const{pipelines:t}=this.props;e.pipelines!==t&&this.setState({pipelines:e.pipelines})}componentWillUnmount(){this.pipelineViewContentRef.current.removeEventListener("wheel",this.overflowScrollHandler),this.pipelineViewRef.current.removeEventListener("scroll",this.pipelinesContainerScrollHandler),cancelAnimationFrame(this.requestedFrame),this.willUnmount=!0}onDrag(e,t){const{pipelines:n}=this.state,s=n[e];this.scheduleUpdate({pipelines:{$splice:[OP(e),NP(t,s)]}})}onIssueCardHover(e,t){const{pipelineId:n}=e,s=this.getPipelineById(n);if(e.issue.issue_path===t.issue.issue_path)return;const r=CP(s)?t:this.adjustDropPropsForPriorities(e,t);if(e.pipelineId!==r.pipelineId)this.transferIssueCard(e,r);else{if(gP(s))return;this.reorderIssueCard(e,r)}}onIssueCardHoverPipeline(e,t){const{pipelines:n}=this.state,{issue:s}=e,r=t.pipeline._id,i=kP(r,n),o=n[i];if(gP(o))return void this.onIssueCardHoverSortedPipeline(e,t);const a=["pipelines",i,"issues"];if(ee.kKJ(ee.ETc(a,this.state)))return;const l=KP(s),{issues:c}=o,d=VP(c);let u;u=l?{$splice:[[0,0],[d,0,s]]}:{$push:[s]};const p=ee.uhR(a,u,{}),m=this.removeIssueCardUpdateQuery(e);if(ee.kKJ(m))return;const h=PP([p,m]);this.scheduleUpdate(h,(()=>{e.groupIndex=null,e.groupIssueIndex=null,e.index=o.issues.length,e.pipelineId=o._id}))}onIssueCardHoverSortedPipeline(e,t){const{pipeline:n}=t,{pipelines:s}=this.state,{issue:r,sourceIssueIndex:i,sourcePipelineId:o}=e;if(fP(n))return this.onIssueCardHoverSortedGroupedPipeline(e,t);const a=this.removeIssueCardUpdateQuery(e);if(ee.kKJ(a))return null;const l=n._id,c=["pipelines",kP(l,s),"issues"],d=o===l,u=d?i:ee.kE(n.issues),p=ee.zoF(c,[u]),m=ee.ETc(p,this.state);if(m&&ee.pe1(LP,m,r))return null;const h=d?{$splice:[NP(u,r)]}:{$push:[r]},E=ee.uhR(c,h,{}),g=PP([a,E]);return this.scheduleUpdate(g,(()=>{e.pipelineId=l,e.index=u,e.groupIndex=null,e.groupIssueIndex=null})),null}onIssueCardHoverSortedGroupedPipeline(e,t){const{pipeline:n}=t,{pipelines:s}=this.state,{issue:r,sourceGroupIndex:i,sourceGroupIssueIndex:o}=e,a=this.removeIssueCardUpdateQuery(e);if(ee.kKJ(a))return;const l=["pipelines",kP(n._id,s),"issues"],c=ee.xbD(n.issues),d=e.sourcePipelineId===n._id,u=d?i:0,p=ee.zoF(l,[u,"issues"]),m=ee.ETc(p,this.state),h=c?0:ee.kE(m),E=d?o:h,g=ee.R3I(E,p),f=ee.ETc(g,this.state);if(d&&f&&ee.pe1(LP,f,r))return;const _=c?(e=>({title:"",issues:[e]}))(r):r,v=d?{$splice:[NP(E,_)]}:{$push:[_]},I=c?l:p,b=ee.uhR(I,v,{}),y=PP([a,b]);this.scheduleUpdate(y,(()=>{e.pipelineId=t.pipeline._id,e.index=null,e.groupIndex=u,e.groupIssueIndex=E}))}getPipelineById(e){const{pipelines:t}=this.state;return t[kP(e,t)]}getPipelines(){const{pipelines:e}=this.props;return e}getRef(e){if(e){const{initContainer:t}=this.props,n=`.${(e.props?e.props.className:e.className).split(" ").join(".")}`;document.querySelector(n)&&t(),this.pipelineViewRef={current:e.container}}}adjustDropPropsForPriorities(e,t){const n={...t},s=t.pipelineId,r=this.getPipelineById(s),{issues:i}=r,{hasHighPriorityIssues:o}=(e=>{const{issues:t}=e,n=ee.vMG($P,t);let s=!1;return CP(e)||(s=!(0,_t.KN)(n.high)),{hasHighPriorityIssues:s,hasLowPriorityIssues:!(0,_t.KN)(n.low)}})(r),a=VP(i),l=KP(e.issue),c=KP(t.issue),d=e.pipelineId===t.pipelineId;if(l){if(c)1===r.columns&&(n.index-=1),t.scrollToPriorityDivision(!1,r.columns);else if(o){t.scrollToPriorityDivision(!0,r.columns);const e=d?1:0;n.index=Math.max(a-e,0)}else n.index=0;return n}return c?(t.scrollToPriorityDivision(!0,r.columns),n.index=a):o&&t.scrollToPriorityDivision(!1,r.columns),n}overflowScrollHandler(e){(0,_t.qD)(e,this.pipelineViewRef.current,this.pipelineViewContentRef.current)}reorderIssueCard(e,t){const n=this.removeIssueCardUpdateQuery(e),s=this.insertIssueCardUpdateQuery(e,t);if(ee.kKJ(n))return;const{pipelines:r}=this.state,i=["pipelines",kP(e.pipelineId,r),"issues"],o=ee.uhR(i,{$splice:[ee.ETc(ee.zoF(i,["$splice",0]),n),ee.ETc(ee.zoF(i,["$splice",0]),s)]},{});this.scheduleUpdate(o,(()=>{e.index=t.index}))}scheduleUpdate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t.ZT;ee.kKJ(e)||this.requestedFrame||(this.pendingUpdate=e,this.pendingCallback=t,this.requestedFrame=requestAnimationFrame(this.drawFrame))}runScheduledUpdateNow(){this.drawFrame()}drawFrame(){if(!this.pendingUpdate)return;const e=Xyt()(this.state,this.pendingUpdate);this.setState(e,(()=>{this.pendingCallback(),this.pendingUpdate=null,this.requestedFrame=null}))}insertIssueCardUpdateQuery(e,t){const n=t.pipelineId,s=this.getPipelineById(n);return fP(s)?this.insertIssueCardInGroupedPipelineUpdateQuery(e,t):this.insertIssueCardInPipelineUpdateQuery(e,t)}insertIssueCardInPipelineUpdateQuery(e,t){const{pipelines:n}=this.state,{index:s}=t,{pipelineId:r}=t,{issue:i}=e,o=["pipelines",kP(r,n),"issues"];return ee.uhR(o,{$splice:[NP(s,i)]},{})}insertIssueCardInGroupedPipelineUpdateQuery(e,t){const{pipelines:n}=this.state,{pipelineId:s,groupIndex:r,groupIssueIndex:i}=t,{issue:o}=e,a=kP(s,n),l=n[a],c=e.sourcePipelineId===t.pipelineId&&fP(l),d=c?e.sourceGroupIndex:r,u=c?e.sourceGroupIssueIndex:i,p=["pipelines",a,"issues",d,"issues"],m=ee.R3I(u,p);if(ee.kKJ(ee.ETc(p,this.state)))return null;const h=ee.ETc(m,this.state);if(h&&ee.pe1(LP,h,o))return null;return ee.uhR(p,{$splice:[NP(i,o)]},{})}removeIssueCardFromGroupedPipelineUpdateQuery(e){const{pipelineId:t,groupIndex:n,groupIssueIndex:s,issue:r}=e,{pipelines:i}=this.state,o=["pipelines",kP(t,i),"issues",n,"issues"],a=ee.R3I(s,o),l=ee.ETc(a,this.state);if(ee.kKJ(l)||!DP(l,r))return null;return ee.uhR(o,{$splice:[OP(s)]},{})}removeIssueCardFromPipelineUpdateQuery(e){const{pipelineId:t,issue:n}=e,{pipelines:s}=this.state,r=kP(t,s),i=s[r],o=(e=>ee.cxD(DP(e)))(n)(i.issues);if(o<0)return null;const a=["pipelines",r,"issues"],l=ee.zoF(a,[o]);if((0,_t.KN)(ee.ETc(l,this.state)))return null;return ee.uhR(a,{$splice:[OP(o)]},{})}removeIssueCardUpdateQuery(e){const{pipelineId:t}=e,n=this.getPipelineById(t);return fP(n)?this.removeIssueCardFromGroupedPipelineUpdateQuery(e):this.removeIssueCardFromPipelineUpdateQuery(e)}transferIssueCard(e,t){const n=this.removeIssueCardUpdateQuery(e),s=this.insertIssueCardUpdateQuery(e,t);if(ee.kKJ(n))return;const r=PP([n,s]);this.scheduleUpdate(r,(()=>{e.index=t.index,e.pipelineId=t.pipelineId}))}pipelinesContainerScrollHandler(e){const{current:t}=this.pipelineViewScrollUtils;t.originalScrollPosition||(t.originalScrollPosition=e.target.scrollLeft),t.scrollMax=Math.max(Math.abs(e.target.scrollLeft-t.originalScrollPosition),this.pipelineViewScrollUtils.current.scrollMax||0),t.markedContainerForScroll||(t.markedContainerForScroll=!0)}onDragStart(e){let{type:t}=e;this.pipelineViewScrollUtils.current.type=t,this.pipelineViewRef?.current&&this.pipelineViewRef.current.addEventListener("scroll",this.pipelinesContainerScrollHandler)}onDragEnd(){const{current:e}=this.pipelineViewScrollUtils;this.pipelineViewRef?.current&&(e.markedContainerForScroll&&(r6("Pipelines container scrolled with drag and drop",{Type:e.type,ScrolledPixels:e.scrollMax}),e.markedContainerForScroll=!1,e.originalScrollPosition=null,e.scrollMax=0),this.pipelineViewRef.current.removeEventListener("scroll",this.pipelinesContainerScrollHandler))}render(){const{isLocked:e,isAddPipelineActive:t,inSelectionMode:n,issueOnDrop:s,loadMore:r,addNewPipeline:i,hideAddPipeline:o,showAddPipeline:a,selectedIssues:l,showPipelineDescriptions:c,...d}=this.props,{pipelines:u,pipelineCountRenderLimit:p}=this.state,m=(p?ee.qnb(p,u):u).map(((t,i)=>{const o=((e,t,n,s)=>{const r=SP(e,!1);if(n&&!(0,_t.KN)(e.issues)){const n=IP(e).map((e=>({issue_number:e.issue_number,repo_id:e.repo_id}))),i=ee.jVA(t,n);return i.length===r||i.length>=s}return!1})(t,l,n,50);return Ye.createElement(nTt,oTt({},d,{key:t._id,isLocked:e||n,inSelectionMode:n,pipeline:t,index:i,isClosed:CP(t),loadMore:r,onDrag:this.onDrag,beforeMoveIssue:this.runScheduledUpdateNow,onIssueCardHover:this.onIssueCardHover,onIssueCardHoverPipeline:this.onIssueCardHoverPipeline,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,issueOnDrop:s,getPipelines:this.getPipelines,sharedCellSizeCache:this.sharedCellSizeCache,isPipelineSelectedAll:o,selectedIssues:l,selectionThreshold:50,showPipelineDescriptions:c}))}));if(!e&&!n){const e=t?Ye.createElement(rTt,{key:"pipeline-add",className:"zhc-pipeline"},Ye.createElement(YRt,{onSubmit:i,onCancel:o,submitText:"Create",showDescription:c,validatePipelineName:this.validatePipelineName})):Ye.createElement(iTt,{key:"pipeline-add-place-holder",onClick:()=>a()});m.push(e)}return Ye.createElement(WSt,null,Ye.createElement(aTt,{className:"zhc-pipelines","data-testid":"pipelines",ref:this.getRef},Ye.createElement("div",{className:"zhc-pipelines__container",ref:this.pipelineViewContentRef},m)))}}lTt.propTypes={isValidName:SI().func.isRequired,pipelines:SI().arrayOf(SI().shape({})).isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,showPipelineDescriptions:SI().bool.isRequired,addNewPipeline:SI().func,hideAddPipeline:SI().func,initContainer:SI().func,inSelectionMode:SI().bool,isAddPipelineActive:SI().bool,isLocked:SI().bool,issueAddEpicFilter:SI().func,issueOnDrop:SI().func,issueRemoveEpicFilter:SI().func,loadMore:SI().func,pipelineOnDrop:SI().func,showAddPipeline:SI().func},lTt.defaultProps={initContainer:_t.ZT,inSelectionMode:!1,isLocked:!1,isAddPipelineActive:!1,pipelineOnDrop:_t.ZT,issueOnDrop:_t.ZT,addNewPipeline:_t.ZT,hideAddPipeline:_t.ZT,showAddPipeline:_t.ZT,issueAddEpicFilter:_t.ZT,issueRemoveEpicFilter:_t.ZT};const cTt=function(e){return t=>Ye.createElement(uSt.W,{backend:pSt.PD},Ye.createElement(e,t))}(lTt);function dTt(){return dTt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dTt.apply(this,arguments)}function uTt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{board:pTt,notifications:mTt}=LG,{isNilOrEmpty:hTt}=Vt.Z,ETt=ee.OH4("_id","closed-pipeline");function gTt(e){return ee.zGw(fv,ee.VO0,mS.Jp)(e)||{}}const fTt=(0,pa.P1)(Ua,Iv,_v,((e,t,n)=>{const s="connected"===t,r=!ee.kKJ(n);return e||!s||r}));function _Tt(e){return ee.qCK(ee.KJl(ee.kKJ,(()=>!1),Zt),function(e){return ee.qCK(ee.vgT(ee.__,e),an)}(e))}const vTt=ee.WAo(((e,t,n,s)=>{if(hTt(s))return!1;if(s.some(_Tt(e)))return!0;const r=ee.jge("repo_id",s),i=r.some((e=>((e,t)=>!e[t])(t,e)));if(i)return null;const o=r.some((e=>!((e,t)=>{const n=e[t];return n&&Boolean(n.loaded)})(t,e)));return!(!o||n)&&null})),ITt=ee.WAo(((e,t,n,s)=>{const r=!hTt(s.blocking),i=!hTt(s.blocked_by);if(Yt(s)||!r&&!i)return s;const o=vTt(e,t,n),a=o(s.blocking),l=o(s.blocked_by);return ee.yGi("dependencyStatus",function(e,t){return ee.kKJ(e)||ee.kKJ(t)?"UNKNOWN":e&&t?"BLOCKED_AND_BLOCKING":e?"BLOCKING":t?"BLOCKED":null}(a,l),s)})),bTt=(0,pa.P1)([Tv,Zyt],((e,t)=>{const n=Tyt(e);return t?((e,t)=>{const n=ee.zGw(ee.VO0,ee.jge("notifications"),ee.xHg)(e),s=ee.u4g(((e,n)=>{const{issue_number:s,repository:r}=n,i=`${r.repo_id}_${s}`,o=t[i];return o?ee.zGw(ee.yGi("notification",n),ee.yGi(i,ee.__,e))(o):e}),{},n);return{...t,...s}})(t,n):n})),yTt=(0,pa.P1)([Ev,fv,wv,bTt],((e,t,n,s)=>ee.UID(ITt(e,t,n),s))),STt=(0,pa.P1)([fv,pv],(function(e,t){return mS.wK(t.repos,ee.VO0(e))}));const wTt=(0,pa.P1)([Rv,Q_],(function(e,t){const n=ee.HK3(an,t);return ee.IDH(((t,n)=>ee.TSy({isSelected:!0},e[n])),n)})),RTt=(0,pa.P1)([K_,yTt],((e,t)=>{const n=t[e];return ee.kKJ(e)||ee.kKJ(n)?t:ee.uhR([e,"isOptionsActive"],!0,t)})),TTt=(0,pa.P1)([RTt,wTt],ee.bTk(ee.TSy)),CTt=(0,pa.P1)([TTt,Pv,Ov],An),kTt=(0,pa.P1)([gv,CTt,z_,A_],(function(e,t,n,s){const r=kn(e,ee.VO0(t)),i=ee.UID((e=>function(e,t){const n=ee.u4g(((e,n)=>{const s=ee.vgT(an(n),t);return s&&e.push(s),e}),[])(e.issues);return ee.yGi("issues",n,e)}(e,t)),r),o=ee.cxD(ETt,i);if(!n)return ee.OdJ(o,1,i);const a=i[o],l=ee.MRu(ee.vgT("updated_at")),c=ee.GYS(l(a.issues)),d=ee.zGw(ee.yGi("columns",s),ee.yGi("issues",c))(a);return ee.Vxg(o,d,i)})),OTt=(0,pa.P1)([kTt],(function(e){return $yt(e)})),NTt=ee.YjB((e=>!Boolean(ee.ETc(["closedIssuesLoading","isLastPage"],e))));function PTt(e,t){const n=function(e,t,n,s){if(Qk(t))return null;const r=ee.OH4("_id",t),i=ee.sEJ(r,e),o=$t(n),a=ee.d1t(o,i.issues);if(ee.kKJ(s))return a.length;const l=$t(s),c=ee.cxD(l,a);return c<0?a.length:c}(e,t.pipeline_id,ee.eiS(["issue_number","repo_id"],t),t.next_issue),s=ee.yGi("position",n,t),r=Qk(t.from_pipeline_id),i=Qk(t.pipeline_id);return r&&i||!r&&i?pTt.closeIssue(s):r&&!i?pTt.reopenIssue({...s,workspacesPositions:[{workspaceId:s.board_id,pipelineId:s.pipeline_id,position:s.position}]}):pTt.transferIssue(s)}function ATt(e){return{workspace:Na(e),boardId:vv(e),rawPipelines:gv(e),repos:fv(e),pipelines:OTt(e),isLocked:fTt(e),filteredRepos:STt(e),defaultRepo:gTt(e),epicFilter:Fv(e),inSelectionMode:X_(e),selectedIssues:Q_(e),indexedIssues:Ev(e),showLabels:M_(e),showEstimates:x_(e),showMilestones:F_(e),showEpics:U_(e),showReleases:B_(e),showDependencies:W_(e),showNotifications:j_(e),showPRs:Kv(e),showReviewers:H_(e),isAddPipelineActive:G_(e),isFilterActive:Mv(e),isLoadingClosedIssues:Sv(e),isReadOnly:Ua(e),pipelineIdWithActiveIssueCreator:Y_(e),showPipelineDescriptions:Z_(e),dependenciesFilter:Yv(e),workspacePriorities:Ov(e)}}class DTt extends Ye.PureComponent{constructor(){super(...arguments),this.issueFetchDependencies=e=>{const{issueFetchDependencies:t,workspace:n}=this.props;t({...e,workspaceId:n._id})}}getLoadMoreAction(e){return NTt(e.filteredRepos)?e.loadMore.bind(null,e.filteredRepos):null}render(){const{props:e}=this,{boardId:t,defaultRepo:n={},dispatch:s,indexedIssues:r,rawPipelines:i,selectedIssues:o,workspace:a,workspacePriorities:l}=e,c=ee.VO0(e.repos),d=ee.jge("repo",c),u=ee.zGw(ee.eiS(["organization","repo"]),ee.TSy({position:ee.kE(i),id:e.boardId}))(n),p=e.issueOnDrop({rawPipelines:i,workspaceId:a._id}),m=e.issueOnClickSendTop(t),h=e.issueOnClickSendBottom(t),E=e.pipelineOnDelete(i,d),g=ee.WAo(((e,t)=>{const n=ap(r,t.filterKey);e(ee.UID((e=>({filterKey:e})),n))}));return Ye.createElement(cTt,dTt({},e,{loadMore:this.getLoadMoreAction(e),initContainer:this.initContainer,issueOnDrop:p,issueOnClickSelect:t=>{e.issueOnClickSelect(t,e.inSelectionMode,e.isReadOnly,e.selectedIssues)},issueOnClickSendBottom:h,issueOnClickSendTop:m,addNewPipeline:t=>e.addNewPipeline({...u,...t}),pipelineOnDelete:E,issueAddEpicFilter:g(e.issueAddEpicFilters),issueAddHighPriority:t=>{let{issue:n}=t;const s=Object.keys(l)[0],r={workspaceId:a._id,issue_number:n.issue_number,repo_id:n.repo_id,priority_id:s};return e.issueAddHighPriority(r)},issueFetchDependencies:this.issueFetchDependencies,issueRemoveEpicFilter:g(e.issueRemoveEpicFilters),issueRemoveHighPriority:t=>{let{issue:n}=t;const s={workspaceId:a._id,issue_number:n.issue_number,repo_id:n.repo_id,priority_id:null};return e.issueRemoveHighPriority(s)},isValidName:e=>_O(e,ee.jge("name",i)),filterIssueDependencies:e=>{s(pTt.checkAndAddDependenciesFilter({...e,indexedIssues:r,workspaceId:a._id}))},issueOnClick:(t,n)=>{m6(v6.ISSUE_CARD_OPEN_ISSUE),e.openBoardItem(),e.issueOnClick(t,n),t.notification&&e.markNotificationAsRead({repo_id:t.repo_id,thread_id:t.notification.id})},selectedIssues:o}))}}DTt.propTypes={boardId:SI().string.isRequired,dispatch:SI().func.isRequired,issueFetchDependencies:SI().func.isRequired,rawPipelines:SI().arrayOf(SI().shape({name:SI().string.isRequired})).isRequired,selectedIssues:SI().arrayOf(SI().shape({})).isRequired,workspace:SI().shape({_id:SI().string}).isRequired,addNewPipeline:SI().func,defaultRepo:SI().shape({}),indexedIssues:SI().shape({}),inSelectionMode:SI().bool,isReadOnly:SI().bool,issueAddEpicFilters:SI().func,issueAddHighPriority:SI().func,issueOnClick:SI().func,issueOnClickSelect:SI().func,issueOnClickSendBottom:SI().func,issueOnClickSendTop:SI().func,issueOnDrop:SI().func,issueRemoveEpicFilters:SI().func,issueRemoveHighPriority:SI().func,markNotificationAsRead:SI().func,openBoardItem:SI().func,pipelineOnDelete:SI().func,repos:SI().shape({}),workspacePriorities:SI().shape({})};const LTt=(0,l3.$j)(ATt,(function(e){const t=(0,mr.DE)({hideAddPipeline:pTt.hideAddPipeline,issueAddEpicFilter:pTt.addEpicFilter,issueAddEpicFilters:pTt.addEpicFilters,issueAddHighPriority:pTt.setIssueHighPriority,issueRemoveEpicFilter:pTt.removeEpicFilter,issueRemoveEpicFilters:pTt.removeEpicFilters,issueRemoveHighPriority:pTt.removeIssuePriority,issueFetchDependencies:pTt.fetchIssueDependencies,issueToggleCardOptions:pTt.toggleIssueCardOptions,pipelineOnDrop:pTt.reorderPipeline,showAddPipeline:pTt.showAddPipeline,toggleQuickIssueCreator:pTt.toggleQuickIssueCreator,openBoardItem:pTt.openBoardItem,markNotificationAsRead:mTt.markNotificationAsRead,addIssuesToSelection:pTt.addIssuesToSelection,removeIssuesFromSelection:pTt.removeIssuesFromSelection},e);return ee.TSy(t,{dispatch:e,loadMore(t){e(pTt.loadMoreClosedIssues(t))},issueOnDrop:ee.WAo(function(){var t,n=(t=function*(t,n){let{rawPipelines:s,workspaceId:r}=t;e(PTt(s,n));const{id:i,pipeline_id:o,repo_id:a,issue_number:l,from_pipeline_id:c}=n;if(c===o)return;const d=o!==Yk?tN(r,[i]):Promise.resolve([]),u=X7e(l,a,o),[p,m]=yield Promise.allSettled([d,u]),h=s.find((e=>e._id===o))?.name,E=p.value.filter((e=>e.pipelineIssue.pipeline.id!==o)).length>0;!ETt(c)&&E&&nN(p.value,h),gb(m.value)},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){uTt(i,s,r,o,a,"next",e)}function a(e){uTt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()),issueOnClickClose(t){const n=ee.TSy({viaOptions:!0,repo:t.repo_name},ee.eiS(["issue_number","organization","repo_id"],t));e(pTt.closeIssue(n))},issueOnClickSendTop:ee.WAo(((t,n)=>{const{issue:s,pipelineId:r,issuePriorities:i}=n,o=ee.TSy({board_id:t,position:"top",repo:s.repo_name,from_pipeline_id:r,pipeline_id:r,issue_title:s.title,priority:s.priority,issuePriorities:i},ee.eiS(["issue_number","organization","repo_id"],s));e(pTt.transferIssue(o))})),issueOnClickSendBottom:ee.WAo(((t,n)=>{const{issue:s,pipelineId:r,issuePriorities:i}=n,o=ee.TSy({board_id:t,position:"bottom",repo:s.repo_name,from_pipeline_id:r,pipeline_id:r,issue_title:s.title,priority:s.priority,issuePriorities:i},ee.eiS(["issue_number","organization","repo_id"],s));e(pTt.transferIssue(o))})),pipelineOnSetWidth(t){const n=oO(t.pipelineId);nI(n,t.width,1),e(pTt.pipelineOnSetWidth(t))},pipelineOnSetSort(t){ee.kKJ(t.sort_by)?e(pTt.clearPipelineSorting(t)):e(pTt.setPipelineSorting(t))},pipelineOnEdit:t=>{e(pTt.pipelineOnEdit(t))},pipelineOnDelete:ee.WAo(((t,n,s)=>{const{removePipelineId:r}=s,i=function(e,t){if(e.length<=1)return null;const n=ee.YMb(e);return t===n._id?e[1]:n}(t,r),o=ee.sEJ(ee.OH4("_id",r),t);if(ee.kKJ(i))return void window.alert("Sorry, you cannot delete the last pipeline!");const a=ee.TSy(s,{destPipelineId:i._id,destPipelineName:i.name,pipelineName:o.name,repoNames:n});e(pTt.pipelineToDelete(a)),e(pTt.openFullscreenModal(g_))})),addNewPipeline:t=>e(pTt.addPipeline(t)).then((()=>e(pTt.hideAddPipeline()))),isValidName:e=>_O(e),clearDependenciesFilter:()=>{e(pTt.clearDependenciesFilter())}})}),((e,t,n)=>({...n,...e,...t,issueOnClickSelect:(n,s,r,i)=>{const{dispatch:o}=t,a=ee.eiS(["issue_number","repo_id","pipelineId"],n.issue);if(!Yt(n.issue)&&!r)if(s||o(pTt.enterSelectionMode({selectedCount:i.length})),n.issue.isSelected)o(pTt.removeIssueFromSelection(a)),1===i.length&&$t(a,i[0])&&(o(pTt.exitSelectionMode()),XD());else{0===i.length?QD():XD();const{issue:t,isShiftClick:s}=n;s&&i?.length&&((e,t,n,s)=>{const r=t.find((t=>t._id===e.pipeline.id))?.issues;if(!r)return;const i=r.findIndex((t=>t.id===e.id)),o=n.map((e=>{let{issue_number:t,repo_id:n}=e;return r.findIndex((e=>e.issue_number===t&&e.repo_id===n))})).filter((e=>e>-1));if(o.length){const e=[i,o.pop()].sort(((e,t)=>e-t));e[0]+=1,s(r.slice(...e))}})(t,e.pipelines,i,(e=>o(pTt.addIssuesToSelection({issues:e})))),o(pTt.addIssueToSelection(a))}}})))(DTt),zTt="PHyWYGLx2uoQcbP1zVmQ",MTt="pvCyimLIVyv9N45AxUTb",xTt="QLJqJVBZ5a2Bmnjx7pGk",FTt="zHt1QLG8hiYk_ZzRC0eh",UTt=(0,_t.fB)("Point","Points"),BTt=(0,_t.fB)("Issue","Issues"),qTt=e=>{let{totalEstimateCount:t,selectedIssues:n,clearAll:s}=e;const r=ee.kE(n),i=r<1?null:Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,padding:M5.NONE,className:xTt,onClick:s},Ye.createElement(n5,{className:FTt}),"Clear all selected");return Ye.createElement("div",{className:"zhc-multi-action-status zhc-btn--text"},Ye.createElement("span",{className:MTt,"data-testid":"issue-count"},`${r} ${BTt(r)}`),"\xa0-\xa0",Ye.createElement("span",{className:zTt,"data-testid":"total-estimate"},`${t} Story ${UTt(t)}`),"\xa0\u2014\xa0",i)};qTt.propTypes={clearAll:SI().func.isRequired,selectedIssues:SI().arrayOf(SI().object).isRequired,totalEstimateCount:SI().number.isRequired};const HTt=qTt,{board:WTt}=LG;const jTt=ee.Uth(0,"estimate"),GTt=ee.qCK(ee.Smz,ee.UID(jTt),(function(e,t){return ee.UID((t=>{const n=an(t);return e[n]?ee.TSy(e[n],t):t}),t)})),KTt=(0,pa.P1)(Ev,Q_,GTt);const VTt=l3.$j((function(e){return{selectedIssues:Q_(e),totalEstimateCount:KTt(e)}}),(function(e){return{clearAll(){e(WTt.clearIssuesFromSelection()),e(WTt.exitSelectionMode()),XD()}}}))(HTt);function $Tt(e){let{shouldRemovePriority:t,applyPriority:n,isDisabled:s,disabledToolTip:r}=e;const i=t?"Remove high priority":"Set as high priority";return s?Ye.createElement(ZI,{content:r},Ye.createElement(kpe,{disabled:!0,text:i,modifiers:["secondary"]})):Ye.createElement(kpe,{text:i,modifiers:["secondary"],onClick:()=>n()})}$Tt.propTypes={applyPriority:SI().func.isRequired,disabledToolTip:SI().string,isDisabled:SI().bool,shouldRemovePriority:SI().bool},$Tt.defaultProps={disabledToolTip:"",isDisabled:!1,shouldRemovePriority:!1};const ZTt=$Tt,{board:YTt}=LG;const JTt=ee.eiS(["workspaceId","highPriority","selectedIssues"]);const XTt=(0,l3.$j)((function(e){return{workspaceId:Pa(e),highPriority:Nv(e),selectedIssues:Dce(e)}}),null,(function(e,t,n){const{dispatch:s}=t,{workspaceId:r,selectedIssues:i,highPriority:o}=JTt(e),a=YN(i),l=a?null:o,c=a?i[0].priority:null,[d,u]=function(e){return[JN(e),"Pull requests cannot be set as high priority. Deselect them to continue."]}(i);return{...e,...n,...t,applyPriority:function(){XD(),s(YTt.applyPrioritiesMultiAction({workspaceId:r,selectedIssues:i,nextPriority:l,currentPriority:c}))},disabledToolTip:u,isDisabled:d,shouldRemovePriority:a}}))(ZTt),QTt=()=>{const[e,t]=(0,Ye.useState)(!1);return Ye.createElement(Ye.Fragment,null,Ye.createElement(kpe,{text:"Set sprint",modifiers:["secondary"],onClick:()=>{e?t(!1):(XD(),t(!0))}}),e&&Ye.createElement(rde,{onClose:()=>t(!1)}))},{shortcutsConstants:eCt,bindShortcut:tCt,unbindShortcut:nCt}=N,{shortcuts:sCt,shared:rCt,board:iCt}=LG;class oCt extends Ye.Component{constructor(e){super(e),this.openPipeline=this.openPipeline.bind(this),this.openLabel=this.openLabel.bind(this),this.openMilestone=this.openMilestone.bind(this),this.openMilestone=this.openMilestone.bind(this),this.openEstimate=this.openEstimate.bind(this),this.openAssignee=this.openAssignee.bind(this),this.openEpic=this.openEpic.bind(this),this.openRelease=this.openRelease.bind(this)}componentDidMount(){const{exitSelectionMode:e}=this.props;tCt(eCt.MULTI_SELECT_PIPELINE.shortcuts,this.openPipeline,null,!0),tCt(eCt.MULTI_SELECT_LABEL.shortcuts,this.openLabel,null,!0),tCt(eCt.MULTI_SELECT_MILESTONE.shortcuts,this.openMilestone,null,!0),tCt(eCt.MULTI_SELECT_ESTIMATE.shortcuts,this.openEstimate,null,!0),tCt(eCt.MULTI_SELECT_ASSIGNEE.shortcuts,this.openAssignee,null,!0),tCt(eCt.MULTI_SELECT_EPIC.shortcuts,this.openEpic,null,!0),tCt(eCt.MULTI_SELECT_RELEASE.shortcuts,this.openRelease,null,!0),tCt(eCt.GLOBAL_ESC.shortcuts,e)}componentWillUnmount(){nCt(eCt.MULTI_SELECT_PIPELINE.shortcuts),nCt(eCt.MULTI_SELECT_LABEL.shortcuts),nCt(eCt.MULTI_SELECT_MILESTONE.shortcuts),nCt(eCt.MULTI_SELECT_ESTIMATE.shortcuts),nCt(eCt.MULTI_SELECT_ASSIGNEE.shortcuts),nCt(eCt.MULTI_SELECT_EPIC.shortcuts),nCt(eCt.MULTI_SELECT_RELEASE.shortcuts),nCt(eCt.GLOBAL_ESC.shortcuts)}openPipeline(){const{openPipelineMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_PIPELINE.name)}openLabel(){const{openLabelMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_LABEL.name)}openMilestone(){const{openMilestoneMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_MILESTONE.name)}openEstimate(){const{openEstimateMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_ESTIMATE.name)}openAssignee(){const{openAssigneeMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_ASSIGNEE.name)}openEpic(){const{openEpicMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_EPIC.name)}openRelease(){const{openReleaseMenu:e,onShortcutsUsed:t}=this.props;e(),t(eCt.MULTI_SELECT_RELEASE.name)}render(){const{exitSelectionMode:e,openAssigneeMenu:t,openEpicMenu:n,openEstimateMenu:s,openLabelMenu:r,openMilestoneMenu:i,openPipelineMenu:o,openReleaseMenu:a}=this.props;return Ye.createElement(kje,{title:"Actions"},Ye.createElement(Oje,null,Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Move to pipeline",modifiers:["secondary"],onClick:o})),Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Apply labels",modifiers:["secondary"],onClick:r})),Ye.createElement(Nje,null,Ye.createElement(QTt,null)),Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Set milestone",modifiers:["secondary"],onClick:i}))),Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Set estimate",modifiers:["secondary"],onClick:s})),Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Assign to",modifiers:["secondary"],onClick:t})),Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Set epic",modifiers:["secondary"],onClick:n})),Ye.createElement(Nje,null,Ye.createElement(kpe,{text:"Add to release",modifiers:["secondary"],onClick:a})),Ye.createElement(Nje,null,Ye.createElement(XTt,null)),Ye.createElement(Nje,{type:SGe.ACTIONS},Ye.createElement(VTt,null),Ye.createElement(kpe,{text:"Done",onClick:e,modifiers:["action"]}))),Ye.createElement(kpe,{text:"Done",onClick:e,modifiers:["action"]}))}}oCt.propTypes={exitSelectionMode:SI().func.isRequired,openAssigneeMenu:SI().func.isRequired,openEpicMenu:SI().func.isRequired,openEstimateMenu:SI().func.isRequired,openLabelMenu:SI().func.isRequired,openMilestoneMenu:SI().func.isRequired,openPipelineMenu:SI().func.isRequired,openReleaseMenu:SI().func.isRequired,onShortcutsUsed:SI().func.isRequired};const aCt=iCt.openFullscreenModal,lCt=aCt(d_),cCt=aCt(l_),dCt=aCt(a_),uCt=aCt(o_),pCt=iCt.clearChangesMultiAction(),mCt=aCt(c_),hCt=aCt(u_),ECt=aCt(p_);const gCt=l3.$j((function(e){return{filteredRepos:Gv(e),workspace:Na(e)}}),(function(e){return{openEpicMenu:(t,n)=>{m6(v6.MULTI_ACTION_EPICS_OPENED),r6("Set Epic",{Location:"Multi-action Menu"}),e(pCt),e(lCt),e(rCt.getAllConnectedRepoEpics({workspaceId:t._id,repoId:ee.YMb(n)}))},openAssigneeMenu(){m6(v6.MULTI_ACTION_ASSIGNEES_OPENED),e(pCt),e(cCt),e(JAe({key:"quick_issue_action_in_modal_tip",value:!0}))},openLabelMenu(t){m6(v6.MULTI_ACTION_LABELS_OPENED),e(pCt),e(dCt),e(rCt.getReposLabels(t)),e(JAe({key:"quick_issue_action_in_modal_tip",value:!0}))},openMilestoneMenu(t){m6(v6.MULTI_ACTION_MILESTONES_OPENED),e(pCt),e(uCt),e(rCt.getReposMilestones(t)),e(JAe({key:"quick_issue_action_in_modal_tip",value:!0}))},openPipelineMenu(){m6(v6.MULTI_ACTION_PIPELINES_OPENED),e(pCt),e(mCt)},openEstimateMenu(t){m6(v6.MULTI_ACTION_ESTIMATES_OPENED),e(pCt),e(hCt),e(rCt.getReposEstimates(t))},openReleaseMenu:t=>{m6(v6.MULTI_ACTION_RELEASES_OPENED),e(pCt),e(ECt),e(rCt.getWorkspacesReleases(t))},exitSelectionMode(){e(iCt.exitSelectionMode())},onShortcutsUsed(t){e(sCt.trackShortcutsUsed(t))}}}),(function(e,t,n){const{workspace:s,filteredRepos:r}=e,i=ee.TSy(t,{openEpicMenu:t.openEpicMenu.bind(this,e.workspace,r),openAssigneeMenu:t.openAssigneeMenu.bind(this),openLabelMenu:t.openLabelMenu.bind(this,r),openMilestoneMenu:t.openMilestoneMenu.bind(this,r),openEstimateMenu:t.openEstimateMenu.bind(this,r),openReleaseMenu:t.openReleaseMenu.bind(this,s._id)});return ee.Jnq([e,n,i])}))(oCt),fCt=e=>{let{sidebarCollapsed:t,children:n}=e;return Ye.createElement(Y8.Z,{query:{minWidth:1050,maxWidth:1440}},(e=>e&&t?Ye.createElement("div",null,n):Ye.createElement(Ye.Fragment,null,n)))};function _Ct(){return _Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_Ct.apply(this,arguments)}function vCt(e){const{onShortcutsUsed:t=(()=>{}),shortcuts:n,assignees:s}=e;qWe(n,t);const r=Lfe(s,"login","Assignees");return Ye.createElement(kme,_Ct({},e,r,{buttonIconComponent:Ye.createElement(Bwt,null),buttonName:"Assignees",emptyStateText:"No assignees found",filterableChildProp:"filterableString",filterDefaultText:"Filter assignees",listTitle:"Filter issues by assignee"}),function(e){return ee.UID((t=>Ye.createElement(b4e,_Ct({},t,{key:t.filterKey,select:e.selectItem,deselect:e.deselectItem}))))(e.assignees)}(e))}vCt.defaultProps={onShortcutsUsed:_t.ZT,shortcuts:null};const ICt=vCt;function bCt(){return bCt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bCt.apply(this,arguments)}const{shortcuts:yCt,board:SCt}=LG,wCt=Qle(nl),RCt=yl.hasActiveFilterBoard("assignees"),TCt=SCt.toggleDropdown.bind(void 0,nl),CCt=yCt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_ASSIGNEES.name);function kCt(e){const{toggleOpen:t,isActive:n,assignees:s}=e,[r,i]=(0,Ye.useState)([]),[o,a]=(0,Ye.useState)({}),l=(0,Ye.useCallback)((()=>{const e=s.filter((e=>!e.isSpecialFilter)).map((e=>e.login)),t=ee.e50(e,r);t.length&&(i(r.concat(t)),(e=>{if(ee.kE(e)>500)return ve().resolve(e.reduce(((e,t)=>({...e,[t]:null})),{}));const t=e.map((e=>({login:e})));return FC(t)})(t).then((e=>{a({...o,...e})})))}),[s,r,o]);(0,Ye.useEffect)((()=>{l()}),[l]);const c=lk(s.map((e=>({...e,name:ee.ETc([e.login,"name"],o)}))));return Ye.createElement(ICt,bCt({},e,{assignees:c,toggleOpen:()=>{n||l(),t()}}))}function OCt(e){return{isActive:wCt(e),activeFilter:RCt(e),assignees:lce(e),shortcuts:E8.BOARD_FILTER_ASSIGNEES.shortcuts}}function NCt(e){const t=(0,mr.DE)({selectItem:SCt.addAssigneeFilter,deselectItem:SCt.removeAssigneeFilter,clearFilter:SCt.clearAssigneeFilter},e);return ee.TSy(t,{onShortcutsUsed(){e(TCt()),e(CCt())},toggleOpen(){e(TCt())},dispatch:e})}kCt.propTypes={assignees:SI().arrayOf(SI().shape({})).isRequired,isActive:SI().bool.isRequired,toggleOpen:SI().func.isRequired};const PCt=l3.$j(OCt,NCt)(kCt),{shortcuts:ACt,board:DCt}=LG,LCt=Qle(al),zCt=yl.hasActiveFilterBoard("epics"),MCt=ACt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_EPICS.name);function xCt(e){return{epics:Rce(e),activeFilter:zCt(e),isActive:LCt(e),indexedIssues:Ev(e),shortcuts:E8.BOARD_FILTER_EPICS.shortcuts}}function FCt(e){const t=(0,mr.DE)({addEpicFilters:DCt.addEpicFilters,removeEpicFilters:DCt.removeEpicFilters,clearFilter:DCt.clearEpicFilter,trackShortcutUsed:MCt},e),n={toggleOpen(){const t=DCt.toggleDropdown.bind(this,al);e(t())},dispatch:e};return ee.TSy(t,n)}const UCt=l3.$j(xCt,FCt,(function(e,t,n){const s=ee.WAo(((t,n)=>{if(n.negated)return void t([n]);const s=ap(e.indexedIssues,n.filterKey);t(ee.qCK(ee.UID((e=>({filterKey:e}))),ee.R3I(n.filterKey))(s))})),r=ee.TSy(t,{selectItem:s(t.addEpicFilters),deselectItem:s(t.removeEpicFilters),onShortcutsUsed(){t.toggleOpen(),t.trackShortcutUsed()}});return ee.Jnq([e,n,r])}))(uXe),BCt=e=>{let{name:t,filterString:n}=e;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-label-item"},Ye.createElement("span",null,"Matching ",Ye.createElement("strong",{className:"zhu-color-text"},t)," ",n))};BCt.propTypes={filterString:SI().string.isRequired,name:SI().string.isRequired};const qCt=yEe(BCt);function HCt(){return HCt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HCt.apply(this,arguments)}class WCt extends Ye.PureComponent{constructor(){super(...arguments),this.buttonName=()=>{const{currentFilterLogic:e}=this.props,t=e||"any";return Ye.createElement("span",null,"Matching ",Ye.createElement("strong",{className:"zhu-color-text"},t)," ",this.filterString(t))},this.filterString=e=>"any"===e?"filter":"filters",this.shouldShowIntro=()=>{const{onboarding:e}=this.props;return!e.any_all_filter_intro_dismissed},this.introInfoAlert=()=>{const{dismissAnyAllFilterIntro:e}=this.props;return Ye.createElement(xSe,{key:"onboarding-info-alert",onClose:e},"You can refine your filters to look for"," ",Ye.createElement("span",{className:"zhu-text-important"},"X or Y (any)")," or"," ",Ye.createElement("span",{className:"zhu-text-important"},"X and Y (all)"))}}render(){const{tags:e,setFilterLogic:t,currentFilterLogic:n}=this.props;return e.length>1&&Ye.createElement("div",{className:"zhc-filter-logic-switcher"},Ye.createElement(kme,HCt({},this.props,{listTitle:"Filter type",buttonName:this.buttonName(),isFilterable:!1,allowSearch:!1,listDescription:this.shouldShowIntro()&&this.introInfoAlert()}),[Ye.createElement(qCt,{name:"any",filterString:this.filterString("any"),key:"any-filter",filterKey:"any",select:t,selected:"any"===n}),Ye.createElement(qCt,{name:"all",filterString:this.filterString("all"),key:"all-filters",filterKey:"all",select:t,selected:"all"===n})]))}}WCt.defaultProps={currentFilterLogic:"any"},WCt.propTypes={dismissAnyAllFilterIntro:SI().func.isRequired,onboarding:SI().shape({any_all_filter_intro_dismissed:SI().bool}).isRequired,setFilterLogic:SI().func.isRequired,tags:SI().arrayOf(SI().shape({})).isRequired,currentFilterLogic:SI().string};const jCt=WCt,{board:GCt,onboarding:KCt}=LG,VCt=GCt.toggleDropdown.bind(void 0,cl),$Ct=Qle(cl),ZCt=(0,l3.$j)((e=>({isActive:$Ct(e),currentFilterLogic:xv(e),onboarding:ew(e)})),(e=>({...(0,mr.DE)({setFilterLogic:GCt.toggleFilterLogic,toggleOpen:VCt},e),dismissAnyAllFilterIntro(){e(KCt.setOnboardingValue({key:"any_all_filter_intro_dismissed",value:!0}))}})))(jCt);function YCt(){return YCt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YCt.apply(this,arguments)}const{board:JCt}=LG,XCt=fVe,QCt=ee.d1t(ee.kKJ),ekt=(0,pa.P1)(Tv,Kv,((e,t)=>{const n=ee.qCK(ee.hXT(Zt),ee.VO0)(e);return t?n:ee.d1t(Qt,n)})),tkt=(0,pa.P1)(ekt,ee.kE);function nkt(e){const t=[e.milestones?.map(XCt.getMilestoneTag(e.removeMilestoneFilter)),ee.UID(ee.zGw(_Ve,XCt.getEpicTag((t=>{const n=ap(e.indexedIssues,t.filterKey),s=ee.qCK(ee.UID((e=>({filterKey:e,negated:t.negated}))),ee.R3I(t.filterKey))(n);e.removeEpicFilters(s)}))),e.epics),e.labels?.map(XCt.getLabelTag(e.removeLabelFilter)),e.estimates?.map(XCt.getEstimateTag(e.removeEstimateFilter)),e.assignees?.map(XCt.getAssigneeTag(e.removeAssigneeFilter)),e.authors?.map(XCt.getAuthorTag(e.removeAuthorFilter)),e.releases?.map(XCt.getReleaseTag(e.removeReleaseFilter)),e.sprints?.map(XCt.getSprintTag(e.removeSprintFilter)),XCt.getDependencyTag(e.removeDependencyFilter,e.dependency)];return ee.zGw(ee.xHg,QCt)(t)}function skt(e){return{hasSelectedFilter:gce(e),milestones:bce(e),labels:Ece(e),estimates:vce(e),epics:Tce(e),assignees:cce(e),authors:pce(e),releases:Mce(e),dependency:xce(e),indexedIssues:Ev(e),issueCount:tkt(e),visibleIssues:ekt(e),sprints:yce(e),isSearchActive:Fce(e)}}function rkt(e){return{...(0,mr.DE)({removeLabelFilter:JCt.removeLabelFilter,removeEstimateFilter:JCt.removeEstimateFilter,removeAssigneeFilter:JCt.removeAssigneeFilter,removeAuthorFilter:JCt.removeAuthorFilter,removeMilestoneFilter:JCt.removeMilestoneFilter,removeEpicFilters:JCt.removeEpicFilters,removeReleaseFilter:JCt.removeReleaseFilter,removeDependencyFilter:JCt.clearDependenciesFilter,removeSprintFilter:JCt.removeSprintFilter,removeSearchFilter:JCt.removeSearchFilter,selectAll:JCt.addAllIssuesToSelection},e),clearAll:()=>{e(JCt.clearTagFilters()),e(JCt.clearSearchFilter())}}}const ikt=(0,l3.$j)(skt,rkt)((e=>{const{visibleIssues:t,selectAll:n}=e,s=(0,Ye.useCallback)((()=>{const e=t.map(cn);return n(e),null}),[t,n]);return Ye.createElement(Ye.Fragment,null,Ye.createElement(ZCt,{tags:nkt(e)}),Ye.createElement(yGe,YCt({},e,{tags:nkt(e),selectAll:s})))})),{shortcuts:okt,board:akt}=LG,lkt=Qle(dl),ckt=yl.hasActiveFilterBoard("labels"),dkt=akt.toggleDropdown.bind(void 0,dl),ukt=okt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_LABELS.name);function pkt(e){return{labels:hce(e),activeFilter:ckt(e),isActive:lkt(e),shortcuts:E8.BOARD_FILTER_LABELS.shortcuts}}function mkt(e){const t=(0,mr.DE)({selectItem:akt.addLabelFilter,deselectItem:akt.removeLabelFilter,clearFilter:akt.clearLabelFilter,toggleOpen:dkt},e);return ee.TSy(t,{onShortcutsUsed(){e(dkt()),e(ukt())},dispatch:e})}const hkt=l3.$j(pkt,mkt)(WWe),Ekt=e=>{let{openMilestoneViewer:t,openPipelineAdd:n,openReleaseForm:s,onDropdownOpen:r,trackOpenNewIssue:i,trackMenuOpenNewIssue:o,trackMenuOpenNewEpic:a}=e;const{openModal:l}=iie(),c=$at(),{data:d}=cre(),u=!(0,_t.KN)(d?.workspace?.sprintConfig);return Ye.createElement("div",{className:"zhc-new-issue-btn__container zhc-onboarding-highlight-new-issue"},Ye.createElement(H5,{color:L5.ACTION,onClick:e=>{c(Hx.ISSUE,e),i()},"data-cy":"new-issue"},"New issue"),Ye.createElement(Hre,{button:Ye.createElement(H5,{className:"zhc-new-issue-button__plus zhc-onboarding-highlight-new-plus",color:L5.ACTION,width:D5.NARROW,"data-cy":"new-issue-plus",ariaLabel:"Create more",onClick:r},Ye.createElement(q_t,null)),onClickIssueItem:e=>{c(Hx.ISSUE,e),o()},onClickEpicIssueItem:e=>{c(Hx.EPIC,e),a()},onClickMilestoneItem:t,onClickPipelineItem:n,onClickReleaseItem:s,onClickSprintItem:()=>{r6("Create Menu - Board",{Feature:"Sprint",Action:u?"Edit":"Create"}),l()}}))};Ekt.propTypes={openMilestoneViewer:SI().func.isRequired,openPipelineAdd:SI().func.isRequired,openReleaseForm:SI().func.isRequired};const gkt=Ekt;function fkt(){return fkt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fkt.apply(this,arguments)}const{board:_kt,milestoneBuilder:vkt,releaseBuilder:Ikt}=LG,bkt=vkt.openCreateMilestoneForm,ykt=_kt.showAddPipeline;function Skt(e){const{workspace:t,openReleaseForm:n}=e;return Ye.createElement(gkt,fkt({},e,{openReleaseForm:()=>{n(t)}}))}function wkt(e){return{defaultRepo:Ya(e),draftRepo:Zx(e),organization:Qa(e),workspace:Na(e)}}function Rkt(e){const t=(0,mr.DE)({onDropdownOpen:_kt.openCreateMenu,trackOpenNewIssue:_kt.trackOpenNewIssue,trackMenuOpenNewIssue:_kt.trackMenuOpenNewIssue,trackMenuOpenNewEpic:_kt.trackMenuOpenNewEpic},e);return ee.TSy(t,{openMilestoneViewer(){e(_kt.openBoardItem()),e(bkt()),e(_kt.trackOpenMilestoneModal())},openPipelineAdd(){e(_kt.openBoardItem()),e(ykt()),e(_kt.trackOpenCreatePipelineForm())},openReleaseForm(t){e(_kt.openBoardItem()),e(Ikt.openCreateReleaseForm(t)),e(_kt.trackOpenReleaseModal())},dispatch:e})}Skt.defaultProps={draftRepo:null},Skt.propTypes={defaultRepo:SI().shape({}).isRequired,openReleaseForm:SI().func.isRequired,trackOpenNewIssue:SI().func.isRequired,workspace:SI().shape({}).isRequired,draftRepo:SI().shape({})};const Tkt=(0,l3.$j)(wkt,Rkt)(Skt);function Ckt(){return Ckt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ckt.apply(this,arguments)}class kkt extends Ye.PureComponent{componentDidMount(){const{onShortcutsUsed:e,shortcuts:t}=this.props;ee.kKJ(t)||m8(t,e,null,!0)}componentWillUnmount(){const{shortcuts:e}=this.props;ee.kKJ(e)||h8(e)}render(){const{releases:e}=this.props,t=Lfe(e,"title","Releases");return Ye.createElement(kme,Ckt({},this.props,t,{buttonIconComponent:Ye.createElement(nre,null),buttonName:"Releases",emptyStateText:"No releases found",filterableChildProp:"title",filterDefaultText:"Filter releases"}),function(e){const{releases:t,selectItem:n,deselectItem:s}=e;return t.map((e=>Ye.createElement(A$e,Ckt({},e,{key:e.filterKey,filterKey:e.filterKey,select:n,deselect:s}))))}(this.props))}}const Okt=SI().shape({release_id:SI().string.isRequired,title:SI().string.isRequired,negated:SI().bool,selected:SI().bool});kkt.propTypes={clearFilter:SI().func.isRequired,deselectItem:SI().func.isRequired,releases:SI().arrayOf(Okt).isRequired,selectItem:SI().func.isRequired,toggleOpen:SI().func.isRequired,allowNegatedSearch:SI().bool,buttonName:SI().string,listTitle:SI().string,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),onShortcutsUsed:SI().func},kkt.defaultProps={allowNegatedSearch:!0,listTitle:"Filter issues by release",buttonName:"Releases",onShortcutsUsed:_t.ZT};const Nkt=kkt,{shortcuts:Pkt,board:Akt}=LG,Dkt=Qle(El),Lkt=yl.hasActiveFilterBoard("releases"),zkt=Akt.toggleDropdown.bind(void 0,El),Mkt=Pkt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_RELEASES.name);function xkt(e){return{releases:zce(e),activeFilter:Lkt(e),isActive:Dkt(e),shortcuts:E8.BOARD_FILTER_RELEASES.shortcuts}}function Fkt(e){const t=(0,mr.DE)({selectItem:Akt.addReleaseFilter,deselectItem:Akt.removeReleaseFilter,clearFilter:Akt.clearReleaseFilter,toggleOpen:zkt},e);return ee.TSy(t,{onShortcutsUsed(){e(zkt()),e(Mkt())},dispatch:e})}const Ukt=l3.$j(xkt,Fkt)(Nkt),{board:Bkt}=LG;function qkt(){return qkt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qkt.apply(this,arguments)}const Hkt=Qle(gl),Wkt=oM(gl),jkt=_G.trackShortcutsUsed(E8.BOARD_FILTER_REPO.name),Gkt=(0,pa.P1)(Oce,ee.MRu(ee.qCK(ee.t$q,ee.vgT("repo"))));function Kkt(e){const t=Na(e),n=qa(e);return{repos:Gkt(e),isActive:Hkt(e),defaultRepoId:n,isLocked:Ua(e),shortcuts:E8.BOARD_FILTER_REPO.shortcuts,workspace:t,workspaceId:Pa(e)}}function Vkt(e){return{selectItem:ee.WAo(((t,n,s)=>{e(((e,t,n)=>{const s=n.filterKey,r=ee.sEJ(ee.OH4("repo_id",s),t);return!0===ee.vgT("loaded",r)?Bkt.addRepoFilter({filterKey:s}):Bkt.loadRepoAndAddToFilter({workspace:e,repo:r})})(t,n,s))})),toggleOpen(){e(Wkt)},deselectItem(t){e(JL(t))},onShortcutsUsed(){e(Wkt),e(jkt)},openWorkspaceEditor(t){e(oZ.openFromWorkspaceId(t))},dispatch:e}}class $kt extends Ye.PureComponent{constructor(){super(...arguments),this.onClickEditWorkspace=()=>{const{openWorkspaceEditor:e,workspaceId:t}=this.props;e({workspaceId:t})},this.showAllRepos=()=>{const{dispatch:e,repos:t,workspace:n}=this.props;e(((e,t)=>ee.$6P(ee.OH4("loaded",!0),t)?Bkt.showAllRepos(t):Bkt.loadReposAndShowAll({workspace:e,connectedRepos:t}))(n,t))},this.showDefaultRepo=()=>{const{dispatch:e,defaultRepoId:t}=this.props;e(zz({repo_id:t}))}}render(){const{props:e}=this,{repos:t,workspace:n}=e;return Ye.createElement(zje,qkt({},e,{selectItem:e.selectItem(n,t),showAllRepos:this.showAllRepos,showCurrentRepo:this.showDefaultRepo,onClickEditWorkspace:this.onClickEditWorkspace,onClickMergeRepos:()=>{e.dispatch(Wkt),e.onClickMergeRepos()}}))}}$kt.propTypes={defaultRepoId:SI().number.isRequired,dispatch:SI().func.isRequired,openWorkspaceEditor:SI().func.isRequired,repos:SI().arrayOf(SI().shape({})).isRequired,selectItem:SI().func.isRequired,workspace:SI().shape({}).isRequired,workspaceId:SI().string.isRequired,onClickMergeRepos:SI().func.isRequired};const Zkt=l3.$j(Kkt,Vkt)($kt),{shortcuts:Ykt,board:Jkt}=LG,Xkt=Ykt.trackShortcutsUsed.bind(null,E8.BOARD_SEARCH.name);function Qkt(e){return{searchValue:$v(e),shortcuts:E8.BOARD_SEARCH.shortcuts}}function eOt(e){return(0,mr.DE)({onSearch:Jkt.setSearchFilter,clearSearchFilter:Jkt.clearSearchFilter,onShortcutsUsed:Xkt},e)}const tOt=l3.$j(Qkt,eOt)(xft);function nOt(){return nOt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nOt.apply(this,arguments)}const sOt=ee.zGw(ee.jge("repos"),ee.d1t(ee.kKJ),ee.xHg(),ee.UID((e=>{let{organization:t="",repository:n=""}=e;return`${t}/${n}`})),ee.jj$());class rOt extends Ye.PureComponent{componentDidMount(){const{onShortcutsUsed:e,shortcuts:t}=this.props;ee.kKJ(t)||m8(t,e,null,!0)}componentWillUnmount(){const{shortcuts:e}=this.props;ee.kKJ(e)||h8(e)}render(){const{milestones:e}=this.props,t=Lfe(e,"title","Milestones");return Ye.createElement(kme,nOt({},this.props,t,{banner:Ye.createElement(XWe,{isSmallBanner:!0}),buttonIconComponent:Ye.createElement(Zee,null),buttonName:"Milestones",emptyStateText:"No milestones found",filterableChildProp:"title",filterDefaultText:"Filter milestones",listTitle:"Filter issues by milestone"}),function(e){const{milestones:t}=e,n=sOt(t).length>1;return ee.UID((t=>Ye.createElement(Y5e,nOt({key:t.filterKey,select:e.selectItem,deselect:e.deselectItem,showRepos:n,dueDate:t.due_on},t))),t)}(this.props))}}const iOt=SI().shape({title:SI().string.isRequired,fromNow:SI().string,negated:SI().bool,selected:SI().bool,showRepos:SI().bool});rOt.defaultProps={onShortcutsUsed:_t.ZT},rOt.propTypes={clearFilter:SI().func.isRequired,deselectItem:SI().func.isRequired,milestones:SI().arrayOf(iOt).isRequired,selectItem:SI().func.isRequired,toggleOpen:SI().func.isRequired,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),onShortcutsUsed:SI().func};const oOt=rOt,{shortcuts:aOt,board:lOt}=LG,cOt=Qle(ul),dOt=yl.hasActiveFilterBoard("milestones"),uOt=lOt.toggleDropdown.bind(void 0,ul),pOt=aOt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_MILESTONES.name);function mOt(e){return{milestones:Ice(e),activeFilter:dOt(e),isActive:cOt(e),shortcuts:E8.BOARD_FILTER_MILESTONES.shortcuts}}function hOt(e){const t=(0,mr.DE)({selectItem:lOt.addMilestoneFilter,deselectItem:lOt.removeMilestoneFilter,clearFilter:lOt.clearMilestoneFilter,toggleOpen:uOt},e);return ee.TSy(t,{onShortcutsUsed(){e(uOt()),e(pOt())},dispatch:e})}const EOt=l3.$j(mOt,hOt)(oOt);function gOt(){return gOt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gOt.apply(this,arguments)}function fOt(e){const{buttonName:t,estimates:n,listTitle:s,onShortcutsUsed:r,shortcuts:i}=e;qWe(i,r);const o=Lfe(n,"value","Estimates");return Ye.createElement(kme,gOt({},e,o,{buttonIconComponent:Ye.createElement(xoe,null),buttonName:t||o.buttonName,emptyStateText:"No estimates found",filterableChildProp:"value",filterDefaultText:"Filter estimates",listTitle:s||"Filter issues by estimate"}),function(e){return e.estimates.map((t=>Ye.createElement(z4e,gOt({select:e.selectItem,deselect:e.deselectItem,key:t.filterKey},t))))}(e))}const _Ot=SI().shape({negated:SI().bool,selected:SI().bool,value:SI().oneOfType([SI().string,SI().number])});fOt.propTypes={activeFilter:SI().bool.isRequired,clearFilter:SI().func.isRequired,deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectItem:SI().func.isRequired,toggleOpen:SI().func.isRequired,allowNegatedSearch:SI().bool,buttonName:SI().string,estimates:SI().arrayOf(_Ot),listTitle:SI().string,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),onShortcutsUsed:SI().func},fOt.defaultProps={allowNegatedSearch:!0,buttonName:"Estimates",estimates:[],listTitle:"Filter issues by estimate",onShortcutsUsed:_t.ZT,shortcuts:""};const vOt=fOt,{board:IOt,shortcuts:bOt}=LG,yOt=Qle(ll),SOt=yl.hasActiveFilterBoard("estimates"),wOt=IOt.toggleDropdown.bind(void 0,ll),ROt=bOt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_ESTIMATES.name);function TOt(e){return{estimates:_ce(e),activeFilter:SOt(e),isActive:yOt(e),shortcuts:E8.BOARD_FILTER_ESTIMATES.shortcuts}}function COt(e){const t=(0,mr.DE)({selectItem:IOt.addEstimateFilter,deselectItem:IOt.removeEstimateFilter,clearFilter:IOt.clearEstimateFilter,toggleOpen:wOt},e);return ee.TSy(t,{onShortcutsUsed:()=>{e(wOt()),e(ROt())},dispatch:e})}const kOt=(0,l3.$j)(TOt,COt)(vOt),OOt=e=>{let{name:t=null,login:n}=e;const s=null!==t&&t?.length>0;return Ye.createElement("span",null,Ye.createElement("span",{"data-cy":"author-username","data-testid":"author-username",className:"zhc-author-item__login"},n),s?Ye.createElement("span",{"data-cy":"author-name","data-testid":"author-name",className:"zhc-author-item__name"}," ",t):null)},NOt=SI().shape({filterKey:SI().string.isRequired,login:SI().string.isRequired,avatarURL:SI().string,name:SI().string,negated:SI().bool,selected:SI().bool}),POt=yEe((e=>{let{avatarURL:t="",login:n,name:s=null,negated:r=!1}=e;return Ye.createElement("div",{className:"zhc-selection-list-item zhc-author-item"},Ye.createElement(hae,{url:t}),r&&Ye.createElement("div",{className:"zhc-author-item__tag"},Ye.createElement(Oae,{content:"not: "})),Ye.createElement("span",{className:"zhc-author-item__wrapper"},Ye.createElement(OOt,{name:s,login:n})))}));function AOt(){return AOt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AOt.apply(this,arguments)}function DOt(e){const{onShortcutsUsed:t,shortcuts:n,authors:s}=e;qWe(n,t);const r=Lfe(s,"login","Authors");return Ye.createElement(kme,AOt({},e,r,{buttonIconComponent:Ye.createElement(Vfe,null),buttonName:"Authors",emptyStateText:"No authors found",filterableChildProp:"login",filterDefaultText:"Filter authors",listTitle:"Filter issues by author"}),(e=>ee.UID((t=>Ye.createElement(POt,AOt({},t,{avatarURL:t.avatar_url,key:t.filterKey,select:e.selectItem,deselect:e.deselectItem}))))(e.authors))(e))}DOt.defaultProps={onShortcutsUsed:_t.ZT,shortcuts:""},DOt.propTypes={activeFilter:SI().bool.isRequired,authors:SI().arrayOf(NOt).isRequired,clearFilter:SI().func.isRequired,deselectItem:SI().func.isRequired,isActive:SI().bool.isRequired,selectItem:SI().func.isRequired,toggleOpen:SI().func.isRequired,shortcuts:SI().oneOfType([SI().string,SI().arrayOf(SI().string)]),onShortcutsUsed:SI().func};const LOt=DOt,{board:zOt,shortcuts:MOt}=LG,xOt=Qle(sl),FOt=yl.hasActiveFilterBoard("authors"),UOt=zOt.toggleDropdown.bind(void 0,sl),BOt=MOt.trackShortcutsUsed.bind(null,E8.BOARD_FILTER_AUTHORS.name);function qOt(e){return{isActive:xOt(e),activeFilter:FOt(e),authors:uce(e),shortcuts:E8.BOARD_FILTER_AUTHORS.shortcuts}}function HOt(e){const t=(0,mr.DE)({selectItem:zOt.addAuthorFilter,deselectItem:zOt.removeAuthorFilter,clearFilter:zOt.clearAuthorFilter,toggleOpen:UOt},e);return ee.TSy(t,{onShortcutsUsed:()=>{e(UOt()),e(BOt())},dispatch:e})}const WOt=(0,l3.$j)(qOt,HOt)(LOt),jOt=e=>{let{hasSprintConfig:t,selectedSprintIds:n,selectItem:s,deselectItem:r,sprints:i,clearFilter:o,toggleSprintFilter:a}=e;const[l,c]=(0,Ye.useState)(!1),[d,u]=(0,Ye.useState)(!1),p=(0,Ye.useRef)(null),m=n.length>0,{openModal:h}=iie(),E=Dfe(i,"name","Sprints"),g={id:oc,name:ic,isCustomItem:!0},f=()=>{c(!1),u(!1)},_=kle({state:Eo.Open,skip:!d||!t}),v=kle({state:Eo.Closed,skip:!d}),I=[{name:"Open",dataSource:{queryResult:_,connectionSelector:e=>e?.data?.workspace?.sprints||null},beforeItems:[g],afterItems:[{id:"firstAfterItem",name:"New sprints will be created continuously as each sprint ends",isCustomItem:!0}]},{name:"Closed",dataSource:{queryResult:v,connectionSelector:e=>e?.data?.workspace?.sprints||null}}],b=(0,Ye.useCallback)((e=>{let{id:t,type:n}=e;n===Mle?s({filterKey:t,negated:!1}):n===xle&&r({filterKey:t,negated:!1})}),[s,r]),y=(0,l3.v9)(Ua),S=t?Ye.createElement("p",null,"No sprints found"):Ye.createElement("p",null,"No sprints setup yet",Ye.createElement("br",null),!y&&Ye.createElement("a",{onClick:()=>{r6("Board Feature Clicked",{Feature:"Sprints Filter",Action:"Open Sprints"}),f(),h()}},"Set up your sprints"));return Ye.createElement("div",null,Ye.createElement(rae,{activeFilter:m,"data-cy":"dropdown",hideChevronIcon:!1,iconComponent:Ye.createElement(rre,null),isActive:l,name:"Sprints",toggleOpen:()=>{a(),c(!l),u(!d)},tooltipContent:E,isButtonDisabled:!1,innerRef:p}),Ye.createElement("div",null,d&&Ye.createElement(h4,{onOverlayClick:f,anchorElement:p.current,placement:"bottom-start",offset:5,skidding:0},Ye.createElement(XEt,{hasItemBorder:!0,disabledItemMap:{firstAfterItem:!0},textItemMap:{firstAfterItem:!0},emptyState:S,filterInputPlaceholder:"Filter sprints",tabs:I,activeItemsIds:n,clearFilter:o,itemRenderer:e=>e.id===g.id?Ye.createElement("div",{className:"zhu-font-bold"},g.name):Ye.createElement("div",null,e.name),onClose:f,onToggleItem:b,showSearchIcon:!1,title:"Filter issues by sprint"}))))},{board:GOt}=LG,KOt=GOt.toggleDropdown(fl),VOt=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(Bv),n=(0,l3.v9)(Sce),{data:s}=cre(),r=Object.keys(t?.is)||[];return Ye.createElement(jOt,{selectedSprintIds:r,hasSprintConfig:Boolean(s?.workspace?.sprintConfig),selectItem:t=>e(GOt.addSprintFilter(t)),deselectItem:t=>e(GOt.removeSprintFilter(t)),sprints:n,clearFilter:()=>e(GOt.clearSprintFilter()),toggleSprintFilter:()=>e(KOt)})};function $Ot(){return $Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$Ot.apply(this,arguments)}const ZOt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--info",t].filter(Boolean).join(" "),"aria-label":"info",role:"img",...n};return Ye.createElement("svg",$Ot({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M6.3 5.69c-.19-.19-.28-.42-.28-.7s.09-.52.28-.7.42-.28.7-.28.52.09.7.28.28.42.28.7-.09.52-.28.7-.42.3-.7.3-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68s2.56 5.7 5.7 5.7 5.7-2.55 5.7-5.7S10.14 2.29 7 2.29M7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},YOt="SHzqtE466PIrP3PU3QWN",JOt="r0IntrjPgP7DsmllDNSr",XOt="ewEGeFVHsP_1krgEuDQz",QOt="_PUY9Cdzk75VDEkGkZHY",eNt=e=>{const{isFullScreen:t,showFullScreen:n,hideFullScreen:s}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:`${YOt} ${XOt}`,"data-zh-flyover":"close",onClick:t?s:n},Ye.createElement("div",{className:JOt},Ye.createElement("span",null,t?"Exit fullscreen":"Expand to fullscreen"),Ye.createElement(Zft,{shortcuts:["shift","f"]}))))},tNt=eNt,nNt=e=>{const{hideFullScreen:t,isFullScreen:n=!1,isMilestonesEnabled:s,onSelectClosedPipeline:r,onSelectDependencies:i,onSelectEpics:o,onSelectEstimates:a,onSelectLabels:l,onSelectMilestones:c,onSelectOpenIssues:d,onSelectPullRequests:u,onSelectReleases:p,onSelectReviewers:m,onShowPipelineDescriptions:h,onSelectInsights:E,showOpenIssues:g=!0,showPullRequests:f=!0,showClosedPipeline:_=!0,showLabels:v=!0,showEstimates:I=!0,showMilestones:b=!0,showEpics:y=!0,showReleases:S=!0,showReviewers:w=!0,showDependencies:R=!0,showInsights:T=!0,showPipelineDescriptions:C,showFullScreen:k}=e,O=Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:"zhc-selection-list-deprecated__header","data-cy":"selection-list-header"},"Show on board"),Ye.createElement(Gre,null),Ye.createElement(c_t,{isActive:g,onChange:d,label:"Open issues",iconComponent:Ye.createElement(E9,null)}),Ye.createElement(c_t,{isActive:f,onChange:u,label:"Pull requests",iconComponent:Ye.createElement(m9,null)}),Ye.createElement(c_t,{isActive:_,onChange:r,label:"Closed pipeline",iconComponent:Ye.createElement(mKe,null)}),Ye.createElement(c_t,{isActive:C,onChange:h,label:"Pipeline descriptions",iconComponent:Ye.createElement(ZOt,null)}),Ye.createElement(k7,{name:"workspaces-insights-visibility-toggle"},Ye.createElement(c_t,{isActive:T,onChange:E,label:"Insights",iconComponent:Ye.createElement(w9e,null)})),Ye.createElement("div",{className:"zhc-selection-list-deprecated__header"},"Show on issue card"),Ye.createElement(c_t,{isActive:v,onChange:l,label:"Labels",iconComponent:Ye.createElement(nSe,null)}),Ye.createElement(c_t,{isActive:I,onChange:a,label:"Estimates",iconComponent:Ye.createElement(xoe,null)}),Ye.createElement(c_t,{isActive:b,onChange:c,label:s?"Sprints & Milestones":"Sprints",iconComponent:Ye.createElement(rre,null)}),Ye.createElement(c_t,{isActive:y,onChange:o,label:"Epics",iconComponent:Ye.createElement(OMe,null)}),Ye.createElement(c_t,{isActive:S,onChange:p,label:"Releases",iconComponent:Ye.createElement(nre,null)}),Ye.createElement(c_t,{isActive:R,onChange:i,label:"Dependencies",iconComponent:Ye.createElement(i5,null)}),Ye.createElement(c_t,{isActive:w,onChange:m,label:"PR Reviewers",iconComponent:Ye.createElement(jft,null)}));return Ye.createElement("div",{onClick:e=>{e&&(e.stopPropagation(),e.preventDefault())}},Ye.createElement(S_t,null),U?null:Ye.createElement(tNt,{isFullScreen:n,showFullScreen:k,hideFullScreen:t}),O)};function sNt(){return sNt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sNt.apply(this,arguments)}const rNt=e=>{let{isBoardSettingsActive:t,isNewIssueOpenExtension:n,toggleBoardSettings:s,isFullScreen:r,...i}=e;const o=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{t&&s()}),[r,n]),Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:QOt},Ye.createElement(YI,{content:"View board settings",removeTooltipOnClick:!0},Ye.createElement(H5,{variant:z5.TEXT,color:L5.PRIMARY,ref:o,"data-cy":"item-action",onClick:s},Ye.createElement(Kft,null)))),t&&Ye.createElement(Ene,{close:s,anchorRef:o},Ye.createElement(Qte,{isActive:!0,modifiers:["wide","padding-right"],toggleOpen:s,styleType:["is-full-length"],position:kte.RIGHT},Ye.createElement(nNt,sNt({},i,{isFullScreen:r})))))},iNt=rNt,{board:oNt}=LG;const aNt=(0,l3.$j)((function(e){return{isBoardSettingsActive:N_(rl,e),isFullScreen:L_(e),isMilestonesEnabled:Are(e),isNewIssueOpenExtension:V_(e),showOpenIssues:Vv(e),showPullRequests:Kv(e),showClosedPipeline:z_(e),showLabels:M_(e),showEstimates:x_(e),showMilestones:F_(e),showEpics:U_(e),showReleases:B_(e),showDependencies:W_(e),showPipelineDescriptions:Z_(e),showReviewers:H_(e),showInsights:q_(e)}}),(function(e){return{...(0,mr.DE)({hideFullScreen:oNt.hideFullScreen,showFullScreen:oNt.showFullScreen,toggleBoardSettings:oNt.toggleDropdown.bind(null,rl)},e),onSelectOpenIssues(t){const n=t?oNt.showOpenIssues:oNt.hideOpenIssues;e(n())},onSelectPullRequests(t){const n=t?oNt.showPullRequests:oNt.hidePullRequests;e(n())},onSelectClosedPipeline(t){const n=t?oNt.showClosedPipeline:oNt.hideClosedPipeline;e(n())},onSelectLabels(t){const n=t?oNt.showLabels:oNt.hideLabels;e(n())},onSelectEstimates(t){const n=t?oNt.showEstimates:oNt.hideEstimates;e(n())},onSelectMilestones(t){const n=t?oNt.showMilestones:oNt.hideMilestones;e(n())},onSelectEpics(t){const n=t?oNt.showEpics:oNt.hideEpics;e(n())},onSelectReleases(t){const n=t?oNt.showReleases:oNt.hideReleases;e(n())},onSelectInsights(t){const n=t?oNt.showInsights:oNt.hideInsights;e(n())},onSelectDependencies(t){const n=t?oNt.showDependencies:oNt.hideDependencies;e(n())},onShowPipelineDescriptions(t){const n=t?oNt.showPipelineDescriptions:oNt.hidePipelineDescriptions;e(n())},onSelectReviewers(t){const n=t?oNt.showReviewers:oNt.hideReviewers;e(n())}}}))(iNt),lNt=e=>{let{showExpandedFilters:t,toggleExpand:n}=e;return Ye.createElement("div",{onClick:n,className:"zhc-filter-expand-button "+(t?"zhc-filter-expand-button--expanded":"")},Ye.createElement(ZI,{content:`Show ${t?"fewer":"more"} filters`,removeTooltipOnClick:!0},t?Ye.createElement(Une,null):Ye.createElement(xne,null)))},{board:cNt}=LG;const dNt=(0,l3.$j)((e=>({showExpandedFilters:$_(e)})),(function(e){return(0,mr.DE)({toggleExpand:cNt.toggleExpandedFilters},e)}))(lNt);class uNt extends Ye.PureComponent{render(){const{openMergeRepoTool:e,showExpandedFilters:t,sidebarCollapsed:n}=this.props,s=(0,_I.default)("zhc-menu-bar-item--zhc-additional-filter",{"zhc-menu-bar-item--zhc-additional-filter-expanded":t}),r=t?["expanded-filters"]:[],i=(0,_I.default)({"zhc-menu-bar-item--search-bar":t}),o=n?["zhc-menu-bar-item--sidebar-collapsed"]:[""];return Ye.createElement(kje,{title:"Filters"},Ye.createElement(Oje,{modifiers:r},Ye.createElement(Nje,{type:SGe.FILTER_TAGS,classNames:o},Ye.createElement(ikt,null)),Ye.createElement(Nje,{type:SGe.REPO_FILTER,classNames:o},Ye.createElement(Zkt,{onClickMergeRepos:e})),Ye.createElement("div",{className:"zhc-onboarding-highlight-board-filters"},Ye.createElement(Nje,{type:SGe.LABEL_FILTER,classNames:o},Ye.createElement(hkt,null)),Ye.createElement(Nje,{type:SGe.SPRINT_FILTER,classNames:o},Ye.createElement(VOt,null)),Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(Nje,{type:SGe.MILESTONE_FILTER,classNames:o},Ye.createElement(EOt,null))),Ye.createElement(Nje,{type:SGe.ASSIGNEE_FILTER,classNames:o},Ye.createElement(PCt,null))),Ye.createElement(Nje,{type:SGe.EPIC_FILTER,classNames:o},Ye.createElement(UCt,null)),Ye.createElement(dNt,null),Ye.createElement(fCt,{sidebarCollapsed:n},Ye.createElement(Nje,{type:SGe.RELEASE_FILTER,classNames:o},Ye.createElement(Ukt,null)),Ye.createElement(Nje,{type:SGe.ESTIMATE_FILTER,classNames:(0,_I.default)(s,o)},Ye.createElement(kOt,null)),Ye.createElement(Nje,{type:SGe.AUTHOR_FILTER,classNames:(0,_I.default)(s,o)},Ye.createElement(WOt,null))),Ye.createElement(Nje,{type:SGe.SEARCH_BAR,classNames:i},Ye.createElement(tOt,null))),Ye.createElement(aNt,null),Ye.createElement(Tkt,null))}}uNt.defaultProps={},uNt.propTypes={openMergeRepoTool:SI().func.isRequired,showExpandedFilters:SI().bool.isRequired,sidebarCollapsed:SI().bool.isRequired};const pNt=(0,l3.$j)((function(e){return{showExpandedFilters:$_(e),sidebarCollapsed:Eee(e)}}),(function(e,t){return{openMergeRepoTool:t.openMergeRepoTool}}))(uNt),mNt="juCuqzhgFrAzy0QSJ63U",hNt="NWvD3GFEoOLYYK919wCH",ENt=()=>Ye.createElement(bie,{className:mNt},Ye.createElement("div",null,Ye.createElement("div",{className:hNt},Ye.createElement(Xpe,{type:"primary",content:"Change is coming"})),"This version of our Board will be deprecated soon. We recommend switching to Board 2.0 via Board Settings to take advantage of improved performance and new features."));class gNt extends Ye.PureComponent{constructor(){super(...arguments),this.renderMenuBar=()=>{const{inSelectionMode:e,openMergeRepoTool:t}=this.props;return e?Ye.createElement(gCt,null):Ye.createElement(pNt,{openMergeRepoTool:t})}}componentDidMount(){const{initOnboarding:e}=this.props;e()}render(){return Ye.createElement("div",null,Ye.createElement(ENt,null),Ye.createElement(aht,null),this.renderMenuBar())}}gNt.propTypes={initOnboarding:SI().func.isRequired,inSelectionMode:SI().bool.isRequired,openMergeRepoTool:SI().func.isRequired};const fNt=(0,l3.$j)((function(e){return{inSelectionMode:X_(e)}}),(function(e,t){return{openMergeRepoTool:t.openMergeRepoTool,initOnboarding:()=>{BG(e,["webapp_get_extension_alert_dismissed","milestones_deprecation_banner_dismissed"])}}}))(gNt),{board:_Nt}=LG;const vNt=e=>{let{elApp:t,handlers:n,location:s}=e;const r=(0,l3.I0)(),i=(0,l3.oR)(),o=UI(t),a=(0,l3.v9)(Za),l=(0,l3.v9)(Na),c=(0,l3.v9)(kv),d=(0,l3.v9)(Are);(0,Ye.useEffect)((()=>{tP(!0),qI(),o(),window.addEventListener("resize",o);const e=()=>{const e=new URLSearchParams(s.search);return d||!e.has("milestones")?s:(e.delete("milestones"),{...s,search:`?${e.toString()}`})};!function(e,t,n){const s=bx(e);sGe(s,t,n)}(e(),l,r),mI(l._id,"board");const n=aI(i);return(e=>{xbt(e),vx(e,(()=>{xbt(e)}))})(i),c||hGe({workspace:l,defaultRepo:a,location:e(),dispatch:r,getState:i.getState}),()=>{_x(),tP(!1),HI(),BI(t),window.removeEventListener("resize",o),n(),r(_Nt.updateLoadStateToNotLoadedAction),YD.disconnect()}}),[]);return Ye.createElement("div",{className:"zh-board-container"},Ye.createElement("div",{className:"zh-board-popup-overlay"},Ye.createElement("div",{className:"zh-mergeboard-overlay"})),Ye.createElement(yBe,{pageName:"Board"}),Ye.createElement(_9e,null),Ye.createElement(Syt,{resizeHeight:o,onLoad:()=>{zx.enableBackboneRouterUpdate(),f6(v6.BOARD_PAGE_INTERACTIVE)}},Ye.createElement("div",{className:"zhc-board__menu","data-zh-flyover":"close"},Ye.createElement(fNt,{openMergeRepoTool:()=>{r(oZ.initMergeRepoSelector(l._id))}})),Ye.createElement(LTt,{issueOnClick:n.openIssueViewer}),Ye.createElement(lrt,null)))},INt=(0,Ye.memo)(vNt);class bNt extends Ye.PureComponent{componentDidMount(){const{openWorkspaceEditor:e}=this.props;e()}componentDidUpdate(e){const{goToWorkspace:t,shouldRedirectToGH:n,isOpen:s}=this.props;e.isOpen&&!s&&t(n)}render(){return null}}bNt.propTypes={goToWorkspace:SI().func.isRequired,isOpen:SI().bool.isRequired,openWorkspaceEditor:SI().func.isRequired,shouldRedirectToGH:SI().bool},bNt.defaultProps={shouldRedirectToGH:!1};const yNt=(0,l3.$j)((function(e){return{isOpen:W$.isOpen(e),shouldRedirectToGH:Ta(e)}}),(function(e,t){return{goToWorkspace:n=>{e(Gq(t.workspace,n))},openWorkspaceEditor:()=>{e(oZ.openFromWorkspaceId({workspaceId:t.workspace._id}))}}}))(bNt);class SNt extends Ye.PureComponent{render(){const{email:e}=this.props;return Ye.createElement("div",{className:"zhc-contact-support"},"Need some assistance? Contact ",Ye.createElement(Cee,{email:e},e)," and let us know how we can help.")}}SNt.propTypes={email:SI().string},SNt.defaultProps={email:"support@zenhub.com"};const wNt=SNt,RNt=n.p+"../../img/built/generic-rocket-planet.svg",TNt=()=>{const e=Zne(ma.getSelectOrganizationPath(),"Take me home",void 0,{className:"zhc-btn zhc-btn--primary"});return(0,Ye.useEffect)((()=>{r6("404 Page Viewed",{})}),[]),Ye.createElement("div",{className:"zhc-not-found","data-testid":"notfound-page"},Ye.createElement("div",{className:"zhc-not-found__container"},Ye.createElement(t7,{src:RNt}),Ye.createElement("div",{className:"zhc-not-found__title"},"Oops!"),Ye.createElement("div",{className:"zhc-not-found__msg"},"The page you\u2019re looking for is not available"),e),Ye.createElement(wNt,null))},CNt="YUR0Lk6u7ihxa99tkxn2",kNt="rG543Z9OLgofELGMg7R8",ONt="w9rLOpE0nHfVrR4_iXQF",NNt="CazIh_U3fNTlzXdRnjNH",PNt="zskscuWcEDve8Qq8qIyF",ANt="LphiPRUEOYVPmREf4vmW",DNt="WDSu6LiDVo8gHt3Mk5tw",LNt=e=>{let{children:t}=e;return Ye.createElement("div",{className:CNt},t)},zNt=e=>{let{children:t}=e;return Ye.createElement("div",{className:kNt},t)},MNt=e=>{let{children:t}=e;return Ye.createElement("main",{className:ONt},t)},xNt=e=>{let{children:t}=e;return Ye.createElement("aside",{className:NNt},t)},FNt=e=>{let{title:t,icon:n,children:s}=e;return Ye.createElement("div",{className:PNt},Ye.createElement("div",{className:ANt},n,t),Ye.createElement("div",{className:DNt},s))},UNt="eTlqg4KmO3i5H6EGwqV0",BNt="Xf_Fmu2VqhLHArkQc6KX",qNt="aJ1o7v4PJ2m75U2o4wPa",HNt="NjzLTWaqQu7SYCdXLAJy",WNt=e=>{let{autoFocus:t,id:n,isSubmitDisabled:s=!1,onChange:r,onSubmit:i,placeholder:o,value:a="",showMentionIcon:l=!0}=e;const[c,d]=(0,Ye.useState)("write");return Ye.createElement(Hme,{onSelect:d,selectedTabId:c},Ye.createElement(Gme,null,Ye.createElement(Vme,{className:HNt,tabId:"write"},"Write"),Ye.createElement(Vme,{className:HNt,tabId:"preview"},"Preview")),Ye.createElement(Xme,null,Ye.createElement(Yme,{isKeptInDOM:!0,tabId:"write"},Ye.createElement("div",{className:qNt},Ye.createElement(Nhe,{id:n,showMentionIcon:l})),Ye.createElement("div",{style:{position:"relative"}},Ye.createElement(wme,{autoFocus:t,className:UNt,id:n,isSubmitDisabled:s,onChange:r,onSubmit:i,placeholder:o,value:a??""}))),Ye.createElement(Yme,{tabId:"preview"},Ye.createElement("div",{className:BNt},Ye.createElement(che,{content:a})))))},jNt=(0,Ye.memo)(WNt),GNt="GH8wjs4u5JDNHh0LJcBr",KNt=e=>{let{isSubmitDisabled:t,onCancel:n,onSave:s,saveButtonType:r="button"}=e;return Ye.createElement("div",{className:GNt},Ye.createElement(H5,{color:L5.ACTION,disabled:t,height:A5.SHORT,onClick:s,padding:M5.TIGHT,type:"submit"===r?x5.SUBMIT:x5.BUTTON},"Save"),n?Ye.createElement(H5,{variant:z5.TEXT,color:L5.SECONDARY,onClick:n},"Cancel"):null)},VNt="bJI2IfZvYypezo_RpsVL",$Nt="li1nIGA1tjO7ykjP4sst",ZNt="ZDNcZGJCKc25gA25MTVT",YNt="GprlTU_nHTBNZ9PtvrYI",JNt=e=>{let{epicBody:t,onSaveBody:n}=e;const[s,r]=(0,Ye.useState)(t),[i,o]=(0,Ye.useState)(!1),a=()=>{o(!0)},l=(0,Ye.useCallback)((e=>r(e.target.value)),[r]),c=(0,Ye.useCallback)((e=>n(e.target.value)),[n]),d=t?Ye.createElement(che,{content:t,enableTaskLists:!0,onToggleTaskListItem:(e,t)=>(n(t),r(s),Promise.resolve())}):Ye.createElement(H5,{variant:z5.TEXT,onClick:a,padding:M5.NONE,color:L5.SECONDARY},"Add a description"),u=Boolean(!i&&t),p=e=>{if(!u)return;Boolean(e.target.closest("input, a, summary"))||a()},m=(0,_I.default)(VNt,{[$Nt]:u});return Ye.createElement("div",{className:m,onClick:p,role:u?"button":void 0,tabIndex:0},u?Ye.createElement("button",{onClick:p,type:"button",className:"zh-sr-only"},"Edit description"):null,Ye.createElement("h2",{className:ZNt},"Description"),i?Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:YNt},Ye.createElement(jNt,{autoFocus:!0,id:"textarea-epic-description",value:s??"",onChange:l,onSubmit:c,showMentionIcon:!1})),Ye.createElement(KNt,{onCancel:()=>{o(!1),r(t)},onSave:()=>{n(s??""),r(s),o(!1)}})):d)},XNt="rQAqWLD4tvYo7yzlIXa5",QNt="BZmAGy9U7ZW1xrLEGWvd",ePt="y8UMaMH58yhsvp3KCOx8",tPt="QpXGvyfuQTIlwCcIvfoG",nPt="Ei88yRnAlScuIS6hB1Tr",sPt="aYQfJqLBFOHXXOilpW9E",rPt=e=>{let{epic:t,onChangeTitle:n}=e;const[s,r]=(0,Ye.useState)(null),i=null!=s,o=()=>r(null),a=(0,Ye.useRef)(null);((e,t)=>{const n=n=>{Boolean(n.target?.closest(e))||t(n)};(0,Ye.useEffect)((()=>(document.body.addEventListener("click",n,{capture:!0}),()=>{document.body.removeEventListener("click",n,{capture:!0})})))})(`.${QNt}`,(()=>{i&&o()}));(0,Ye.useEffect)((()=>{const e=a.current;e&&i&&(e?.focus(),e.selectionStart=e.value.length)}),[i]);return Ye.createElement("header",{className:XNt},Ye.createElement("div",{className:QNt},i?Ye.createElement("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget).get("title");n(t),o()}},Ye.createElement("textarea",{className:sPt,name:"title",onKeyDown:e=>{const t=e.target.value?.trim()??"";"Escape"===e.key&&(o(),e.stopPropagation()),"Enter"===e.key&&(t?(n(t),o()):(e.target.reportValidity(),e.preventDefault()))},defaultValue:t.title,required:!0,placeholder:"Title of this epic",style:{height:s},ref:a,maxLength:1024}),Ye.createElement(KNt,{onCancel:o,saveButtonType:"submit"})):Ye.createElement("button",{"aria-label":"Edit title",className:nPt,onClick:e=>{const t=e.target.closest("button")?.clientHeight??50;r(t+2)},type:"button"},Ye.createElement("h1",{className:ePt},t.title))),Ye.createElement("div",{className:tPt},Ye.createElement(jpe,{size:16,url:t.creator?.imageUrl??null}),Ye.createElement("strong",null,t.creator?.name??"Unknown user"),Ye.createElement("span",null,"created this Epic ",im(t.createdAt))))},iPt="wBngN6E2WDNLvuKF8twS";function oPt(){return oPt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oPt.apply(this,arguments)}const aPt=e=>{let{autoFocus:t=!1,emptyState:n,filterFn:s,filterInputPlaceholder:r,hasItemBorder:i=!1,itemRenderer:o,items:a,onClickItem:l,onClose:c,onSearchChange:d,searchBarClassName:u,selectedId:p}=e;const[m,h]=(0,Ye.useState)(t),{setSearchTerm:E,filteredItems:g}=mbe(s,a),f=(0,Ye.useRef)(null),_=(0,Ye.useRef)(null),[v,I]=(0,Ye.useState)(320);(0,Ye.useLayoutEffect)((()=>{if(f.current){const e=parseInt(window.getComputedStyle(f.current).width,10);I(e)}}),[]);const{currentlyHighlightedIndex:b,onKeyDownHighlight:y,resetHighlightAndScrollTop:S,setHighlightIndex:w}=Sre(g,_,(e=>{l(e.id)})),R=()=>{h(!1),c?.()};return Ye.createElement("div",{onKeyDown:e=>{"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),R()):y(e)},ref:f},Ye.createElement(Voe,{autoFocus:t,className:u,placeholder:r,onBlur:()=>setTimeout((()=>h(!1)),250),onClick:()=>h(!0),onChange:e=>{let{term:t}=e;E(t),S(),d?.(t)}}),m&&Ye.createElement(h4,{anchorElement:f.current,className:iPt,offset:0,skidding:0,placement:"bottom-start"},Ye.createElement(Ere,{height:"425px",hasVariableHeight:true,width:`${v}px`,onClose:R},Ye.createElement(qoe,{items:g,emptyState:n},(()=>Ye.createElement(_re,{parentHasVariableHeight:true,ref:_,items:g||[],rowRenderer:e=>{const{index:t}=e,n=g[t];return Ye.createElement(yre,oPt({},e,{key:n.id,onClick:()=>l(n.id),setHighlightIndex:()=>w(t),hasItemBorder:i,isHighlighted:b===t,isSelected:p?.includes(n.id)}),o(n,t))}}))))))},lPt="b6dRRralGW_O8xLduiuS",cPt="Qt0GVW37GxFSYISVn6nb",dPt="MbY0lkV8BuFWVauarJbX",uPt="UPJq9Ab7AZPttaMWZmxT",pPt="baGTFC1mVCcvw2_pA75E",mPt="qePpS7aigWnbad_CECgf",hPt="nE3WB1lz9uSOzBawRW20",EPt="xx2CVf_rWDYZNThCUKMG",gPt="FnF_QrWxEtZiHqBdfNen",fPt="JC8hJBANHatmtfnlQyrC",_Pt="VbHpFf5nu1bYpRMgdndt",vPt="xOZrbL7EbAZ1BsjTWnc8",IPt="Guww5Y3EfNc_R80M80pt",bPt=e=>{let{issue:t}=e;return Ye.createElement("div",null,Ye.createElement("div",{className:EPt},t.title),Ye.createElement("div",{className:gPt},Ye.createElement("div",{className:_Pt},t.repository.name,Ye.createElement("span",{className:fPt},"#",t.number)),t.pipelineIssue?.pipeline.name?Ye.createElement("div",{className:vPt},Ye.createElement(EKe,null),Ye.createElement("span",{className:IPt},t.pipelineIssue.pipeline.name)):null))},yPt=e=>{let{isLoading:t}=e;return t?Ye.createElement("div",null,"Loading..."):Ye.createElement("div",{className:pPt},Ye.createElement("div",{className:mPt},"No matching issues found"),Ye.createElement("div",{className:hPt},"Try searching with a different keyword or issue number"))},SPt=bb.Ps`
  fragment epicSelectorIssue on Issue {
    id
    title
    number
    repository {
      id
      name
    }
    pipelineIssue(workspaceId: $workspaceId) {
      id
      pipeline {
        id
        name
      }
    }
  }
`,wPt={},RPt=bb.Ps`
  query searchWorkspaceIssues(
    $workspaceId: ID!
    $after: String
    $before: String
    $first: Int
    $last: Int
    $query: String
  ) {
    workspace(id: $workspaceId) {
      id
      issues(after: $after, before: $before, query: $query, first: $first, last: $last) {
        totalCount
        nodes {
          ...epicSelectorIssue
        }
      }
    }
  }
  ${SPt}
`;function TPt(e){const t={...wPt,...e};return cy.a(RPt,t)}const CPt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=(0,l3.v9)(Na),s=n._id,r=e.trim(),{loading:i,data:o,error:a}=TPt({variables:{workspaceId:s,query:r,first:50}}),l=o?.workspace?.issues?.nodes??[],c=l.filter((e=>-1===t.indexOf(e.id)));return{loading:i,error:a,issues:c}},kPt={},OPt=bb.Ps`
  mutation addIssuesToZenhubEpicWithChildIssues(
    $input: AddIssuesToZenhubEpicsInput!
    $workspaceId: ID!
  ) {
    addIssuesToZenhubEpics(input: $input) {
      zenhubEpics {
        id
        childIssues(workspaceId: $workspaceId) {
          nodes {
            id
            title
          }
        }
      }
    }
  }
`;const NPt=e=>{const t=(0,l3.I0)(),n=(0,l3.v9)(Na);return e||(()=>{x1(z1.SelectMultipleIssues);const e=LG.router.openWorkspaceBoard({workspace:n});t(e)})},PPt=e=>{let{epicId:t,onClose:n,currentEpicIssues:s=[],workspaceId:r}=e;const[i,o]=(0,Ye.useState)(""),a=s.map((e=>e.id)),{issues:l,loading:c}=CPt(i,a),d=RI()((e=>{o(e)}),400),u=NPt(),[p]=function(e){const t={...kPt,...e};return vK.D(OPt,t)}({onCompleted:()=>{H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"1 issue was added in this Epic",expirationDelay:4e3})}});return Ye.createElement("div",{className:lPt},Ye.createElement("div",{className:cPt},Ye.createElement(aPt,{autoFocus:!0,emptyState:Ye.createElement(yPt,{isLoading:c||!l}),filterFn:e=>e,filterInputPlaceholder:"Search by issue title",items:l,itemRenderer:e=>Ye.createElement(bPt,{issue:e}),onClickItem:e=>{p({variables:{input:{issueIds:[e],zenhubEpicIds:[t]},workspaceId:r}})},onSearchChange:d,searchBarClassName:uPt}),Ye.createElement(H5,{dataTestId:"issue-selector-close",className:dPt,color:L5.SECONDARY,height:A5.SHORT,onClick:n,padding:M5.EXTRA_TIGHT,variant:z5.TEXT},Ye.createElement(R7,null))),Ye.createElement(H5,{color:L5.SECONDARY,onClick:u,height:A5.FILL},"Select issues from board"))},APt="PBalxC2heimPjrgnvuOU",DPt="xYzvN6QVX_6oC4V8KBPV",LPt="y_7RIWdFwW7YQHsptTXl",zPt="l8QKANHu3zhtEtH7oFJA",MPt="phdU112Y5cj1t6YsMDZ8",xPt="JGUKbIbEA8y7BOpPTMhd",FPt="k0cTUrAjBoROsjCjhiuZ",UPt="zkxAOgD80v07c0ti5DV4",BPt="Pne2o3xirQwOcF7xEXCw",qPt="I5O4I4Mz2w4HcfrsPHp4",HPt="YQIbrlZGpWZFlIU3Lh4s",WPt="xgSBDzsQqV1fKnRTf6lY",jPt=e=>{let{issue:t,workspace:n,hasGHAccess:s}=e;const r=s?Jne:"div";return Ye.createElement("li",{className:APt},Ye.createElement(r,{issue_number:t.number,organization:t?.repository?.owner?.login,repository:t.repository.name,className:DPt,workspace:n},(e=>e.pullRequest?"MERGED"===e.pullRequestObject?.state?Ye.createElement($8e,{role:"img",className:MPt}):"CLOSED"===e.state?Ye.createElement(Y8e,{role:"img",className:FPt}):Ye.createElement(m9,{role:"img",className:zPt}):"CLOSED"===e.state?Ye.createElement(mKe,{role:"img",className:FPt}):e.pipelineIssue?.priority?Ye.createElement(fdt,{role:"img",className:xPt}):Ye.createElement(E9,{role:"img",className:LPt}))(t),Ye.createElement("h3",{className:UPt,title:t.title},t.title),Ye.createElement("div",{className:BPt,title:t.pipelineIssue?.pipeline.name??""},"CLOSED"===t.state?"Closed":t.pipelineIssue?.pipeline.name),Ye.createElement("div",{className:qPt,title:String(t.estimate?.value)||void 0},t.estimate?.value?Ye.createElement(sqe,{className:HPt,value:t.estimate.value,type:"CLOSED"===t.state?ZBe.ESTIMATE_CLOSED:void 0}):Ye.createElement("div",{className:WPt,"aria-label":"No estimate yet"}))))},GPt=n.p+"../../img/built/empty-stage-gh-user-light.svg",KPt=n.p+"../../img/built/empty-stage-gh-user-dark.svg",VPt="jxVMQZNzT2aCUV6jjjeG",$Pt="tiU9aDpa1LwcggaHbPYm",ZPt="r713YTdwGJ91Dh2RVpzR",YPt="syQFuQT_38nekVnOBd0u",JPt="hXOO1NtQDUZ6NlZjCnrZ",XPt="qoghgXCv4qAVo6_uaHrw",QPt=e=>{let{onClickInitializeIssuesSearch:t}=e;const n=_3();return Ye.createElement("div",{className:VPt},Ye.createElement("div",null,Ye.createElement(t7,{src:n?KPt:GPt,alt:"illustration-empty-stage",className:XPt})),Ye.createElement("div",{className:$Pt},Ye.createElement("h5",{className:JPt},"No issues added"),Ye.createElement("span",{className:YPt},"Start",Ye.createElement(H5,{color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,variant:z5.TEXT,onClick:t,className:ZPt},"adding existing issues"),"from your"),Ye.createElement("span",{className:YPt},"repositories to track the progress of your epic")))},eAt=n.p+"../../img/built/empty-stage-non-gh-user-light.svg",tAt=n.p+"../../img/built/empty-stage-non-gh-user-dark.svg",nAt={main:"ip2TEOgHYYwgKZBCngaN",text:"JokgNgil3LfGX5JrlZWX",title:"d_1FjAKZwog1Bs6IEm79",lineText:"dXxOeC6PcCj_Bv1ZVQWa",linkText:"jAGKzqOGEb7xBzQWTbDr",issueListPreview:"wfWZffmnEgttWd6itZWf"},sAt=()=>{const[e,t]=(0,Ye.useState)(!1),[n,s]=(0,Ye.useState)(null),r=_3(),i=qye(),{onCopyClicked:o}=Qge({setCopied:t,token:n,setToken:s});return Ye.createElement("div",{className:nAt.main},Ye.createElement(t7,{alt:"Issue list preview",className:nAt.issueListPreview,src:r?tAt:eAt}),Ye.createElement("div",{className:nAt.text},Ye.createElement("h5",{className:nAt.title},"No issues found"),Ye.createElement("span",{className:nAt.lineText},Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.TEXT,height:A5.SHORT,padding:M5.NONE,onClick:i,className:nAt.linkText},"Integrate with GitHub"),"to track issues in this epic or"),Ye.createElement("span",{className:nAt.lineText},Ye.createElement(H5,{color:L5.PRIMARY,variant:z5.TEXT,height:A5.SHORT,padding:M5.NONE,onClick:o,className:nAt.linkText},"share a link"),"with your team to connect issues")),Ye.createElement("div",null,Ye.createElement(ILe,{clickSrc:"roadmap",className:nAt.connectGHBtn})),Ye.createElement("div",null,Ye.createElement(efe,{copied:e,setCopied:t,token:n,setToken:s,inviteTo:"epic"})))},rAt="Isb4576XsA5IAZUcga4p",iAt="DkNWA6N62tiaZ6NQJvHr",oAt="iFOFsbfg8Zq5_2zVO4ZJ",aAt="Aw6ZIHx3GUVr8smNRLBJ",lAt=e=>(e.pipelineIssue?.priority?.name?100:0)+("CLOSED"===e.state?-1e3:0),cAt=e=>{let{epicId:t,issues:n,workspace:s}=e;const[r,i]=(0,Ye.useState)(!1),o=(0,l3.v9)(Pu),a=o&&0===n.length,l=(0,Ye.useMemo)((()=>(e=>{const t=[...e];return t.sort(((e,t)=>lAt(e)>lAt(t)?-1:1)),t})(n)),[n]);return Ye.createElement("section",{className:rAt},Ye.createElement("div",{className:iAt},Ye.createElement(E9,null),Ye.createElement("h2",{className:oAt},"Issues",Ye.createElement(Xpe,{type:"secondary",content:String(l.length)})),o?Ye.createElement(H5,{height:A5.SHORT,color:L5.ACTION,onClick:()=>i(!0)},Ye.createElement(hSe,{className:aAt}),"Add issue"):null),r?Ye.createElement(PPt,{epicId:t,currentEpicIssues:n,onClose:()=>i(!1),workspaceId:s._id}):null,Ye.createElement("ul",null,l.map((e=>Ye.createElement(jPt,{key:e.id,issue:e,workspace:s,hasGHAccess:o})))),a?Ye.createElement(QPt,{onClickInitializeIssuesSearch:()=>i(!0)}):null,o?null:Ye.createElement(sAt,null))};function dAt(){return dAt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dAt.apply(this,arguments)}const uAt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--menu-black",t].filter(Boolean).join(" "),"aria-label":"menu-black",role:"img",...n};return Ye.createElement("svg",dAt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M0 0h16v16H0z"}),Ye.createElement("g",{transform:"translate(3 4)",fill:"currentColor"},Ye.createElement("rect",{width:10,height:1.4,rx:.7}),Ye.createElement("rect",{y:3,width:10,height:1.4,rx:.7}),Ye.createElement("rect",{y:6,width:6,height:1.4,rx:.7}))))},pAt=e=>{let{children:t,toggleSidebar:n}=e;return Ye.createElement("div",{className:"zhc-topbar","data-cy":"topbar","data-testid":"topbar"},n?Ye.createElement("div",{className:"zhc-topbar__sidebar-toggle",onClick:n},Ye.createElement(uAt,null)):null,t)},mAt="oYxfDM8oa5RqO5GEn79v",hAt="S1dHkAeAE2MapikLZ9Nt",EAt="Qo3rIEs6g9WYLW7MJHHa",gAt="YhGBocnlIKGFuQwx5DrQ",fAt="k7JiuoyuD9NeOwqr0Oye",_At="OzVdwuZ97pkwIGDSllyw",vAt="HNFlw4bnpQr4KprFzahi",IAt="Dc1Z34bKdYdiUkXXNqpL",bAt=e=>{let{epic:t,onClose:n}=e;return Ye.createElement(pAt,null,Ye.createElement("div",{className:mAt},Ye.createElement("div",{className:hAt},t.project?Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:gAt},Ye.createElement(Vee,null),t.project?.name??"Add to project"),Ye.createElement(kue,{className:EAt})):null,Ye.createElement("div",{className:fAt},Ye.createElement(OMe,null),Ye.createElement("span",{title:t.title,className:_At},"Epic \u2013 ",t.title))),Ye.createElement("div",{className:vAt},n?Ye.createElement("button",{type:"button",className:IAt,"aria-label":"Close",onClick:n},Ye.createElement(Z5,null)):null)))},yAt=e=>{let{onClose:t}=e;return Ye.createElement(pAt,null,Ye.createElement("div",{className:mAt},Ye.createElement("div",{className:hAt},Ye.createElement("div",{className:fAt},Ye.createElement(OMe,null),"Create new epic")),Ye.createElement("div",{className:vAt},t?Ye.createElement("button",{type:"button",className:IAt,"aria-label":"Close",onClick:t},Ye.createElement(Z5,null)):null)))},SAt="sL6E10K9SJRIM7FNYzNA",wAt="hy7Wd05YrFTT7cZoLizJ",RAt="rMaoW34udtrXX9ZktbNv",TAt=e=>{let{completed:t,total:n,type:s}=e;const r="ISSUES"===s?"Issues":"Epic points",i=Math.floor(t/n*100),o=Number.isNaN(i)?0:i,a=Ye.createElement(Ye.Fragment,null,Ye.createElement("strong",null,(0,_t.rK)(t))," of"," ",Ye.createElement("strong",null,(0,_t.rK)(n))," ",r);return Ye.createElement("div",{className:SAt},Ye.createElement("div",{className:wAt},Ye.createElement("span",null,a),Ye.createElement("strong",{className:RAt},o,"%")),Ye.createElement(mde,{total:n,completed:t,type:pde[s]}))},CAt="_zbISXkm2pS3yme5_Icr",kAt="BO4kf80R6hbVFdGGOsMl",OAt="K6FeGJPxVqlanCbc8DII",NAt="NT0sH2AGBXwn06_0lB7H",PAt="AtgIrI__zGxcSJbguG1e",AAt="U2imrCZvKKL4eO4sCXC1",DAt="sNY1Z7Fo_OfLbUWc9GVu",LAt="PGNGHZoT0j0fGqX5Jp1J",zAt=e=>{let{issueCountProgress:t,issueEstimateProgress:n,endOn:s,startOn:r}=e;const{progressStatus:i,predictedEndDate:o}=(e=>{if(0===e.issueCountProgress?.total&&!e.endOn)return{progressStatus:null,predictedEndDate:null};if(!e.issueCountProgress||0===e.issueCountProgress?.total)return{progressStatus:"no-issues",predictedEndDate:null};if(!e.endOn)return{progressStatus:"no-timeline",predictedEndDate:null};if(e.issueCountProgress?.total===e.issueCountProgress?.closed)return{progressStatus:"completed",predictedEndDate:null};const t=EPe(e,VNe.ISSUE_COUNT.key),n=hPe(e,VNe.ISSUE_COUNT.key,t);return Number.isNaN(new Date(t).valueOf())?{progressStatus:null,predictedEndDate:null}:{progressStatus:n,predictedEndDate:t}})({issueCountProgress:t,issueEstimateProgress:n,endOn:s,startOn:r});return i||o?Ye.createElement("div",{"data-testid":"epic-predicted-status",className:(0,_I.default)(CAt,{[OAt]:"on-time"===i,[NAt]:"at-risk"===i,[PAt]:"running-late"===i,[DAt]:"completed"===i,[AAt]:"no-issues"===i||"no-timeline"===i})},((e,t,n)=>{switch(e){case"no-issues":return Ye.createElement(Ye.Fragment,null,Ye.createElement(aAe,null)," ",Ye.createElement("strong",{className:kAt},"Add issues for predicted end date"));case"no-timeline":return Ye.createElement(Ye.Fragment,null,Ye.createElement(aAe,null)," ",Ye.createElement("strong",{className:kAt},"Set timeline for predicted end date"));case"on-time":return Ye.createElement(YI,{content:`Predicted end date: ${qp(n)}`,position:jI.TOP,wrapperClassName:LAt},Ye.createElement(aAe,null),Ye.createElement("strong",{className:kAt},"On time"));case"at-risk":return Ye.createElement(YI,{content:`Predicted end date: ${qp(t)}`,position:jI.TOP,wrapperClassName:LAt},Ye.createElement(aAe,null),Ye.createElement("strong",{className:kAt},"At risk to be late"));case"running-late":return Ye.createElement(YI,{content:`Predicted end date: ${qp(t)}`,position:jI.TOP,wrapperClassName:LAt},Ye.createElement(aAe,null),Ye.createElement("strong",{className:kAt},"Late delivery"));case"completed":return Ye.createElement(Ye.Fragment,null,Ye.createElement(aAe,null)," ",Ye.createElement("strong",null,"Completed"));default:return null}})(i,o,s)):null},MAt="AjuuvN2rg5POztWxBXHf",xAt="NO88HVFv0dYjK7cOQImW",FAt=e=>{let{issueCountProgress:t,issueEstimateProgress:n,endOn:s,startOn:r}=e;return Ye.createElement("div",{className:MAt},Ye.createElement("h4",{className:xAt},"Epic progress"),Ye.createElement(zAt,{issueCountProgress:t,issueEstimateProgress:n,startOn:r,endOn:s}),Ye.createElement(TAt,{type:"ISSUES",completed:t?.closed??0,total:t?.total??0}),Ye.createElement(TAt,{type:"STORY_POINTS",completed:n?.closed??0,total:n?.total??0}))};const UAt=function(e){let{isModal:t=!1}=e;return Ye.createElement("div",{className:"issue-page-skeleton issue-page-skeleton--webapp"},!t&&Ye.createElement(Ye.Fragment,null,Ye.createElement(vIe,null),Ye.createElement("hr",null)),Ye.createElement("div",{className:"issue-page-skeleton__content"},Ye.createElement("div",{className:"issue-page-skeleton__body"},Ye.createElement(gIe,{marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(hIe,{size:"m",marginSize:"xl"}),Ye.createElement(bIe,{marginSize:"lg",withBorder:!0},Ye.createElement(hIe,{size:"l"})),Ye.createElement(bIe,{marginSize:"lg",withBorder:!0},Ye.createElement(vIe,{marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(hIe,{size:"m"}))),Ye.createElement("div",{className:"issue-page-skeleton__sidebar"},Ye.createElement(yIe,{withBorder:!0,firstRowSize:"l",secondRowSize:"xl"}),Ye.createElement(yIe,{withBorder:!0,firstRowSize:"l",secondRowSize:"xl"}),Ye.createElement(yIe,{withBorder:!0,firstRowSize:"l",secondRowSize:"xl"}))))},BAt="N60YYjTNmh_PuZp9WXnr",qAt="HU8aSVwF1MMSRTzIcsXK",HAt="tZxbZe2l2O6l1XcUldJU",WAt=e=>{let{className:t}=e;const n=(0,_I.default)(BAt,t);return Ye.createElement("div",{className:n},Ye.createElement(fIe,{size:"l",className:qAt}),Ye.createElement(EIe,{className:HAt},Ye.createElement(hIe,{size:"xs",type:"epic-issue-item"}),Ye.createElement(hIe,{size:"s"})))},jAt="sKzKRz_42YKfcGNeXm4y",GAt="yo8pWpf3q4h9y2raIMAf",KAt="p3oFi_Jy3qi45VnPr7Mj",VAt=e=>{let{isModal:t}=e;return Ye.createElement(LNt,null,Ye.createElement("div",{className:jAt},Ye.createElement(hIe,{size:"s"})),Ye.createElement("div",{className:jAt},Ye.createElement(WAt,{className:GAt})),Ye.createElement("div",{className:KAt},Ye.createElement(UAt,{isModal:t})))},$At="PNVmQV1M4nLO4Cl92lWw",ZAt="kGKLtZ9fttx8BKTPxKwf",YAt="ipBj2aayDvJy45mlfnnB",JAt=e=>{let{onChangeDate:t,startOn:n,endOn:s}=e;const[r,i]=(0,Ye.useState)(!1),o=(0,Ye.useRef)(null),a=(0,_I.default)($At,{[ZAt]:r,[YAt]:null!==n});return Ye.createElement("div",null,Ye.createElement(H5,{ref:o,className:a,onClick:()=>i(!0),width:D5.FULL,padding:M5.NONE},null!==n?Ye.createElement(ixe,{startDate:n,endDate:s}):"Set start and end date"),r?Ye.createElement("div",null,Ye.createElement(QMe,{anchor:o,close:()=>i(!1),title:"Set desired timeline for this Epic",type:"Epic",onCalendarDateSet:t,initialStartDate:n,initialEndDate:s,isDateRangeClearable:!0})):null)},XAt="liQjHz8aGpURIlaa0Ow0",QAt="wQVcThBGC5776sAAz_xd",eDt="NCRIXqpi4e1NG0meAEoc",tDt=e=>{let{isLoading:t}=e;return t?Ye.createElement("div",null,"Loading..."):Ye.createElement("div",{className:XAt},Ye.createElement("div",{className:QAt},"No matching projects found"),Ye.createElement("div",{className:eDt},"Try searching with a different keyword"))},nDt="GysdVJUq_miyztEBwqFQ",sDt="t3BR4FAyt5DIwjdq8RRh",rDt="RmGQ44RLZww2cUmFuICE",iDt=e=>{let{project:t}=e;return Ye.createElement("div",{className:nDt},Ye.createElement("div",{className:sDt},Ye.createElement(Vee,null),Ye.createElement("span",{className:rDt},t.name)),Ye.createElement("div",null,Ye.createElement(ixe,{startDate:t.startOn,endDate:t.endOn})))},oDt=e=>{let{ariaLabel:t,buttonClassName:n,buttonTitleClassName:s,buttonText:r,children:i,className:o,isFilterActive:a=!1,isOpen:l,isDisabled:c,shortcuts:d,hideChevronIcon:u,trackShortcutUsed:p,setIsOpen:m}=e;const h=(0,Ye.useRef)(null),E=()=>{m(!l)},g=()=>{E(),void 0!==p&&p()};return(0,Ye.useEffect)((()=>{if(d)return m8(d,g,null,!0),()=>h8(d)}),[]),Ye.createElement("span",{className:o},Ye.createElement(rae,{className:n,titleClassName:s,activeFilter:a,isActive:l,name:r,toggleOpen:E,innerRef:h,label:t,isButtonDisabled:c,hideChevronIcon:u}),l&&Ye.createElement(h4,{anchorElement:h.current,placement:"bottom-start",offset:0,skidding:0,onOverlayClick:()=>{m(!1)}},i))},aDt="y5ETX3dWYkI2yT0KCVsq",lDt="esRsNYPRmqRy6EuGwb6S",cDt="Ue17iR2r5L19_zFoajIF",dDt="zoXe74YFl2HfcekLcGXB",uDt="Add to project",pDt=e=>e?Ye.createElement(f5,{className:dDt}):null,mDt=e=>{let{onProjectChange:t,projectId:n,projectName:s}=e;const[r,i]=(0,Ye.useState)(!1),{projects:o,loading:a}=(()=>{const e=(0,l3.v9)(Pa),{roadmapData:t,loading:n}=ZUe(e),{roadmapItems:s}=t??{};let r=[];return s&&(r=s.filter((e=>"Project"===e.__typename))),{projects:r,loading:n}})(),l=(0,Ye.useCallback)((()=>o),[o]),c=()=>{i(!r)},d=null!=s?s:uDt;return Ye.createElement("div",null,Ye.createElement(oDt,{ariaLabel:"Filter by projects",buttonClassName:aDt,buttonTitleClassName:d===uDt?cDt:lDt,buttonText:d,isOpen:r,setIsOpen:c,hideChevronIcon:!0},Ye.createElement(gIt,{emptyState:Ye.createElement(tDt,{isLoading:a||!o}),filterFn:(e,t)=>""===t?e:e.filter((e=>e.name.toString().toLowerCase().includes(t.toLowerCase()))),filterInputPlaceholder:"Filter projects",items:o,itemRenderer:e=>Ye.createElement(iDt,{project:e}),onClickItem:e=>{t(e),c()},tabs:[],tabFilterFn:l,title:"Select project",hasItemBorder:!0,customSelectionIconRenderer:pDt,selectedId:n,onClose:c})))},hDt=e=>{let{isFlyover:t,epicId:n}=e;const s=(0,l3.I0)();(0,Ye.useEffect)((()=>(t&&s(LG.pages.setFlyoverEntityId(n)),()=>{t&&s(LG.pages.setFlyoverEntityId(null))})),[t,n])},EDt={},gDt=bb.Ps`
  mutation updateZenhubEpic($input: UpdateZenhubEpicInput!) {
    updateZenhubEpic(input: $input) {
      zenhubEpic {
        ...zenhubEpic
      }
    }
  }
  ${mLe}
`;function fDt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const _Dt=e=>{const[t]=function(e){const t={...EDt,...e};return vK.D(gDt,t)}();return function(){var n,s=(n=function*(n,s){if(e){const{data:r,errors:i}=yield t({variables:{input:{zenhubEpicId:e,title:n?.title,body:n?.body}},optimisticResponse:{__typename:"Mutation",updateZenhubEpic:{__typename:"UpdateZenhubEpicPayload",zenhubEpic:{__typename:"ZenhubEpic",...s,...n}}}});return i&&i?.length>0&&H.Z.createToast(W.Z.TEXT,{text:"Something went wrong"}),r}return null},function(){var e=this,t=arguments;return new Promise((function(s,r){var i=n.apply(e,t);function o(e){fDt(i,s,r,o,a,"next",e)}function a(e){fDt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,t){return s.apply(this,arguments)}}()},vDt=bb.Ps`
  fragment epicChildIssues on ZenhubEpic {
    childIssues(workspaceId: $workspaceId) {
      nodes {
        id
        number
        pullRequest
        pullRequestObject {
          state
        }
        state
        title
        estimate {
          value
        }
        repository {
          id
          name
          owner {
            login
          }
        }
        pipelineIssue(workspaceId: $workspaceId) {
          id
          priority {
            id
            name
          }
          pipeline {
            id
            name
          }
        }
      }
    }
  }
`,IDt={},bDt=bb.Ps`
  query getZenhubEpic($id: ID!, $workspaceId: ID!) {
    node(id: $id) {
      ... on ZenhubEpic {
        ...zenhubEpic
        ...epicChildIssues
      }
    }
  }
  ${mLe}
  ${vDt}
`;const yDt=e=>{let{epicId:t,onClose:n}=e;const s=(0,l3.v9)(Na),{data:r,loading:i}=function(e){const t={...IDt,...e};return cy.a(bDt,t)}({variables:{id:t,workspaceId:s._id},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),o=(0,l3.v9)($a),[a]=Xxe(),[l]=tMe(),c=Boolean(n);hDt({epicId:t,isFlyover:c});const d=r?.node,u=LMe({id:d?.id,__typename:"ZenhubEpic"}),p=_Dt(d?.id);if(i||o)return Ye.createElement(VAt,{isModal:c});if(!d)return PI?null:Ye.createElement(LNt,null,Ye.createElement(TNt,null));return Ye.createElement(LNt,null,Ye.createElement(bAt,{epic:d,onClose:n}),Ye.createElement(zNt,null,Ye.createElement(MNt,null,Ye.createElement(rPt,{epic:d,onChangeTitle:e=>p({title:e},d)}),Ye.createElement(JNt,{epicBody:d.body,onSaveBody:e=>p({body:e},d)}),Ye.createElement(cAt,{epicId:t,issues:d.childIssues?.nodes??[],workspace:s})),Ye.createElement(xNt,null,Ye.createElement(FAt,{issueCountProgress:d.zenhubIssueCountProgress,issueEstimateProgress:d.zenhubIssueEstimateProgress,startOn:d.startOn,endOn:d.endOn}),Ye.createElement(FNt,{title:"Project",icon:Ye.createElement(Vee,null)},Ye.createElement(mDt,{projectId:d?.project?.id,projectName:d?.project?.name,onProjectChange:e=>{e===d?.project?.id?l({variables:{input:{projectId:e,zenhubEpicId:d.id}}}):a({variables:{input:{projectId:e,zenhubEpicIds:[d.id]}}})}})),Ye.createElement(FNt,{title:"Timeline",icon:Ye.createElement(uoe,null)},Ye.createElement(JAt,{onChangeDate:(e,t)=>{u(e,t,d.id)},startOn:d.startOn,endOn:d.endOn})))))};function SDt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function wDt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){SDt(i,s,r,o,a,"next",e)}function a(e){SDt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const RDt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=(0,l3.v9)(Pa),{sortOrder:s}=HPe(),[r]=vFe({onCompleted:t}),[i]=pMe({onCompleted:t,update(e,t){let{data:r}=t;const i=r?.createZenhubEpicOnRoadmap?.zenhubEpic;GDe(e,n,[i],!1,s)}});return function(){var t=wDt((function*(t){let n,s;return t.projectId?(n=yield r({variables:{input:{projectId:t.projectId,zenhubEpic:{title:t.title,body:t?.description}}}}),s=n.data?.createZenhubEpicOnProject?.zenhubEpic):(n=yield i({variables:{input:{roadmapId:e,zenhubEpic:{title:t.title,body:t?.description}}}}),s=n.data?.createZenhubEpicOnRoadmap?.zenhubEpic),n.errors?(H.Z.createToast(W.Z.TEXT,{text:"Something went wrong"}),null):s}));return function(e){return t.apply(this,arguments)}}()},TDt="qpOGhfH3tFE27In9aINP",CDt="KpZafotLURcTek8sTPyl",kDt=e=>{let{title:t,setTitle:n}=e;const s=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{setTimeout((()=>s.current?.focus()),0)}),[]),Ye.createElement("div",{className:TDt},Ye.createElement("input",{ref:s,className:CDt,value:t,onChange:e=>n(e.target.value),placeholder:"Title of this epic",maxLength:1024}))},ODt="BDjo_vtu9t4M8sCISyHt",NDt="rAkhplPmmUNk3Ft3GRWA",PDt="OHD4UHWnMFoihbO4pz3w",ADt="pDkhsMXDWUJbhIDIKUaq",DDt=e=>{let{children:t}=e;return Ye.createElement("div",{className:ODt},t)},LDt=e=>{let{description:t,onChangeDescription:n,title:s,onChangeTitle:r,onSubmit:i}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement(kDt,{title:s,setTitle:r}),Ye.createElement("div",{className:NDt},Ye.createElement("h2",{className:PDt},"Description"),Ye.createElement("div",{className:ADt},Ye.createElement(jNt,{id:"textarea-epic-description",value:t,onChange:e=>n(e.target.value),onSubmit:i,placeholder:"Add a description...",showMentionIcon:!1}))))};function zDt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const MDt=e=>{let{onClose:t}=e;const[n,s]=(0,Ye.useState)(""),[r,i]=(0,Ye.useState)(""),[o,a]=(0,Ye.useState)(""),l=Boolean(t),c=(0,l3.v9)(Pa),{data:d}=Nat({variables:{workspaceId:c}}),u=yMe(!1),p=SRe(yRe.EpicPage),m=d?.workspace?.roadmap?.id,h=RDt(m),E=""===n.trim(),g=function(){var e,t=(e=function*(e){e.preventDefault();const t=yield h({title:n,description:r,projectId:o});t&&(p("Platform Epic Created"),u(t.id))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){zDt(i,s,r,o,a,"next",e)}function a(e){zDt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),f=(e=>{const t=(0,Dae.x)();return e?t.readFragment({id:`Project:${e}`,fragment:bb.Ps`
      fragment SelectedProject on Project {
        id
        name
      }
    `})?.name:null})(o),_=(0,Ye.useCallback)((e=>{a(e===o?"":e)}),[o,a]);return Ye.createElement(LNt,null,Ye.createElement(yAt,{onClose:t}),Ye.createElement(zNt,null,Ye.createElement(MNt,null,Ye.createElement(DDt,null,Ye.createElement("form",{onSubmit:g},Ye.createElement(LDt,{description:r,onChangeDescription:i,onChangeTitle:s,onSubmit:g,title:n}),Ye.createElement(KNt,{saveButtonType:"submit",isSubmitDisabled:E,onCancel:l?t:void 0})))),Ye.createElement(xNt,null,Ye.createElement(FNt,{title:"Project",icon:Ye.createElement(Vee,null)},Ye.createElement(mDt,{projectId:o,projectName:o?f:void 0,onProjectChange:_})))))},xDt=e=>{let{setContainerHeight:t,epicId:n}=e;return YOe(),(0,Ye.useEffect)((()=>(qI(),t(),()=>{HI()})),[t]),"new"===n?Ye.createElement(MDt,null):Ye.createElement(yDt,{epicId:n})},FDt="paNlxGiD2Mww2qDJuuHu",UDt="wulxjUIHVoFTBKaC2kvr",BDt="fbWosZSDtxg5PjHAlzDK",qDt="VJybVrhsXzV7D0NH69o3";function HDt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function WDt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){HDt(i,s,r,o,a,"next",e)}function a(e){HDt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const jDt=e=>{let{children:t,className:n,contentClassName:s,clickListenerSelector:r="body",onAppClick:i,onClose:o,confirmClose:a=WDt((function*(){return!0})),isOpen:l,flyoverStyles:c}=e;const d=(0,l3.I0)(),[u,p]=(0,Ye.useState)(!1),m=(0,_I.default)(FDt,n),h=(0,_I.default)(UDt,s,{[BDt]:u}),E=(0,Ye.useCallback)(WDt((function*(){(yield a())&&(p(!1),d(yi(!1)),setTimeout((()=>{o()}),300))})),[d,p,o,a]);return(0,Ye.useEffect)((()=>{window.setTimeout((()=>{p(!0),d(yi(!0))}),0)}),[d]),y9e({appElementSelector:r,closePortal:E,flyoverElementSelector:`.${FDt}`,onAppClick:i}),l?Ye.createElement(ine,{closeOnEsc:!0,isOpen:l,onClose:E},Ye.createElement("div",{className:m},Ye.createElement("div",{className:h,style:c},Ye.createElement("div",{className:qDt},(0,Ye.cloneElement)(t,{closePortal:E}))))):null},GDt="jmwGC42gKtanbz7d6OWY",KDt="PZr_Vm9koug8fYIWhKb3",VDt="nZv93LujCaZYMPXPF8ef",$Dt=e=>{let{children:t,isBoardFullScreen:n=!1,isOpen:s,confirmClose:r,onClose:i}=e;const o=(0,_I.default)(GDt,{[VDt]:n}),a=(0,_I.default)(KDt,{[VDt]:n});return s?Ye.createElement(jDt,{className:o,contentClassName:a,clickListenerSelector:"body",isOpen:s,onAppClick:(e,t,n)=>{const s=document.querySelector(".js-discussion-sidebar-item details[open]");s&&s.removeAttribute("open"),v9e(t,n)||null!=t.closest("body")&&(t.closest(".react-portal")||(null!==t.closest(".zh-app")?I9e(e,n):n()))},onClose:i,confirmClose:r},t):null},ZDt=ee.WAo(((e,t)=>t?ee.TSy(t,{repo_id:Vt.Z.parseInt10(e),issue_number:Vt.Z.parseInt10(t.number)}):null)),YDt=ee.CyQ(ee.xbD),JDt=ee.CKt("blocked"),XDt=ee.eiy(JDt),QDt=ee.t8m(JDt),eLt=ee.qCK(ee.t$q,ee.vgT("title")),tLt=ee.MRu(eLt),nLt=ee.OH4("admin",!0),sLt=ee.OH4("push",!0),rLt=ee.wEe(nLt,sLt),iLt=ee.CyQ(rLt),oLt=pA,aLt=uA,lLt=SA,cLt=ee.ETc(["issue","dependencies","form","issues"]),dLt=ee.ETc(["issue","dependencies","form","error"]),uLt=ee.ETc(["issue","dependencies","display","isAddFormOpen"]),pLt=ee.ETc(["issue","dependencies","dependencies","blocked_by"]),mLt=ee.ETc(["issue","dependencies","dependencies","blocking"]),hLt=ee.KJl(ee.kKJ,ee.yRu,ee.UID(QDt(!0)));function ELt(e){if(ee.kKJ(e))return e;const t=ee.hXT(Zt,e),n=ee.hXT(Yt,e);return ee.xHg([ee.qCK(tLt,ee.hXT(XDt))(t),ee.qCK(tLt,ee.d1t(XDt))(t),tLt(n)])}const gLt=uLt,fLt=aLt,_Lt=dLt,vLt=(0,pa.P1)([pLt],ELt),ILt=(0,pa.P1)([mLt],ee.qCK(ELt,hLt)),bLt=(0,pa.P1)([vLt,ILt],(function(e,t){return ee.xHg([e,t])})),yLt=(0,pa.P1)([aLt,oLt],ZDt),SLt=(0,pa.P1)([yLt,vLt,ILt],(function(e,t,n){if(Yt(e))return FW;if(ee.$6P(Vt.Z.isNilOrEmpty,[n,t]))return UW;const s=ee.hXT(Zt,t);if(YDt(s))return MW;const r=ee.hXT(Zt,n);return YDt(r)?xW:YDt(t)&&ee.$6P(Yt,t)?BW:UW})),wLt=(0,pa.P1)([lLt],iLt),RLt=(0,pa.P1)([yLt,vLt],(function(e,t){return!Vt.Z.isNilOrEmpty(t)&&!Yt(e)&&ee.YjB(Zt,t)})),TLt=(0,pa.P1)([yLt,bLt,cLt],(function(e,t,n){if(ee.kKJ(n))return null;const s=ee.xHg([e,t]),r=Vt.Z.indexBy(an,s);return ee.d1t((e=>ee.e$l(an(e),r)),n)})),CLt="T4IKk_o3DcyckxB84IYQ",kLt="xdAliqTAs7Cyj0d0RHao",OLt="hj0EeWMZEcXVKGNV_7Yg",NLt="xtiJEZ78IEhEnGmUm8O4",PLt="yAXhdRe23ShO7VtlRSDK",ALt="LHHaVUnL9gmubSXu1AI9",DLt="np6CXEBj0Be9otVi08BN",LLt={BLOCKED:{prefix:"is",message:"blocked",messageClass:kLt},BLOCKING:{prefix:"is",message:"blocking other issues",messageClass:kLt},CLOSED:{prefix:"is",message:"closed",messageClass:OLt},NO_DEPENDENCIES:{prefix:"has",message:"no dependencies",messageClass:OLt},READY:{prefix:"is",message:"ready to go",messageClass:"uLkS2dA4U_7WjfBtC2oG"}},zLt=e=>t=>LLt[t][e],MLt=zLt("prefix"),xLt=zLt("message"),FLt=zLt("messageClass"),ULt=e=>{let{dependencyState:t,issue:n,isReadOnly:s,isAddFormOpen:r,onClickAddDependencies:i=_t.ZT}=e;const o=(0,_I.default)(NLt,{[FLt(t)]:!0}),a=!r&&!UP(n),l=s?null:Ye.createElement("div",{className:DLt},Ye.createElement(H5,{color:L5.SECONDARY,"data-cy":"add-dependency",disabled:!a,onClick:i},"Add dependency")),c=(0,_I.default)(ALt,"zhc-dependency__issue-name");return Ye.createElement("div",{className:CLt},Ye.createElement("div",{className:PLt},Ye.createElement("span",{className:c},n.title," "),Ye.createElement("span",null,MLt(t),Ye.createElement("span",{className:o},xLt(t)))),l)},BLt="LEMbtc9ilqaNV2R5s3vU",qLt="lSqap0hnmYVF1YVzYHds",HLt="ihg32Pa9qGqzIKOmP3rI",WLt="GRzq2FwT3tCq0q850q4A",jLt="Bi4915ulrLeYtSeJnOgS",GLt="XwdXej547T1NKthnPGY9",KLt=e=>{let{issue:t}=e;return Ye.createElement("div",{"data-cy":"dependency-issue-item"},Ye.createElement("div",{className:BLt},t.title),Ye.createElement("div",{className:qLt},Ye.createElement("div",{className:WLt},t.repo_name,Ye.createElement("span",{className:HLt},"#",t.issue_number)),t.pipeline?.name?Ye.createElement("div",{className:jLt},Ye.createElement(EKe,null),Ye.createElement("span",{className:GLt},t.pipeline.name)):null))},VLt="rr93lMQsT4ujbCvuohzr",$Lt="kk0Cu5Bsba4e8AZ8s3Gx",ZLt="Y72inLLWuH0hyzwddndu",YLt=e=>{let{isExternalQuery:t,isLoading:n,canAddDepsFromThisRepo:s}=e;if(n)return Ye.createElement("div",null,"Loading...");const r=t&&!s,[i,o]=r?["Insufficient repository permissions","You can only add dependencies from repositories where you have write permissions"]:["No matching issues found","Try searching with a different keyword or issue number"];return Ye.createElement("div",{className:VLt},Ye.createElement("div",{className:$Lt},i),Ye.createElement("div",{className:ZLt},o))},JLt=bb.Ps`
  query githubIssueSearch(
    $searchTerms: String!
    $repoName: String!
    $ownerName: String!
    $count: Int
  ) {
    search(type: ISSUE, query: $searchTerms, first: $count) {
      nodes {
        ... on Issue {
          id
          title
          number
          url
          repository {
            databaseId
            nameWithOwner
          }
        }
      }
      pageInfo {
        endCursor
        hasNextPage
      }
    }
    repository(name: $repoName, owner: $ownerName) {
      viewerPermission
    }
  }
`;const XLt=/^@([\S]+\/[\S]+) (.+)/;function QLt(e,t){const n=(0,Ye.useMemo)((()=>(e=>(e??[]).map((e=>({...e,id:e.html_url,searchableContent:`${e.title} ${e.issue_number} ${e.repo_name}`.toLowerCase()}))))(e)),[e]),s=(0,Ye.useMemo)((()=>XLt.exec(t)),[t]),[r,i,o]=s??[null,null,null],{data:a,error:l,loading:c}=function(e){const{count:t=15,repoPrefix:n,skip:s=!1,searchTerms:r}=e,i=nke(r,200),o=`repo:${n} is:open ${i}`,[a,l]=n.split("/");return(0,cy.a)(JLt,{client:lT(),fetchPolicy:"cache-first",skip:s||!i||!r||!a,variables:{count:t,searchTerms:o,repoName:l,ownerName:a},notifyOnNetworkStatusChange:!0})}({count:30,skip:!s,repoPrefix:i??"",searchTerms:o});let d=(a?.search?.nodes??[]).filter((e=>Boolean(e.title)));const u=a?.repository?.viewerPermission,p=(m=u,Boolean(m)&&"READ"!==m);var m;const h=Boolean(s);!p&&h&&(d=[]);const E=h?(e=>e.map((e=>({id:e.id,searchableContent:`${e.title} ${e.number}`,html_url:e.url,title:e.title,organization_name:"org",issue_number:e.number,number:e.number,pipeline:{name:""},repo_id:e.repository.databaseId,repo_name:e.repository.nameWithOwner}))))(d):n;return{issues:E,isExternalQuery:h,isLoading:!l&&(c||h&&!a?.repository),canAddDepsFromThisRepo:p}}const ezt="j3ipDhgGm2InQs5J_AVL",tzt="i16vIHxtYszX6Yf0ll51",nzt="Rhp88aOgZS812fgUZRTE",szt=(e,t)=>{const n=t.trim().toLowerCase();return e.filter((e=>e.searchableContent.includes(n)))},rzt=e=>e,izt=e=>{let{issues:t,onCancel:n,onSelectItem:s}=e;const[r,i]=(0,Ye.useState)(""),{issues:o,isExternalQuery:a,isLoading:l,canAddDepsFromThisRepo:c}=QLt(t??[],r);return Ye.createElement("div",{className:ezt},Ye.createElement(aPt,{autoFocus:!0,emptyState:Ye.createElement(YLt,{isExternalQuery:a,isLoading:l||!t,canAddDepsFromThisRepo:c}),filterFn:a?rzt:szt,filterInputPlaceholder:"Search by issue title",items:o,itemRenderer:e=>Ye.createElement(KLt,{issue:e}),onClickItem:e=>{const t=o.find((t=>t.id===e));t&&s(t)},onSearchChange:i,searchBarClassName:nzt}),Ye.createElement(H5,{className:tzt,color:L5.SECONDARY,height:A5.SHORT,onClick:n,padding:M5.EXTRA_TIGHT,variant:z5.TEXT},Ye.createElement(R7,null)))};function ozt(){return ozt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ozt.apply(this,arguments)}const azt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--warning-white",t].filter(Boolean).join(" "),"aria-label":"warning-white",role:"img",...n};return Ye.createElement("svg",ozt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},s),Ye.createElement("path",{d:"M7.209.714l4.551 8.058c.156.236.241.514.24.8 0 .79-.626 1.428-1.4 1.428H1.397c-.5 0-.96-.272-1.21-.714a1.455 1.455 0 010-1.427L4.79.714C5.04.272 5.5 0 6 0c.499 0 .96.272 1.21.714zM5.077 3.302h1.477v4.15H5.077v-4.15zm0 4.716h1.477v1.51H5.077v-1.51zm1.332-6.833A.472.472 0 006 .943a.472.472 0 00-.41.242L.987 9.33a.493.493 0 000 .485.47.47 0 00.41.242H10.6a.48.48 0 00.477-.486.527.527 0 00-.099-.298L6.41 1.185z",fill:"currentColor",fillRule:"evenodd"}))},lzt="V1ctNzoZ1YpMPgxf1N1U",czt="Zj4BS658SxvG8sS5aoup",dzt=e=>{let{type:t,onSelectItem:n}=e;const s="BLOCKED"===t;return Ye.createElement(H5,{className:lzt,onClick:()=>n("BLOCKED"===t?"BLOCKING":"BLOCKED")},s?Ye.createElement(azt,null):Ye.createElement(d7,null),Ye.createElement("span",{className:czt},s?"Blocked by":"Blocking"))},uzt="k0X_INQ2ex9nKXlWiG9r",pzt="BHAw6bVae3N3i4JBwSdS",mzt=e=>{let{children:t}=e;return Ye.createElement("div",{className:uzt},t)},hzt=e=>{let{dependencyType:t,issueTitle:n}=e;switch(t){case"BLOCKING":return Ye.createElement(mzt,null,"This issue cannot be a ",Ye.createElement("span",{className:pzt},"blocker")," for"," ",Ye.createElement("span",{className:pzt},n)," because it is indirectly blocked.");case"BLOCKED":return Ye.createElement(mzt,null,"This issue cannot be ",Ye.createElement("span",{className:pzt},"blocked")," by"," ",Ye.createElement("span",{className:pzt},n)," because it is an indirect blocker.");default:return null}},Ezt="UzS6O9Qy2KYnECTbEuMG",gzt="RUFoakz_hB79YIRW2Zf_",fzt="HtDgaJXSBAZGYEjDj95T",_zt="hhwY0SXpjsnD4PMO4Cjf",vzt="f0hD_Zcx_DU1672qjVQe",Izt=e=>{let{errorAddDependency:t,isOpen:n=!1,issues:s,onAdd:r,onCancel:i}=e;const[o,a]=(0,Ye.useState)("BLOCKED"),[l,c]=(0,Ye.useState)(null);if(!n)return null;const d=t?Ye.createElement(hzt,{dependencyType:o,issueTitle:l?.title??""}):null;return Ye.createElement("div",{className:Ezt},Ye.createElement("div",{className:_zt},"Tip: use\xa0",Ye.createElement(Xpe,{content:"@org/repo-name keyword",type:"secondary"}),"\xa0to search issues outside this workspace"),Ye.createElement("div",{className:gzt},Ye.createElement("div",{className:vzt},Ye.createElement(dzt,{type:o,onSelectItem:a})),Ye.createElement("div",{className:fzt},Ye.createElement(izt,{issues:s,onSelectItem:e=>{e&&(c(e),r({type:o,issue:WP(e)}))},onCancel:i}))),d)},bzt="HmWiEQRff2w6RLD3PSJu",yzt=e=>{let{addDependency:t,closeAddDependencyForm:n,dependencyState:s,isAddFormOpen:r,isReadOnly:i,issue:o,issues:a,onShortcutsUsed:l=_t.ZT,openAddDependencyForm:c,shortcuts:d}=e;return(0,Ye.useEffect)((()=>{if(d)return m8(d,l,null,!0),()=>h8(d)}),[]),Ye.createElement("div",{className:bzt},Ye.createElement(ULt,{dependencyState:s,isAddFormOpen:r,isReadOnly:i,issue:o,onClickAddDependencies:c}),Ye.createElement(Izt,{isOpen:r,issues:a,onCancel:n,onAdd:t}))},Szt="hUkdKcbh_6uH5nbYqo75",wzt="zlrivUgsWyRL4WJLUUtO",Rzt="_PRVjB7GYF_w8ONQE2DV",Tzt="CewzCiBp93xPnVS740XB",Czt="NFsIXzF3fWhPqSrkGnrp",kzt="NsMVRj0zhf7I0CJCPKIW",Ozt="ZbnJzRHnddQee3ewAqQr",Nzt="aRvSqBKKgTb11awBF1jH",Pzt="qmM1OJuvUnrUugwkQF2y",Azt="fj4EfmgMFO_JtE2Er9wb";const Dzt=e=>{let{dependencyType:t,issue:n,onClickRemove:s=_t.ZT,isReadOnly:r=!1}=e;const i=(0,_I.default)(wzt,{[Rzt]:xP(n)}),o=r?null:Ye.createElement("div",{className:Pzt,"data-cy":"issue-action"},Ye.createElement(H5,{color:L5.PRIMARY,className:Azt,height:A5.SHORT,padding:M5.NONE,variant:z5.TEXT,onClick:()=>{s({type:t,dependentIssue:WP(n)})}},"Remove"));return Ye.createElement("div",{className:Szt},Ye.createElement("div",{className:i,"data-cy":"issue-title"},Ye.createElement("span",{className:(0,_I.default)(Tzt,{[Czt]:xP(n)})},function(e,t){if(xP(t))return Ye.createElement(mKe,null);if(e===qW){const e=jP(t)?"This issue is blocked & blocking others":"",n=jP(t)?Ye.createElement(h7,null):Ye.createElement(azt,null);return Ye.createElement(YI,{content:e},n)}if(e===HW){const e=GP(t)?"This issue is blocked & blocking others":"",n=GP(t)?Ye.createElement(h7,null):Ye.createElement(d7,null);return Ye.createElement(YI,{content:e},n)}return null}(t,n)),(e=>{const t={organization:e.organization,repository:e.repo_name,issue_number:e.issue_number};return Yne(t,e.title)})(n)),(()=>{const e=xP(n)?"Closed":n.pipeline?.name;return e||n.pipeline?n.pipeline&&sO(n.pipeline)?Ye.createElement("div",{className:kzt},"Not in this Workspace"):Ye.createElement("div",{className:kzt,"data-cy":"issue-pipeline"},Ye.createElement("span",{className:Ozt},Ye.createElement(EKe,null)),Ye.createElement("span",{className:Nzt},e)):null})(),o)},Lzt="YL444q2LN_nCUatoz_RW",zzt="IxZOfbsfk7NgmZVtHtaV",Mzt="ZWPumCepzrXu9kTXteK5",xzt="PBQ8Z_VtWyRxE0ofDZnQ",Fzt=e=>{let{issues:t,title:n,onClickRemove:s,isReadOnly:r,dependencyType:i}=e;if(!t?.length)return null;const o=t.map((e=>Ye.createElement(Dzt,{key:`${e.repo_name} ${e.issue_number}`,isReadOnly:r,issue:e,onClickRemove:s,dependencyType:i})),t);return Ye.createElement("div",{className:Mzt},Ye.createElement("h2",{className:xzt},n),Ye.createElement("div",{className:"zhc-dependency-list__issues"},o))},Uzt=e=>{let{blockedByIssues:t,blockingIssues:n,dismissWorkspacesInfoAlert:s,hasDependenciesFromOtherWorkspaces:r,isReadOnly:i,isWorkspacesAlertDismissed:o,onClickRemove:a}=e;const l=o||!r,c=Ye.createElement(FSe,{className:zzt,isDismissed:l,linkHref:"https://help.zenhub.com/support/solutions/articles/43000010349",linkText:"Learn more",onClose:s},Ye.createElement("span",{className:"zhu-blankspace-right zhu-text-important"},"Dependencies can contain cross-workspace blockers."),Ye.createElement("span",{className:"zhu-blankspace-right"},"You will see"),Ye.createElement("span",{className:"zhu-blankspace-right zhu-text-important"},"\u201cNot in this workspace\u201d"),Ye.createElement("span",{className:"zhu-blankspace-right"},"if the issue is dependent on work from a repo that is not part of this workspace."));return Ye.createElement("div",{className:Lzt},Ye.createElement(Fzt,{title:"Blocked by",issues:t,dependencyType:qW,isReadOnly:i,onClickRemove:a}),Ye.createElement(Fzt,{title:"Blocking",issues:n,dependencyType:HW,isReadOnly:i,onClickRemove:a}),c)},Bzt="csJzAM6Q6kgIjBQyQ8u7",qzt="Se7C7j31GCecqQcxls3I",Hzt="eCfjJMsZ2xlJGz84BzgV",Wzt="j40KhmeGZ1uKFDvp1xlR",jzt=(0,_t.fB)("issue","issues");function Gzt(e,t){const n=t.length,s=e.length,r=n>0,i=s>0;return r&&i?`${n} blocked ${jzt(n)} and ${s} blocking ${jzt(s)}`:r?`${n} blocked ${jzt(n)}`:i?`${s} blocking ${jzt(s)}`:""}const Kzt=e=>{let{addDependency:t,blockedByIssues:n,blockingIssues:s,closeAddDependencyForm:r,dependencyState:i,dismissWorkspacesInfoAlert:o,hasDependenciesFromOtherWorkspaces:a,isAddFormOpen:l,isLoading:c,isReadOnly:d,issue:u,issues:p,isWorkspacesAlertDismissed:m,onInitialLoad:h=_t.ZT,onSeeDependencies:E,onShortcutsUsed:g,openAddDependencyForm:f,removeDependency:_,shortcuts:v}=e;const[I,b]=(0,Ye.useState)(!1);(0,Ye.useEffect)((()=>{h?.()}),[]);const y=(0,_I.default)("zhc-dependency",Bzt);if(c)return Ye.createElement("div",{className:y},Ye.createElement("div",{className:Wzt},"Loading dependencies for this issue..."));const S=n.length+s.length,w=S>2,R=0===S?null:Ye.createElement("div",null,Ye.createElement(Sne,{isCollapsed:I,transitionCollapse:!0,unmountCallback:()=>b(!1)},Ye.createElement(Uzt,{blockingIssues:s,blockedByIssues:n,dismissWorkspacesInfoAlert:o,hasDependenciesFromOtherWorkspaces:a,isReadOnly:d,isWorkspacesAlertDismissed:m,onClickRemove:_})),w?Ye.createElement("div",{className:qzt},Ye.createElement(F8e,{isCollapsed:I,toggleCollapsible:()=>b((e=>!e)),toggleOpenText:Gzt(n,s),toggleHideText:"Hide dependency list"}),Ye.createElement(H5,{className:Hzt,"data-cy":"board-view",padding:M5.TIGHT,onClick:E},"View on board")):null);return Ye.createElement("div",{className:y,"data-cy":"dependency"},Ye.createElement(yzt,{addDependency:t,closeAddDependencyForm:r,dependencyState:i,isAddFormOpen:l,isReadOnly:d,issue:u,issues:p,onShortcutsUsed:g,openAddDependencyForm:f,shortcuts:v}),R)};function Vzt(){return Vzt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vzt.apply(this,arguments)}const{board:$zt,issueDependencies:Zzt,issue:Yzt,onboarding:Jzt,router:Xzt,shortcuts:Qzt}=LG,eMt=Qzt.trackShortcutsUsed.bind(null,E8.ISSUE_PAGE_DEPENDENCY.name),tMt=e=>({issue_number:e.issue_number||e.number,repo_id:e.repo_id}),nMt=(e,t)=>{if(!t)return null;const n=ee.HK3(ee.vgT("repo_id"),e.repos);return t.map((e=>n[e.repo_id]?e:{...e,pipeline:tO}))},sMt=(0,pa.P1)(fA,vLt,nMt),rMt=(0,pa.P1)(fA,ILt,nMt);const iMt=(0,pa.P1)(rMt,sMt,(function(e,t){return[...e||[],...t||[]].reduce(((e,t)=>(e=>e&&sO(e))(t.pipeline)||e),!1)}));class oMt extends Ye.PureComponent{componentDidMount(){const{initOnboarding:e}=this.props;e()}render(){const{dispatch:e,repo_id:t,issue:n,issues:s,fetchZhEvents:r,indexedIssues:i,onSeeDependencies:o,workspace:a}=this.props,l={repo_id:t,issue_number:n.number},c=a._id,d=()=>{e(Zzt.openAddDependencyForm()),ee.kKJ(s)&&e(Zzt.fetchIssues(a))},u=t=>{r&&r(t),e(Yzt.loadZhEvents(t))};return Ye.createElement(Kzt,Vzt({},this.props,{onInitialLoad:()=>{e(Zzt.fetchIssueDependencies({...l,workspaceId:c}))},openAddDependencyForm:d,addDependency:t=>{const n={dependentIssue:tMt(t.issue),mainIssue:l,fetchZhEvents:u,workspaceId:c};switch(t.type){case qW:e(Zzt.addDependencyBlockedByIssue(n));break;case HW:e(Zzt.addDependencyBlockingIssue(n))}},removeDependency:t=>{const n=ee.TSy(t,{mainIssue:l,fetchZhEvents:u,workspaceId:c});switch(t.type){case qW:e(Zzt.removeDependencyBlockedBy(n));break;case HW:e(Zzt.removeDependencyBlocking(n))}},onSeeDependencies:()=>{if(o)return void o(l);const t=`dependencies=${an(l)}`,n=Xzt.openWorkspaceBoard({search:t,workspace:a});e(n),e($zt.clearTagFilters()),e($zt.checkAndAddDependenciesFilter({...l,indexedIssues:i,workspaceId:c}))},onShortcutsUsed:()=>{d(),e(eMt())}}))}}oMt.defaultProps={fetchZhEvents:null,indexedIssues:null,issues:null,onSeeDependencies:null},oMt.propTypes={dispatch:SI().func.isRequired,initOnboarding:SI().func.isRequired,issue:SI().shape({number:SI().number}).isRequired,repo_id:SI().number.isRequired,workspace:SI().shape({_id:SI().string}).isRequired,fetchZhEvents:SI().func,indexedIssues:SI().shape({}),issues:SI().arrayOf(SI().shape({})),onSeeDependencies:SI().func};const aMt=(0,l3.$j)((function(e){const t=sMt(e),n=rMt(e);return{issue:yLt(e),repo_id:fLt(e),dependencyState:SLt(e),isAddFormOpen:gLt(e),isLoading:ee.$6P(ee.kKJ,[n,t]),issues:TLt(e),blockedByIssues:t,blockingIssues:n,isReadOnly:wLt(e),errorAddDependency:_Lt(e),isWorkspacesAlertDismissed:lw(e),hasDependenciesFromOtherWorkspaces:iMt(e),indexedIssues:Ev(e),shortcuts:E8.ISSUE_PAGE_DEPENDENCY.shortcuts,workspace:fA(e)}}),(function(e){return{closeAddDependencyForm(){e(Zzt.closeAddDependencyForm())},dismissWorkspacesInfoAlert(){const t={key:"workspaces_issue_dependencies_alert_dismissed",value:!0};e(Jzt.setOnboardingValue(t))},initOnboarding:()=>{BG(e,["workspaces_issue_dependencies_alert_dismissed"])},dispatch:e}}))(oMt),lMt=e=>{let{avatarUrl:t,name:n,login:s}=e;return Ye.createElement("div",{className:"zhc-selection-list__item__user"},Ye.createElement(hae,{url:t}),Ye.createElement("div",{className:"zhc-selection-list__item__user__text"},Ye.createElement("div",{"data-cy":"user-login"},s),n&&Ye.createElement("div",{className:"zhc-selection-list__item__user__name","data-cy":"user-name"},n)))},cMt=Ye.memo(lMt),dMt=()=>{const e=(0,Ye.useRef)(new Set);e.current.add("");const t=(0,Dae.x)(),n=(0,l3.v9)(uA);return{usedSearchTermsRef:e,getAssigneesFromCache:s=>e.current.size?[...e.current].map((e=>t.readQuery({query:vy,variables:{ghIds:n,includeZHUser:s,query:e}}))).reduce(((e,t)=>{const n=t?.repositoriesByGhId?.[0]?.assignableUsers?.nodes||[];return e.push(...n),e}),[]):[]}},uMt=$le;class pMt extends Ye.PureComponent{render(){const{avatar_url:e,login:t,isReadOnly:n}=this.props,s=(0,_I.default)("zhc-sidebar-selector__content zhc-sidebar-active-assignee-item",{"zhc-sidebar-active-assignee-item--read-only":n});return Ye.createElement("div",{className:s},Ye.createElement(hae,{url:e,alt:t,size:20,modifiers:["rounded"]}),Ye.createElement("span",{className:"zhc-sidebar-active-assignee-item__name","data-cy":"assignee-username"},t))}}pMt.propTypes={login:SI().string.isRequired,avatar_url:SI().string,isReadOnly:SI().bool};const mMt=pMt,hMt=e=>{let{isReadOnly:t,onAssignSelf:n=_t.ZT}=e;const s=(0,_I.default)("zhc-sidebar-assign-yourself",{"zhc-sidebar-assign-yourself--read-only":t}),r=t?null:Ye.createElement("span",{className:s,"data-cy":"assign-yourself",onClick:n},"assign yourself");return Ye.createElement("span",null,"No one - ",r)},EMt=e=>Ye.createElement(cMt,{avatarUrl:e.avatar_url,login:e.login,name:e.name}),gMt=e=>{let{activeAssignees:t,onAssignSelf:n,isReadOnly:s}=e;const r=Ye.createElement(hMt,{onAssignSelf:n,isReadOnly:s});return(0,_t.KN)(t)?r:Ye.createElement("div",{className:"zhc-sidebar-assignee-selector_active_assignees"},t.map((e=>Ye.createElement(mMt,{key:e.login,avatar_url:e.avatar_url,login:e.login,isReadOnly:s}))))},fMt=e=>{let{activeAssignees:t,repoId:n,isReadOnly:s,isOnPRPage:r=!1,onAssignSelf:i,onApplyChanges:o,onShortcutsUsed:a,shortcuts:l}=e;const{anchorRef:c,closePopover:d,isOpen:u,setIsOpen:p}=ene(!1),m=Tl((0,l3.v9)(uu),!0),h=(0,l3.v9)(JA)||[],E=(0,Ye.useRef)(null),{usedSearchTermsRef:g,getAssigneesFromCache:f}=dMt(),_=E4e({query:"",includeZHUser:true,repoId:n,skip:!u}),v=()=>{const e=E.current;if(e){const{id:t}=m,n=f(true).filter((e=>{let{id:n}=e;return n!==Number(t)}));o(e,[...n??[],...h??[],m])}E.current=null,d()},I=()=>{u?v():p(!0)};qWe(l,(()=>{a(),I()}));const b={queryResult:_,connectionSelector:e=>(e?.data?.repositoriesByGhId?Object.assign({},...e.data.repositoriesByGhId):null)?.assignableUsers};return Ye.createElement("div",{className:"zhc-sidebar-selector zhc-sidebar-assignee-selector","data-cy":"assignee-selector"},Ye.createElement(uMt,{buttonName:"Assignees",disabled:s,onClick:I,ref:c}),Ye.createElement("div",null,u&&Ye.createElement(Ene,{anchorRef:c,close:v,forcedPositions:{BOTTOM:!0,RIGHT:!0}},Ye.createElement(Wle,{emptyState:Ye.createElement("div",null,"No Assignees found"),filterInputPlaceholder:"Filter assignees",tabs:[{name:"Assignees",dataSource:b,activeItems:t,priorityItems:[m]}],itemRenderer:EMt,onClose:v,onSelectionChange:e=>{E.current=e},onSearchChange:e=>{g.current.add(e)},title:"Assign up to 10 people to this "+(r?"pull request":"issue"),width:"320px"})),Ye.createElement(gMt,{activeAssignees:t,isReadOnly:s,onAssignSelf:i})))},_Mt="EoIivFoelfbAz6HQ53rJ",vMt=e=>{let{activeEpic:t}=e;const n={issue_number:t.issue_number,repository:t.repo||t.repo_name,organization:t.organization};return Ye.createElement("div",null,Yne(n,t.title?.trim()))},IMt=e=>{let{activeEpic:t,workspaceId:n}=e;const s=ma.getPlatformEpicPath({workspace:{_id:n},epic_id:t.id});return PI?Ye.createElement("a",{href:s},t.title?.trim()):Ye.createElement(pte.rU,{to:s},t.title?.trim())},bMt=e=>{let{activeEpics:t=[],workspaceId:n}=e;return t?.length?Ye.createElement("div",{className:_Mt,"data-cy":"active-epic"},t.map((e=>Ye.createElement("div",{className:"zhc-sidebar-active-epic__item zhc-sidebar-selector__content",key:"id"in e?e.id:`${e.repo_name}${e.issue_number}`},"ZenhubEpic"===e.__typename?Ye.createElement("div",null,Ye.createElement(IMt,{workspaceId:n,activeEpic:e})):Ye.createElement(vMt,{activeEpic:e}))))):qte("Not inside an epic")},yMt=Ye.forwardRef(((e,t)=>{let{name:n,onClick:s,icon:r}=e;return Ye.createElement("div",{ref:t,className:"zhc-selection-list-item zhc-convert-item",onClick:s},r,Ye.createElement("strong",null,n))}));yMt.defaultProps={name:"Convert to Epic",onClick:_t.ZT};const SMt=Dte(yMt);function wMt(){return wMt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wMt.apply(this,arguments)}const RMt=Hte("No Epics yet");const TMt=e=>{const{epics:t}=e;if(null==t)return Bte;const n=t?.length?(e=>{let{epics:t,selectItem:n,deselectItem:s}=e;return t.map((e=>Ye.createElement(aXe,wMt({key:e.filterKey||e.id,title:e.title,select:n,deselect:s,filterKey:e.filterKey||e.id,repo_name:e.repo,canNegate:!1,modifier:"sidebar-epic"},e))))})(e):[RMt];return[function(e){return!e.isCurrentIssueEpic&&!e.isPullRequest&&e.convertToEpic}(e)?Ye.createElement(SMt,{key:"convertToEpicItem",icon:Ye.createElement(ere,null),name:"Convert to Epic",onClick:e.convertToEpic,isFilterable:!1}):null,e.isCurrentIssueEpic&&e.convertToIssue?Ye.createElement(SMt,{key:"convertToIssueItem",icon:Ye.createElement(E9,null),name:"Convert to Issue",onClick:e.convertToIssue,isFilterable:!1}):null,...n]},CMt=e=>{const{filterableChildProp:t,filterDefaultText:n,isActive:s,listTitle:r,toggleOpen:i}=e;return Ye.createElement($te,{allowNegatedSearch:!1,emptyStateText:"No Epics found",filterableChildProp:t,filterDefaultText:n,isActive:s,position:Ute,styleType:Ote.ITEMS_UNDERLINED,title:r,toggleOpen:i},TMt(e))};CMt.propTypes={convertToEpic:SI().func,convertToIssue:SI().func,deselectItem:SI().func,epics:SI().arrayOf(SI().object),filterableChildProp:SI().string,filterDefaultText:SI().string,isActive:SI().bool,isCurrentIssueEpic:SI().bool,isPullRequest:SI().bool,listTitle:SI().string,selectItem:SI().func,toggleOpen:SI().func},CMt.defaultProps={deselectItem:_t.ZT,filterableChildProp:"filterKey",filterDefaultText:"Filter Epic Issues",isActive:!1,isCurrentIssueEpic:!1,isPullRequest:!1,listTitle:"Add this Issue to an Epic",selectItem:_t.ZT,toggleOpen:_t.ZT};const kMt=CMt,OMt=Rme((e=>{let{activeEpics:t,convertToEpic:n,convertToIssue:s,deselectItem:r,epics:i,filterableChildProp:o="title",isActive:a=!1,isCurrentIssueEpic:l=!1,isPullRequest:c=!1,isReadOnly:d=!1,onMouseEnter:u,onShortcutsUsed:p,selectItem:m,selectorName:h="Epics",shortcuts:E,toggleOpen:g,workspaceId:f}=e;qWe(E,p);const _=null!=t,v=a?Ye.createElement(kMt,{toggleOpen:g,isActive:a,selectItem:m,deselectItem:r,epics:i,convertToEpic:n,convertToIssue:s,isCurrentIssueEpic:l,isPullRequest:c,filterableChildProp:o}):null;return Ye.createElement("div",{className:"zhc-sidebar-selector","data-cy":"epic-selector",onMouseEnter:u},Ye.createElement(uMt,{buttonName:h,onClick:g,disabled:d||!_}),!_&&qte("Loading..."),_&&v,_&&Ye.createElement(bMt,{activeEpics:t,workspaceId:f}))})),NMt={},PMt=bb.Ps`
  mutation setEstimationVote($input: SetEstimationVoteInput!) {
    setEstimationVote(input: $input) {
      estimationVote {
        ...estimationVote
      }
    }
  }
  ${C5e}
`;const AMt={},DMt=bb.Ps`
  mutation removeEstimationVote($input: RemoveEstimationVoteInput!) {
    removeEstimationVote(input: $input) {
      estimationVote {
        id
      }
    }
  }
`;const LMt={},zMt=bb.Ps`
  query getIssueEstimationVotes($id: ID!) {
    viewer {
      id
    }
    node(id: $id) {
      ... on Issue {
        id
        title
        estimate {
          value
        }
        estimationVotes {
          nodes {
            ...estimationVote
          }
        }
      }
    }
  }
  ${C5e}
`;const MMt=bb.Ps`
  fragment addVotesToIssue on Issue {
    id
    estimationVotes {
      nodes {
        ...estimationVote
      }
    }
  }
  ${C5e}
`,xMt=(e,t,n)=>{const s=d$([...n?.estimationVotes?.nodes??[],...t],(e=>e.id)),r=n.id;e.writeFragment({id:e.identify({__typename:"Issue",id:r}),fragment:MMt,fragmentName:"addVotesToIssue",data:{id:r,estimationVotes:{nodes:s}}})},FMt=(e,t)=>{const n=[...e].sort(((e,n)=>n===t?-1:1)).map((e=>({__typename:"EstimationVote",id:`${e}-temp-vote`,value:null,voter:{id:e,githubUser:{id:`${e}-loading`,avatarUrl:"",login:""}}})));return{inviteToEstimate:{estimationVotes:n}}};function UMt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const BMt=e=>{let{issueId:t,skip:n}=e;const[s]=N5e(),{data:r,loading:i,refetch:o}=function(e){const t={...LMt,...e};return cy.a(zMt,t)}({skip:n||null==t,variables:{id:t??""},fetchPolicy:"cache-and-network"}),a=(e=>"Issue"===e?.__typename?e:null)(r?.node),l=r?.viewer.id,c=function(){var e,t=(e=function*(e){yield s({variables:{input:e},optimisticResponse:FMt(e.zenhubUserIds,l),update:(e,t)=>{let{data:n}=t;a&&xMt(e,n?.inviteToEstimate?.estimationVotes??[],a)}})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){UMt(i,s,r,o,a,"next",e)}function a(e){UMt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),d=(a?.estimationVotes?.nodes??[]).map((e=>{const t=e.voter.githubUser?e.voter.githubUser:{id:"unknown",login:"Unknown",avatarUrl:""};return{...e,voter:{...e.voter,githubUser:t},status:(n=e.value,-1===n?"votedHidden":null!=n?"votedRevealed":"pending")};var n}));const u=d.find((e=>{let{voter:t}=e;return t.id===l})),p=Boolean(u),m=d.some((e=>e.voter.id!==l&&!Z4e(e.value)));d.sort((e=>(t,n)=>t.voter.id===e?-1:n.voter.id===e?1:J4e(t.voter,n.voter))(l));const h=d.map((e=>`${e.id}=${e.value}`)).join("-"),E=(0,Ye.useMemo)((()=>d),[h]);return{areVotesLoading:i,createVotes:c,estimateValue:a?.estimate?.value??null,hasOtherUnseenVotes:m,isViewerAVoter:p,viewerVote:u,refetch:o,viewerId:l,votes:E}},qMt={},HMt=bb.Ps`
  subscription EstimationUpdates($issueId: ID!) {
    issueUpdates(issueId: $issueId) {
      updates {
        estimationVotes {
          ...estimationVote
        }
        subjectId
        fieldName
        action
      }
    }
  }
  ${C5e}
`;const WMt=e=>{let{existingVotes:t,issueId:n,skip:s,viewerId:r}=e;!function(e){const t={...qMt,...e};crt.m(HMt,t)}({fetchPolicy:"no-cache",variables:{issueId:n},skip:s,onSubscriptionData:e=>{let{client:s,subscriptionData:i}=e;const{cache:o}=s,a=i?.data?.issueUpdates.updates,l={id:n,estimationVotes:{nodes:t}},c=((e,t)=>e.filter((e=>!(e.voter.id===t&&-1===e.value))))(a?.estimationVotes??[],r);switch(a?.action){case Gi.EstimationVotesVoteRemoved:o.evict({id:o.identify({__typename:"EstimationVote",id:a.subjectId})});break;case Gi.EstimationVotesInvitesAdded:a.estimationVotes&&xMt(o,a.estimationVotes,l);break;case Gi.EstimationVotesValueSet:c.forEach((e=>{((e,t,n)=>{e.modify({id:e.identify({id:t,__typename:"EstimationVote"}),fields:{value:()=>n}})})(o,e.id,e.value??null)}))}}})},jMt="RQ8DrYL8HaQH_bC62UE1",GMt="B046xdNTJpSlXL9l_fkQ",KMt="MyhMoDuzMe8Twjg36sVA",VMt="JVeI4GOE_ObVPZ6JbpkX",$Mt="NoRNEAb9VABEU9sqRwrt",ZMt="wABzmrDKTT4uS4C6kfWw",YMt="Yl1Y_dbSQBMq10HldKr6",JMt="uEgCN23mXN3A0LbGFnRO",XMt="SdI61l8re6atkVrAe7KY",QMt=e=>{let{avatarUrl:t,badgeValue:n,className:s,login:r,onDelete:i,status:o,tooltipText:a}=e,l=t?Ye.createElement("img",{alt:a,className:GMt,src:t,height:25,width:25}):Ye.createElement(jpe,{className:GMt,url:null});t||r||(l=Ye.createElement(fIe,{className:XMt,size:"s"}));const c=(0,_I.default)(jMt,s),d=(0,_I.default)(KMt,{[VMt]:"pending"===o,[$Mt]:"pending"!==o});return Ye.createElement(YI,{content:a,position:jI.BOTTOM},Ye.createElement("div",{className:c},l,i?Ye.createElement("button",{className:ZMt,onClick:i,type:"button","aria-label":`Remove voter ${r}`},Ye.createElement(n5,{className:YMt})):null,Z4e(n)?Ye.createElement(sqe,{className:JMt,value:n,type:ZBe.ESTIMATE_CLOSED}):Ye.createElement("div",{className:d})))},ext="WJX83xNbcUd1O9UtE2wt",txt=(0,_t.fB)("point","points"),nxt=e=>{let{estimate:t,onClick:n}=e;const s=(0,_I.default)(ext,{zhEstimateButtonExtension:F});return Ye.createElement("button",{type:"button","aria-label":`Set estimate to ${t} story ${txt(t)}`,className:s,onClick:()=>n(t)},t)},sxt="yFV0xeT9grDk3CbPgK4E",rxt="lI6nnKELukZQkm8sV_CH",ixt=240,oxt=e=>{let{containerWidth:t=ixt,estimateOptions:n,onSetValue:s}=e;const r=(0,_I.default)(sxt,rxt),i=((e,t)=>{let n=t;const s=e.sort(((e,t)=>e-t)).reduce(((e,t)=>{const s=16+9*String(t).length;return n>=s&&(n-=s,e.push(t)),e}),[]);return s})(n,t),o=e=>s(e);return Ye.createElement("div",{className:r,"data-testid":"zh-sidebar-estimate-list"},i.length?i.map((e=>Ye.createElement(nxt,{onClick:o,key:e,estimate:e}))):null)},axt="byNWqextzTmTEbG8PdTG",lxt="ormb8tHmloZJJnEI2W6h",cxt="ZVDRqpB_rzm1s0PfMhxD",dxt="Flqc4eH_5oEMGY8wZAk1",uxt="K_3IXGDVuM7vc5iiiVUJ",pxt="wSCcnXj3MUiC6yLw01ZP",mxt=(0,_t.fB)("Story point","Story points"),hxt=e=>{let{estimateOptions:t,isViewerVote:n,onDelete:s,onSetValue:r,showCompactView:i,tooltipText:o,vote:a}=e;const l=Z4e(a.value),c=(0,Ye.useCallback)((()=>s?.(a)),[a,s]),d=(0,Ye.useCallback)((e=>r(e,a)),[a,r]),u=(0,Ye.useCallback)((()=>r(null,a)),[a,r]),p=(0,_I.default)(lxt,{[pxt]:i});if(!a.voter.githubUser)return null;const m=i&&Z4e(a.value)?a.value:void 0,h=Ye.createElement(QMt,{avatarUrl:a.voter.githubUser.avatarUrl,badgeValue:m,className:p,login:a.voter.githubUser.login,onDelete:s&&"pending"===a.status?c:void 0,status:a.status,tooltipText:o});return i?h:Ye.createElement("div",{className:axt},h,n&&!l?Ye.createElement(oxt,{containerWidth:210,estimateOptions:t,onSetValue:d}):Ye.createElement(Ye.Fragment,null,Z4e(a.value)?Ye.createElement(sqe,{className:dxt,value:a.value,type:ZBe.ESTIMATE_CLOSED}):null,Ye.createElement("div",{className:cxt},((e,t)=>{switch(e){case"votedRevealed":return mxt(t);case"votedHidden":return"Voted";default:return"Pending"}})(a.status,a.value)),n&&l?Ye.createElement(H5,{className:uxt,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,variant:z5.TEXT,onClick:u},"Remove"):null))},Ext=e=>{const t=SRe(yRe.PlanningPoker),n=(0,Ye.useRef)(null);return(0,Ye.useEffect)((()=>{const s=n?.current;window.location.search===$4e&&s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.focus(),s.classList.add(e),t("Click notification comment link",{Module:"Neutral"}),window.history.replaceState(null,"",window.location.pathname))}),[]),n},gxt="nHC9b9dI5fUEd4mWEEyG",fxt="iphW9BTzkGODCsnE0TSJ",_xt="I2wPguO2Og9I6zYlF1mB",vxt="CCe4gsUiqS3UPLdHKjMH",Ixt="vNmh9WTyDWbzzBzhcFuy",bxt="Oiqen57hQ6Cm0Go0PHF3",yxt="UZlQHLGYqpnb7QVSOHvC",Sxt="G2DkXTbwb0dMpeWD9UKY",wxt="dxAeFwXgqDIHT__jZg5p",Rxt="xbt9uytNczj8B6HAehAa",Txt="GouaQuHKL8N6ddsk49iY",Cxt=e=>{let{canEditPartipants:t=!0,estimateOptions:n,isLoading:s,onAddClick:r,onDeleteVote:i,onSetVote:o,showCompactView:a,viewerId:l,votes:c}=e;const d=Ext(Txt),u=(0,_I.default)(bxt,{[yxt]:s}),p=Ye.createElement("button",{"aria-label":"Add participants","aria-disabled":t?"false":"true",className:Ixt,disabled:!t,type:"button",onClick:t?r:void 0},"+");return Ye.createElement("section",{className:gxt,ref:d,tabIndex:-1},Ye.createElement("header",{className:fxt},Ye.createElement("h3",{className:(0,_I.default)(_xt,{[vxt]:F})},"Planning poker"),t?p:Ye.createElement(YI,{content:"Unable to vote or edit participants when a final estimate is set",position:jI.BOTTOM},p)),Ye.createElement("div",{className:c.length?wxt:void 0},c.map((e=>Ye.createElement(hxt,{estimateOptions:n,isViewerVote:e.voter.id===l,key:e.id,onDelete:t?i:void 0,onSetValue:o,showCompactView:a,tooltipText:Y4e(e,t),vote:e})))),c.length?null:Ye.createElement("div",{className:u},Ye.createElement(H5,{className:Sxt,color:L5.PRIMARY,height:A5.SHORT,padding:M5.NONE,variant:z5.TEXT,onClick:r},"Add members to vote"),Ye.createElement("span",{className:Rxt},"on estimates")))},kxt=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(mA),n=(0,l3.v9)(yA),s=(0,l3.v9)(bA);return(0,Ye.useCallback)(((r,i,o)=>{const a=r.filter((e=>e.id!==i?.id)).every((e=>"pending"!==e.status));F&&null!==i?.value&&a&&setTimeout((()=>{e(aq({repository:n,issue_number:t,organization:s,onSuccess:o}))}),1e3)}),[e,t,s,n])};function Oxt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function Nxt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Oxt(i,s,r,o,a,"next",e)}function a(e){Oxt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const Pxt=e=>{let{activeEstimate:t,issueId:n,repoGhIds:s,updateExtensionEvents:r}=e;const i=SRe(yRe.PlanningPoker),o=(0,l3.v9)(Pa),a=(0,l3.v9)(NA),l=kxt(),{areVotesLoading:c,createVotes:d,refetch:u,hasOtherUnseenVotes:p,isViewerAVoter:m,viewerId:h,votes:E}=BMt({issueId:n}),g=P5e(),[f,_]=(0,Ye.useState)(!1),[v]=function(e){const t={...NMt,...e};return vK.D(PMt,t)}(),[I]=function(e){const t={...AMt,...e};return vK.D(DMt,t)}({update:(e,t)=>{let{data:n}=t;const s=n?.removeEstimationVote?.estimationVote;s&&e.evict({id:e.identify(s)})}}),b=n&&null==t&&E.length;WMt({existingVotes:E,issueId:n,skip:!b,viewerId:h});const y=(0,Ye.useCallback)((()=>_(!0)),[_]),S=(0,Ye.useCallback)(function(){var e=Nxt((function*(e){let{invitedUserIds:t,removedUserIds:s,usernamesToNotify:r}=e;if(t.length){const e=g(r);yield d({zenhubUserIds:t,issueIds:[n],message:e,workspaceId:o}),i("Voters requested",{Location:"Issue sidebar",Count:t.length,Notified:Boolean(e),Module:"Neutral"})}const a=E.filter((e=>s.includes(e.voter.id)));yield Promise.all(a.map((e=>I({variables:{input:{estimationVoteId:e.id}}})))),a.length&&i("Voters removed",{Location:"Voter modal",Count:a.length}),!t.length&&a.length&&p&&(yield u())}));return function(t){return e.apply(this,arguments)}}(),[n,g,d,I,p,u,i,E,o]),w=(0,Ye.useCallback)(function(){var e=Nxt((function*(e){try{yield Doe("Are you sure you want to remove this participant?","",{isWide:!0}),yield I({variables:{input:{estimationVoteId:e.id}}}),i("Voters removed",{Location:"Issue sidebar",Count:1})}catch(n){if(n instanceof Error?n.message:"Unknown error"){const n=e.voter.githubUser?e.voter.githubUser.login:"a user";t=`Unable to remove ${n} from voting. Please try again`,H.Z.createToast(W.Z.ERROR_PERMISSIONS,{...Cl.Z,showWarning:!0,text:t})}}var t;p&&(yield u())}));return function(t){return e.apply(this,arguments)}}(),[I,i,p,u]),R=(0,Ye.useCallback)(function(){var e=Nxt((function*(e,t){const{data:n}=yield v({variables:{input:{value:e,estimationVoteId:t.id}}});i("Vote set",{Value:e,Module:"Neutral","Number of voters":E.length}),p&&(yield u()),l(E,n?.setEstimationVote?.estimationVote,r)}));return function(t,n){return e.apply(this,arguments)}}(),[v,u,p,i,E,l,r]),T=(0,Ye.useCallback)((()=>_(!1)),[_]),C=(0,Ye.useMemo)((()=>[n]),[n]),k=s.join("-"),O=(0,Ye.useMemo)((()=>s),[k]);return null==t||E.length?Ye.createElement(Ye.Fragment,null,Ye.createElement(Cxt,{canEditPartipants:null==t,estimateOptions:a,isLoading:c,onAddClick:y,onDeleteVote:w,onSetVote:R,showCompactView:!m||null!=t,viewerId:h,votes:E}),f?Ye.createElement(T5e,{workspaceId:o,emptyText:"No participants found",filterDefaultText:"Filter participants",issueIds:C,onClose:T,onSubmit:S,repoIds:O,title:"Planning Poker participants",votes:E}):null):null};function Axt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Dxt=e=>{let{isNewIssuePage:t,selectItem:n}=e;const s=(0,l3.I0)(),r=(0,l3.v9)(NA),i=(0,Ye.useCallback)(function(){var e,r=(e=function*(e){t?s(MB({key:e})):n({filterKey:e})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Axt(i,s,r,o,a,"next",e)}function a(e){Axt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[s,t,n]);return r.length?Ye.createElement(oxt,{containerWidth:240,estimateOptions:r,onSetValue:i}):qte("No Estimates created")},Lxt=(e,t,n)=>Ye.createElement("span",{className:"zhc-sidebar-active-estimate__epic-badge","data-cy":"active-estimate-epic-badge"},Ye.createElement(sqe,{className:"zhc-sidebar-estimate-selector-badge",value:e,type:t,label:n}));class zxt extends Ye.PureComponent{render(){const{isCurrentIssueClosed:e,isCurrentIssueEpic:t,isNewIssuePage:n,selectItem:s}=this.props,{activeEstimate:r,totalEpicPoints:i}=this.props;if((0,_t.KN)(r)&&!t)return e?qte("No Estimate set"):Ye.createElement(Dxt,{isNewIssuePage:n,selectItem:s});const o=(0,_t.KN)(i)?0:i,a=t?Lxt(o,ZBe.EPIC_POINTS,"epic points"):null;let l;return l=(0,_t.KN)(r)?null:Lxt(r.value,e?ZBe.ESTIMATE_CLOSED:null),Ye.createElement("div",{className:"zhc-sidebar-active-estimate","data-cy":"active-estimate"},l,t&&null!=r?", ":"",a)}}zxt.propTypes={activeEstimate:SI().shape({value:SI().number}),isCurrentIssueClosed:SI().bool,isCurrentIssueEpic:SI().bool,isNewIssuePage:SI().bool,selectItem:SI().func,totalEpicPoints:SI().number},zxt.defaultProps={isCurrentIssueClosed:!1,isCurrentIssueEpic:!1,isNewIssuePage:!1,selectItem:()=>{}};const Mxt=zxt;function xxt(){return xxt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xxt.apply(this,arguments)}const Fxt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--graph",t].filter(Boolean).join(" "),"aria-label":"graph",role:"img",...n};return Ye.createElement("svg",xxt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("path",{fill:"currentColor",d:"M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"}))},Uxt="Story Points must be numbers",Bxt="Story Points must be positive numbers",qxt="Story Points can have up to two decimals",Hxt=e=>Ye.createElement("div",{className:"zhc-create-estimate-item__invalid-estimate"},Ye.createElement(sVe,null),Ye.createElement("span",{className:"zhc-create-estimate-item__invalid-text"},e)),Wxt=e=>{const t=parseFloat(e);if(!ee.is(Number,t)||Number.isNaN(t))return Hxt(Uxt);const n=(e=>{const t=e.match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,t[1]?t[1].length:0):0})(e),s=ee.fS0(ee.BBt(t),e);return Number.isFinite(t)&&s?t<0?Hxt(Bxt):n>2?Hxt(qxt):t:Hxt(Uxt)};class jxt extends Ye.PureComponent{constructor(e){super(e),this.onClickCreate=this.onClickCreate.bind(this)}handleSelectionListEnterKey(){this.onClickCreate()}onClickCreate(){const{onClick:e,value:t}=this.props,n=Wxt(t);return ee.is(Number,n)?e(n):null}render(){const{name:e,value:t}=this.props;return Ye.createElement("div",{className:"zhc-create-estimate-item",onClick:this.onClickCreate},Ye.createElement("div",{className:"zhc-create-estimate-item__content"},Ye.createElement(Fxt,null),Ye.createElement("span",{className:"zhc-create-estimate-item__name"},e)),Ye.createElement("div",{className:"zhc-create-estimate-item__value"},Wxt(t)))}}jxt.propTypes={name:SI().string,value:SI().string,onClick:SI().func},jxt.defaultProps={name:"Create a new Story Point",onClick:_t.ZT};const Gxt=Dte(jxt);function Kxt(){return Kxt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kxt.apply(this,arguments)}function Vxt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=ee.qCK(ee.fS0(t.filterKey),ee.BBt,ee.vgT("value"));return ee.kKJ(ee.sEJ(n,e))&&!(0,_t.KN)(t.filterKey)}class $xt extends Ye.PureComponent{constructor(e){super(e),this.state={allowCreateEstimate:!1,filteredEstimates:e.estimates},this.filterEstimate=this.filterEstimate.bind(this)}filterEstimate(e){const{estimates:t}=this.props,n=ee.hXT((t=>ee.r3W(ee.vgT("filterKey",e),ee.BBt(t.value))),t);this.setState({filteredEstimates:n,allowCreateEstimate:Vxt(n,e),searchValue:e.filterKey})}renderChildren(){const{selectItem:e,deselectItem:t,onRemove:n,createEstimate:s}=this.props,{filteredEstimates:r,allowCreateEstimate:i,searchValue:o}=this.state;if(ee.kKJ(r))return Bte;const a=ee.UID((s=>Ye.createElement(z4e,Kxt({key:s.filterKey,value:s.value,select:e,deselect:t,selected:s.selected,onRemove:n},s))),r),l=i?Ye.createElement(Gxt,{key:"createEstimateItem",name:"Create a new Story Point",isFilterable:!1,value:o,onClick:s}):null;return ee.Ce7(l,a)}render(){const{clearEstimate:e,toggleOpen:t,listTitle:n,isActive:s,filterableChildProp:r,filterDefaultText:i}=this.props;return Ye.createElement($te,{clearFilter:e,clearFilterName:"Clear Estimate",allowNegatedSearch:!1,emptyStateText:"No Estimates found",filterableChildProp:r,filterDefaultText:i,isActive:s,onFilterChange:this.filterEstimate,position:Ute,styleType:Ote.ITEMS_UNDERLINED,title:n,toggleOpen:t},this.renderChildren())}}$xt.propTypes={clearEstimate:SI().func,createEstimate:SI().func,deselectItem:SI().func,estimates:SI().arrayOf(SI().object),filterableChildProp:SI().string,filterDefaultText:SI().string,isActive:SI().bool,listTitle:SI().string,selectItem:SI().func,toggleOpen:SI().func,onRemove:SI().func},$xt.defaultProps={toggleOpen:_t.ZT,listTitle:"How complex is this Issue?",isActive:!1,filterableChildProp:"filterKey",filterDefaultText:"Filter estimates (or type to create one)",selectItem:_t.ZT,deselectItem:_t.ZT,onRemove:_t.ZT,clearEstimate:_t.ZT,createEstimate:_t.ZT};const Zxt=$xt,Yxt=Rme((e=>{let{activeEstimate:t,clearEstimate:n=_t.ZT,createEstimate:s=_t.ZT,deselectItem:r=_t.ZT,estimates:i,isActive:o=!1,isCurrentIssueClosed:a=!1,isCurrentIssueEpic:l=!1,isNewIssuePage:c=!1,isPullRequest:d,isReadOnly:u=!1,isViewerVotePending:p=!1,issueId:m,onRemove:h=_t.ZT,onShortcutsUsed:E,selectEstimateViaButton:g=_t.ZT,repoId:f,selectItem:_=_t.ZT,selectorName:v="Estimate",shortcuts:I,toggleOpen:b=_t.ZT,totalEpicPoints:y,updateExtensionEvents:S=_t.ZT}=e;qWe(I,E);const w=null!=i,R=a||d||!m||!w,T=p&&!t&&!d;return Ye.createElement("div",{className:"zhc-sidebar-selector zhc-sidebar-estimate-selector","data-cy":"estimate-selector"},Ye.createElement(uMt,{buttonName:v,onClick:e=>{e.preventDefault(),b(e)},disabled:u||!w}),!w&&qte("Loading..."),w&&T&&qte("No estimate yet"),w&&o?Ye.createElement(Zxt,{toggleOpen:b,isActive:o,estimates:i,selectItem:_,deselectItem:r,activeFilter:null!=t,onRemove:h,clearEstimate:n,createEstimate:s}):null,w&&!T?Ye.createElement(Mxt,{activeEstimate:t,isCurrentIssueEpic:l,totalEpicPoints:y,isCurrentIssueClosed:a,isNewIssuePage:c,selectItem:g}):null,R?null:Ye.createElement(Pxt,{activeEstimate:t,issueId:m,repoGhIds:[f],updateExtensionEvents:S}))})),Jxt="XZJZ5TMX1mtw_sUc8k2t",Xxt=Rme((e=>{let{activeLabels:t=[],deselectItem:n=_t.ZT,filterDefaultText:s="Filter Labels",filterableChildProp:r="filterKey",isActive:i=!1,isReadOnly:o=!1,labels:a,listTitle:l="Apply labels to this issue",onShortcutsUsed:c,selectItem:d=_t.ZT,selectorName:u="Labels",shortcuts:p,toggleOpen:m}=e;(0,Ye.useEffect)((()=>{if(p)return m8(p,c,null,!0),()=>h8(p)}),[]);const h=(0,_t.KN)(t)?qte("No Labels yet"):Ye.createElement("div",{className:(0,_I.default)(Jxt,"zhc-sidebar-selector__content"),"data-cy":"selector-content"},t.map((e=>Ye.createElement(uue,{color:`#${e.color}`,name:e.name,key:e.name})))),E=i?Ye.createElement($te,{allowNegatedSearch:!1,emptyStateText:"No Labels found",filterableChildProp:r,filterDefaultText:s,isActive:i,position:Ute,styleType:Ote.ITEMS_UNDERLINED,title:l,toggleOpen:m},ee.kKJ(a)?Bte:a.map((e=>Ye.createElement(BWe,{key:e.filterKey,filterKey:e.filterKey,select:d,deselect:n,name:e.name,color:e.color,negated:!1,selected:e.selected})))):null;return Ye.createElement("div",{className:"zhc-sidebar-selector zhc-sidebar-label-selector","data-cy":"label-selector"},Ye.createElement(uMt,{buttonName:u,onClick:m,disabled:o}),E,h)})),Qxt=e=>{let{activeMilestone:t}=e;const n=qte("No milestone");if((0,_t.KN)(t))return n;const s=ee.vgT("due_on",t),r=ee.vgT("closed_issues",t),i=ee.vgT("open_issues",t),o=ee.IHx(r,i);return Ye.createElement("div",{className:"zhc-sidebar-active-milestone","data-cy":"active-milestone"},Ye.createElement("div",{className:"zhc-sidebar-selector__content"},t.title,Ye.createElement("div",{className:"zhc-sidebar-active-milestone__due","data-cy":"active-milestone-due"},$p(s)),Ye.createElement("div",{style:{height:5}},Ye.createElement(mde,{total:o,completed:r,type:pde.ISSUES}))))};Qxt.propTypes={activeMilestone:SI().shape({title:SI().string})};const eFt=Qxt;function tFt(){return tFt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tFt.apply(this,arguments)}class nFt extends Ye.PureComponent{constructor(e){super(e),this.state={selectedTabId:"Open"},this.onSelectTab=this.onSelectTab.bind(this)}componentDidMount(){const{onShortcutsUsed:e,shortcuts:t}=this.props;ee.kKJ(t)||m8(t,e,null,!0)}componentWillUnmount(){const{shortcuts:e}=this.props;ee.kKJ(e)||h8(e)}onSelectTab(e){const{clickMilestonesTab:t}=this.props;this.setState({selectedTabId:e}),t(e)}getMilestoneItems(e){const{deselectItem:t,selectItem:n}=this.props;return ee.UID((e=>Ye.createElement(Y5e,tFt({key:e.filterKey,showRepos:!1,isHoverable:!0,select:n,deselect:t,dueDate:e.due_on},e))),e)}render(){const{activeMilestone:e,clearFilter:t,filterDefaultText:n,isActive:s,isReadOnly:r,listTitle:i,milestones:o,selectorName:a,toggleOpen:l}=this.props,{selectedTabId:c}=this.state,d="Open"===c?o.open:o.closed,u=!ee.kKJ(e),p=s?Ye.createElement(R$e,{banner:Ye.createElement(XWe,{isSmallBanner:!0}),activeFilter:u,clearFilter:t,clearFilterLabel:"Clear this Milestone",clickTab:this.onSelectTab,emptyText:"No milestones found",filterDefaultText:n,isActive:s,listTitle:i,position:Ute,selectedTabId:c,toggleOpen:l},ee.kKJ(d)?null:this.getMilestoneItems(d)):null;return Ye.createElement("div",{className:"zhc-sidebar-selector zhc-sidebar-milestone-selector","data-cy":"milestone-selector"},Ye.createElement(uMt,{buttonName:a,onClick:l,disabled:r}),p,Ye.createElement(eFt,{activeMilestone:e}))}}const sFt=SI().shape({closed:SI().arrayOf(SI().object),open:SI().arrayOf(SI().object)});nFt.defaultProps={selectorName:"Milestone",toggleOpen:_t.ZT,clearFilter:_t.ZT,clearFilterLabel:"Clear this Milestone",listTitle:"Set milestone",isActive:!1,filterDefaultText:"Filter milestones",selectItem:_t.ZT,deselectItem:_t.ZT,isReadOnly:!1,clickTab:_t.ZT},nFt.propTypes={activeMilestone:SI().shape({}),clearFilter:SI().func,clearFilterLabel:SI().string,clickMilestonesTab:SI().func,clickTab:SI().func,deselectItem:SI().func,filterDefaultText:SI().string,isActive:SI().bool,isReadOnly:SI().bool,listTitle:SI().string,milestones:sFt,selectItem:SI().func,selectorName:SI().string,shortcuts:SI().string,toggleOpen:SI().func,onShortcutsUsed:SI().func};const rFt=Rme(nFt),iFt=e=>{let{priorityId:t,priorities:n}=e;return t&&n&&n.find((e=>e._id===t||e.id===t))||null};function oFt(){return oFt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oFt.apply(this,arguments)}const aFt=Hte("No Pipelines yet");class lFt extends Ye.PureComponent{render(){const{toggleOpen:e,listTitle:t,isActive:n,selectItem:s,deselectItem:r,filterDefaultText:i,filterableChildProp:o,pipelines:a}=this.props;return Ye.createElement($te,{allowNegatedSearch:!1,emptyStateText:"No Pipelines found",filterableChildProp:o,filterDefaultText:i,isActive:n,position:Ute,styleType:Ote.ITEMS_UNDERLINED,title:t,toggleOpen:e},(0,_t.KN)(a)?[aFt]:(0,_t.rS)(((e,t)=>Ye.createElement(Wje,oFt({key:t,name:e.name,select:s,deselect:r,filterKey:e.name},e))),a))}}lFt.propTypes={deselectItem:SI().func,filterableChildProp:SI().string,filterDefaultText:SI().string,isActive:SI().bool,listTitle:SI().string,pipelines:SI().arrayOf(SI().object),selectItem:SI().func,toggleOpen:SI().func},lFt.defaultProps={toggleOpen:_t.ZT,listTitle:"",selectItem:_t.ZT,deselectItem:_t.ZT,filterDefaultText:"Filter Pipelines",filterableChildProp:"name"};const cFt=lFt,dFt=e=>{const{isIssueClosed:t}=(0,l3.v9)((e=>({ghIssueIsClosedOrMerged:TA(e)})));(0,Ye.useEffect)((()=>{const t=Array.from(document.querySelectorAll(".zhc-modal, .zhc-modal__body")).filter(ee.yRu),n=[window,...t];return setTimeout((()=>{n.forEach((t=>t.addEventListener("scroll",e)))}),100),()=>{n.forEach((t=>t.removeEventListener("scroll",e)))}}),[e]),(0,Ye.useEffect)((()=>{const t=Array.from(document.querySelectorAll(".react-portal-container, .zhc-modal__header__close, .zhc-modal")),n=n=>{t.includes(n.target)&&e()};return F&&t.forEach((e=>e?.addEventListener("click",n))),()=>{t.forEach((e=>e?.removeEventListener("click",n)))}}),[e]),(0,Ye.useEffect)((()=>{const t=document.querySelector('a[zh-id="zenhub"]');return t?.addEventListener("click",e),()=>{t?.removeEventListener("scroll",e)}}),[e]),(0,Ye.useEffect)((()=>{t&&e()}),[e,t]),(0,Ye.useEffect)((()=>{const t=t=>{27===t.keyCode&&e()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}),[e])},uFt="zhWorkflowsTooltipDismissedAt",pFt=e=>{let{anchorElement:t,transferredPipelineId:n,dismiss:s,issueMeta:r}=e;const{availablePipelines:i,currentWorkspace:o,defaultRepo:a,currentWorkspacePipelineId:l}=(0,l3.v9)((e=>({availablePipelines:MA(e),currentWorkspace:Na(e),defaultRepo:Ya(e),currentWorkspacePipelineId:_D(e)}))),c=i.find((e=>{let{_id:t}=e;return t===n})),d=c?.name,u=(0,Ye.useMemo)((()=>cI(uFt)),[]),p=!u||(m=u,(new Date).getTime()-new Date(m).getTime()>10368e6);var m;(0,Ye.useEffect)((()=>{p&&r6("Workflows",{Action:"Open",Feature:"Sidebar Prompt"})}),[p]),dFt(s);const h=`${(()=>{const e=ma.getWorkflowsPath({workspace:o});if(F){return`${ma.getRepoPath({organization:r?.organization||a.owner.login,repository:r?.repository||a.name})}#${e.substring(1)}`}return e})()}?selectedDestinationPipelineId=${n}&selectedSourcePipelineId=${l}`;return p?Ye.createElement(P4,{className:"zhc-onboarding-floating-tooltip zhc-workflows-pipeline-selector-prompt",anchorElement:t,steps:[{skipLabel:"Not now",skippable:!0,text:`Would you like us to move issues into ${d||"this pipeline"} automatically?`,nextLabel:"Yes, go to Workflows"}],onDismiss:()=>{const e=(new Date).toISOString();nI(uFt,e),r6("Workflows",{Action:"Close",Feature:"Sidebar Prompt"}),s()},onClickCTA:()=>{r6("Workflows",{Action:"Navigate to page",Feature:"Sidebar Prompt"}),s()},CTAUrl:h,placement:"left-start"}):null};class mFt extends Ye.PureComponent{render(){const{pipelines:e,activePipeline:t}=this.props;return!e||ee.xbD(e)?qte("No pipelines"):t?Ye.createElement("div",{className:"zhc-sidebar-active-pipeline zhc-sidebar-selector__content"},Ye.createElement("div",{className:"zhc-sidebar-active-pipeline__name","data-cy":"pipeline-name"},t.name)):qte("No active pipeline")}}mFt.propTypes={activePipeline:SI().shape({name:SI().string}),pipelines:SI().arrayOf(SI().shape({}))},mFt.defaultProps={activePipeline:null,pipelines:null};const hFt=mFt;function EFt(){return EFt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EFt.apply(this,arguments)}const gFt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--top-bottom",t].filter(Boolean).join(" "),"aria-label":"top-bottom",role:"img",...n};return Ye.createElement("svg",EFt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 13"},s),Ye.createElement("path",{d:"M3.997 2.513v8.605c0 .322-.298.582-.666.582-.369 0-.667-.26-.667-.582V2.522L1.14 4.052a.679.679 0 01-.943.003.639.639 0 01-.003-.919L3.338 0l3.135 3.147a.639.639 0 01-.003.92.679.679 0 01-.943-.004zm4 7.965V1.882c0-.322.298-.582.666-.582.369 0 .667.26.667.582v8.605l1.53-1.55a.679.679 0 01.943-.003.639.639 0 01.003.919L8.671 13 5.527 9.864a.639.639 0 01.003-.92.679.679 0 01.943.004z",fill:"currentColor"}))},fFt="Issue",_Ft=(e,t,n)=>`Send ${t===fFt?"":t} to ${e}${n?" of high priorities":""}`;function vFt(e){let{sendTo:t,workspace:n,issuePriority:s,tabIndex:r}=e;const i=(e=>({dropdownToolTip:e?`Set ${e.name.toLowerCase()} Issue position`:"Set Issue position",sendToTopAction:_Ft("top",fFt,e),sendToBottomAction:_Ft("bottom",fFt,e)}))(s),o=s?["wide"]:[];return Ye.createElement(NSe,{buttonVariant:z5.TEXT,buttonPadding:M5.NONE,buttonHeight:A5.SHORT,modifiers:o,primaryIcon:Ye.createElement(gFt,null),showHeaderX:!0,title:i.dropdownToolTip,tooltipContent:i.dropdownToolTip,tooltipProps:{position:jI.LEFT},tabIndex:r},Ye.createElement(D_e,{handler:()=>t(n,"TOP"),iconComponent:Ye.createElement(e9e,{className:"zhc-sidebar-active-pipeline__direction__dropdown-item"}),title:i.sendToTopAction}),Ye.createElement(D_e,{handler:()=>t(n,"BOTTOM"),iconComponent:Ye.createElement(n9e,{className:"zhc-sidebar-active-pipeline__direction__dropdown-item"}),title:i.sendToBottomAction}))}vFt.propTypes={tabIndex:SI().string.isRequired,workspace:SI().shape({}).isRequired,issuePriority:SI().shape({name:SI().string.isRequired,color:SI().string,description:SI().string}),sendTo:SI().func},vFt.defaultProps={issuePriority:null,sendTo:null};const IFt=vFt,bFt=e=>{let{modifiers:t}=e;return Ye.createElement("span",{className:`zhc-icon${[" ",...Nse(t)].join(" ")}`},Ye.createElement("svg",{viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Ye.createElement("desc",null,"A red pin shaped icon with a line through it"),Ye.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Ye.createElement("path",{d:"M4.56315909,10.0479962 L2.28149631,7.76633338 C1.98641991,7.47125698 2.03189923,6.98069756 2.37619281,6.74489658 C3.31935739,6.09893874 4.16376652,5.69359751 4.98799908,5.51031553 L2.37221436,2.8945308 C2.11186484,2.63418128 2.11186484,2.21207129 2.37221436,1.95172176 C2.63256389,1.69137223 3.05467388,1.69137223 3.31502341,1.95172176 L13.6859229,12.3226212 C13.9462724,12.5829707 13.9462724,13.0050807 13.6859229,13.2654303 C13.4255733,13.5257798 13.0034633,13.5257798 12.7431138,13.2654303 L10.2676761,10.7899925 C10.088925,11.6970734 9.63268893,12.5699607 8.91056716,13.3918191 C8.65638119,13.6811123 8.21065649,13.6954936 7.93835056,13.4231876 L5.50596813,10.9908052 L2.38807119,14.1087021 C2.12772166,14.3690517 1.70561167,14.3690517 1.44526215,14.1087021 C1.18491262,13.8483526 1.18491262,13.4262426 1.44526215,13.1658931 L4.56315909,10.0479962 Z M9.02798183,9.55029827 L6.15932321,6.68163965 C6.14919947,6.68501426 6.14021159,6.68676904 6.1279477,6.68916342 C6.070882,6.70326493 6.070882,6.70326493 6.05158813,6.70632202 C6.00410965,6.71327651 6.00410965,6.71327651 5.96558482,6.71754788 C5.91144018,6.72354287 5.82349393,6.73239809 5.69984409,6.74433229 C5.1208857,6.80021113 4.51109569,7.0135866 3.8137906,7.4130096 L8.34750776,11.9467267 C8.7788659,11.3077238 8.99914092,10.6606931 9.01885148,10.00697 C9.02319278,9.86298574 9.02623825,9.71075167 9.02798183,9.55029827 Z M9.38705054,4.07546361 C9.40159094,4.26911008 9.33097405,4.45947167 9.19365985,4.59678586 L8.51963934,5.27080638 C8.25928981,5.5311559 7.83717983,5.5311559 7.5768303,5.27080638 C7.31648077,5.01045685 7.31648077,4.58834686 7.5768303,4.32799733 L8.04298723,3.8618404 C8.02545523,2.75301488 8.38498137,1.81444284 9.31911393,0.731278121 C9.57221084,0.437801952 10.0213419,0.421234269 10.2953732,0.69526557 L15.0094184,5.40931078 C15.2911762,5.69106861 15.2644746,6.15544082 14.9522783,6.40304608 C13.6951681,7.40006944 12.882196,7.74309072 11.8275423,7.67666209 L11.3765187,8.1276857 C11.1161691,8.38803523 10.6940592,8.38803523 10.4337096,8.1276857 C10.1733601,7.86733618 10.1733601,7.44522619 10.4337096,7.18487666 L11.1077301,6.51085615 C11.2546254,6.3639609 11.461602,6.29393883 11.6675099,6.32147761 C12.3312059,6.41024244 12.7861576,6.31157023 13.5220115,5.807522 L9.88815425,2.17366475 C9.45650921,2.81987315 9.3345701,3.37653873 9.38705054,4.07546361 Z",fill:"currentColor"}))))};bFt.propTypes={modifiers:SI().arrayOf(SI().string)},bFt.defaultProps={modifiers:[]};const yFt=bFt,SFt=e=>e?"Unpin high priority status":"Pin Issue as high priority in pipeline";class wFt extends Ye.PureComponent{render(){const{applyPriority:e,issuePriority:t,isIssueClosed:n,priorities:s,triggerHover:r,tabIndex:i}=this.props,o=(0,_I.default)("zhc-priority-icon",{"zhc-priority-icon--hovered":r,"zhc-priority-icon--closed":n,"zhc-priority-icon--has-priority":Boolean(t)});return Ye.createElement(H5,{variant:z5.TEXT,width:D5.NARROW,padding:M5.NONE,height:A5.SHORT,onClick:e,className:o,"data-cy":"priority-icon",tabIndex:i},Ye.createElement(ZI,{removeTooltipOnClick:!0,position:jI.LEFT,content:SFt(t)},Ye.createElement("span",{className:"zhc-priority-icon__unpin-icon"},Ye.createElement(yFt,null)),Ye.createElement("span",{className:"zhc-priority-icon__pin-icon"},Ye.createElement($St,null))))}}const RFt={name:SI().string.isRequired,color:SI().string,description:SI().string};wFt.propTypes={applyPriority:SI().func.isRequired,isIssueClosed:SI().bool.isRequired,tabIndex:SI().string.isRequired,issuePriority:SI().shape(RFt),priorities:SI().arrayOf(SI().shape(RFt)),triggerHover:SI().bool},wFt.defaultProps={issuePriority:null,priorities:[],triggerHover:!1};const TFt=wFt,CFt={name:SI().string.isRequired,color:SI().string,description:SI().string};const kFt=e=>{let{applyPriority:t,isReadOnly:n,issuePriority:s,onMouseEnter:r,onMouseLeave:i}=e;const o=(0,_I.default)("zhc-sidebar-pipeline-selector__high-priority",{"zhc-sidebar-pipeline-selector__high-priority--disabled":n});return Ye.createElement("button",{onClick:t,"data-cy":"high-priority-label",className:o,onMouseEnter:r,onMouseLeave:i,type:"button"},s.name)};kFt.propTypes={applyPriority:SI().func.isRequired,isReadOnly:SI().bool.isRequired,issuePriority:SI().shape({name:SI().string.isRequired}).isRequired,onMouseEnter:SI().func.isRequired,onMouseLeave:SI().func.isRequired};class OFt extends Ye.PureComponent{constructor(e){super(e),this.handleClick=e=>{const{onClick:t,clearWorkflowsPrompt:n}=this.props;n(),t(e)},this.onMouseEnterLabel=()=>{this.setState({priorityLabelIsHovered:!0})},this.onMouseLeaveLabel=()=>{this.setState({priorityLabelIsHovered:!1})},this.onApplyPriority=()=>{const{applyPriority:e}=this.props;e(),this.onMouseLeaveLabel()},this.state={priorityLabelIsHovered:!1,buttonElement:null}}render(){const{isIssueClosed:e,isReadOnly:t,issuePriority:n,priorities:s,sendTo:r,tabIndex:i,workspacePipelineItem:o,hideSetPriority:a,transferredPipelineId:l,clearWorkflowsPrompt:c,issueMeta:d}=this.props,{priorityLabelIsHovered:u}=this.state,{pipelines:p,workspace:m}=o,h=(0,_I.default)("zhc-sidebar-pipeline-selector__button",{"zhc-sidebar-pipeline-selector__button--extension":F,"zhc-sidebar-pipeline-selector__button--disabled":t}),E=(0,_I.default)("zhc-sidebar-active-pipeline__direction",{"zhc-sidebar-active-pipeline__direction--priority":n}),g=m.displayName,f=function(e,t){const{pipelines:n}=e;return ee.kKJ(n)?null:t?eO:ee.sEJ(ee.OH4("selected",!0),n)}(o,e),_=!ee.kKJ(f)&&r&&!t;let v;return v=F?Ye.createElement(Ye.Fragment,null,Ye.createElement(_te,{className:"zhc-svg-icon--extension"}),Ye.createElement(Gle,null)):Ye.createElement(_te,null),Ye.createElement(Ye.Fragment,null,Ye.createElement("button",{className:h,"data-cy":"pipeline-selector",onClick:t?null:this.handleClick,type:"button",tabIndex:i,ref:e=>this.setState({buttonElement:e})},Ye.createElement("div",{className:"zhc-sidebar-pipeline-selector__button__header"},Ye.createElement(II,{name:g}),Ye.createElement("span",{className:"zhc-sidebar-pipeline-selector__button__header__name","data-cy":"workspace-name"},g),v),Ye.createElement(hFt,{activePipeline:f,pipelines:p})),Ye.createElement("div",{className:E},a?null:Ye.createElement(TFt,{applyPriority:this.onApplyPriority,triggerHover:u,isIssueClosed:e,priorities:s,issuePriority:n,tabIndex:i}),!e&&_?Ye.createElement(IFt,{issuePriority:n,workspace:m,sendTo:r,tabIndex:i}):null),n&&Ye.createElement(kFt,{applyPriority:this.onApplyPriority,isReadOnly:t,issuePriority:n,onMouseEnter:this.onMouseEnterLabel,onMouseLeave:this.onMouseLeaveLabel}),!(0,_t.KN)(l)&&Ye.createElement(pFt,{anchorElement:this.state.buttonElement,dismiss:c,transferredPipelineId:l,issueMeta:d}))}}OFt.propTypes={applyPriority:SI().func.isRequired,clearWorkflowsPrompt:SI().func.isRequired,isIssueClosed:SI().bool.isRequired,tabIndex:SI().string.isRequired,workspacePipelineItem:SI().shape({pipelines:SI().arrayOf(SI().shape({})).isRequired,workspace:SI().shape({displayName:SI().string}).isRequired}).isRequired,onClick:SI().func.isRequired,hideSetPriority:SI().bool,isReadOnly:SI().bool,issueMeta:SI().shape({organization:SI().string.isRequired,repository:SI().string.isRequired}),issuePriority:SI().shape(CFt),priorities:SI().arrayOf(SI().shape(CFt)),sendTo:SI().func,transferredPipelineId:SI().string},OFt.defaultProps={hideSetPriority:!1,isReadOnly:!1,issueMeta:null,issuePriority:{},priorities:[],sendTo:null,transferredPipelineId:null};const NFt=OFt,PFt=e=>{let{dismissPrioritiesInfoAlert:t,dismissWorkspacesInfoAlert:n,shouldHideSetPriority:s,isPrioritiesInfoAlertDismissed:r=!1,isWorkspaceCtaClicked:i,isWorkspaceInfoAlertDismissed:o=!1,onClickInfoAlertCTA:a,pipelinesByWorkspace:l}=e;const c=i||l&&l.length>1&&!o;return c?Ye.createElement(xSe,{isDismissed:!c,linkHandler:a,linkText:"Show this issue\u2019s workspaces",onClose:n,verticalLayout:!0},Ye.createElement("span",{className:"zhu-blankspace-right zhu-text-important"},"Manage this issue\u2019s pipeline per workspace."),Ye.createElement("span",{className:"zhu-blankspace-right"},"Change its pipeline to show progress in other workspaces.")):s?null:Ye.createElement(xSe,{isDismissed:r,onClose:t,verticalLayout:!0},Ye.createElement("span",{className:"zhu-blankspace-right zhu-text-important"},"Click the pin icon to assign high priority status."),Ye.createElement("span",{className:"zhu-blankspace-right"},"Once pinned, a high priority badge is applied in the issue and it\u2019s placed at the top of the pipeline in the board."))};function AFt(){return AFt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},AFt.apply(this,arguments)}const DFt=e=>{let{applyPriority:t,containerRef:n,currentPipelineIds:s,dismissPrioritiesInfoAlert:r,dismissWorkspacesInfoAlert:i,isCollapsed:o,isIssueClosed:a,isIssueInFirstPipelineOfCurrentWorkspace:l,isIssuePullRequest:c=!1,isPrioritiesInfoAlertDismissed:d=!1,isReadOnly:u=!1,isWorkspaceInfoAlertDismissed:p=!1,issueMeta:m=null,pipelinesByWorkspace:h=null,selectItem:E,sendTo:g,setIsCollapsed:f,shortcuts:_}=e;const[v,I]=(0,Ye.useState)(null),[b,y]=(0,Ye.useState)(!1),[S,w]=(0,Ye.useState)(null),R=e=>{I((t=>t===e?null:e))};qWe(_,(()=>{const e=h?.[0];e&&R(e.workspace._id)}));const T=(e,t)=>{e.preventDefault(),e.stopPropagation(),R(t)},C=(e,t)=>{R(null),E(e,t)},k=e=>u||c||a&&!e,O=e=>{let{priorityId:n,priorities:s=[],workspace:r}=e;const i=s?.[0],o=i._id||i.id;t({workspaceId:r._id,priority_id:n?null:o})},N=()=>w(null),P=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{pipelines:r,workspace:i,priorityId:o,priorities:c}=e,d=iFt({priorityId:o,priorities:c}),p={"--priority-color":d&&!a?d.color:"var(--zh-theme-color-text-tertiary)"},h=e=>{const t=!s.has(e.filterKey),r="closed-pipeline"!==e.filterKey;n&&t&&r&&!l?w({workspace:i,item:e}):N(),C(i,e)},E=v?Ye.createElement(cFt,{deselectItem:h,isActive:v===i._id,listTitle:"Change Pipeline",pipelines:r,selectItem:h,toggleOpen:()=>R(i._id)}):null,f=k(d),_=t?"-1":"0",I=null!=S&&S?.workspace._id===i._id?S.item.filterKey:null;return Ye.createElement("div",{style:p,key:i._id,className:"zhc-sidebar-pipeline-selector__workspace"},Ye.createElement(NFt,{isIssueClosed:a,isReadOnly:u,onClick:e=>T(e,i._id),sendTo:g,applyPriority:()=>O(e),workspacePipelineItem:e,issuePriority:d,priorities:c,priorityId:o,hideSetPriority:f,tabIndex:_,activeWorkflowsPrompt:S,transferredPipelineId:I,clearWorkflowsPrompt:N,issueMeta:m}),E)},[A,...D]=h||[];return Ye.createElement(Ye.Fragment,null,A&&P(A,!1,!1),o?null:D.map((e=>P(e,o,!0))),A?Ye.createElement(PFt,{dismissPrioritiesInfoAlert:r,dismissWorkspacesInfoAlert:i,shouldHideSetPriority:k(iFt(A)),onClickInfoAlertCTA:()=>{f(!1),y(!0),n.current.scrollIntoView({behavior:"smooth",block:"center"})},isPrioritiesInfoAlertDismissed:d,isWorkspaceInfoAlertDismissed:p,isWorkspaceCtaClicked:b,pipelinesByWorkspace:h}):null)};const LFt=Rme((function(e){let{pipelinesByWorkspace:t=null,...n}=e;const[s,r]=(0,Ye.useState)(!0),i=(0,Ye.useRef)(null),o=t?.length??0,a=(0,_I.default)({"zhc-sidebar-selector":!0,"zhc-sidebar-pipeline-selector":!0,"zhc-sidebar-pipeline-selector--extension":F});return Ye.createElement("div",{className:a,ref:i},Ye.createElement("div",{className:"zhc-sidebar-pipeline-selector__label"},"Pipelines",o>1?Ye.createElement(H5,{color:L5.PRIMARY,height:A5.FILL,onClick:()=>r(!s),padding:M5.NONE,variant:z5.TEXT},s?`Show ${o-1} more`:"Show less"):null),t?Ye.createElement(DFt,AFt({},n,{pipelinesByWorkspace:t,isCollapsed:s,setIsCollapsed:r,containerRef:i})):qte(Ye.createElement("div",{className:"zhc-sidebar-pipeline-selector--loading"},Ye.createElement(mIe,{charCount:25}),Ye.createElement("br",null),Ye.createElement(mIe,{charCount:15}))))}));function zFt(){return zFt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zFt.apply(this,arguments)}class MFt extends Ye.PureComponent{constructor(e){super(e),this.state={selectedTabId:"Open"},this.onSelectTab=this.onSelectTab.bind(this),this.renderActiveItems=this.renderActiveItems.bind(this),this.renderListItems=this.renderListItems.bind(this),this.toggleOpen=this.toggleOpen.bind(this),this.onClickSelectorButton=this.onClickSelectorButton.bind(this)}componentDidMount(){const{onShortcutsUsed:e,shortcuts:t}=this.props;ee.kKJ(t)||m8(t,e,null,!0)}UNSAFE_componentWillReceiveProps(e){const{isActive:t}=this.props;e.isActive!==t&&(e.isActive?document.addEventListener("mousedown",this.toggleOpen):document.removeEventListener("mousedown",this.toggleOpen))}componentWillUnmount(){const{shortcuts:e}=this.props;ee.kKJ(e)||h8(e)}onClickSelectorButton(e){e.preventDefault();const{toggleOpen:t}=this.props;t()}onSelectTab(e){this.setState({selectedTabId:e})}toggleOpen(e){const{toggleOpen:t}=this.props,n=vte.findDOMNode(this);n===e.target||n.contains(e.target)||t()}renderActiveItems(e){const{selectedReleases:t}=this.props;if(!e)return qte("Loading...");if(ee.xbD(t))return qte("Not inside a release");const n=ee.UID((e=>Ye.createElement("div",{className:"zhc-sidebar-selector__content","data-cy":"selector-content",key:e.release_id},e.title)),t);return Ye.createElement("div",null,n)}renderListItems(e){const{deselectItem:t,selectItem:n}=this.props,{selectedTabId:s}=this.state,r="Open"===s?e.open:e.closed;return ee.kKJ(r)?null:ee.UID((e=>Ye.createElement(A$e,zFt({},e,{key:e.release_id,filterKey:e.release_id,select:n,deselect:t}))),r)}render(){const{filterDefaultText:e,isActive:t,isReadOnly:n,listTitle:s,releases:r,selectorName:i,selectedReleases:o,toggleOpen:a}=this.props,{selectedTabId:l}=this.state,c=!ee.kKJ(o),d=t?Ye.createElement(R$e,{clickTab:this.onSelectTab,emptyText:"No Releases found",filterDefaultText:e,isActive:t,listTitle:s,position:Ute,selectedTabId:l,toggleOpen:a},ee.kKJ(r)?null:this.renderListItems(r)):null;return Ye.createElement("div",{className:"zhc-sidebar-selector zhc-sidebar-release-selector","data-cy":"release-selector"},Ye.createElement(uMt,{buttonName:i,onClick:this.onClickSelectorButton,disabled:n||!c}),d,this.renderActiveItems(c))}}MFt.propTypes={deselectItem:SI().func,filterDefaultText:SI().string,isActive:SI().bool,isReadOnly:SI().bool,listTitle:SI().string,releases:SI().shape({}),selectedReleases:SI().arrayOf(SI().shape({})),selectItem:SI().func,selectorName:SI().string,shortcuts:SI().string,toggleOpen:SI().func,onShortcutsUsed:SI().func},MFt.defaultProps={deselectItem:_t.ZT,filterDefaultText:"Filter Releases",isActive:!1,isReadOnly:!1,listTitle:"Add this Issue to a Release",selectedReleases:null,selectItem:_t.ZT,selectorName:"Releases",toggleOpen:_t.ZT};const xFt=MFt;qte("No reviews requested"),bb.Ps`
  query getReviewDataForPR($repositoryGhId: Int!, $issueNumber: Int!) {
    issueByInfo(repositoryGhId: $repositoryGhId, issueNumber: $issueNumber) {
      id
      pullRequestReviews(first: 100) {
        nodes {
          id
          state
          submittedAt
          user {
            id
            login
            avatarUrl
          }
        }
      }
      reviewRequests(first: 100) {
        nodes {
          id
          createdAt
          reviewer {
            ... on User {
              id
              login
              avatarUrl
            }
          }
        }
      }
    }
  }
`;const FFt=e=>{let{url:t}=e;return Ye.createElement("div",null,Ye.createElement("a",{href:t,"data-cy":"view-issue",target:"_blank",rel:"noopener noreferrer",className:"zhc-view-issue-link"},"View this issue on GitHub"))};FFt.propTypes={url:SI().string},FFt.defaultProps={url:""};const{shortcuts:UFt,shared:BFt,issue:qFt}=LG,HFt=YA(El),WFt=qFt.toggleDropdown.bind(void 0,El),jFt=PI?E8.ISSUE_PAGE_RELEASE.extensionShortcuts:E8.ISSUE_PAGE_RELEASE.shortcuts,GFt=UFt.trackShortcutsUsed(E8.ISSUE_PAGE_RELEASE.name),KFt=(0,pa.P1)(pA,uA,HA,((e,t,n)=>({...e,repo_id:t,releases:n}))),VFt=(0,pa.P1)([Tw,HA,pD,mD,$w],Jc);function $Ft(e){const t={issue_number:e.issue.number,repo_id:e.issue.repo_id};return{workspaceId:e.issueWorkspace._id,organization:e.organization,repository:e.repository,repo_id:e.repoId,selectedIssues:[t],addReleases:e.addReleases,removeReleases:e.removeReleases,releases:e.releases,selectedReleases:e.selectedReleases,issue_number:t.issue_number}}const ZFt=l3.$j((function(e){return{issueWorkspace:fA(e),repoId:uA(e),organization:bA(e),repository:yA(e),isActive:HFt(e),releases:VFt(e),hasReleaseUpdatePending:Vw(e),isReadOnly:!wA(e),addReleases:pD(e),removeReleases:mD(e),selectedReleases:HA(e),issue:KFt(e),shortcuts:jFt}}),(function(e){return{selectItem(t){e(qFt.sidebarAddRelease({key:t.filterKey}))},deselectItem(t){e(qFt.sidebarRemoveRelease(t.filterKey))},dispatch:e}}),(function(e,t,n){const{dispatch:s}=t;function r(){if(!function(e){const{isActive:t,releases:n}=e;return!ee.kKJ(n)&&t}(e))return;const t=ee.qCK(ee.yGi("customFetch",n.customFetch),$Ft)(e);s(qFt.sidebarClearChanges(t)),n.onApply?n.onApply(t):s(qFt.applyReleases(t))}function i(){!function(e){const{hasReleaseUpdatePending:t,releases:n}=e;return!t&&ee.kKJ(n)}(e)?r():s(BFt.getWorkspacesReleases(e.issueWorkspace._id))}const o=ee.TSy(t,{toggleOpen(){i(),s(WFt())},onShortcutsUsed(){i(),s(WFt()),s(GFt)}});return ee.Jnq([e,n,o])}))(xFt);function YFt(e){return t=>{Dne(t)||(t.stopPropagation(),t.preventDefault(),window.location.href=e)}}const JFt=e=>{let{createWorkspacePath:t}=e;return Ye.createElement("div",{className:"zhc-sidebar-selector"},Ye.createElement(uMt,{buttonName:"Pipeline",disabled:!0}),Ye.createElement("div",null,Ye.createElement("span",null,"No Workspace yet -\xa0",Ye.createElement("a",{onClick:YFt(t),href:t},"Create One"))))};JFt.propTypes={createWorkspacePath:SI().string.isRequired};const XFt=JFt;function QFt(){return QFt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},QFt.apply(this,arguments)}function eUt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{issue:tUt,onboarding:nUt,shortcuts:sUt}=LG,rUt=sUt.trackShortcutsUsed(E8.ISSUE_PAGE_PIPELINE.name),iUt=(e,t,n)=>{if(t===eO)return eO;const s=ee.sEJ(ee.uF6(["workspace","_id"],e),n);return(s||s.currentPipelineId)&&ee.sEJ(ee.OH4("_id",t),s.pipelines)||null};var oUt;!function(e){e.TOP="top",e.BOTTOM="bottom"}(oUt||(oUt={}));const aUt=ee.WAo(((e,t)=>ee.HCG([ee.Ck5((t=>t.workspace._id===e)),ee.zU3((e=>e.workspace.displayName))])(t))),lUt=(0,pa.P1)(PA,fA,TA,((e,t,n)=>{if(!e)return null;return((e,t)=>e.map((e=>{const n=t?Yk:e.currentPipelineId,s=aN(e.pipelines,n);return{...e,pipelines:s}})))(aUt(t._id,e),n)})),cUt=e=>({repoId:uA(e),organization:bA(e),repository:yA(e),pipelinesByWorkspace:lUt(e),currentPipelineIds:zA(e),isIssueInFirstPipelineOfCurrentWorkspace:vD(e),ghIssueNumber:mA(e),isIssueClosed:TA(e),isIssuePullRequest:kA(e),isReadOnly:!wA(e),shortcuts:E8.ISSUE_PAGE_PIPELINE.shortcuts,isWorkspaceInfoAlertDismissed:ow(e),isPrioritiesInfoAlertDismissed:aw(e),id:vA(e)}),dUt=e=>{let{onTransferSuccess:t=(()=>({})),updateExtensionEvents:n,issueMeta:s}=e;const r=(0,l3.v9)(cUt),i=(0,l3.I0)(),{isIssueClosed:o,pipelinesByWorkspace:a,organization:l,repository:c,ghIssueNumber:d,repoId:u}=r,p={dismissWorkspacesInfoAlert:()=>{const e={key:"workspaces_issue_pipeline_selector_alert_dismissed",value:!0};i(nUt.setOnboardingValue(e))},dismissPrioritiesInfoAlert:()=>{const e={key:"priorities_issue_pipeline_selector_alert_dismissed",value:!0};i(nUt.setOnboardingValue(e))},onShortcutsUsed:()=>{i(rUt)}},m=e=>{if(o)return Yk;const t=ee.sEJ(ee.uF6(["workspace","_id"],e),a);return t?t.currentPipelineId:null},h=function(){var e,n=(e=function*(e,n,s){if(n===Yk){const e=(e=>({issue_number:e.ghIssueNumber,repo_id:e.repoId,organization:e.organization,repository:e.repository,currentState:"open"}))(r);return void(e=>{i(tUt.toggleIssueState(e))})(e)}const o=m(e._id);if(o!==n){const{ghIssueNumber:t,repoId:s,id:i}=r,l=n!==Yk?tN(e._id,[i]):Promise.resolve([]),c=X7e(t,s,n||""),[d,u]=yield Promise.allSettled([l,c]),p=d.value?.filter((e=>e.pipelineIssue?.pipeline.id!==n)).length>0;if(p&&o!==eO){const t=iUt(e._id,n,a);nN(d.value,t?.name)}gb(u.value)}const l=((e,t,n,s,r,i)=>{const{pipelinesByWorkspace:o}=e,a=t._id;return{board_id:a,isIssueClosed:e.isIssueClosed,issues:[{issue_number:e.ghIssueNumber,repo_id:e.repoId}],position:r||oUt.BOTTOM,target_pipeline_id:s,issue_number:e.ghIssueNumber,organization:e.organization,repo_id:e.repoId,repository:e.repository,workspace:t,onTransferSuccess:i,fromPipeline:iUt(a,n,o),toPipeline:iUt(a,s,o)}})(r,e,o,n,s,t);(e=>{i(tUt.sidebarApplyPipeline(e))})(l)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){eUt(i,s,r,o,a,"next",e)}function a(e){eUt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,t,s){return n.apply(this,arguments)}}();return(0,Ye.useEffect)((()=>{BG(i,["workspaces_issue_pipeline_selector_alert_dismissed","priorities_issue_pipeline_selector_alert_dismissed"])}),[]),Ye.createElement(LFt,QFt({},r,p,{applyPriority:e=>{(e=>{const t={...e,onSuccess:()=>{n?n():i(tUt.loadZhEvents(e))}};i(tUt.sidebarApplyPriority(t))})({...e,organization:l,repository:c,repo_id:u,issue_number:d})},selectItem:(e,t)=>{const n=m(e._id);t.filterKey!==n&&h(e,t.filterKey,oUt.TOP)},sendTo:(e,t)=>{const n=m(e._id);let s=null;"TOP"===t?s=oUt.TOP:"BOTTOM"===t&&(s=oUt.BOTTOM),h(e,n,s)},issueMeta:s}))},uUt=e=>Ye.createElement(F4.e,{client:ly()},Ye.createElement(dUt,e)),pUt={},mUt=bb.Ps`
  mutation addIssueToSprint($issueId: ID!, $sprintIds: [ID!]!) {
    addIssuesToSprints(input: { issueIds: [$issueId], sprintIds: $sprintIds }) {
      sprintIssues {
        issue {
          id
          sprints {
            nodes {
              ...SprintSelectorSprint
            }
          }
        }
      }
    }
  }
  ${RD}
`;const hUt={},EUt=bb.Ps`
  mutation removeIssueFromSprints($issueId: ID!, $sprintIds: [ID!]!) {
    removeIssuesFromSprints(input: { issueIds: [$issueId], sprintIds: $sprintIds }) {
      sprints {
        ...SprintSelectorSprint
      }
    }
  }
  ${RD}
`;function gUt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const fUt=e=>{let{onSuccess:t}=e;const{data:n}=cre(),[s,r]=(0,Ye.useState)([]),i=(0,l3.v9)(uA),o=(0,l3.v9)(vA),a=(0,l3.v9)(mA),l=(0,l3.v9)(Pa),c=(0,l3.v9)(Ua),d=(0,l3.v9)(iD),u=(0,l3.v9)(oD),p=!o,{data:m}=function(e){const t={...TD,...e};return cy.a(CD,t)}({variables:{repositoryGhId:i,issueNumber:a},skip:!i||!a||a<0,fetchPolicy:"cache-and-network"}),[h]=function(e){const t={...pUt,...e};return vK.D(mUt,t)}(),[E]=function(e){const t={...hUt,...e};return vK.D(EUt,t)}({update(e,t){let{data:n}=t;const s=(n?.removeIssuesFromSprints?.sprints||[]).reduce(((t,n)=>(t[e.identify(n)]=!0,t)),{});e.modify({id:e.identify(m?.issueByInfo||{}),fields:{sprints(e){const t=e.nodes.filter((e=>!s[e.__ref]));return{...e,nodes:t}}}})}}),g=(0,l3.I0)(),f=()=>{setTimeout((()=>{F?t?.():g(rq({repo_id:i,issue_number:a}))}),500)};(0,Ye.useEffect)((()=>{i&&!p&&d&&f()}),[]);const _=function(){var e,t=(e=function*(e,t){let{changedToSelected:n,changedToUnselected:s}=e;const i=n?.length,a=s?.length;t&&r(t),i&&(p?n.forEach((e=>{g(RB({key:e,location:"New Issue Sidebar"}))})):(yield h({variables:{sprintIds:n,issueId:o}}),r6("Set Sprint",{Location:"Issue sidebar"}),f())),a&&(p?s.forEach((e=>{g(LB(e))})):(yield E({variables:{sprintIds:s,issueId:o}}),f()))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){gUt(i,s,r,o,a,"next",e)}function a(e){gUt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();let v=(m?.issueByInfo?.sprints?.nodes||[]).filter((e=>e.workspace.id===l));if(p&&(Boolean(d)||Boolean(u))){v=Object.keys(d).map((e=>s.find((t=>e===t.id))))}return Ye.createElement(Xle,{activeSprints:v,isReadOnly:c,onApplyChanges:_,hasSprintConfig:Boolean(n?.workspace?.sprintConfig)})},{shortcuts:_Ut,shared:vUt,issue:IUt}=LG,{getIssuePath:bUt}=i,yUt=YA(al),SUt=IUt.toggleDropdown.bind(void 0,al),wUt=_Ut.trackShortcutsUsed(E8.ISSUE_PAGE_EPIC.name),RUt=(0,pa.P1)(jA,ee.R3I(ee.__,[]));function TUt(e,t){const n=ee.vMG(ee.vgT("repo_id"),t),s={...e};return Object.entries(n).forEach((t=>{let[n,r]=t;e[n]||(s[n]=r)})),s}const CUt=(0,pa.P1)([Iw,RUt,sD,rD,qA,Uw],(function(e,t,n,s,r,i){if(ee.kKJ(e)||ee.xbD(ee.XPQ(e)))return null;const o=qO(TUt(e,r),t,n,s,i);if(ee.kKJ(o)||ee.kKJ(t))return o;const a=ee.YMb(t),l=ee.pe1(bUt,a),c=ee.HkC(ee.CyQ(l),ee.wEe(Zt,(function(e){const t=ee.UID(bUt,a.parent_epics);return ee.r3W(bUt(e),t)})));return ee.hXT(c,o)}));const kUt=l3.$j((function(e){return{issueWorkspace:fA(e),repoId:uA(e),organization:bA(e),repository:yA(e),issueNumber:mA(e),title:hA(e),isActive:yUt(e),activeEpics:qA(e),epics:CUt(e),ghEpicsByRepo:Iw(e),hasEpicUpdatePending:Bw(e),zhIssue:jA(e),addEpics:sD(e),removeEpics:rD(e),isReadOnly:!wA(e),isCurrentIssueEpic:UA(e),isPullRequest:kA(e),shortcuts:E8.ISSUE_PAGE_EPIC.shortcuts,workspace:Na(e)}}),(function(e){return{selectItem(t){e(IUt.sidebarAddEpic({key:t.filterKey}))},deselectItem(t){e(IUt.sidebarRemoveEpic(t.filterKey))},trackShortcutUsed(){e(wUt)},dispatch:e}}),(function(e,t,n){const{dispatch:s}=t;function r(){const{repoId:t,workspace:r}=e;if(function(e){const{epics:t,hasEpicUpdatePending:n}=e;return!n&&ee.kKJ(t)}(e))s(vUt.getAllConnectedRepoEpics({repoId:t,workspaceId:r._id}));else if(function(e){const{isActive:t,epics:n}=e;return!ee.kKJ(n)&&t}(e)){const t=function(e){const t=TUt(e.ghEpicsByRepo,e.activeEpics);return{workspaceId:e.issueWorkspace._id,epics:e.epics,epicsByRepo:t,selectedIssues:[e.zhIssue],addEpics:e.addEpics,removeEpics:e.removeEpics,repo:e.repo,repo_id:e.repoId,organization:e.organization,repository:e.repository,issue_number:e.issueNumber}}(e);s(IUt.sidebarApplyEpics(t)),s(IUt.sidebarClearChanges(t)),setTimeout((()=>{n.onSuccess?.()}),500)}s(SUt())}const i=ee.TSy(t,{toggleOpen:r,convertToEpic:function(){const t=function(e){return{repo_id:e.repoId,organization:e.organization,repository:e.repository,issue_number:e.issueNumber,issues:[],workspace:e.workspace}}(e);s(IUt.convertIssueToEpic(t)),s(SUt())},convertToIssue:function(){const t=function(e){return{repo_id:e.repoId,issue_number:e.issueNumber,issueTitle:e.title}}(e);s(IUt.convertEpicToIssue(t)),s(SUt())},onShortcutsUsed:function(){t.trackShortcutUsed(),r()}});return ee.Jnq([e,n,i])}))(OMt),OUt={},NUt=bb.Ps`
  query getIssueZenhubEpics($issueId: ID!) {
    node(id: $issueId) {
      ... on Issue {
        id
        parentZenhubEpics {
          nodes {
            id
            title
          }
        }
      }
    }
  }
`;function PUt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const AUt=YA(al),DUt=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(Pa),n=(0,l3.v9)(sD),s=(0,l3.v9)(rD),r=(0,l3.v9)(vA),i=!r,{data:o,loading:a}=function(e){const t={...OUt,...e};return cy.a(NUt,t)}({variables:{issueId:r},skip:i}),[l,c]=(0,Ye.useState)(!1),[d,{loading:u,data:p}]=function(e){const t={...hLe,...e};return xye.t(ELe,t)}({variables:{workspaceId:t}}),m=p?.workspace?.zenhubEpics?.nodes??[],h=o?.node,E=h?.parentZenhubEpics?.nodes??[],{addToEpic:g,removeFromEpic:f}=(e=>{let{issue:t,cachedActiveEpics:n}=e;const[s]=sbt({update(e,s){let{data:r}=s;e.writeQuery({query:NUt,variables:{issueId:t?.id},data:{node:{...t,parentZenhubEpics:{nodes:[...n,...r?.addIssuesToZenhubEpics?.zenhubEpics??[]]}}}})}}),[r]=obt({update(e,s){let{data:r}=s;const i=r?.removeIssuesFromZenhubEpics?.zenhubEpics.map((e=>e.id))??[],o=n.filter((e=>!i.includes(e.id)));e.writeQuery({query:NUt,variables:{issueId:t?.id},data:{node:{...t,parentZenhubEpics:{nodes:o}}}})}});return{addToEpic:s,removeFromEpic:r}})({issue:h,cachedActiveEpics:E}),_=()=>{l||(d(),c(!0))},v=i?m.filter((e=>n[e.id])):E,I=(0,Ye.useMemo)((()=>{if(u)return[];const e=new Set(v?.map((e=>e.id))),t=new Set(e);Object.keys(n).forEach((e=>t.add(e))),Object.keys(s).forEach((e=>t.delete(e)));const r=m.map((e=>t.has(e.id)?{...e,selected:!0}:e));return i||r.sort(((t,n)=>e.has(t.id)&&!e.has(n.id)?-1:e.has(n.id)&&!e.has(t.id)?1:0)),r}),[u,m,v,n,s,i]),b=function(){var e,t=(e=function*(){if(i)return;const e=Object.keys(n).filter((e=>!E.find((t=>t.id===e)))),t=Object.keys(s);e.length&&(yield g({variables:{input:{issueIds:[r],zenhubEpicIds:e}}})),t.length&&(yield f({variables:{input:{issueIds:[r],zenhubEpicIds:t}}}))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){PUt(i,s,r,o,a,"next",e)}function a(e){PUt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),y=(0,l3.v9)(AUt),S=()=>{y&&b(),e(LG.issue.toggleDropdown(al))};return Ye.createElement(OMt,{activeEpics:a?void 0:v,deselectItem:t=>{e(NB(t.filterKey))},epics:I,isActive:y,onMouseEnter:_,onShortcutsUsed:()=>{_(),S(),e(LG.shortcuts.trackShortcutsUsed(E8.ISSUE_PAGE_EPIC.name))},selectItem:t=>{e(yB({key:t.filterKey}))},shortcuts:E8.ISSUE_PAGE_EPIC.shortcuts,toggleOpen:S,workspaceId:t})},{shortcuts:LUt,issue:zUt}=LG,MUt=YA(ll),xUt=zUt.toggleDropdown.bind(void 0,ll),FUt=LUt.trackShortcutsUsed(E8.ISSUE_PAGE_ESTIMATE.name),UUt=ee.vgT("value"),BUt=ee.MRu(ee.vgT("value")),qUt=(0,pa.P1)(OA,NA,((e,t)=>{if(ee.kKJ(t))return null;const n=ee.zGw(ee.UID((t=>({value:t,selected:e===t}))),eC(UUt))(t),s=Vt.Z.groupBy((e=>e.selected?"selected":"unselected"),n),r=BUt(s.unselected||[]),i=BUt(s.selected||[]);return ee.zoF(i,r)})),HUt=(0,pa.P1)(OA,(e=>ee.kKJ(e)?null:{value:e})),WUt=e=>({issueId:vA(e),isPullRequest:kA(e),issueWorkspace:fA(e),repoId:uA(e),organization:bA(e),repository:yA(e),ghIssueTitle:hA(e),issueNumber:mA(e),estimates:qUt(e),activeEstimate:HUt(e),isReadOnly:!wA(e),isCurrentIssueEpic:UA(e),isCurrentIssueClosed:TA(e),totalEpicPoints:KA(e),isActive:MUt(e)}),jUt=e=>{let{updateExtensionEvents:t}=e;const{shortcuts:n}=E8.ISSUE_PAGE_ESTIMATE,s=(0,l3.I0)(),{issueId:r,isPullRequest:i,issueWorkspace:o,repoId:a,organization:l,repository:c,ghIssueTitle:d,issueNumber:u,estimates:p,activeEstimate:m,isReadOnly:h,isCurrentIssueEpic:E,isCurrentIssueClosed:g,totalEpicPoints:f,isActive:_}=(0,l3.v9)(WUt),{viewerVote:v,votes:I}=BMt({issueId:r}),b="pending"===v?.status,y=(e,t)=>()=>{e?e():s(zUt.loadZhEvents(t))},S=e=>{const n=e.filterKey,r={workspaceId:o._id,repo_id:a,organization:l,repository:c,issue_number:u,issueTitle:d,estimateId:n};s(zUt.sidebarApplyEstimate({...r,onSuccess:()=>{wD(a,u),y(t,r)()}}))},w=()=>{const e={workspaceId:o._id,repo_id:a,organization:l,repository:c,issue_number:u,issueTitle:d};s(zUt.sidebarClearEstimate({...e,onSuccess:()=>{wD(a,u),y(t,e)()}})),s(xUt())};return Ye.createElement(Yxt,{issueId:r,repoId:a,activeEstimate:m,estimates:p,isActive:_,isCurrentIssueClosed:g,isCurrentIssueEpic:E,isPullRequest:i,isReadOnly:h,isViewerVotePending:b,totalEpicPoints:f,selectorName:!I.length||i||g?"Estimate":"Final Estimate",shortcuts:n,clearEstimate:w,createEstimate:e=>{const n={workspaceId:o._id,repo_id:a,organization:l,repository:c,issue_number:u,issueTitle:d,estimateId:e};s(zUt.sidebarCreateAndApplyEstimate({...n,onSuccess:()=>{wD(a,u),y(t,n)()}})),s(xUt())},deselectItem:w,onRemove:e=>{const t={workspaceId:o._id,repo_id:a,organization:l,repository:c,issue_number:u,estimateId:e};s(zUt.sidebarDeleteEstimate(t)),s(xUt())},onShortcutsUsed:()=>{s(xUt()),s(FUt)},selectEstimateViaButton:S,selectItem:e=>{S(e),s(xUt())},toggleOpen:()=>{s(xUt())},updateExtensionEvents:t})},GUt=()=>({organization:(0,l3.v9)(bA),issueNumber:(0,l3.v9)(mA),repository:(0,l3.v9)(yA)}),KUt=()=>{const{organization:e,repository:t,issueNumber:n}=GUt();return{entityType:(0,l3.v9)(ID),inviteLink:(0,l3.v9)(tl),organization:e,repository:t,issueNumber:n}},{shortcuts:VUt,issue:$Ut,onboarding:ZUt}=LG,YUt=VUt.trackShortcutsUsed(E8.ISSUE_PAGE_ASSIGNEE.name);function JUt(e){return e?e.map((e=>{let{name:t,avatar_url:n,login:s,id:r}=e;return{name:t,avatar_url:n,login:s,id:`${r}`}})):null}const XUt=()=>{const e=(0,l3.I0)(),{entityType:t,inviteLink:n,organization:s,issueNumber:r,repository:i}=KUt(),o=!(0,l3.v9)(wA),a=(0,l3.v9)(fA),l=(0,l3.v9)(uA),c=(0,l3.v9)(pu),d=(0,l3.v9)(jA)||null,u=(0,l3.v9)((0,pa.P1)(JA,JUt))||[],p=(0,l3.v9)($S),{shortcuts:m}=E8.ISSUE_PAGE_ASSIGNEE,h=(e,t)=>{let n={},o={};if(t){const s=ee.HK3((e=>e.id),t);n=e.changedToSelected.reduce(((e,t)=>(e[s[t].login.toLowerCase()]=!0,e)),{}),o=e.changedToUnselected.reduce(((e,t)=>(e[s[t].login.toLowerCase()]=!0,e)),{})}return{assignees:t,assigneesByRepo:t,selectedIssues:[d],addAssignees:n,removeAssignees:o,workspaceId:a._id,repo_id:l,organization:s,repository:i,issue_number:r}},E=e=>{const t=ee.HK3((e=>e),e.changedToUnselected),n=u.map((e=>e.id)),s=ee.jj$([...n,...e.changedToSelected]).filter((e=>!t[e]));return s.length<=10};return Ye.createElement(fMt,{activeAssignees:u,isOnPRPage:"PR"===t,repoId:l,isReadOnly:o,onAssignSelf:()=>{const t=h({changedToSelected:[],changedToUnselected:[]});e($Ut.assignSelf({...t,assignees:[c]}))},onApplyChanges:(o,a)=>{if(!E(o))return void window.alert("You can only select 10 assignees.");if(!F||k6()){const l=((e,t)=>{const n=e?.changedToSelected;if(n?.length&&t.length){const e=n.map((e=>t.find((t=>t?.id?.toString()===e?.toString()&&!t?.zenhubUser)))).filter((e=>Boolean(e)));return e}return[]})(o,a),c=l?.filter((e=>!p?.includes(e?.login)));let d;const u=()=>{H.Z.deleteToast(d),d=null},m=e=>r6("Invite non ZH members toast interaction",{Action:e,Location:t}),h=()=>{m("Dismiss"),u()},E=()=>{r6("Invite non ZH members toast shown",{Location:t})},g=()=>{if(m("Invite"),u(),c.length){const t=c.map((e=>`@${e?.login}`)),o=`Hey ${t.join(" ")} I\u2019m using ZenHub in GitHub, [click this link](${n}) to join my workspace and see other features available in GitHub or [download the ZenHub extension](https://www.zenhub.com/extension) and sign up with your GitHub account. \n  _Posted using [ZenHub](https://www.zenhub.com)_`;e($Ut.createComment({body:o,organization:s,issue_number:r,repository:i})),ame({"Team Members Invited":t.length})}},f=()=>navigator.clipboard.writeText(n).then((()=>{m("Copy link"),u(),H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(cie,null),content:"Link copied!",expirationDelay:2e3})}),(()=>{H.Z.findAndReplaceByType(W.Z.ACTION_BUTTON_UPDATE,{icon:Ye.createElement(uie,null),content:"Something went wrong",expirationDelay:2e3})}));c.length&&(d=H.Z.createToast(W.Z.INVITE_NON_MEMBERS,{hasCloseButton:!0,nonZHMembers:c,onCopyLink:f,onSendInvite:g,onDismiss:h,onShow:E}),(t=>{const n={key:"gh_users_previously_invited_to_zh",value:t};e(ZUt.setOnboardingValue(n))})([...p,...c.map((e=>e?.login))]))}const l=h(o,a);e($Ut.sidebarApplyAssignees(l))},shortcuts:m,onShortcutsUsed:()=>{e(YUt)}})},QUt="gW6LZ8pQQL6XdnOG1auf",eBt="MDXNCtu_5I6MvuH1p9RM",tBt="LF7cL2KM8aIxKHI_3pW5",nBt="LxBbTrvxlMs25sFvU4S6",sBt=e=>{let{icon:t,status:n,details:s}=e;return Ye.createElement("li",{className:QUt},Ye.createElement("span",{className:eBt},t),"This issue is ",Ye.createElement("span",{className:nBt},n," "),s)};sBt.propTypes={status:SI().string.isRequired,details:SI().node,icon:SI().element},sBt.defaultProps={details:null,icon:null};const rBt=sBt,iBt=ee.KJl(ee.kKJ,ee.Bxt(null),ee.hXT(FP)),oBt=Vne(!0,!1),aBt=e=>{let{blockingIssues:t}=e;const n=iBt(t),s=ee.kE(n),r=(0,_t.rS)(((e,t)=>{const n={organization:e.organization,repository:e.repo_name,issue_number:e.issue_number};return Ye.createElement("span",{key:t,className:"zhc-issue-notification-banner__issue"},Yne(n,e.title,oBt),((e,t)=>{switch(t){case e-2:return" and ";case e-1:return"";default:return", "}})(s,t))}),n);return Ye.createElement(rBt,{icon:Ye.createElement(d7,null),status:"blocked",details:["by ",...r]})};aBt.propTypes={blockingIssues:SI().arrayOf(SI().object).isRequired};const lBt=aBt,cBt=e=>{let{name:t,workspaces:n}=e;const s=n.length>1?Ye.createElement(Ye.Fragment,null,"in these Workspaces:"," ",Ye.createElement("strong",null,n.map((e=>e.name)).join(", "))):Ye.createElement(Ye.Fragment,null,"in the ",Ye.createElement("strong",null,n[0].name)," Workspace");return Ye.createElement(rBt,{icon:Ye.createElement(fdt,null),status:t.toLowerCase(),details:s})};cBt.propTypes={name:SI().string.isRequired,workspaces:SI().arrayOf(SI().shape({name:SI().string}))},cBt.defaultProps={workspaces:[]};const dBt=cBt,uBt="has been removed. The issue will no longer be shown in this Workspace.",pBt=`The Workspace filter label ${uBt}`,mBt=`One of the Workspace filter labels ${uBt}`,hBt=e=>{let{numberOfFiltersOnWorkspace:t}=e;return Ye.createElement("li",{className:"zhc-issue-notification"},Ye.createElement(Zfe,{className:tBt}),t>1?mBt:pBt)};function EBt(){return EBt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EBt.apply(this,arguments)}const gBt=e=>{let{className:t,blockedByIssues:n=[],isBlocked:s=!1,isIssueClosed:r=!1,priorities:i=[],isWorkspaceFilterLabelRemoved:o=!1,isIssueModal:a=!1,isNewIssue:l=!1,numberOfFiltersOnWorkspace:c=0}=e;const d=(e=>e.reduce(((e,t)=>{const{name:n,workspaces:s}=t,r=e[n]?e[n].workspaces:[];return{...e,[n]:{...e[n],...t,workspaces:[...r,...s]}}}),{}))(i),u=!(0,_t.KN)(i),p=s||u||o,m=["unbulleted-list"];return a||m.push("margin-vertical-large"),!r&&p?Ye.createElement(bie,{modifiers:m,className:t},Ye.createElement("ul",null,s&&!l&&Ye.createElement(lBt,{blockingIssues:n}),o&&Ye.createElement(hBt,{numberOfFiltersOnWorkspace:c}),!l&&Object.keys(d).map((e=>Ye.createElement(dBt,EBt({key:d[e].name},d[e])))))):null},fBt=(ee.ETc(["router","location"]),ee.ETc(["router","location","pathname"]));ee.ETc(["router","location","search"]),ee.ETc(["router","location","hash"]),ee.ETc(["router","location","key"]),ee.ETc(["router","location","state"]);const _Bt=(0,l3.$j)((function(e){return{blockedByIssues:vLt(e),isBlocked:RLt(e),isIssueClosed:TA(e),isNewIssue:fBt(e)?.includes("/new"),priorities:DA(e),isWorkspaceFilterLabelRemoved:ZA(e),numberOfFiltersOnWorkspace:sF(e).length}}))(gBt);function vBt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const IBt="OPEN",bBt="CLOSED",yBt=bb.Ps`
  fragment EpicEstimate on Issue {
    id
    state
    estimate {
      value
    }
    epic {
      id
      issueEstimateProgress {
        total
        closed
        open
      }
    }
  }
`,SBt=function(){var e,t=(e=function*(e){const t=ly(),n=yield t.readFragment({id:`Issue:${e}`,fragment:yBt}),s=n.estimate?.value||0,r={...n};n.state===bBt?(r.state=IBt,s&&(r.epic={...n.epic,issueEstimateProgress:{...n.epic.issueEstimateProgress,closed:r.epic.issueEstimateProgress.closed-s,open:r.epic.issueEstimateProgress.open+s}})):(r.state=bBt,s&&(r.epic={...n.epic,issueEstimateProgress:{...r.epic.issueEstimateProgress,closed:r.epic.issueEstimateProgress.closed+s,open:r.epic.issueEstimateProgress.open-s}})),t.writeFragment({id:`Issue:${e}`,fragment:yBt,data:r})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){vBt(i,s,r,o,a,"next",e)}function a(e){vBt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),wBt=SBt;function RBt(e){let{closePortal:t,additionalActions:n,children:s}=e;return Ye.createElement("div",{className:"zhc-modal__header"},Ye.createElement("span",{className:"zhc-modal__header__title"},s),n,Ye.createElement(H5,{width:D5.NARROW,variant:z5.TEXT,className:"zhc-modal__header__close",onClick:()=>{t()}},Ye.createElement(R7,null)))}RBt.defaultProps={additionalActions:null};const TBt=RBt;const CBt=function(e){let{onClose:t}=e,n=["epic-builder"];return n=F?n:[...n,"height-auto"],Ye.createElement(Xre,{closeOnEsc:!0,isOpen:!0,modifiers:n,onClose:t},Ye.createElement(Gre,null),Ye.createElement("div",{className:"zhc-epic-builder-modal"},Ye.createElement(TBt,{closePortal:t},"Title"),Ye.createElement("div",{className:"zhc-modal__body"},Ye.createElement("p",null,"A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of content A lot of content, A lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA lot of contentA"))))},kBt=e=>{let{gridTemplateColumnsStyle:t,children:n,header:s,testId:r,className:i}=e;return Ye.createElement("div",{"data-testid":r,className:(0,_I.default)("zhc-grid-table__wrapper",i)},Ye.createElement("table",{className:"zhc-grid-table",style:{gridTemplateColumns:t}},s?Ye.createElement("thead",null,s):null,Ye.createElement("tbody",null,n)))},OBt=e=>{let{children:t,className:n}=e;const s=(0,_I.default)("zhc-grid-table__cell",{[`${n}`]:n});return Ye.createElement("td",{className:s},t)},NBt=e=>{let{children:t,isHeaderRow:n,testId:s,className:r,style:i}=e;const o=(0,_I.default)("zhc-grid-table__row",{"zhc-grid-table__row--is-header-row":n,"zhc-grid-table__row--is-data-row":!n,[`${r}`]:r});return Ye.createElement("tr",{style:i,"data-testid":s,className:o},t)},PBt=e=>{let{children:t,className:n}=e;const s=(0,_I.default)("zhc-grid-table__cell",{[`${n}`]:n});return Ye.createElement("th",{className:s},t)},ABt=bb.Ps`
  fragment issueData on Issue {
    id
    number
    title
    state
    pullRequest
    ghCreatedAt
    ghUpdatedAt
    createdAt
    updatedAt
    viewerPermission
    htmlUrl
    user {
      login
    }
    assignees {
      nodes {
        id
        login
        avatarUrl
      }
    }
    estimate {
      value
    }
    labels {
      nodes {
        color
        id
        name
      }
    }
    milestone {
      id
      title
    }
    repository {
      id
      ghId
      name
      owner {
        id
        login
        avatarUrl
      }
    }
    epic {
      endOn
      startOn
      id
      issueEstimateProgress {
        total
      }
      childIssues {
        totalCount
      }
    }
    parentEpics {
      nodes {
        issue {
          title
        }
      }
    }
    parentZenhubEpics {
      nodes {
        id
        title
      }
    }
  }
`,DBt={},LBt=bb.Ps`
  query epicIssue(
    $repositoryGhId: Int!
    $issueNumber: Int!
    $repositoriesToExclude: [ID!]!
    $includeChildIssues: Boolean = false
    $after: String
  ) {
    issueByInfo(repositoryGhId: $repositoryGhId, issueNumber: $issueNumber) {
      id
      title
      repository {
        id
        ghId
      }
      number
      state
      estimate {
        value
      }
      epic {
        id
        startOn
        endOn
        childIssues(
          filters: { repositoryId: { nin: $repositoriesToExclude } }
          first: 100
          after: $after
        ) @include(if: $includeChildIssues) {
          totalCount
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            ...issueData
          }
        }
        issueCountProgress {
          open
          total
          closed
        }
        issueEstimateProgress {
          open
          total
          closed
        }
      }
    }
  }
  ${ABt}
`;function zBt(e,t){return function(e){const t={...DBt,...e};return cy.a(LBt,t)}({variables:{repositoryGhId:t,issueNumber:e,repositoriesToExclude:(0,l3.v9)(Wa),includeChildIssues:!0},fetchPolicy:"network-only",nextFetchPolicy:"cache-first"})}function MBt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function xBt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){MBt(i,s,r,o,a,"next",e)}function a(e){MBt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const FBt=function(){var e=xBt((function*(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{responses:[],itemCount:0};const{client:s,query:r,variables:i,refetchLimit:o,connectionPath:a}=t,{data:l}=yield e,c=ee.ETc(a,l),d={responses:[...n.responses,l],itemCount:n.itemCount+c.nodes.length};return d.itemCount<o&&c.pageInfo.hasNextPage?FBt(s.query({query:r,variables:{...i,after:c.pageInfo.endCursor},fetchPolicy:"no-cache"}),t,d):d.responses}));return function(t,n){return e.apply(this,arguments)}}();const UBt=function(e,t,n,s){function r(){return(r=xBt((function*(){const r=s.client.cache.readQuery({query:e,variables:s.variables}),i=ee.ETc(n,r).nodes.length,o=yield FBt(s.client.query({query:e,variables:s.variables,fetchPolicy:"no-cache"}),{query:e,client:s.client,variables:s.variables||{},connectionPath:n,refetchLimit:i});t(s.client.cache,{refetchResults:o,variables:s.variables||{}})}))).apply(this,arguments)}return{...s,refetchPaginatedQuery:function(){return r.apply(this,arguments)}}};var BBt=n(12197),qBt=n.n(BBt);const HBt=bb.Ps`
  query searchIssuesQuery(
    $epicIssueByInfo: IssueInfoInput
    $workspaceId: ID!
    $repositoryIds: [ID!]!
    $pipelineIds: [ID!]!
    $after: String
  ) {
    searchEpicAssignableIssues(
      epicIssueByInfo: $epicIssueByInfo
      workspaceId: $workspaceId
      filters: { repositoryIds: $repositoryIds, pipelineIds: $pipelineIds }
      includeClosed: true
      query: null
      first: 25
      after: $after
    ) {
      totalCount
      pageInfo {
        hasNextPage
        endCursor
      }
      nodes {
        ...currentWorkspaceIssueData
      }
    }
  }
  ${qBt()}
`,WBt=(e,t)=>{let{refetchResults:n,variables:s}=t;const{nodeRefs:r,nodes:i}=n.reduce(((t,n)=>{if(!n.searchEpicAssignableIssues.nodes)return t;const s=n.searchEpicAssignableIssues.nodes.map((t=>({__ref:e.identify(t)})));return t.nodeRefs.splice(t.nodeRefs.length,0,...s),null!==n.searchEpicAssignableIssues.nodes[0]&&t.nodes.splice(t.nodes.length,0,...n.searchEpicAssignableIssues.nodes),t}),{nodeRefs:[],nodes:[]}),o=n[n.length-1].searchEpicAssignableIssues.pageInfo;e.modify({fields:{searchEpicAssignableIssues:e=>e.hasSameVariables(s)?{...e,value:{...e.value,nodes:r,pageInfo:o}}:e}}),i.forEach((t=>{e.writeFragment({id:e.identify(t),fragment:qBt(),data:t})}))},jBt=(e,t)=>({epicIssueByInfo:{issueNumber:e,repositoryGhId:t},workspaceId:(0,l3.v9)(Pa),repositoryIds:(0,l3.v9)(Wa),pipelineIds:(0,l3.v9)(ja)});function GBt(e,t,n){const s=(0,Dae.x)(),r=jBt(t,n);(0,Ye.useEffect)((()=>{s.cache.modify({fields:{searchEpicAssignableIssues:e=>e.hasSameVariables(r)?e.clear():e}})}),[]);const i=(0,cy.a)(e,{variables:r,fetchPolicy:"network-only",nextFetchPolicy:"cache-first"});return UBt(e,WBt,["searchEpicAssignableIssues"],i)}const{issue:KBt}=LG,VBt=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(Na),n=(0,l3.v9)(uA),s=(0,l3.v9)(mA);return{sidebarRefetch:()=>{e(KBt.loadEpicData({repo_id:n,issue_number:s,workspace:t}))},eventsRefetch:()=>{e(KBt.loadZhEvents({repo_id:n,issue_number:s}))},progressRefetchQuery:{query:bD,variables:{repositoryGhId:n,issueNumber:s}}}},$Bt=e=>{let{name:t,icon:n}=e;return Ye.createElement("div",{className:"zhc-options-dropdown-item"},Ye.createElement("span",{className:"zhc-icon"},n),Ye.createElement("span",{className:"zhc-name"},t))},ZBt=e=>{let{issueId:t,onMoveIssueAction:n}=e;const{progressRefetchQuery:s}=VBt(),r=CMe(t,{refetchQueries:[s],onCompleted:()=>{n&&n()}},!0),i=[{component:Ye.createElement($Bt,{name:"Reopen issue",icon:Ye.createElement(mKe,null)}),id:"reopen-issue"}];return Ye.createElement(Cre,{className:"zhc-epic-issue-list__options-dropdown",button:Ye.createElement(H5,{ariaLabel:"Select Issue Option",padding:M5.EXTRA_TIGHT,height:A5.SHORT,className:"zhc-epic-issue-list__options-dropdown__action-button"},Ye.createElement(_Se,{className:"zhc-epic-issue-list__options-dropdown__icon"})),items:i,headerText:"Issue options",selectedId:t,onSelectItem:()=>{r(SMe.OPEN)},maxHeight:"101px"})};function YBt(){return YBt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},YBt.apply(this,arguments)}const JBt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--epic-remove",t].filter(Boolean).join(" "),"aria-label":"epic-remove",role:"img",...n};return Ye.createElement("svg",YBt({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},s),Ye.createElement("path",{d:"M12.9 6.637l2.115-2.116.054-.054-.787-.786-2.169 2.17-2.118-2.117-.052-.053-.787.786 2.17 2.17-2.17 2.171.787.786 2.17-2.171 2.117 2.118.052.053.789-.786L12.9 6.637m-1.42 4.581v1.631l-3.249-1.885-.251-.144-.251.145L4.48 12.85V2.468c0-.267-.019-.25.3-.25h7.662c-.089-.654-.503-1-1.262-1h-6.4c-.856 0-1.3.416-1.3 1.25v12.117l.751-.436 3.749-2.176 3.749 2.176.751.436v-3.367h-1",fill:"currentColor",fillRule:"evenodd"}))};function XBt(){return XBt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},XBt.apply(this,arguments)}const QBt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--top-black",t].filter(Boolean).join(" "),"aria-label":"top-black",role:"img",...n};return Ye.createElement("svg",XBt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s),Ye.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},Ye.createElement("rect",{width:14,height:14,rx:2}),Ye.createElement("path",{d:"M11.271 9.457l-4-4.571-4 4.571m4.3-4v6.857m3.7-10.614h-8",strokeLinecap:"round",strokeWidth:1.4,stroke:"currentColor"})))},eqt=bb.Ps`
  mutation SetPriority($input: SetPriorityOnPipelineIssuesInput!) {
    setPriorityOnPipelineIssues(input: $input) {
      pipelineIssues {
        priority {
          name
        }
      }
    }
  }
`,tqt=(e,t,n)=>{const[s]=(0,vK.D)(eqt,n);return n=>s({variables:{input:{priorityId:t?null:e,pipelineIssueIds:n}}})},nqt=bb.Ps`
  mutation movePipelineIssues($input: MovePipelineIssuesInput!) {
    movePipelineIssues(input: $input) {
      pipelineIssues {
        issue {
          id
        }
        pipeline {
          id
        }
        priority {
          id
        }
      }
    }
  }
`;const sqt=bb.Ps`
  mutation removeIssueFromEpic($input: RemoveIssuesFromEpicInput!) {
    removeIssuesFromEpic(input: $input) {
      epic {
        id
        childIssues {
          nodes {
            id
            number
            title
          }
        }
      }
    }
  }
`,rqt=(e,t,n)=>{const[s]=(0,vK.D)(sqt,n);return()=>s({variables:{input:{issueIds:[e],epicId:t}}})},iqt=(e,t,n)=>{const s={update(e){e.evict({id:`Issue:${t}`})},...n};return rqt(t,e,s)},oqt=(e,t)=>e?t.filter((e=>"toggle-priority"!==e.id)):t,aqt=e=>{let{epicId:t,issueId:n,onEnterIssueEditMode:s,pipelineId:r,pipelineIssueId:i,priorityId:o,isPriority:a,isPullRequest:l,onMoveIssueAction:c,onRemoveIssueAction:d}=e;const{sidebarRefetch:u,progressRefetchQuery:p,eventsRefetch:m}=VBt(),h=CMe(n,{onCompleted:()=>{c&&c()},refetchQueries:[p]},!0),E=iqt(t,n,{onCompleted:()=>{m(),u(),d&&d()},refetchQueries:[p]}),g=function(e,t,n){const s=[t],[r]=(0,vK.D)(nqt,n);return t=>{r({variables:{input:{pipelineId:e,pipelineIssueIds:s,position:t}}})}}(r,i,{onCompleted:()=>{c&&c()}}),f=tqt(o,a,{onCompleted:()=>{c&&c()}}),_=[i],v=[{component:Ye.createElement($Bt,{name:"Remove from this Epic",icon:Ye.createElement(JBt,null)}),id:"remove-from-epic"},{component:Ye.createElement($Bt,{name:"Rename issue",icon:Ye.createElement(Vfe,null)}),id:"rename-issue"},{component:Ye.createElement($Bt,{name:a?"Remove high priority":"Pin to top and set as high priority",icon:a?Ye.createElement(vdt,null):Ye.createElement(fdt,null)}),id:"toggle-priority"},{component:Ye.createElement($Bt,{name:"Close issue",icon:Ye.createElement(n5,null)}),id:"close-issue"},{component:Ye.createElement($Bt,{name:a&&!l?"Send to top of high priorities":"Send to top",icon:Ye.createElement(QBt,null)}),id:"send-top"},{component:Ye.createElement($Bt,{name:a&&!l?"Send to bottom of high priorities":"Send to bottom",icon:Ye.createElement(QBt,{style:{transform:"rotate(180deg)"}})}),id:"send-bottom"}];return Ye.createElement(Cre,{className:"zhc-epic-issue-list__options-dropdown",button:Ye.createElement(H5,{ariaLabel:"Select Issue Option",padding:M5.EXTRA_TIGHT,height:A5.SHORT,className:"zhc-epic-issue-list__options-dropdown__action-button"},Ye.createElement(_Se,{className:"zhc-epic-issue-list__options-dropdown__icon"})),items:oqt(l,v),headerText:"Issue options",selectedId:n,onSelectItem:e=>{switch(e){case"remove-from-epic":E();break;case"rename-issue":s();break;case"toggle-priority":f(_);break;case"close-issue":h(SMe.CLOSED);break;case"send-top":g(wMe.START);break;case"send-bottom":g(wMe.END)}}})},lqt=e=>{let{children:t,className:n,headerRowStyle:s,headerText:r,showMetadataHeaders:i=!1,showPipelineRow:o}=e;return Ye.createElement(Ye.Fragment,null,o&&Ye.createElement(NBt,{isHeaderRow:!0,className:n,style:s},Ye.createElement(PBt,{className:"zhc-grid-table__first-col zhc-epic-issue-list-table__cell--light zhc-grid-table__cell__title"},r),Ye.createElement(PBt,{className:"zhc-grid-table__cell__title"},i?"Estimate":null),Ye.createElement(PBt,{className:"zhc-grid-table__cell__title"},i?"Assignees":null),Ye.createElement(PBt,{className:"zhc-grid-table__cell__title"},i?"Labels":null)),t)},cqt=e=>{let{issues:t,issueRenderer:n,headerRowClassFunc:s,headerRowStyle:r,skipTableHeaders:i}=e,o="",a="";return Ye.createElement(Ye.Fragment,null,t.map(((e,t)=>{const l=e.state===Vi.Closed,c=e.pipelineIssue?.pipeline.name,d=e.pipelineIssue?.pipeline.id,u=o!==d&&e.state===Vi.Open;o=d||"";const p=l&&e.state!==a,m=0===t;return a=e.state,Ye.createElement(lqt,{className:s(m),headerRowStyle:r,headerText:p?"Closed":c,key:`${e.number} + ${e.repository.id}`,showMetadataHeaders:m&&!i,showPipelineRow:p||u},n(e,t))})))};const dqt="s6mMq9AN6fJw2qeocB_1",uqt="Zu_oCjJe6inKq1daHkh4",pqt="BFS2U_hY7giABnDYR3UA",mqt="zDHvmJ2aGztKI8rLhfCH";function hqt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Eqt=256,gqt=e=>{let{initialTitle:t="",isOpen:n,onSubmit:s,onToggleOpen:r,shouldClearInputOnSubmit:i=!0}=e;const[o,a]=(0,Ye.useState)(""),[l,c]=(0,Ye.useState)(t),[d,u]=(0,Ye.useState)(!1),p=(0,Ye.useRef)(null),m=(0,Ye.useRef)(null);(0,Ye.useEffect)((()=>{n&&m.current?.focus()}),[n]);const h=()=>{c(""),a(""),r()};if(!n)return null;const E=function(){var e,t=(e=function*(e){e.preventDefault();const t=l.trim();if(t.length){u(!0),i&&c("");try{yield s(t),a("")}catch{a("Unable to save the issue. Please try again")}u(!1),m.current?.focus()}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){hqt(i,s,r,o,a,"next",e)}function a(e){hqt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),g=(0,_I.default)(dqt,{[uqt]:!n});return Ye.createElement("form",{ref:p,className:g,onSubmit:E},Ye.createElement("label",null,Ye.createElement("span",{className:"zh-sr-only"},"Title of this Issue"),Ye.createElement("input",{className:"zhc-input",maxLength:Eqt,name:"title",onBlur:e=>{const t=e.relatedTarget;t?.getAttribute("data-testid")!==_at&&(p.current?.contains(t)||r())},onChange:e=>{const t=e.target;t.value.length>=Eqt?(a("Cannot exceed 256 characters"),c(t.value.slice(0,Eqt))):(c(t.value),a(""))},onKeyDown:e=>{"Escape"===e.key&&(e.nativeEvent.stopImmediatePropagation(),h())},placeholder:"Title of this Issue",ref:m,value:l})),o&&Ye.createElement("div",{className:mqt},o),Ye.createElement("div",{tabIndex:-1,className:pqt},Ye.createElement(H5,{onClick:h,variant:z5.TEXT},"Cancel"),Ye.createElement(H5,{disabled:!l.trim().length||d,color:L5.ACTION,type:x5.SUBMIT},"Submit")))},fqt={},_qt=bb.Ps`
  mutation createIssueInEpic($input: CreateIssueInput!) {
    createIssue(input: $input) {
      issue {
        id
      }
    }
  }
`;const vqt={},Iqt=bb.Ps`
  mutation addIssuesToEpic($input: AddIssuesToEpicInput!) {
    addIssuesToEpic(input: $input) {
      epicIssues {
        id
        epic {
          id
        }
        issue {
          id
        }
      }
    }
  }
`;const bqt={},yqt=bb.Ps`
  mutation moveIssueToPipeline($input: MoveIssueInput!, $workspaceId: ID!) {
    moveIssue(input: $input) {
      issue {
        ...currentWorkspaceIssueData
      }
    }
  }
  ${FVe}
`;function Sqt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const wqt=()=>{const[e]=function(e){const t={...fqt,...e};return vK.D(_qt,t)}(),[t]=function(e){const t={...vqt,...e};return vK.D(Iqt,t)}(),[n]=function(e){const t={...bqt,...e};return vK.D(yqt,t)}(),s=(0,l3.v9)(rF),r=(0,l3.v9)(uA),i=(0,l3.v9)(yA),o=(0,l3.v9)(mA),a=(0,l3.v9)(za),l=jBt(o,r),c=a[0];return function(){var a,d=(a=function*(a,d){if(s?.length){const e=new Set([...d.labels??[],...s]);d.labels=Array.from(e)}const{data:u}=yield e({variables:{input:d}}),p=u?.createIssue?.issue.id;p&&(t({variables:{input:{epicId:a,issueIds:[p]}}}).catch((()=>{var e;e="Unable to add the new issue to this Epic",H.Z.createToast(W.Z.ERROR_PERMISSIONS,{...Cl.Z,showWarning:!0,text:e})})),yield n({variables:{workspaceId:l.workspaceId,input:{pipelineId:c.id,issueId:p}},update:(e,t)=>{let{data:n}=t;const s=n?.moveIssue?.issue;s&&(e.modify({fields:{searchEpicAssignableIssues:t=>{const{epicIssueByInfo:n,workspaceId:i}=t.getArgs();if(n.issueNumber!==o||n.repositoryGhId!==r||i!==l.workspaceId)return t;const a={__ref:e.identify(s)};return{...t,value:{...t.value,nodes:[a,...t.value.nodes],totalCount:t.value.totalCount+1}}}}}),e.modify({id:e.identify({__typename:"Epic",id:a}),fields:{issueCountProgress:e=>e?{...e,open:e.open+1,total:e.total+1}:{closed:0,open:1,total:1}}}))}}),((e,t)=>{H.Z.createToast(W.Z.CREATE_ISSUE_UPDATE,{pipelineName:e,repoName:t,expirationDelay:3e3})})(c.name,i))},function(){var e=this,t=arguments;return new Promise((function(n,s){var r=a.apply(e,t);function i(e){Sqt(r,n,s,i,o,"next",e)}function o(e){Sqt(r,n,s,i,o,"throw",e)}i(void 0)}))});return function(e,t){return d.apply(this,arguments)}}()},Rqt="Gjx742lqScmt9x7FekmC",Tqt="RjvxQPgJdUJNPqEiBTEi",Cqt="Q6lHZIC8OJu9a3eicbC0",kqt="pwg9pdxfcvQ8O2eFuvgH",Oqt="KpvQTR6MCx2Wi6z7SGtV",Nqt="kML4Xjxey9KIWg_h3eGf",Pqt="EfvqVWFXdTGxm1v0CLC7",Aqt="Uoi8UKbPRbuZ2ccEy_CX",Dqt="IpOpbVjfNyg6N157elfl",Lqt="g5dMlw6EcJv3e5fX2U03",zqt=e=>{let{className:t,epicId:n,headerRowStyle:s,isAddFormOpen:r,issueCount:i,onSeeBoardWithEpicPrompts:o,onToggleAddForm:a,repositoryId:l}=e;const[c,d]=(0,Ye.useState)(null),u=SRe(yRe.EpicBuilder),p=NPt(o),m=wqt();qWe(E8.GLOBAL_NEW_ISSUE.shortcuts,a);const h=i?"":"No issues yet",E=r||!i,g=!r&&!i,f=(0,_I.default)("zhc-grid-table__first-col zhc-epic-issue-list-table__cell--light",Cqt,kqt,{[Oqt]:g}),_=(0,_I.default)(Aqt,{[Dqt]:E}),v=(0,_I.default)({[Rqt]:E,[Tqt]:!E});return Ye.createElement(lqt,{className:t,headerRowStyle:s,headerText:r?"Create a new issue in this Epic":h,showPipelineRow:E,showMetadataHeaders:E},Ye.createElement(NBt,{className:v},Ye.createElement(OBt,{className:f},Ye.createElement("div",{className:_},Ye.createElement(YI,{content:Ye.createElement(Ye.Fragment,null,"Create a new issue in this Epic",Ye.createElement("span",{className:Lqt},Ye.createElement(Ure,{shortcuts:["n","i"]}))),removeTooltipOnClick:!0},Ye.createElement(vat,{isActive:r,onClick:()=>{d("add-button"),a()}}))),Ye.createElement(gqt,{isOpen:r,onSubmit:e=>n&&l?(u("Create Issue",{"Opened from":c??"add-button"}),m(n,{title:e,body:"",repositoryId:l})):Promise.reject(),onToggleOpen:a}),g?Ye.createElement("div",{className:Nqt},Ye.createElement(H5,{color:L5.PRIMARY,height:A5.SHORT,onClick:()=>{d("empty-state"),a()},padding:M5.NONE,variant:z5.TEXT},"Create new issues here"),Ye.createElement("span",{className:Pqt},"or"),Ye.createElement(H5,{color:L5.PRIMARY,height:A5.SHORT,onClick:p,padding:M5.NONE,variant:z5.TEXT},"Add issues to this Epic")):null),Ye.createElement(OBt,{className:Cqt}),Ye.createElement(OBt,{className:Cqt}),Ye.createElement(OBt,{className:Cqt})))},Mqt=e=>{let{assignees:t}=e;const{avatarUrl:n,login:s}=t[0],r=t.length>1,i=Ye.createElement(hae,{url:n,alt:`${s} avatar`});return Ye.createElement("div",{className:"zhc-assignee-cell"},Ye.createElement(YI,{content:Ye.createElement(HFe,{items:t,itemRenderer:e=>{let{login:t}=e;return t},threshold:5}),position:jI.TOP},i),Ye.createElement("span",{className:"zhc-assignee-cell__count"},r&&"+ "+(t.length-1)))},xqt="zhc-epic-builder__issue-cell__name-container",Fqt=e=>{let{children:t,tooltipContent:n}=e;const[s,r]=(0,Ye.useState)(!1),i=(0,Ye.useCallback)((e=>{e&&r((0,_t.s4)(e))}),[]);return Ye.createElement(YI,{content:s?n:null,position:jI.TOP},Ye.createElement("span",{ref:i,className:xqt},t))},Uqt=e=>{let{children:t,issueNumber:n,isActive:s,isClosed:r,isEpic:i,isPriority:o,isPullRequest:a,repo:l,issueLink:c,title:d,hasCheckBox:u}=e;const p=(0,_I.default)("zhc-epic-builder__issue-cell__repo-container",{"zhc-epic-builder__issue-cell__repo-container--with-checkbox":u}),m=Ye.createElement(Ye.Fragment,null,u&&Ye.createElement("input",{type:"checkbox",name:"select-issue",checked:s}),r&&!a&&Ye.createElement(mKe,{className:"zhc-icon zhc-icon--closed"}),r&&a&&Ye.createElement(Y8e,{className:"zhc-icon zhc-icon--closed"}),!r&&o&&Ye.createElement(fKe,{className:"zhc-icon zhc-icon--priority"}),!r&&a&&Ye.createElement(m9,{className:"zhc-icon zhc-icon--open"}),!r&&i&&Ye.createElement(OMe,{className:"zhc-icon"}),Ye.createElement("span",{className:"zhu-color-brand zhu-font-semi zhc-title"},c));return Ye.createElement("div",{className:"zhc-epic-builder__issue-cell"},Ye.createElement("div",null,Ye.createElement(ehe,{errorComponent:()=>Ye.createElement("span",{className:xqt},m)},Ye.createElement(Fqt,{tooltipContent:d},m)),Ye.createElement("div",{className:p},Ye.createElement("span",{className:"zhu-font-small zhu-color-text-secondary"},`${l} #${n}`))),t)},Bqt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;const[n,s]=(0,Ye.useState)(-1),r=(0,Ye.useCallback)((r=>{if(null!==r&&(0,_t.s4)(r)&&-1===n){const{bottom:n,right:i}=r.getBoundingClientRect(),o=r.querySelectorAll(e);Array.from(o).some(((e,r)=>{const{bottom:a}=e.getBoundingClientRect(),l=n-a<-1;if(l){const{right:e}=o[r-1].getBoundingClientRect();s(i-e<t?r-2:r-1)}return l}))}}),[e,t,n]);return{lastVisibleItemIdx:n,containerRef:r}},qqt=e=>{let{children:t}=e;return Ye.createElement("span",{className:"zhc-label--last-visible"},t)},Hqt=e=>{let{labels:t}=e;const{lastVisibleItemIdx:n,containerRef:s}=Bqt(".zhc-label"),r=n>-1,i=t.slice(n+1);return Ye.createElement(YI,{content:r?Ye.createElement(HFe,{items:i,itemRenderer:e=>{let{name:t}=e;return t},threshold:5}):null,position:jI.TOP},Ye.createElement("div",{ref:s,className:"zhc-label-cell"},t.map(((e,t)=>Ye.createElement(Ye.Fragment,{key:e.id},r&&t===n?Ye.createElement(qqt,null,Ye.createElement(uue,{className:"zhc-label",color:e.color,name:e.name}),Ye.createElement("span",{className:"zhc-label-cell__count"},`+ ${i.length}`)):Ye.createElement(uue,{className:"zhc-label",color:e.color,name:e.name}))))))},Wqt={},jqt=bb.Ps`
  mutation renameIssue($input: UpdateIssueInput!) {
    updateIssue(input: $input) {
      issue {
        id
        title
      }
    }
  }
`;function Gqt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const Kqt=e=>{let{initialTitle:t,issueId:n,onClose:s}=e;const[r]=function(e){const t={...Wqt,...e};return vK.D(jqt,t)}(),i=function(){var e,t=(e=function*(e){yield r({variables:{input:{issueId:n,title:e}}}),s()},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){Gqt(i,s,r,o,a,"next",e)}function a(e){Gqt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Ye.createElement(gqt,{initialTitle:t,isOpen:!0,onSubmit:i,onToggleOpen:s,shouldClearInputOnSubmit:!1})},Vqt=e=>Yne({organization:e.repository.owner.login,repository:e.repository.name,issue_number:e.number},e.title,{forExt:!1,forWebapp:!1},null,null),$qt=e=>{let{children:t,className:n,isChildIssuesRendered:s,isPriority:r,isRenaming:i,issue:o,onClickOpenSubEpic:a,onExitEditMode:l,rowStyle:c}=e;const d=o.state===Vi.Closed,u=Boolean(o.pullRequest),p=Boolean(o.epic),m=Boolean(o.epic?.childIssues?.totalCount),h=i?Ye.createElement(Kqt,{initialTitle:o.title,issueId:o.id,onClose:l}):Ye.createElement(Ye.Fragment,null,m?Ye.createElement(Txe,{label:"Toggle Epic child issues",isCollapsed:!s,onClick:()=>a(o.id)}):null,Ye.createElement(Uqt,{hasCheckBox:!1,issueNumber:o.number,title:o.title,issueLink:Vqt(o),isActive:!1,isClosed:d,isEpic:p,isPriority:r,isPullRequest:u,repo:o.repository.name},t));return Ye.createElement(NBt,{testId:"epic-issue-list-data-row",className:n,style:c},Ye.createElement(OBt,{className:"zhc-grid-table__first-col zhc-epic-issue-list-table__cell--light"},h),Ye.createElement(OBt,null,Ye.createElement("div",{className:"zhc-epic-issue-list-table__badge-container"},Ye.createElement(sqe,{value:o.estimate?.value,type:d?ZBe.ESTIMATE_CLOSED:null}),p?Ye.createElement(sqe,{value:o.epic?.issueEstimateProgress?.total,type:ZBe.EPIC_POINTS,label:"epic points"}):null)),Ye.createElement(OBt,null,o?.assignees?.nodes?.length?Ye.createElement(Mqt,{assignees:o.assignees.nodes}):null),Ye.createElement(OBt,null,o.labels.nodes?Ye.createElement(Hqt,{labels:o.labels.nodes}):null))},Zqt="dZrEYxxPORs8t8w45zMg",Yqt="LwE4xX7OZHvSG48OOkaU",Jqt="pVOoBOjFL6ytm1LFD3tG",Xqt="gJnhfggVc54QBDn_mZdz",Qqt="vVwgpMDoiEv6CCAZ12kA",eHt=Array.from(Array(8).keys()),tHt=()=>Ye.createElement("div",{className:Xqt},eHt.map((e=>Ye.createElement(IIe,{key:`epic-issue-item-${e}`,className:Qqt}))),Ye.createElement(IIe,{key:"epic-issue-item-last",className:Qqt}));function nHt(){return nHt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nHt.apply(this,arguments)}const sHt=e=>{let{children:t}=e;return Ye.createElement(NBt,{className:"zhc-epic-issue-list-table__row--hidden"},Ye.createElement(OBt,null,t),Ye.createElement(OBt,null),Ye.createElement(OBt,null),Ye.createElement(OBt,null))},rHt="CREATE",iHt=e=>{const t=zBt(e.issueNumber,e.repositoryGhId),n=GBt(HBt,e.issueNumber,e.repositoryGhId);return Ye.createElement(oHt,nHt({},e,{epicQuery:t,epicIssuesQuery:n}))},oHt=e=>{let{epicQuery:t,epicIssuesQuery:n,onRemoveIssueAction:s,onSeeBoardWithEpicPrompts:r,rowsAreChildIssues:i=!1,childDepth:o=0}=e;const{data:a,fetchMore:l}=t,{data:c,fetchMore:d,refetchPaginatedQuery:u}=n,p=(0,l3.v9)(Fa),m=(0,l3.v9)(Ua),[h,E]=(0,Ye.useState)({}),[g,f]=(0,Ye.useState)(null),_=g===rHt,v=c?.searchEpicAssignableIssues?.nodes||[],I=a?.issueByInfo?.epic?.childIssues?.nodes||[],b=!c?.searchEpicAssignableIssues?.pageInfo?.hasNextPage,y=!a?.issueByInfo?.epic?.childIssues?.pageInfo?.hasNextPage,S=p[0]?.id,w=e=>{const t=!h[e];E({...h,[e]:t})},R=function(e,t,n){const s=(0,_I.default)({"zhc-epic-issue-list-table__row--child":e});return{currentIssueHeader:function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,_I.default)(s,{"zhc-epic-issue-list-table__row--child-first":e&&n&&Boolean(t)})},currentIssueItem:function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,_I.default)(s,"zhc-epic-issue-list-table__row--hover",{"zhc-epic-issue-list-table__row--child-last":e&&r&&Boolean(t)&&!n})},otherIssuesHeader:(0,_I.default)(s,{"zhc-epic-issue-list-table__row--child-first":e&&!t}),otherIssuesItem:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,_I.default)(s,"zhc-epic-issue-list-table__row--hover",{"zhc-epic-issue-list-table__row--child-last":e&&t&&Boolean(n)})}}}(i,Boolean(v?.length),Boolean(I.length)),T={"--var-child-depth":o};return Ye.createElement(Ye.Fragment,null,m||0!==o?null:Ye.createElement(zqt,{className:R.currentIssueHeader(!0),epicId:a?.issueByInfo.epic?.id,headerRowStyle:T,isAddFormOpen:_,issueCount:v.length,onSeeBoardWithEpicPrompts:r,onToggleAddForm:()=>f(g===rHt?null:rHt),repositoryId:a?.issueByInfo.repository.id}),Ye.createElement(cqt,{issues:v,headerRowClassFunc:e=>(0,_I.default)(R.currentIssueHeader(e),{"zhc-epic-issue-list-table__row--first-pipeline-header":e}),headerRowStyle:T,skipTableHeaders:i||_,issueRenderer:(e,t)=>{const n=e.state===Vi.Closed,l=Boolean(e.pipelineIssue?.priority),c=Boolean(e.pullRequest),d=e.pipelineIssue?.id,p=e.pipelineIssue?.pipeline.id,m=Boolean(e.epic&&h[e.id]),E=g===e.id;return Ye.createElement(Ye.Fragment,null,Ye.createElement($qt,{className:R.currentIssueItem(t===v.length-1),isChildIssuesRendered:m,isPriority:l,isRenaming:E,issue:e,onExitEditMode:()=>f(null),onClickOpenSubEpic:w,rowStyle:T},i||!n||c?null:Ye.createElement(ZBt,{onMoveIssueAction:u,issueId:e.id}),!i&&!n&&Ye.createElement(aqt,{epicId:a?.issueByInfo?.epic?.id||null,onMoveIssueAction:u,issueId:e.id,onEnterIssueEditMode:()=>f(e.id),onRemoveIssueAction:s,isPriority:l,isPullRequest:e.pullRequest,pipelineId:p||void 0,pipelineIssueId:d||void 0,priorityId:S})),m?Ye.createElement(iHt,{issueNumber:e.number,repositoryGhId:e.repository.ghId,onRemoveIssueAction:s,onSeeBoardWithEpicPrompts:r,rowsAreChildIssues:!0,childDepth:o+1}):null)}}),b?null:Ye.createElement(sHt,null,Ye.createElement(Ale,{onVisible:()=>{d({variables:{after:c?.searchEpicAssignableIssues.pageInfo.endCursor}})}})),b&&I?.length?Ye.createElement(Ye.Fragment,null,Ye.createElement(NBt,{isHeaderRow:!0,className:R.otherIssuesHeader,style:T},Ye.createElement(PBt,{className:"zhc-grid-table__first-col zhc-epic-issue-list-table__cell--light zhc-grid-table__cell__title"},"Issues not in this Workspace"),Ye.createElement(PBt,{className:"zhc-grid-table__cell__title"},v?.length||i?null:"Estimate"),Ye.createElement(PBt,{className:"zhc-grid-table__cell__title"},v?.length||i?null:"Assignees"),Ye.createElement(PBt,{className:"zhc-grid-table__cell__title"},v?.length||i?null:"Labels")),I.map(((e,t)=>{const n=Boolean(e.epic)&&h[e.id],i=g===e.id;return Ye.createElement(Ye.Fragment,{key:`${e.number} + ${e.repository.id}`},Ye.createElement($qt,{className:R.otherIssuesItem(t===I.length-1),isChildIssuesRendered:n,isPriority:!1,isRenaming:i,issue:e,onExitEditMode:()=>f(null),onClickOpenSubEpic:w,rowStyle:T}),n?Ye.createElement(iHt,{issueNumber:e.number,repositoryGhId:e.repository.ghId,onRemoveIssueAction:s,onSeeBoardWithEpicPrompts:r,rowsAreChildIssues:!0,childDepth:o+1}):null)}))):null,b&&!y?Ye.createElement(sHt,null,Ye.createElement(Ale,{onVisible:()=>{l({variables:{after:a?.issueByInfo?.epic?.childIssues?.pageInfo?.endCursor}})}})):null)},aHt=e=>{const t=zBt(e.issueNumber,e.repositoryGhId),n=GBt(HBt,e.issueNumber,e.repositoryGhId);return n.loading||t.loading?Ye.createElement(tHt,null):Ye.createElement(kBt,{className:e.className,testId:"epic-issue-list-table-container",gridTemplateColumnsStyle:"minmax(280px, 3fr) 108px 93px minmax(175px, 1fr)"},Ye.createElement(oHt,nHt({},e,{epicQuery:t,epicIssuesQuery:n})))},lHt="BgFuFVxSol1XjlHit6fN",cHt="GsWFzsysRLARNWIubAG5",dHt="y5LYGXvhL8yLvEnj9sIq",uHt="QBPtB2XJMgJQPuQ0XpR6",pHt=e=>{let{completed:t=null,total:n=null,text:s}=e;return Ye.createElement("div",{className:cHt},Ye.createElement("strong",{className:dHt},null===t?Ye.createElement(mIe,{charCount:1}):(0,_t.rK)(t)),Ye.createElement("span",null," of "),Ye.createElement("strong",{className:dHt},null===n?Ye.createElement(mIe,{charCount:3}):(0,_t.rK)(n)),` ${s} completed`)},mHt=e=>{let{completed:t,total:n,text:s,progressBarType:r}=e;return Ye.createElement("div",{className:lHt,"data-cy":"epic-summary"},Ye.createElement(pHt,{completed:t,total:n,text:s}),Ye.createElement("div",{className:uHt},Ye.createElement(mde,{completed:t||0,total:n||0,type:r})))},hHt="uvqCOykusnzoBVdqXfw2",EHt=e=>{let{startOn:t,endOn:n,title:s,type:r,loading:i,isDateRangeClearable:o,onCalendarDateSet:a}=e;const l=ase(),c=!(0,l3.v9)(hw),[d,u]=(0,Ye.useState)(!1),[p,m]=(0,Ye.useState)(null),h=(0,Ye.useRef)(null),E=()=>{u(!d)};if(Boolean(t&&n)&&!i)return Ye.createElement(Ye.Fragment,null,Ye.createElement(H5,{ref:h,color:L5.PRIMARY,variant:z5.OUTLINED,onClick:E},Ye.createElement(uoe,null),Ye.createElement("span",{className:hHt},sm(t,n))),d&&Ye.createElement(QMe,{anchor:{current:h.current},close:()=>u(!1),title:`Set desired timeline for ${s}`,type:r,onCalendarDateSet:a,initialStartDate:t,initialEndDate:n,forcedPositions:{RIGHT:!0},isDateRangeClearable:o}));const g=i;return Ye.createElement(Ye.Fragment,null,c&&!i?Ye.createElement(P4,{anchorElement:p,className:"zhc-epic-issue-list__tooltip",onDismiss:()=>l("epic_issue_list_set_roadmap_dates_tooltip_dismissed",!0),steps:[{text:"Set the desired date for your epic to view it on the roadmap",nextLabel:"Got it"}],placement:"left-start",updatePositionOnAnchorReflow:!0}):null,Ye.createElement(H5,{ref:e=>m(e),onClick:()=>{l("epic_issue_list_set_roadmap_dates_tooltip_dismissed",!0),u(!d)},disabled:g},Ye.createElement(uoe,null),Ye.createElement("span",{className:hHt},"Set start and end date")),d&&Ye.createElement(QMe,{anchor:{current:p},close:()=>u(!1),title:`Set desired timeline for ${s}`,type:r,onCalendarDateSet:a,initialStartDate:t,initialEndDate:n,forcedPositions:{RIGHT:!0},isDateRangeClearable:o}))},gHt="m3vqa0jXqCMWXGlIEgfd",fHt="w7gHtt8gsXy3DY7AKaMW",_Ht="qkuYlFbmZYUaBUs50zQS",vHt="DD5TyEqrmST8g7ITVPgF",IHt=(0,_t.fB)("point","points"),bHt=(0,_t.fB)("Issue","Issues");function yHt(e){return null===e?{closed:0,total:0,open:0}:e}const SHt=e=>{let{issueEpic:t,title:n,startOn:s,endOn:r}=e;const i=yHt(t?.issueCountProgress),o=yHt(t?.issueEstimateProgress),a=(0,l3.v9)(Pa),{data:l,loading:c}=Nat({variables:{workspaceId:a}}),d=l?.workspace?.roadmap?.id,u=t?.id,p=LMe({id:u,__typename:"Epic"});return Ye.createElement("div",{className:gHt},Ye.createElement("div",{className:fHt},Ye.createElement("div",{className:_Ht},Ye.createElement("strong",{className:vHt},n||Ye.createElement(mIe,{charCount:20})),Ye.createElement("span",null," is an "),Ye.createElement("strong",{className:vHt},"epic")),Ye.createElement(EHt,{startOn:s,endOn:r,title:n,loading:c,onCalendarDateSet:(e,t)=>p(e,t,d),type:"Epic",isDateRangeClearable:!0})),Ye.createElement(mHt,{completed:i?.closed,total:i?.total,text:bHt(i?.total||0),progressBarType:pde.ISSUES}),Ye.createElement(mHt,{completed:o?.closed,total:o?.total,text:`Epic ${IHt(o?.total||0)}`,progressBarType:pde.STORY_POINTS}))},wHt=()=>Ye.createElement("div",{className:(0,_I.default)(gHt,Zqt)},Ye.createElement("div",{className:Yqt},Ye.createElement(hIe,{className:Jqt,roundedCorners:!0,size:"l",marginSize:"lg",animate:!0}),Ye.createElement(hIe,{roundedCorners:!0,marginSize:"ml",animate:!0}),Ye.createElement(hIe,{roundedCorners:!0,animate:!0}))),{router:RHt,board:THt,pages:CHt}=LG;const{router:kHt}=LG;const OHt=e=>{let{children:t,className:n,onSeeBoardWithEpicPrompts:s,disabled:r}=e;const i=NPt(s),o=!(0,l3.v9)(wA);return Ye.createElement(H5,{color:L5.SECONDARY,disabled:o||Boolean(r),"data-cy":"modify-epic",className:n,onClick:i},t)};OHt.defaultProps={onSeeBoardWithEpicPrompts:null};const NHt=e=>{let{className:t,onClick:n,children:s}=e;const r=ase(),i=(0,l3.v9)(hw),o=(0,l3.v9)(Ew),a=i&&!o,[l,c]=(0,Ye.useState)(null);return Ye.createElement(Ye.Fragment,null,a?Ye.createElement(P4,{className:"zhc-epic-issue-list__tooltip",onDismiss:()=>r("epic_issue_list_see_on_roadmap_tooltip_dismissed",!0),anchorElement:l,steps:[{text:"You can now view your epic on the roadmap to help you visualize your team's planned work",nextLabel:"Got it"}],placement:"right-end",updatePositionOnAnchorReflow:!0}):null,Ye.createElement(H5,{ref:e=>c(e),color:L5.SECONDARY,className:t,onClick:()=>{n(),a&&r("epic_issue_list_see_on_roadmap_tooltip_dismissed",!0)}},s))},PHt="U0mo1f_5KfQdYaKFCzOn",AHt="I_zmGTPtxGuws5ZEwbUX",DHt="b_EPiVNlZN14Y85UtId3",LHt="XnW2_FGrKp0jTt6Yt_U5",zHt="TWbQnZgnPsKYX8CUgJiI",MHt="CUawxsMQ5X51ir9v6luJ",xHt="FZrhp21HMvL0SbnvH_D9",FHt="aeejFnGQ0mz3XajxKZgf";function UHt(e){let{isModal:t,onSeeEpic:n,onSeeBoardWithEpicPrompts:s,updateExtensionEvents:r,onViewOnRoadmap:i}=e;const[o,a]=(0,Ye.useState)(!1),l=(0,l3.v9)(uA),c=(0,l3.v9)(mA),{data:d,loading:u}=zBt(c,l),p=d?.issueByInfo?.epic?.endOn,m=d?.issueByInfo?.epic?.startOn,h=Boolean(p&&m),{data:E,loading:g}=GBt(HBt,c,l),f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;const r=(0,l3.v9)(Na),i=(0,l3.v9)(FA),o=(0,l3.I0)(),a=but(),l=EI();return()=>{if(n){if(l&&s)return a(s),void o(RHt.openWorkspaceBoard({search:`epics=${s}`,workspace:r}));const n=nA(r,e,t,i);o(CHt.setSkipModalRestoreUrl(!0));const c=RHt.openWorkspaceBoard({workspace:r});o(c),o(THt.clearTagFilters()),o(Lr()),o(THt.addEpicFilters(n))}else{let n=`epics=${s}`;l&&s||(n=`epics=${tA(r,e,t,i)}`);const a=RHt.openWorkspaceBoard({search:n,workspace:r});o(a)}}}(d?.issueByInfo?.repository?.ghId,d?.issueByInfo?.number,t,d?.issueByInfo?.epic?.id),_=function(e,t){const n=(0,l3.v9)(Na),s=(0,l3.I0)(),r=`?epicId=${e}&epicTitle=${t}`;return()=>{const e=kHt.openWorkspaceRoadmap({workspace:n,search:r});s(e)}}(d?.issueByInfo?.epic?.id,d?.issueByInfo?.title),v=i?()=>i?.(d?.issueByInfo?.epic?.id,d?.issueByInfo?.title):_,I=n?.bind(null,d?.issueByInfo?.epic?.id)||f,b=E?.searchEpicAssignableIssues?.totalCount&&E.searchEpicAssignableIssues.totalCount>0,y=d?.issueByInfo?.epic?.childIssues?.totalCount&&d?.issueByInfo?.epic?.childIssues?.totalCount>0,S=(0,l3.v9)(cw),w=(0,l3.I0)(),R=(0,_I.default)(PHt,"zhc-epic-issue-list__container"),T=(0,_I.default)(AHt,"zhc-epic-issue-list");return Ye.createElement(Ye.Fragment,null,Ye.createElement("div",{className:R},u?Ye.createElement(wHt,null):Ye.createElement(SHt,{issueEpic:d?.issueByInfo?.epic,title:d?.issueByInfo?.title,startOn:m||null,endOn:p||null}),Ye.createElement("div",{className:T},Ye.createElement(aHt,{className:FHt,issueNumber:c,repositoryGhId:l,onRemoveIssueAction:r,onSeeBoardWithEpicPrompts:s})),Ye.createElement("div",{"data-testid":"epic-issue-list-footer",className:DHt},y?Ye.createElement(FSe,{isDismissed:S,linkHref:"https://help.zenhub.com/support/solutions/articles/43000010341",linkText:"Learn more",onClose:()=>{const e={key:"workspaces_issue_epics_alert_dismissed",value:!0};w(LG.onboarding.setOnboardingValue(e))}},Ye.createElement("span",{className:"zhu-blankspace-right zhu-text-important"},"Epics can contain work from other workspaces."),Ye.createElement("span",{className:"zhu-blankspace-right"},"You will see"),Ye.createElement("span",{className:"zhu-blankspace-right zhu-text-important"},"\u201cIssues not in this workspace\u201d"),Ye.createElement("span",{className:"zhu-blankspace-right"},"when the epic contains work from a repo that is not part of this workspace.")):null,Ye.createElement("div",{className:LHt},h?Ye.createElement(NHt,{className:MHt,onClick:v},"View on roadmap"):null,b?Ye.createElement(H5,{color:L5.SECONDARY,className:zHt,onClick:I},"View on board"):null,Ye.createElement(OHt,{className:xHt,disabled:g||u,onSeeBoardWithEpicPrompts:s},"Add issues to this epic")))),o?Ye.createElement(CBt,{onClose:()=>a(!1)}):null)}function BHt(e){let{children:t}=e;return(0,l3.v9)(UA)?t:null}function qHt(e){let{workspaceId:t,...n}=e;return Ye.createElement(BHt,null,Ye.createElement(F4.e,{client:ly()},Ye.createElement(sue,{workspaceId:t}),Ye.createElement(UHt,n)))}var HHt=n(64087),WHt=n.n(HHt),jHt=n(56238),GHt=n.n(jHt),KHt=n(27724),VHt=n.n(KHt),$Ht=n(77089),ZHt=n.n($Ht);const YHt=J().Model.extend({__name__:"MoveIssueSelector",fetchRepos(){const e=this;return ut().on((t=>{e.repos=t,e.trigger("change:reposChanged")}),A8.streams.repos$),A8.action.FetchRepos()},getIssueWithDiscussion:e=>Qe().props({issueInfo:fT(e),commentsList:_T(e)}).then((e=>ee.yGi("comments_list",e.commentsList,e.issueInfo))),copyIssue(e,t,n){const s=this;let r=[],i=!0;return ee.e$l("closeIssue")(n)&&({closeIssue:i}=n),this.getIssueWithDiscussion(e).then((e=>{if(!e)return null;r.push({body:e.body,html_url:e.html_url,updated_at:e.created_at,user:e.user}),r=ee.zoF(r,e.comments_list||[]);const n=s._concatComments(r);return n&&(t.body=n),function(e){return L2.Repo.createIssue(e)}(t)})).then((e=>{if(!e||!e.html_url){const e=VHt()({orgname:t.organization,reponame:t.repository});return Qe().reject(e)}return Qe().resolve(e)})).then((n=>i?s._closeIssue(e,ee.TSy(n,t)).then((()=>Qe().resolve(n))):Qe().resolve(n)))},_closeIssue:(e,t)=>hT({organization:e.organization,repo:e.repository,issue_number:e.issueId}).then((()=>(e.body=WHt()(t),mT(e)))).catch((()=>(e.body=WHt()(t),mT(e)))).then((n=>{if(!n||!n.html_url){const t=ZHt()({orgname:e.organization,reponame:e.repository});return Qe().reject(t)}return Qe().resolve(t)})),_concatComments(e){if(ee.xbD(e))return null;let t;return e.forEach((e=>{t=new Date(e.updated_at),e.formattedDate=t.toDateString()})),GHt()({comments:e})}}),JHt=YHt;var XHt=n(60599),QHt=n.n(XHt),eWt=n(62582),tWt=n.n(eWt),nWt=n(76416),sWt=n.n(nWt);const rWt=o8.extend({__name__:"MoveIssueSelectorView",className:"discussion-sidebar-item zh-sidebar-move",events:{'click [data-action="zh-move-issue-selector"]':"_showModal",'click [data-action="zh-close-modal"]':"_closeModal",'click [data-action="zh-menu-close"]':"_closeModal",'click [data-action="zh-move-issue-click-overlay"]':"_clickOverlay",'click [data-action="zh-select-repo"]':"_selectRepo",'click [data-action="zh-copy-issue-and-close"]':"_copyAndCloseIssue",'click [data-action="zh-copy-issue"]':"_moveIssue"},initialize(){this.listenTo(this.model,"change:reposChanged",this._renderSelector)},hideSelector(){this.$el.removeClass("zh-show-if-not-epic")},showSelector(){this.$el.addClass("zh-show-if-not-epic")},render(){se("MoveIssueSelectorView.render"),this.$el.html(QHt()()),this._renderSelector()},_filterRepos(e){if(se("MoveIssueSelectorView._filterRepos"),!e||ee.xbD(e))return[];const t=this.model.get("repositoryId"),n=ee.uF6(["id"],t);return ee.d1t(n,e)},_renderSelector(){se("MoveIssueSelectorView._renderSelector");const{repos:e}=this.model,t=this._filterRepos(e),n={organization:this.model.get("organization"),repositories:t};this.$body=this.$el.find(".zh-move-issue-button-body"),this.$modal=this.$el.find(".zh-move-issue-overlay"),this.$modal.html(tWt()(n)),this.$modal.find("input").focus()},_confirmRepoSelection(e){se("MoveIssueSelectorView._confirmRepoSelection"),this.$modal.html(sWt()(e))},_showModal(){se("MoveIssueSelectorView._showModal"),r6("Issue Feature Clicked",{Feature:"Move Issue to Another Repo"}),this.$modal.addClass("zh-show-overlay"),this._lazyLoadRepos()},_closeModal(){se("MoveIssueSelectorView._closeModal"),this.$modal.removeClass("zh-show-overlay")},_clickOverlay(e){se("MoveIssueSelectorView._clickOverlay");const t=this.$modal[0];t&&e.target.className!==t.className||this._closeModal()},_extractRepoInfo(e){se("MoveIssueSelectorView._extractRepoInfo");return{srcRepo:{organization:this.model.get("organization"),repository:this.model.get("repository"),issueId:this.model.get("issueId"),repoId:this.model.get("repositoryId"),title:r4.pages.issue.getIssueTitle()},destRepo:{organization:e.currentTarget.dataset.organization,repository:e.currentTarget.dataset.repo,repoId:e.currentTarget.dataset.repoId,title:r4.pages.issue.getIssueTitle()}}},_selectRepo(e){se("MoveIssueSelectorView._selectRepo");const t=this._extractRepoInfo(e);ee.YjB(ee.kKJ,ee.VO0(t.destRepo))||this._confirmRepoSelection(t.destRepo)},_lazyLoadRepos(){se("MoveIssueSelectorView._lazyLoadRepos"),this.model.fetchRepos()},_copyIssue(e,t,n){se("MoveIssueSelectorView._copyIssue");const s=this;return ee.YjB(ee.kKJ,ee.VO0(t))?null:s.model.copyIssue(e,t,n).then((e=>{s._closeModal(),window.location.href=e.html_url})).catch((e=>{s._confirmRepoSelection({error:e.error.message})}))},_moveIssue(e){se("MoveIssueSelectorView._moveIssue"),r6("Issue Feature Clicked",{Feature:"Move Issue to Another Repo - Copy"});const t=this._extractRepoInfo(e);return this._copyIssue(t.srcRepo,t.destRepo,{closeIssue:!1})},_copyAndCloseIssue(e){se("MoveIssueSelectorView._copyAndCloseIssue"),r6("Issue Feature Clicked",{Feature:"Move Issue to Another Repo - Copy and Close"});const t=this._extractRepoInfo(e);return this._copyIssue(t.srcRepo,t.destRepo,{closeIssue:!0})}}),iWt=rWt,oWt=function(){const e=r4.pages.github.findUserMeta();return{actor:{github:{id:e.ghId,username:e.ghUsername,avatarUrl:e.avatar}},createdAt:new Date}},aWt=J().Model.extend({__name__:"IssueEvent",initialize(){se("IssueEvent.initialize")}});aWt.buildLocalTransferIssue=(e,t,n)=>{const s=new aWt;return s.set(j.ZP.extend(oWt(),{type:"transferIssue",srcPipelineName:e,destPipelineName:t,workspace:n})),s},aWt.buildLocalEstimate=function(e,t){const n=new aWt;return n.set(j.ZP.extend(oWt(),{type:"estimateIssue",oldEstimate:e,newEstimate:t})),n},aWt.buildLocalConvertIssueToEpic=function(){const e=new aWt;return e.set(j.ZP.extend(oWt(),{type:"convertIssueToEpic"})),e},aWt.buildLocalConvertEpicToIssue=function(){const e=new aWt;return e.set(j.ZP.extend(oWt(),{type:"convertEpicToIssue"})),e},aWt.buildLocalIssueAddRemoveEpic=function(e,t){const n=new aWt;return n.set(j.ZP.extend(oWt(),{type:"add"===e?"addEpicToIssue":"removeEpicFromIssue",other_issue:t})),n},aWt.buildLocalEpicAddRemoveIssue=function(e,t){const n=new aWt;return n.set(j.ZP.extend(oWt(),{type:"add"===e?"addIssueToEpic":"removeIssueFromEpic",other_issue:t})),n},aWt.buildLocalConnectPR=function(e){const t=new aWt;return t.set(j.ZP.extend(oWt(),{type:"connectPR",other_issue:e,meta:{type:"pull_request"}})),t},aWt.buildLocalDisconnectPR=function(e){const t=new aWt;return t.set(j.ZP.extend(oWt(),{type:"disconnectPR",other_issue:e,meta:{type:"pull_request"}})),t};const lWt=aWt,{issue:cWt}=LG;function dWt(e){return{has_push_permission:e.hasPushPermission,is_pull_request:e.isPullRequest,issue_number:e.issueId,organization:e.organization,repo:e.repository,repo_id:e.repositoryId,title:e.issueTitle,workspace:e.workspace,workspaceId:e.workspace._id}}const uWt=J().Model.extend({__name__:"Epic",initialize(e,t,n,s){this.issueMeta=t,this.events=n,this.store=s,this.store.subscribe(this._onStoreChange.bind(this))},_onStoreChange(){const e=this._getState(),t=pA(e),n=UA(e),s=BA(e),r=this.lastIsEpic!==n&&s,i=null==this.lastIsEpic;null!=t&&r&&(this.lastIsEpic=n,i||this.events.fetch(),n&&this.fetchAll(),this.trigger("change"))},_getStore(){return this.store},_getState(){return this._getStore().getState()},isEpic(){return Boolean(UA(this._getState()))},maybeCreateThenFetch(e){se("Epic.maybeCreateThenFetch");const t=this;let n;n=Vt.Z.isEpicInStorageValid(t.issueMeta,e)?t.createFromStorage(e.epic):Qe().resolve(),n.then((()=>{t.fetchIsEpic(t.issueMeta)}))},fetchIsEpic(){se("Epic.fetchIsEpic");const e=this._getStore(),t=dWt(this.issueMeta);e.dispatch(cWt.setIncompleteIssueInfo({title:this.issueMeta.issueTitle})),e.dispatch(cWt.loadIsEpic(t))},fetchAll(){se("Epic.fetchAll");const e=this._getStore(),t=dWt(this.issueMeta);e.dispatch(cWt.loadPipelinesForIssue(t)),e.dispatch(wU(t))},createFromStorage(e){se("Epic.createFromStorage");const t=this,n={repo_id:this.issueMeta.repositoryId,issue_number:this.issueMeta.issueId,issues:e.issues};return Qe().resolve(RO(n)).catch((e=>{400===e.status&&null!=e.responseJSON.message&&window.alert(e.responseJSON.message)})).then((e=>{t._updateIssueEvents({add_issues:e.issues||[],remove_issues:[]})}))},convertEpicToIssue(){se("Epic.convertEpicToIssue");const e=this;this._pushLocalEventConvertEpic();const t={repo_id:this.issueMeta.repositoryId,issue_number:this.issueMeta.issueId};return r6("Delete Epic",{}),TO(t).then((()=>{e.fetchIsEpic()}))},convertIssueToEpic(){se("Epic.convertIssueToEpic");const e=this;this.trigger("change"),this._pushLocalEventConvertIssue();const t={repo_id:this.issueMeta.repositoryId,issue_number:this.issueMeta.issueId};return r6("Create Epic",{Location:"Convert issue"}),RO(t).then((()=>{e.fetchIsEpic()}))},_pushLocalEventConvertIssue(){if(this.events){const e=lWt.buildLocalConvertIssueToEpic();this.events.pushEvent(e)}},_pushLocalEventConvertEpic(){if(this.events){const e=lWt.buildLocalConvertEpicToIssue();this.events.pushEvent(e)}},_updateIssueEvents(e){if(!this.events)return;const t=e.add_issues,n=e.remove_issues,s=t.map((e=>lWt.buildLocalEpicAddRemoveIssue("add",e))),r=n.map((e=>lWt.buildLocalEpicAddRemoveIssue("remove",e)));this.events.pushManyEvents(s),this.events.pushManyEvents(r)}}),pWt=uWt;var mWt=n(28816),hWt=n.n(mWt);const EWt=o8.extend({__name__:"EpicStatusView",tagName:"div",className:"zh-epic-issue-status",initialize(){se("EpicStatusView.initialize"),this.listenTo(this.model,"change",this.render.bind(this)),this.listenTo(this.model,"clear",this.destroy)},render(){return se("EpicStatusView.render"),this.model&&this.model.isEpic()?(this.$el.html(hWt()()),r4.pages.issue.injectEpicStatus(this.el),this.$el):null}});function gWt(){return gWt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gWt.apply(this,arguments)}const fWt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--chevron-up-down",t].filter(Boolean).join(" "),"aria-label":"chevron-up-down",role:"img",...n};return Ye.createElement("svg",gWt({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},s),Ye.createElement("defs",null,Ye.createElement("path",{id:"chevron-up-down_svg__a",d:"M11.5 6.914l-3.293 3.293a1 1 0 11-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 11-1.414 1.414zm3.293 6.879a1 1 0 011.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414l3.293 3.293z"}),Ye.createElement("mask",{id:"chevron-up-down_svg__b",fill:"currentColor"},Ye.createElement("use",{fillRule:"evenodd",xlinkHref:"#chevron-up-down_svg__a"}))),Ye.createElement("g",{fill:"none",fillRule:"evenodd"},Ye.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#chevron-up-down_svg__a"}),Ye.createElement("g",{fill:"currentColor",mask:"url(#chevron-up-down_svg__b)"},Ye.createElement("path",{d:"M0 0h24v24H0z"}))))},_Wt=()=>Ye.createElement(Xpe,{content:"Untitled Workspace",type:"secondary"}),vWt=e=>{let{onClick:t}=e;return Ye.createElement(Ope,{customButtonClass:"zhc-btn zhc-breadcrumbs__button__rename",modifiers:["extra-small"],text:"Rename",onClick:t})};vWt.propTypes={onClick:SI().func.isRequired};const IWt=e=>{let{isActive:t,isExtensionTopbar:n,onClick:s,onRenameClick:r,workspace:i}=e;const o=i.displayName,a=!i.name&&!(0,ha.VO)(i),l=(0,_I.default)("zhc-breadcrumbs__button",{"zhc-breadcrumbs__button--active":t},{"zhc-breadcrumbs__button--untitled-workspace":a});return Ye.createElement(Ye.Fragment,null,Ye.createElement("span",{className:l,onClick:s},(!a||!n)&&Ye.createElement("span",{className:"zhc-breadcrumbs__button__name"},o),!a&&Ye.createElement(fWt,null),a&&Ye.createElement(_Wt,null),a&&Ye.createElement(vWt,{onClick:r})))};IWt.propTypes={isActive:SI().bool.isRequired,isExtensionTopbar:SI().bool.isRequired,workspace:SI().shape({displayName:SI().string,name:SI().string}).isRequired,onClick:SI().func,onRenameClick:SI().func},IWt.defaultProps={onClick:null,onRenameClick:SI().func.isRequired};const bWt=IWt,yWt=e=>{let{copy:t,showFullPath:n}=e;const s=(0,_I.default)("zhc-breadcrumbs__copy",{"prevent-truncation":n});return Ye.createElement("span",{className:s,"data-cy":"breadcrumbs-secondary"},t)};yWt.propTypes={copy:SI().string.isRequired,showFullPath:SI().bool};const SWt=yWt,wWt=()=>Ye.createElement(kue,{className:"zhc-breadcrumbs__divider"}),RWt=ee.WAo(((e,t,n,s)=>ee.HCG([ee.Ck5((t=>t.id===e)),ee.zU3((e=>((e,t)=>{const n=t.findIndex((t=>t.id===e.id));return-1===n?t.length+1:n})(e,n))),ee.zU3((e=>e.displayName.toLowerCase()))])(s))),TWt=e=>{let{title:t,description:n}=e;return Ye.createElement("div",{className:"zhc-selection-list-item"},Ye.createElement("div",null,t),Ye.createElement("div",{className:"zhu-text-secondary"},n))};TWt.propTypes={title:SI().string.isRequired,description:SI().string},TWt.defaultProps={description:""};const CWt=yEe(TWt),kWt=bb.Ps`
  query getWorkspacesByRepoGhIds($ghIds: [Int!]!) {
    repositoriesByGhId(ghIds: $ghIds) {
      id
      workspacesConnection {
        nodes {
          id
          name
          description
          displayName
          repositoriesConnection {
            nodes {
              id
              name
              ghId
            }
          }
        }
      }
    }
  }
`;function OWt(){return OWt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},OWt.apply(this,arguments)}function NWt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const PWt=e=>{let{activeWorkspace:t,client:n,closeDropdown:s,dropdownTitle:r="See issue in another workspace",isDropdownActive:i,isExtensionTopbar:o,isInfoAlertDismissed:a,onDismissInfoAlert:l,onRenameClick:c,onSelectWorkspace:d,openDropdown:u,openWorkspaceSwitcher:p,repoIdFilter:m,showSwitchWorkspaceBtn:h,trackWorkspaceSwitch:E,userName:g}=e;const[f,_]=(0,Ye.useState)(!1),[v,I]=(0,Ye.useState)(),b=function(){var e,s=(e=function*(){_(!0);const e=t.repos.map((e=>e.repo_id)),s=m?e.filter((e=>e===m)):e,{data:r}=yield n.query({query:kWt,variables:{ghIds:s},fetchPolicy:"network-only"}),i=r.repositoriesByGhId.reduce(((e,t)=>(t.workspacesConnection.nodes.forEach((t=>{e[t.id]=t})),e)),{}),{data:o}=yield WG(),a=o?.recentlyViewedWorkspaces.nodes||[],l=Object.values(i),c=RWt(t._id,g,a)(l);_(!1),I(c),m6(v6.WORKSPACE_SWITCHER_INITIAL_LOADED),E6([I6.WORKSPACE_SWITCHER_INITIAL_LOAD],(e=>[e.name,{Action:"Initial Load",Time:e.duration}]))},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){NWt(i,s,r,o,a,"next",e)}function a(e){NWt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(){return s.apply(this,arguments)}}();(0,Ye.useEffect)((()=>{!i||f||v||b()}),[i,f,v]);const y=()=>{i?s():u()},S=v?m?v.filter((e=>{const t=e.repositoriesConnection?.nodes?.map((e=>e.ghId));return t?.includes(m)})):v:null;return Ye.createElement("span",{className:"zhc-breadcrumbs__dropdown","data-cy":"breadcrumbs","data-zh-flyover":"interactive"},Ye.createElement(bWt,{isActive:i,isExtensionTopbar:o,onClick:y,onRenameClick:c,workspace:t}),i&&Ye.createElement($te,{allowSearch:!1,banner:Ye.createElement(FSe,{isDismissed:a,linkText:"Learn more",linkHref:"https://help.zenhub.com/support/solutions/articles/43000495219",onClose:l},Ye.createElement("span",{className:"zhu-blankspace-right"},"See different board workflows by switching to another workspace that uses some of the same repos.")),emptyStateText:"No workspaces found",footer:h?Ye.createElement("span",{className:"zhc-breadcrumbs__dropdown__footer"},Ye.createElement(Ope,{text:"Switch to another workspace","data-cy":"switch-workspace",onClick:()=>{y(),p&&p()},modifiers:["text","text-primary"]})):null,isActive:i,isFilterable:!1,styleType:Ote.ITEMS_UNDERLINED,toggleOpen:y,title:r},S?S.map((e=>Ye.createElement(CWt,{key:e.id,title:e.displayName,selected:e.id===t._id,description:e.description,select:(t,n)=>{s();const r=Dne(n);E(e.id),d(e.id,r)}}))):Ye.createElement(Fte,{text:"Loading..."})))},AWt=e=>{const t=(0,Dae.x)();return Ye.createElement(PWt,OWt({},e,{client:t}))},DWt=Vne(!0,!0),LWt=e=>{let{copy:t,link:n}=e;return Ye.createElement(Ye.Fragment,null,Ye.createElement(wWt,null),Zne(n,t,DWt,{className:"zhc-breadcrumbs__link"}))};LWt.propTypes={copy:SI().string.isRequired,link:SI().string.isRequired};const zWt=LWt,MWt=e=>{let{issueLink:t,issueTitle:n}=e;return ee.kKJ(t)||ee.kKJ(n)?Ye.createElement(hIe,{size:"s"}):Ye.createElement(zWt,{copy:n,link:t})};MWt.propTypes={issueLink:SI().string,issueTitle:SI().string},MWt.defaultProps={issueLink:null,issueTitle:null};const xWt=MWt,FWt=e=>{let{reportName:t}=e;return(0,_t.KN)(t)?null:Ye.createElement(Ye.Fragment,null,Ye.createElement(wWt,null),t&&Ye.createElement(SWt,{copy:t}))};FWt.propTypes={reportName:SI().string},FWt.defaultProps={reportName:null};const UWt=FWt,BWt=ee.ETc(["breadcrumbs","isDefaultDropdownOpen"]),qWt=ee.ETc(["breadcrumbs","isIssuePageDropdownOpen"]),HWt=new(C6.extend({dispatch(e){se("InterStoreStream::",e),this.trigger(e.type,e)}}));function WWt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{breadcrumbs:jWt,onboarding:GWt,router:KWt,workspaceSwitcher:VWt}=LG,{breadcrumbs:$Wt}=pr,{PageConstants:ZWt}=ma;function YWt(e,t){const{workspace:n}=t,s=t.issueRepoId||uA(e),r=t.issueOrganization||bA(e),i=t.issueRepository||yA(e),o=t.issueNumber||mA(e),a=t.issueTitle||hA(e);return{issueLink:ma.getIssuePath({workspace:n,organization:r,repository:i,issue_number:o}),issueNumber:o,organization:r,repoId:s,repository:i,title:a}}function JWt(e,t,n){const s=kh(e),r=t.issueNumber?ZWt.VIEW_ISSUE:ma.parsePageFromPath(n.pathname);let i,o="See in another workspace",a=ma.getWorkspacePath,l=null;switch(r){case void 0:case null:break;case ZWt.BOARD:i="Board",o="See issues in another workspace",a=e=>ma.getBoardPath({workspace:e});break;case ZWt.MILESTONES:i="Milestones",o="See milestones in another workspace",a=e=>ma.getMilestonesPath({workspace:e});break;case ZWt.NOTIFICATIONS:i="Notifications",o="See notifications in another workspace",a=e=>ma.getNotificationsPath({workspace:e});break;case ZWt.CREATE_ISSUE:l=YWt(e,t),i="Create "+(function(e,t){return t.issueType||_A(e)}(e,t)===Hx.EPIC?"epic":"issue"),a=e=>ma.getNewIssuePath({workspace:e,organization:l.organization,repository:l.repository});break;case ZWt.VIEW_ISSUE:{o="See Issue in another workspace",l=YWt(e,t);const{issueNumber:n,repository:s,organization:r}=l,c=n?`#${n}`:"";i=r&&s&&c?`${r}/${s}${c}`:"",a=e=>ma.getIssuePath({workspace:e,organization:r,repository:s,issue_number:n});break}case ZWt.REPORTS:switch(s){case yh.HOME:i="Reports overview",a=e=>ma.getReportsPath({workspace:e});break;case yh.BURNDOWN_CHART:i="Burndown report",o="See burndown chart in another workspace",a=e=>ma.getReportsPath({workspace:e,type:"burndown"});break;case yh.VELOCITY_CHART:i="Velocity tracking",o="See velocity chart in another workspace",a=e=>ma.getReportsPath({workspace:e,type:"velocity"});break;case yh.RELEASE_REPORT:i="Release report",o="See release report in another workspace",a=e=>ma.getReportsPath({workspace:e,type:"release"});break;case yh.CUMULATIVE_CHART:i="Cumulative flow",o="See cumulative flow in another workspace",a=e=>ma.getReportsPath({workspace:e,type:"cumulative"});break;case yh.CONTROL_CHART:i="Control chart",o="See control chart in another workspace",a=e=>ma.getReportsPath({workspace:e,type:"control"})}break;case ZWt.ROADMAP:i="Roadmap",o="See the roadmap of another workspace",a=e=>ma.getRoadmapPath({workspace:e});break;case ZWt.WORKFLOWS:i="Workflows",o="See the workflows of another workspace",a=e=>ma.getWorkflowsPath({workspace:e})}return{currentPage:r,dropdownTitle:o,getNavigatePath:a,issueInfo:l,pathCopy:i}}class XWt extends Ye.PureComponent{constructor(){var e;super(...arguments),e=this,this.onSelectWorkspaceRegularClick=e=>{const{currentPage:t,getNavigatePath:n,goTo:s,onSelectWorkspaceCustom:r,userName:i}=this.props;if(r)return void r(e);if(F&&(Oy({workspaceId:e._id,userName:i}),!t))return void zx.getBackboneRouter().reloadRoute();const o=n(e),[a,l]=o.split(/\?(.+)/);s({path:a,search:l})},this.onSelectWorkspaceAltClick=e=>{const{currentPage:t,getNavigatePath:n,openInNewTab:s,ownerName:r,repositoryName:i}=this.props;let o=null;o=F&&t?ma.appendRepoPathToPath({organization:r,repository:i,hashPath:n(e)}):F?window.location.href:n(e),s(o)},this.onRenameClick=e=>{const{currentPage:t,ownerName:n,repositoryName:s,openWorkspaceEditor:r,workspace:i}=this.props;if(e.stopPropagation(),F&&!t){const e=ma.appendRepoPathToPath({organization:n,repository:s,hashPath:ma.getEditWorkspacePath({workspace:i})});window.location.href=e}else r({workspaceId:i._id})},this.onSelectWorkspace=function(){var t,n=(t=function*(t,n){const{dismissRelatedWorkspacesInfoAlert:s}=e.props;s();const r=yield xy.getWorkspace({workspaceId:t});n?e.onSelectWorkspaceAltClick(r):e.onSelectWorkspaceRegularClick(r)},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){WWt(i,s,r,o,a,"next",e)}function a(e){WWt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),this.renderBurndownNameSection=()=>{const{burndownName:e}=this.props;return Ye.createElement(UWt,{reportName:e})},this.renderReleaseNameSection=()=>{const{releaseName:e}=this.props;return Ye.createElement(UWt,{reportName:e})},this.renderIssueLinkSection=()=>{const{issueLink:e,issueTitle:t}=this.props;return Ye.createElement(xWt,{issueLink:e,issueTitle:t})},this.renderPath=()=>{const{isBurndown:e,isRelease:t,isViewIssuePage:n,pathCopy:s,showWorkspaceSwitcher:r}=this.props;return Ye.createElement(Ye.Fragment,null,r&&Ye.createElement(wWt,null),s&&Ye.createElement(SWt,{copy:s,showFullPath:!r}),e&&this.renderBurndownNameSection(),t&&this.renderReleaseNameSection(),n&&this.renderIssueLinkSection())}}componentDidMount(){const{initOnboarding:e,openDefaultDropdown:t,openIssuePageDropdown:n}=this.props;e(),F&&(this.storeStream=HWt,this.storeStream.on($Wt.OPEN_ISSUE_PAGE_DROPDOWN,(()=>{n()})),this.storeStream.on($Wt.OPEN_DEFAULT_DROPDOWN,(()=>{t()})))}componentWillUnmount(){F&&(this.storeStream.off($Wt.OPEN_ISSUE_PAGE_DROPDOWN),this.storeStream.off($Wt.OPEN_DEFAULT_DROPDOWN))}render(){const{closeDefaultDropdown:e,closeIssuePageDropdown:t,dismissRelatedWorkspacesInfoAlert:n,dropdownTitle:s,isDefaultDropdownOpen:r,isExtensionTopbar:i,isIssuePageDropdownOpen:o,isRelatedWorkspacesAlertDismissed:a,isViewIssuePage:l,openAndLoadWorkspaceSwitcher:c,openDefaultDropdown:d,openIssuePageDropdown:u,trackWorkspaceSwitch:p,repoIdFilter:m,repositoryName:h,showPath:E,showSwitchWorkspaceBtn:g,showWorkspaceSwitcher:f,userName:_,workspace:v}=this.props,I=(0,_I.default)("zhc-breadcrumbs",{"zhc-breadcrumbs--default":!i,"zhc-breadcrumbs--extension-topbar":i}),b=l?o:r,y=l?t:e;return Ye.createElement("span",{className:I},h&&f?Ye.createElement(AWt,{activeWorkspace:v,closeDropdown:y,dropdownTitle:s,isDropdownActive:b,isExtensionTopbar:i,isInfoAlertDismissed:a,onDismissInfoAlert:n,onRenameClick:this.onRenameClick,onSelectWorkspace:this.onSelectWorkspace,openDropdown:()=>{m6(v6.WORKSPACE_SWITCHER_OPENED),l?u():d()},openWorkspaceSwitcher:g?c:null,trackWorkspaceSwitch:p,repoIdFilter:m,showSwitchWorkspaceBtn:g,userName:_}):null,!h&&v?.name,E?this.renderPath():null)}}XWt.propTypes={closeDefaultDropdown:SI().func.isRequired,closeIssuePageDropdown:SI().func.isRequired,dismissRelatedWorkspacesInfoAlert:SI().func.isRequired,dropdownTitle:SI().string.isRequired,getNavigatePath:SI().func.isRequired,goTo:SI().func.isRequired,initOnboarding:SI().func.isRequired,openAndLoadWorkspaceSwitcher:SI().func.isRequired,openDefaultDropdown:SI().func.isRequired,openInNewTab:SI().func.isRequired,openIssuePageDropdown:SI().func.isRequired,openWorkspaceEditor:SI().func.isRequired,trackWorkspaceSwitch:SI().func.isRequired,userName:SI().string.isRequired,workspace:SI().shape({_id:SI().string,name:SI().string}).isRequired,burndownName:SI().string,currentPage:SI().string,isBurndown:SI().bool,isDefaultDropdownOpen:SI().bool,isExtensionTopbar:SI().bool,isIssuePageDropdownOpen:SI().bool,isRelatedWorkspacesAlertDismissed:SI().bool,isRelease:SI().bool,issueLink:SI().string,issueTitle:SI().string,isViewIssuePage:SI().bool,ownerName:SI().string,pathCopy:SI().string,releaseName:SI().string,repoIdFilter:SI().number,repositoryName:SI().string,showPath:SI().bool,showSwitchWorkspaceBtn:SI().bool,showWorkspaceSwitcher:SI().bool,onSelectWorkspaceCustom:SI().func},XWt.defaultProps={burndownName:null,currentPage:null,isBurndown:!1,isDefaultDropdownOpen:!1,isExtensionTopbar:!1,isIssuePageDropdownOpen:!1,isRelatedWorkspacesAlertDismissed:!1,isRelease:!1,issueLink:null,issueTitle:null,isViewIssuePage:!1,repoIdFilter:null,pathCopy:null,releaseName:null,showPath:!0,showSwitchWorkspaceBtn:!0,showWorkspaceSwitcher:!0,onSelectWorkspaceCustom:null,ownerName:null,repositoryName:null};const QWt=(0,$8.EN)((0,l3.$j)((function(e,t){const n=t.actualLocation||t.location,{workspace:s}=t,{currentPage:r,dropdownTitle:i,getNavigatePath:o,issueInfo:a,pathCopy:l}=JWt(e,t,n),c=r===ZWt.REPORTS?kh(e):null,d=c===yh.BURNDOWN_CHART,u=c===yh.RELEASE_REPORT,p=r===ZWt.VIEW_ISSUE,m=function(e,t,n){return F?e===ZWt.VIEW_ISSUE?n:t:e===ZWt.CREATE_ISSUE||e===ZWt.VIEW_ISSUE?n:null}(r,Ba(e),a?a.repoId:null);return{...d&&{burndownName:Gm(e)},workspace:s,currentPage:r,dropdownTitle:i,getNavigatePath:o,isBurndown:d,isDefaultDropdownOpen:BWt(e),isExtensionTopbar:t.isExtensionTopbar,isIssuePageDropdownOpen:qWt(e),isRelatedWorkspacesAlertDismissed:iw(e),isRelease:u,issueLink:a?a.issueLink:null,issueTitle:a?a.title:null,isViewIssuePage:p,ownerName:Qa(e),pathCopy:l,releaseName:pf(e),repoIdFilter:m,repositoryName:Ja(e),showPath:t.showPath,showSwitchWorkspaceBtn:t.showSwitchWorkspaceBtn,userName:_u(e)}}),(function(e,t){return{closeDefaultDropdown(){e(jWt.closeDefaultDropdown())},closeIssuePageDropdown(){e(jWt.closeIssuePageDropdown())},dismissRelatedWorkspacesInfoAlert(){const t={key:"workspaces_breadcrumbs_related_workspaces_alert_dismissed",value:!0};e(GWt.setOnboardingValue(t))},goTo(t){e(KWt.goTo(t))},initOnboarding(){BG(e,["workspaces_breadcrumbs_related_workspaces_alert_dismissed"])},openAndLoadWorkspaceSwitcher(){e(VWt.open())},openDefaultDropdown(){e(jWt.openDefaultDropdown())},openInNewTab(t){e(KWt.openInNewTab(t))},openIssuePageDropdown(){e(jWt.openIssuePageDropdown())},openWorkspaceEditor(t){e(oZ.openFromWorkspaceId(t))},trackWorkspaceSwitch(t){e(VWt.trackFrequentlyVisitedItem({itemType:"Workspace",repoId:null,workspaceId:t}))},onSelectWorkspaceCustom:t.onSelectWorkspaceCustom}}))(XWt));class ejt extends Ye.PureComponent{componentDidMount(){const{workspace:e}=this.props;e&&n4.adjustPageHeaderForBreadcrumbs()}componentDidUpdate(e){const{workspace:t}=this.props;!e.workspace&&t&&n4.adjustPageHeaderForBreadcrumbs()}componentWillUnmount(){n4.cleanPageHeaderAdjustements()}render(){const{workspace:e}=this.props;return e?Ye.createElement("span",null,Ye.createElement("span",{className:"path-divider"},"/"),Ye.createElement(F4.e,{client:ly()},Ye.createElement(QWt,{showPath:!1,showSwitchWorkspaceBtn:!0,isExtensionTopbar:!0,workspace:e}))):null}}ejt.propTypes={workspace:SI().shape({})},ejt.defaultProps={workspace:null};const tjt=(0,$8.EN)((0,l3.$j)((function(e){return{isSingleRepoWorkspace:Va(e),workspace:Na(e)}}))(ejt)),njt=(e,t)=>Ye.createElement(l3.zt,{store:e},Ye.createElement(fr.xI,{history:t},Ye.createElement(tjt,null))),sjt="issue.add_to_sprint",rjt="issue.remove_from_sprint",ijt=e=>"created_at"in e?e.created_at:"createdAt"in e?e.createdAt:null,ojt=(e,t)=>{const n=ijt(e),s=ijt(t);return"automated"in t&&"parent_id"in t&&"id"in e&&t.parent_id===e.id?-1:"automated"in e&&"parent_id"in e&&"id"in t&&e.parent_id===t.id?1:n&&s?n===s?0:n<s?-1:1:0},ajt=["addIssueToEpic","removeIssueFromEpic"];function ljt(e,t,n){if(function(e){return ee.r3W(e.type,ajt)}(e)&&t){const s=e.type===t.type,r=e.actor.github.id===t.actor.github.id,i=n[0]||e,o=new Date(i.createdAt).getTime(),a=new Date(t.createdAt).getTime(),l=Math.abs(o-a);return s&&r&&l<1e4}return!1}function cjt(e){const t=[];let n=[];for(let s=0;s<e.length;s+=1){const r=e[s];ljt(r,e[s+1],n)?n.push(r):n.length?(n.push(r),t.push(ee.TSy(n[0],{events:n})),n=[]):t.push(r)}return t}const djt=ee.zGw((function(e,t){return e.filter((e=>((e,t)=>!(e.type===sjt||e.type===rjt)||!("workspace"in e)||e.workspace?._id===t)(e,t)))}),cjt,ee.UID((function(e){return ee.yGi("createdAt",new Date(e.createdAt),e)})),(e=>e.sort(ojt))),ujt=J().Collection.extend({__name__:"IssueEvents",model:lWt,initialize(e){se("IssueEvents.initialize",e),this.issueMeta=e},fetch(){const e=this,{issueMeta:t}=e,n={repo_id:t.repositoryId||t.repo_id,issue_number:t.issueId||t.issue_number};e.fetchZHEvents(n).then((t=>{e.set(ee.xHg(t),{silent:!0}),e.trigger("load")}))},fetchZHEvents(e){const{issueMeta:t}=this;return pT(e).then((e=>djt(e,t.workspace._id)))},pushEvent(e){se("IssueEvents.pushEvent",e),this.push(e)},pushEvents(e){const t=this;se("IssueEvents.pushEvents",e),e.forEach((e=>{t.push(e)}))},pushManyEvents(e){se("IssueEvents.pushManyEvents",e);const t=cjt(ee.UID((function(e){return e.toJSON()}),e));this.add(t)}}),pjt=ujt;var mjt=n(42942),hjt=n.n(mjt),Ejt=n(18337),gjt=n.n(Ejt),fjt=n(21192),_jt=n.n(fjt),vjt=n(89741),Ijt=n.n(vjt),bjt=n(86235),yjt=n.n(bjt),Sjt=n(87668),wjt=n.n(Sjt),Rjt=n(17807),Tjt=n.n(Rjt),Cjt=n(49336),kjt=n.n(Cjt),Ojt=n(82265),Njt=n.n(Ojt),Pjt=n(83574),Ajt=n.n(Pjt),Djt=n(20767),Ljt=n.n(Djt),zjt=n(18606),Mjt=n.n(zjt),xjt=n(32367),Fjt=n.n(xjt),Ujt=n(90736),Bjt=n.n(Ujt),qjt=n(29183),Hjt=n.n(qjt),Wjt=n(49262),jjt=n.n(Wjt),Gjt=n(42441),Kjt=n.n(Gjt),Vjt=n(41740),$jt=n.n(Vjt);const Zjt={addIssueToEpic:Kjt(),removeIssueFromEpic:Kjt(),addIssueToEpicMulti:jjt(),removeIssueFromEpicMulti:jjt(),estimateIssue:Hjt(),transferIssue:Bjt(),convertEpicToIssue:Fjt(),convertIssueToEpic:Fjt(),addEpicToIssue:Mjt(),removeEpicFromIssue:Mjt(),connectPR:Ljt(),disconnectPR:Ajt(),addIssueToRelease:Njt(),removeIssueFromRelease:kjt(),addBlockedBy:Tjt(),removeBlockedBy:wjt(),addBlocking:yjt(),removeBlocking:Ijt(),setIssuePriority:_jt(),add_to_sprint:$jt(),remove_from_sprint:$jt()};function Yjt(e,t,n){return t?gjt()({username:e,avatar:t,userId:n}):hjt()({username:e,userId:n})}const Jjt=e=>{if(!e)return"a deleted Workspace";const t=e.displayName;return t.length<=ha.kR?t:`${t.slice(0,ha.kR)}...`},Xjt={transferIssue:e=>{const t={...e,meta:e.meta||{},workspaceName:Jjt(e.workspace)};if(ee.kKJ(t.meta.via)||ee.kKJ(t.other_issue))return t;const n=un(t.repoId,t.issue),s=$t(n,t.meta.via.issue)?"connected PR":"connected Issue";return ee.yGi("other_issue_type",s,t)}},Qjt=e=>{const t=Xjt[e.type];return ee.kKJ(t)?e:t(e)},eGt=o8.extend({className:"TimelineItem zh-timeline-item",initialize(e){this.options=e},events:{'click [data-action="toggle-list"]':"_handleToggleList"},render(){let e=this.model.toJSON();e.automated&&e.workspace&&(e=(e=>{const t=ma.getRepoPath({organization:e.organization,repository:e.repository}),n=ma.getWorkflowsPath({workspace:e.workspace});return{...e,workflowsPath:`${t}#${n.substring(1)}`}})(e));const t=e.events?`${e.type}Multi`:e.type,n=(s=t)===sjt?Zjt.add_to_sprint:s===rjt?Zjt.remove_from_sprint:Zjt[s];var s;return n&&this.$el.html(n({evt:Qjt(e),avatar:pae(e.actor.github.avatarUrl,32),username:e.actor.github.username,userId:e.actor.github.id,renderUsername:Yjt})),this},_handleToggleList(){const e=this.$el.find(".zh-issue-event-items"),t=this.$el.find(".zh-issue-event-toggle-text");e.hasClass("visible")?(e.removeClass("visible"),t.text("Show issues")):(e.addClass("visible"),t.text("Hide issues"))}}),tGt=o8.extend({__name__:"IssueEventsView",initialize(e,t){se("IssueEventsView.initialize"),this.issueMeta=t,this.collection=e.collection,this.filteredEventTypes=e.filteredEventTypes,this.listenTo(this.collection,"load",this.render),this.listenTo(this.collection,"add",this.renderLast)},_shouldRenderEvent:e=>t=>!e.includes(t.get("type")),_renderEvent(e){const t=new eGt({model:e});return t.render(),t},render(){se("IssueEventsView.render"),z6.removeZhEvents();const e=this.collection.filter(this._shouldRenderEvent(this.filteredEventTypes)).map(this._renderEvent.bind(this));return z6.injectEvents(e),this},renderLast(){se("IssueEventsView.renderLast");const e=this._renderEvent(this.collection.last());return z6.appendEvent(e),this}});function nGt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function sGt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){nGt(i,s,r,o,a,"next",e)}function a(e){nGt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{flags:rGt,issue:iGt,issueLoading:oGt,issueLoading:aGt,pages:lGt}=LG,cGt=r4.pages.zenhub,dGt=r4.pages.issue;function uGt(e){return new Date(e)}let pGt=null,mGt=null,hGt=null,EGt=null,gGt=null;const fGt=J().Model.extend({__name__:"IssueFeatures",initialize(e){se("IssueFeatures.initialize");this.views={},this.models={},this.listenToIssuePageChanges(e),this.issueMeta=e;const t=this.getStore();t.dispatch(aGt.loadZhId({issueNumber:e.issueId,repoId:e.repositoryId})),y3(),e.workspace&&t.dispatch(oGt.initIssuePage({issue_number:e.issueId,organization:e.organization,repository:e.repository,workspaceId:e.workspace._id})),window.addEventListener("resize",this.adjustSidebar)},getStore(){return this.store||this._createStore()},_getState(){return this.getStore().getState()},_createStore(){this.history=(0,V8.q_)({hashType:"noslash"});const e=function(e,t){const n=c1(t),s=n({},{}),{repositoryId:r,workspace:i}=e,o=[rH(e.userMeta.zh),lGt.setWorkspaceAndDefaultRepoId({workspace:i,defaultRepoId:r}),iGt.setIssueWorkspaceAndRepoId({workspace:i,repoId:r}),rGt.setFlags(i?.flags||{}),iGt.setIncompleteIssueInfo({number:e.issueId,state:e.state||(e.isClosed?"closed":"open"),title:e.issueTitle,html_url:e.htmlUrl})];return iG(n,o,s)}(this.issueMeta,this.history);return this.store=s2(e,this.history),this.store},listenToIssuePageChanges(e){const t=this;this.issuePageChangeStream=this.getIssuePageChangeStream(),this.issueStatusChangedStream=this.getIssueStatusChangedStream(),this.listenTo(t.issuePageChangeStream,"issuepage:leaving",this.destroy),this.listenTo(this.issuePageChangeStream,"issuepage:sidebar",(()=>{t.loadSidebar(e),t.loadEpicSelector(e),t.reloadEpicStatus()})),this.listenTo(this.issuePageChangeStream,"issuepage:header",(()=>{t.reloadEpicStatus(),t.loadDependencyBanner()})),this.listenTo(this.issuePageChangeStream,"issuepage:style issuepage:placeholder issuepage:sidebar",(()=>{t.adjustSidebar()})),this.issueStatusChangedStream.onValue((()=>{t.models.pipelineSelector=null,this.models.epic?.isEpic()&&t.updateEpicIssueEstimateProgress(e),t.loadPipelineSelector(e),t.updateStoreIssueState()}))},updateEpicIssueEstimateProgress(){se("IssueFeatures.updateEpicIssueEstimateProgress"),wBt(vA(this._getState()))},updateStoreIssueState(){const e=dGt.isIssueClosedOrMerged()?"closed":"open";this.getStore().dispatch(iGt.setState(e))},getIssuePageChangeStream:()=>r4.pages.issue.issueContentChangeStream(),getIssueStatusChangedStream:()=>r4.pages.issue.issueStatusChangedStream(),loadSidebar(e,t){se("IssueFeatures.loadSidebar"),this.loadPipelineSelector(e,t),e.workspace&&(this.loadSprintSelector(e,t),this.loadAssigneeSelector(),this.loadEstimateSelector(e,t),this.loadMoveIssueSelector(e),this.loadReleaseSelector(e,t),this.showOrHideMoveIssueSelector()),this.adjustSidebar()},adjustSidebar(){r4.pages.issue.adjustSidebarPlaceholderHeight(),r4.pages.issue.adjustSidebarPositionByMicroScroll(),r4.pages.issue.adjustSidebarPositionOnIssueModal(),r4.pages.issue.removeLabelCreationFormOnIssueModal()},loadPipelineSelector(e,t){if(null!=this.pipelineSelectorComponent&&(pGt?.unmount(),this.pipelineSelectorComponent=null),this._pipelineSelectorNode=r4.pages.issue.injectPipelineSelector(),!this._pipelineSelectorNode)return;const n=this._getPipelineSelectorComponent(e,t);m6(v6.EXTENSION_PIPELINE_SELECTOR_INJECTED),pGt=bI.createRoot(this._pipelineSelectorNode),pGt.render(n)},_applyNewIssuePipelines(e,t){if(!t)return Qe().resolve();const{pipelinesByWorkspaceId:n,prioritiesByWorkspaceId:s}=t,r=Object.keys(n).map((t=>IT({board_id:t,repo_id:e.repositoryId,position:"bottom",target_pipeline_id:n[t],issues:[{issue_number:e.issueId,repo_id:e.repositoryId}],priority_id:s[t]})));return Qe().all(r)},loadEvents(e){if(!e.workspace)return;this.models.events=new pjt(e),this.views.eventsView=new tGt({collection:this.models.events,filteredEventTypes:[]},e),this.models.events.fetch()},_getSprintSelectorComponent(){if(this.sprintsSelectorComponent)return null;const e=this.getStore(),t=this.models.events.fetch.bind(this.models.events),n=Ye.createElement(fUt,{onSuccess:t});return this.sprintsSelectorContainer=Ye.createElement(l3.zt,{store:e},n),this.sprintsSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.sprintsSelectorContainer),this.sprintsSelectorComponent},_getEpicSelectorComponent(){if(this.epicSelectorComponent)return null;const e=this.getStore(),t=this.models.events.fetch.bind(this.models.events),n=Lre(e.getState()),s=Ye.createElement(n?DUt:kUt,{onSuccess:t});return this.epicSelectorContainer=Ye.createElement(l3.zt,{store:e},s),this.epicSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.epicSelectorContainer),this.epicSelectorComponent},loadSprintSelector(e,t){se("IssueFeatures.loadSprintSelector"),this.sprintsSelectorComponent&&(bI.unmountComponentAtNode(this._sprintSelectorNode),this.sprintsSelectorComponent=null),this._sprintSelectorNode=r4.pages.issue.injectSprintSelectorMountNode(),this._applyNewIssueSprints(e,t).then((()=>{const e=this._getSprintSelectorComponent();mGt=bI.createRoot(this._sprintSelectorNode),mGt.render(e)}))},_getAssigneeSelectorComponent(){const e=this.getStore();if(this.assigneeSelectorComponent)return null;const t=Ye.createElement(XUt,{updateExtensionEvents:this.models.events.fetch.bind(this.models.events)});return this.assigneeSelectorContainer=Ye.createElement(l3.zt,{store:e},t),this.assigneeSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.assigneeSelectorContainer),this.assigneeSelectorComponent},loadAssigneeSelector(){if(se("IssueFeatures.loadAssigneeSelector"),this.assigneeSelectorComponent&&(hGt?.unmount(),this.assigneeSelectorComponent=null),this._assigneeSelectorNode=r4.pages.issue.injectAssigneeSelectorMountNode(),this._assigneeSelectorNode){const e=this._getAssigneeSelectorComponent();hGt=bI.createRoot(this._assigneeSelectorNode),hGt.render(e)}},_applyNewIssueEpics(e,t){var n=this;return sGt((function*(){const s=t?.epicParents;if(!s)return Qe().resolve();const r=n.getStore();if(Lre(r.getState())){const t={issueIds:[yield ST({issueNumber:e.issueId,repoId:e.repositoryId})],zenhubEpicIds:[...Object.keys(s)]};return(yield ly().mutate({mutation:nbt,variables:{input:t}}))?.data}return Qe().all(s.map((t=>OO({repo_id:e.repositoryId,issue_number:e.issueId,epic_repo_id:t.repo_id,epic_issue_number:t.issue_number,workspaceId:e.workspace._id}))))}))()},_applyNewIssueSprints:(e,t)=>sGt((function*(){const n=t?.sprints;if(!n)return Qe().resolve({});const s={issueId:yield ST({issueNumber:e.issueId,repoId:e.repositoryId}),sprintIds:[...Object.keys(n)]};return(yield ly().mutate({mutation:mUt,variables:s}))?.data}))(),_getEstimateSelectorComponent(e,t){const n=this.getStore();if(this.estimateSelectorComponent)return null;const s=Ye.createElement(jUt,{updateExtensionEvents:this.models.events.fetch.bind(this.models.events)});return this.estimateSelectorContainer=Ye.createElement(l3.zt,{store:n},s),this.estimateSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.estimateSelectorContainer),this._applyEstimate(e,t).then((()=>{n.dispatch(iGt.loadIssueEstimateData(e))})),this.estimateSelectorComponent},loadEstimateSelector(e,t){se("IssueFeatures.loadEstimateSelector"),this.estimateSelectorComponent&&(bI.unmountComponentAtNode(this._estimateSelectorNode),this.estimateSelectorComponent=null),this._estimateSelectorNode=r4.pages.issue.injectEstimateSelectorMountNode();const n=this._getEstimateSelectorComponent(e,t);EGt=bI.createRoot(this._estimateSelectorNode),EGt.render(n)},loadMoveIssueSelector(e){se("IssueFeatures.loadMoveIssue");const t=this,n=new JHt(e),s=new iWt({model:n});s.render(),this.views.moveIssueSelector=s,this.listenTo(this.models.epic,"change",(()=>{t.showOrHideMoveIssueSelector()})),r4.pages.issue.injectMoveIssueSelector(s.el)},_applyEstimate(e,t){if(null==t?.estimateValue)return Qe().resolve();const{estimateValue:n}=t;return Ky({...e,issue_number:e.issueId,estimateId:n})},loadBreadcrumbs(){se("IssueFeatures.loadBreadcrumbs");const e=this.getStore();null==this.breadcrumbs&&(this.breadcrumbs=njt(e,this.history)),cGt.injectBreadcrumbs(this.breadcrumbs)},showOrHideMoveIssueSelector(){const e=this.views.moveIssueSelector;e&&(this.models.epic?.isEpic()?e.hideSelector():e.showSelector())},loadEpicFeatures(e,t){se("IssueFeatures.loadEpicFeatures"),e.workspace&&(this.models.epic=new pWt({},e,this.models.events,this.getStore()),this.loadEpicSelector(e,t),e.isPullRequest||(this._loadEpicIssue(e),this.models.epic.maybeCreateThenFetch(t),this.views.epicStatus=new EWt({model:this.models.epic})))},loadOnboardingFeatures(){se("IssueFeatures.loadOnboardingFeatures");const e=this.getStore();BG(e.dispatch,["workspaces_issue_epics_alert_dismissed","epic_issue_list_set_roadmap_dates_tooltip_dismissed","epic_issue_list_see_on_roadmap_tooltip_dismissed","gh_users_previously_invited_to_zh"])},loadEpicSelector(e,t){se("IssueFeatures.loadEpicSelector"),this.epicSelectorComponent&&(bI.unmountComponentAtNode(this._epicSelectorNode),this.epicSelectorComponent=null),this._applyNewIssueEpics(e,t).then((()=>{const e=this._getEpicSelectorComponent();this._epicSelectorNode=r4.pages.issue.injectEpicSelectorMountNode(),bI.createRoot(this._epicSelectorNode).render(e)}))},reloadEpicStatus(){se("IssueFeatures.reloadEpicStatus"),this.views.epicStatus?.render()},_loadEpicIssue(e){se("IssueFeatures._loadEpicIssue");const t=document.createElement("div");t.classList.add("zh-epic-issue-container"),t.classList.add("TimelineItem"),r4.pages.issue.injectEpicContainer(t);const n=this._getEpicIssueListComponent(e);bI.createRoot(t).render(n)},_getEpicIssueListActions(){const e=this,t=this.getStore();if(this.epicIssueList)return{};return{onDeleteEpic:function(){window.confirm(`Are you sure you want to convert the epic "${e.issueMeta.issueTitle}" to an issue?`)&&e.models.epic.convertEpicToIssue()},onSeeEpic:function(n){const s=t.getState(),r=fA(s);if(EI()&&n){const t=function(e,t,n){const s=`${ma.getBoardPath({workspace:e})}`;return`${ma.appendRepoPathToPathWithIssues({hashPath:s,organization:t.organization,repository:t.repository})}?epics=${n}`}(r,e.issueMeta,n);return void(window.location.href=t)}const i=FA(s);window.location.href=function(e,t,n){const s=tA(e,t.repositoryId,t.issueId,n),r=`${ma.getBoardPath({workspace:e})}`;return`${ma.appendRepoPathToPathWithIssues({hashPath:r,organization:t.organization,repository:t.repository})}?epics=${s}&filterLogic=any&useDefaultFilterLogic=false`}(r,e.issueMeta,i)},onSeeBoardWithEpicPrompts:function(){x1(z1.SelectMultipleIssues);const n=t.getState(),s=fA(n);window.location.href=function(e,t){return ma.appendRepoPathToPathWithIssues({hashPath:ma.getBoardPath({workspace:e}),organization:t.organization,repository:t.repository})}(s,e.issueMeta)},onViewOnRoadmap:function(e,n){const s=t.getState(),r=fA(s);window.location.href=ma.getRoadmapPathWithEpic({workspace:r,epicId:e,epicTitle:n})}}},_getEpicIssueListComponent(e){se("IssueFeatures._geEpicIssueListComponent");const{onSeeEpic:t,onSeeBoardWithEpicPrompts:n,onViewOnRoadmap:s}=this._getEpicIssueListActions(),r=this.getStore();return this.epicIssueList?null:(this.epicIssueList=Ye.createElement(l3.zt,{store:r},Ye.createElement(qHt,{workspaceId:e.workspace._id,onSeeEpic:t,onSeeBoardWithEpicPrompts:n,updateExtensionEvents:this.models.events.fetch.bind(this.models.events),onViewOnRoadmap:s})),this.epicIssueList)},loadReleaseSelector(e,t){se("IssueFeatures.loadReleaseSelector"),this.releaseSelectorComponent&&(bI.unmountComponentAtNode(this._releaseSelectorNode),this.releaseSelectorComponent=null),this._releaseSelectorNode=r4.pages.issue.injectReleaseSelector(),this._applyNewIssueReleases(e,t).then((()=>{const t=this._getReleaseSelectorComponent(e);gGt=bI.createRoot(this._releaseSelectorNode),gGt.render(t)}))},_applyNewIssueReleases(e,t){const n=t?.releases??null;if(!n?.length)return Qe().resolve({});const s={issues:[{issue_number:e.issueId,repo_id:e.repositoryId}]},r=ee.zGw(ee.vgT("release_id"),ee.yGi("release_id",ee.__,s),yN.addIssuesToReleaseReport);return Qe().all(ee.UID(r,n))},pushPipelineSelectorEvents(e,t,n){if(!this.models.events)return;if(e._id===t._id)return;const s=lWt.buildLocalTransferIssue(e.name,t.name,n);this.models.events.pushEvent(s)},updateReleaseEvents(){const{issueMeta:e}=this,t=this._getState()?.issue?.releaseEvents,n=t?.length??0,s=this.getStore(),r=this.models.events,i={repo_id:e.repositoryId||e.repo_id,issue_number:e.issueId||e.issue_number};r?.fetchReleaseEvents(i).then((e=>{const t=e?.length,o=t-n;if(o<=0)return;const a=ee.qCK(uGt,ee.vgT("createdAt")),l=ee.GYS(ee.MRu(a,e)),c=ee.tPi(0,o,l);r.pushEvents(c),s.dispatch(iGt.loadZhEvents(i))}))},_getPipelineSelectorComponent(e,t){if(this.pipelineSelectorComponent)return null;if(!e.workspace)return this.pipelineSelectorComponent=Ye.createElement(XFt,{createWorkspacePath:ma.getZenHubTabPath({organization:e.organization,repository:e.repository})}),this.pipelineSelectorComponent;const n={repo_id:e.repositoryId,issue_number:e.issueId},s=Ye.createElement(uUt,{updateExtensionEvents:this.models.events.fetch.bind(this.models.events),onTransferSuccess:e=>{this.pushPipelineSelectorEvents(e.fromPipeline,e.toPipeline,e.workspace)},onLoad:()=>{m6(v6.EXTENSION_PIPELINE_SELECTOR_LOADED),E6([I6.EXTENSION_PIPELINE_SELECTOR_LOAD],(e=>[e.name,{Time:e.duration}]))},issueMeta:{organization:e.organization,repository:e.repository}}),r=this.getStore();return this.pipelineSelectorComponent=Ye.createElement(l3.zt,{store:r},s),this._applyNewIssuePipelines(e,t).then((()=>{r.dispatch(iGt.loadPipelinesForIssue(n))})),this.pipelineSelectorComponent},_getReleaseSelectorComponent(e){if(this.releaseSelectorComponent)return null;const t={repo_id:e.repositoryId,issue_number:e.issueId},n=this.getStore();n.dispatch(iGt.loadIssueReleases(t)),n.dispatch(iGt.loadZhEvents(t));const s=Ye.createElement(ZFt,{organization:e.organization,repoName:e.repository,customFetch:this.updateReleaseEvents.bind(this)});return this.releaseSelectorComponent=Ye.createElement(l3.zt,{store:n},s),this.releaseSelectorComponent},loadDependencyManager(){se("IssueFeatures.loadDependencyManager");const e=document.createElement("div");e.classList.add("zh-dependency-manager-container"),e.classList.add("TimelineItem"),this._dependencyManagerNode=dGt.injectDependencyManager(e);const t=this.getDependencyManagerComponent();bI.createRoot(this._dependencyManagerNode).render(t)},loadDependencyBanner(){se("IssueFeatures.loadDependencyBanner");const e=document.createElement("div");e.classList.add("zh-dependency-banner-container"),this._dependencyBannerNode=dGt.injectDependencyBanner(e);const t=this.getDependencyBannerComponent();bI.createRoot(this._dependencyBannerNode).render(t)},getDependencyManagerComponent(){const e=this,t=Ye.createElement(aMt,{fetchZhEvents:this.models.events.fetch.bind(this.models.events),onSeeDependencies(t){window.location.href=function(e,t){const n=an(t),s=`${ma.getBoardPath({workspace:e.workspace})}`;return`${ma.appendRepoPathToPathWithIssues({hashPath:s,organization:e.organization,repository:e.repository})}?dependencies=${n}`}(e.issueMeta,t)}});return this.dependencyManager=Ye.createElement(l3.zt,{store:this.getStore()},t),this.dependencyManager},getDependencyBannerComponent(){const e=Ye.createElement(_Bt);return this.dependencyBanner=Ye.createElement(l3.zt,{store:this.getStore()},e),this.dependencyBanner},loadDependencyFeatures(e){e.workspace&&(this.loadDependencyManager(),this.loadDependencyBanner())},_disableFeatures(){se("IssueFeatures._disableFeatures"),this.views.estimateSelector.disable()},destroy(){se("IssueFeatures.destroy"),Object.values(this.views).forEach((e=>e?.destroy?.())),this.issuePageChangeStream&&this.issuePageChangeStream.destroy(),this.issueStatusChangedStream&&this.issueStatusChangedStream.destroy(),this.breadcrumbs&&(cGt.removeBreadcrumbs(),this.breadcrumbs=null),this.stopListening(),this.history=null,this.store=void 0,window.removeEventListener("resize",this.adjustSidebar)}}),_Gt=fGt;function vGt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const IGt=J().Model.extend({__name__:"PopupIssuePage",loadFeatures(e,t,n,s,r,i){var o,a=this;return(o=function*(){se("PopupIssuePage.loadFeatures");const o=(0,ma.getRepoIssuePath)({organization:t,repository:n,issue_number:r}),l={organization:t,repository:n,repositoryId:s,issueId:r,issueTitle:r4.pages.issue.getIssueTitle(),isPullRequest:void 0===i?zx.isPullRequest():i,isClosed:r4.pages.issue.isIssueClosedOrMerged(),htmlUrl:`${L.Z.githubURL}${o}`};a.features={};const{user:c}=yield H2(),d=ha.Lk(e,l.repositoryId),{permissions:u}=d;l.hasPushPermission=u.push,l.workspace=e,l.userMeta=c,a._loadIssueFeatures(l)},function(){var e=this,t=arguments;return new Promise((function(n,s){var r=o.apply(e,t);function i(e){vGt(r,n,s,i,a,"next",e)}function a(e){vGt(r,n,s,i,a,"throw",e)}i(void 0)}))})()},_loadIssueFeatures(e){this.features.issue=new _Gt(e),this.features.issue.loadEvents(e),this.features.issue.loadDependencyFeatures(e),this.features.issue.loadEpicFeatures(e),this.features.issue.loadSidebar(e),this.features.issue.loadOnboardingFeatures(!0),this._loadExtendedFeatures(e,null,this.features.issue)},_loadExtendedFeatures(){},destroy(){this.features.issue&&this.features.issue.destroy()}}),bGt=IGt,yGt="IjXA3r5zQUEjMxCdWdQA",SGt="gGA1cX8SBDLmNrcXiw46",wGt="RYNOFdz8cW_Uaba0EDnq",RGt="oCfO_0yPSfQQ17Co53ek",TGt="Tgz0DUfpovlmXtEbk_Dy",CGt="_wsj0oem_q6IJLGFMciO",kGt="kLhVueKnOMEh8HKvbFqk",OGt=e=>{let{issue:t,isDisabled:n,isUnconnectable:s}=e;const r=(0,_I.default)(yGt,{[SGt]:n}),i=Ye.createElement("div",{className:r},Ye.createElement("div",{className:RGt,title:t.title},t.title),Ye.createElement("div",{className:kGt},Ye.createElement("span",{className:CGt},t.repo_name),Ye.createElement("span",{className:TGt},"#",t.issue_number)));return s?(o=i,Ye.createElement(YI,{position:jI.RIGHT,content:"This Issue already has multiple connections with other PRs",wrapperClassName:wGt},o)):i;var o},NGt="ZO2pRn_SpgCK5hzfXF1A",PGt=(e,t)=>{if(!t.length)return e;const n=t.toLowerCase();return e.filter((e=>e.title.toLowerCase().includes(n)||e.repo_name.toLowerCase().includes(n)||`#${e.issue_number}`.includes(n)))},AGt=e=>{let{button:t,disabledIds:n=[],issues:s=[],onSelectIssue:r=_t.ZT,selectedIssues:i=[],unConnectableIdMap:o={}}=e;let a=n.reduce(((e,t)=>({...e,[t]:!0})),{});a={...a,...o};const l=(0,Ye.useCallback)((e=>Ye.createElement(OGt,{issue:e,isDisabled:a[e.id],isUnconnectable:o[e.id]})),[o,a]);return Ye.createElement("div",{className:NGt},Ye.createElement(rSe,{button:t,disabledItemMap:a,emptyState:Ye.createElement("div",null,"No issues found"),filterFn:PGt,filterInputPlaceholder:"Search",hasItemBorder:!0,headerText:"Connect with an issue",initialSelectedIds:i.map((e=>e.id)),items:s,itemRenderer:l,onSelectionChange:e=>{let{changedToSelected:t,changedToUnselected:n}=e;const o=t.find((e=>!i.some((t=>t.id===e)))),a=o&&s.find((e=>e.id===o));o&&a&&r(a);const l=n.find((e=>i.some((t=>t.id===e)))),c=l&&s.find((e=>e.id===l));l&&c&&r(c)},forcedPositions:{BOTTOM:!0,RIGHT:!0}}))},DGt="m8zYn8Kz8WiprsHUT4YQ",LGt="aXmdNBOWV8dm4bJbpO7Y",zGt="t1icbyR68b5nt5C5Unr1",MGt="BXfexU72WxD3De_Q0Hpx",xGt="icohQ_eGxhHJB6Z03j8R",FGt="LpKh8CvqD9tFwUb6ovse",UGt="XuOoWzRZoRwI62OoQcb6",BGt="dMuGmPRw6uvYSPU1OvTR",qGt="Sy0KkxPwHJo_12B4NHTQ",HGt="Qc7dSywUHnBIo8HsJ9rX",WGt="klWMnzkp5utBL0_HDUTd",jGt="sjvT6WOsgg46meIgPggy",GGt="unfOcIZvri_3Ec3QJPWH",KGt="xsQd0cPoQrsjm0q23tLJ",VGt="exKydGWVsQ6OAOH6C7or",$Gt="edN1_B2Lr434avAblP6S",ZGt="VZ7pjhxijSdCQwMjA2hD",YGt="dQq3oF2oxsEF5n8PSfNx",JGt="u53KqqMfot5OsnQaIwom",XGt="OYBwMHaDq0Kfb6xb708e",QGt="rgOvhO0AzD9EKq4jQEZy",eKt="TAk8zTFHeVehFzt7jdTz";const tKt=e=>{let{connectedIssue:t,isConnecting:n=!1,isOutsideWorkspace:s=!1,workspaceName:r="",onClickDisconnect:i}=e;const o="OPEN"===t.state.toUpperCase(),a=(0,_I.default)(KGt,{[VGt]:o,[$Gt]:!o}),l=function(e){return{issue_number:e.number,repository:e.repository?.name,organization:e.repository?.owner?.login??""}}(t),c=function(e){return e.repository?`${e.repository.name} #${e.number}`:`#${e.number}`}(t),d=Vne(!0,!1),u=t?.pipelineIssue?.priority;return n?Ye.createElement("div",{className:BGt},Ye.createElement(TIe,null)):Ye.createElement("div",{className:BGt},Ye.createElement("div",{className:a},"CLOSED"===t.state?Ye.createElement(mKe,null):Ye.createElement(E9,null)),Ye.createElement("div",{className:ZGt},Ye.createElement("h4",{className:YGt,title:t.title,"data-cy":"connected-issue-title"},u?Ye.createElement("span",{className:eKt},Ye.createElement(ZI,{content:`${u.name} issue for ${r}`},Ye.createElement($St,{modifiers:["smaller","inline-text-small"]}))):null,Yne(l,t.title,d,null,null,{className:JGt})),Ye.createElement("div",{className:XGt},Yne(l,c,d,null,null,{className:QGt}),s?Ye.createElement("span",null,"Not in this Workspace"):null)),Ye.createElement("div",{className:GGt},Ye.createElement(H5,{color:L5.PRIMARY,"data-cy":"connect-disconnect",onClick:i,padding:M5.NONE,variant:z5.TEXT},"Remove")))},nKt=e=>({id:e.id,createdAt:e.created_at,number:e.issue_number,state:e.state,title:e.title,htmlUrl:e.html_url,repository:{id:"",name:e.repo_name,ghId:e.repo_id,owner:{id:"",login:e.organization}},pipelineIssue:{id:"",pipeline:{id:"",name:e.pipeline?.name??""}}}),sKt=()=>{const e={...Cl.Z,expirationDelay:4e3,hasCloseButton:!1,heading:"Unable to connect this Issue",href:"https://help.zenhub.com/support/solutions/articles/43000615530-zenhub-issue-and-pr-connections",text:"Due to existing PR connections, linking would cause Issues to move unintentionally on the Board."};H.Z.createToast(W.Z.EXTERNAL_LINK_TOAST,e)},rKt=e=>{const[t,n]=(0,Ye.useState)([]),[s,r]=(0,Ye.useState)([]),i=(0,Ye.useMemo)((()=>{const n=ee.mNm((e=>e.id),[...e.filter((e=>{let{id:t}=e;return!s.some((e=>e.id===t))})),...t]);return n.sort(((e,t)=>e.id<t.id?-1:1)),n}),[e,t,s]),o=(0,Ye.useMemo)((()=>t.map((e=>e.id)).filter((t=>!e.some((e=>e.id===t))))),[t,e]),a=(0,Ye.useMemo)((()=>s.map((e=>e.id)).filter((t=>e.some((e=>e.id===t))))),[s,e]);return{addPending:e=>{n([...t,nKt(e)]),r(s.filter((t=>t.id!==e.id)))},removePending:e=>{const i="html_url"in e?nKt(e):e;n(t.filter((t=>t.id!==e.id))),r([...s,i])},allConnections:i,pendingConnectionIds:o,pendingRemovalIds:a}};function iKt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const oKt=(e,t)=>e.repos.some((e=>e.repo_id===t)),aKt=e=>{let{isPullRequest:t=!0,connectedIssues:n=[],isLoading:s=!1,isNewPullRequestPage:r=!1,issues:i=[],onClickConnect:o=_t.ZT,onClickDisconnect:a=_t.ZT,onSelectIssue:l,workspace:c}=e;const[d,u]=(0,Ye.useState)({}),{allConnections:p,addPending:m,removePending:h,pendingConnectionIds:E,pendingRemovalIds:g}=rKt(n);if(!t)return null;const f=function(){var e,t=(e=function*(e){const t=n.find((t=>t.id===e.id));t?h(e):m(e);try{yield l(e)}catch(t){h(e),(t instanceof Error?t.message:"Unknown error").includes("chained relation")&&(sKt(),u({...d,[e.id]:!0}),r6("PR link error"))}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){iKt(i,s,r,o,a,"next",e)}function a(e){iKt(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),_=(0,_I.default)(DGt,{[zGt]:F,[LGt]:!F,[FGt]:F&&r,[xGt]:F&&!r}),v=p.length?"This pull request is connected to":"Connect existing issues to this pull request",I=s?Ye.createElement("div",{className:MGt},Ye.createElement(mIe,{charCount:20})):Ye.createElement(H5,{"data-cy":"connect-disconnect",onClick:o,color:L5.SECONDARY},"Connect issue");return Ye.createElement("div",{className:_,"data-cy":"pr-connected"},Ye.createElement("div",{className:HGt},Ye.createElement("div",{className:WGt},Ye.createElement("div",{className:UGt},Ye.createElement("h4",{className:qGt},v),Ye.createElement(AGt,{button:I,disabledIds:[...E,...g],issues:i,onSelectIssue:f,selectedIssues:p,unConnectableIdMap:d})),p.map((e=>Ye.createElement("div",{className:jGt,key:e.id},Ye.createElement(tKt,{connectedIssue:e,workspaceName:c.displayName,isConnecting:!n.some((t=>t.id===e.id)),isOutsideWorkspace:!oKt(c,e.repository.ghId),onClickDisconnect:()=>{h(e),a(e)}})))))),F?Ye.createElement("div",{className:"prConnectorPoweredByZenHub"},"Powered by ZenHub"):null)},lKt=aKt,{pullRequest:cKt}=pr,dKt=(0,hS.Z)(cKt.RESET_PAGE),uKt=(0,hS.Z)(cKt.CREATE_CONNECTION),pKt=(0,hS.Z)(cKt.REMOVE_CONNECTION),mKt=(0,hS.Z)(cKt.DEFER_CONNECTION),hKt=(0,hS.Z)(cKt.REMOVE_DEFERRED_CONNECTION),EKt=e=>e.issue?.issuePRConnection?.issuesToConnect,gKt=ee.MRu(ee.vgT("updated_at")),fKt=(0,pa.P1)(yw,Eu,((e,t)=>{if(e){let{issuesAssignedToUser:n,issuesNotAssignedToUser:s}=e.filter((e=>"OPEN"===e.state.toUpperCase())).reduce(((e,n)=>(n.assignee?.id===t?e.issuesAssignedToUser.push(n):e.issuesNotAssignedToUser.push(n),e)),{issuesAssignedToUser:[],issuesNotAssignedToUser:[]});return n=ee.GYS(gKt(n)),s=ee.GYS(gKt(s)),[...n,...s]}return null})),_Kt=bb.Ps`
  mutation removeIssueConnect($input: DeleteIssuePrConnectionInput!) {
    deleteIssuePrConnection(input: $input) {
      issue {
        id
      }
    }
  }
`,vKt=e=>{const[t]=(0,vK.D)(_Kt,e);return(e,n)=>t({variables:{input:{issueId:e,pullRequestId:n}}})},IKt={},bKt=bb.Ps`
  query getPRConnections($repositoryGhId: Int!, $issueNumber: Int!, $workspaceId: ID!) {
    issueByInfo(repositoryGhId: $repositoryGhId, issueNumber: $issueNumber) {
      id
      connections {
        nodes {
          id
          createdAt
          number
          state
          title
          htmlUrl
          repository {
            id
            ghId
            name
            owner {
              id
              login
            }
          }
          pipelineIssue(workspaceId: $workspaceId) {
            id
            pipeline {
              id
              name
            }
            priority {
              id
              name
              color
            }
          }
        }
      }
    }
  }
`;const yKt={},SKt=bb.Ps`
  mutation CreateIssuePrConnection($input: CreateIssuePrConnectionInput!) {
    createIssuePrConnection(input: $input) {
      issue {
        id
      }
    }
  }
`;function wKt(e){const t={...yKt,...e};return vK.D(SKt,t)}const RKt=(e,t,n,s)=>{const[r,i]=(0,Ye.useState)(!1),[o,a]=(0,Ye.useState)(!1),[l]=wKt();return(0,Ye.useEffect)((()=>{if(!F||o||!t||!n||t.title!==s)return;a(!0),i(!0);const r=t?.issuesToConnect??[];Promise.allSettled(r.map((e=>{const t={pullRequestId:n,issueId:e.id};return l({variables:{input:t}})}))).then((t=>{i(!1),t.length&&e();t.filter((e=>"rejected"===e.status)).length&&sKt()}))}),[t,n,s]),r};function TKt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function CKt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){TKt(i,s,r,o,a,"next",e)}function a(e){TKt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const kKt=e=>{let{newIssueDataFromLocalStorage:t}=e;const n=(0,l3.I0)(),s=(0,l3.v9)(mA),r=(0,l3.v9)(fKt),i=(0,l3.v9)(vA),o=(0,l3.v9)(hA),a=(0,l3.v9)(uA),l=(0,l3.v9)(kA),c=(0,l3.v9)(fA),{data:d,refetch:u}=function(e){const t={...IKt,...e};return cy.a(bKt,t)}({skip:!l||!i||!c?._id,variables:{issueNumber:s,repositoryGhId:a,workspaceId:c._id}}),p=d?.issueByInfo?.connections.nodes??[],m=vKt(),[h]=wKt(),E=RKt(u,t,i,o),g=function(){var e=CKt((function*(e){const t=e.id;i&&t&&(yield m(t,i),(e=>{n(pKt(e))})("organization"in e?e:(e=>({id:e.id,created_at:e.createdAt,issue_number:e.number,state:e.state,title:e.title,html_url:e.htmlUrl,organization:e.repository.owner.login,repo_id:e.repository.ghId,repo_name:e.repository.name}))(e)),u())}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=CKt((function*(e){const t=Boolean(p.find((t=>t.id===e.id)));if(t)g(e);else{if(!i)return;const t={pullRequestId:i,issueId:e.id};yield h({variables:{input:t}}),(e=>{n(uKt(e))})(e),n(nq({repo_id:a,issue_number:s})),u()}}));return function(t){return e.apply(this,arguments)}}();return Ye.createElement(lKt,{connectedIssues:p,isLoading:E,isPullRequest:l,issues:r,onClickConnect:()=>{null==r&&(e=>{n(fF.getConnectableIssues(e))})(c)},onClickDisconnect:g,onSelectIssue:f,workspace:c})},OKt=r4.pages.pullRequest,{issue:NKt}=LG,PKt=J().Model.extend({__name__:"PullRequestFeatures",initialize(e,t,n,s){se("PullRequestFeatures.initialize"),this._issueMeta=e,this._store=n,this.events=t,this.newIssueDataFromLocalStorage=s,this._store.subscribe(this._onStoreChange.bind(this)),this._store.dispatch(NKt.setIncompleteIssueInfo({pull_request:{url:"@@fakeUrl"}}))},_getStore(){return se("PullRequestFeatures._getStore"),this._store},_onStoreChange(){const e=this._getStore().getState(),t=(e=>e.issue?.issuePRConnection?.latestConnect)(e),n=(e=>e.issue?.issuePRConnection?.latestDisconnect)(e);null!=t&&t!==this._latestConnectEvent&&(this._latestConnectEvent=t,this._pushConnectPREvent(t.issue)),null!=n&&n!==this._latestDisconnectEvent&&(this._latestDisconnectEvent=n,this._pushDisconnectPREvent(n.issue))},_pushConnectPREvent(e){const t=lWt.buildLocalConnectPR(e);this.events.pushEvent(t)},_pushDisconnectPREvent(e){const t=lWt.buildLocalDisconnectPR(e);this.events.pushEvent(t)},loadPullRequestConnector(){se("PullRequestFeatures.loadPullRequestConnector");const e=this._getStore();if(!kA(e.getState()))return;const t=Ye.createElement(F4.e,{client:ly()},Ye.createElement(l3.zt,{store:e},Ye.createElement(kKt,{newIssueDataFromLocalStorage:this.newIssueDataFromLocalStorage})));OKt.injectIssueConnector(t)},reloadPipelines(e,t){this._getStore().dispatch(NKt.loadPipelinesForIssue({repo_id:e,issue_number:t}))}}),AKt=PKt,DKt=bGt.extend({__name__:"PopupPullRequestPage",_loadExtendedFeatures(e,t,n){if(!e.workspace)return;const s=n.getStore();this.features.pullRequest=new AKt(e,n.models.events,s,t),this.features.pullRequest.loadPullRequestConnector()}}),LKt=DKt;function zKt(e){return"input"===e.target.nodeName.toLowerCase()}const MKt=class{constructor(e){let{closePortal:t,cssSelector:n,loadedContent:s,issueProps:r,workspace:i}=e;this.injectIssue=()=>{const{html_url:e,title:t}=this.issueProps;document.querySelector(this.cssSelector).innerHTML=this.loadedContent,zx.pushAsyncUrl(e,t),sP(!0),this.loadZhPage(),this.restoreWorkInProgress(),this.bindQuitOnEsc(),this.disableGhShortcuts()},this.loadZhPage=()=>{const{isPullRequest:e,issueNumber:t,organization:n,repository:s,repo_id:r}=this.issueProps;this.zhPage=e?new LKt:new bGt,this.zhPage.loadFeatures(this.workspace,n,s,r,t,e)},this.generateWIPCacheKey=()=>{const{issueNumber:e,organization:t,repository:n}=this;return`zh-popup-resume:/${t}/${n}/issues/${e}`},this.saveWorkInProgress=()=>{const e=z6.findCommentTextField()?.value;if(e&&e.length){const t={new_comment_field:e},n=this.generateWIPCacheKey();try{z.Storage.session.set(n,JSON.stringify(t))}catch(e){}}},this.restoreWorkInProgress=()=>{const e=this.generateWIPCacheKey();try{const t=JSON.parse(z.Storage.session.get(e)).new_comment_field;z6.findCommentTextField().val(t),z.Storage.session.remove(e)}catch(e){}},this.bindQuitOnEsc=()=>{document.body.addEventListener("keydown",this.handleEsc)},this.unbindQuitOnEsc=()=>{document.body.removeEventListener("keydown",this.handleEsc)},this.handleEsc=e=>{zKt(e)||e.which===_8.KEY_ESC&&this.closePortal()},this.disableGhShortcuts=()=>{document.body.addEventListener("keydown",this.handleGhShortcuts)},this.enableGhShortcuts=()=>{document.body.removeEventListener("keydown",this.handleGhShortcuts)},this.handleGhShortcuts=e=>{zKt(e)||function(e){return"textarea"===e.target.nodeName.toLowerCase()}(e)||e.which!==_8.KEY_C||function(e){return e.metaKey||e.ctrlKey}(e)||(e.stopPropagation(),e.preventDefault())},this.destroy=()=>{this.unbindQuitOnEsc(),this.enableGhShortcuts();const{html_url:e}=this.issueProps,t=e!==window.location.href;zx.isUrlAsync&&t?zx.exitAsyncUrlMode():zx.isUrlAsync&&zx.restoreSyncUrl(),sP(!1),this.zhPage&&this.zhPage.destroy()},this.closePortal=t,this.cssSelector=n,this.issueProps=r,this.loadedContent=s,this.workspace=i}};function xKt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const FKt=class{constructor(e,t){this.attempts=void 0,this.repoId=void 0,this.url=void 0,this.attempts=0,this.repoId=t,this.url=e}loadUrl(){var e,t=this;return(e=function*(){se("GHContent.loadUrl fetch",t.url),t.attempts+=1;try{const e=yield fetch(t.url,{headers:{Accept:"text/html, */*; q=0.01"}}),n=yield e.text();return z6.extractIssueContent(n,t.repoId)}catch(e){if(t.attempts>=5)throw e;return t.loadUrl()}},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xKt(i,s,r,o,a,"next",e)}function a(e){xKt(i,s,r,o,a,"throw",e)}o(void 0)}))})()}},UKt="xDcQZnolEcCsVAgrGUlQ",BKt=e=>{let{children:t}=e;return Ye.createElement("div",{className:(0,_I.default)("zhc-modal__header",UKt)},t)},qKt="A2R5chdeaSgAtteNQksK",HKt=e=>{let{onClick:t}=e;return Ye.createElement(H5,{variant:z5.TEXT,color:L5.SECONDARY,padding:M5.EXTRA_TIGHT,height:A5.SHORT,onClick:t},Ye.createElement(Z5,{className:qKt}))},WKt="ZhWkGnqwEo8PybfEAQ54",jKt="nZSEp42XenPnD1UU2JOt",GKt="cTtbQPS14rr2FjhXIuMg",KKt="nr24Sey_FN9xa4AVphzC";var VKt;!function(e){e.DEFAULT="default",e.NONE="none",e.SMALL="small"}(VKt||(VKt={}));const $Kt=e=>{let{padding:t=VKt.DEFAULT,children:n}=e;return Ye.createElement("div",{className:(0,_I.default)(WKt,{[jKt]:t===VKt.DEFAULT,[KKt]:t===VKt.NONE,[GKt]:t===VKt.SMALL})},n)},ZKt="bxy2bY5mbU95RimkZH7y",YKt=e=>{let{children:t}=e;return Ye.createElement("span",{className:(0,_I.default)("zhc-modal__header__title",ZKt)},t)},JKt=BKt,XKt=e=>{let{issueNumber:t,organization:n,repoId:s,repoName:r,title:i,workspace:o,onClose:a,onSelectWorkspace:l}=e;return Ye.createElement(JKt,null,Ye.createElement($Kt,null,Ye.createElement(YKt,null,Ye.createElement(QWt,{issueNumber:t,issueTitle:i,issueOrganization:n,issueRepoId:s,issueRepository:r,onSelectWorkspaceCustom:l,showSwitchWorkspaceBtn:!1,showWorkspaceSwitcher:!1,workspace:o})),Ye.createElement(HKt,{onClick:a})))},{notFound:QKt,issueMoved:eVt,issueDeleted:tVt,repoRemoved:nVt}=hn,sVt=e=>e===QKt?"Looks like this Issue doesn't exist":e===eVt?"Looks like this Issue has been moved to a different repo":e===tVt?"Looks like this Issue has been deleted":e===nVt?"Issue not found. The repo may have been removed from this workspace or you may have followed a broken link.":"An internal error happened",rVt=e=>{let{goBack:t,loadError:n}=e;return Ye.createElement("div",{className:"zhc-issue-load-error"},Ye.createElement(Iee,null,Ye.createElement(bee,{title:"Something went wrong",description:sVt(n)}),Ye.createElement(yee,null,(e=>Ye.createElement("div",{className:"zhc-issue-load-error__btn"},Ye.createElement("button",{className:"zhc-btn zhc-btn--primary",onClick:e,type:"button"},"Go Back")))(t))),Ye.createElement(wNt,null))};rVt.defaultProps={};const iVt=rVt;function oVt(e){let{children:t,withAvatar:n=!1}=e;return Ye.createElement("div",{className:"issue-page-skeleton__timeline-item"},Ye.createElement("div",{className:"issue-page-skeleton__avatar-container"},n?Ye.createElement(fIe,null):null),Ye.createElement("div",{className:"issue-page-skeleton__timeline-container"},Ye.createElement(bIe,{marginSize:"lg",withBorder:!0},t)))}const aVt=function(){return Ye.createElement("div",{className:"issue-page-skeleton issue-page-skeleton--extension"},Ye.createElement(gIe,{marginSize:"md"}),Ye.createElement(hIe,{size:"m",marginSize:"md"}),Ye.createElement("hr",null),Ye.createElement("div",{className:"issue-page-skeleton__content"},Ye.createElement("div",{className:"issue-page-skeleton__body"},Ye.createElement(oVt,{withAvatar:!0},Ye.createElement(hIe,{size:"xs",marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(hIe,{size:"m"})),Ye.createElement(oVt,null,Ye.createElement(hIe,{size:"l"})),Ye.createElement(oVt,{withAvatar:!0},Ye.createElement(hIe,{size:"xs",marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl",marginSize:"lg"}),Ye.createElement(hIe,{size:"xxl"}))),Ye.createElement("div",{className:"issue-page-skeleton__sidebar"},Ye.createElement(yIe,{withBorder:!0,firstRowSize:"l",secondRowSize:"xl"}),Ye.createElement(yIe,{withBorder:!0,firstRowSize:"l",secondRowSize:"xl"}),Ye.createElement(yIe,{withBorder:!0,firstRowSize:"l",secondRowSize:"xl"}))))},lVt=e=>{let{hasContent:t,loadError:n,onGoBack:s}=e;return Ye.createElement("div",{className:"zhc-modal__body zhc-issue-modal__body--extension"},Ye.createElement(Gre,null),n&&Ye.createElement(iVt,{loadError:n,goBack:s}),!n&&t&&Ye.createElement("div",{className:N6.className}),!n&&!t&&Ye.createElement(aVt,null))};function cVt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function dVt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){cVt(i,s,r,o,a,"next",e)}function a(e){cVt(i,s,r,o,a,"throw",e)}o(void 0)}))}}class uVt extends Ye.PureComponent{constructor(e){var t;super(e),t=this,this.modalRef=void 0,this.issueView=null,this.onSelectWorkspace=e=>{this.issueView&&this.cleanIssueView(),this.setState({issueContent:null,workspace:e})},this.handleLinkClicks=e=>{const t=e.target?.getAttribute("href")||e.target.parentNode.getAttribute("href");if(!(e.metaKey||e.ctrlKey)&&t&&_n(t))this.handleHashLinkClick(e,t);else if(t){const t=e.target?.href||e.target.parentNode?.href;this.handleOtherLinkClicks(e,t)}},this.handleHashLinkClick=(e,t)=>{e.preventDefault(),e.stopPropagation(),document.querySelector(t)?.scrollIntoView({behavior:"smooth"}),zx.setCustomHash(t)},this.handleOtherLinkClicks=(e,t)=>{const{issue_number:n,organization:s,repo_name:r}=this.props.issueProps,{href:i,pathname:o,origin:a}=new URL(t),l=e.metaKey||e.ctrlKey;i&&o!==`/${s}/${r}/issues/${n}`&&(L.Z.githubURL!==a||l?window.open(i):window.open(i,"_parent"),e.preventDefault())},this.cleanIssueView=()=>{this.issueView?.saveWorkInProgress(),this.issueView?.destroy()},this.loadGhIssue=dVt((function*(){t.setState({issueContent:null});const{issueProps:e}=t.props,{issue_number:n,repo_id:s,html_url:r}=e,i=new FKt(r,s);try{const{extractedContent:e,hasIssueBeenMoved:r,hasIssueBeenDeleted:o}=yield i.loadUrl();r?t.setState({issueContent:null,issueLoadError:hn.issueMoved}):o?t.setState({issueContent:null,issueLoadError:hn.issueDeleted}):t.setState({issueContent:e.innerHTML,issueLoadError:null}),(r||o)&&dT({repo_id:s,issue_number:n})}catch(e){t.setState({issueContent:null,issueLoadError:hn.genericError})}})),this.injectGhIssue=()=>{const{closePortal:e,issueProps:t}=this.props,{issueContent:n,workspace:s}=this.state;this.issueView&&this.issueView.destroy(),this.issueView=new MKt({closePortal:e,cssSelector:N6.selector,loadedContent:n,issueProps:{title:t.title,issueNumber:t.issue_number,isPullRequest:Qt(t),organization:t.organization,repository:t.repo_name,repo_id:t.repo_id,html_url:t.html_url},workspace:s}),this.issueView?.injectIssue()},this.modalRef=Ye.createRef(),this.state={issueContent:null,issueLoadError:null,workspace:e.initialWorkspace}}componentDidMount(){this.loadGhIssue(),this.modalRef?.current?.addEventListener("click",this.handleLinkClicks,{capture:!0})}componentDidUpdate(e,t){const{issueProps:n}=this.props,{issueContent:s,workspace:r}=this.state;!t.issueContent&&s&&this.injectGhIssue(),t.workspace!==r&&r&&this.loadGhIssue(),e.issueProps.issue_path===n.issue_path&&e.issueProps.html_url===n.html_url||this.loadGhIssue()}componentWillUnmount(){this.issueView&&this.cleanIssueView(),this.modalRef?.current?.removeEventListener("click",this.handleLinkClicks)}render(){const{closePortal:e,issueProps:t}=this.props,{issueContent:n,issueLoadError:s,workspace:r}=this.state;return Ye.createElement("div",{className:"zhc-issue-modal zhc-issue-modal--extension","data-pjax-container":!0,id:"zhc-shim-for-gh-pjax",ref:this.modalRef},Ye.createElement(XKt,{issueNumber:t.issue_number,organization:t.organization,repoId:t.repo_id,repoName:t.repo_name,title:t.title,workspace:r,onClose:e,onSelectWorkspace:this.onSelectWorkspace}),Ye.createElement(lVt,{hasContent:Boolean(n),loadError:s,onGoBack:e}))}}uVt.defaultProps={initialWorkspace:null};const pVt=(0,l3.$j)((e=>({isSidebarOpen:$A(e),initialWorkspace:Na(e)})))(uVt);var mVt=n(23551),hVt=n.n(mVt);function EVt(){return EVt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},EVt.apply(this,arguments)}const gVt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--attach",t].filter(Boolean).join(" "),"aria-label":"attach",role:"img",...n};return Ye.createElement("svg",EVt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 14"},s),Ye.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.25,d:"M10.697 5.425l-3.55 3.55a1.5 1.5 0 01-2.122-2.121l4.96-4.96a2.497 2.497 0 013.525.01 2.5 2.5 0 010 3.535l-6.37 6.372a3.498 3.498 0 01-4.943-.008 3.5 3.5 0 010-4.95L7.16 1.89"}))},fVt=Rme($te),_Vt=yEe((e=>{const{name:t,login:n}=e.assignee;return Ye.createElement("div",{className:"zhc-selection-list-item"},Ye.createElement(I4e,{name:t,login:n}))})),vVt=["Enter","Escape","ArrowUp","ArrowDown"],IVt=/(?:^|\s)@(\S*$)/,bVt=["video/*","image/*","application/zip","application/x-gzip","application/pdf","text/plain","application/vnd.openxmlformats-officedocument*"].join(","),yVt=ee.CyQ(ee.r3W("Files"));class SVt extends Ye.PureComponent{constructor(e){super(e),this.state={selectedTabId:"write",tag:null,tagIndex:0,keyEventToRelay:null,caretToUpdate:null,caretLeft:0,caretTop:0},this._caretIndex=0,this.onSelectTab=this.onSelectTab.bind(this),this._onTextChange=this._onTextChange.bind(this),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.onKeyHandled=this.onKeyHandled.bind(this),this.onFilterResult=this.onFilterResult.bind(this),this.selectTag=this.selectTag.bind(this),this.clearTagging=this.clearTagging.bind(this),this.onRefSet=this.onRefSet.bind(this),this.onFileChange=this.onFileChange.bind(this),this.onFileClick=this.onFileClick.bind(this),this.onFilePaste=this.onFilePaste.bind(this),this.onFileDrop=this.onFileDrop.bind(this),this.handleCaretChange=this.handleCaretChange.bind(this),this.updateCaret=this.updateCaret.bind(this)}componentDidUpdate(e){const{caretToUpdate:t,textareaElement:n}=this.state,{value:s}=this.props;s===e.value||ee.kKJ(t)||(n.setSelectionRange(t,t),this.setState({caretToUpdate:null}),this._caretIndex=t)}handleCaretChange(){const{textareaElement:e}=this.state;this._caretIndex=e.selectionStart}handleChange(e){const{tag:t,textareaElement:n}=this.state,s=this._caretIndex,r=IVt.exec(e.slice(0,s)),i=r?r[1]:null,o=ee.kKJ(i)?null:s-i.length,a=n.scrollTop,l=n.scrollLeft;if(ee.kKJ(t)&&ee.kKJ(i))return;const{top:c,left:d}=hVt()(n,o);this.setState({tag:i,tagIndex:o,caretLeft:d-l,caretTop:c-a},(()=>{null==t&&this.props.onTagging()}))}handleKeyDown(e){const{key:t}=e,{tag:n}=this.state;ee.kKJ(n)||(e.persist(),ee.r3W(t,vVt)&&e.preventDefault(),this.setState({keyEventToRelay:e}))}onFileClick(e){e.target.value=null}onRefSet(e){this.setState({textareaElement:e})}onFileChange(e){const t=e.target.files[0],{onFileUpload:n}=this.props,{name:s,type:r,size:i}=t;n(t,s,r,i,this._caretIndex,this.updateCaret)}onFileDrop(e){const t=e[0];if(!t)return void ae("onFileDrop - no file included in the drop",e);const{name:n,type:s,size:r}=t,{onFileUpload:i}=this.props;i(t,n,s,r,this._caretIndex,this.updateCaret)}onFilePaste(e){const{clipboardData:t}=e;if(yVt(t.types))return;const n=t.files[0];if(!n)return;e.preventDefault();const{name:s,type:r,size:i}=n,{onFileUpload:o}=this.props;o(n,s,r,i,this._caretIndex,this.updateCaret)}onKeyHandled(){this.setState({keyEventToRelay:null})}onFilterResult(e){0===e&&this.clearTagging()}onSelectTab(e){this.setState({selectedTabId:e},(()=>{const{textareaElement:e}=this.state;e&&e.focus()}))}updateCaret(e){const t=this._caretIndex;this.setState({caretToUpdate:t+e})}_onTextChange(e){const{onChange:t}=this.props,{value:n}=e.target;this.handleChange(n),t(n)}clearTagging(){this.setState({tag:null})}selectTag(e){const{onChange:t,value:n}=this.props,{tagIndex:s}=this.state,r=this._caretIndex,i=n,o=s+e.length+1,a=i.substring(r),l=`${i.substring(0,s)}${e} ${a}`;this.setState({caretToUpdate:o}),t(l),this.clearTagging()}renderSuggestion(){const{assignables:e}=this.props,{tag:t,keyEventToRelay:n,caretTop:s,caretLeft:r}=this.state,i=!ee.kKJ(t);return CI()?null:Ye.createElement(fVt,{position:kte.LEFT,listTitle:"",isActive:i,filterableChildProp:"filterableString",allowSearch:!1,externalFilterKey:t,externalKeyEvent:n,onExternalKeyHandled:this.onKeyHandled,onFilterResult:this.onFilterResult,maxResults:5,allowMobileActiveBackground:!0,style:{top:s+20,left:r},toggleOpen:this.clearTagging},ee.kKJ(e)?Bte:e.map((e=>Ye.createElement(_Vt,{key:e.id,filterableString:e.filterableString,assignee:e,select:()=>this.selectTag(e.login)}))))}render(){const{autoFocus:e,isSubmitDisabled:t,onSubmit:n,organization:s,repository:r,value:i,id:o}=this.props,{selectedTabId:a}=this.state,l=ee.yAE("",i),c=(0,_I.default)("zhc-edit-comment__bottom-bar",{"zhc-edit-comment__bottom-bar--hidden":"preview"===a}),d=(0,_I.default)("zhc-edit-comment__preview",{"zhc-edit-comment__preview--label-hidden":"preview"===a});return Ye.createElement("div",{className:"zhc-edit-comment"},Ye.createElement(Hme,{onSelect:this.onSelectTab,selectedTabId:a},Ye.createElement(Gme,null,Ye.createElement(Vme,{className:"zhc-edit-comment__tab-nav-item",tabId:"write"},"Write"),Ye.createElement(Vme,{className:"zhc-edit-comment__tab-nav-item",tabId:"preview"},"Preview")),Ye.createElement(Xme,null,Ye.createElement(Yme,{isKeptInDOM:!0,tabId:"write"},Ye.createElement("div",{className:"zhc-edit-comment__markdown-toolbar"},Ye.createElement(Nhe,{id:o})),Ye.createElement("div",{style:{position:"relative"}},Ye.createElement(wme,{id:o,className:"zhc-edit-comment__textarea",placeholder:"Write a comment...",value:l,autoFocus:e,onChange:this._onTextChange,onSubmit:n,onKeyDown:this.handleKeyDown,isSubmitDisabled:t,onRefSet:this.onRefSet,onKeyUp:this.handleCaretChange,onClick:this.handleCaretChange,onInput:this.handleCaretChange,onFilePaste:this.onFilePaste,onFileDrop:this.onFileDrop}),this.renderSuggestion())),Ye.createElement(Yme,{tabId:"preview"},Ye.createElement("div",{className:d},Ye.createElement(che,{content:i,owner:s,repo:r}))))),Ye.createElement(Y8.Z,{query:{maxWidth:"760px"}},(e=>Ye.createElement("div",{className:c},Ye.createElement("label",{className:"zhc-edit-comment__file-upload zhu-cursor-pointer","data-cy":"attach-files"},Ye.createElement(gVt,null),Ye.createElement("span",null,e?"Attach files.":"Attach files by dragging and dropping, selecting or pasting them."),Ye.createElement("input",{type:"file",onChange:this.onFileChange,onClick:this.onFileClick,accept:bVt})),Ye.createElement("div",{className:"zhc-edit-comment__markdown-info"},Ye.createElement(YI,{content:"Styling with Markdown is supported"},Ye.createElement("a",{href:"https://help.zenhub.com/support/solutions/articles/43000010354",target:"_blank",rel:"noopener noreferrer"},Ye.createElement(Ahe,null))))))))}}SVt.propTypes={id:SI().string.isRequired,organization:SI().string.isRequired,repository:SI().string.isRequired,onFileUpload:SI().func.isRequired,assignables:SI().arrayOf(SI().shape({})),autoFocus:SI().bool,isSubmitDisabled:SI().bool,value:SI().string,onChange:SI().func,onSubmit:SI().func,onTagging:SI().func},SVt.defaultProps={assignables:[],onChange:_t.ZT,value:"",autoFocus:!1,onSubmit:_t.ZT,onTagging:_t.ZT,isSubmitDisabled:!1};const wVt=SVt,RVt=e=>{let{disabled:t,isReadOnly:n,handleCreateEpic:s}=e;return n?Ye.createElement(YI,{content:"Repo is read only so creating epics is disabled",position:jI.TOP},Ye.createElement(Ope,{text:"Create an Epic","data-cy":"create-epic",modifiers:["action"],disabled:!0})):Ye.createElement(Ope,{text:"Create an Epic","data-cy":"create-epic",modifiers:["action"],onClick:s,disabled:t})},{issue:TVt}=LG,CVt=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)($A,l3.wU);return(0,Ye.useCallback)((()=>{e(TVt.toggleSidebar(!t))}),[e,t])},kVt="m8Q8IN3JX1oqvvKgyxxI",OVt="AdDMIkB2i9nkJ_7Iz1bM",NVt="Oq5rtpouTySDEU4XIYdE",PVt="yIcM5URL6OUtNmQuCKwq",AVt="PBiFIJuQbb36pWXQ92RZ",DVt=e=>{let{disabled:t,handleCancel:n,handleCreateEpic:s,handleSubmit:r,isModal:i,isReadOnly:o,isSubmissionInProgress:a,isEpic:l,addToRoadmap:c,setAddToRoadmap:d}=e;const u=CVt();return Ye.createElement("div",{className:kVt},Ye.createElement("div",{className:OVt},Ye.createElement("div",{className:AVt},Ye.createElement(lht,{name:"More Options",isActive:!1,toggleOpen:u})),l&&Ye.createElement("label",{className:PVt},Ye.createElement(mCe,{checked:c,onClick:()=>d(!c)}),"Show this epic in roadmap")),Ye.createElement("div",{className:NVt},i&&Ye.createElement(H5,{variant:z5.TEXT,onClick:n,disabled:a},"Cancel"),l?Ye.createElement(RVt,{isReadOnly:o,disabled:t,handleCreateEpic:s}):Ye.createElement(H5,{"data-cy":"submit-new-issue",color:L5.ACTION,onClick:r,disabled:t},"Submit new Issue")))},LVt=(0,_t.$G)(30),zVt=e=>{let{title:t,about:n}=e;return Ye.createElement("div",{className:"zhc-new-issue-body__template_selector-item","data-cy":"template-item"},LVt(t),n&&Ye.createElement("div",{className:"zhc-new-issue-body__template_selector-item-description","data-cy":"template-item-description"},n))};zVt.propTypes={title:SI().string.isRequired,about:SI().string},zVt.defaultProps={about:null};const MVt=yEe(zVt);function xVt(){return xVt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xVt.apply(this,arguments)}const FVt=e=>{const{isTemplateSelectOpen:t,templates:n,toggleTemplatesDropdown:s}=e,r=(e=>{const{name:t}=e.find((e=>e.selected));return{buttonName:Ye.createElement("span",{className:"zhu-text-important"},t),tooltipContent:t}})(n);return Ye.createElement("div",{className:"zhc-new-issue-body__template_selector"},Ye.createElement(Ome,xVt({},r,{allowNegatedSearch:!1,listTitle:"Choose Issue Template",emptyStateText:"No templates found",filterableChildProp:"title",filterDefaultText:"Filter templates",toggleOpen:s,isActive:t,position:kte.RIGHT,disableSelectionButtonActiveState:!0}),((e,t)=>e.map((e=>{const{about:n,name:s,selected:r,id:i}=e,{loadTemplate:o,isIssueTemplateDirty:a}=t;return Ye.createElement(MVt,{key:i,filterKey:s,select:()=>a?(Doe("Are you sure you want to change the template?","All your progress will be lost and replaced by the new template").then((()=>o(e)),(()=>null)),null):(o(e),null),title:s,about:n,selected:r})})))(n,e)))};FVt.propTypes={isTemplateSelectOpen:SI().bool.isRequired,templates:SI().arrayOf(SI().object).isRequired,toggleTemplatesDropdown:SI().func.isRequired};const UVt=FVt;function BVt(){return BVt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BVt.apply(this,arguments)}const qVt=e=>{let{className:t,...n}=e;const s={className:["zhc-svg-icon","zhc-svg-icon--git-pull-request",t].filter(Boolean).join(" "),"aria-label":"git-pull-request",role:"img",...n};return Ye.createElement("svg",BVt({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 12 16"},s),Ye.createElement("path",{d:"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06S8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31s.3.42.31.69v6.28A1.993 1.993 0 0010 15a1.993 1.993 0 001-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2s.55-1.2 1.2-1.2 1.2.55 1.2 1.2-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 00-1 3.72v6.56A1.993 1.993 0 002 15a1.993 1.993 0 001-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2S.8 13.65.8 13s.55-1.2 1.2-1.2 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3S1.35 1.8 2 1.8s1.2.55 1.2 1.2S2.65 4.2 2 4.2z"}))},HVt={EPIC:"Epic",ISSUE_OPEN:"Open",ISSUE:"Issue",ISSUE_CLOSED:"Closed",PR_OPEN:"Open",PR_CLOSED:"Closed",PR_DRAFT:"Draft",PR_MERGED:"Merged"},WVt={EPIC:{text:HVt.EPIC,icon:Ye.createElement(ere,null),className:"zhc-issue-badge--epic"},ISSUE_OPEN:{text:HVt.ISSUE_OPEN,icon:Ye.createElement(E9,null),className:"zhc-issue-badge--issue-open"},ISSUE:{text:HVt.ISSUE,icon:Ye.createElement(E9,null),className:"zhc-issue-badge--issue-open"},ISSUE_CLOSED:{text:HVt.ISSUE_CLOSED,icon:Ye.createElement(mKe,null),className:"zhc-issue-badge--issue-closed"},PR_OPEN:{text:HVt.PR_OPEN,icon:Ye.createElement(qVt,null),className:"zhc-issue-badge--pr-open"},PR_CLOSED:{text:HVt.PR_CLOSED,icon:Ye.createElement(Y8e,null),className:"zhc-issue-badge--pr-closed"},PR_DRAFT:{text:HVt.PR_DRAFT,icon:Ye.createElement(X8e,null),className:"zhc-issue-badge--pr-draft"},PR_MERGED:{text:HVt.PR_MERGED,icon:Ye.createElement($8e,null),className:"zhc-issue-badge--pr-merged"}},jVt=ee.XPQ(WVt),GVt=ee.u4g(((e,t)=>(e[t]=t,e)),{},jVt),KVt=(ee.HkC(_t.DX,ee.e$l(ee.__,WVt)),{container:"_FVOlZDRf74oi6fSLHyi",epicIcon:"W45OSpGr6Z1GCM_YzQMz",issueIcon:"W7sOB2Waj9pJBVY7IHJX"}),VVt={EPIC:{displayName:"Epic",icon:Ye.createElement(ere,{className:KVt.epicIcon})},ISSUE:{displayName:"Issue",icon:Ye.createElement(E9,{className:KVt.issueIcon})}},$Vt=e=>{let{type:t}=e;const{icon:n,displayName:s}=VVt[t];return Ye.createElement("div",{className:(0,_I.default)(KVt.container,KVt[t.toLowerCase()])},n," ",s)},{issue:ZVt}=LG,YVt=[{component:Ye.createElement("div",{className:"zhc-issue-type-selection-list__item"},Ye.createElement(E9,null),Ye.createElement("div",{className:"zhc-issue-type-selection-list__item__content"},Ye.createElement("p",null,"Issue"),Ye.createElement("span",null,"User story/piece of work"))),id:Hx.ISSUE},{component:Ye.createElement("div",{className:"zhc-issue-type-selection-list__item"},Ye.createElement(ere,null),Ye.createElement("div",{className:"zhc-issue-type-selection-list__item__content"},Ye.createElement("p",null,"Epic"),Ye.createElement("span",null,"A group of issues"))),id:Hx.EPIC}],JVt=e=>{let{issueType:t}=e;const n=(0,l3.I0)();return Ye.createElement(Cre,{button:Ye.createElement(H5,{width:D5.FULL,className:"zhc-issue-type-selection-list__button",ariaLabel:"Select Issue Type"},t===Hx.ISSUE?Ye.createElement($Vt,{type:GVt.ISSUE}):Ye.createElement($Vt,{type:GVt.EPIC}),Ye.createElement(gte,null)),items:YVt,selectedId:t,onSelectItem:e=>{n(ZVt.changeIssueType({issueType:e}))},headerText:"Type",maxHeight:"300px"})};class XVt extends Ye.PureComponent{constructor(e){super(e),this.selectRepoItem=e=>{const{onClickRepo:t,closeDropdownOnSelect:n}=this.props;t(e),n&&this.toggleRepoDropdown()},this.toggleRepoDropdown=()=>{const{onToggle:e}=this.props,{isOpen:t}=this.state;this.setState((e=>({isOpen:!e.isOpen}))),e&&e({isOpen:!t})},this.renderRepoItem=e=>{const{selectedRepoId:t,showDefaultTag:n}=this.props;return Ye.createElement(RBe,{key:e.repo_id,isDefaultRepo:e.isWorkspaceDefault,filterKey:e.repo_id,organization:e.organization,repo:e.repository,repo_id:e.repo_id,select:()=>this.selectRepoItem(e),selected:e.repo_id===t,showDefaultTag:n})},this.state={isOpen:!1}}render(){const{buttonName:e,footer:t,listDescription:n,listTitle:s,repos:r}=this.props,{isOpen:i}=this.state,o=ee.vgT("organization"),a=ee.vgT("repository"),l=ee.OH4("isWorkspaceDefault",!0),c=(0,mS.Rv)(r,o,a,l);return Ye.createElement("div",{className:"zhc-new-issue-body__repo-dropdown","data-cy":"repo-dropdown"},Ye.createElement(Ome,{disableSelectionButtonActiveState:!0,allowNegatedSearch:!1,buttonName:e,emptyStateText:"No repos found",filterDefaultText:"Search repos",listTitle:s,listDescription:n,filterableChildProp:"repo",toggleOpen:this.toggleRepoDropdown,isActive:i,footer:t},ee.UID(this.renderRepoItem,c)))}}XVt.defaultProps={closeDropdownOnSelect:!0,footer:null,listDescription:null,listTitle:null,repos:[],showDefaultTag:!1,onToggle:null},XVt.propTypes={buttonName:SI().node.isRequired,selectedRepoId:SI().number.isRequired,onClickRepo:SI().func.isRequired,closeDropdownOnSelect:SI().bool,footer:SI().node,listDescription:SI().string,listTitle:SI().string,repos:SI().arrayOf(SI().shape({organization:SI().string,permissions:SI().shape({admin:SI().bool,pull:SI().bool,push:SI().bool}),repo_id:SI().number,repository:SI().string})),showDefaultTag:SI().bool,onToggle:SI().func};const QVt=XVt;class e$t extends Ye.PureComponent{constructor(e){super(e),this.onSelectDefault=e=>{this.setState({selectedDefaultRepoId:e.repo_id})},this.onApplySetDefault=()=>{const{onChangeDefaultRepo:e}=this.props,{selectedDefaultRepoId:t}=this.state;this.setState({actualDefaultRepoId:t,setDefaultDropdownActive:!1}),e(t)},this.findDefaultRepoId=()=>{const{repos:e}=this.props;return ee.sEJ(ee.OH4("isWorkspaceDefault",!0),e).repo_id},this.toggleSetDefaultDropdown=()=>{this.setState((e=>({setDefaultDropdownActive:!e.setDefaultDropdownActive})))},this.renderSetDefaultDropdownFooter=()=>{const{actualDefaultRepoId:e,selectedDefaultRepoId:t}=this.state;return Ye.createElement(Ye.Fragment,null,Ye.createElement(H5,{onClick:this.toggleSetDefaultDropdown,variant:z5.TEXT},"Cancel"),Ye.createElement(Ope,{text:"Apply changes",disabled:e===t,onClick:this.onApplySetDefault,modifiers:["action"]}))},this.renderSetDefaultDropdown=()=>{const{buttonName:e,repos:t}=this.props,{selectedDefaultRepoId:n}=this.state;return Ye.createElement(QVt,{buttonName:e,repos:t,onClickRepo:this.onSelectDefault,listTitle:"Set Default Repo",listDescription:"This is your default Repo when creating new issues. This setting will only impact you. Your team will not be affected.",footer:this.renderSetDefaultDropdownFooter(),selectedRepoId:n,closeDropdownOnSelect:!1,onToggle:e=>{let{isOpen:t}=e;t||this.setState(this.getInitialState())}})},this.renderRegularDropdownFooter=()=>Ye.createElement(Ope,{text:"Change default repo","data-cy":"change-default-repo",onClick:this.toggleSetDefaultDropdown,modifiers:["text","text-primary"]}),this.renderRegularDropdown=()=>{const{buttonName:e,repos:t,selectedRepoId:n,onClickRepo:s}=this.props;return Ye.createElement(QVt,{buttonName:e,repos:t,onClickRepo:s,listTitle:"Create Issue in Repo",footer:this.renderRegularDropdownFooter(),selectedRepoId:n,showDefaultTag:!0})},this.state={actualDefaultRepoId:this.findDefaultRepoId(),selectedDefaultRepoId:this.findDefaultRepoId(),setDefaultDropdownActive:!1}}getInitialState(){return{actualDefaultRepoId:this.findDefaultRepoId(),selectedDefaultRepoId:this.findDefaultRepoId(),setDefaultDropdownActive:!1}}render(){const{setDefaultDropdownActive:e}=this.state;return e?this.renderSetDefaultDropdown():this.renderRegularDropdown()}}const t$t=SI().shape({organization:SI().string,permissions:SI().shape({admin:SI().bool,pull:SI().bool,push:SI().bool}),repo_id:SI().number,repository:SI().string});e$t.defaultProps={selectedRepoId:null},e$t.propTypes={buttonName:SI().node.isRequired,repos:SI().arrayOf(t$t).isRequired,onChangeDefaultRepo:SI().func.isRequired,onClickRepo:SI().func.isRequired,selectedRepoId:SI().number};const n$t=e$t,s$t=e=>{let{connectedRepos:t,onChangeRepo:n,onChangeDefaultRepo:s,repoId:r}=e;const{repository:i,organization:o}=t.find((e=>e.repo_id===r))||{};return Ye.createElement(n$t,{buttonName:Ye.createElement("span",{className:"zhu-text-important"},o,"/",i),repos:t,onClickRepo:n,onChangeDefaultRepo:s,selectedRepoId:r})},r$t=e=>{let{connectedRepos:t,isIssueTemplateDirty:n,issueTemplates:s,issueType:r,isTemplateSelectOpen:i,loadTemplate:o,onChangeDefaultRepo:a,onChangeRepo:l,repoId:c,toggleTemplatesDropdown:d}=e;const u=(0,l3.v9)(Lre),p=(0,Ye.useMemo)((()=>Ye.createElement("div",{className:"zhc-new-issue-body__dropdown"},Ye.createElement("h5",null,"Type"),Ye.createElement(JVt,{issueType:r}))),[r]),m=(0,Ye.useMemo)((()=>Ye.createElement("div",{className:"zhc-new-issue-body__dropdown"},Ye.createElement("h5",null,"Template"),Ye.createElement(UVt,{loadTemplate:o,toggleTemplatesDropdown:d,isTemplateSelectOpen:i,templates:s,isIssueTemplateDirty:n}))),[n,i,s,o,d]);return Ye.createElement("div",{className:"zhc-new-issue-body__dropdown-wrapper"},u?null:p,t.length>1?Ye.createElement("div",{className:"zhc-new-issue-body__dropdown"},Ye.createElement("h5",null,"Create In"),Ye.createElement(s$t,{connectedRepos:t,onChangeRepo:l,onChangeDefaultRepo:a,repoId:c})):null,m)};var i$t=n(30644),o$t=n.n(i$t);const a$t=(e,t)=>({repo_id:e.connectedRepos?.find((t=>t.repo_id===e.repoId))?.id,organization:e.organization,repository:e.repository,title:t.title,body:t.description,labels:e.labels??void 0,assignees:e.assignees??void 0,milestone:null!=e.milestone?e.milestone:void 0}),l$t=e=>{const{repoId:t,sidebarPipelinesByWorkspaceId:n,sidebarPrioritiesByWorkspaceId:s}=e;return Object.keys(n).map((e=>({repo_id:t,position:"top",target_pipeline_id:n[e],priority_id:s[e],board_id:e,issues:[{repo_id:t,issue_number:null}]})))},c$t=e=>({repo_id:e.repoId,organization:e.organization,repository:e.repository,estimateId:e.estimate}),d$t=e=>e.epicParents?e.epicParents.map((t=>({repo_id:e.repoId,epic_repo_id:t.repo_id,epic_issue_number:t.issue_number,workspaceId:e.workspace._id}))):null,u$t=e=>e.epicParents?.length?e.epicParents:null,p$t=e=>e.releases?e.releases.map((t=>({repo_id:e.repoId,release_id:t}))):null,m$t=e=>{if(!e.sprints)return null;return Object.keys(e.sprints)},h$t=(e,t,n)=>({afterSubmitIssue:e,createIssueArgs:a$t(t,n),draftDescriptionKey:t.draftDescriptionKey,draftRepoKey:t.draftRepoKey,draftTitleKey:t.draftTitleKey,isReadOnly:t.isReadOnly,repo_id:t.repoId,setEpicParentsArgs:u$t(t),setLegacyEpicParentsArgs:d$t(t),setEstimateArgs:c$t(t),setPipelinesArgs:l$t(t),setReleasesArgs:p$t(t),setSprintArgs:m$t(t),workspace:t.workspace}),E$t=ee.ETc(["status","pendingSubmission"]),{isNilOrEmpty:g$t}=Vt.Z,f$t=(0,pa.P1)(uA,Sw,QA,((e,t,n)=>{const s=ee.ETc([e],t);if(g$t(s))return null;const r=ee.HK3(sd,s),i=ee.XPQ(n);return ee.UID((e=>ee.ETc([e,"name"],r)),i)})),_$t=(0,pa.P1)(uA,_w,tD,((e,t,n)=>{let s=ee.ETc([e],t);if(g$t(s))return null;s=lk(s);const r=ee.HK3(Rl,s),i=ee.XPQ(n);return ee.UID((e=>ee.ETc([e,"login"],r)),i)})),v$t=(0,pa.P1)(uA,ww,Rw,dD,((e,t,n,s)=>{const r=ee.ETc([e],t)||[],i=ee.ETc([e],n)||[],o=ee.zoF(r,i);if(g$t(o)||ee.kKJ(s))return null;return ee.sEJ((e=>s===Vl(e)),o).number})),I$t=(0,pa.P1)(sD,(e=>{const t=Object.keys(e);if(!t?.length)return null;const n=t.map(ln);return Boolean(n[0].issue_number)?n:t})),b$t=(0,pa.P1)(pD,(e=>{const t=ee.XPQ(e);return g$t(t)?null:t})),y$t=(0,pa.P1)([uA,_w],((e,t)=>{const n=ee.Uth(null,e,t||{});return g$t(n)?n:lk(n)})),S$t=(0,pa.P1)([fA],(e=>{const{repos:t,defaultRepoId:n}=e,s=ee.cxD(ee.OH4("repo_id",n),t);return ee.zBu(ee.yGi("isWorkspaceDefault",!0),s,t)})),w$t=(0,pa.P1)([Vx,Qx],((e,t)=>ee.kKJ(e)?t:e)),R$t=(0,pa.P1)([$x,Jx],((e,t)=>ee.kKJ(e)?t:e)),T$t=()=>{const e=(0,l3.v9)(uA,l3.wU),t=(0,l3.v9)(fA,l3.wU),n=(0,l3.v9)(bA,l3.wU),s=(0,l3.v9)(yA,l3.wU),r=(0,l3.v9)(w$t,l3.wU)||"",i=(0,l3.v9)($x,l3.wU),o=(0,l3.v9)(R$t,l3.wU)||"",a=(0,l3.v9)(Jx),l=(0,l3.v9)(f$t,l3.wU),c=(0,l3.v9)(_$t,l3.wU),d=(0,l3.v9)(iD,l3.wU),u=(0,l3.v9)(v$t,l3.wU),p=(0,l3.v9)(PA,l3.wU),m=(0,l3.v9)(lD,l3.wU),h=(0,l3.v9)(aD,l3.wU),E=(0,l3.v9)(uD,l3.wU),g=(0,l3.v9)(I$t,l3.wU),f=(0,l3.v9)(b$t,l3.wU),_=(0,l3.v9)(E$t,l3.wU),v=!(0,l3.v9)(wA,l3.wU),I=(0,l3.v9)($A,l3.wU),b=(0,l3.v9)(Kw,l3.wU),y=(0,l3.v9)(y$t,l3.wU),S=(0,l3.v9)(S$t,l3.wU),w=(0,l3.v9)(jx,l3.wU),R=(0,l3.v9)(Gx,l3.wU)||null,T=(0,l3.v9)(Kx,l3.wU),C=(0,l3.v9)(hD,l3.wU),k=(0,l3.v9)(ED,l3.wU),O=(0,l3.v9)(gD,l3.wU),N=(0,l3.v9)(nw,l3.wU),P=(0,l3.v9)(_A,l3.wU),A=(0,l3.v9)(Eee,l3.wU);return(0,Ye.useMemo)((()=>({assignables:y,assignees:c,connectedRepos:S,description:o,draftDescriptionKey:R,draftRepoKey:T,draftTitleKey:w,epicParents:g,estimate:E,hasAssigneesUpdatePending:b,isIssueTemplateDirty:O,isReadOnly:v,isSideBarCollapsed:A,isSidebarOpen:I,isSubmissionInProgress:_,issueTemplate:a,issueTemplates:k,issueType:P,isTemplateSelectOpen:C,isTemplateSelectorFeatureAlertDismissed:N,labels:l,milestone:u,organization:n,pipelinesByWorkspace:p,releases:f,repoId:e,repository:s,savedDescription:i,sidebarPipelinesByWorkspaceId:m,sidebarPrioritiesByWorkspaceId:h,sprints:d,title:r,workspace:t})),[y,c,S,o,R,T,w,g,E,b,O,v,A,I,_,C,N,a,k,P,l,u,n,p,f,e,s,i,m,h,d,r,t])};bb.Ps`
  mutation createEpicFromIssue($CreateEpicFromIssueInput: CreateEpicFromIssueInput!) {
    createEpicFromIssue(input: $CreateEpicFromIssueInput) {
      epic {
        id
      }
    }
  }
`;const C$t=bb.Ps`
  mutation setIssueEstimate($input: SetEstimateInput!) {
    setEstimate(input: $input) {
      issue {
        id
        estimate {
          value
        }
      }
    }
  }
`;const k$t=bb.Ps`
  mutation addIssuesToReleases($AddIssuesToReleasesInput: AddIssuesToReleasesInput!) {
    addIssuesToReleases(input: $AddIssuesToReleasesInput) {
      releases {
        id
      }
    }
  }
`;const O$t=e=>ly().mutate({mutation:cRt,variables:{CreateIssueInput:e}}),N$t=e=>ly().mutate({mutation:pRt,variables:{CreateEpicInput:{issue:e}}}),P$t=(e,t)=>{oe(e,t),window.alert(e)};function A$t(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function D$t(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){A$t(i,s,r,o,a,"next",e)}function a(e){A$t(i,s,r,o,a,"throw",e)}o(void 0)}))}}const L$t=function(){var e=D$t((function*(e){let{issueId:t,zenhubEpicIds:n}=e;return s={input:{issueIds:[t],zenhubEpicIds:n}},ly().mutate({mutation:nbt,variables:s});var s}));return function(t){return e.apply(this,arguments)}}(),z$t=function(){var e=D$t((function*(e){let{workspaceId:t,parentEpics:n,issueId:s}=e;const r=yield(e=>ly().cache.readQuery({query:lF,variables:{id:e}}))(t),i=r?.workspace?.epics?.nodes||[],o=n.map((e=>{let{epic_repo_id:t,epic_issue_number:n}=e;const s=i.find((e=>e.issue.number===n&&e.issue.repository.ghId===t));return s?.id})).filter(Boolean),a=o.map((e=>{return e?(t={input:{epicId:e,issueIds:[s]}},ly().mutate({mutation:Iqt,variables:t})):null;var t}));return Promise.all(a)}));return function(t){return e.apply(this,arguments)}}(),M$t=(e,t,n)=>{const{setPipelinesArgs:s,setEpicParentsArgs:r,setLegacyEpicParentsArgs:i,setSprintArgs:o,isReadOnly:a,setEstimateArgs:l,setReleasesArgs:c,setEpicChildrenArgs:d}=e,u=[];return a?[]:(s&&s.forEach((e=>{var n;u.push((n={issueId:t,pipelineId:e.target_pipeline_id},ly().mutate({mutation:bat,variables:{MoveIssueInput:n}})))})),d?.addToRoadmap&&n&&u.push((p={epicIds:[n],roadmapId:d.roadmapId},ly().mutate({mutation:uze,variables:{input:p}}))),l.estimateId&&u.push((e=>ly().mutate({mutation:C$t,variables:{input:e}}))({issueId:t,value:l.estimateId})),r?.length&&u.push(L$t({issueId:t,zenhubEpicIds:r})),i?.length&&u.push(z$t({issueId:t,parentEpics:i,workspaceId:e.workspace._id})),c&&c.forEach((e=>{var n;u.push((n={issueIds:[t],releaseIds:[e.release_id]},ly().mutate({mutation:k$t,variables:{AddIssuesToReleasesInput:n}})))})),o&&u.push((m={issueId:t,sprintIds:o},ly().mutate({mutation:mUt,variables:m}))),u);var p,m};function x$t(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{issue:F$t}=pr,U$t=(0,hS.Z)(F$t.NEW_ISSUE,(e=>function(){var t,n=(t=function*(t,n){const{createIssueArgs:{title:s,body:r,repo_id:i,assignees:o,labels:a,milestone:l}}=e;vF(t);try{const c={title:s,body:r,repositoryId:i,...o&&{assignees:o},...l&&{milestone:l},...a&&{labels:a}},d=Boolean(e.setEpicChildrenArgs),u=d?N$t:O$t,p=yield u(c),m=d?p?.data?.createEpic?.epic?.issue:p?.data?.createIssue?.issue;try{yield Promise.all(M$t(e,m.id,p?.data?.createEpic?.epic?.id))}catch(e){P$t("An error happened when configuring the issue.id. Please double-check the created issue.id.",e)}finally{((e,t,n,s)=>{const r=ly();s(qU(t.draftTitleKey)),s(qU(t.draftDescriptionKey)),s(qU(t.draftRepoKey));const{workspace:i,repo_id:o,createIssueArgs:a,afterSubmitIssue:l}=t;Urt(r,e.repository.ghId,e.number,t.workspace._id,n);const c={html_url:e.html_url,issue_id:e.id,issue_number:e.number,organization:a.organization,pull_request:e.pull_request,repo_id:o,repository:a.repository,title:e.title,workspace:i};l?.(c),U&&s(Zq(c))})(m,e,n(),t)}}catch(e){return e?.message?.toLowerCase().includes("issues are disabled for this repo")?P$t("GitHub Error - issues are disabled for this repo."):e?.message?.toLowerCase().includes("you have exceeded a secondary rate limit")?P$t("GitHub Error - you have exceeded your rate limit, please try again later."):P$t("An error prevented the creation of the issue",e)}finally{IF(t)}return null},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){x$t(i,s,r,o,a,"next",e)}function a(e){x$t(i,s,r,o,a,"throw",e)}o(void 0)}))});return function(e,t){return n.apply(this,arguments)}}())),B$t=U$t,q$t=e=>{let{afterSubmitIssue:t,allProps:n}=e;const s=(0,l3.I0)(),{workspace:r}=n,{data:i}=Nat({variables:{workspaceId:r._id}}),o=i?.workspace?.roadmap?.id;return(0,Ye.useCallback)((e=>{const r=Boolean(e.addToRoadmap),i={...h$t(t,n,e),setEpicChildrenArgs:{addToRoadmap:r,roadmapId:o}};s(B$t(i)),r6("Create Epic",{Location:"Issue/Epic Creation Modal"}),s(WB()),r||r6("Create Epic Add to Roadmap opt-out")}),[t,n,s,o])},{issue:H$t,shared:W$t,pages:j$t,onboarding:G$t}=LG,K$t=e=>{const t=T$t(),{workspace:n,draftTitleKey:s,draftDescriptionKey:r,isIssueTemplateDirty:i,title:o,description:a,issueTemplate:l,draftRepoKey:c,issueType:d,repoId:u,savedDescription:p,issueTemplates:m}=t,h=(0,l3.I0)(),E=(0,Ye.useCallback)(((e,t,n)=>{h(H$t.loadTemplate({repoId:t,template:e,workspaceId:n}))}),[h]),g=(0,Ye.useCallback)((()=>{h(G$t.setOnboardingValue({key:"template_selector_alert_dismissed",value:!0}))}),[h]),f=(0,Ye.useCallback)((e=>{h(H$t.toggleTemplateDropdown()),h(H$t.trackTemplatesCount(e))}),[h]),_=(0,Ye.useCallback)((e=>{j$t.changeDefaultRepo(e)(h)}),[h]),v=(0,Ye.useCallback)((e=>{h(H$t.setIssueTemplateDirty(!0)),h(H$t.updateDraft({key:s,value:e}))}),[h,s]),I=(0,Ye.useCallback)((e=>{h(H$t.setIssueTemplateDirty(!0)),h(H$t.updateDraft({key:r,value:e}))}),[h,r]),b=(0,Ye.useCallback)((e=>{i||h(H$t.clearDraftTitle(n._id)),(o||a&&a!==l)&&h(H$t.updateDraft({key:c,value:e})),h(W$t.getReposLabelsNewIssue([e.repo_id])),h(H$t.initNewIssuePage({...e,issueType:d}))}),[a,h,c,i,l,d,o,n._id]),y=q$t({afterSubmitIssue:e,allProps:t}),S=(0,Ye.useCallback)((n=>{const s=h$t(e,t,n);h(H$t.trackSubmitNewIssue(s)),h(B$t(s))}),[t,h,e]),w=(0,Ye.useCallback)(((e,t,n,s,i,o)=>{o$t()(p)&&h(H$t.updateDraft({key:r,value:l}));const a={file_name:t,file_mime:n,file_size:s,repoId:u,draftKey:r,caretIndex:i,updateCaret:o};h(H$t.uploadFile(e,a))}),[h,r,l,u,p]),R=(0,Ye.useCallback)((()=>{(e=>{let{hasAssigneesUpdatePending:t,assignables:n}=e;return!t&&o$t()(n)})(t)&&h(W$t.getReposAssignees([u]))}),[t,h,u]),T=(0,Ye.useCallback)((e=>{_({workspaceId:n._id,repoId:e})}),[_,n._id]),C=(0,Ye.useCallback)((e=>{E(e,u,n._id)}),[E,u,n._id]),k=(0,Ye.useCallback)((()=>f(m)),[m,f]);return{assignables:t.assignables,connectedRepos:t.connectedRepos,description:a,dismissTemplateSelectorFeatureAlert:g,isIssueTemplateDirty:i,isReadOnly:t.isReadOnly,isSideBarCollapsed:t.isSideBarCollapsed,isSubmissionInProgress:t.isSubmissionInProgress,issueTemplates:m,issueType:d,isTemplateSelectOpen:t.isTemplateSelectOpen,isTemplateSelectorFeatureAlertDismissed:t.isTemplateSelectorFeatureAlertDismissed,loadTemplate:C,onChangeDefaultRepo:T,onChangeDescription:I,onChangeRepo:b,onChangeTitle:v,onCreateEpic:y,onFileUpload:w,onSubmit:S,onTagging:R,organization:t.organization,repoId:u,repository:t.repository,title:o,toggleTemplatesDropdown:k}};function V$t(e){const t=e?.composedPath?.();e.target instanceof HTMLAnchorElement&&t?.find((e=>e instanceof HTMLElement&&e.className?.includes("zhc-markdown")))&&(e.preventDefault(),window.open(e.target.href))}const $$t=e=>{let{isModal:t,closePortal:n,afterSubmitIssue:s=_t.ZT}=e;const{assignables:r,connectedRepos:i,description:o,dismissTemplateSelectorFeatureAlert:a,isIssueTemplateDirty:l,isReadOnly:c,isSideBarCollapsed:d,isSubmissionInProgress:u,issueTemplates:p,issueType:m,isTemplateSelectOpen:h,isTemplateSelectorFeatureAlertDismissed:E,loadTemplate:g,onChangeDefaultRepo:f,onChangeDescription:_,onChangeRepo:v,onChangeTitle:I,onCreateEpic:b,onFileUpload:y,onSubmit:S,onTagging:w,organization:R,repoId:T,repository:C,title:k,toggleTemplatesDropdown:O}=K$t(s),N=(0,Ye.useRef)(null),[P,A]=(0,Ye.useState)(!0);(0,Ye.useEffect)((()=>{const e=N?.current;return e&&e.addEventListener("click",V$t),()=>{e&&e.removeEventListener("click",V$t)}}),[]);const D=(0,Ye.useCallback)((e=>{I(e.target.value)}),[I]),L=(0,Ye.useCallback)((()=>{r6("New Issue Page",{Action:"Cancel New issue creation"}),n()}),[n]),z=()=>{S({title:k,description:o})},M=!(e=>Boolean(e?.trim()?.length))(k)||u,x=(0,_I.default)("zhc-new-issue-body",{"zhc-new-issue-body--full-width":d&&!t}),F=m===Hx.EPIC;return Ye.createElement("div",{ref:N,className:x},Ye.createElement(_Bt,null),Ye.createElement(r$t,{connectedRepos:i,isIssueTemplateDirty:l,issueTemplates:p,issueType:m,isTemplateSelectOpen:h,loadTemplate:g,onChangeDefaultRepo:f,onChangeRepo:v,repoId:T,toggleTemplatesDropdown:O}),Ye.createElement(FSe,{isDismissed:E,linkText:"Learn more",linkHref:"https://help.zenhub.com/support/solutions/articles/43000074624",onClose:a,className:"zhc-new-issue-body__info_alert"},Ye.createElement("span",{className:"zhu-text-important"},"Tip!\xa0"),Ye.createElement("span",{className:"zhc-new-issue-body_template_selector_info_alert"},"Toggle between multiple issue templates created in this repo using the template switcher.")),Ye.createElement("hr",{className:"zhc-new-issue-body__dropdown-divider"}),Ye.createElement("div",{className:"zhc-new-issue-body__title"},Ye.createElement("label",null,Ye.createElement("h4",null,F?"Epic":"Issue"," title"),Ye.createElement("input",{type:"text","data-cy":"title-input",className:"zhc-new-issue-body__title-input",value:k,onChange:D,autoFocus:!0,placeholder:"Title of this "+(F?"Epic":"Issue")}))),Ye.createElement("div",{className:"zhc-new-issue-body__description"},Ye.createElement(wVt,{id:"textarea-issue-description",value:o,onChange:_,onSubmit:z,isSubmitDisabled:M,organization:R,repository:C,onFileUpload:y,onTagging:w,assignables:r})),Ye.createElement(DVt,{addToRoadmap:P,disabled:M,handleCancel:L,handleCreateEpic:()=>{b({title:k,description:o,addToRoadmap:P})},handleSubmit:z,isEpic:F,isModal:t,isReadOnly:c,isSubmissionInProgress:u,setAddToRoadmap:A}))};function Z$t(){return Z$t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z$t.apply(this,arguments)}const{issue:Y$t,onboarding:J$t,shortcuts:X$t}=LG,Q$t=X$t.trackShortcutsUsed(E8.ISSUE_PAGE_PIPELINE.name),eZt=(0,pa.P1)(PA,cD,aD,Na,((e,t,n,s)=>{if(!e)return null;const r=((e,t)=>ee.HCG([ee.Ck5((t=>t.workspace._id===e)),ee.zU3((e=>e.workspace.displayName))])(t))(s._id,e),i=((e,t)=>e.map((e=>{let n=t[e.workspace._id];n||(n=ee.ETc(["pipelines","0","_id"],e)||null);const s=e.pipelines.map((e=>({...e,selected:e._id===n,filterKey:e._id})));return{...e,pipelines:s}})))(r,t);return((e,t)=>e.map((e=>{const n=t[e.workspace._id];return{...e,priorityId:n}})))(i,n)}));class tZt extends Ye.PureComponent{componentDidMount(){const{initOnboarding:e}=this.props;e()}render(){return Ye.createElement(LFt,Z$t({},this.props,{isIssueClosed:!1}))}}tZt.propTypes={initOnboarding:SI().func.isRequired};const nZt=(0,l3.$j)((function(e){return{isPrioritiesInfoAlertDismissed:aw(e),isReadOnly:!wA(e),isWorkspaceInfoAlertDismissed:ow(e),pipelinesByWorkspace:eZt(e),currentPipelineIds:zA(e),isIssueInFirstPipelineOfCurrentWorkspace:vD(e),shortcuts:E8.ISSUE_PAGE_PIPELINE.shortcuts}}),(function(e){return{applyPriority(t){e(Y$t.sidebarSetPriority({workspaceId:t.workspaceId,priorityId:t.priority_id}))},dismissPrioritiesInfoAlert(){const t={key:"priorities_issue_pipeline_selector_alert_dismissed",value:!0};e(J$t.setOnboardingValue(t))},dismissWorkspacesInfoAlert(){const t={key:"workspaces_issue_pipeline_selector_alert_dismissed",value:!0};e(J$t.setOnboardingValue(t))},initOnboarding:()=>{BG(e,["workspaces_issue_pipeline_selector_alert_dismissed","priorities_issue_pipeline_selector_alert_dismissed"])},onShortcutsUsed(){e(Q$t)},selectItem(t,n){e(Y$t.sidebarSetPipeline({workspaceId:t._id,pipelineId:n.filterKey,location:"New Issue Sidebar"}))}}}))(tZt);function sZt(){return sZt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sZt.apply(this,arguments)}const{shortcuts:rZt,shared:iZt,issue:oZt}=LG,aZt=YA(dl),lZt=oZt.toggleDropdown.bind(void 0,dl),cZt=rZt.trackShortcutsUsed(E8.ISSUE_PAGE_LABEL.name),dZt=(0,pa.P1)(uA,Sw,((e,t)=>{const n=(t||{})[e]||null;return ee.yGi(e,n,{})})),uZt=(0,pa.P1)(dZt,ee.Bxt([]),QA,eD,qw,IC),pZt=(0,pa.P1)(dZt,QA,((e,t)=>{const n=ee.zGw(ee.VO0,ee.YMb)(e);if(!n)return[];const s=ee.HK3(sd,n);return Object.keys(t).map((e=>s[e])).filter((e=>Boolean(e)))})),mZt=()=>{const e=(0,l3.I0)(),{workspaceLabelFilters:t,...n}=(0,l3.v9)((e=>({repoId:uA(e),isActive:aZt(e),activeLabels:pZt(e),labels:uZt(e),hasLabelUpdatePending:Hw(e),addLabels:QA(e),removeLabels:eD(e),isReadOnly:!wA(e),shortcuts:E8.ISSUE_PAGE_LABEL.shortcuts,workspaceLabelFilters:sF(e)}))),s=()=>e(iZt.getReposLabelsNewIssue([n.repoId])),r={selectItem:s=>{e(oZt.setIssueTemplateDirty(!0)),e(oZt.sidebarAddLabel({key:s.filterKey,location:"New Issue Sidebar"}));const r=gn(t,s),i={...n.addLabels,[s.filterKey]:!0},o=fn(t,i,n.removeLabels,n.activeLabels);r&&o&&e(oZt.sidebarRestoreFilterDependentLabels())},deselectItem:n=>{e(oZt.setIssueTemplateDirty(!0)),e(oZt.sidebarRemoveLabel(n.filterKey));gn(t,n)&&e(oZt.sidebarRemoveFilterDependentLabel())},trackShortcutUsed:()=>{e(cZt)},toggleOpen:()=>{!n.hasLabelUpdatePending&&ee.kKJ(n.labels)&&s(),e(lZt())},onShortcutsUsed:()=>{r.trackShortcutUsed(),r.toggleOpen()}};return(0,Ye.useEffect)((()=>{t?.length&&(s(),t.forEach((e=>{r.selectItem({color:e.color,filterKey:e.name,id:e.ghId,name:e.name,node_id:e.id,selected:!0})})))}),[t]),Ye.createElement(Xxt,sZt({},r,n))},hZt=(0,pa.P1)(uA,_w,((e,t)=>{const n=(t||{})[e]||null;return ee.yGi(e,n,{})})),EZt=(0,pa.P1)(jA,(e=>e?[e]:null));(0,pa.P1)(hZt,EZt,tD,nD,_u,ck);function gZt(){return gZt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gZt.apply(this,arguments)}const{shortcuts:fZt,issue:_Zt,shared:vZt}=LG,IZt=fZt.trackShortcutsUsed(E8.ISSUE_PAGE_ASSIGNEE.name);const bZt=(0,pa.P1)(hZt,tD,((e,t)=>{const n=ee.zGw(ee.VO0,ee.YMb)(e);if(ee.kKJ(n))return[];const s=ee.HK3(Rl,n),r=ee.UID((e=>s[e]),ee.XPQ(t));return function(e){return e?e.map((e=>({name:e.name,avatar_url:e.avatar_url,login:e.login,id:`${e.id}`}))):null}(r)}));class yZt extends Ye.PureComponent{constructor(){super(...arguments),this.onApplyChanges=(e,t)=>{const{deselectItem:n,selectItem:s,repoId:r,assigneesLoaded:i}=this.props;if(!this.isChangesUnderLimit(e))return void window.alert("You can only select 10 assignees.");i({[r]:t});const o=ee.HK3((e=>e.id),t);e.changedToSelected.forEach((e=>{s(o[e].login)})),e.changedToUnselected.forEach((e=>{n(o[e].login)}))},this.onAssignSelf=()=>{const{onAssignSelf:e,repoId:t,username:n}=this.props;e(t,n)},this.isChangesUnderLimit=e=>{const{activeAssignees:t}=this.props,n=ee.HK3((e=>e),e.changedToUnselected),s=t.map((e=>e.id)),r=ee.jj$([...s,...e.changedToSelected]).filter((e=>!n[e]));return r.length<=10}}render(){const{trackShortcutUsed:e}=this.props;return Ye.createElement(fMt,gZt({},this.props,{onApplyChanges:this.onApplyChanges,onAssignSelf:this.onAssignSelf,onShortcutsUsed:e}))}}yZt.propTypes={activeAssignees:SI().arrayOf(SI().shape({})).isRequired,assigneesLoaded:SI().func.isRequired,deselectItem:SI().func.isRequired,ghAssigneesByRepo:SI().shape({}).isRequired,hasAssigneesUpdatePending:SI().bool.isRequired,repoId:SI().number.isRequired,selectItem:SI().func.isRequired,trackShortcutUsed:SI().func.isRequired,username:SI().string.isRequired,onAssignSelf:SI().func.isRequired};const SZt=l3.$j((function(e){return{activeAssignees:bZt(e),ghAssigneesByRepo:hZt(e),hasAssigneesUpdatePending:Kw(e),addAssignees:tD(e),removeAssignees:nD(e),isReadOnly:!wA(e),repoId:uA(e),username:pu(e),shortcuts:E8.ISSUE_PAGE_ASSIGNEE.shortcuts}}),(function(e){return{assigneesLoaded(t){e(vZt.assigneesLoaded(t))},onAssignSelf(t,n){e(_Zt.setIssueTemplateDirty(!0)),e(vZt.getReposAssignees([t])),e(_Zt.sidebarAddAssignee({user:n,location:"New Issue Sidebar"}))},selectItem(t){e(_Zt.setIssueTemplateDirty(!0)),e(_Zt.sidebarAddAssignee({user:t.toLowerCase(),location:"New Issue Sidebar"}))},deselectItem(t){e(_Zt.setIssueTemplateDirty(!0)),e(_Zt.sidebarRemoveAssignee(t.toLowerCase()))},trackShortcutUsed(){e(IZt)}}}))(yZt),{shortcuts:wZt,shared:RZt,issue:TZt}=LG,{getIssuePath:CZt}=i,kZt=YA(al),OZt=TZt.toggleDropdown.bind(void 0,al),NZt=wZt.trackShortcutsUsed(E8.ISSUE_PAGE_EPIC.name),PZt=CZt,AZt=(0,pa.P1)(Iw,sD,((e,t)=>{if(ee.kKJ(e)||ee.xbD(ee.XPQ(e)))return[];const n=ee.zGw(ee.VO0,ee.xHg)(e),s=ee.HK3(PZt,n);return ee.UID((e=>s[e]),ee.XPQ(t))})),DZt=(0,pa.P1)(Iw,ee.Bxt([]),sD,rD,Uw,((e,t,n,s,r)=>{if(ee.kKJ(e)||ee.xbD(ee.XPQ(e)))return null;const i=qO(e,t,n,s,r);if(ee.kKJ(i)||ee.kKJ(t))return i;const o=ee.hXT(Zt,i),a=CZt(ee.YMb(t));return ee.d1t((e=>CZt(e)===a),o)}));const LZt=l3.$j((function(e){return{repoId:uA(e),isActive:kZt(e),activeEpics:AZt(e),epics:DZt(e),hasEpicUpdatePending:Bw(e),addEpics:sD(e),removeEpics:rD(e),isReadOnly:!wA(e),isCurrentIssueEpic:!1,shortcuts:E8.ISSUE_PAGE_EPIC.shortcuts,workspace:Na(e)}}),(function(e){return{selectItem(t){e(TZt.sidebarAddEpic({key:t.filterKey,location:"New Issue Sidebar"}))},deselectItem(t){e(TZt.sidebarRemoveEpic(t.filterKey))},trackShortcutUsed(){e(NZt)},dispatch:e}}),(function(e,t,n){const{dispatch:s}=t;function r(){const{repoId:t,workspace:n}=e;(function(e){const{epics:t,hasEpicUpdatePending:n}=e;return!n&&ee.kKJ(t)})(e)&&s(RZt.getAllConnectedRepoEpics({repoId:t,workspaceId:n._id})),s(OZt())}const i=ee.TSy(t,{toggleOpen:r,convertToEpic:null,convertToIssue:null,onShortcutsUsed:function(){t.trackShortcutUsed(),r()}});return ee.Jnq([e,n,i])}))(OMt),{shortcuts:zZt,shared:MZt,issue:xZt}=LG,FZt=YA(El),UZt=xZt.toggleDropdown.bind(void 0,El),BZt=PI?E8.ISSUE_PAGE_RELEASE.extensionShortcuts:E8.ISSUE_PAGE_RELEASE.shortcuts,qZt=zZt.trackShortcutsUsed(E8.ISSUE_PAGE_RELEASE.name),HZt=(0,pa.P1)([Tw,ee.Bxt([]),pD,mD,$w],Jc),WZt=(0,pa.P1)([Tw,pD],zc);const jZt=l3.$j((function(e){return{repoId:uA(e),isActive:FZt(e),releases:HZt(e),hasReleaseUpdatePending:Vw(e),isReadOnly:!wA(e),addReleases:pD(e),removeReleases:mD(e),selectedReleases:WZt(e),shortcutTrackingStr:E8.ISSUE_PAGE_RELEASE.name,shortcuts:BZt,issueWorkspace:fA(e)}}),(function(e){return{selectItem(t){e(xZt.sidebarAddRelease({key:t.filterKey,location:"New Issue Sidebar"}))},deselectItem(t){e(xZt.sidebarRemoveRelease(t.filterKey))},trackShortcutUsed(){e(qZt)},dispatch:e}}),(function(e,t,n){const{dispatch:s}=t;function r(){(function(e){const{hasReleaseUpdatePending:t,releases:n}=e;return!t&&ee.kKJ(n)})(e)&&s(MZt.getWorkspacesReleases(e.issueWorkspace._id)),s(UZt())}const i=ee.TSy(t,{toggleOpen:r,onShortcutsUsed:function(){t.trackShortcutUsed(),r()}});return ee.Jnq([e,n,i])}))(xFt),{shortcuts:GZt,shared:KZt,issue:VZt}=LG,{getMilestoneKey:$Zt,sortMilestones:ZZt}=o,YZt=YA(ul),JZt=VZt.toggleDropdown.bind(void 0,ul),XZt=GZt.trackShortcutsUsed(E8.ISSUE_PAGE_MILESTONE.name);function QZt(e,t){return(t||{})[e]||null}const eYt=(0,pa.P1)(uA,ww,QZt),tYt=(0,pa.P1)(uA,Rw,QZt),nYt=ee.OH4("selected",!0),sYt=ee.sEJ(nYt),rYt=e=>{const t=sYt(e)||null,n=ee.kKJ(t)?[]:[t],s=ee.d1t(nYt)(e),r=ZZt(s,{byStateThenChronological:!0});return ee.zoF(n,r)},iYt=(0,pa.P1)([eYt,tYt,dD],((e,t,n)=>{const s=e||[],r=t||[],i=ee.zoF(s,r);return ee.sEJ((e=>$Zt(e)===n),i)}));function oYt(e,t,n){return!n||ee.kKJ(e)?null:ee.zGw(eC($Zt),nC($Zt,$Zt(t)),rYt)(e)}const aYt=(0,pa.P1)(eYt,iYt,Ww,oYt),lYt=(0,pa.P1)(tYt,iYt,Ww,oYt),cYt=(0,pa.P1)(aYt,lYt,((e,t)=>({open:e,closed:t})));const dYt=l3.$j((function(e){return{repoId:uA(e),isActive:YZt(e),activeMilestone:iYt(e),milestones:cYt(e),isReadOnly:!wA(e),hasMilestoneUpdatePending:jw(e),hasClosedMilestoneUpdatePending:Gw(e),shortcuts:E8.ISSUE_PAGE_MILESTONE.shortcuts}}),(function(e){return{trackShortcutUsed(){e(XZt)},dispatch:e}}),(function(e,t,n){const{dispatch:s}=t;function r(){(function(e){const{hasMilestoneUpdatePending:t,milestones:n}=e,s=n.open;return!t&&ee.kKJ(s)})(e)&&s(KZt.getReposMilestones([e.repoId])),s(JZt())}function i(e){s(VZt.sidebarSetMilestone({key:e.filterKey,location:"New Issue Sidebar"})),s(JZt())}const o=ee.TSy(t,{clickMilestonesTab:function(t){if("Closed"===t&&function(e){const{hasClosedMilestoneUpdatePending:t,milestones:n}=e,s=n.closed;return!t&&ee.kKJ(s)}(e)){const t={sort:"desc",pageLimit:12},n={repoIds:[e.repoId],options:t};s(KZt.getReposClosedMilestones(n))}},toggleOpen:r,selectItem:i,deselectItem:i,clearFilter:function(){s(VZt.sidebarSetMilestone({key:null})),s(JZt())},onShortcutsUsed:function(){t.trackShortcutUsed(),r()}});return ee.Jnq([e,n,o])}))(rFt),{shortcuts:uYt,issue:pYt}=LG,mYt=YA(ll),hYt=pYt.toggleDropdown.bind(void 0,ll),EYt=uYt.trackShortcutsUsed(E8.ISSUE_PAGE_ESTIMATE.name),gYt=ee.vgT("value"),fYt=ee.OH4("selected",!0),_Yt=ee.MRu(ee.vgT("value")),vYt=(0,pa.P1)(uD,NA,((e,t)=>{if(ee.kKJ(t))return null;const n=ee.zGw(ee.UID((t=>({value:t,selected:e===t}))),eC(gYt))(t),s=ee.sEJ(fYt,n)||null,r=ee.kKJ(s)?[]:[s],i=ee.d1t(fYt)(n),o=_Yt(i||[]);return ee.zoF(r,o)})),IYt=(0,pa.P1)(uD,(e=>ee.kKJ(e)?null:{value:e})),bYt=e=>({repoId:uA(e),organization:bA(e),repository:yA(e),estimates:vYt(e),activeEstimate:IYt(e),isReadOnly:!wA(e),isActive:mYt(e)}),yYt=()=>{const{shortcuts:e}=E8.ISSUE_PAGE_ESTIMATE,t=(0,l3.I0)(),{repoId:n,organization:s,repository:r,estimates:i,activeEstimate:o,isReadOnly:a,isActive:l}=(0,l3.v9)(bYt),c=()=>{t(pYt.sidebarSetEstimate({key:null})),t(hYt())};return Ye.createElement(Yxt,{isNewIssuePage:!0,activeEstimate:o,estimates:i,isActive:l,isCurrentIssueClosed:!1,isCurrentIssueEpic:!1,isReadOnly:a,repoId:n,shortcuts:e,totalEpicPoints:null,clearEstimate:c,createEstimate:e=>{t(pYt.sidebarCreateAndSetEstimate({repo_id:n,organization:s,repository:r,estimateId:e})),t(hYt())},deselectItem:c,onShortcutsUsed:()=>{t(hYt()),t(EYt)},onRemove:e=>{t(pYt.sidebarDeleteEstimateInNewIssue({repo_id:n,organization:s,repository:r,estimateId:e})),t(hYt())},selectItem:e=>{t(pYt.sidebarSetEstimate({key:e.filterKey,location:"New Issue Sidebar"})),t(hYt())},toggleOpen:()=>{t(hYt())}})};function SYt(e){let{children:t}=e;return Ye.createElement("div",{className:"zhc-new-issue-page","data-cy":"new-issue-page"},t)}SYt.propTypes={children:SI().node};const wYt=SYt,RYt=e=>{let{children:t}=e;return Ye.createElement("div",{className:"zhc-issue-sidebar"},t)};RYt.propTypes={children:SI().node};const TYt=RYt,{issue:CYt}=LG,kYt=e=>{let{locationParams:t,queryParams:n}=e;const s=(0,l3.I0)(),r=(0,Ye.useCallback)((()=>{s(CYt.clearIssue())}),[s]),i=(0,Ye.useCallback)((e=>{s(CYt.clearDraft(e))}),[s]),o=(0,Ye.useCallback)((e=>{s(CYt.initNewIssuePage(e))}),[s]),a=(0,Ye.useCallback)((e=>{s(CYt.toggleSidebar(e))}),[s]),l=(0,l3.v9)(_A)||Hx.ISSUE,c=(0,l3.v9)($x),d=(0,l3.v9)(jx),u=(0,l3.v9)(Gx),p=(0,l3.v9)(Kx),m=(0,l3.v9)($A),h=(0,l3.v9)(Vx),E=(0,l3.v9)(uA),g=(0,l3.v9)(ED),f=(0,l3.v9)(pA),_=(0,Ye.useMemo)((()=>{const e=!o$t()(E)&&!o$t()(g),t=!o$t()(f);return Boolean(e&&!t)}),[f,g,E]),v=(0,Ye.useCallback)((()=>{!h&&!c&&(i(d),i(u),i(p))}),[i,c,u,p,d,h]);return(0,Ye.useEffect)((()=>(s(CYt.initDraft({key:d})),s(CYt.initDraft({key:u})),o({issueType:n?.issueType||l,organization:t.org,repository:t.repo}),()=>{r(),v()})),[]),{isReady:_,isSidebarOpen:m,toggleSidebar:a}},OYt=()=>Ye.createElement(LZt,null),NYt=e=>{let{closePortal:t=(()=>{}),isModal:n=!1,locationParams:s,afterSubmitIssue:r,queryParams:i}=e;const{isReady:o,isSidebarOpen:a,toggleSidebar:l}=kYt({locationParams:s,queryParams:i});return o?Ye.createElement(wYt,null,Ye.createElement($$t,{afterSubmitIssue:r,closePortal:t,isModal:n}),Ye.createElement(TYt,null,Ye.createElement(kje,{title:"New issue options",isMenuOpen:a,handleToggle:l,hideToggleButton:!0},Ye.createElement(Oje,{modifiers:["column"]},Ye.createElement(Nje,null,Ye.createElement(nZt,null)),Ye.createElement(Nje,null,Ye.createElement(mZt,null)),Ye.createElement(Nje,null,Ye.createElement(SZt,null)),Ye.createElement(Nje,null,Ye.createElement(fUt,null)),Ye.createElement(k7,{name:"workspaces-milestones-visibility"},Ye.createElement(Nje,null,Ye.createElement(dYt,null))),Ye.createElement(Nje,null,Ye.createElement(yYt,null)),Ye.createElement(Nje,null,Ye.createElement(k7,{name:"workspaces-platform-epics",fallbackRender:OYt},Ye.createElement(DUt,null))),Ye.createElement(Nje,null,Ye.createElement(jZt,null)))))):Ye.createElement(Wfe,{msg:"Loading...",spinnerRenderDelay:1500})};function PYt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function AYt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){PYt(i,s,r,o,a,"next",e)}function a(e){PYt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const DYt=e=>{const t=V_(e);return{organization:t?.organization,repository:t?.repository,modalTitle:eF(e),issueType:_A(e)}},LYt=Jre(NYt),zYt=e=>{let{afterSubmitIssue:t,closePortal:n=AYt((function*(){}))}=e;const{organization:s,repository:r,modalTitle:i,issueType:o}=(0,l3.v9)(DYt),a={org:s,repo:r};return Ye.createElement(LYt,{afterSubmitIssue:t,isModal:!0,issueType:o,locationParams:a,modalTitle:i,closePortal:n})};function MYt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function xYt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){MYt(i,s,r,o,a,"next",e)}function a(e){MYt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const FYt=(e,t)=>!e&&t,UYt=function(){var e=xYt((function*(){const e=document.getElementsByClassName("is-comment-editing");if(e&&e.length>0)try{return yield Doe("Are you sure you want to exit?","Your changes will not be saved"),!0}catch(e){return!1}return!0}));return function(){return e.apply(this,arguments)}}(),BYt=e=>({isBoardFullScreen:EI()?e.boardV2?.settings?.isFullScreen:L_(e),isNewIssueOpen:nF(e),hasNewIssueUnsavedChanges:tF(e)}),qYt=e=>{let{issueProps:t,afterSubmitIssue:n,closeIssueModal:s}=e;const r=(0,l3.I0)(),{isBoardFullScreen:i,isNewIssueOpen:o,hasNewIssueUnsavedChanges:a}=(0,l3.v9)(BYt),l=(0,l3.v9)(Na),c=Boolean(t),d=c||o,u=bye(c),p=bye(o),m=(0,Ye.useCallback)((()=>{r(nx()),zx.restoreSyncUrl()}),[r]),h=function(){var e=xYt((function*(){if(!a)return!0;try{return yield Doe("Are you sure you want to exit?","The Issue will not be submitted"),!0}catch(e){return!1}}));return function(){return e.apply(this,arguments)}}();(0,Ye.useEffect)((()=>{if(c&&FYt(p,o)){s(!0)}else o&&FYt(u,c)&&m()}),[c,o,u,p,s,m]),(0,Ye.useEffect)((()=>{if(!t||!("isPlatformEpic"in t))return()=>{};const e=ma.getPlatformEpicPath({workspace:l,epic_id:t.id});return zx.pushAsyncUrl(e,"Epic"),()=>zx.restoreSyncUrl()}),[t,l]);const E=o?m:s,g=o?h:UYt;let f=null;return f=o?Ye.createElement(zYt,{afterSubmitIssue:n}):t&&"isPlatformEpic"in t&&"new"===t.id?Ye.createElement(MDt,{onClose:s}):t&&"isPlatformEpic"in t?Ye.createElement(yDt,{epicId:t.id,onClose:s}):Ye.createElement(pVt,{issueProps:t}),Ye.createElement($Dt,{onClose:E,confirmClose:g,isOpen:d,isBoardFullScreen:i},o||c?f:null)};function HYt(){return HYt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},HYt.apply(this,arguments)}function WYt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}function jYt(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){WYt(i,s,r,o,a,"next",e)}function a(e){WYt(i,s,r,o,a,"throw",e)}o(void 0)}))}}const{shallowEqualObjects:GYt}=Vt.Z,{board:KYt,pages:VYt,reports:$Yt,router:ZYt,issue:YYt,workspaceSwitcher:JYt}=LG;function XYt(e){const t=function(e){const t=ee.uKc(ee.OH4("error",!0),e);return{errorList:t[0],successList:t[1]}}(e),{errorList:n,successList:s}=t,r=ee.kE(s);r>0&&(r6("Board Feature Clicked",{Feature:"Multi Repos Milestone Creation","Number of repos created in":r}),sc(r)),n.length>0&&rc(n)}function QYt(e){return eJt.apply(this,arguments)}function eJt(){return eJt=jYt((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const{match:n,location:s,openWorkspacePage:r,repoId:i,setWorkspaceLoadError:o}=e,{workspaceSlug:a}=n.params,l=(0,ha.OR)(a);if(!(0,ha.nT)(l)){const e="Invalid workspace ID - must be a single String of 12 bytes or a string of 24 hex characters";return oe(e,{invalidWorkspaceId:l}),void o((0,Z8.Xy)(e))}const c=ee.ETc(["state","workspace"],s)||null;t(),r(s,l,c,i)})),eJt.apply(this,arguments)}class tJt extends Ye.Component{constructor(e){var t;super(e),t=this,this.getShortcuts=()=>{const{openLocation:e,openReportViaShortcut:t,workspace:n}=this.props;return n?[{shortcutInfo:E8.GLOBAL_BOARD,handler:e.bind(this,ma.getBoardPath({workspace:n}))},{shortcutInfo:E8.GLOBAL_CUMULATIVE,handler:t.bind(this,n,Rh.CUMULATIVE_CHART)},{shortcutInfo:E8.GLOBAL_CONTROL_CHART,handler:t.bind(this,n,Rh.CONTROL_CHART)},{shortcutInfo:E8.GLOBAL_BURNDOWN,handler:t.bind(this,n,Rh.BURNDOWN_CHART)},{shortcutInfo:E8.GLOBAL_VELOCITY,handler:t.bind(this,n,Rh.VELOCITY_CHART)},{shortcutInfo:E8.GLOBAL_RELEASE,handler:t.bind(this,n,Rh.RELEASE_REPORT)}]:null},this.getRef=e=>{this.el=e},this.setContainerHeight=()=>{this.setZenhubTabHeightToWindow(),window.addEventListener("resize",this.setZenhubTabHeightToWindow)},this.afterSubmitIssue=e=>{const t={html_url:e.html_url,issue_number:e.issue_number,organization:e.organization,pull_request:e.pull_request,repo_id:e.repo_id,repo_name:e.repository,title:e.title};r6("Board Feature Clicked",{Feature:"New Issue Clicked",Repository:t.repo_name}),this.openIssueViewer(t,!1)},this.openIssueViewer=(e,t)=>{se("ZenHubTab.openIssueViewer"),t?this._cmdOpenIssueViewer(e):setTimeout((()=>this._regularOpenIssueViewer(e)),1)},this._cmdOpenIssueViewer=e=>{if("isPlatformEpic"in e){const t=ma.getPlatformEpicPath({workspace:this.props.workspace,epic_id:e.id});window.open(t,"_blank")}else window.open(e.html_url,"_blank"),r6("Board Feature Clicked",{Feature:"View Issue In Tab"})},this._regularOpenIssueViewer=e=>{const{workspace:t,setIssueIdWhenOpeningIssue:n}=this.props;se("ZenHubTab._openIssueViewer"),e.id&&n(e.id),this.setState({issueModalProps:{issueProps:e,workspace:t}})},this.closeIssueModal=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{cleanIssue:n}=t.props;e||n(),t.setState({issueModalProps:null})},this.redirectToBoard=()=>{const{workspace:e}=this.props,t=ma.getBoardPath({workspace:e});return Ye.createElement($8.l_,{to:t})},this.renderRedirectToMostRecentPage=()=>{const{location:e,workspace:t}=this.props,n=pI(t._id),s=cI(n);let r=ma.getBoardPath({workspace:t});return"reports"===s&&(r=ma.getReportsPath({workspace:t})),Ye.createElement($8.l_,{to:{hash:e.hash,pathname:r,search:e.search,state:e.state}})},this.state={issueModalProps:null,hasLoadedOnboardingValues:!1},this.workspaceEl=(0,Ye.createRef)()}componentDidMount(){QYt(this.props),gee(),this.setZenhubTabHeightToWindow=UI(this.el);const{registerCreateCallback:e}=this.context;e("Workspace",XYt),this.props.initOnboarding().then((()=>{this.setState({hasLoadedOnboardingValues:!0})}))}shouldComponentUpdate(e,t){const{match:n}=this.props,s=ee.anz("match",this.props),r=ee.anz("match",e);return!GYt(s,r)||!GYt(this.state,t)||!ee.fS0(n,e.match)}componentDidUpdate(e){const{goToWorkspace:t,reloadWorkspaceOrder:n,repoId:s,workspace:r,workspaceFormIsOpen:i}=this.props;(function(e,t){return!!e&&!(0,ha.i_)(e,t)})(r,s)&&t(r);const o=function(e,t){const n=(0,ha.OR)(t.match.params.workspaceSlug);return e&&e._id!==n}(e.workspace,this.props);(n.reloadWorkspace||o)&&!i&&QYt(this.props,(()=>this.cleanOnQuit()))}componentWillUnmount(){this.cleanOnQuit(),window.removeEventListener("resize",this.setContainerHeight);const{unregisterCreateCallback:e}=this.context;e("Workspace")}cleanOnQuit(){const{cleanStore:e}=this.props;e()}renderContent(){const{currentOrgHasSAMLError:e,handlers:t,match:n,setWorkspaceImportState:s,workspace:r}=this.props;return"auto"===h3()&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{switch(g3()){case"dark":case"dark_dimmed":I3("night","dark");break;case"light":I3("day","light")}})),e?Ye.createElement(DCe,null):r&&!(0,ha.fb)(r)?Ye.createElement("div",{style:{display:"flex",marginTop:"50px"}},Ye.createElement(HCe,{onImportComplete:e=>s(e),workspaceId:r._id})):Ye.createElement($8.rs,null,Ye.createElement($8.AW,{exact:!0,path:`${n.path}`,render:this.renderRedirectToMostRecentPage}),Ye.createElement($8.AW,{path:`${n.path}/edit`,render:()=>Ye.createElement(yNt,{workspace:r})}),Ye.createElement($8.AW,{path:`${n.path}/boards`,render:()=>this.redirectToBoard()}),Ye.createElement(PTe,{path:`${n.path}/board`,render:e=>Ye.createElement(Pbt,HYt({},e,{appWrapperEl:this.workspaceEl,onIssueOpenOverride:this.openIssueViewer})),fallbackRender:e=>Ye.createElement(INt,HYt({},e,{elApp:this.el,handlers:{...t,openIssueViewer:this.openIssueViewer}}))}),Ye.createElement($8.AW,{path:`${n.path}/epics/:epic_id`,render:e=>Ye.createElement(xDt,{epicId:e.match.params.epic_id,setContainerHeight:this.setContainerHeight})}),Ye.createElement($8.AW,{path:`${n.path}/reports`,component:L6e}),Ye.createElement($8.AW,{path:`${n.path}/roadmap`,render:e=>Ye.createElement(fBe,HYt({},e,{setContainerHeight:this.setContainerHeight}))}),Ye.createElement($8.AW,{path:`${n.path}/workflows`,render:e=>Ye.createElement(JOe,HYt({},e,{setContainerHeight:this.setContainerHeight}))}))}renderLayout(){const{handlers:e,isSidebarCollapsed:t,match:n,location:s,onCreateReleaseFailure:r,onCreateReleaseSuccess:i,isOnboardingPersonaFormCompleted:o}=this.props,{issueModalProps:a,hasLoadedOnboardingValues:l}=this.state,c=s.pathname===`${n.url}/roadmap`,d=s.pathname===`${n.url}/workflows`,u=s.pathname.startsWith(`${n.url}/epics/`),p=c||d||u;return Ye.createElement(LRe,{openExtensionIssueFlyover:this.openIssueViewer},Ye.createElement(NRe,null,Ye.createElement("div",{className:"zh-app__content"},Ye.createElement("div",{className:"zh-board-popup-overlay"},Ye.createElement("div",{className:"zh-board-issue-view-overlay"})),Ye.createElement(k7,{name:"workspaces-user-persona-form"},l&&!o&&Ye.createElement(Y8.Z,{query:{maxWidth:"760px"}},(e=>!e&&Ye.createElement(vCe,null)))),Ye.createElement(RTe,null),Ye.createElement(qYt,{issueProps:a?.issueProps,afterSubmitIssue:this.afterSubmitIssue,closeIssueModal:this.closeIssueModal}),Ye.createElement(Ime,null),Ye.createElement(ife,null),l&&o&&Ye.createElement(yge,null),Ye.createElement(_Re,null),Ye.createElement(Ole,null),Ye.createElement(gEe,{onCreateReleaseSuccess:i,onCreateReleaseFailure:r,renderedFrom:"Workspace"}),Ye.createElement(nge,{onCreateMilestoneComplete:this.context.createCallbacks,onEditMilestoneComplete:this.context.editCallbacks}),Ye.createElement(TRe,null),Ye.createElement(kTe,null,Ye.createElement(upe,{isWideScreen:!0,signOutFunction:e.signOutAndClose,shortcuts:this.getShortcuts(),openExtensionIssueFlyover:this.openIssueViewer}),Ye.createElement("div",{className:(m=!0,(0,_I.default)(ha.q,{"zh-app__workspace--is-wide-screen":m,"zh-app__workspace--sidebar-collapsed":t,"zh-app__workspace--full-width":p})),ref:this.workspaceEl},this.renderContent())))));var m}render(){const{hasLoaded:e,hasFailed:t,isUnpaid:n}=this.props,s=!e&&!t,r=e&&!t;return Ye.createElement(Ye.Fragment,null,n&&r?Ye.createElement(wCe,null):null,Ye.createElement("div",{className:"zh-app__wrapper",ref:this.getRef},s?Ye.createElement(ICe,null):null,r?this.renderLayout():null,t?Ye.createElement("div",{style:{width:"100%"}},Ye.createElement(SCe,null)):null))}}tJt.defaultProps={workspace:null};const nJt=SI().shape({ignoreSocketOrder:SI().bool.isRequired,reloadWorkspace:SI().bool.isRequired}),sJt=SI().shape({hash:SI().string,pathname:SI().string,search:SI().string,state:SI().shape({})});tJt.contextType=kRe,tJt.propTypes={cleanIssue:SI().func.isRequired,cleanStore:SI().func.isRequired,currentOrgHasSAMLError:SI().bool.isRequired,goToWorkspace:SI().func.isRequired,handlers:SI().shape({signOutAndClose:SI().func}).isRequired,hasFailed:SI().bool.isRequired,hasLoaded:SI().bool.isRequired,isOnboardingPersonaFormCompleted:SI().bool.isRequired,isSidebarCollapsed:SI().bool.isRequired,isUnpaid:SI().bool.isRequired,location:sJt.isRequired,match:SI().shape({path:SI().string,url:SI().string}).isRequired,openLocation:SI().func.isRequired,openReportViaShortcut:SI().func.isRequired,organization:SI().string.isRequired,reloadWorkspaceOrder:nJt.isRequired,repoId:SI().number.isRequired,setIssueIdWhenOpeningIssue:SI().func.isRequired,setWorkspaceImportState:SI().func.isRequired,workspaceFormIsOpen:SI().bool.isRequired,workspaceId:SI().string.isRequired,onCreateReleaseFailure:SI().func.isRequired,onCreateReleaseSuccess:SI().func.isRequired,initOnboarding:SI().func,workspace:SI().shape({_id:SI().string})};const rJt=(0,$8.EN)((0,l3.$j)((function(e,t){const n=Na(e),s=Ya(e),r=xa(e),i=cee(e),o=ZS(e),{match:{params:{workspaceSlug:a}}}=t,l=(0,ha.OR)(a);return{currentOrgHasSAMLError:el(e),hasFailed:r,isUnpaid:i,isOnboardingPersonaFormCompleted:o,hasLoaded:!ee.kKJ(n)&&!ee.kKJ(s)&&!r,isSidebarCollapsed:Eee(e),location:t.location,organization:t.organization,reloadWorkspaceOrder:Ra(e),workspaceId:l,workspace:Na(e),workspaceFormIsOpen:W$.isOpen(e)}}),(function(e){return{onCreateReleaseSuccess:()=>{r6("Release Report",{Action:"Release Created - Board View",Module:"Engaged"}),Xc()},onCreateReleaseFailure:Qc,initOnboarding:()=>BG(e,["persona_form_completed"]),openWorkspacePage(t,n,s,r){e(function(){var e=jYt((function*(e){yield e(VYt.openWorkspacePage({forcedDefaultRepoId:r,location:t,optionalWorkspace:s,workspaceId:n})),y3()}));return function(t){return e.apply(this,arguments)}}())},openLocation(t){e(ZYt.openLocation(t))},setIssueIdWhenOpeningIssue(t){e(YYt.setZhIssueId(t))},goToWorkspace(t){e(ZYt.openWorkspace(t))},setWorkspaceImportState(t){e(VYt.setWorkspaceImportState(t))},setWorkspaceLoadError(t){e(VYt.setWorkspaceLoadError(t))},openReportViaShortcut(t,n){e(ZYt.openLocation(ma.getReportsPath({workspace:t,type:K8(n)})))},cleanIssue(){e(YYt.clearIssue())},cleanStore(){e(KYt.clearBoard()),e($Yt.clearReports()),e(JYt.close()),e(VYt.clearWorkspace())}}}))(tJt)),iJt=e=>{let{handlers:t,repoId:n,organization:s,repository:r}=e;return Ye.createElement(qee,null,Ye.createElement($8.rs,null,Ye.createElement($8.AW,{path:"/workspaces/:workspaceSlug"},Ye.createElement(rJt,{handlers:t,repoId:n,organization:s,repository:r})),Ye.createElement($8.AW,null,Ye.createElement(Kke,{repoId:n,organization:s,repository:r}))))};iJt.propTypes={handlers:SI().shape({signOutAndClose:SI().func}).isRequired,organization:SI().string.isRequired,repoId:SI().number.isRequired,repository:SI().string.isRequired};const oJt=(e,t,n,s,r,i)=>Ye.createElement(l3.zt,{store:e},Ye.createElement($8.F0,{history:t},Ye.createElement(F4.e,{client:ly()},Ye.createElement(iJt,{handlers:n,repoId:s,organization:r,repository:i})))),aJt=J().Model.extend({open(){throw new Error("to be implementated")},close(){throw new Error("to be implementated")}}),lJt=r4.pages.repo,cJt=r4.pages.zenhub,{CUMULATIVE_CHART:dJt,BURNDOWN_CHART:uJt,VELOCITY_CHART:pJt,RELEASE_REPORT:mJt,CONTROL_CHART:hJt}=Rh,EJt=aJt.extend({__name__:"ZenHubPage",ID:"zenhub",_isOpen:!1,initialize(){se("ZenHubPage.initialize"),this.meta=this._readRepoMeta(),this.handleKeyboardShortcut()},handleKeyboardShortcut(){se("ZenHubPage.handleKeyboardShortcut"),this.listenTo(_8,_8.EVENT_BOARD_TOGGLE,this.openBoardViaShortcut),this.listenTo(_8,_8.EVENT_CONTROL_CHART_OPEN,this.openReportViaShortcut.bind(this,hJt)),this.listenTo(_8,_8.EVENT_CUMULATIVE_OPEN,this.openReportViaShortcut.bind(this,dJt)),this.listenTo(_8,_8.EVENT_BURNDOWN_OPEN,this.openReportViaShortcut.bind(this,uJt)),this.listenTo(_8,_8.EVENT_VELOCITY_OPEN,this.openReportViaShortcut.bind(this,pJt)),this.listenTo(_8,_8.EVENT_RELEASE_OPEN,this.openReportViaShortcut.bind(this,mJt))},openBoardViaShortcut(){this._isOpen||zx.setPageInHash("board")},openReportViaShortcut(e){if(this._isOpen)return;const t=K8(e);zx.setPageInHash(`report/${t}`)},_createStore(){return ee.kKJ(this.store)?(this.history=(0,V8.q_)({hashType:"noslash"}),this.store=s2(null,this.history),this.store):this.store},_getStore(){return this.store?this.store:this._createStore()},_getAppComponent(){se("ZenHubPage._getAppComponent");const e=this._getStore();if(ee.kKJ(this.app)){const t={signOutAndClose:this.signOutAndClose.bind(this),dismissTutorial:ee.Bxt},{repo_id:n,organization:s,repository:r}=this.meta;this.app=oJt(e,this.history,t,n,s,r)}return this.app},_getBreadcrumbsComponent(){se("ZenHubPage._getBreadcrumbsComponent");const e=this._getStore();return ee.kKJ(this.breadcrumbs)&&(this.breadcrumbs=njt(e,this.history)),this.breadcrumbs},signOutAndClose(){ct.signOut(),ct.eraseTokensFromStorage(),this.close()},_readRepoMeta:()=>({repo_id:lJt.findRepoId(),organization:zx.get("organization"),repository:zx.get("repository")}),isOpen(){return this._isOpen},visit(){se("ZenHubPage.visit"),ct.whenAuthReady().then((e=>{e?this._open():this.close()}))},_open(){se("ZenHubPage._open"),this.isOpen()||(this._openUI(),this._isOpen=!0,tt.setIsZHPageOpen(!0))},close(){se("ZenHubPage.close"),this.isOpen()&&(this._closeUI(),this._isOpen=!1,tt.setIsZHPageOpen(!1))},_openUI(){se("ZenHubPage._openUI"),lJt.selectZenHubNavigationLink(EJt.ID),this._attachBreadcrumbs(),this._attachZenHubPage()},_attachZenHubPage(){this.detachRepoContent(),this.detachGhFooter();const e=this._getAppComponent();cJt.injectZenHub(e)},_attachBreadcrumbs(){const e=this._getBreadcrumbsComponent();cJt.injectBreadcrumbs(e)},cleanComponents(){this.history=null,this.breadcrumbs=null,this.store=null,this.app=null},_closeUI(){se("ZenHubPage._closeUI"),lJt.restoreGitHubNavigationLinks(),cJt.removeZenHub(),cJt.removeBreadcrumbs(),this.reattachRepoContent(),this.reattachGhFooter(),this.cleanComponents()},detachRepoContent(){const e=lJt.detachRepoContent();e&&(this.coveredContent=e)},reattachRepoContent(){this.coveredContent&&(lJt.attachRepoContent(this.coveredContent),this.coveredContent=null)},detachGhFooter(){const e=lJt.detachGhFooter();e&&(this.ghFooter=e)},reattachGhFooter(){ee.kKJ(this.ghFooter)||(lJt.attachGhFooter(this.ghFooter),this.ghFooter=null)}},{ID:"zenhub",TITLE:"ZenHub"}),gJt=EJt;var fJt=n(5547),_Jt=n.n(fJt);function vJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const IJt=e5.extend({__name__:"RepoPage",initialize(){e5.prototype.initialize.call(this),se("RepoPage.initialize"),this.isEnabled=!0,this.setTrackerContext(),this.showToastOnExtensionUpdate()},setTrackerContext(){s6({type:J3,values:{organization:zx.get("organization"),repo:zx.get("repository"),repo_id:r4.pages.repo.findRepoId()}})},showToastOnExtensionUpdate(){z.Extension.addMessageListener((e=>{"extensionWillUpdate"===e.action&&(H.Z.clearToasts(),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE_NO_EXPIRY,{content:"The ZenHub extension has a pending update. Please save your work and refresh the page to upgrade to the latest version.",hasCloseButton:!1}))}))},loadAuthorizedFeatures(){se("RepoPage.loadAuthorizedFeatures"),e5.prototype.loadAuthorizedFeatures.call(this),this._loadNavbarClass(),this._loadPages(),this._loadRepoSwitcher(),this._loadTopbar(),this._loadToasts()},loadUnauthorizedFeatures(){se("RepoPage.loadUnauthorizedFeatures"),e5.prototype.loadUnauthorizedFeatures.call(this),this._loadOnboarding(),this._loadNavbarClass(),this._loadPages(),this._loadTopbar()},_loadNavbarClass(){r4.pages.github.injectClassInBody("zh-navbar-top")},_loadPages(){e5.prototype._loadPages.call(this),se("RepoPage._loadPages"),this._loadZenHubPage()},_loadZenHubPage(){se("RepoPage._loadZenHub"),Q.pages.zenhub||(Q.pages.zenhub=new gJt)},_loadRepoSwitcher(){se("RepoPage._loadRepoSwitcher");const e=A8,t=document.createElement("div");t.innerHTML=_Jt()(),this.views.repoSwitcherContainer=t.firstChild,this.views.repoSwitcher=new R8({model:e}),this.views.repoSwitcher.render(),this.injectRepoSwitcher()},injectRepoSwitcher(){r4.pages.repo.isRepoSwitcherInjected()||(r4.pages.repo.injectRepoHeaderContainer(this.views.repoSwitcherContainer),r4.pages.repo.injectRepoSwitcher(this.views.repoSwitcher.el))},_loadTopbar(){se("RepoPage._loadTopbarLinks");if(!r4.pages.repo.findTopbar())return;const e=new d8,t=new c8({injectLinks:r4.pages.repo.injectTopbarLinks,model:e});t.render(),t.reinject(),this._listenToEvents(t),this.views.topbarLinks=t},_loadOnboarding(){se("RepoPage._loadOnboarding"),this.features.onboarding=W8()},_loadToasts(){se("GitHubPage._loadToasts");(new r8).loadToasts()},_listenToEvents(e){this.listenTo(e,e.TopbarEventClick,this._openPage),this.listenTo(e,e.TopbarEventClickOnGHLink,this._closePages)},loadRepoPageInfo(e){return(t=function*(){const[t,n]=yield Promise.all([H2(),rS({count:1,repositoryGhIds:[e]})]),s=n[0];let r=null,i=null,o=null,a=null;if(s){const t=ha.Lk(s,e);r=t?.owner?.ghId,i=t?.owner?.login,o=t.repository,a=t.permissions.push}else{const t=yield By({repo_id:e});r=t?.owner?.id,i=t?.owner?.login,o=t.name,a=t.permissions.push}return s6({type:X3,values:{org_id:r,organization:i,repo:o,repo_id:e,workspace:s}}),{hasPushPermission:a,userMeta:t.user,workspace:s}},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){vJt(i,s,r,o,a,"next",e)}function a(e){vJt(i,s,r,o,a,"throw",e)}o(void 0)}))})();var t},destroy(){se("RepoPage.destroy"),this.stopListening(),Object.values(this.views).forEach((e=>e.destroy?.())),Object.values(this.features).forEach((e=>e.destroy?.()))}}),bJt=IJt,yJt={KEYS:{NEW_ISSUE:"ZH_NEW_ISSUE_DATA",TITLE:"TITLE",TIMESTAMP:"TIMESTAMP",PIPELINES_BY_WORKSPACE_ID:"PIPELINES_BY_WORKSPACE_ID",PRIORITIES_BY_WORKSPACE_ID:"PRIORITIES_BY_WORKSPACE_ID",ESTIMATE_VALUE:"ESTIMATE_VALUE",EPIC_DATA:"EPIC_DATA",EPIC_PARENTS:"EPIC_PARENTS",ISSUES_TO_CONNECT:"ISSUES_TO_CONNECT",RELEASES:"RELEASES",SPRINTS:"SPRINTS"},save(e){if(!e||ee.xbD(e))return;const t={};t[this.KEYS.TIMESTAMP]=(new Date).getTime(),t[this.KEYS.TITLE]=e.title,t[this.KEYS.PIPELINES_BY_WORKSPACE_ID]=e.pipelinesByWorkspaceId,t[this.KEYS.PRIORITIES_BY_WORKSPACE_ID]=e.prioritiesByWorkspaceId,t[this.KEYS.ESTIMATE_VALUE]=e.estimateValue,t[this.KEYS.EPIC_DATA]=e.epic,t[this.KEYS.EPIC_PARENTS]=e.epicParents,t[this.KEYS.ISSUES_TO_CONNECT]=e.issuesToConnect,t[this.KEYS.RELEASES]=e.releases,t[this.KEYS.SPRINTS]=e.sprintsToAdd,se("NewIssueStorage.save",t),localStorage.setItem(this.KEYS.NEW_ISSUE,JSON.stringify(t))},isExpired(e){const t=e[this.KEYS.TIMESTAMP]+6e4;return(new Date).getTime()>t},get(){const e=localStorage.getItem(this.KEYS.NEW_ISSUE);if(!e)return null;const t=JSON.parse(e);if(ee.xbD(t))return oe("NewIssueStorage - new issue in local storage is empty"),null;if(this.isExpired(t)){const e=t[this.KEYS.TIMESTAMP],n=Date.now()+6e4;return oe(`NewIssueStorage - new issue in local storage is expired - ${e} - ${n}`),null}return{issuesToConnect:t[this.KEYS.ISSUES_TO_CONNECT],epic:t[this.KEYS.EPIC_DATA],epicParents:t[this.KEYS.EPIC_PARENTS],estimateValue:t[this.KEYS.ESTIMATE_VALUE],pipelinesByWorkspaceId:t[this.KEYS.PIPELINES_BY_WORKSPACE_ID],prioritiesByWorkspaceId:t[this.KEYS.PRIORITIES_BY_WORKSPACE_ID],timestamp:t[this.KEYS.TIMESTAMP],title:t[this.KEYS.TITLE],releases:t[this.KEYS.RELEASES],sprints:t[this.KEYS.SPRINTS]}},remove(){localStorage.removeItem(this.KEYS.NEW_ISSUE)}},SJt=yJt;function wJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const RJt=bJt.extend({__name__:"IssuePage",_buildIssueHtmlUrl(e,t,n){const s=(0,ma.getRepoIssuePath)({organization:e,repository:t,issue_number:n});return`${L.Z.githubURL}${s}`},_readIssueMeta(){const e=zx.get("organization"),t=zx.get("repository"),n=zx.get("issueId"),s=this._buildIssueHtmlUrl(e,t,n);return{organization:e,repository:t,issueId:n,repositoryId:r4.pages.repo.findRepoId(),issueTitle:r4.pages.issue.getIssueTitle(),isPullRequest:zx.isPullRequest(),isClosed:r4.pages.issue.isIssueClosedOrMerged(),htmlUrl:s}},loadAuthorizedFeatures(){var e,t=this;return(e=function*(){se("IssuePage.loadAuthorizedFeatures"),bJt.prototype.loadAuthorizedFeatures.call(t);const e=t._readIssueMeta();t.features={};const n=window.location.pathname,{hasPushPermission:s,userMeta:r,workspace:i}=yield bJt.prototype.loadRepoPageInfo.call(t,e.repositoryId),o=SJt.get();if(SJt.remove(),o)try{yield fT(e)}catch(e){oe("Error while checking for issue existence in extension IssuePage",e)}n===window.location.pathname?(e.hasPushPermission=s,e.workspace=i,e.userMeta=r,t._loadIssueFeatures(e,o),t._disableFeaturesIfNeeded(),t._trackPageViewedMP()):re("Issue page - Url changed while fetching data")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){wJt(i,s,r,o,a,"next",e)}function a(e){wJt(i,s,r,o,a,"throw",e)}o(void 0)}))})()},_loadIssueFeatures(e,t){this.features.issue=new _Gt(e),this.features.issue.loadBreadcrumbs(),this.features.issue.loadEvents(e),this.features.issue.loadDependencyFeatures(e),this.features.issue.loadEpicFeatures(e,t),this.features.issue.loadSidebar(e,t),this.features.issue.loadOnboardingFeatures(),this._loadExtendedFeatures(e,t,this.features.issue)},_trackPageViewedMP(){r6("Page Viewed",{"Page Name":zx.isPullRequest()?"Pull Request":"Issue"})},_loadExtendedFeatures(){},_disableFeaturesIfNeeded(){!this.isEnabled&&this.features.issue&&this.features.issue._disableFeatures()},disable(){bJt.prototype.disable.call(this),se("IssuePage.disable"),this._disableFeaturesIfNeeded()},destroy(){bJt.prototype.destroy.call(this),this.features.issue&&this.features.issue.destroy()}}),TJt=RJt;function CJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const kJt=TJt.extend({__name__:"PullRequestPage",loadAuthorizedFeatures(){var e,t=this;return(e=function*(){yield TJt.prototype.loadAuthorizedFeatures.call(t)},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){CJt(i,s,r,o,a,"next",e)}function a(e){CJt(i,s,r,o,a,"throw",e)}o(void 0)}))})()},_loadExtendedFeatures(e,t,n){if(!e.workspace)return;const s=n.getStore();this.features.pullRequest=new AKt(e,n.models.events,s,t),this.features.pullRequest.loadPullRequestConnector()}}),OJt=kJt,NJt=J().Model.extend({__name__:"MilestoneLink",initialize(){se("MilestoneLink.initialize")},fetch(){const e=this,t={organization:zx.get("organization"),repository:zx.get("repository"),milestoneId:zx.get("issueId")};(function(e){return L2.Repo.getMilestone(e)})(t).then((n=>{se("MilestoneLink.initialize",n),e.set({milestoneOrganization:t.organization,milestoneRepo:t.repository,encodedMilestoneKey:encodeURIComponent(Vl(n))})}))}}),PJt=NJt;var AJt=n(73078),DJt=n.n(AJt),LJt=n(21466),zJt=n.n(LJt);const MJt=o8.extend({__name__:"MilestoneLink",tagName:"div",className:"zh-milestone-link",initialize(){this.listenTo(this.model,"change:encodedMilestoneKey",this.render)},render(){const e=this.model.toJSON();this.$el.html(zJt()({...e,icon:DJt()({})}))}});function xJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const FJt=bJt.extend({__name__:"MilestonePage",loadAuthorizedFeatures(){var e,t=this;return(e=function*(){bJt.prototype.loadAuthorizedFeatures.call(t);const e=window.location.pathname,{workspace:n}=yield bJt.prototype.loadRepoPageInfo.call(t,r4.pages.repo.findRepoId());e===window.location.pathname?(t._loadMilestoneLink(n?.flags),t._trackPageViewedMP()):re("IssuesIndexPage - Url changed while fetching data")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){xJt(i,s,r,o,a,"next",e)}function a(e){xJt(i,s,r,o,a,"throw",e)}o(void 0)}))})()},_loadMilestoneLink(e){if(!e["workspaces-milestones-visibility"])return;se("MilestonePage._loadMilestoneLink");const t=new PJt,n=new MJt({model:t});t.fetch(),r4.pages.milestone.injectMilestoneLink(n.el)},_trackPageViewedMP(){r6("Page Viewed",{"Page Name":"Milestone"})}}),UJt=FJt,BJt=bJt.extend({__name__:"MilestoneIndexPage",loadAuthorizedFeatures(){se("Load Milestone index page"),bJt.prototype.loadAuthorizedFeatures.call(this),this._trackPageViewedMP()},_trackPageViewedMP(){r6("Page Viewed",{"Page Name":"Milestones"})}});function qJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const HJt=bJt.extend({__name__:"NewMilestonePage",loadAuthorizedFeatures(){se("Load New Milestone page"),bJt.prototype.loadAuthorizedFeatures.call(this),this._trackPageViewedMP()},_trackPageViewedMP(){return(e=function*(){r6("Page Viewed",{"Page Name":"New Milestone"})},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){qJt(i,s,r,o,a,"next",e)}function a(e){qJt(i,s,r,o,a,"throw",e)}o(void 0)}))})();var e}}),WJt=HJt;function jJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const GJt=bJt.extend({__name__:"PullRequestsIndexPage",loadAuthorizedFeatures(){var e,t=this;return(e=function*(){yield bJt.prototype.loadAuthorizedFeatures.call(t),t._trackPageViewedMP()},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){jJt(i,s,r,o,a,"next",e)}function a(e){jJt(i,s,r,o,a,"throw",e)}o(void 0)}))})()},_trackPageViewedMP(){r6("Page Viewed",{"Page Name":"Pull Requests"})}}),KJt=GJt,VJt=J().Model.extend({__name__:"Issue",initialize(){this.buildSearchIndex()},buildSearchIndex(){const e=this.attributes,t=od.buildSearchIndex({title:e.title,assignee:e.assignee,milestone:e.milestone,labels:e.labels,number:e.number});this.set("searchIndex",t)},isEpic(){return Boolean(this.get("is_epic"))},isPullRequest(){return Boolean(this.get("pull_request"))},isOpen(){return"open"===this.get("state")},match(e){return this._matchRepoFilter(e.repos)&&this._matchLabelsFilter(e.labels)&&this._matchMilestoneFilter(e.milestone)&&this._matchAssigneeFilter(e.assignee)&&this._matchEpicFilter(e.epic)&&this._matchPRFilter(e.showPRs)&&this._matchOpenIssuesFilter(e.showOpen)&&od.matchSearchQueryFilter(this.get("searchIndex"),e._queryIndex)},_matchPRFilter(e){return!!e||!this.isPullRequest()},_matchOpenIssuesFilter(e){return!!e||(!this.isOpen()||this.isPullRequest())},_matchRepoFilter(e){return j.ZP.contains(e,this.get("repo_id"))},_matchMilestoneFilter(e){if(j.ZP.isEmpty(e))return!0;const t=this.get("milestone");if(e.indexOf("none")>-1&&!t)return!0;if(!t)return!1;const n=Vl(t);return e.indexOf(n)>=0},_matchAssigneeFilter(e){if(j.ZP.isEmpty(e))return!0;const t=EGe.issueAssignees(this.attributes),n=!ee.xbD(t);if(ee.r3W("none",e)&&!n)return!0;if(!n)return!1;const s=ee.jge("login",t);return ee.$6P(ee.r3W(ee.__,s),e)},_getAssignees(){const e=this.get("assignee");let t=ee.qhW(ee.is(Array),ee.Bxt([]))(this.get("assignees"));return ee.xbD(t)&&!ee.kKJ(e)&&(t=[e]),t},_matchEpicFilter(e){return!!j.ZP.isEmpty(e)||(this.get("repo_id")===e.repo_id&&this.get("number")===e.issue_number||this._parentEpicMatchFilter(e))},_parentEpicMatchFilter(e){const t=this.get("parent_epics");return j.ZP.any(t,(t=>e.repo_id===t.repo_id&&e.issue_number===t.issue_number))},_matchLabelsFilter(e){if(j.ZP.isEmpty(e))return!0;const t=j.ZP.reduce(this.get("labels"),((e,t)=>{const n=e;return n[encodeURIComponent(t.name)]=!0,n}),{}),n=j.ZP.some(e,(e=>!t[e]));return!n},getOrganizationName(){return this.constructor.parseOrganizationNameFromUrl(this.get("html_url"))},isClosed(){return"closed"===this.get("state")},isIssueToTransfer(e){const t=this._getSurcePipelineId(),n=!this._isClosedPipeline(t),s=!this._isClosedPipeline(e);return n&&s},isIssueToReopen(e){const t=this._getSurcePipelineId(),n=this._isClosedPipeline(t),s=!this._isClosedPipeline(e);return n&&s},isIssueToClose(e){return this._isClosedPipeline(e)},getDataForMultiTransfer(){return{organization:this.getOrganizationName(),repo:this.get("repo_name"),repo_id:this.get("repo_id"),position:this.get("position"),issue_number:this.get("number"),issue_title:this.get("title"),from_pipeline_id:this.collection.pipelineId}},getDataForMultiClose(){return{organization:this.getOrganizationName(),repository:this.get("repo_name"),issueId:this.get("number"),repoId:this.get("repo_id")}},_isClosedPipeline:e=>"closed-issues-pipeline"===e,_getSurcePipelineId(){return this.get("fromPipelineId")||this.collection.pipelineId},getUpdatedAt(){return new Date(this.get("updated_at"))},getIssueCardData(){const e=ee.is(Number),t=this.attributes,n=e(t.estimate)&&!Number.isNaN(t.estimate)?ee.BBt(t.estimate):null;return ee.Jnq([t,{isPullRequest:Boolean(t.pull_request),isClosed:ee.OH4("state","closed")(t),isSelectable:this.selectable(),labels:ee.MRu(ee.vgT("name"),t.labels),estimate:n,unread:Boolean(t.unread),emptyMeta:ee.xbD(t.labels)&&ee.kKJ(n)},this.getAssigneesData(t)])},getAssigneesData(e){const t=ee.qhW(ee.is(Array),ee.Bxt([]))(e.assignees),n=ee.xbD(t)?ee.vgT("assignee",e):t[0],s=ee.kKJ(n)?"":pae(n.avatar_url,40),r=this.getUsernames(t,n);let i,o,a;return ee.gt(t.length,2)?a=t.length-1:ee.fS0(t.length,2)&&(i=t[1],o=pae(i.avatar_url,40)),{assignee:n,avatarUrl:s,secondAssignee:i,secondAvatarUrl:o,assigneesCount:a,userNames:r}},getUsernames:(e,t)=>ee.xbD(e)&&!ee.kKJ(t)?t.login:ee.zGw(ee.jge("login"),ee.v_p("\n"))(e)},{parseOrganizationNameFromUrl(e){const t=(e||"").match(/\/([^/]+)\/[^/]+\/(?:pull|issues)\/(?:\d+)+/);return t&&t.length&&t.length>=1?t[1]:""}}),$Jt=VJt;function ZJt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const YJt=J().Collection.extend({model:$Jt,modelId:EGe.issuePath,initialize(){const e=this;this.listenTo(this,"update",(()=>{e.trigger("issuesUpdated")}))},updateIssues(e){this.set(e,{silent:!0}),this.trigger("issuesUpdated")},fetchByIssueNumbers(e,t){var n=this;let{repoId:s,workspaceId:r}=t;return(i=function*(){se("Issues.fetchByIssueNumbers");const t=yield Xy({workspaceId:r,repo_id:s,issue_numbers:e,pipelines:!0,estimates:!0});ee.Ed_((e=>{const t=EGe.issuePath(e),s=n.get(t);s&&s.set(e)}),t)},function(){var e=this,t=arguments;return new Promise((function(n,s){var r=i.apply(e,t);function o(e){ZJt(r,n,s,o,a,"next",e)}function a(e){ZJt(r,n,s,o,a,"throw",e)}o(void 0)}))})();var i},_filterIssuesToTransfer(e){const t=this.filter((t=>t.isIssueToTransfer(e)));return new YJt(t)},_filterIssuesToReopen(e){const t=this.filter((t=>t.isIssueToReopen(e)));return new YJt(t)},_filterIssuesToClose(e){const t=this.filter((t=>t.isIssueToClose(e)));return new YJt(t)}}),JJt=YJt;var XJt=n(16213),QJt=n.n(XJt);const eXt=o8.extend({tagName:"span",initialize(e){this.options=e,this.listenTo(this.model,"change",this.renderAndAppend)},render(e){return this.$el.html(QJt()({pipeline:e})),this},renderAndAppend(){const{pipeline:e}=this.model.toJSON();e&&this.options.container.appendChild(this.render(e).el)}}),tXt=eXt;var nXt=n(16590),sXt=n.n(nXt);const rXt=o8.extend({tagName:"span",initialize(e){this.options=e,this.listenTo(this.model,"change",this.renderAndAppend)},render(e){return this.$el.html(sXt()({estimate:e,isClosed:this.options.model.isClosed()})),this},renderAndAppend(){const e=this.model.get("estimate");ee.is(Number,e)&&!Number.isNaN(e)&&this.options.container.appendChild(this.render(e).el)}}),iXt=rXt,oXt=J().Model.extend({__name__:"IssueMeta",initialize(e){this.meta=e},loadFeaturesForIssueIndexPage(e){const{repo_id:t}=this.meta,n=e.map((e=>({...e,repo_id:t,issue_number:e.id}))),s=new JJt;this._createModelAndView(n,s),s.fetchByIssueNumbers(e.map((e=>e.id)),{repoId:t,workspaceId:this.meta.workspace._id})},_createModelAndView(e,t){const n=this;e.forEach((e=>{const s=t.add(e);n._createPipelineView(e,s),n._createEstimateView(e,s)}),e)},_createEstimateView(e,t){const n=document.createElement("span");n.classList.add("zh-issue-meta-estimate");const s={model:t,container:n};return r4.pages.issuesIndex.injectIssueEstimate(e.dom,n),new iXt(s)},_createPipelineView(e,t){const n=document.createElement("span");n.classList.add("zh-issue-meta-pipeline");const s={model:t,container:n};return r4.pages.issuesIndex.injectIssuePipeline(e.dom,n),new tXt(s)},removeInjectionClasses(){r4.pages.issuesIndex.removeInjectionClasses()}}),aXt=oXt;function lXt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const{flags:cXt,pages:dXt}=LG,uXt=r4.pages.zenhub;const pXt=bJt.extend({__name__:"IssuesIndexPage",loadAuthorizedFeatures(){var e,t=this;return(e=function*(){se("IssuesIndexPage.loadAuthorizedFeatures"),bJt.prototype.loadAuthorizedFeatures.call(t),t.meta={organization:zx.get("organization"),repository:zx.get("repository"),repo_id:r4.pages.repo.findRepoId()};const e=window.location.pathname,{userMeta:n,workspace:s}=yield bJt.prototype.loadRepoPageInfo.call(t,t.meta.repo_id);e===window.location.pathname?(t.userMeta=n,t.workspace=s,t._loadBreadcrumbs(),t.workspace&&t._loadIssueMeta(),y3(),t._trackPageViewedMP()):re("IssuesIndexPage - Url changed while fetching data")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){lXt(i,s,r,o,a,"next",e)}function a(e){lXt(i,s,r,o,a,"throw",e)}o(void 0)}))})()},_trackPageViewedMP(){r6("Page Viewed",{"Page Name":"Issues"})},_getStore(){return this.store||this._createStore()},_createStore(){this.history=(0,V8.q_)({hashType:"noslash"});const e=function(e,t,n,s){const r=c1(s),i=r({},{}),o=[rH(n.zh),cXt.setFlags(e?.flags||{}),dXt.setWorkspaceAndDefaultRepoId({workspace:e,defaultRepoId:t})];return iG(r,o,i)}(this.workspace,this.meta.repo_id,this.userMeta,this.history);return this.store=s2(e,this.history),this.store},_loadBreadcrumbs(){se("IssuesIndexPage._loadBreadcrumbs");const e=this._getStore();ee.kKJ(this.breadcrumbs)&&(this.breadcrumbs=njt(e,this.history)),this._injectBreadcrumbs()},_injectBreadcrumbs(){r4.pages.repo.isRepoSwitcherInjected()||bJt.prototype.injectRepoSwitcher.call(this),uXt.injectBreadcrumbs(this.breadcrumbs)},_loadIssueMeta(){se("IssuesIndexPage._loadIssueMeta");const e=r4.pages.issuesIndex.findIssuesFromDOM();this.issueMetaPage=new aXt({...this.meta,workspace:this.workspace}),this.issueMetaPage.loadFeaturesForIssueIndexPage(e)},destroy(){se("IssuesIndexPage.destroy"),this.pjaxStream&&this.pjaxStreamCallback&&this.pjaxStream.offValue(this.pjaxStreamCallback),this.breadcrumbs&&(uXt.removeBreadcrumbs(),this.breadcrumbs=null),this.issueMetaPage&&this.issueMetaPage.removeInjectionClasses(),this.workspace=null,this.history=null,this.store=void 0,bJt.prototype.destroy.call(this)}}),mXt=pXt,hXt=()=>{const e=(0,l3.I0)(),t=(0,l3.v9)(EKt).map(nKt),n=(0,l3.v9)(fKt),s=(0,l3.v9)(kA),r=(0,l3.v9)(fA);return Ye.createElement(lKt,{connectedIssues:t,isNewPullRequestPage:!0,issues:n,isPullRequest:s,workspace:r,onClickDisconnect:t=>e(hKt(t)),onSelectIssue:n=>{const s=t.find((e=>e.id===n.id));return e(s?hKt(n):mKt(n)),Promise.resolve()},onClickConnect:()=>{null==n&&(t=>{e(fF.getConnectableIssues(t))})(r)}})};function EXt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const gXt=J().Model.extend({__name__:"PullRequestDefaultPipeline",initialize(e,t){this.store=t,this.store.subscribe(this._syncModelPipelinesWithStore.bind(this)),this._syncModelPipelinesWithStore()},_syncModelPipelinesWithStore(){const e=this._getState(),t=pA(e),n=LA(e),s=this.get("pipelines"),r=this.get("defaultPRPipelineId");let i=null,o=null;null!=t&&(n&&({defaultPRPipelineId:i,pipelines:o}=n),s===o&&r===i||this.set({pipelines:o,defaultPRPipelineId:i}))},_getStore(){return this.store},_getState(){return this._getStore().getState()},setDefaultPipeline(e){var t,n=this;return(t=function*(){const t=n.get("repoData"),s=iq({pipelineId:e,workspaceId:t.workspace._id});n._getStore().dispatch(s)},function(){var e=this,n=arguments;return new Promise((function(s,r){var i=t.apply(e,n);function o(e){EXt(i,s,r,o,a,"next",e)}function a(e){EXt(i,s,r,o,a,"throw",e)}o(void 0)}))})()}}),fXt=gXt;var _Xt=n(28772),vXt=n.n(_Xt);const IXt=o8.extend({__name__:"PullRequestDefaultPipeline",events:{'click [data-action="zh-default-pipeline-toggle"]':"_handleToggleClick",'click [data-action="zh-close-select-pipeline"]':"_handleXIconClick",'click [data-action="zh-select-pipeline"]':"_handlePipelineClick"},initialize(){se("PullRequestDefaultPipeline.initialize"),this.active=!1,this.listenTo(this.model,"change:pipelines",this.render),this.listenTo(this.model,"change:defaultPRPipelineId",this.render)},render(){se("PullRequestDefaultPipeline.render");const e=this.model.get("pipelines")||[],t=this.model.get("defaultPRPipelineId"),n=e.find((e=>e._id===t)),s=e.map((e=>t&&e._id===t?{selected:!0,...e}:e)),r={isActive:this.isActive,pipelines:s,defaultPipeline:n};return this.$el.html(vXt()(r)),this.isActive?this._createBodyListener():this._destroyBodyListener(),this.$el},_createBodyListener(){ls()("body").on("click.pullRequestDefaultPipeline",this._onClickBody.bind(this)),ls()("body").on("keydown.pullRequestDefaultPipeline",this._onKeyUpBody.bind(this))},_destroyBodyListener(){ls()("body").off("click.pullRequestDefaultPipeline"),ls()("body").off("keydown.pullRequestDefaultPipeline")},_onClickBody(e){if(se("PullRequestDefaultPipeline._onClickBody"),!this.$el)return;const t=this.$el.find(".zh-select-menu-modal");t.is(e.target)||ls().contains(t.get(0),e.target)||this._closeDropdown()},_onKeyUpBody(e){e.which===_8.KEY_ESC&&(this._closeDropdown(),e.stopPropagation())},_handleToggleClick(e){se("PullRequestDefaultPipeline._handleToggleClick"),e.stopPropagation(),this._toggleDropdown()},_handleXIconClick(e){se("PullRequestDefaultPipeline._handleXIconClick"),e.stopPropagation(),this._toggleDropdown()},_toggleDropdown(){se("PullRequestDefaultPipeline._toggleDropdown"),this.isActive=!this.isActive,this.render()},_closeDropdown(){se("PullRequestDefaultPipeline._closeDropdown"),this.isActive&&(this.isActive=!1,this.render())},_handlePipelineClick(e){re("=> PullRequestDefaultPipeline._handlePipelineClick");const t=ls()(e.currentTarget);this.model.setDefaultPipeline(t.data("id")),r6("New Pull Request Feature Clicked",{Feature:"Change Default Pipeline"}),Q3({"Default Pipeline Changed":1})}}),bXt=IXt,{flags:yXt,issue:SXt,pages:wXt,shared:RXt}=LG,TXt=r4.pages.newPullRequest,CXt=r4.pages.newIssue,kXt=r4.pages.zenhub,OXt=J().Model.extend({__name__:"NewPullRequestFeatures",initialize(e){se("NewPullRequestFeatures.initialize",e),this.views={},this.models={},this._issueMeta=e,y3()},_createStore(){se("NewPullRequestFeatures._createStore");const e=this._issueMeta,{repositoryId:t,workspace:n}=e;this.history=(0,V8.q_)({hashType:"noslash"}),this._store=s2(null,this.history),this._store.dispatch(rH(e.userMeta.zh)),this._store.dispatch(wXt.setWorkspaceAndDefaultRepoId({workspace:n,defaultRepoId:t})),this._store.dispatch(SXt.setIssueWorkspaceAndRepoId({workspace:n,repoId:t})),this._store.dispatch(yXt.setFlags(n?.flags||{})),this._store.dispatch(SXt.setIncompleteIssueInfo({number:-1,title:"",pull_request:{url:"@@fakeUrl"}}))},_getStore(){return se("NewPullRequestFeatures._getStore"),ee.kKJ(this._store)&&this._createStore(),this._store},loadNewPullRequestConnector(){se("NewPullRequestFeatures.loadNewPullRequestConnector");const e=this._getStore(),t=Ye.createElement(F4.e,{client:ly()},Ye.createElement(l3.zt,{store:e},Ye.createElement(hXt)));TXt.injectIssueConnector(t)},loadNewPullRequestFeatures(){se("NewPullRequestFeatures.loadNewPullRequestFeatures"),this.views.newPRForm=TXt.findNewPRForm(),this.views.newPRForm&&this.views.newPRForm.addEventListener("submit",this.saveNewPRInLocalStorage.bind(this));const e=this._issueMeta,{hasPushPermission:t,workspace:n}=e;if(!t)return;const s={organization:zx.get("organization"),repository:zx.get("repository"),repositoryId:r4.pages.repo.findRepoId(),issueId:-1,hasPushPermission:t,workspace:n};this.loadBreadcrumbs(),this.views.newPRForm&&this.loadFormFeatures(n,s)},loadFormFeatures(e,t){e&&(this.loadDefaultPipelineSelector(t),this.loadEstimateSelector(t),this.loadNewPullRequestConnector(),this.loadReleaseSelector(t)),this.loadPipelineSelector(t)},loadDefaultPipelineSelector(e){this.models.defaultPipeline=new fXt({repoData:e},this._getStore()),this.views.defaultPipeline=new bXt({model:this.models.defaultPipeline}),this.views.defaultPipeline.render(),TXt.injectDefaultPipelineSelector(this.views.defaultPipeline.el)},loadBreadcrumbs(){se("NewPullRequestFeatures.loadBreadcrumbs");const e=this._getStore();ee.kKJ(this.breadcrumbs)&&(this.breadcrumbs=njt(e,this.history)),kXt.injectBreadcrumbs(this.breadcrumbs)},loadPipelineSelector(e){const t=r4.pages.issue.injectPipelineSelector();if(!t)return;const n=bI.createRoot(t);ee.kKJ(this.pipelineSelectorComponent)||(n.unmount(t),this.pipelineSelectorComponent=null);const s=this._getPipelineSelectorComponent(e);n.render(s)},_getPipelineSelectorComponent(e){const t=this._getStore();if(!ee.kKJ(this.pipelineSelectorComponent))return null;if(!e.workspace)return this.pipelineSelectorComponent=Ye.createElement(XFt,{createWorkspacePath:ma.getZenHubTabPath({organization:e.organization,repository:e.repository})}),this.pipelineSelectorComponent;t.dispatch(SXt.loadPipelines({repo_id:e.repositoryId}));const n=Ye.createElement(nZt,{});return this.pipelineSelectorComponent=Ye.createElement(l3.zt,{store:t},n),this.pipelineSelectorComponent},_getEstimateSelectorComponent(e){const t=this._getStore();if(!ee.kKJ(this.estimateSelectorComponent))return null;t.dispatch(SXt.loadRepoEstimateData({repo_id:e.repositoryId}));const n=Ye.createElement(yYt);return this.estimateSelectorContainer=Ye.createElement(l3.zt,{store:t},n),this.estimateSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.estimateSelectorContainer),this.estimateSelectorComponent},loadEstimateSelector(e){se("NewPullRequestFeatures.loadEstimateSelector"),this._estimateSelectorNode=r4.pages.issue.injectEstimateSelectorMountNode();const t=bI.createRoot(this._estimateSelectorNode);ee.kKJ(this.estimateSelectorComponent)||(t?.unmount(),this.estimateSelectorComponent=null);const n=this._getEstimateSelectorComponent(e);t.render(n)},saveNewPRInLocalStorage(){const e=this._getNewPRData();SJt.save(e)},_getIssueToConnect(){const e=this._getStore().getState();return EKt(e)},_getNewPRData(){const e=this.pipelineSelectorComponent,t=this.releaseSelectorComponent;if(ee.YjB(ee.kKJ,[e,t]))return null;const n=this._getStore().getState(),s=lD(n),r=aD(n),i=EKt(n),o=Tw(n),a=pD(n),l=uD(n),c=zc(o,a);return{pipelinesByWorkspaceId:s,prioritiesByWorkspaceId:r,estimateValue:l,title:CXt.getIssueTitle(),issuesToConnect:i,releases:c}},loadReleaseSelector(e){se("NewPullRequestFeatures.loadReleaseSelector");const t=r4.pages.issue.injectReleaseSelector(),n=this._getReleaseSelectorComponent(e);bI.createRoot(t).render(n)},_getReleaseSelectorComponent(e){se("NewPullRequestFeatures._getReleaseSelectorComponent");const t=this._getStore();if(!ee.kKJ(this.releaseSelectorComponent))return null;t.dispatch(SXt.setIssueReleases([])),t.dispatch(RXt.getWorkspacesReleases(e.workspace._id));const n=Ye.createElement(jZt);return this.releaseSelectorComponent=Ye.createElement(l3.zt,{store:t},n),this.releaseSelectorComponent},resetPRInStore(){this._getStore().dispatch(dKt())},destroy(){se("NewPullRequestFeatures.destroy"),this.resetPRInStore(),Object.keys(this.views).forEach((e=>{e&&e.destroy&&e.destroy()}));const{newPRForm:e}=this.views;e&&e.removeEventListener("submit",this.saveNewPRInLocalStorage.bind(this)),TXt.removeIssueConnector(),this.breadcrumbs&&(kXt.removeBreadcrumbs(),this.breadcrumbs=null),this.stopListening()}}),NXt=OXt;function PXt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const AXt=bJt.extend({__name__:"NewPullRequestPage",_readIssueMeta:()=>({organization:zx.get("organization"),repository:zx.get("repository"),repositoryId:r4.pages.repo.findRepoId()}),_trackPageViewedMP(){r6("Page Viewed",{"Page Name":"New Pull Request"})},loadAuthorizedFeatures(){var e,t=this;return(e=function*(){bJt.prototype.loadAuthorizedFeatures.call(t),se("NewPullRequestPage.loadFeatures"),t.features={};const e=t._readIssueMeta(),n=window.location.pathname,{hasPushPermission:s,userMeta:r,workspace:i}=yield bJt.prototype.loadRepoPageInfo.call(t,e.repositoryId);n===window.location.pathname?(e.hasPushPermission=s,e.workspace=i,e.userMeta=r,t.features.newPullRequest=new NXt(e),t.features.newPullRequest.loadNewPullRequestFeatures(),t._trackPageViewedMP()):re("New Pull Request page - Url changed while fetching data")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){PXt(i,s,r,o,a,"next",e)}function a(e){PXt(i,s,r,o,a,"throw",e)}o(void 0)}))})()}}),DXt=AXt,LXt=o8.extend({__name__:"EpicCreateButton",tagName:"button",className:"btn zh-switch-to-epic",events:{click:"_handleClick"},initialize(e,t,n){se("EpicCreateButton.initialize"),this.issueMeta=t,this.createEpic=n,this.title=r4.pages.newIssue.findTitle(),this._issueTitleListener()},render(){return se("EpicCreateButton.render"),this.$el.html("Create an epic"),this._toggleButtonDisabled(),this.$el},_openEpicCreator(){const e={repo_id:this.issueMeta.repositoryId,organization:this.issueMeta.organization,repo:this.issueMeta.repository,title:r4.pages.newIssue.getIssueTitle().trim(),body:r4.pages.newIssue.getIssueBody(),issues:[],workspace:this.issueMeta.workspace};r6("Create Epic",{Location:"Create Issue Page"}),this.createEpic(e)},_handleClick(e){const t=this;i8.tryOrContinue((()=>(e.preventDefault(),t._openEpicCreator())))(e),e.preventDefault()},_issueTitleListener(){const e=this;this._toggleButtonDisabled(),this.stream=r4.pages.newIssue.issueTitleChangeStream(),this.stream.onValue((()=>{e._toggleButtonDisabled()})),this.title.addEventListener("input",this._toggleButtonDisabled.bind(this)),this.title.addEventListener("change",this._toggleButtonDisabled.bind(this)),this.title.addEventListener("focus",this._toggleButtonDisabled.bind(this))},_toggleButtonDisabled(){const e=this.title.value||"";this.$el.prop("disabled",!e.trim().length)},destroy(){this.stream.destroy(),o8.prototype.destroy.call(this)}}),zXt=LXt,{flags:MXt,issue:xXt,pages:FXt,shared:UXt}=LG,BXt=r4.pages.zenhub;let qXt=null,HXt=null;const WXt=J().Model.extend({__name__:"NewIssueFeatures",initialize(e){se("NewIssueFeatures.initialize"),this.views={},this.models={},this.epicData=null,this.issueMeta=e,this.issuePageChangeStream=this.getIssuePageChangeStream(),this.newIssueForm=r4.pages.newIssue.findNewIssueForm(),y3(),this.newIssueForm&&this.newIssueForm.addEventListener("submit",this.onFormSubmit.bind(this))},onFormSubmit(){this.saveNewIssueInLocalStorage()},_getStore(){return this.store||this._createStore()},_getState(){return this._getStore().getState()},_createStore(){this.history=(0,V8.q_)({hashType:"noslash"});const e=function(e,t){const n=c1(t),s=n({},{}),{repositoryId:r,workspace:i}=e,o=[rH(e.userMeta.zh),FXt.setWorkspaceAndDefaultRepoId({workspace:i,defaultRepoId:r}),xXt.setIssueWorkspaceAndRepoId({workspace:i,repoId:r}),MXt.setFlags(i?.flags||{}),xXt.setIncompleteIssueInfo({number:-1,title:""})];return iG(n,o,s)}(this.issueMeta,this.history);return this.store=s2(e,this.history),this.store},loadSidebar(e){e.hasPushPermission&&(this.loadPipelineSelector(e),this.issueMeta.workspace&&(this.loadEstimateSelector(e),this.loadEpicSelector(e),this.loadEpicCreateButton(e),this.loadReleaseSelector(e),this.loadSprintSelector(),this.adjustSidebar()))},loadBreadcrumbs(){se("NewIssueFeatures.loadBreadcrumbs");const e=this._getStore();ee.kKJ(this.breadcrumbs)&&(this.breadcrumbs=njt(e,this.history)),BXt.injectBreadcrumbs(this.breadcrumbs)},loadPipelineSelector(e){ee.kKJ(this.pipelineSelectorComponent)||(qXt?.unmount(),this.pipelineSelectorComponent=null),this._pipelineSelectorNode=r4.pages.issue.injectPipelineSelector();const t=this._getPipelineSelectorComponent(e);qXt=bI.createRoot(this._pipelineSelectorNode),qXt.render(t)},_getPipelineSelectorComponent(e){const t=this._getStore();if(!ee.kKJ(this.pipelineSelectorComponent))return null;if(!e.workspace)return this.pipelineSelectorComponent=Ye.createElement(XFt,{createWorkspacePath:ma.getZenHubTabPath({organization:e.organization,repository:e.repository})}),this.pipelineSelectorComponent;t.dispatch(xXt.loadPipelines({repo_id:e.repositoryId}));const n=Ye.createElement(nZt,{workspacePath:ma.getZenHubTabPath({organization:e.organization,repository:e.repository})});return this.pipelineSelectorComponent=Ye.createElement(l3.zt,{store:t},n),this.pipelineSelectorComponent},_getEstimateSelectorComponent(e){const t=this._getStore();if(!ee.kKJ(this.estimateSelectorComponent))return null;t.dispatch(xXt.loadRepoEstimateData({repo_id:e.repositoryId}));const n=Ye.createElement(yYt);return this.estimateSelectorContainer=Ye.createElement(l3.zt,{store:t},n),this.estimateSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.estimateSelectorContainer),this.estimateSelectorComponent},loadEstimateSelector(e){se("IssueFeatures.loadEstimateSelector"),ee.kKJ(this.estimateSelectorComponent)||(HXt?.unmount(),this.estimateSelectorComponent=null),this._estimateSelectorNode=r4.pages.issue.injectEstimateSelectorMountNode();const t=this._getEstimateSelectorComponent(e);HXt=bI.createRoot(this._estimateSelectorNode),HXt.render(t)},loadEpicSelector(){se("NewIssueFeatures.loadEpicSelector");const e=r4.pages.issue.injectEpicSelectorMountNode(),t=this._getEpicSelectorComponent();bI.createRoot(e).render(t)},_getEpicSelectorComponent(){if(se("NewIssueFeatures._getEpicSelectorComponent"),this.epicSelectorComponent)return null;const e=this._getStore(),t=Lre(e.getState()),n=Ye.createElement(t?DUt:LZt);return this.epicSelectorContainer=Ye.createElement(l3.zt,{store:e},n),this.epicSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.epicSelectorContainer),this.epicSelectorComponent},loadEpicCreateButton(e){se("NewIssueFeatures.loadEpicCreateButton");const t=r4.pages.newIssue.findTitle(),n=r4.pages.newIssue.findBody(),s=r4.pages.newIssue.findSubmitNewIssueBtn(),r=new zXt({},e,this.createEpic.bind(this,t,n,s));r.render(),r4.pages.newIssue.injectEpicCreateButton(r.el)},adjustSidebar(){r4.pages.newIssue.markSidebarAsInjected(),r4.pages.issue.removeLabelCreationFormOnIssueModal()},createEpic(e,t,n,s){const r=ee.UID(ee.eiS(["repo_id","issue_number"]))(s.issues);this.epicData={issues:r},e.setAttribute("value",s.title),t.setAttribute("value",s.body),n.click()},getIssuePageChangeStream:()=>r4.pages.issue.issueContentChangeStream(),saveNewIssueInLocalStorage(){const e=this._getNewIssueData();SJt.save(e)},_getNewIssueData(){const e=this.pipelineSelectorComponent,t=this.releaseSelectorComponent;if(null==e||null==t)return null;const n=this._getState(),s=Lre(n),r=this.epicData,i=sD(n),o=s?i:(a=i,Object.keys(a).map((e=>{const[t,n]=e.split("_");return{repo_id:t,issue_number:n}})));var a;const l=lD(n),c=aD(n),d=zc(Tw(n),pD(n)),u=uD(n),p=iD(n);return{pipelinesByWorkspaceId:l,prioritiesByWorkspaceId:c,estimateValue:u,title:r4.pages.newIssue.getIssueTitle().trim(),epic:r,epicParents:o,releases:d,sprintsToAdd:p}},loadReleaseSelector(e){se("NewIssueFeatures.loadReleaseSelector");const t=r4.pages.issue.injectReleaseSelector(),n=this._getReleaseSelectorComponent(e);bI.createRoot(t).render(n)},_getReleaseSelectorComponent(e){se("NewIssueFeatures._getReleaseSelectorComponent");const t=this._getStore();if(!ee.kKJ(this.releaseSelectorComponent))return null;t.dispatch(UXt.getWorkspacesReleases(e.workspace._id));const n=Ye.createElement(jZt);return this.releaseSelectorComponent=Ye.createElement(l3.zt,{store:t},n),this.releaseSelectorComponent},loadSprintSelector(){se("NewIssueFeatures.loadSprintSelector");const e=r4.pages.issue.injectSprintSelectorMountNode(),t=this._getSprintSelectorComponent();bI.createRoot(e).render(t)},_getSprintSelectorComponent(){se("NewIssueFeatures._getSprintSelectorComponent");const e=this._getStore();if(!ee.kKJ(this.sprintSelectorComponent))return null;const t=Ye.createElement(fUt);return this.sprintSelectorContainer=Ye.createElement(l3.zt,{store:e},t),this.sprintSelectorComponent=Ye.createElement(F4.e,{client:ly()},this.sprintSelectorContainer),this.sprintSelectorComponent},destroy(){se("NewIssueFeatures.destroy"),j.ZP.each(j.ZP.values(this.views),(e=>{e&&e.destroy&&e.destroy()})),this.issuePageChangeStream&&this.issuePageChangeStream.destroy(),this.breadcrumbs&&(BXt.removeBreadcrumbs(),this.breadcrumbs=null),this.newIssueForm&&(this.newIssueForm.removeEventListener("submit",this.onFormSubmit.bind(this)),this.newIssueForm=null),this.stopListening(),this.history=null,this.store=void 0}}),jXt=WXt;function GXt(e,t,n,s,r,i,o){try{var a=e[i](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,r)}const KXt=bJt.extend({__name__:"NewIssuePage",_readIssueMeta:()=>({organization:zx.get("organization"),repository:zx.get("repository"),repositoryId:Dx.findRepoId(),issueId:-1}),_trackPageViewedMP(){r6("Page Viewed",{"Page Name":"New Issue"})},loadAuthorizedFeatures(){var e,t=this;return(e=function*(){bJt.prototype.loadAuthorizedFeatures.call(t),se("NewIssuePage.loadFeatures");const e=t._readIssueMeta();t.features={};const n=window.location.pathname,{hasPushPermission:s,userMeta:r,workspace:i}=yield bJt.prototype.loadRepoPageInfo.call(t,e.repositoryId);n===window.location.pathname?(e.hasPushPermission=s,e.userMeta=r,e.workspace=i,t._loadNewIssueFeatures(e),t._trackPageViewedMP()):re("New Issue page - Url changed while fetching data")},function(){var t=this,n=arguments;return new Promise((function(s,r){var i=e.apply(t,n);function o(e){GXt(i,s,r,o,a,"next",e)}function a(e){GXt(i,s,r,o,a,"throw",e)}o(void 0)}))})()},_loadNewIssueFeatures(e){this.features.newIssue=new jXt(e),this.features.newIssue.loadBreadcrumbs(),this.features.newIssue.loadSidebar(e)},destroy(){bJt.prototype.destroy.call(this),this.features.newIssue&&this.features.newIssue.destroy()}}),VXt=KXt,$Xt={"":"enterGitHubPage","dashboard/*nada":"enterGitHubPage","login/*nada":"enterGitHubPage","account/*nada":"enterGitHubPage","notifications/*nada":"enterGitHubPage","issues/*nada":"enterGitHubPage","about/*nada":"enterGitHubPage","topics/*nada":"enterGitHubPage","join/*nada":"enterGitHubPage","contact/*nada":"enterGitHubPage","explore/*nada":"enterGitHubPage","password_reset/*nada":"enterGitHubPage","enterprise/*nada":"enterGitHubPage","events/*nada":"enterGitHubPage","trending/*nada":"enterGitHubPage","stars/*nada":"enterGitHubPage","pages/*nada":"defaultRoute",":organization":"enterGitHubPage",":organization/:repository/issues/new":"enterNewIssuePage",":organization/:repository/issues/:issue(/)":"enterIssuePage",":organization/:repository/issues(/)*splat":"enterIssuesIndexPage",":organization/:repository/compare(/)*splat":"enterNewPullRequestPage",":organization/:repository/pull/:issue(/)*splat":"enterPullRequestPage",":organization/:repository/pulls(/)*splat":"enterPullRequestsIndexPage",":organization/:repository/milestones/new":"enterNewMilestonePage",":organization/:repository/milestones(/)*splat":"enterMilestoneIndexPage",":organization/:repository/milestone/:milestoneGhId(/)":"enterMilestonePage",":organization/:repository/notifications":"enterGitHubPage",":organization/:repository(/)*nada":"enterRepoPage","*actions":"defaultRoute"},ZXt=x?{"setup/*nada":"defaultRoute",...$Xt}:{"security/*nada":"enterGitHubPage","blog/*nada":"enterGitHubPage","showcases/*nada":"enterGitHubPage","styleguide/*nada":"enterGitHubPage","apps/*nada":"enterGitHubPage","features/*nada":"enterGitHubPage","customer-stories/*nada":"enterGitHubPage","pricing/*nada":"enterGitHubPage","nonprofit/*nada":"enterGitHubPage","marketplace/*nada":"enterGitHubPage",...$Xt},YXt=J().Router.extend({__name__:"Router",HASH_ZENHUB_TAB:/^#(workspaces|zenhub|boards?|reports)(\?|\/|$)/,initialize(){zx.setBackboneRouter(this)},routes:ZXt,route(e,t,n){J().Router.prototype.route.call(this,e,t,(function(){if(zx.isUrlAsync||zx.isBackboneRouterDisabled)return;const e=arguments,s=this;zx.update(...e),(n||s[t]).apply(s,e)}))},watchUrlHash(){r4.pages.repo.onPjaxCompleted((()=>{J().history.loadUrl()})),this.locationStream=this.windowLocationChangedStream(),this.locationStream.onValue((()=>{this.isFirstUrlChange||_6(),se("Router.watchUrlHash location changed");const e=zx.getHash();this.loadZenHubPage(e,this.isFirstUrlChange)}))},loadZenHubPage(e,t){void 0===t&&oe("Router.loadZenHubPage called before isFirstUrlChange set #6522"),this.HASH_ZENHUB_TAB.test(e)?this.enterZenHubPage():t||this.enterPageWithNoSpecialHash()},enterPageWithNoSpecialHash(){zx.isUrlAsync||this.exitAllAttachedPages()},windowLocationChangedStream(){const e=this,t=new O6({timeInterval:500,onTimer(){if(zx.isUrlAsync)return;const n=e._getZenHubApp().isReady(),s=window.location.href;n&&e.refLocation!==s&&(e.isFirstUrlChange=void 0===e.refLocation,e.refLocation=s,t.triggerValue(s))}});return t},defaultRoute(){se("Router.defaultRoute")},enterIssuesIndexPage(){se("Router.enterIssuesIndexPage"),this._loadPageIfZhTabClosed(new mXt)},enterIssuePage(e,t,n){se("Router.enterIssuePage");const s=parseInt(n,10);if(Number.isNaN(s))return void this._loadPage(new bJt);const r=this._getZenHubApp();r.pages.issuePage&&r.pages.issuePage.destroy(),this._loadPageIfZhTabClosed(new TJt)},enterNewIssuePage(){se("Router.enterNewIssuePage"),this._loadPageIfZhTabClosed(new VXt)},enterPullRequestsIndexPage(){se("Router.enterPullRequestsIndexPage"),this._loadPageIfZhTabClosed(new KJt)},enterPullRequestPage(e,t,n,s){s&&""!==s?this.enterRepoPage(e,t,s):this._loadPageIfZhTabClosed(new OJt)},enterNewPullRequestPage(){se("Router.enterNewPullRequestPage"),this._loadPageIfZhTabClosed(new DXt)},enterMilestonePage(){se("Router.enterMilestonePage"),this._loadPageIfZhTabClosed(new UJt)},enterMilestoneIndexPage(){se("Router.enterMilestoneIndexPage"),this._loadPageIfZhTabClosed(new BJt)},enterNewMilestonePage(){se("Router.enterNewMilestonePage"),this._loadPageIfZhTabClosed(new WJt)},enterRepoPage(e,t,n){se("Router.enterRepoPage"),"settings"===e||"search"===n?this._loadPage(new e5):this._loadPage(new bJt)},enterZenHubPage(){se("Router.enterZenHubPage"),zx.isBackboneRouterDisabled||zx.disableBackboneRouterUpdate();const e=this._getZenHubApp().pages.zenhub;e&&e.visit()},exitZenHubPage(){se("Router.exitZenHubPage"),zx.isUrlAsync&&zx.exitAsyncUrlMode();const e=this._getZenHubApp().pages.zenhub;e&&e.close()},exitAllAttachedPages(){r4.pages.repo.repoTopbarCached=null,this.exitZenHubPage()},enterGitHubPage(){se("Router.enterGitHubPage"),zx.isBackboneRouterDisabled&&zx.enableBackboneRouterUpdate(),this._loadPage(new e5)},_getZenHubApp:()=>Q,_loadPageIfZhTabClosed(e){const{hash:t}=window.location;this.HASH_ZENHUB_TAB.test(t||"")?this._loadPage(new bJt):this._loadPage(e)},_loadPage(e){T6.isPageNotFound()?se("ZenHub - Page not found"):(this._getZenHubApp().replacePage(e),e.loadFeatures())},reset(){se("Router.reset"),J().history.checkUrl()},reloadRoute(){J().history.loadUrl(J().history.fragment)},start(){se("Router.startRoute"),J().history.start({pushState:!0}),this.listenTo(Q,"reset",this.reset),this.watchUrlHash()}}),JXt=new YXt;var XXt=n(82852);const QXt=function(e){e(ct.isAuthed())},eQt=function(e,t){return function(e,t){const n=ut().stream();return J().listenTo(e,t,ee.r$$(QXt,[n])),n}(e,t).map(ee.Bxt(t))},tQt=eQt(ct,it),nQt=eQt(ct,ot),sQt=(0,XXt.y)(ut().merge(tQt,nQt)),rQt={firstSignIn$:mt()(ee.fS0(it),sQt),firstSignOut$:mt()(ee.fS0(ot),sQt)},iQt={start(){ct.whenAuthReady().then((()=>rQt.firstSignOut$.map((()=>(H.Z.clearToasts(),r6("Logout Execution",{Feature:"User logged out",Page:window.location.href}))))))}},oQt=J().Model.extend({initialize(){void 0!==navigator.connection&&p6({"Connection Type":navigator?.connection?.effectiveType,"Downlink Speed":navigator?.connection?.downlink}),document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState?c6.mark(a6):c6.mark(l6)})),se("App.initialize");try{Ze()}catch(e){se(`Sentry failed to initialize due to: ${e}`)}He(),JXt.start(),iQt.start()}}),aQt="chrome"===z.browser;let lQt;const cQt=()=>{try{z.version()}catch(e){e.message.includes("Extension context invalidated")&&(clearInterval(lQt),H.Z.clearToasts(),H.Z.createToast(W.Z.ACTION_BUTTON_UPDATE_NO_EXPIRY,{content:"The ZenHub extension has a pending update. Please save your work and refresh the page to upgrade to the latest version.",hasCloseButton:!1}))}};var dQt;F&&aQt&&(window.fetch=A.Z,lQt=setInterval(cQt,2500)),window._=j.ZP,F&&(dQt=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(){const e=this;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];const r=n[1],i={open:n};let o=null,a=null;$(r)?(e.setRequestHeader=(e,t)=>{i.setRequestHeader||(i.setRequestHeader=[]),i.setRequestHeader.push({key:e,value:t})},e.getAllResponseHeaders=()=>o||"",e.getResponseHeader=e=>a&&a[e]||null,e.send=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];i.send=n,window.BrowserAPI.Extension.sendMessage({command:"executeXMLHttpRequestInBackground",data:i},(t=>{["readyState","responseText","status"].forEach((t=>{K(e,t)})),e.readyState=t.readyState,e.responseText=t.responseText,e.status=t.status,o=t.responseHeaders,a=Z(t.responseHeaders),["readyState","responseText","status"].forEach((t=>{V(e,t)})),e.onreadystatechange&&e.onreadystatechange(),e.onload&&e.onload()}))}):dQt.call(this,...n)}),(0,D.MD)(),Q.app=new oQt},60268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DANGEROUSLYGetExtensionRepoPathWithTokens:()=>k,DANGEROUSLYGetWorkspacePathWithRepoWithTokens:()=>N,DANGEROUSLYGetZenHubTabPathWithTokens:()=>O,PageConstants:()=>p,appendRepoPathToPath:()=>Q,appendRepoPathToPathWithIssues:()=>se,findClosestWorkspaceWithRepo:()=>z,getAccountSettingsPath:()=>R,getBillingPath:()=>w,getBoardPath:()=>$,getBoardPathInWebapp:()=>Z,getEditWorkspacePath:()=>V,getIssueCommentHash:()=>b,getIssuePath:()=>he,getLoginPath:()=>I,getLogoutPath:()=>v,getMilestonesPath:()=>_,getNewIssuePath:()=>f,getNotificationsPath:()=>g,getOutdatedReportsPath:()=>ae,getPlatformEpicPath:()=>me,getProjectPath:()=>Ee,getRepoIssuePath:()=>pe,getRepoNewIssuePath:()=>ue,getRepoOptions:()=>ge,getRepoPath:()=>X,getReportsPath:()=>Y,getRoadmapPath:()=>ne,getRoadmapPathWithEpic:()=>re,getSelectOrganizationPath:()=>E,getSettingsIntegrationsPath:()=>P,getSettingsManageCheckoutPath:()=>S,getSettingsManagePath:()=>y,getSettingsOrgPath:()=>T,getSettingsPath:()=>A,getSettingsProfilePath:()=>C,getShortcutsPath:()=>h,getWebappAccountSettingsPath:()=>Se,getWebappBoardUrl:()=>be,getWebappSettingsIntegrationsPath:()=>we,getWebappSettingsManagePath:()=>Re,getWebappSettingsOrgUrl:()=>ve,getWebappSettingsProfilePath:()=>Te,getWebappSettingsUrl:()=>_e,getWebappShortcutsUrl:()=>ye,getWorkflowsPath:()=>ie,getWorkspacePath:()=>G,getWorkspacePathInWebapp:()=>K,getWorkspacePathWithRepo:()=>te,getZenHubTabPath:()=>ce,isBoardPath:()=>U,isNewIssuePage:()=>D,isOutdatedBoardsPath:()=>oe,isOutdatedReportsPath:()=>le,isPlatformEpicPage:()=>W,isPlatformNewEpicPage:()=>L,isReportsPath:()=>B,isRoadmapPath:()=>q,isWorkflowsPath:()=>H,isWorkspacePath:()=>M,isWorkspacesPath:()=>x,parsePageFromPath:()=>j,parseRepoPath:()=>de,parseReportsPath:()=>J,parseWorkspacePath:()=>F,replaceWorkspaceHashInUrl:()=>ee,replaceWorkspaceName:()=>fe});var s=n(63535),r=n(30707),i=n(73127),o=n(98289);const{isNilOrEmpty:a}=o.Z,{webappURL:l}=r.Z,c=r.Z.dashboardURL,d="/workspaces";const u={BOARD:"BOARD",REPORTS:"REPORTS",VIEW_ISSUE:"VIEW_ISSUE",WORKSPACE_WITHOUT_PAGE:"WORKSPACE_WITHOUT_PAGE",ROADMAP:"ROADMAP",WORKFLOWS:"WORKFLOWS"},p=u;function m(e){const t=s.t$q(e).split(/[?#]/),n=s.zGw(s.CwT(1),s.v_p(""))(t);return{path:t[0],search:n}}const h=()=>{},E=()=>{},g=()=>{},f=()=>{},_=()=>{},v=()=>{},I=()=>{},b=()=>{},y=()=>{},S=()=>{},w=()=>{},R=()=>{},T=()=>{},C=()=>{},k=()=>{},O=()=>{},N=()=>{},P=()=>{},A=()=>{},D=()=>!1,L=()=>!1,z=()=>{},M=e=>{return t=d,e.substring(0,t.length)===t;var t},x=e=>!a(e)&&e.startsWith("/workspaces"),F=e=>{if(s.kKJ(e)&&x(e))throw new Error("Path given to parseWorkspacePage is not valid",e);const t=m(e).path.split("/"),n=t[2],r=t[3];return a(n)?{slug:null,workspaceId:null,page:r}:{slug:n,workspaceId:i.OR(n),page:r}},U=e=>{if(!x(e))return!1;return"board"===F(e).page},B=e=>{if(!x(e))return!1;return"reports"===F(e).page},q=e=>{if(!x(e))return!1;return"roadmap"===F(e).page},H=e=>{if(!x(e))return!1;return"workflows"===F(e).page},W=e=>{if(!x(e))return!1;return"epics"===F(e).page},j=e=>s.kKJ(e)?null:U(e)?u.BOARD:B(e)?u.REPORTS:q(e)?u.ROADMAP:H(e)?u.WORKFLOWS:M(e)?u.WORKSPACE_WITHOUT_PAGE:null,G=e=>{const t=i.Xy(e);return s.t$q(`/workspaces/${t}`)},K=e=>`/workspaces/${i.Xy(e)}`.toLowerCase(),V=e=>s.t$q(`${G(e.workspace)}/edit`),$=e=>{let{workspace:t}=e;return`${G(t)}/board`},Z=e=>{let{workspace:t}=e;return`${K(t)}/board`},Y=e=>{const t=G(e.workspace),n=s.t$q(`${t}/reports`);return s.kKJ(s.vgT("type",e))?n:s.t$q(`${n}/${e.type}`)},J=e=>{const t=s.zGw(s.Vl2("/"),s.hXT(s.yRu),s.WAo(s.tPi(-2,1/0)))(e);return{reportType:"reports"===t[0]?t[1]:""}},X=e=>s.t$q(`/${e.organization}/${e.repository}`),Q=e=>{const t=s.CwT(1,e.hashPath);return s.t$q(`${X(e)}#${t}`)},ee=e=>{const t={...window.location},n=t?.hash&&`/${t.hash.split("#")[1]}`,s=fe(n,e);return t.hash=s.replace("/","#"),`${t.href}${t.search}${t.hash}`},te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;const n=i.bl(e),s=G(e);return n?t({organization:n.organization,repository:n.repository,hashPath:s}):Ie(e)},ne=e=>s.t$q(`${G(e.workspace)}/roadmap`),se=e=>{const t=s.CwT(1,e.hashPath);return s.t$q(`${X(e)}/issues#${t}`)},re=e=>{const{epicId:t,epicTitle:n,workspace:r}=e;return`${s.t$q(te(r,se))}/roadmap/?epicId=${t}&epicTitle=${n}`},ie=e=>`${G(e.workspace)}/workflows`.toLowerCase(),oe=e=>s.fS0(e,"/boards"),ae=e=>{const t=s.t$q("/reports");return s.kKJ(e)||s.kKJ(e.type)?t:s.t$q(`${t}?report=${e.type}`)},le=e=>s.fS0(e,"/reports"),ce=e=>s.t$q(`${X(e)}#zenhub`),de=e=>{const{path:t,search:n}=m(s.t$q(e)),r=s.Vl2("/",t);return{organization:r[1],repository:r[2],page:r[3]||null,pagePath:s.v_p("/",s.CwT(4,r)),search:n,remaining:s.v_p("/",s.CwT(3,r))}},ue=e=>s.t$q(`/${e.organization}/${e.repository}/issues/new`),pe=e=>s.t$q(`${X(e)}/issues/${e.issue_number}`),me=e=>{let{workspace:t,epic_id:n}=e;const[s,r,i]=window.location.pathname.split("/");return`${`/${r}/${i}`}#${G(t).slice(1).toLowerCase()}/epics/${n}`},he=pe,Ee=e=>s.t$q(`${G(e.workspace)}/roadmap?project=${e.project_id}`),ge=(e,t,n)=>({organization:e,repository:t,search:n}),fe=(e,t)=>{if(!M(e))throw new Error("replaceWorkspaceName got an invalid path");const n=new RegExp("^\\/workspaces\\/[^\\/]+\\/","g"),s=G(t);return e.replace(n,`${s}/`)},_e=()=>s.t$q(c),ve=e=>s.t$q(`${_e()}/o/${e.organization}`),Ie=e=>{const t=`/workspaces/${i.Xy(e)}`;return s.t$q(l+t)},be=e=>{let{workspace:t}=e;return`${Ie(t)}/board`},ye=()=>`${_e()}/shortcuts`,Se=e=>`${ve(e)}/account-settings`,we=e=>`${ve(e)}/integrations`,Re=e=>`${ve(e)}/manage`,Te=()=>`${_e()}/profile`},30707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const{config:s}=window,r=s||{}},67172:(e,t,n)=>{"use strict";n.d(t,{$G:()=>v,Co:()=>R,DG:()=>E,DU:()=>C,DX:()=>a,Jd:()=>f,KN:()=>l,NV:()=>I,Vc:()=>_,ZT:()=>d,ZU:()=>k,fB:()=>m,fy:()=>b,iD:()=>w,qD:()=>p,rK:()=>g,rS:()=>u,s4:()=>T,uH:()=>o,vM:()=>i,yv:()=>c});var s=n(63535);function r(e,t){const n=10**t;return Math.round(e*n)/n}const i=s.WAo(((e,t)=>s.u4g(((t,n)=>{const r=e(n);return s.kKJ(t[r])&&(t[r]=[]),t[r].push(n),t}),{},t))),o=(e,t)=>{const n=Object.keys(e),s=Object.keys(t);return n.every((n=>s.includes(n)&&e[n]===t[n]))&&s.every((s=>n.includes(s)&&e[s]===t[s]))},a=s.CyQ(s.kKJ),l=s.wEe(s.kKJ,s.xbD),c=s.zGw(s.t$q,s.fyY),d=s.Bxt(),u=s.h0F(s.UID),p=(s.WAo(((e,t,n)=>Math.max(e,Math.min(t,n)))),(e,t,n)=>{if(!e.wheelDeltaX)return;const s=n.offsetWidth-t.offsetWidth,r=t.scrollLeft,i=r<=0&&e.wheelDeltaX>=2;(r>=s&&e.wheelDeltaX<=-2||i)&&e.preventDefault()}),m=s.WAo(((e,t,n)=>1===n||-1===n?e:t));s.is(Function);function h(){const e={}.hasOwnProperty;for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return n.reduce(((t,n)=>{if(!n)return t;const s=typeof n;if("string"===s||"number"===s)t.push(n);else if(Array.isArray(n)&&n.length){const e=h(...n);e&&t.push(...e)}else"object"===s&&Object.keys(n).forEach((s=>{e.call(n,s)&&n[s]&&t.push(s)}));return t}),[])}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return(h(...n)||[]).map((t=>`${e}--${t}`))}const g=e=>r(e,2),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=r(e,t);return n<1e3?n.toString():n.toLocaleString("en-US")};const _=e=>e.substr(0,1).toUpperCase()+e.substr(1),v=e=>s.gxm((t=>t&&t.length>e),(t=>`${s.qnb(e,t)}\u2026`)),I=(e,t)=>l(t)?[]:t.map((t=>`${e}--${t}`)),b=e=>{const t=Object.keys(e);return t.every((t=>{return n=e[t],s.is(Object,n)?b(n):l(n)||!n;var n}))},y=/(\r\n|\n|\r)/,S=/(\r\n|\n|\r)/gm,w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;for(;t.search(S)>-1;){const e=" "===t[t.search(S)-1]?"":" ";t=t.replace(y,e)}return t},R=e=>e?.offsetWidth!==e?.scrollWidth,T=e=>Math.abs(e.offsetHeight-e.scrollHeight)>1,C=(e,t)=>0===t?0:Math.round(e/t*100),k=(e,t)=>{const n=Math.max(t-(e||0),0);return`${n} ${m("character","characters",n)} left`}},9903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s={expirationDelay:2500,hasCloseButton:!0,showWarning:!1,updateData:{}}},17084:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,Z:()=>r});const s={SPRINT:"Sprint",ASSIGNEE:"assignee",LABEL:"label",EPIC:"epic",MILESTONE:"milestone",PIPELINE:"pipeline",PRIORITY:"priority",RELEASE:"release",ESTIMATE:"estimate"},r={ACTION_BUTTON_UPDATE:"action-button-update",ACTION_BUTTON_UPDATE_NO_EXPIRY:"action-button-update-no-expiry",BULK_ASSIGN_ISSUES_ERROR:"bulk-assign-issues-error",BOARD_SELECT_MULTIPLE:"board-select-multiple",CONNECTED_ISSUES_UPDATE:"connected-isues-update",CREATE_ISSUE_UPDATE:"create-issue-update",CREATE_EPIC_UPDATE:"create-epic-update",CREATE_MILESTONE_ERROR:"create-milestone-error",CREATE_MILESTONE_UPDATE:"create-milestone-update",CREATE_RELEASE_ERROR:"create-release-error",CREATE_RELEASE_UPDATE:"create-release-update",CONNECT_GITHUB_ORGS:"connect-gh-orgs",DELETE_WORKSPACE:"delete-workspace",DEPENDENCY_FETCH_ERROR:"dependency-fetch-error",DEPENDENCY_FILTER:"dependency-filter",DEPENDENCY_FILTER_WARNING:"dependency-filter-warning",DEPENDENCY_LOADING:"dependency-loading",DISCONNECTION_WARNING:"disconnection-warning",ERROR_PERMISSIONS:"error-permissions",ESTIMATE_INVITE_SENT_UPDATE:"estimate-invite-sent-update",EXPIRING_TOAST_WITH_CONTENT:"expiring-toast-with-content",EXTERNAL_LINK_TOAST:"external-link",FEATURE_PROMPT:"feature-prompt",INVITE_NON_MEMBERS:"invite-non-members",INVITATIONS_SENT_UPDATE:"invitations-sent-update",LARGE_CARD:"large-card",LARGE_CARD_PLAIN:"large-card-plain",MULTI_ACTION_ERROR:"multi-action-error",MULTI_ACTION_UPDATE:"multi-action-update",TUTORIAL:"tutorial",PROGRESS_UPDATE:"progreess-update",SAVING_UPDATE:"saving-update",SPLIT_WORKSPACE:"split-workspace",SPRINT_UPDATE:"sprint-update",TEXT:"text",TEXT_EXPIRING:"text-expiring",VIDEO_CARD:"video-card",WRAPPER:"wrapper",WRAPPER_EXPIRING:"wrapper-expiring",WORKSPACE_BREAKING_CHANGE:"workspace-breaking-change",ZH_PLATFORM_BETA_ACCESS:"zh-platform-beta-access"}},64640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(19887),r=n(30707),i=n(67172);const o=new class{constructor(){var e=this;this.getToasts=()=>this.toasts,this.setSubscriber=e=>{null!==this.subscriber&&r.Z.isDev&&console.warn("The Toast service received a new subscriber before the previous one has been cleared. This is likely happening because you are loading more than one `<ToastList />` components in your app. This is not supported. Please fix this immmediately."),this.subscriber=e},this.removeSubscriber=()=>{this.subscriber=null},this.publishChanges=()=>{this.subscriber&&this.subscriber([...this.toasts])},this.createToast=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=(0,s.Z)(),o={key:i,id:i,onClickClose:()=>e.deleteToast(i),type:t,tag:r,toastProps:n};return e.toasts=[...e.toasts,o],e.publishChanges(),i},this.createToastIfUniqueByType=(e,t,n)=>(0,i.KN)(this.findBy({type:e}))?this.createToast(e,t,n):null,this.deleteToast=e=>{this.toasts=this.toasts.filter((t=>t.id!==e)),this.publishChanges()},this.removeByType=e=>{this.toasts=this.toasts.filter((t=>{let{type:n}=t;return n!==e})),this.publishChanges()},this.removeByTypeAndTag=(e,t)=>{this.toasts=this.toasts.filter((n=>{let{type:s,tag:r}=n;return e!==s||t!==r})),this.publishChanges()},this.findBy=e=>{let{type:t,toastProps:n}=e,s=this.toasts;return t&&(s=s.filter((e=>{let{type:n}=e;return n===t}))),n&&(s=s.filter((e=>{let{toastProps:t}=e;return Object.keys(n).every((e=>n[e]===t[e]))}))),s},this.updateToastPropsById=(e,t)=>{const n=this.toasts.find((t=>{let{id:n}=t;return n===e}));(0,i.KN)(n)||(n.toastProps=t,this.publishChanges())},this.findAndReplaceByType=(e,t)=>{this.removeByType(e),this.createToast(e,t)},this.clearToasts=()=>{this.toasts=[],this.publishChanges()},this.reset=()=>{this.removeSubscriber(),this.clearToasts()},this.toasts=[],this.subscriber=null}}},9694:(e,t,n)=>{"use strict";n.d(t,{$B:()=>d,DS:()=>c,Jp:()=>a,Rv:()=>u,az:()=>p,pe:()=>l,wK:()=>o});var s=n(63535),r=n(17084),i=n(64640);s.eiS(["repo_id","repository","organization"]),s.WAo(((e,t)=>{const n=s.sEJ(s.OH4("repo_id",e.repo_id))(t);return!s.kKJ(n)}));const o=s.WAo(((e,t)=>s.hXT((t=>s.r3W(t.repo_id,e)))(t))),a=s.sEJ(s.goX({default:!0})),l=e=>({node_id:s.vgT("node_id",e),repo_id:s.vgT("id",e),repository:s.vgT("name",e),organization:s.ETc(["owner","login"],e),has_issues:s.vgT("has_issues",e),private:s.vgT("private",e),permissions:s.vgT("permissions",e),description:s.vgT("description",e),owner:s.vgT(["owner"],e)}),c=(s.UID((e=>({repo_id:e.repo_id,organization:e.cached_repo_owner,repository:e.cached_repo_name,permissions:s.eiS(["pull","push","admin"],e.permissions)}))),e=>{const t={organization:e.owner.login,repo_id:e.ghId,id:e.id,repository:e.name,isPrivate:e?.isPrivate};return e.permissions&&(t.permissions=e.permissions),s.kKJ(e.isFavorite)||(t.favorite=e.isFavorite),e.owner&&(t.owner=e.owner),t}),d=(e,t,n)=>s.HCG([s.zU3(s.zGw(t,s.t$q)),s.zU3(s.zGw(n,s.t$q))],e),u=(e,t,n,r)=>{const[i,o]=s.uKc(r,e),a=d(o,t,n);return s.zoF(i,a)},p=e=>{const t={repoName:e};i.Z.createToast(r.Z.SPLIT_WORKSPACE,t)}},98289:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var s=n(68891),r=n(53690),i=n.n(r),o=n(63535),a=n(10301),l=n(3200),c=n.n(l),d=n(23210);const u={key:"Keynote",app:"App"},p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;const m={arrayFormat:"bracket"};const h={parseInt10:o.d$m(parseInt,[10]),parseJSON(e){let t=null;try{t=JSON.parse(e)}catch(e){}return t},isImage(e){if(!e)return!1;const t=e.split(".");let n=t[t.length-1];return n=(n||"").toLowerCase(),-1!==["png","jpg","jpeg","gif","tif"].indexOf(n)},isFileImage(e){return e&&this.isImage(e.name)},fileExtName:e=>(e||"").split(".").pop().toLowerCase(),fileExtType(e){const t=h.fileExtName(e);return u[t]},isEmailValid:e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),isEmptyString:e=>a.ZP.isString(e)&&a.ZP.isEmpty(e),isEmptyArray:e=>a.ZP.isArray(e)&&!e.length,isEmptyObject:e=>a.ZP.isObject(e)&&a.ZP.isEmpty(e),isNilOrEmpty:o.wEe(o.kKJ,o.xbD),isNotNil:o.CyQ(o.kKJ),rejectNil:o.d1t(o.kKJ),idsToDict:e=>a.ZP.reduce(e,((e,t)=>{const n=e;return n[t]=!0,n}),{}),formatEstimate:function(e){let t=",.0d";return 0!==o.$W2(e,1)&&(t=",.1f"),0!==o.$W2(10*e,1)&&(t=",.2f"),(0,d.WU)(t)(e)},hasOrIsInClass(e,t){let n=!1;return(e.hasClass(t)||e.parents(`.${t}`).length)&&(n=!0),n},groupBy:o.WAo(((e,t)=>o.u4g(((t,n)=>{const s=e(n);return o.kKJ(t[s])&&(t[s]=[]),t[s].push(n),t}),{},t))),indexBy:o.WAo(((e,t)=>o.u4g(((t,n)=>(t[e(n)]=n,t)),{},t))),groupObjPropsBy:o.WAo(((e,t)=>o.u4g(((n,s)=>{const r=t[s],i=e(s,r);return o.kKJ(n[i])&&(n[i]={}),n[i][s]=r,n}),{},o.XPQ(t)))),renameProp:o.WAo(((e,t,n)=>{const s=n[e];return o.zGw(o.anz(e),o.yGi(t,s))(n)})),getScrollbarWidth(){function e(e){return e.offsetWidth}return function(e,t,n){const s=e||0;return Math.min(n,Math.max(t,s))}(function(t,n){const s=function(t){return document.body.appendChild(t),e(t)}(t),r=function(t,n){return t.style.overflow="scroll",t.appendChild(n),e(n)}(t,n);return t.parentNode.removeChild(t),s-r}(function(){const e=document.createElement("div");return e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",e}(),function(){const e=document.createElement("div");return e.style.width="100%",e}()),0,50)},repoNameFromIssueUrl(e){const t=e.match(/\/([^/]+)\/(?:pull|issues)\/(?:\d+)/);return t&&t.length&&t.length>=1?t[1]:""},organizationFromIssueUrl(e){const t=e.match(/\/([^/]+)\/[^/]+\/(?:pull|issues)\/(?:\d+)/);return t&&t.length&&t.length>=1?t[1]:""},issueNumberFromIssueUrl:e=>function(e){const t=e.match(/\/(?:pulls|issues)\/(\d+)$/);return t&&t.length&&t.length>1?parseInt(t[1],10):null}(e),commentNumberFromCommentUrl:e=>function(e){const t=e.match(/\/(?:pulls|issues)\/comments\/(\d+)$/);return t&&t.length&&t.length>1?parseInt(t[1],10):null}(e),formatNumber(e,t){return n=e,s=t||",",(0,d.WU)(s)(n);var n,s},isSameUnionType:o.WAo(((e,t)=>e===t.of[t.name])),parseQueryString:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return s.parse(e,t)},parseNestedQueryString:function(e){if(o.kKJ(e)||!o.is(String,e))return{};const t=0===e.indexOf("?")?o.Vl2("&",e.substring(1)):o.Vl2("&",e),n=o.u4g(((e,t)=>{const n=o.Vl2("?",t);return o.u4g(((e,t)=>o.R3I(t,e)),e,n)}),[],t);return o.u4g(((e,t)=>{const n=function(e){const t=e.split("="),n=o.hL$(0,t),s=o.h$H(t.length-1,t).join("=");return s&&n?{paramName:n,val:s}:null}(t);return n&&!c().isUri(n.val)&&(e[n.paramName]=n.val),e}),{},n)},stringifyQueryParams:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return s.stringify(e,t)},updateQueryString:(e,t,n)=>{if(!t||!n)return e;const s=new URL(e);return s.searchParams.set(t,n),s.toString()},isEpicInStorageValid:function(e,t){if(!t)return!1;const{epic:n,timestamp:s,title:r}=t;return!o.YjB(o.kKJ,[r,n,s])&&(r===e.issueTitle&&Date.now()-s<=6e4)},mathRoundToDecimal:e=>Math.round(100*e)/100,setTimeoutP(e){let t,n;const s=new(i())(((s,r)=>{t=setTimeout(s,e),n=r}));return s.cancel=()=>{clearTimeout(t),n(Error("Timeout cancelled"))},s},indexArray:e=>o.u4g(((e,t)=>o.yGi(t,!0,e)),{},e),findMissingValues(e,t,n){const s=h.indexArray(t);return o.u4g(((e,t)=>{const r=Boolean(s[t]);return!r&&!n||r&&n?o.R3I(t,e):e}),[],e)},addCommasBetweenStrings:e=>e.length>1?`${o.v_p(", ",o.S1n(e))} and ${o.Z$Q(e)}`:e[0],shallowEqualObjects:(e,t)=>{if(e===t)return!0;if(o.kKJ(e)||o.kKJ(t))return!1;const n=Object.keys(e),s=Object.keys(t),r=n.length;if(s.length!==r)return!1;let i;for(i=0;i<r;i+=1){const s=n[i];if(e[s]!==t[s])return!1}return!0},isValidEmail:e=>e&&p.test(e)},E=h},73127:(e,t,n)=>{"use strict";n.d(t,{DS:()=>w,E4:()=>b,Jp:()=>g,LX:()=>A,Lk:()=>h,OR:()=>v,Q4:()=>m,Q7:()=>E,T9:()=>O,VO:()=>d,Xy:()=>I,bl:()=>f,dj:()=>y,dy:()=>p,fb:()=>C,gq:()=>N,i_:()=>u,kR:()=>l,nT:()=>T,q:()=>D,rv:()=>P,ui:()=>c});var s=n(63535),r=n(9903),i=n(17084),o=n(64640),a=n(9694);const l=100,c=144,d=e=>1===e.repos.length,u=(e,t)=>{const n=s.jge("repo_id",e.repos);return s.r3W(t,n)},p=e=>{const t=d(e),n=s.kKJ(e.name);return t&&n},m=e=>e?s.kKJ(e.name)&&!p(e)?null:e.name||s.ETc(["repos",0,"repository"],e):null,h=(e,t)=>e&&t&&s.sEJ(s.OH4("repo_id",t),e.repos)||null,E=(e,t,n)=>e.repos.find((e=>e.organization.toLowerCase()===t.toLowerCase()&&e.repository.toLowerCase()===n.toLowerCase())),g=(e,t)=>h(e,t),f=e=>e&&e.defaultRepoId&&s.sEJ(s.OH4("repo_id",e.defaultRepoId),e.repos)||null,_=/\w+$/i,v=e=>{if(s.kKJ(e))return null;const t=e.match(_);return t&&t[0]?t[0]:null},I=e=>{const t=e._id||e.id;let n=null;if(e.name?n=s.vgT("name",e):e.repos&&1===e.repos.length&&(n=e.repos[0].repository),s.kKJ(n))return t;return`${n.replace(/[\s_]/g,"-").replace(/[^a-zA-Z0-9-]/g,"")}-${t}`},b=e=>{if(!e)return"";const t=e.slice(1).split("&").filter((e=>!e.startsWith("repos=")));return t.length?`?${t.join("&")}`:""},y=e=>{if(e.startsWith("?project=")){if(!e.includes("&"))return"";return`?${e.split("&")[1]}`}return e.includes("&project=")?e.replace(/&project=.{30}/,""):e},S={id:"_id",name:"name",isPrivate:"isPrivate",createdAt:"createdAt",description:"description",displayName:"displayName",flags:"flags",importState:"importState",isDeletable:"isDeletable",isEditable:"isEditable",isFavorite:"favorite",pipelines:"pipelines",priorities:"priorities",zenhubOwner:"zenhubOwner",zenhubOrganization:"zenhubOrganization",repositories:(e,t)=>{s.kKJ(t.repositories)||(e.repos=t.repositories.map(a.DS))},defaultRepository:(e,t)=>{s.kKJ(t.defaultRepository)||(e.defaultRepoId=t.defaultRepository.ghId)}},w=e=>{const t={};return Object.keys(S).forEach((n=>{const r=S[n];"function"==typeof r?r(t,e):s.kKJ(e[n])||(t[r]=e[n])})),t},R=/^[0-9a-f]{24}$/i,T=e=>Boolean(e.match(R)),C=e=>"USABLE"===e.importState||"COMPLETED"===e.importState;function k(e,t){let n=0;return t.forEach((t=>{n+=e(t)})),n}const O=(e,t)=>{if(s.YjB((e=>{const n=t(e);return s.kKJ(n)||s.kKJ(n.totalPages)}),e))return 0;const n=k((e=>t(e).completedPages),e),r=k((e=>t(e).totalPages),e);return r<1?100:Math.round(n/r*100)},N=e=>{const t={workspaceName:e};o.Z.createToast(i.Z.DELETE_WORKSPACE,t)},P=e=>{const t={...r.Z,showWarning:!0,text:e||"Something went wrong. Please check your permissions"};o.Z.createToastIfUniqueByType(i.Z.ERROR_PERMISSIONS,t)},A="zh-workspace",D="zh-app__workspace"},52615:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<span id="zh-env-tag" class="zh-env-tag-'+(null==(__t=env)?"":__t)+'">\n  ZH '+(null==(__t=env)?"":__t)+"@"+(null==(__t=version)?"":__t)+"\n</span>\n";return __p}},3028:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="You\u2019re trying to access a ZenHub feature. Click OK to visit to "+(null==(__t=organization)?"":__t)+"\u2019s Dashboard to unlock ZenHub. Or, get help by contacting support@zenhub.com.\n";return __p}},28772:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<div class="zh-pr-workspace-settings">\n  <h5>Team-wide Workspace Setting</h5>\n\n  <div\n    class="\n      zh-pr-default-pipeline zh-select-menu\n      js-menu-container js-select-menu\n      ',isActive&&(__p+="active"),__p+='\n    "\n  >\n    <button\n      class="zhc-btn zhc-btn--secondary-bordered dropdown-button"\n      data-action="zh-default-pipeline-toggle"\n    >\n      <span class="zh-pr-default-pipeline__btn-title">Default Pipeline:&nbsp;</span>\n      <span class="zh-pr-default-pipeline__btn-name">'+(null==(__t=defaultPipeline?.name)?"":__t)+'</span>\n      <span\n        class="zh-pr-default-pipeline__btn-icon zh-icon-chevron-down-grey-darker"\n      ></span>\n    </button>\n\n    <div\n      class="zh-pr-default-pipeline__modal zh-select-menu-modal-holder js-menu-content"\n    >\n      <div class="zh-select-menu-modal">\n        \x3c!-- Modal Header --\x3e\n        <div class="zh-select-menu-header">\n          <span class="zh-select-menu-title">Set Default Pipeline</span>\n          <span class="zh-powered-by-zenhub"></span>\n          <span\n            class="js-menu-close zh-select-menu-icon zh-sidebar-menu-close"\n            data-action="zh-close-select-pipeline"\n            aria-label="Close"\n          >\n            '+(null==(__t=__webpack_require__(70375)({className:"zh-assignee-selected"}))?"":__t)+'\n          </span>\n        </div>\n\n        \x3c!-- Search Input --\x3e\n        <div class="select-menu-filters">\n          <div class="select-menu-text-filter">\n            <input\n              type="text"\n              id="zh-pr-defaultpipeline-filter"\n              placeholder="Filter pipelines"\n              class="\n                js-filterable-field js-navigation-enable\n                zh-js-repo-filter\n                form-control\n              "\n            />\n          </div>\n        </div>\n        <div class="zh-pr-default-pipeline__text">\n          All new pull requests from repositories within this workspace will be moved to\n          the selected pipeline. This will be the default pipeline for all new pull\n          requests in this workspace.\n        </div>\n\n        <div\n          class="zh-select-menu-list"\n          data-filterable-for="zh-pr-defaultpipeline-filter"\n          data-filterable-type="substring"\n        >\n          ';for(var i=0;i<pipelines.length;i++)__p+='\n          <div\n            class="\n              zh-select-menu-item\n              js-navigation-item js-navigation-open\n              ',pipelines[i].selected&&(__p+="selected\n              "),__p+='\n            "\n            data-id="'+(null==(__t=pipelines[i]._id)?"":__t)+'"\n            data-action="zh-select-pipeline"\n          >\n            <span class="zh-select-menu-item-icon">\n              '+(null==(__t=__webpack_require__(4539)())?"":__t)+'\n            </span>\n            <span class="zh-select-menu-item-heading js-select-button-text"\n              >'+(null==(__t=pipelines[i].name)?"":__t)+"</span\n            >\n          </div>\n          ";__p+="\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"}return __p}},89632:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<span class="zh-repo-switcher-tooltip-wrapper">\n  <span class="zh-repo-switcher-btn btn btn-sm ',isEnabled||(__p+=" disabled "),__p+='">\n    <span class="zh-octicon">\n      <span class="zh-octicon-hamburger-menu"></span>\n    </span>\n  </span>\n\n  <span class="zh-repo-switcher-tooltip">\n    <div class="zhc-tooltip zhc-tooltip--bottom">\n      <div class="zhc-tooltip__content zhc-tooltip__content">\n        <span class="zhc-tooltip__text">\n          Select a Repo\n          <span class="zhc-shortcut-indicators">\n            <span class="zhc-shortcut-indicator">shift</span>\n            +\n            <span class="zhc-shortcut-indicator">z</span>\n          </span>\n        </span>\n      </div>\n    </div>\n  </span>\n</span>\n\n<div class="zh-repo-switcher-modal zh-select-menu-modal-holder js-menu-content">\n  <div class="zh-select-menu-modal">\n    \x3c!-- Modal Header --\x3e\n    <div class="zh-select-menu-header">\n      <span class="zh-select-menu-title">Switch repository</span>\n      <span class="zh-powered-by-zenhub"></span>\n      <span\n        class="\n          js-menu-close\n          zh-select-menu-icon zh-sidebar-menu-close zh-repo-switcher-close\n        "\n        aria-label="Close"\n      >\n        '+(null==(__t=__webpack_require__(1334)())?"":__t)+'\n      </span>\n    </div>\n\n    \x3c!-- Search Input --\x3e\n    <div class="zh-select-menu-filters select-menu-filters">\n      <div class="zh-select-menu-text-filter">\n        <input\n          type="text"\n          id="zh-repo-switcher-filter"\n          class="form-control js-filterable-field js-navigation-enable"\n          placeholder="Filter repository"\n        />\n      </div>\n    </div>\n\n    \x3c!-- Repository List --\x3e\n    ',repositories.length?(__p+='\n    <div\n      class="select-menu-list js-navigation-container"\n      data-filterable-for="zh-repo-switcher-filter"\n      data-filterable-type="substring"\n    >\n      ',_.each(repositories,(function(e){__p+='\n      <a class="zh-select-menu-item js-navigation-item" href="'+__e(e.html_url)+'">\n        <span class="zh-select-menu-item-heading">'+__e(e.name)+"</span>\n      </a>\n      "})),__p+="\n    </div>\n    "):__p+='\n    <div class="zh-repo-switcher-loading">Loading your repositories...</div>\n    ',__p+="\n  </div>\n</div>\n";return __p}},98312:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)_.each(links,(function(e){__p+='\n<a\n  zh-id="'+__e(e.page)+'"\n  href="#'+__e(e.page)+'"\n  class="zh-sidebar-item zh-navbar-link zh-topbar-item"\n>\n  <span class="zh-topbar-icon '+__e(e.cssClass)+'">\n    <svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path\n        fill="currentColor"\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M11.4285 9.46791L11.4301 13.3908H15.2276V2.20137H11.4297V5.87225H9.80818V2.20137H6.02576V3.33333L7.15772 3.33333H8.67622V7.00421H12.5616V3.33333H14.0957V12.2588H12.5616L12.5599 8.33594H8.67622V10.9283H8.69613V12.2588L8.67622 12.2588H7.15772L6.02576 12.2588V13.3908H9.80818V9.46791H11.4285ZM7.15772 10.9283V6.61L6.02576 8.14805V10.9283H7.15772ZM6.02576 5.46877L6.61945 4.6638H6.02576V5.46877Z"\n      />\n      <path\n        fill="currentColor"\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M0.868042 13.3908V10.5548L4.37801 5.79577H0.868042V2.20137H9.73005V5.02451L6.2181 9.79635H9.82806V13.3908H0.868042ZM3.97952 10.9283L8.59809 4.65286V3.33333H2.00001V4.6638H6.61942L2.00001 10.9271V12.2588H8.6961V10.9283H3.97952Z"\n      />\n    </svg>\n  </span>\n  '+__e(e.title)+"\n</a>\n"})),__p+="\n";return __p}},41740:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(68602)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  ',!0===evt.automated?__p+=" Automatically ":__p+=" \n  "+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" \n  ",__p+="\n  \n  ","issue.add_to_sprint"===evt.type?__p+=" added this to ":__p+=" removed this from ",__p+="\n  <strong>"+(null==(__t=evt.sprint_name)?"":__t)+"</strong> \n\n",!0===evt.automated&&(__p+="</span>based on Sprint automation</span> "),__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},82265:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(49237)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' added this to the Release\n  <span class="zh-release color-text-primary text-bold"\n    >'+(null==(__t=evt.release_meta.title)?"":__t)+'</span\n  >\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},20767:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(47906)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" connected this ","issue"===evt.meta.type?__p+=" issue ":__p+=" pull request ",__p+=" to "+__e(evt.other_issue_type)+'\n  <a class="link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.organization)+"/"+__e(evt.other_issue.repo)+"#"+__e(evt.other_issue.issue_number)+'</a\n  >\n  <span class="zh-issue">'+__e(evt.other_issue.title)+"</span>\n\n  ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+="\n</div>\n";return __p}},32367:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){var isToEpic="convertIssueToEpic"===evt.type,badgeContainerClass=isToEpic?"TimelineItem-badge":"TimelineItem-badge zh-TimelineBadge--closed",icon=isToEpic?__webpack_require__(64796)():__webpack_require__(26072)();__p+='\n\n<div class="'+(null==(__t=badgeContainerClass)?"":__t)+'" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">'+(null==(__t=icon)?"":__t)+'</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" ","convertIssueToEpic"===evt.type?__p+=" converted this to an epic ":__p+=" converted this to an\n  issue ",__p+=" ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+="\n</div>\n"}return __p}},83574:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(47906)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" disconnected this ","issue"===evt.meta.type?__p+=" issue ":__p+=" pull request ",__p+=" from "+__e(evt.other_issue_type)+'\n  <a class="link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.organization)+"/"+__e(evt.other_issue.repo)+"#"+__e(evt.other_issue.issue_number)+'</a\n  >\n  <span class="zh-issue">'+__e(evt.other_issue.title)+"</span>\n\n  ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+="\n</div>\n";return __p}},42441:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t="addIssueToEpic"===evt.type?__webpack_require__(33634)():__webpack_require__(26072)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" "+(null==(__t="addIssueToEpic"===evt.type?"added":"removed")?"":__t)+'\n  <a class="link-gray-dark text-bold" href="'+(null==(__t=evt.other_issue.html_url)?"":__t)+'"\n    >'+__e(evt.other_issue.organization)+"/"+__e(evt.other_issue.repo)+"#"+(null==(__t=evt.other_issue.issue_number)?"":__t)+'</a\n  >\n  <span class="zh-issue">'+__e(evt.other_issue.title)+"</span>\n  "+(null==(__t="addIssueToEpic"===evt.type?"to":"from")?"":__t)+" this epic ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+="\n</div>\n";return __p}},49262:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t="addIssueToEpic"===evt.type?__webpack_require__(33634)():__webpack_require__(26072)())?"":__t)+'\n</div>\n<div class="TimelineItem-body zh-TimelineItem-body--no-wrap">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" "+(null==(__t="addIssueToEpic"===evt.type?"added":"removed")?"":__t)+" "+(null==(__t=evt.events.length)?"":__t)+" issues "+(null==(__t="addIssueToEpic"===evt.type?"to":"from")?"":__t)+" this Epic ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp link-gray"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+='\n  <span class="zh-issue-event-toggle" data-action="toggle-list">\n    <span class="zh-issue-event-toggle-icon"\n      >'+(null==(__t=__webpack_require__(65869)())?"":__t)+'</span\n    >\n    <span class="zh-issue-event-toggle-text">Show issues</span>\n  </span>\n\n  <ul class="zh-issue-event-items">\n    ';for(var i=0;i<evt.events.length;i++)__p+='\n    <li class="zh-issue-event-item">\n      <div class="zh-issue-event-item-icon">\n        '+(null==(__t="addIssueToEpic"===evt.type?__webpack_require__(90817)():__webpack_require__(79688)())?"":__t)+'\n      </div>\n      <a class="link-gray-dark text-bold" href="'+(null==(__t=evt.events[i].other_issue.html_url)?"":__t)+'"\n        >'+__e(evt.events[i].other_issue.organization)+"/"+__e(evt.events[i].other_issue.repo)+"#"+(null==(__t=evt.events[i].other_issue.issue_number)?"":__t)+'</a\n      >\n      <span class="zh-issue">'+__e(evt.events[i].other_issue.title)+"</span>\n    </li>\n    ";__p+="\n  </ul>\n</div>\n"}return __p}},29183:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(68938)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" ",_.isNumber(evt.newEstimate)?(__p+="\n  ",_.isNumber(evt.oldEstimate)?__p+=' changed the estimate from\n  <span class="zh-estimate-was">'+(null==(__t=evt.oldEstimate)?"":__t)+'</span>\n  to\n  <span class="zh-estimate-is">'+(null==(__t=evt.newEstimate)?"":__t)+"</span>\n  ":(__p+=' set the estimate to\n  <span class="zh-estimate-is">'+(null==(__t=evt.newEstimate)?"":__t)+"</span> ",evt.automated&&(__p+="\n  via planning poker "),__p+=" "),__p+=" "):__p+=' removed the estimate of\n  <span class="zh-estimate-was">'+(null==(__t=evt.oldEstimate)?"":__t)+"</span>\n  ",__p+=" ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+="\n</div>\n";return __p}},18606:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t="addIssueToEpic"===evt.type?__webpack_require__(33634)():__webpack_require__(26072)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" "+(null==(__t="addEpicToIssue"===evt.type?"added":"removed")?"":__t)+" this "+(null==(__t="addEpicToIssue"===evt.type?"to":"from")?"":__t)+" "+(null==(__t=__webpack_require__(64796)())?"":__t)+'\n  <a class="link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.organization)+"/"+__e(evt.other_issue.repo)+"#"+__e(evt.other_issue.issue_number)+'</a\n  >\n  <span class="zh-issue">'+__e(evt.other_issue.title)+"</span>\n  ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+__e(evt.createdAt.toISOString())+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp"\n    datetime="'+__e(evt.createdAt.toISOString())+'"\n  ></relative-time>\n  ',__p+="\n</div>\n";return __p}},90736:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)evt.automated?(__p+='\n<div class="TimelineItem-badge TimelineItem-badge--automated" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(45782)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  Automatically changed the pipeline from\n  <span class="zh-pipeline-was">'+(null==(__t=evt.srcPipelineName)?"":__t)+'</span>\n  to\n  <span class="zh-pipeline-is">'+(null==(__t=evt.destPipelineName)?"":__t)+"</span>\n  ",evt.other_issue_type&&(__p+=" via a "+__e(evt.other_issue_type)+'\n  <a class="link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.organization)+"/"+__e(evt.other_issue.repo)+"#"+__e(evt.other_issue.issue_number)+"</a\n  >\n  "),__p+='\n  <span\n    >in <span class="zh-issue-event-workspace-name">'+__e(evt.workspaceName)+'</span></span\n  >\n  <span> based on </span>\n  <a class="zhu-font-bold zhu-color-brand" href="'+__e(evt.workflowsPath)+'"> Workflows </a>\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n'):(__p+='\n<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(73078)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' changed the pipeline from\n  <span class="zh-pipeline-was">'+(null==(__t=evt.srcPipelineName)?"":__t)+'</span>\n  to\n  <span class="zh-pipeline-is">'+(null==(__t=evt.destPipelineName)?"":__t)+"</span>\n  ",evt.other_issue_type&&(__p+=" via a "+__e(evt.other_issue_type)+'\n  <a class="link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.organization)+"/"+__e(evt.other_issue.repo)+"#"+__e(evt.other_issue.issue_number)+"</a\n  >\n  "),__p+='\n  <span\n    >for <span class="zh-issue-event-workspace-name">'+__e(evt.workspaceName)+"</span></span\n  >\n\n  ",evt.id?__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n  ':__p+='\n  <relative-time\n    class="timestamp link-gray"\n    datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n  ></relative-time>\n  ',__p+="\n</div>\n"),__p+="\n";return __p}},49336:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(49237)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  <span class="discussion-item-icon zh-discussion-item-icon">\n    '+(null==(__t=__webpack_require__(49237)())?"":__t)+"\n  </span>\n\n  "+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' removed this from the Release\n  <span class="zh-release color-text-primary text-bold"\n    >'+(null==(__t=evt.release_meta.title)?"":__t)+'</span\n  >\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},17807:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(63415)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' set this issue as\n  <span class="zh-issue-event-dark zhu-font-bold">blocked</span> by\n  <a class="zh-issue link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.title)+'</a\n  >\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},86235:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(63415)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' set this issue as a\n  <span class="zh-issue-event-dark zhu-font-bold">blocker</span> for\n  <a class="zh-issue link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.title)+'</a\n  >\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},87668:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(63415)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' removed this issue as\n  <span class="zh-issue-event-dark zhu-font-bold">blocked</span> by\n  <a class="zh-issu link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.title)+'</a\n  >\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},89741:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=__webpack_require__(63415)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+' removed this issue as a\n  <span class="zh-issue-event-dark zhu-font-bold">blocker</span> for\n  <a class="zh-issue link-gray-dark text-bold" href="'+__e(evt.other_issue.html_url)+'"\n    >'+__e(evt.other_issue.title)+'</a\n  >\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n';return __p}},21192:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){var isRemoveEvent=null===evt.new_priority,workspaceName=evt.workspace.displayName,modifiedPriorityName=isRemoveEvent?evt.old_priority.name:evt.new_priority.name;__p+='\n\n<div class="TimelineItem-badge" id="zh-event-'+(null==(__t=evt.id)?"":__t)+'">\n  '+(null==(__t=isRemoveEvent?__webpack_require__(57421)():__webpack_require__(14531)())?"":__t)+'\n</div>\n<div class="TimelineItem-body">\n  '+(null==(__t=renderUsername(username,avatar,userId))?"":__t)+" ",__p+=isRemoveEvent?" removed\n  <strong>"+(null==(__t=modifiedPriorityName.toLowerCase())?"":__t)+"</strong> status from this Issue for\n  <strong>"+(null==(__t=workspaceName)?"":__t)+"</strong> ":" set this Issue as\n  <strong>"+(null==(__t=modifiedPriorityName.toLowerCase())?"":__t)+"</strong> for\n  <strong>"+(null==(__t=workspaceName)?"":__t)+"</strong>\n  ",__p+='\n  <a href="#zh-event-'+(null==(__t=evt.id)?"":__t)+'" class="link-gray">\n    <relative-time\n      class="timestamp"\n      datetime="'+(null==(__t=evt.createdAt.toISOString())?"":__t)+'"\n    ></relative-time>\n  </a>\n</div>\n'}return __p}},18337:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<img\n  href="/'+(null==(__t=username)?"":__t)+'"\n  alt="@'+(null==(__t=username)?"":__t)+'"\n  class="avatar avatar-user"\n  height="20"\n  src="'+(null==(__t=avatar)?"":__t)+'"\n  width="20"\n  data-hovercard-type="user"\n  data-hovercard-url="/hovercards?user_id='+(null==(__t=userId)?"":__t)+'"\n  data-octo-click="hovercard-link-click"\n  data-octo-dimensions="link_type:self"\n/>\n<a\n  href="/'+(null==(__t=username)?"":__t)+'"\n  class="author link-gray-dark text-bold"\n  data-hovercard-type="user"\n  data-hovercard-url="/hovercards?user_id='+(null==(__t=userId)?"":__t)+'"\n  data-octo-click="hovercard-link-click"\n  data-octo-dimensions="link_type:self"\n  >'+(null==(__t=username)?"":__t)+"</a\n>\n";return __p}},42942:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="avatar"></div>\n<span\n  class="author link-gray-dark text-bold"\n  data-hovercard-type="user"\n  data-hovercard-url="/hovercards?user_id='+(null==(__t=userId)?"":__t)+'"\n  data-octo-click="hovercard-link-click"\n  data-octo-dimensions="link_type:self"\n  >'+(null==(__t=username)?"":__t)+"</span\n>\n";return __p}},16213:(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+=(null==(__t=__webpack_require__(73078)())?"":__t)+""+(null==(__t=pipeline.name)?"":__t)+"\n";return __p}},73078:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="zhc-svg-icon zhc-svg-icon--board-small" aria-label="board-small" role="img"><path d="M8.875 2.624v10.812c0 .594-.356.594-.875.594s-.875 0-.875-.594V2.624c0-.594.356-.594.875-.594s.875 0 .875.594m-3.5 0v10.812c0 .594-.356.594-.875.594s-.875 0-.875-.594V2.624c0-.594.356-.594.875-.594s.875 0 .875.594m5.25 10.812V2.624c0-.594.356-.594.875-.594s.875 0 .875.594v10.812c0 .594-.356.594-.875.594s-.875 0-.875-.594" fill="currentColor"></path></svg>';return __p}},4539:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" class="zhc-svg-icon zhc-svg-icon--check" aria-label="check" role="img"><defs><path id="check_svg__a" d="M3.805 7.724a.667.667 0 10-.943.943L6 11.805c.26.26.682.26.943 0l6-6A.667.667 0 1012 4.862L6.471 10.39z"></path><mask id="check_svg__b" fill="currentColor"><use fill-rule="evenodd" xlink:href="#check_svg__a"></use></mask></defs><g fill="none" fill-rule="evenodd"><use fill="currentColor" xlink:href="#check_svg__a"></use><g fill="currentColor" mask="url(#check_svg__b)"><path d="M0 0h16v16H0z"></path></g></g></svg>';return __p}},1334:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="zhc-svg-icon zhc-svg-icon--close-small" aria-label="close-small" role="img"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M6.3 6.3c-.4.4-.4 1.05 0 1.45L10.55 12 6.3 16.25a1.025 1.025 0 101.45 1.45L12 13.45l4.25 4.25a1.025 1.025 0 101.45-1.45L13.45 12l4.25-4.25a1.025 1.025 0 00-1.45-1.45L12 10.55 7.75 6.3c-.4-.4-1.05-.4-1.45 0z"></path></svg>';return __p}},47906:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="zhc-svg-icon zhc-svg-icon--connected-pr" aria-label="connected-pr" role="img"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.223 1.112l-3.66 3.661a.382.382 0 000 .541l3.66 3.661a.382.382 0 00.653-.27V6.19h1.528a1.528 1.528 0 011.528 1.528v8.6a3.44 3.44 0 102.292 0v-8.6a3.82 3.82 0 00-3.82-3.82h-1.528V1.383a.382.382 0 00-.653-.27zm4.282 17.455a1.146 1.146 0 101.146 1.985 1.146 1.146 0 00-1.146-1.985zm-8.761 4.32l3.661-3.66a.382.382 0 000-.541l-3.661-3.661a.382.382 0 00-.652.27v2.515H7.564a1.528 1.528 0 01-1.528-1.528v-8.6a3.44 3.44 0 10-2.292 0v8.6a3.82 3.82 0 003.82 3.82h1.528v2.515a.382.382 0 00.652.27zM5.463 5.434a1.146 1.146 0 10-1.147-1.985 1.146 1.146 0 001.147 1.985z" fill="currentColor"></path></svg>';return __p}},64796:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="zhc-svg-icon zhc-svg-icon--epic" aria-label="epic" role="img"><path clip-rule="evenodd" d="M4.667.667h6.666a2 2 0 0 1 2 2v11.231a1.333 1.333 0 0 1-2.212 1.002L8 12.163 4.878 14.9a1.333 1.333 0 0 1-2.212-1.002V2.667a2 2 0 0 1 2-2zm0 1.333A.667.667 0 0 0 4 2.667v11.231l3.12-2.738a1.333 1.333 0 0 1 1.76 0L12 13.898V2.667A.667.667 0 0 0 11.333 2zM6 3.333h3.667v1.334H7.333v1h2V7h-2v1H10v1.333H6V4.667z" fill="currentColor" fill-rule="evenodd"></path></svg>';return __p}},33634:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="zhc-svg-icon zhc-svg-icon--epic-add" aria-label="epic-add" role="img"><path d="M18 12.06a1 1 0 1 1 2 0v8.667a2 2 0 0 1-3.351 1.474L12 17.94 7.351 22.2A2 2 0 0 1 4 20.727V4a3 3 0 0 1 3-3h5.023a1 1 0 1 1 0 2H7a1 1 0 0 0-1 1v16.727l4.649-4.261a2 2 0 0 1 2.702 0L18 20.726V12.06zM18 2c0-.736.448-1 1-1s1 .264 1 1v6c0 .736-.448 1-1 1s-1-.264-1-1V2z" fill="currentColor"></path><path d="M22 4c.736 0 1 .448 1 1s-.264 1-1 1h-6c-.736 0-1-.448-1-1s.264-1 1-1h6z" fill="currentColor"></path></svg>';return __p}},26072:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="zhc-svg-icon zhc-svg-icon--epic-remove" aria-label="epic-remove" role="img"><path d="M12.9 6.637l2.115-2.116.054-.054-.787-.786-2.169 2.17-2.118-2.117-.052-.053-.787.786 2.17 2.17-2.17 2.171.787.786 2.17-2.171 2.117 2.118.052.053.789-.786L12.9 6.637m-1.42 4.581v1.631l-3.249-1.885-.251-.144-.251.145L4.48 12.85V2.468c0-.267-.019-.25.3-.25h7.662c-.089-.654-.503-1-1.262-1h-6.4c-.856 0-1.3.416-1.3 1.25v12.117l.751-.436 3.749-2.176 3.749 2.176.751.436v-3.367h-1" fill="currentColor" fill-rule="evenodd"></path></svg>';return __p}},68938:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="zhc-svg-icon zhc-svg-icon--estimate" aria-label="estimate" role="img"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.988 3.144a.218.218 0 01.261-.156l5.569 1.616H8.59l.394-1.449.003-.01zm-2.15 1.46l.512-1.917A1.918 1.918 0 019.7 1.348l.007.002 10.076 2.925a1.918 1.918 0 011.343 2.35L17.5 21.644a1.917 1.917 0 01-.5.862v-.016a1.936 1.936 0 01-1.47.673H4.744c-1.045 0-1.922-.83-1.922-1.896V6.5c0-1.066.877-1.896 1.922-1.896h2.095zm10.617 9.982l2.029-8.407a.218.218 0 00-.155-.265l-.008-.002-2.364-.687c.308.334.498.78.498 1.275v8.086zM4.421 6.5c0-.146.125-.296.322-.296h10.79c.197 0 .322.15.322.296v14.766a.314.314 0 01-.324.298H4.743c-.197 0-.322-.15-.322-.296V6.5z" fill="currentColor"></path></svg>';return __p}},90817:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" class="zhc-svg-icon zhc-svg-icon--issue-added" aria-label="issue-added" role="img"><g fill="currentColor"><path d="M6 .5C2.97.5.5 2.967.5 6c0 3.03 2.467 5.5 5.5 5.5 3.03 0 5.5-2.468 5.5-5.5C11.5 2.97 9.032.5 6 .5m0 10c-2.481 0-4.5-2.02-4.5-4.5S3.52 1.5 6 1.5s4.5 2.02 4.5 4.5-2.02 4.5-4.5 4.5"></path><path d="M6.833 3.5H5.167v1.667H3.5v1.666h1.667V8.5h1.666V6.833H8.5V5.167H6.833z"></path></g></svg>';return __p}},79688:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" class="zhc-svg-icon zhc-svg-icon--issue-removed" aria-label="issue-removed" role="img"><g fill="currentColor"><path d="M6 .5C2.97.5.5 2.967.5 6c0 3.03 2.467 5.5 5.5 5.5 3.03 0 5.5-2.468 5.5-5.5C11.5 2.97 9.032.5 6 .5m0 10c-2.481 0-4.5-2.02-4.5-4.5S3.52 1.5 6 1.5s4.5 2.02 4.5 4.5-2.02 4.5-4.5 4.5"></path><path d="M3.679 4.857h4.643v2.285H3.679z"></path></g></svg>';return __p}},14531:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 15" class="zhc-svg-icon zhc-svg-icon--pin" aria-label="pin" role="img"><path d="M5.487 11.066L2.4 14.153c-.628.628-1.571-.314-.943-.943l3.087-3.087-2.357-2.357a.667.667 0 01.095-1.021C3.79 5.712 5.068 5.284 6.39 5.42l1.557-1.558c-.017-1.109.342-2.048 1.277-3.13A.667.667 0 0110.2.694l4.714 4.714a.667.667 0 01-.057.994c-1.257.997-2.07 1.34-3.125 1.274l-1.528 1.528c.224 1.465-.248 2.889-1.389 4.187a.667.667 0 01-.972.031l-2.357-2.357zm3.348-1.932a.667.667 0 01.177-.622l2.001-2.001a.667.667 0 01.56-.19c.664.09 1.119-.01 1.855-.513L9.794 2.174c-.432.646-.554 1.203-.501 1.901a.667.667 0 01-.194.522l-2 2a.667.667 0 01-.588.185c-.88-.156-1.741.028-2.792.63l4.534 4.535c.62-.917.805-1.852.582-2.813z" fill="currentColor"></path></svg>';return __p}},49237:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" class="zhc-svg-icon zhc-svg-icon--release" aria-label="release" role="img"><defs><path id="release_svg__a" d="M12.667 13.333A.667.667 0 0112 14H4a.667.667 0 01-.667-.667V2.667C3.333 2.299 3.632 2 4 2h4.667v2.667C8.667 5.403 9.263 6 10 6h2.667zM10 2.455l2.359 2.212H10zM9.514.667c.339 0 .665.128.912.36l3.153 2.956c.268.252.421.604.421.972v8.378a2 2 0 01-2 2H4a2 2 0 01-2-2V2.667a2 2 0 012-2zm1.153 10H5.333a.667.667 0 000 1.333h5.334a.667.667 0 000-1.333zm0-2.667H5.333a.667.667 0 000 1.333h5.334a.667.667 0 000-1.333zm-4-2.667H5.333a.667.667 0 000 1.334h1.334a.667.667 0 000-1.334z"></path></defs><g fill="none" fill-rule="evenodd"><use fill="currentColor" xlink:href="#release_svg__a"></use><path d="M0 0h16v16H0z"></path></g></svg>';return __p}},68602:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="zhc-svg-icon zhc-svg-icon--sprints" aria-label="sprints" role="img"><path clip-rule="evenodd" d="m2.66794 10.0022h4.57815l-.573 4.584c-.08257.6606.7475 1.0209 1.17367.5095l6.00004-8c.3618-.43422.053-1.09346-.5122-1.09346h-4.57814l.573-4.58398c.08257-.660553-.7475-1.020878-1.17367-.509476l-6 7.999996c-.36185.43422-.05307 1.09342.51215 1.09342zm5.33333-1.33329h-3.90997l3.63308-5.1597-.38463 3.07701c-.04974.3979.26052.74935.66152.74935h3.90993l-3.63304 5.15973.38463-3.07704c.04974-.3979-.26052-.74935-.66152-.74935z" fill="currentColor" fill-rule="evenodd"></path></svg>';return __p}},65869:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16" class="zhc-svg-icon zhc-svg-icon--unfold" aria-label="unfold" role="img"><path fill="currentColor" d="M11.5 8.5L14 11c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5zM6 7h2V4h2L7 1 4 4h2v3zm2 3H6v3H4l3 3 3-3H8v-3z"></path></svg>';return __p}},57421:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" class="zhc-svg-icon zhc-svg-icon--unpin" aria-label="unpin" role="img"><defs><path d="M5.46 5.767l.942.942-.46.461h-.553c-1.033 0-1.928.223-2.708.673l4.518 4.518c.613-.882.812-1.702.654-2.491l-.14-.7.575-.575.943.943-.07.07c.314 1.571-.315 3.143-1.886 4.714l-2.829-2.828-3.023 3.023a.667.667 0 01-.943-.942l3.024-3.024L.675 7.722C1.932 6.465 3.504 5.837 5.39 5.837l.07-.07zm.707-.708l.636-.636c0-1.257.629-2.515 1.886-3.772l5.657 5.657c-1.257 1.257-2.514 1.886-3.771 1.886l-.637.637-.943-.943 1.027-1.027h.553c.568 0 1.168-.203 1.804-.634L8.77 2.618c-.43.636-.633 1.236-.633 1.805v.552L7.109 6.002l-.942-.943z" id="unpin_svg__a"></path></defs><g fill="none" fill-rule="evenodd"><g transform="translate(1)"><mask id="unpin_svg__b" fill="currentColor"><use xlink:href="#unpin_svg__a"></use></mask><use fill="currentColor" fill-rule="nonzero" xlink:href="#unpin_svg__a"></use><g mask="url(#unpin_svg__b)" fill="currentColor"><path d="M-1 0h16v16H-1z"></path></g></g><path fill="currentColor" fill-rule="nonzero" d="M14 14.707L2.293 3 3 2.293 14.707 14z"></path></g></svg>';return __p}},63415:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" class="zhc-svg-icon zhc-svg-icon--warning" aria-label="warning" role="img"><path d="M6.019 1.602c.541-.96 1.42-.96 1.961 0l4.884 8.66c.542.96.083 1.738-1.01 1.738h-9.71c-1.099 0-1.551-.778-1.01-1.739L6.02 1.602zM6.2 3.504V8.36h1.597V3.504H6.201zm0 5.517v1.765h1.597V9.021H6.201z" fill="currentColor" fill-rule="evenodd"></path></svg>';return __p}},45782:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="zhc-svg-icon zhc-svg-icon--workflows" aria-label="workflows" role="img"><path d="M13.333 3.333A2 2 0 1111.447 6H8v2a2 2 0 001.85 1.995L10 10h1.447a2 2 0 110 1.335L10 11.333A3.333 3.333 0 016.667 8V6H4.553a2.001 2.001 0 01-1.737 1.328l-.15.005a2 2 0 111.887-2.667h6.894a2 2 0 011.886-1.333zm0 6.667a.667.667 0 100 1.333.667.667 0 000-1.333zM2.667 4.667a.667.667 0 100 1.333.667.667 0 000-1.333zm10.666 0a.667.667 0 100 1.333.667.667 0 000-1.333z" fill="currentColor" fill-rule="evenodd"></path></svg>';return __p}},70375:module=>{module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="zhc-svg-icon zhc-svg-icon--x" aria-label="x" role="img"><g transform="translate(1 1)" fill="none" fill-rule="evenodd"><rect width="14" height="14" rx="2"></rect><path d="M3.5 3.5l7.28 7.28M10.5 3.5l-7.28 7.28" stroke="currentColor" stroke-width="1.4" stroke-linecap="square"></path></g></svg>';return __p}},12197:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"currentWorkspaceIssueData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"htmlUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"estimate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ghId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issueEstimateProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"childIssues"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentEpics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pipelineIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestTransferTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:807}};t.loc.source={body:"fragment currentWorkspaceIssueData on Issue {\n  id\n  number\n  title\n  state\n  pullRequest\n  htmlUrl\n  user {\n    id\n    login\n  }\n  assignees {\n    nodes {\n      id\n      login\n      avatarUrl\n    }\n  }\n  estimate {\n    value\n  }\n  labels {\n    nodes {\n      id\n      color\n      name\n    }\n  }\n  milestone {\n    id\n    title\n  }\n  repository {\n    id\n    ghId\n    name\n    owner {\n      id\n      login\n      avatarUrl\n    }\n  }\n  epic {\n    id\n    issueEstimateProgress {\n      total\n    }\n    childIssues {\n      totalCount\n    }\n  }\n  closedAt\n  parentEpics {\n    nodes {\n      issue {\n        id\n        title\n      }\n    }\n  }\n  pipelineIssue(workspaceId: $workspaceId) {\n    id\n    latestTransferTime\n    pipeline {\n      id\n      name\n    }\n    priority {\n      id\n      name\n      color\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var s=e.type;"NamedType"===s.kind&&t.add(s.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var s={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var s=e.definitions[n];if(s.name&&s.name.value==t)return s}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),s[e.name.value]=t}})),e.exports=t,e.exports.currentWorkspaceIssueData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,o=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(s[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var s=r(e,t);s&&n.definitions.push(s)})),n}(t,"currentWorkspaceIssueData")},28680:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"sprintConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SprintConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveUnfinishedIssues"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issuesFromPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pipelineId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStoryPoints"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"startDay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tzIdentifier"},arguments:[],directives:[]}]}}],loc:{start:0,end:216}};t.loc.source={body:"fragment sprintConfig on SprintConfig {\n  id\n  name\n  settings {\n    moveUnfinishedIssues\n    issuesFromPipeline {\n      enabled\n      pipelineId\n      totalStoryPoints\n    }\n  }\n  startDay\n  endDay\n  tzIdentifier\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var s=e.type;"NamedType"===s.kind&&t.add(s.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var s={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var s=e.definitions[n];if(s.name&&s.name.value==t)return s}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),s[e.name.value]=t}})),e.exports=t,e.exports.sprintConfig=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,o=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(s[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var s=r(e,t);s&&n.definitions.push(s)})),n}(t,"sprintConfig")},52165:(e,t,n)=>{var s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CurrentWorkspace"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Workspace"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ghId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"importState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFavorite"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"RepositoriesConnection"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ghId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPrivate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ghId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RepositoryPermissionInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isFavorite"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pipelines"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeClosed"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefaultPRPipeline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEpicPipeline"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priorities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"zenhubOwner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ZenhubOrganization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"zenhubOrganization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:947}};s.loc.source={body:'#import "./fragments/repositoriesConnectionFragment.gql"\n#import "./RepositoryPermissionInfoFragment.gql"\n#import "../domains/Sprints/gql/sprintConfig.gql"\n\n# Fragment gathering all fields expected for a workspace that\n# could be put in reducers/pages/currentWorkspace\n\nfragment CurrentWorkspace on Workspace {\n  id\n  createdAt\n  name\n  defaultRepository {\n    id\n    ghId\n  }\n  description\n  displayName\n  flags\n  importState\n  isEditable\n  isFavorite\n  ...RepositoriesConnection\n  repositories {\n    id\n    ghId\n    name\n    isPrivate\n    owner {\n      id\n      ghId\n      login\n      avatarUrl\n    }\n    permissions {\n      ...RepositoryPermissionInfo\n    }\n    isFavorite\n  }\n  pipelines(includeClosed: false) {\n    id\n    name\n    isDefaultPRPipeline\n    isEpicPipeline\n  }\n  priorities {\n    id\n    name\n    color\n  }\n  zenhubOwner {\n    ... on ZenhubOrganization {\n      id\n      name\n    }\n  }\n  zenhubOrganization {\n    id\n    name\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}s.definitions=s.definitions.concat(i(n(16375).definitions)),s.definitions=s.definitions.concat(i(n(32729).definitions)),s.definitions=s.definitions.concat(i(n(28680).definitions));var a={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var s=e.definitions[n];if(s.name&&s.name.value==t)return s}}s.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),a[e.name.value]=t}})),e.exports=s,e.exports.CurrentWorkspace=function(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=a[t]||new Set,r=new Set,i=new Set;for(s.forEach((function(e){i.add(e)}));i.size>0;){var o=i;i=new Set,o.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){i.add(e)})))}))}return r.forEach((function(t){var s=l(e,t);s&&n.definitions.push(s)})),n}(s,"CurrentWorkspace")},32729:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RepositoryPermissionInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RepositoryPermission"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pull"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"push"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"admin"},arguments:[],directives:[]}]}}],loc:{start:0,end:84}};t.loc.source={body:"fragment RepositoryPermissionInfo on RepositoryPermission {\n  pull\n  push\n  admin\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var s=e.type;"NamedType"===s.kind&&t.add(s.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var s={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var s=e.definitions[n];if(s.name&&s.name.value==t)return s}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),s[e.name.value]=t}})),e.exports=t,e.exports.RepositoryPermissionInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,o=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(s[e]||new Set).forEach((function(e){a.add(e)})))}))}return o.forEach((function(t){var s=r(e,t);s&&n.definitions.push(s)})),n}(t,"RepositoryPermissionInfo")},16375:(e,t,n)=>{var s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RepositoriesConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Workspace"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repositoriesConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ghId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ghId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RepositoryPermissionInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPrivate"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:381}};s.loc.source={body:'#import "../RepositoryPermissionInfoFragment.gql"\n\nfragment RepositoriesConnection on Workspace {\n  repositoriesConnection {\n    nodes {\n      ghId\n      id\n      name,\n      owner {\n        id\n        ghId\n        login\n        avatarUrl\n      }\n      issues {\n        totalCount\n      }\n      permissions {\n        ...RepositoryPermissionInfo\n      }\n      isPrivate\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}s.definitions=s.definitions.concat(n(32729).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var o={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var s=e.definitions[n];if(s.name&&s.name.value==t)return s}}s.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),o[e.name.value]=t}})),e.exports=s,e.exports.RepositoriesConnection=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=o[t]||new Set,r=new Set,i=new Set;for(s.forEach((function(e){i.add(e)}));i.size>0;){var l=i;i=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){i.add(e)})))}))}return r.forEach((function(t){var s=a(e,t);s&&n.definitions.push(s)})),n}(s,"RepositoriesConnection")},21466:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<a\n  href='/"+d(typeof(o=null!=(o=u(n,"milestoneOrganization")||(null!=t?u(t,"milestoneOrganization"):t))?o:l)===c?o.call(a,{name:"milestoneOrganization",hash:{},data:r,loc:{start:{line:2,column:9},end:{line:2,column:34}}}):o)+"/"+d(typeof(o=null!=(o=u(n,"milestoneRepo")||(null!=t?u(t,"milestoneRepo"):t))?o:l)===c?o.call(a,{name:"milestoneRepo",hash:{},data:r,loc:{start:{line:2,column:35},end:{line:2,column:52}}}):o)+"#board?milestones="+d(typeof(o=null!=(o=u(n,"encodedMilestoneKey")||(null!=t?u(t,"encodedMilestoneKey"):t))?o:l)===c?o.call(a,{name:"encodedMilestoneKey",hash:{},data:r,loc:{start:{line:2,column:70},end:{line:2,column:93}}}):o)+"'\n>\n  <span class='zh-milestone-link-icon'>"+(null!=(i=typeof(o=null!=(o=u(n,"icon")||(null!=t?u(t,"icon"):t))?o:l)===c?o.call(a,{name:"icon",hash:{},data:r,loc:{start:{line:4,column:39},end:{line:4,column:49}}}):o)?i:"")+"</span>\n  See this milestone on the board\n</a>"},useData:!0})},5547:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return'<span class="zh-repo-header-container">\n  <span id="zh-repo-header-container__repo-switcher"></span><span id="zh-repo-header-container__breadcrumbs"></span>\n</span>\n'},useData:!0})},28816:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return"<div class='zh-state zh-state-epic'>\n  <span class='zhc-icon--epic-line-white zhc-state-epic__badge'></span>\n  Epic\n</div>"},useData:!0})},16590:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({1:function(e,t,n,s,r){return"zh-estimate-badge-closed "},3:function(e,t,n,s,r){return" zh-estimate-badge "},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="'+(null!=(i=l(n,"if").call(a,null!=t?l(t,"isClosed"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r,loc:{start:{line:1,column:13},end:{line:1,column:88}}}))?i:"")+'">\n  '+e.escapeExpression("function"==typeof(o=null!=(o=l(n,"estimate")||(null!=t?l(t,"estimate"):t))?o:e.hooks.helperMissing)?o.call(a,{name:"estimate",hash:{},data:r,loc:{start:{line:2,column:2},end:{line:2,column:14}}}):o)+"\n</span>\n"},useData:!0})},56238:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({1:function(e,t,n,s,r){var i,o,a=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"@"+a(e.lambda(null!=(i=null!=t?u(t,"user"):t)?u(i,"login"):i,t))+" commented on ["+a(typeof(o=null!=(o=u(n,"formattedDate")||(null!=t?u(t,"formattedDate"):t))?o:c)===d?o.call(l,{name:"formattedDate",hash:{},data:r,loc:{start:{line:2,column:30},end:{line:2,column:47}}}):o)+"]("+a(typeof(o=null!=(o=u(n,"html_url")||(null!=t?u(t,"html_url"):t))?o:c)===d?o.call(l,{name:"html_url",hash:{},data:r,loc:{start:{line:2,column:49},end:{line:2,column:61}}}):o)+")\n\n"+(null!=(i=typeof(o=null!=(o=u(n,"body")||(null!=t?u(t,"body"):t))?o:c)===d?o.call(l,{name:"body",hash:{},data:r,loc:{start:{line:4,column:0},end:{line:4,column:10}}}):o)?i:"")+"\n"+(null!=(i=u(n,"if").call(l,r&&u(r,"last"),{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(4,r,0),data:r,loc:{start:{line:5,column:0},end:{line:11,column:7}}}))?i:"")},2:function(e,t,n,s,r){return"\n"},4:function(e,t,n,s,r){return"\n---\n\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"comments"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?i:""},useData:!0})},60599:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return"<div class='zh-move-issue-button-body'>\n  <button\n    id='zh-load-repos'\n    class='btn btn-sm'\n    data-action='zh-move-issue-selector'\n    type='submit'\n  >\n    <span class='octicon zh-octicon-package-grey'></span>\n    Move issue\n  </button>\n</div>\n\n<div class='zh-move-issue-overlay' data-action='zh-move-issue-click-overlay'></div>"},useData:!0})},64087:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Issue moved to ["+c(typeof(i=null!=(i=d(n,"organization")||(null!=t?d(t,"organization"):t))?i:a)===l?i.call(o,{name:"organization",hash:{},data:r,loc:{start:{line:1,column:16},end:{line:1,column:32}}}):i)+"/"+c(typeof(i=null!=(i=d(n,"repository")||(null!=t?d(t,"repository"):t))?i:a)===l?i.call(o,{name:"repository",hash:{},data:r,loc:{start:{line:1,column:33},end:{line:1,column:47}}}):i)+" #"+c(typeof(i=null!=(i=d(n,"number")||(null!=t?d(t,"number"):t))?i:a)===l?i.call(o,{name:"number",hash:{},data:r,loc:{start:{line:1,column:49},end:{line:1,column:59}}}):i)+"]("+c(typeof(i=null!=(i=d(n,"html_url")||(null!=t?d(t,"html_url"):t))?i:a)===l?i.call(o,{name:"html_url",hash:{},data:r,loc:{start:{line:1,column:61},end:{line:1,column:73}}}):i)+") via [**ZenHub**](https://www.zenhub.com/)\n"},useData:!0})},76416:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({1:function(e,t,n,s,r){return'        <span class="zh-select-menu-title zh-select-menu-title-big">Oops, there was an error</span>\n'},3:function(e,t,n,s,r){return'        <span class="zh-select-menu-title zh-select-menu-title-big">Move issue to another repository</span>\n'},5:function(e,t,n,s,r){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="error">'+e.escapeExpression("function"==typeof(i=null!=(i=o(n,"error")||(null!=t?o(t,"error"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"error",hash:{},data:r,loc:{start:{line:22,column:25},end:{line:22,column:34}}}):i)+'</p>\n    </div>\n    \x3c!-- If error, present footer --\x3e\n    <div class="zh-select-menu-footer">\n        <button class="btn btn-sm" data-action="zh-close-modal">\n          <span>Return to issue</span>\n        </button>\n    </div>\n'},7:function(e,t,n,s,r){var i,o=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="zh-issue-transition-selection-container">\n          <div class="zh-issue-transition-selection zh-issue-transition-left">\n            <span class="zh-icon-copy-package zh-icon"></span>\n            <div class="zh-repo-target">\n              <b>Copy</b> this issue to\n              <div class="markdown-body">\n                <code>'+c(typeof(i=null!=(i=d(n,"organization")||(null!=t?d(t,"organization"):t))?i:a)===l?i.call(o,{name:"organization",hash:{},data:r,loc:{start:{line:38,column:22},end:{line:38,column:38}}}):i)+" / "+c(typeof(i=null!=(i=d(n,"repository")||(null!=t?d(t,"repository"):t))?i:a)===l?i.call(o,{name:"repository",hash:{},data:r,loc:{start:{line:38,column:41},end:{line:38,column:55}}}):i)+'</code>\n              </div>\n            </div>\n            <button class="btn btn-sm"\n                    data-action="zh-copy-issue"\n                    data-organization="'+c(typeof(i=null!=(i=d(n,"organization")||(null!=t?d(t,"organization"):t))?i:a)===l?i.call(o,{name:"organization",hash:{},data:r,loc:{start:{line:43,column:39},end:{line:43,column:55}}}):i)+'"\n                    data-repo="'+c(typeof(i=null!=(i=d(n,"repository")||(null!=t?d(t,"repository"):t))?i:a)===l?i.call(o,{name:"repository",hash:{},data:r,loc:{start:{line:44,column:31},end:{line:44,column:45}}}):i)+'"\n                    data-repo-id="'+c(typeof(i=null!=(i=d(n,"repoId")||(null!=t?d(t,"repoId"):t))?i:a)===l?i.call(o,{name:"repoId",hash:{},data:r,loc:{start:{line:45,column:34},end:{line:45,column:44}}}):i)+'">\n              Copy this issue\n            </button>\n          </div>\n          <div class="zh-issue-transition-selection">\n            <span class="zh-icon-copy-close-package zh-icon"></span>\n            <div class="zh-repo-target">\n              <b>Copy</b> this issue to\n              <div class="markdown-body">\n                <code>'+c(typeof(i=null!=(i=d(n,"organization")||(null!=t?d(t,"organization"):t))?i:a)===l?i.call(o,{name:"organization",hash:{},data:r,loc:{start:{line:55,column:22},end:{line:55,column:38}}}):i)+" / "+c(typeof(i=null!=(i=d(n,"repository")||(null!=t?d(t,"repository"):t))?i:a)===l?i.call(o,{name:"repository",hash:{},data:r,loc:{start:{line:55,column:41},end:{line:55,column:55}}}):i)+'</code>\n              </div>\n              and <b>close</b> it on this repository\n            </div>\n            <button class="btn btn-sm"\n              data-action="zh-copy-issue-and-close"\n              data-organization="'+c(typeof(i=null!=(i=d(n,"organization")||(null!=t?d(t,"organization"):t))?i:a)===l?i.call(o,{name:"organization",hash:{},data:r,loc:{start:{line:61,column:33},end:{line:61,column:49}}}):i)+'"\n              data-repo="'+c(typeof(i=null!=(i=d(n,"repository")||(null!=t?d(t,"repository"):t))?i:a)===l?i.call(o,{name:"repository",hash:{},data:r,loc:{start:{line:62,column:25},end:{line:62,column:39}}}):i)+'"\n              data-repo-id="'+c(typeof(i=null!=(i=d(n,"repoId")||(null!=t?d(t,"repoId"):t))?i:a)===l?i.call(o,{name:"repoId",hash:{},data:r,loc:{start:{line:63,column:28},end:{line:63,column:38}}}):i)+'">\n              Copy and close this issue\n            </button>\n          </div>\n\n        </div>\n\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=null!=t?t:e.nullContext||{},a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="zh-select-menu-modal-body">\n  <div class="zh-select-menu-modal">\n\n    \x3c!-- Modal header --\x3e\n    <div class="zh-select-menu-header">\n'+(null!=(i=a(n,"if").call(o,null!=t?a(t,"error"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r,loc:{start:{line:6,column:6},end:{line:10,column:13}}}))?i:"")+'\n      \x3c!-- Close button --\x3e\n      <span class="zh-select-menu-icon zh-sidebar-menu-close" data-action="zh-menu-close" aria-label="Close">\n        <span class="zh-octicon-x zh-octicon-grey-light zh-octicon-highlight-hover"></span>\n      </span>\n    </div>\n\n\n    \x3c!-- Confirmation --\x3e\n    <div class="zh-issue-selector-message">\n'+(null!=(i=a(n,"if").call(o,null!=t?a(t,"error"):t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r,loc:{start:{line:21,column:6},end:{line:70,column:13}}}))?i:"")+"    </div>\n  </div>\n</div>\n"},useData:!0})},77089:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"We couldn't create a comment redirecting the old issue to the new one. Check if you have permissions to add comments on "+c(typeof(i=null!=(i=d(n,"orgname")||(null!=t?d(t,"orgname"):t))?i:a)===l?i.call(o,{name:"orgname",hash:{},data:r,loc:{start:{line:1,column:120},end:{line:1,column:131}}}):i)+"/"+c(typeof(i=null!=(i=d(n,"reponame")||(null!=t?d(t,"reponame"):t))?i:a)===l?i.call(o,{name:"reponame",hash:{},data:r,loc:{start:{line:1,column:132},end:{line:1,column:144}}}):i)+" and try again."},useData:!0})},27724:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"The issue couldn\u2019t be created on the target repository. Check if you have permissions to create issues on "+c(typeof(i=null!=(i=d(n,"orgname")||(null!=t?d(t,"orgname"):t))?i:a)===l?i.call(o,{name:"orgname",hash:{},data:r,loc:{start:{line:1,column:106},end:{line:1,column:117}}}):i)+"/"+c(typeof(i=null!=(i=d(n,"reponame")||(null!=t?d(t,"reponame"):t))?i:a)===l?i.call(o,{name:"reponame",hash:{},data:r,loc:{start:{line:1,column:118},end:{line:1,column:130}}}):i)+" and try again."},useData:!0})},62582:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({1:function(e,t,n,s,r){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"repositories"):t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:41,column:8},end:{line:52,column:17}}}))?i:""},2:function(e,t,n,s,r){var i,o,a=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"          <div\n            class='zh-select-menu-item js-navigation-item'\n            data-action='zh-select-repo'\n            data-organization='"+a(e.lambda(null!=(i=null!=t?u(t,"owner"):t)?u(i,"login"):i,t))+"'\n            data-repo='"+a(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:c)===d?o.call(l,{name:"name",hash:{},data:r,loc:{start:{line:46,column:23},end:{line:46,column:31}}}):o)+"'\n            data-repo-id='"+a(typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:c)===d?o.call(l,{name:"id",hash:{},data:r,loc:{start:{line:47,column:26},end:{line:47,column:32}}}):o)+"'\n          >\n            <span class='zh-select-menu-item-text'>"+a(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:c)===d?o.call(l,{name:"name",hash:{},data:r,loc:{start:{line:49,column:51},end:{line:49,column:59}}}):o)+"</span>\n            <span class='zh-select-menu-item-move-to-repo'>move to this repository</span>\n          </div>\n"},4:function(e,t,n,s,r){return"        <div class='zh-repo-selecter-loading'>\n          Loading your repositories...\n        </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div class='zh-select-menu-modal-body'>\n  <div class='zh-select-menu-modal' zh-move-issue-selector-modal>\n\n    \x3c!-- Modal header --\x3e\n    <div class='zh-select-menu-header'>\n      <span class='zh-select-menu-title zh-select-menu-title-big'>Move issue to another\n        repository</span>\n\n      \x3c!-- Close button --\x3e\n      <span\n        class='zh-select-menu-icon zh-sidebar-menu-close'\n        data-action='zh-menu-close'\n        aria-label='Close'\n      >\n        <span\n          class='zh-octicon-x zh-octicon-grey-light zh-octicon-highlight-hover'\n        ></span>\n      </span>\n    </div>\n\n    \x3c!-- Repository filter --\x3e\n    <div class='select-menu-filters'>\n      <div class='select-menu-text-filter'>\n        <input\n          type='text'\n          id='repository-filter-field'\n          class='js-filterable-field js-navigation-enable'\n          placeholder='Filter repositories'\n          autocomplete='off'\n        />\n      </div>\n    </div>\n\n    \x3c!-- Repository list --\x3e\n    <div\n      class='select-menu-list js-navigation-container js-active-navigation-container'\n      data-filterable-for='repository-filter-field'\n      data-filterable-type='substring'\n    >\n"+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"repositories"):t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(4,r,0),data:r,loc:{start:{line:40,column:6},end:{line:57,column:13}}}))?i:"")+"    </div>\n  </div>\n</div>"},useData:!0})},64327:(e,t,n)=>{var s=n(88655);e.exports=(s.default||s).template({1:function(e,t,n,s,r){var i,o=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    u"+c(typeof(i=null!=(i=d(n,"index")||r&&d(r,"index"))?i:a)===l?i.call(o,{name:"index",hash:{},data:r,loc:{start:{line:3,column:5},end:{line:3,column:15}}}):i)+': user(login: "'+c(typeof(i=null!=(i=d(n,"login")||(null!=t?d(t,"login"):t))?i:a)===l?i.call(o,{name:"login",hash:{},data:r,loc:{start:{line:3,column:30},end:{line:3,column:39}}}):i)+'") {\n      ...uF\n    }\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"{\n"+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"assignees"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:2,column:2},end:{line:6,column:11}}}))?i:"")+"}\n\nfragment uF on User {\n  login\n  name\n}\n"},useData:!0})},45545:()=>{},96553:()=>{},50471:()=>{},71632:()=>{}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,n,s)=>{if(!t){var r=1/0;for(l=0;l<deferred.length;l++){for(var[t,n,s]=deferred[l],i=!0,o=0;o<t.length;o++)(!1&s||r>=s)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[o])))?t.splice(o--,1):(i=!1,s<r&&(r=s));if(i){deferred.splice(l--,1);var a=n();void 0!==a&&(e=a)}}return e}s=s||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>s;l--)deferred[l]=deferred[l-1];deferred[l]=[t,n,s]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.e=()=>Promise.resolve(),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.j=179,__webpack_require__.p="",(()=>{var e={179:0};__webpack_require__.O.j=t=>0===e[t];var t=(t,n)=>{var s,r,[i,o,a]=n,l=0;if(i.some((t=>0!==e[t]))){for(s in o)__webpack_require__.o(o,s)&&(__webpack_require__.m[s]=o[s]);if(a)var c=a(__webpack_require__)}for(t&&t(n);l<i.length;l++)r=i[l],__webpack_require__.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return __webpack_require__.O(c)},n=globalThis.webpackChunkkraken_webapp=globalThis.webpackChunkkraken_webapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.O(void 0,[736],(()=>__webpack_require__(22272)));var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(5780)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();